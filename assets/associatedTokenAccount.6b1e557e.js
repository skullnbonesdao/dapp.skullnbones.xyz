import{d7 as C,dA as Et,dB as Kn,dC as Zn,dD as Yn,dE as It,dF as xt,dG as Ct,dH as vt,dI as Ot,d3 as le,dJ as Rt,dK as Nt,dL as D,dM as U,d6 as f,dN as S,dO as $,dP as fe,dQ as _e,dR as Z,dS as Bt,da as me,dT as pt,dp as gt,dU as yt,dV as Xn,dW as Jn,dX as Qn,dY as er,db as tr,dc as nr,d5 as q,P as M,dZ as ge,d_ as St,d$ as rr,e0 as or,d8 as Dt,df as ar}from"./index.3efe1a99.js";import{e as Mt,d as rt,f as ot,g as ke,u as ae,h as ir,i as sr,j as Pt,k as te,l as cr,m as ur}from"./errors.1718b3ce.js";const he=e=>{const t=C(e),{encode:n,decode:r}=Mt(t),o=t;return o.decode=(a,s)=>!!r(a,s),o.encode=(a,s,l)=>{const m=Number(a);return n(m,s,l)},o};class lr extends TypeError{constructor(t,n){let r;const{message:o,...a}=t,{path:s}=t,l=s.length===0?o:"At path: "+s.join(".")+" -- "+o;super(l),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>{var m;return(m=r)!=null?m:r=[t,...n()]}}}function dr(e){return ce(e)&&typeof e[Symbol.iterator]=="function"}function ce(e){return typeof e=="object"&&e!=null}function J(e){return typeof e=="string"?JSON.stringify(e):""+e}function fr(e){const{done:t,value:n}=e.next();return t?void 0:n}function mr(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:o,branch:a}=t,{type:s}=n,{refinement:l,message:m="Expected a value of type `"+s+"`"+(l?" with refinement `"+l+"`":"")+", but received: `"+J(r)+"`"}=e;return{value:r,type:s,refinement:l,key:o[o.length-1],path:o,branch:a,...e,message:m}}function*bt(e,t,n,r){dr(e)||(e=[e]);for(const o of e){const a=mr(o,t,n,r);a&&(yield a)}}function*at(e,t,n={}){const{path:r=[],branch:o=[e],coerce:a=!1,mask:s=!1}=n,l={path:r,branch:o};if(a&&(e=t.coercer(e,l),s&&t.type!=="type"&&ce(t.schema)&&ce(e)&&!Array.isArray(e)))for(const _ in e)t.schema[_]===void 0&&delete e[_];let m=!0;for(const _ of t.validator(e,l))m=!1,yield[_,void 0];for(let[_,O,Q]of t.entries(e,l)){const V=at(O,Q,{path:_===void 0?r:[...r,_],branch:_===void 0?o:[...o,O],coerce:a,mask:s});for(const K of V)K[0]?(m=!1,yield[K[0],void 0]):a&&(O=K[1],_===void 0?e=O:e instanceof Map?e.set(_,O):e instanceof Set?e.add(O):ce(e)&&(e[_]=O))}if(m)for(const _ of t.refiner(e,l))m=!1,yield[_,void 0];m&&(yield[void 0,e])}class oe{constructor(t){const{type:n,schema:r,validator:o,refiner:a,coercer:s=m=>m,entries:l=function*(){}}=t;this.type=n,this.schema=r,this.entries=l,this.coercer=s,o?this.validator=(m,_)=>{const O=o(m,_);return bt(O,_,this,m)}:this.validator=()=>[],a?this.refiner=(m,_)=>{const O=a(m,_);return bt(O,_,this,m)}:this.refiner=()=>[]}assert(t){return hr(t,this)}create(t){return Ce(t,this)}is(t){return Lt(t,this)}mask(t){return pr(t,this)}validate(t,n={}){return Oe(t,this,n)}}function hr(e,t){const n=Oe(e,t);if(n[0])throw n[0]}function Ce(e,t){const n=Oe(e,t,{coerce:!0});if(n[0])throw n[0];return n[1]}function pr(e,t){const n=Oe(e,t,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function Lt(e,t){return!Oe(e,t)[0]}function Oe(e,t,n={}){const r=at(e,t,n),o=fr(r);if(o[0])return[new lr(o[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0];{const a=o[1];return[void 0,a]}}function ye(e,t){return new oe({type:e,schema:null,validator:t})}function gr(){return ye("any",()=>!0)}function p(e){return new oe({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+J(t)}})}function ne(){return ye("boolean",e=>typeof e=="boolean")}function it(e){return ye("instance",t=>t instanceof e||"Expected a `"+e.name+"` instance, but received: "+J(t))}function R(e){const t=J(e),n=typeof e;return new oe({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||"Expected the literal `"+t+"`, but received: "+J(r)}})}function yr(){return ye("never",()=>!1)}function h(e){return new oe({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function i(){return ye("number",e=>typeof e=="number"&&!isNaN(e)||"Expected a number, but received: "+J(e))}function A(e){return new oe({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function Ft(e,t){return new oe({type:"record",schema:null,*entries(n){if(ce(n))for(const r in n){const o=n[r];yield[r,r,e],yield[r,o,t]}},validator(n){return ce(n)||"Expected an object, but received: "+J(n)}})}function d(){return ye("string",e=>typeof e=="string"||"Expected a string, but received: "+J(e))}function st(e){const t=yr();return new oe({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let o=0;o<r;o++)yield[o,n[o],e[o]||t]}},validator(n){return Array.isArray(n)||"Expected an array, but received: "+J(n)}})}function u(e){const t=Object.keys(e);return new oe({type:"type",schema:e,*entries(n){if(ce(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return ce(n)||"Expected an object, but received: "+J(n)}})}function W(e){const t=e.map(n=>n.type).join(" | ");return new oe({type:"union",schema:null,validator(n,r){const o=[];for(const a of e){const[...s]=at(n,a,r),[l]=s;if(l[0])for(const[m]of s)m&&o.push(m);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+J(n),...o]}})}function Re(){return ye("unknown",()=>!0)}function Ne(e,t,n){return new oe({...e,coercer:(r,o)=>Lt(r,t)?e.coercer(n(r,o),o):e.coercer(r,o)})}Et.v4;Et.v4;var Sr={};(function(e){var t=Rt.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(Kn),r=t(Zn.exports),o=t(Yn.exports),a=t(It.exports),s=t(xt.exports),l=t(Ct.exports),m=t(vt.exports),_=t(Ot.exports),O=Nt.exports;function Q(N){var L=V();return function(){var w=(0,_.default)(N),g;if(L){var x=(0,_.default)(this).constructor;g=Reflect.construct(w,arguments,x)}else g=w.apply(this,arguments);return(0,m.default)(this,g)}}function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var K=function(N,L){var B={};for(var w in N)Object.prototype.hasOwnProperty.call(N,w)&&L.indexOf(w)<0&&(B[w]=N[w]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,w=Object.getOwnPropertySymbols(N);g<w.length;g++)L.indexOf(w[g])<0&&Object.prototype.propertyIsEnumerable.call(N,w[g])&&(B[w[g]]=N[w[g]]);return B},se=function(N){(0,l.default)(B,N);var L=Q(B);function B(w){var g,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},k=arguments.length>3?arguments[3]:void 0;(0,a.default)(this,B);var b=y.autoconnect,T=b===void 0?!0:b,j=y.reconnect,de=j===void 0?!0:j,De=y.reconnect_interval,Me=De===void 0?1e3:De,ht=y.max_reconnects,Wn=ht===void 0?5:ht,qn=K(y,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return g=L.call(this),g.webSocketFactory=w,g.queue={},g.rpc_id=0,g.address=x,g.autoconnect=T,g.ready=!1,g.reconnect=de,g.reconnect_timer_id=void 0,g.reconnect_interval=Me,g.max_reconnects=Wn,g.rest_options=qn,g.current_reconnects=0,g.generate_request_id=k||function(){return++g.rpc_id},g.autoconnect&&g._connect(g.address,Object.assign({autoconnect:g.autoconnect,reconnect:g.reconnect,reconnect_interval:g.reconnect_interval,max_reconnects:g.max_reconnects},g.rest_options)),g}return(0,s.default)(B,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(g,x,y,k){var b=this;return!k&&(0,o.default)(y)==="object"&&(k=y,y=null),new Promise(function(T,j){if(!b.ready)return j(new Error("socket not ready"));var de=b.generate_request_id(g,x),De={jsonrpc:"2.0",method:g,params:x||null,id:de};b.socket.send(JSON.stringify(De),k,function(Me){if(Me)return j(Me);b.queue[de]={promise:[T,j]},y&&(b.queue[de].timeout=setTimeout(function(){delete b.queue[de],j(new Error("reply timeout"))},y))})})}},{key:"login",value:function(){var w=(0,r.default)(n.default.mark(function x(y){var k;return n.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,this.call("rpc.login",y);case 2:if(k=T.sent,k){T.next=5;break}throw new Error("authentication failed");case 5:return T.abrupt("return",k);case 6:case"end":return T.stop()}},x,this)}));function g(x){return w.apply(this,arguments)}return g}()},{key:"listMethods",value:function(){var w=(0,r.default)(n.default.mark(function x(){return n.default.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this.call("__listMethods");case 2:return k.abrupt("return",k.sent);case 3:case"end":return k.stop()}},x,this)}));function g(){return w.apply(this,arguments)}return g}()},{key:"notify",value:function(g,x){var y=this;return new Promise(function(k,b){if(!y.ready)return b(new Error("socket not ready"));var T={jsonrpc:"2.0",method:g,params:x||null};y.socket.send(JSON.stringify(T),function(j){if(j)return b(j);k()})})}},{key:"subscribe",value:function(){var w=(0,r.default)(n.default.mark(function x(y){var k;return n.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return typeof y=="string"&&(y=[y]),T.next=3,this.call("rpc.on",y);case 3:if(k=T.sent,!(typeof y=="string"&&k[y]!=="ok")){T.next=6;break}throw new Error("Failed subscribing to an event '"+y+"' with: "+k[y]);case 6:return T.abrupt("return",k);case 7:case"end":return T.stop()}},x,this)}));function g(x){return w.apply(this,arguments)}return g}()},{key:"unsubscribe",value:function(){var w=(0,r.default)(n.default.mark(function x(y){var k;return n.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return typeof y=="string"&&(y=[y]),T.next=3,this.call("rpc.off",y);case 3:if(k=T.sent,!(typeof y=="string"&&k[y]!=="ok")){T.next=6;break}throw new Error("Failed unsubscribing from an event with: "+k);case 6:return T.abrupt("return",k);case 7:case"end":return T.stop()}},x,this)}));function g(x){return w.apply(this,arguments)}return g}()},{key:"close",value:function(g,x){this.socket.close(g||1e3,x)}},{key:"_connect",value:function(g,x){var y=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(g,x),this.socket.addEventListener("open",function(){y.ready=!0,y.emit("open"),y.current_reconnects=0}),this.socket.addEventListener("message",function(k){var b=k.data;b instanceof ArrayBuffer&&(b=le.Buffer.from(b).toString());try{b=JSON.parse(b)}catch{return}if(b.notification&&y.listeners(b.notification).length){if(!Object.keys(b.params).length)return y.emit(b.notification);var T=[b.notification];if(b.params.constructor===Object)T.push(b.params);else for(var j=0;j<b.params.length;j++)T.push(b.params[j]);return Promise.resolve().then(function(){y.emit.apply(y,T)})}if(!y.queue[b.id])return b.method&&b.params?Promise.resolve().then(function(){y.emit(b.method,b.params)}):void 0;"error"in b=="result"in b&&y.queue[b.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),y.queue[b.id].timeout&&clearTimeout(y.queue[b.id].timeout),b.error?y.queue[b.id].promise[1](b.error):y.queue[b.id].promise[0](b.result),delete y.queue[b.id]}),this.socket.addEventListener("error",function(k){return y.emit("error",k)}),this.socket.addEventListener("close",function(k){var b=k.code,T=k.reason;y.ready&&setTimeout(function(){return y.emit("close",b,T)},0),y.ready=!1,y.socket=void 0,b!==1e3&&(y.current_reconnects++,y.reconnect&&(y.max_reconnects>y.current_reconnects||y.max_reconnects===0)&&(y.reconnect_timer_id=setTimeout(function(){return y._connect(g,x)},y.reconnect_interval)))})}}]),B}(O.EventEmitter);e.default=se})(Sr);var br={};(function(e){var t=Rt.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.default=Q;var n=t(It.exports),r=t(xt.exports),o=t(Ct.exports),a=t(vt.exports),s=t(Ot.exports),l=Nt.exports;function m(V){var K=_();return function(){var N=(0,s.default)(V),L;if(K){var B=(0,s.default)(this).constructor;L=Reflect.construct(N,arguments,B)}else L=N.apply(this,arguments);return(0,a.default)(this,L)}}function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var O=function(V){(0,o.default)(se,V);var K=m(se);function se(N,L,B){var w;return(0,n.default)(this,se),w=K.call(this),w.socket=new window.WebSocket(N,B),w.socket.onopen=function(){return w.emit("open")},w.socket.onmessage=function(g){return w.emit("message",g.data)},w.socket.onerror=function(g){return w.emit("error",g)},w.socket.onclose=function(g){w.emit("close",g.code,g.reason)},w}return(0,r.default)(se,[{key:"send",value:function(L,B,w){var g=w||B;try{this.socket.send(L),g()}catch(x){g(x)}}},{key:"close",value:function(L,B){this.socket.close(L,B)}},{key:"addEventListener",value:function(L,B,w){this.socket.addEventListener(L,B,w)}}]),se}(l.EventEmitter);function Q(V,K){return new O(V,K)}})(br);function At(e){try{return Xn.ExtendedPoint.fromHex(e),!0}catch{return!1}}const Ar=e=>D.Buffer.isBuffer(e)?e:e instanceof Uint8Array?D.Buffer.from(e.buffer,e.byteOffset,e.byteLength):D.Buffer.from(e);class wr{constructor(t){Object.assign(this,t)}encode(){return D.Buffer.from(Jn(Pe,this))}static decode(t){return Qn(Pe,this,t)}static decodeUnchecked(t){return er(Pe,this,t)}}const Pe=new Map;var Ut;let Gt;const _r=32,Je=32;function kr(e){return e._bn!==void 0}let wt=1;Gt=Symbol.toStringTag;class z extends wr{constructor(t){if(super({}),this._bn=void 0,kr(t))this._bn=t._bn;else{if(typeof t=="string"){const n=pt.decode(t);if(n.length!=Je)throw new Error("Invalid public key input");this._bn=new gt(n)}else this._bn=new gt(t);if(this._bn.byteLength()>Je)throw new Error("Invalid public key input")}}static unique(){const t=new z(wt);return wt+=1,new z(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return pt.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(D.Buffer);if(t.length===Je)return t;const n=D.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Gt](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const o=D.Buffer.concat([t.toBuffer(),D.Buffer.from(n),r.toBuffer()]),a=yt(o);return new z(a)}static createProgramAddressSync(t,n){let r=D.Buffer.alloc(0);t.forEach(function(a){if(a.length>_r)throw new TypeError("Max seed length exceeded");r=D.Buffer.concat([r,Ar(a)])}),r=D.Buffer.concat([r,n.toBuffer(),D.Buffer.from("ProgramDerivedAddress")]);const o=yt(r);if(At(o))throw new Error("Invalid seeds, address must fall off the curve");return new z(o)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,o;for(;r!=0;){try{const a=t.concat(D.Buffer.from([r]));o=this.createProgramAddressSync(a,n)}catch(a){if(a instanceof TypeError)throw a;r--;continue}return[o,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new z(t);return At(n.toBytes())}}Ut=z;z.default=new Ut("11111111111111111111111111111111");Pe.set(z,{kind:"struct",fields:[["_bn","u256"]]});new z("BPFLoader1111111111111111111111111111111111");const Tr=64,E=(e="publicKey")=>me(32,e),we=(e="string")=>{const t=f([S("length"),S("lengthPadding"),me(_e(S(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),o=t;return o.decode=(a,s)=>n(a,s).chars.toString(),o.encode=(a,s,l)=>{const m={chars:D.Buffer.from(a,"utf8")};return r(m,s,l)},o.alloc=a=>S().span+S().span+D.Buffer.from(a,"utf8").length,o},zr=(e="authorized")=>f([E("staker"),E("withdrawer")],e),Er=(e="lockup")=>f([$("unixTimestamp"),$("epoch"),E("custodian")],e),Ir=(e="voteInit")=>f([E("nodePubkey"),E("authorizedVoter"),E("authorizedWithdrawer"),C("commission")],e),xr=(e="voteAuthorizeWithSeedArgs")=>f([S("voteAuthorizationType"),E("currentAuthorityDerivedKeyOwnerPubkey"),we("currentAuthorityDerivedKeySeed"),E("newAuthorized")],e);D.Buffer.alloc(Tr).fill(0);new z("SysvarC1ock11111111111111111111111111111111");new z("SysvarEpochSchedu1e111111111111111111111111");new z("Sysvar1nstructions1111111111111111111111111");new z("SysvarRecentB1ockHashes11111111111111111111");new z("SysvarRent111111111111111111111111111111111");new z("SysvarRewards111111111111111111111111111111");new z("SysvarS1otHashes111111111111111111111111111");new z("SysvarS1otHistory11111111111111111111111111");new z("SysvarStakeHistory1111111111111111111111111");const Cr=U("lamportsPerSignature"),vr=f([S("version"),S("state"),E("authorizedPubkey"),E("nonce"),f([Cr],"feeCalculator")]);vr.span;const Or=e=>{const t=e.decode.bind(e),n=e.encode.bind(e);return{decode:t,encode:n}},Rr=e=>t=>{const n=me(e,t),{encode:r,decode:o}=Or(n),a=n;return a.decode=(s,l)=>{const m=o(s,l);return tr(D.Buffer.from(m))},a.encode=(s,l,m)=>{const _=nr(s,e);return r(_,l,m)},a},Te=Rr(8);Object.freeze({Create:{index:0,layout:f([S("instruction"),$("lamports"),$("space"),E("programId")])},Assign:{index:1,layout:f([S("instruction"),E("programId")])},Transfer:{index:2,layout:f([S("instruction"),Te("lamports")])},CreateWithSeed:{index:3,layout:f([S("instruction"),E("base"),we("seed"),$("lamports"),$("space"),E("programId")])},AdvanceNonceAccount:{index:4,layout:f([S("instruction")])},WithdrawNonceAccount:{index:5,layout:f([S("instruction"),$("lamports")])},InitializeNonceAccount:{index:6,layout:f([S("instruction"),E("authorized")])},AuthorizeNonceAccount:{index:7,layout:f([S("instruction"),E("authorized")])},Allocate:{index:8,layout:f([S("instruction"),$("space")])},AllocateWithSeed:{index:9,layout:f([S("instruction"),E("base"),we("seed"),$("space"),E("programId")])},AssignWithSeed:{index:10,layout:f([S("instruction"),E("base"),we("seed"),E("programId")])},TransferWithSeed:{index:11,layout:f([S("instruction"),Te("lamports"),we("seed"),E("programId")])},UpgradeNonceAccount:{index:12,layout:f([S("instruction")])}});new z("11111111111111111111111111111111");new z("BPFLoader2111111111111111111111111111111111");f([S("typeIndex"),Te("deactivationSlot"),U("lastExtendedSlot"),C("lastExtendedStartIndex"),C(),fe(E(),_e(C(),-1),"authority")]);const P=Ne(it(z),d(),e=>new z(e)),Ht=st([d(),R("base64")]),ct=Ne(it(D.Buffer),Ht,e=>D.Buffer.from(e[0],"base64"));function Vt(e){return W([u({jsonrpc:R("2.0"),id:d(),result:e}),u({jsonrpc:R("2.0"),id:d(),error:u({code:Re(),message:d(),data:A(gr())})})])}const Nr=Vt(Re());function v(e){return Ne(Vt(e),Nr,t=>"error"in t?t:{...t,result:Ce(t.result,e)})}function Y(e){return v(u({context:u({slot:i()}),value:e}))}function We(e){return u({context:u({slot:i()}),value:e})}const Br=u({foundation:i(),foundationTerm:i(),initial:i(),taper:i(),terminal:i()});v(p(h(u({epoch:i(),effectiveSlot:i(),amount:i(),postBalance:i(),commission:A(h(i()))}))));const Dr=p(u({slot:i(),prioritizationFee:i()})),Mr=u({total:i(),validator:i(),foundation:i(),epoch:i()}),Pr=u({epoch:i(),slotIndex:i(),slotsInEpoch:i(),absoluteSlot:i(),blockHeight:A(i()),transactionCount:A(i())}),Lr=u({slotsPerEpoch:i(),leaderScheduleSlotOffset:i(),warmup:ne(),firstNormalEpoch:i(),firstNormalSlot:i()}),Fr=Ft(d(),p(i())),Se=h(W([u({}),d()])),Ur=u({err:Se}),Gr=R("receivedSignature");u({"solana-core":d(),"feature-set":A(i())});Y(u({err:h(W([u({}),d()])),logs:h(p(d())),accounts:A(h(p(h(u({executable:ne(),owner:d(),lamports:i(),data:p(d()),rentEpoch:A(i())}))))),unitsConsumed:A(i()),returnData:A(h(u({programId:d(),data:st([d(),R("base64")])})))}));Y(u({byIdentity:Ft(d(),p(i())),range:u({firstSlot:i(),lastSlot:i()})}));v(Br);v(Mr);v(Dr);v(Pr);v(Lr);v(Fr);v(i());Y(u({total:i(),circulating:i(),nonCirculating:i(),nonCirculatingAccounts:p(P)}));const Hr=u({amount:d(),uiAmount:h(i()),decimals:i(),uiAmountString:A(d())});Y(p(u({address:P,amount:d(),uiAmount:h(i()),decimals:i(),uiAmountString:A(d())})));Y(p(u({pubkey:P,account:u({executable:ne(),owner:P,lamports:i(),data:ct,rentEpoch:i()})})));const Qe=u({program:d(),parsed:Re(),space:i()});Y(p(u({pubkey:P,account:u({executable:ne(),owner:P,lamports:i(),data:Qe,rentEpoch:i()})})));Y(p(u({lamports:i(),address:P})));const ut=u({executable:ne(),owner:P,lamports:i(),data:ct,rentEpoch:i()});u({pubkey:P,account:ut});const Vr=Ne(W([it(D.Buffer),Qe]),W([Ht,Qe]),e=>Array.isArray(e)?Ce(e,ct):e),jr=u({executable:ne(),owner:P,lamports:i(),data:Vr,rentEpoch:i()});u({pubkey:P,account:jr});u({state:W([R("active"),R("inactive"),R("activating"),R("deactivating")]),active:i(),inactive:i()});v(p(u({signature:d(),slot:i(),err:Se,memo:h(d()),blockTime:A(h(i()))})));v(p(u({signature:d(),slot:i(),err:Se,memo:h(d()),blockTime:A(h(i()))})));u({subscription:i(),result:We(ut)});const $r=u({pubkey:P,account:ut});u({subscription:i(),result:We($r)});const Wr=u({parent:i(),slot:i(),root:i()});u({subscription:i(),result:Wr});const qr=W([u({type:W([R("firstShredReceived"),R("completed"),R("optimisticConfirmation"),R("root")]),slot:i(),timestamp:i()}),u({type:R("createdBank"),parent:i(),slot:i(),timestamp:i()}),u({type:R("frozen"),slot:i(),timestamp:i(),stats:u({numTransactionEntries:i(),numSuccessfulTransactions:i(),numFailedTransactions:i(),maxTransactionsPerEntry:i()})}),u({type:R("dead"),slot:i(),timestamp:i(),err:d()})]);u({subscription:i(),result:qr});u({subscription:i(),result:We(W([Ur,Gr]))});u({subscription:i(),result:i()});u({pubkey:d(),gossip:h(d()),tpu:h(d()),rpc:h(d()),version:h(d())});const _t=u({votePubkey:d(),nodePubkey:d(),activatedStake:i(),epochVoteAccount:ne(),epochCredits:p(st([i(),i(),i()])),commission:i(),lastVote:i(),rootSlot:h(i())});v(u({current:p(_t),delinquent:p(_t)}));const Kr=W([R("processed"),R("confirmed"),R("finalized")]),Zr=u({slot:i(),confirmations:h(i()),err:Se,confirmationStatus:A(Kr)});Y(p(h(Zr)));v(i());const jt=u({accountKey:P,writableIndexes:p(i()),readonlyIndexes:p(i())}),lt=u({signatures:p(d()),message:u({accountKeys:p(d()),header:u({numRequiredSignatures:i(),numReadonlySignedAccounts:i(),numReadonlyUnsignedAccounts:i()}),instructions:p(u({accounts:p(i()),data:d(),programIdIndex:i()})),recentBlockhash:d(),addressTableLookups:A(p(jt))})}),$t=u({pubkey:P,signer:ne(),writable:ne(),source:A(W([R("transaction"),R("lookupTable")]))}),Wt=u({accountKeys:p($t),signatures:p(d())}),qt=u({parsed:Re(),program:d(),programId:P}),Kt=u({accounts:p(P),data:d(),programId:P}),Yr=W([Kt,qt]),Xr=W([u({parsed:Re(),program:d(),programId:d()}),u({accounts:p(d()),data:d(),programId:d()})]),Zt=Ne(Yr,Xr,e=>"accounts"in e?Ce(e,Kt):Ce(e,qt)),Yt=u({signatures:p(d()),message:u({accountKeys:p($t),instructions:p(Zt),recentBlockhash:d(),addressTableLookups:A(h(p(jt)))})}),Fe=u({accountIndex:i(),mint:d(),owner:A(d()),uiTokenAmount:Hr}),Xt=u({writable:p(P),readonly:p(P)}),qe=u({err:Se,fee:i(),innerInstructions:A(h(p(u({index:i(),instructions:p(u({accounts:p(i()),data:d(),programIdIndex:i()}))})))),preBalances:p(i()),postBalances:p(i()),logMessages:A(h(p(d()))),preTokenBalances:A(h(p(Fe))),postTokenBalances:A(h(p(Fe))),loadedAddresses:A(Xt),computeUnitsConsumed:A(i())}),dt=u({err:Se,fee:i(),innerInstructions:A(h(p(u({index:i(),instructions:p(Zt)})))),preBalances:p(i()),postBalances:p(i()),logMessages:A(h(p(d()))),preTokenBalances:A(h(p(Fe))),postTokenBalances:A(h(p(Fe))),loadedAddresses:A(Xt),computeUnitsConsumed:A(i())}),Ee=W([R(0),R("legacy")]),be=u({pubkey:d(),lamports:i(),postBalance:h(i()),rewardType:h(d()),commission:A(h(i()))});v(h(u({blockhash:d(),previousBlockhash:d(),parentSlot:i(),transactions:p(u({transaction:lt,meta:h(qe),version:A(Ee)})),rewards:A(p(be)),blockTime:h(i()),blockHeight:h(i())})));v(h(u({blockhash:d(),previousBlockhash:d(),parentSlot:i(),rewards:A(p(be)),blockTime:h(i()),blockHeight:h(i())})));v(h(u({blockhash:d(),previousBlockhash:d(),parentSlot:i(),transactions:p(u({transaction:Wt,meta:h(qe),version:A(Ee)})),rewards:A(p(be)),blockTime:h(i()),blockHeight:h(i())})));v(h(u({blockhash:d(),previousBlockhash:d(),parentSlot:i(),transactions:p(u({transaction:Yt,meta:h(dt),version:A(Ee)})),rewards:A(p(be)),blockTime:h(i()),blockHeight:h(i())})));v(h(u({blockhash:d(),previousBlockhash:d(),parentSlot:i(),transactions:p(u({transaction:Wt,meta:h(dt),version:A(Ee)})),rewards:A(p(be)),blockTime:h(i()),blockHeight:h(i())})));v(h(u({blockhash:d(),previousBlockhash:d(),parentSlot:i(),rewards:A(p(be)),blockTime:h(i()),blockHeight:h(i())})));v(h(u({blockhash:d(),previousBlockhash:d(),parentSlot:i(),transactions:p(u({transaction:lt,meta:h(qe)})),rewards:A(p(be)),blockTime:h(i())})));v(h(u({blockhash:d(),previousBlockhash:d(),parentSlot:i(),signatures:p(d()),blockTime:h(i())})));v(h(u({slot:i(),meta:qe,blockTime:A(h(i())),transaction:lt,version:A(Ee)})));v(h(u({slot:i(),transaction:Yt,meta:h(dt),blockTime:A(h(i())),version:A(Ee)})));Y(u({blockhash:d(),feeCalculator:u({lamportsPerSignature:i()})}));Y(u({blockhash:d(),lastValidBlockHeight:i()}));Y(ne());const Jr=u({slot:i(),numTransactions:i(),numSlots:i(),samplePeriodSecs:i()});v(p(Jr));Y(h(u({feeCalculator:u({lamportsPerSignature:i()})})));v(d());v(d());const Qr=u({err:Se,logs:p(d()),signature:d()});u({result:We(Qr),subscription:i()});Object.freeze({CreateLookupTable:{index:0,layout:f([S("instruction"),Te("recentSlot"),C("bumpSeed")])},FreezeLookupTable:{index:1,layout:f([S("instruction")])},ExtendLookupTable:{index:2,layout:f([S("instruction"),Te(),fe(E(),_e(S(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:f([S("instruction")])},CloseLookupTable:{index:4,layout:f([S("instruction")])}});new z("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:f([C("instruction"),S("units"),S("additionalFee")])},RequestHeapFrame:{index:1,layout:f([C("instruction"),S("bytes")])},SetComputeUnitLimit:{index:2,layout:f([C("instruction"),S("units")])},SetComputeUnitPrice:{index:3,layout:f([C("instruction"),Te("microLamports")])}});new z("ComputeBudget111111111111111111111111111111");f([C("numSignatures"),C("padding"),Z("signatureOffset"),Z("signatureInstructionIndex"),Z("publicKeyOffset"),Z("publicKeyInstructionIndex"),Z("messageDataOffset"),Z("messageDataSize"),Z("messageInstructionIndex")]);new z("Ed25519SigVerify111111111111111111111111111");Bt.utils.isValidPrivateKey;Bt.getPublicKey;f([C("numSignatures"),Z("signatureOffset"),C("signatureInstructionIndex"),Z("ethAddressOffset"),C("ethAddressInstructionIndex"),Z("messageDataOffset"),Z("messageDataSize"),C("messageInstructionIndex"),me(20,"ethAddress"),me(64,"signature"),C("recoveryId")]);new z("KeccakSecp256k11111111111111111111111111111");var Jt;new z("StakeConfig11111111111111111111111111111111");class Qt{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}}Jt=Qt;Qt.default=new Jt(0,0,z.default);Object.freeze({Initialize:{index:0,layout:f([S("instruction"),zr(),Er()])},Authorize:{index:1,layout:f([S("instruction"),E("newAuthorized"),S("stakeAuthorizationType")])},Delegate:{index:2,layout:f([S("instruction")])},Split:{index:3,layout:f([S("instruction"),$("lamports")])},Withdraw:{index:4,layout:f([S("instruction"),$("lamports")])},Deactivate:{index:5,layout:f([S("instruction")])},Merge:{index:7,layout:f([S("instruction")])},AuthorizeWithSeed:{index:8,layout:f([S("instruction"),E("newAuthorized"),S("stakeAuthorizationType"),we("authoritySeed"),E("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});new z("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:f([S("instruction"),Ir()])},Authorize:{index:1,layout:f([S("instruction"),E("newAuthorized"),S("voteAuthorizationType")])},Withdraw:{index:3,layout:f([S("instruction"),$("lamports")])},AuthorizeWithSeed:{index:10,layout:f([S("instruction"),xr()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});new z("Vote111111111111111111111111111111111111111");new z("Va1idator1nfo111111111111111111111111111111");u({name:d(),website:A(d()),details:A(d()),keybaseUsername:A(d())});new z("Vote111111111111111111111111111111111111111");f([E("nodePubkey"),E("authorizedWithdrawer"),C("commission"),U(),fe(f([U("slot"),S("confirmationCount")]),_e(S(),-8),"votes"),C("rootSlotValid"),U("rootSlot"),U(),fe(f([U("epoch"),E("authorizedVoter")]),_e(S(),-8),"authorizedVoters"),f([fe(f([E("authorizedPubkey"),U("epochOfLastAuthorizedSwitch"),U("targetEpoch")]),32,"buf"),U("idx"),C("isEmpty")],"priorVoters"),U(),fe(f([U("epoch"),U("credits"),U("prevCredits")]),_e(S(),-8),"epochCredits"),f([U("slot"),U("timestamp")],"lastTimestamp")]);const I=e=>{const t=me(32,e),{encode:n,decode:r}=Mt(t),o=t;return o.decode=(a,s)=>{const l=r(a,s);return new z(l)},o.encode=(a,s,l)=>{const m=a.toBuffer();return n(m,s,l)},o};var Ue;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Mint=1]="Mint",e[e.Account=2]="Account"})(Ue||(Ue={}));const ft=1,en=f([C("m"),C("n"),he("isInitialized"),I("signer1"),I("signer2"),I("signer3"),I("signer4"),I("signer5"),I("signer6"),I("signer7"),I("signer8"),I("signer9"),I("signer10"),I("signer11")]),Be=en.span;async function Ga(e,t,n,r=q){const o=await e.getAccountInfo(t,n);return eo(t,o,r)}function eo(e,t,n=q){if(!t)throw new rt;if(!t.owner.equals(n))throw new ot;if(t.data.length!=Be)throw new ke;const r=en.decode(t.data);return{address:e,...r}}async function Ha(e,t){return await e.getMinimumBalanceForRentExemption(Be,t)}var Ge;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen"})(Ge||(Ge={}));const tn=f([I("mint"),I("owner"),ae("amount"),S("delegateOption"),I("delegate"),C("state"),S("isNativeOption"),ae("isNative"),ae("delegatedAmount"),S("closeAuthorityOption"),I("closeAuthority")]),ee=tn.span;async function Va(e,t,n,r=q){const o=await e.getAccountInfo(t,n);return nn(t,o,r)}async function ja(e,t,n,r=q){const o=await e.getMultipleAccountsInfo(t,n);return t.map((a,s)=>nn(a,o[s],r))}async function $a(e,t){return await to(e,[],t)}async function to(e,t,n){const r=jn(t);return await e.getMinimumBalanceForRentExemption(r,n)}function nn(e,t,n=q){if(!t)throw new rt;if(!t.owner.equals(n))throw new ot;if(t.data.length<ee)throw new ke;const r=tn.decode(t.data.slice(0,ee));let o=le.Buffer.alloc(0);if(t.data.length>ee){if(t.data.length===Be)throw new ke;if(t.data[ee]!=Ue.Account)throw new ir;o=t.data.slice(ee+ft)}return{address:e,mint:r.mint,owner:r.owner,amount:r.amount,delegate:r.delegateOption?r.delegate:null,delegatedAmount:r.delegatedAmount,isInitialized:r.state!==Ge.Uninitialized,isFrozen:r.state===Ge.Frozen,isNative:!!r.isNativeOption,rentExemptReserve:r.isNativeOption?r.isNative:null,closeAuthority:r.closeAuthorityOption?r.closeAuthority:null,tlvData:o}}const rn=f([S("mintAuthorityOption"),I("mintAuthority"),ae("supply"),C("decimals"),he("isInitialized"),S("freezeAuthorityOption"),I("freezeAuthority")]),Le=rn.span;async function Wa(e,t,n,r=q){const o=await e.getAccountInfo(t,n);return on(t,o,r)}function on(e,t,n=q){if(!t)throw new rt;if(!t.owner.equals(n))throw new ot;if(t.data.length<Le)throw new ke;const r=rn.decode(t.data.slice(0,Le));let o=le.Buffer.alloc(0);if(t.data.length>Le){if(t.data.length<=ee)throw new ke;if(t.data.length===Be)throw new ke;if(t.data[ee]!=Ue.Mint)throw new sr;o=t.data.slice(ee+ft)}return{address:e,mintAuthority:r.mintAuthorityOption?r.mintAuthority:null,supply:r.supply,decimals:r.decimals,isInitialized:r.isInitialized,freezeAuthority:r.freezeAuthorityOption?r.freezeAuthority:null,tlvData:o}}async function qa(e,t){return await no(e,[],t)}async function no(e,t,n){const r=Ma(t);return await e.getMinimumBalanceForRentExemption(r,n)}async function Ka(e,t,n=!1,r=q,o=ge){if(!n&&!M.isOnCurve(t.toBuffer()))throw new Pt;const[a]=await M.findProgramAddress([t.toBuffer(),r.toBuffer(),e.toBuffer()],o);return a}function ro(e,t,n=!1,r=q,o=ge){if(!n&&!M.isOnCurve(t.toBuffer()))throw new Pt;const[a]=M.findProgramAddressSync([t.toBuffer(),r.toBuffer(),e.toBuffer()],o);return a}const an=f([he("lockCpi")]),oo=an.span;function Za(e){const t=F(c.CpiGuard,e.tlvData);return t!==null?an.decode(t):null}const sn=f([C("state")]),ao=sn.span;function Ya(e){const t=F(c.DefaultAccountState,e.tlvData);return t!==null?sn.decode(t):null}var cn=8078e3,un=8078001,Xa=8078002,ln=8078004,dn=8078005,fn=8078006,io=8078007,so=8078009,mn=8078011,co=8078017;function hn(e){if(Array.isArray(e)){const t=e.map(hn).join("%2C%20");return"%5B"+t+"%5D"}else return typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function uo([e,t]){return`${e}=${hn(t)}`}function lo(e){const t=Object.entries(e).map(uo).join("&");return btoa(t)}function fo(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${lo(t)}'`),`${n}\``}}var H=class extends Error{cause=this.cause;context;constructor(...[e,t]){let n,r;if(t){const{cause:a,...s}=t;a&&(r={cause:a}),Object.keys(s).length>0&&(n=s)}const o=fo(e,n);super(o,r),this.context={__code:e,...n},this.name="SolanaError"}},mo=(e,t)=>{if(e.length>=t)return e;const n=new Uint8Array(t).fill(0);return n.set(e),n},ho=(e,t)=>mo(e.length<=t?e:e.slice(0,t),t);function et(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function ve(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(et(t,e));return e.write(t,n,0),n}})}function He(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function G(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function po(e){return!G(e)}function Ke(e,t){if(G(e)!==G(t))throw new H(ln);if(G(e)&&G(t)&&e.fixedSize!==t.fixedSize)throw new H(dn,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!G(e)&&!G(t)&&e.maxSize!==t.maxSize)throw new H(fn,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function go(e,t,n=0){if(t.length-n<=0)throw new H(cn,{codecDescription:e})}function mt(e,t,n,r=0){const o=n.length-r;if(o<t)throw new H(un,{bytesLength:o,codecDescription:e,expected:t})}function yo(e,t){const n=(s,l,m)=>{const _=e.encode(s);return m=t.write(_.length,l,m),l.set(_,m),m+_.length};if(G(t)&&G(e))return ve({...e,fixedSize:t.fixedSize+e.fixedSize,write:n});const r=G(t)?t.fixedSize:t.maxSize??null,o=G(e)?e.fixedSize:e.maxSize??null,a=r!==null&&o!==null?r+o:null;return ve({...e,...a!==null?{maxSize:a}:{},getSizeFromValue:s=>{const l=et(s,e);return et(l,t)+l},write:n})}function So(e,t){const n=(s,l)=>{const[m,_]=t.read(s,l),O=Number(m);return l=_,(l>0||s.length>O)&&(s=s.slice(l,l+O)),mt("addDecoderSizePrefix",O,s),[e.decode(s),l+O]};if(G(t)&&G(e))return He({...e,fixedSize:t.fixedSize+e.fixedSize,read:n});const r=G(t)?t.fixedSize:t.maxSize??null,o=G(e)?e.fixedSize:e.maxSize??null,a=r!==null&&o!==null?r+o:null;return He({...e,...a!==null?{maxSize:a}:{},read:n})}function Ja(e,t){return Ke(yo(e,t),So(e,t))}function bo(e,t){return ve({fixedSize:t,write:(n,r,o)=>{const a=e.encode(n),s=a.length>t?a.slice(0,t):a;return r.set(s,o),o+t}})}function Ao(e,t){return He({fixedSize:t,read:(n,r)=>{mt("fixCodecSize",t,n,r),(r>0||n.length>t)&&(n=n.slice(r,r+t)),G(e)&&(n=ho(n,e.fixedSize));const[o]=e.read(n,0);return[o,r+t]}})}function Ve(e,t){return Ke(bo(e,t),Ao(e,t))}function Qa(e,t){return ve({...po(e)?{...e,getSizeFromValue:n=>e.getSizeFromValue(t(n))}:e,write:(n,r,o)=>e.write(t(n),r,o)})}function ze(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function re(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(ze(t,e));return e.write(t,n,0),n}})}function ie(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function X(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function wo(e){return!X(e)}function Ie(e,t){if(X(e)!==X(t))throw new H(ln);if(X(e)&&X(t)&&e.fixedSize!==t.fixedSize)throw new H(dn,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!X(e)&&!X(t)&&e.maxSize!==t.maxSize)throw new H(fn,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function _o(e,t,n=0){if(t.length-n<=0)throw new H(cn,{codecDescription:e})}function ko(e,t,n,r=0){const o=n.length-r;if(o<t)throw new H(un,{bytesLength:o,codecDescription:e,expected:t})}function pn(e,t){return re({...wo(e)?{...e,getSizeFromValue:n=>e.getSizeFromValue(t(n))}:e,write:(n,r,o)=>e.write(t(n),r,o)})}function To(e,t){return ie({...e,read:(n,r)=>{const[o,a]=e.read(n,r);return[t(o,n,r),a]}})}function zo(e,t,n,r){if(r<t||r>n)throw new H(mn,{codecDescription:e,max:n,min:t,value:r})}function gn(e){return(e==null?void 0:e.endian)!==1}function yn(e){return re({fixedSize:e.size,write(t,n,r){e.range&&zo(e.name,e.range[0],e.range[1],t);const o=new ArrayBuffer(e.size);return e.set(new DataView(o),t,gn(e.config)),n.set(new Uint8Array(o),r),r+e.size}})}function Sn(e){return ie({fixedSize:e.size,read(t,n=0){_o(e.name,t,n),ko(e.name,e.size,t,n);const r=new DataView(Eo(t,n,e.size));return[e.get(r,gn(e.config)),n+e.size]}})}function Eo(e,t,n){const r=e.byteOffset+(t??0),o=n??e.byteLength;return e.buffer.slice(r,r+o)}var Io=(e={})=>yn({config:e,name:"u32",range:[0,Number("0xffffffff")],set:(t,n,r)=>t.setUint32(0,Number(n),r),size:4}),xo=(e={})=>Sn({config:e,get:(t,n)=>t.getUint32(0,n),name:"u32",size:4}),bn=()=>yn({name:"u8",range:[0,Number("0xff")],set:(e,t)=>e.setUint8(0,Number(t)),size:1}),Co=()=>Sn({get:e=>e.getUint8(0),name:"u8",size:1});function An(e,t,n){if(t!==n)throw new H(io,{actual:n,codecDescription:e,expected:t})}function vo(e){return e.reduce((t,n)=>t===null||n===null?null:Math.max(t,n),0)}function ue(e){return e.reduce((t,n)=>t===null||n===null?null:t+n,0)}function xe(e){return X(e)?e.fixedSize:null}function Ae(e){return X(e)?e.fixedSize:e.maxSize??null}function Oo(e,t={}){const n=t.size??Io(),r=je(n,xe(e)),o=je(n,Ae(e))??void 0;return re({...r!==null?{fixedSize:r}:{getSizeFromValue:a=>(typeof n=="object"?ze(a.length,n):0)+[...a].reduce((l,m)=>l+ze(m,e),0),maxSize:o},write:(a,s,l)=>(typeof n=="number"&&An("array",n,a.length),typeof n=="object"&&(l=n.write(a.length,s,l)),a.forEach(m=>{l=e.write(m,s,l)}),l)})}function Ro(e,t={}){const n=t.size??xo(),r=xe(e),o=je(n,r),a=je(n,Ae(e))??void 0;return ie({...o!==null?{fixedSize:o}:{maxSize:a},read:(s,l)=>{const m=[];if(typeof n=="object"&&s.slice(l).length===0)return[m,l];if(n==="remainder"){for(;l<s.length;){const[Q,V]=e.read(s,l);l=V,m.push(Q)}return[m,l]}const[_,O]=typeof n=="number"?[n,l]:n.read(s,l);l=O;for(let Q=0;Q<_;Q+=1){const[V,K]=e.read(s,l);l=K,m.push(V)}return[m,l]}})}function ei(e,t={}){return Ie(Oo(e,t),Ro(e,t))}function je(e,t){return typeof e!="number"?null:e===0?0:t===null?null:t*e}function ti(e={}){return pn(e.size??bn(),t=>t?1:0)}function No(){return re({getSizeFromValue:e=>e.length,write:(e,t,n)=>(t.set(e,n),n+e.length)})}function Bo(){return ie({read:(e,t)=>{const n=e.slice(t);return[n,t+n.length]}})}function $e(){return Ie(No(),Bo())}function ni(e){return re({fixedSize:e.length,write:(t,n,r)=>(n.set(e,r),r+e.length)})}function wn(e){const t=ue(e.map(xe)),n=ue(e.map(Ae))??void 0;return re({...t===null?{getSizeFromValue:r=>e.map((o,a)=>ze(r[a],o)).reduce((o,a)=>o+a,0),maxSize:n}:{fixedSize:t},write:(r,o,a)=>(An("tuple",e.length,r.length),e.forEach((s,l)=>{a=s.write(r[l],o,a)}),a)})}function _n(e){const t=ue(e.map(xe)),n=ue(e.map(Ae))??void 0;return ie({...t===null?{maxSize:n}:{fixedSize:t},read:(r,o)=>{const a=[];return e.forEach(s=>{const[l,m]=s.read(r,o);a.push(l),o=m}),[a,o]}})}function ri(e){return Ie(wn(e),_n(e))}function Do(e,t){const n=kn(e),r=(a,s,l)=>{const m=t(a);return tt(e,m),e[m].write(a,s,l)};if(n!==null)return re({fixedSize:n,write:r});const o=Tn(e);return re({...o!==null?{maxSize:o}:{},getSizeFromValue:a=>{const s=t(a);return tt(e,s),ze(a,e[s])},write:r})}function Mo(e,t){const n=kn(e),r=(a,s)=>{const l=t(a,s);return tt(e,l),e[l].read(a,s)};if(n!==null)return ie({fixedSize:n,read:r});const o=Tn(e);return ie({...o!==null?{maxSize:o}:{},read:r})}function tt(e,t){if(typeof e[t]>"u")throw new H(co,{maxRange:e.length-1,minRange:0,variant:t})}function kn(e){if(e.length===0)return 0;if(!X(e[0]))return null;const t=e[0].fixedSize;return e.every(r=>X(r)&&r.fixedSize===t)?t:null}function Tn(e){return vo(e.map(t=>Ae(t)))}function Po(e,t={}){const n=t.discriminator??"__kind",r=t.size??bn();return Do(e.map(([,o],a)=>pn(wn([r,o]),s=>[a,s])),o=>Uo(e,o[n]))}function Lo(e,t={}){const n=t.discriminator??"__kind",r=t.size??Co();return Mo(e.map(([o,a])=>To(_n([r,a]),([,s])=>({[n]:o,...s}))),(o,a)=>Number(r.read(o,a)[0]))}function Fo(e,t={}){return Ie(Po(e,t),Lo(e,t))}function Uo(e,t){const n=e.findIndex(([r])=>t===r);if(n<0)throw new H(so,{value:t,variants:e.map(([r])=>r)});return n}var oi=Fo;function Go(){return re({fixedSize:0,write:(e,t,n)=>n})}function Ho(){return ie({fixedSize:0,read:(e,t)=>[void 0,t]})}function ai(){return Ie(Go(),Ho())}function Vo(e){const t=e.map(([,o])=>o),n=ue(t.map(xe)),r=ue(t.map(Ae))??void 0;return re({...n===null?{getSizeFromValue:o=>e.map(([a,s])=>ze(o[a],s)).reduce((a,s)=>a+s,0),maxSize:r}:{fixedSize:n},write:(o,a,s)=>(e.forEach(([l,m])=>{s=m.write(o[l],a,s)}),s)})}function jo(e){const t=e.map(([,o])=>o),n=ue(t.map(xe)),r=ue(t.map(Ae))??void 0;return ie({...n===null?{maxSize:r}:{fixedSize:n},read:(o,a)=>{const s={};return e.forEach(([l,m])=>{const[_,O]=m.read(o,a);a=O,s[l]=_}),[s,a]}})}function zn(e){return Ie(Vo(e),jo(e))}function $o(e,t,n,r){if(r<t||r>n)throw new H(mn,{codecDescription:e,max:n,min:t,value:r})}function En(e){return(e==null?void 0:e.endian)!==1}function In(e){return ve({fixedSize:e.size,write(t,n,r){e.range&&$o(e.name,e.range[0],e.range[1],t);const o=new ArrayBuffer(e.size);return e.set(new DataView(o),t,En(e.config)),n.set(new Uint8Array(o),r),r+e.size}})}function xn(e){return He({fixedSize:e.size,read(t,n=0){go(e.name,t,n),mt(e.name,e.size,t,n);const r=new DataView(Wo(t,n,e.size));return[e.get(r,En(e.config)),n+e.size]}})}function Wo(e,t,n){const r=e.byteOffset+(t??0),o=n??e.byteLength;return e.buffer.slice(r,r+o)}var qo=(e={})=>In({config:e,name:"u32",range:[0,Number("0xffffffff")],set:(t,n,r)=>t.setUint32(0,Number(n),r),size:4}),Ko=(e={})=>xn({config:e,get:(t,n)=>t.getUint32(0,n),name:"u32",size:4}),ii=(e={})=>Ke(qo(e),Ko(e)),Zo=(e={})=>In({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,r)=>t.setBigUint64(0,BigInt(n),r),size:8}),Yo=(e={})=>xn({config:e,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),nt=(e={})=>Ke(Zo(e),Yo(e));const Cn=zn([["updateAuthority",Ve($e(),32)],["mint",Ve($e(),32)],["size",nt()],["maxSize",nt()]]),Xo=Cn.fixedSize;function Jo(e){for(let t=0;t<e.length;t++)if(e[t]!==0)return!1;return!0}function si(e){const t=Cn.decode(e);return Jo(t.updateAuthority)?{mint:new M(t.mint),size:t.size,maxSize:t.maxSize}:{updateAuthority:new M(t.updateAuthority),mint:new M(t.mint),size:t.size,maxSize:t.maxSize}}const vn=zn([["mint",Ve($e(),32)],["group",Ve($e(),32)],["memberNumber",nt()]]),Qo=vn.fixedSize;function ci(e){const t=vn.decode(e);return{mint:new M(t.mint),group:new M(t.group),memberNumber:t.memberNumber}}const On=f([I("authority"),I("memberAddress")]),ea=On.span;function ui(e){const t=F(c.GroupMemberPointer,e.tlvData);if(t!==null){const{authority:n,memberAddress:r}=On.decode(t);return{authority:n.equals(M.default)?null:n,memberAddress:r.equals(M.default)?null:r}}else return null}const Rn=f([I("authority"),I("groupAddress")]),ta=Rn.span;function li(e){const t=F(c.GroupPointer,e.tlvData);if(t!==null){const{authority:n,groupAddress:r}=Rn.decode(t);return{authority:n.equals(M.default)?null:n,groupAddress:r.equals(M.default)?null:r}}else return null}const Nn=f([]),na=Nn.span;function di(e){const t=F(c.ImmutableOwner,e.tlvData);return t!==null?Nn.decode(t):null}const Bn=f([I("rateAuthority"),$("initializationTimestamp"),St("preUpdateAverageRate"),$("lastUpdateTimestamp"),St("currentRate")]),ra=Bn.span;function fi(e){const t=F(c.InterestBearingConfig,e.tlvData);return t!==null?Bn.decode(t):null}const Dn=f([he("requireIncomingTransferMemos")]),oa=Dn.span;function mi(e){const t=F(c.MemoTransfer,e.tlvData);return t!==null?Dn.decode(t):null}const Mn=f([I("authority"),I("metadataAddress")]),aa=Mn.span;function hi(e){const t=F(c.MetadataPointer,e.tlvData);if(t!==null){const{authority:n,metadataAddress:r}=Mn.decode(t);return{authority:n.equals(M.default)?null:n,metadataAddress:r.equals(M.default)?null:r}}else return null}const Pn=f([I("closeAuthority")]),ia=Pn.span;function pi(e){const t=F(c.MintCloseAuthority,e.tlvData);return t!==null?Pn.decode(t):null}const Ze=f([]),sa=Ze.span,ca=Ze.span;function gi(e){const t=F(c.NonTransferable,e.tlvData);return t!==null?Ze.decode(t):null}function yi(e){const t=F(c.NonTransferableAccount,e.tlvData);return t!==null?Ze.decode(t):null}const Ln=f([I("delegate")]),ua=Ln.span;function Si(e){const t=F(c.PermanentDelegate,e.tlvData);return t!==null?Ln.decode(t):null}const la=1e4,kt=BigInt(la);function Tt(e){return f([ae("epoch"),ae("maximumFee"),Z("transferFeeBasisPoints")],e)}function da(e,t){const n=e.transferFeeBasisPoints;if(n===0||t===BigInt(0))return BigInt(0);{const o=(t*BigInt(n)+kt-BigInt(1))/kt,a=o>e.maximumFee?e.maximumFee:o;return BigInt(a)}}const Fn=f([I("transferFeeConfigAuthority"),I("withdrawWithheldAuthority"),ae("withheldAmount"),Tt("olderTransferFee"),Tt("newerTransferFee")]),fa=Fn.span;function ma(e,t){return t>=e.newerTransferFee.epoch?e.newerTransferFee:e.olderTransferFee}function bi(e,t,n){const r=ma(e,t);return da(r,n)}const Un=f([ae("withheldAmount")]),ha=Un.span;function Ai(e){const t=F(c.TransferFeeConfig,e.tlvData);return t!==null?Fn.decode(t):null}function wi(e){const t=F(c.TransferFeeAmount,e.tlvData);return t!==null?Un.decode(t):null}const Ye=1,pa=1,ga=1,ya=1,Sa=1,ba=1,Aa=1,wa=1;function _a(e){if(e.length<1)throw new te;const[t,...n]=e;if(n.length<t)throw new te;return{data:le.Buffer.from(n.slice(0,t)),packedLength:Ye+pa+t}}function ka(e,t){if(e.length<2)throw new te;const[n,r]=e;if(t.length<r+n)throw new te;return{data:t.subarray(n,n+r),packedLength:Ye+ga+ya}}function Ta(e,t){if(e.length<1)throw new te;const[n]=e;if(t.length<=n)throw new te;return{data:t[n].pubkey.toBuffer(),packedLength:Ye+Sa}}async function za(e,t,n){if(e.length<3)throw new te;const[r,o,a]=e;if(t.length<=r)throw new te;const s=await n.getAccountInfo(t[r].pubkey);if(s==null)throw new cr;if(s.data.length<o+a)throw new te;return{data:s.data.subarray(o,o+a),packedLength:Ye+ba+Aa+wa}}async function Ea(e,t,n,r){const[o,...a]=e,s=new Uint8Array(a);switch(o){case 0:return null;case 1:return _a(s);case 2:return ka(s,n);case 3:return Ta(s,t);case 4:return za(s,t,r);default:throw new te}}async function Ia(e,t,n,r){const o=[];let a=0;for(;a<32;){const s=await Ea(e.slice(a),t,n,r);if(s==null)break;o.push(s.data),a+=s.packedLength}return o}const Gn=f([I("authority"),I("programId")]),xa=Gn.span;function _i(e){const t=F(c.TransferHook,e.tlvData);return t!==null?Gn.decode(t):null}const Hn=f([he("transferring")]),Ca=Hn.span;function ki(e){const t=F(c.TransferHookAccount,e.tlvData);return t!==null?Hn.decode(t):null}function Ti(e,t){const n=[le.Buffer.from("extra-account-metas"),e.toBuffer()];return M.findProgramAddressSync(n,t)[0]}const zt=f([C("discriminator"),me(32,"addressConfig"),he("isSigner"),he("isWritable")]),va=f([S("count"),fe(zt,rr(zt.span),"extraAccounts")]),Oa=f([ae("instructionDiscriminator"),S("length"),va.replicate("extraAccountsList")]);function zi(e){const t=Oa.decode(e.data).extraAccountsList;return t.extraAccounts.slice(0,t.count)}async function Ei(e,t,n,r,o){if(t.discriminator===0)return{pubkey:new M(t.addressConfig),isSigner:t.isSigner,isWritable:t.isWritable};let a=M.default;if(t.discriminator===1)a=o;else{const m=t.discriminator-128;if(n.length<=m)throw new ur;a=n[m].pubkey}const s=await Ia(t.addressConfig,n,r,e);return{pubkey:M.findProgramAddressSync(s,a)[0],isSigner:t.isSigner,isWritable:t.isWritable}}var c;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.TransferFeeConfig=1]="TransferFeeConfig",e[e.TransferFeeAmount=2]="TransferFeeAmount",e[e.MintCloseAuthority=3]="MintCloseAuthority",e[e.ConfidentialTransferMint=4]="ConfidentialTransferMint",e[e.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",e[e.DefaultAccountState=6]="DefaultAccountState",e[e.ImmutableOwner=7]="ImmutableOwner",e[e.MemoTransfer=8]="MemoTransfer",e[e.NonTransferable=9]="NonTransferable",e[e.InterestBearingConfig=10]="InterestBearingConfig",e[e.CpiGuard=11]="CpiGuard",e[e.PermanentDelegate=12]="PermanentDelegate",e[e.NonTransferableAccount=13]="NonTransferableAccount",e[e.TransferHook=14]="TransferHook",e[e.TransferHookAccount=15]="TransferHookAccount",e[e.MetadataPointer=18]="MetadataPointer",e[e.TokenMetadata=19]="TokenMetadata",e[e.GroupPointer=20]="GroupPointer",e[e.TokenGroup=21]="TokenGroup",e[e.GroupMemberPointer=22]="GroupMemberPointer",e[e.TokenGroupMember=23]="TokenGroupMember"})(c||(c={}));const Xe=2,Ra=2;function pe(e){return e+Xe+Ra}function Na(e){switch(e){case c.TokenMetadata:return!0;default:return!1}}function Ba(e){switch(e){case c.Uninitialized:return 0;case c.TransferFeeConfig:return fa;case c.TransferFeeAmount:return ha;case c.MintCloseAuthority:return ia;case c.ConfidentialTransferMint:return 65;case c.ConfidentialTransferAccount:return 295;case c.CpiGuard:return oo;case c.DefaultAccountState:return ao;case c.ImmutableOwner:return na;case c.MemoTransfer:return oa;case c.MetadataPointer:return aa;case c.NonTransferable:return sa;case c.InterestBearingConfig:return ra;case c.PermanentDelegate:return ua;case c.NonTransferableAccount:return ca;case c.TransferHook:return xa;case c.TransferHookAccount:return Ca;case c.GroupPointer:return ta;case c.GroupMemberPointer:return ea;case c.TokenGroup:return Xo;case c.TokenGroupMember:return Qo;case c.TokenMetadata:throw Error(`Cannot get type length for variable extension type: ${e}`);default:throw Error(`Unknown extension type: ${e}`)}}function Ii(e){switch(e){case c.TransferFeeConfig:case c.MintCloseAuthority:case c.ConfidentialTransferMint:case c.DefaultAccountState:case c.NonTransferable:case c.InterestBearingConfig:case c.PermanentDelegate:case c.TransferHook:case c.MetadataPointer:case c.TokenMetadata:case c.GroupPointer:case c.GroupMemberPointer:case c.TokenGroup:case c.TokenGroupMember:return!0;case c.Uninitialized:case c.TransferFeeAmount:case c.ConfidentialTransferAccount:case c.ImmutableOwner:case c.MemoTransfer:case c.CpiGuard:case c.NonTransferableAccount:case c.TransferHookAccount:return!1;default:throw Error(`Unknown extension type: ${e}`)}}function xi(e){switch(e){case c.TransferFeeAmount:case c.ConfidentialTransferAccount:case c.ImmutableOwner:case c.MemoTransfer:case c.CpiGuard:case c.NonTransferableAccount:case c.TransferHookAccount:return!0;case c.Uninitialized:case c.TransferFeeConfig:case c.MintCloseAuthority:case c.ConfidentialTransferMint:case c.DefaultAccountState:case c.NonTransferable:case c.InterestBearingConfig:case c.PermanentDelegate:case c.TransferHook:case c.MetadataPointer:case c.TokenMetadata:case c.GroupPointer:case c.GroupMemberPointer:case c.TokenGroup:case c.TokenGroupMember:return!1;default:throw Error(`Unknown extension type: ${e}`)}}function Da(e){switch(e){case c.TransferFeeConfig:return c.TransferFeeAmount;case c.ConfidentialTransferMint:return c.ConfidentialTransferAccount;case c.NonTransferable:return c.NonTransferableAccount;case c.TransferHook:return c.TransferHookAccount;case c.TransferFeeAmount:case c.ConfidentialTransferAccount:case c.CpiGuard:case c.DefaultAccountState:case c.ImmutableOwner:case c.MemoTransfer:case c.MintCloseAuthority:case c.MetadataPointer:case c.TokenMetadata:case c.Uninitialized:case c.InterestBearingConfig:case c.PermanentDelegate:case c.NonTransferableAccount:case c.TransferHookAccount:case c.GroupPointer:case c.GroupMemberPointer:case c.TokenGroup:case c.TokenGroupMember:return c.Uninitialized}}function Vn(e,t,n={}){if(e.length===0&&Object.keys(n).length===0)return t;{const r=ee+ft+e.filter((o,a)=>a===e.indexOf(o)).map(o=>pe(Ba(o))).reduce((o,a)=>o+a,0)+Object.entries(n).map(([o,a])=>{if(!Na(Number(o)))throw Error(`Extension ${o} is not variable length`);return pe(a)}).reduce((o,a)=>o+a,0);return r===Be?r+Xe:r}}function Ma(e,t={}){return Vn(e,Le,t)}function jn(e){return Vn(e,ee)}function F(e,t){let n=0;for(;pe(n)<=t.length;){const r=t.readUInt16LE(n),o=t.readUInt16LE(n+Xe),a=pe(n);if(r==e)return t.slice(a,a+o);n=a+o}return null}function Pa(e){const t=[];let n=0;for(;n<e.length;){const r=e.readUInt16LE(n);t.push(r);const o=e.readUInt16LE(n+Xe);n+=pe(o)}return t}function Ci(e){const n=Pa(e.tlvData).map(Da);return jn(n)}function vi(e,t,n,r,o=or){const a=on(t,e,o),s=F(n,a.tlvData),l=s?pe(s.length):0,m=pe(r);return e.data.length+m-l}function Oi(e,t,n,r,o=q,a=ge){return $n(e,t,n,r,le.Buffer.alloc(0),o,a)}function La(e,t,n,r,o=q,a=ge){return $n(e,t,n,r,le.Buffer.from([1]),o,a)}function Ri(e,t,n,r=!0,o=q,a=ge){const s=ro(n,t,r);return La(e,s,t,n,o,a)}function $n(e,t,n,r,o,a=q,s=ge){const l=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:ar.programId,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1}];return new Dt({keys:l,programId:s,data:o})}function Ni(e,t,n,r,o,a,s=q,l=ge){const m=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!0,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1}];return new Dt({keys:m,programId:l,data:le.Buffer.from([2])})}export{vi as $,_i as A,ro as B,Ci as C,La as D,c as E,qa as F,Ha as G,Be as H,$a as I,ee as J,Va as K,Ni as L,Le as M,Ma as N,ai as O,zn as P,ri as Q,Ja as R,H as S,Xo as T,ii as U,oi as V,yo as W,qo as X,Ve as Y,$e as Z,ei as _,ln as a,ki as a$,on as a0,Ue as a1,ft as a2,an as a3,oo as a4,Za as a5,sn as a6,ao as a7,Ya as a8,Xe as a9,ia as aA,pi as aB,Ze as aC,sa as aD,ca as aE,gi as aF,yi as aG,la as aH,kt as aI,Tt as aJ,da as aK,Fn as aL,fa as aM,ma as aN,bi as aO,Un as aP,ha as aQ,Ai as aR,wi as aS,Ln as aT,ua as aU,Si as aV,Ia as aW,Gn as aX,xa as aY,Hn as aZ,Ca as a_,Ra as aa,Ba as ab,Ii as ac,xi as ad,Da as ae,jn as af,Pa as ag,On as ah,ea as ai,ui as aj,Rn as ak,ta as al,li as am,Nn as an,na as ao,di as ap,Bn as aq,ra as ar,fi as as,Dn as at,oa as au,mi as av,Mn as aw,aa as ax,hi as ay,Pn as az,dn as b,zt as b0,va as b1,Oa as b2,Ri as b3,Ge as b4,tn as b5,ja as b6,to as b7,nn as b8,rn as b9,no as ba,en as bb,Ga as bc,eo as bd,he as be,Oi as c,fn as d,Xa as e,mn as f,Ka as g,Go as h,ti as i,ni as j,Do as k,wn as l,Vo as m,Zo as n,No as o,bo as p,Qo as q,F as r,ci as s,Qa as t,si as u,I as v,Ti as w,zi as x,Ei as y,Wa as z};
