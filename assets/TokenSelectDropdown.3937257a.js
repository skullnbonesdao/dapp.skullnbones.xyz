import{cZ as w,c_ as v,dx as y,dd as L,d1 as N,au as h,J as _,bs as S,cR as x,cP as C,b1 as k,ak as I,al as b,a1 as g,as as l,bx as n,a6 as T,b7 as R,ai as A,dq as W,V as D,ar as Q,$ as q,aP as E,aj as F}from"./index.17ac5f68.js";import{Q as K,a as M}from"./QTabs.e450ab50.js";import{Q as U}from"./QImg.1052ec5a.js";import{i as O,j as V,Q as $}from"./QMenu.8b75911f.js";import{Q as j}from"./QSelect.32d21239.js";function se(o,r,i,a,u=v,s=y){return P(o,r,i,a,w.Buffer.alloc(0),u,s)}function oe(o,r,i,a,u=v,s=y){return P(o,r,i,a,w.Buffer.from([1]),u,s)}function P(o,r,i,a,u,s=v,m=y){const d=[{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:L.programId,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}];return new N({keys:d,programId:m,data:u})}const G={class:"row items-center"},J={class:"col text-h6"},Z={class:"row items-center"},z=b("div",{class:"col text-right q-mr-md text-subtitle2"},"Filter:",-1),H={class:"row q-gutter-x-md items-center"},le=h({__name:"TokenSelectDropdown",props:["label","textboxLabel"],emits:["token_account_selected"],setup(o,{emit:r}){const i=r,a=_(),u=_(["list","address"]),s=_("list"),m=_(d());S(()=>a.value,()=>{console.log(a.value),i("token_account_selected",a.value)}),S(()=>s.value,()=>m.value=d());function d(){var f;return s.value=="list"?x().tokenList.map(t=>({name:t.name,symbol:t.symbol,mint:t.address})):(f=C().getAccountsBalanceNotZero)==null?void 0:f.map(t=>{var e,c;return{name:(e=t.info)==null?void 0:e.name,symbol:(c=t.info)==null?void 0:c.symbol,mint:t.mint}})}function B(f,t,e){t(()=>{const c=f.toLowerCase();m.value=d().filter(p=>JSON.stringify(p).toLowerCase().indexOf(c)>-1)})}return(f,t)=>(k(),I(T,null,[b("div",G,[b("div",J,g(o.label),1),b("div",Z,[z,l(K,{dense:"",modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),class:"text-teal"},{default:n(()=>[(k(!0),I(T,null,R(u.value,e=>(k(),A(M,{name:e,label:e,key:e},null,8,["name","label"]))),128))]),_:1},8,["modelValue"])])]),b("div",H,[l(j,{filled:"",square:"",class:"col","use-input":"","hide-selected":"","fill-input":"",onFilter:B,options:m.value,"option-label":e=>e.name?`[${e.symbol}] ${e.name}`:e.mint,modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),label:o.textboxLabel},{option:n(e=>[e.opt.group?F("",!0):(k(),A($,q(E({key:0},e.itemProps)),{default:n(()=>[l(O,{avatar:""},{default:n(()=>[l(W,null,{default:n(()=>{var c,p;return[l(U,{src:(p=D(x)().getTokenByMintPublicKey((c=e.opt)==null?void 0:c.mint.toString()))==null?void 0:p.logoURI},null,8,["src"])]}),_:2},1024)]),_:2},1024),l(O,null,{default:n(()=>[l(V,null,{default:n(()=>[Q("["+g(e.opt.symbol)+"] "+g(e.opt.name),1)]),_:2},1024),l(V,{caption:""},{default:n(()=>[Q(g(e.opt.mint),1)]),_:2},1024)]),_:2},1024)]),_:2},1040))]),_:1},8,["options","option-label","modelValue","label"])])],64))}});export{le as _,oe as a,se as c};
