import{dD as V,dE as Ae,d2 as F,dF as U,dG as _e,d3 as te,dH as we,dI as Vt,dJ as Oe,dK as ie,dL as nm,dM as sm,dN as im,dO as Ie,dn as Co,dP as nc,dQ as om,dR as Rb,dS as Cb,dT as Mb,dU as U0e,d5 as Xe,dV as V0e,bY as q0e,bW as Td,bX as K,dW as VDe,dX as gue,dY as bV,dZ as VS,d_ as j0e,d$ as Fo,e0 as H0e,e1 as jD,e2 as qDe,e3 as jDe,e4 as Tx,P as HDe,e5 as GDe,e6 as q,e7 as Z,e8 as YDe,e9 as G0e,ea as ZDe,dm as Y0e,df as HD,eb as mue,cS as R2,cp as yue,cV as pue,au as IH,b1 as kv,ak as bue,b7 as Sue,ai as GD,bx as uf,as as ml,al as ad,a1 as C2,a6 as kue,V as O1,J as JDe,cm as XDe,aX as QDe,bs as eOe,co as tOe,ar as B5}from"./index.e50ad1c3.js";import{Q as lD}from"./QCardSection.a526c22b.js";import{Q as rOe}from"./QSeparator.4a9a0b95.js";import{Q as Z0e}from"./use-form.e474550c.js";import{Q as nOe}from"./QPage.f60fbbed.js";import{r as nl}from"./index.21409b57.js";import{Q as sOe}from"./QToggle.f1870573.js";import{Q as iOe,a as oOe}from"./QItem.a6f915f8.js";import{Q as aOe}from"./QList.8c0fe475.js";import"./transferChecked.ca69231f.js";import"./use-checkbox.d06cdfa7.js";var pA={};function YD(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function cOe(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function _B(n,...e){if(!cOe(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function uOe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");YD(n.outputLen),YD(n.blockLen)}function bA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function J0e(n,e){_B(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const z5=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lOe=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),$5=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Bd=(n,e)=>n<<32-e|n>>>e,vue=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,dOe=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function Aue(n){for(let e=0;e<n.length;e++)n[e]=dOe(n[e])}function fOe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function u4(n){return typeof n=="string"&&(n=fOe(n)),_B(n),n}function hOe(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];_B(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class PH{clone(){return this._cloneInto()}}function _H(n){const e=r=>n().update(u4(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function X0e(n=32){if(z5&&typeof z5.getRandomValues=="function")return z5.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function gOe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const mOe=(n,e,t)=>n&e^~n&t,yOe=(n,e,t)=>n&e^n&t^e&t;class Q0e extends PH{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=$5(this.buffer)}update(e){bA(this);const{view:t,buffer:r,blockLen:s}=this;e=u4(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=$5(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){bA(this),J0e(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;gOe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=$5(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const Qz=BigInt(2**32-1),SV=BigInt(32);function e1e(n,e=!1){return e?{h:Number(n&Qz),l:Number(n>>SV&Qz)}:{h:Number(n>>SV&Qz)|0,l:Number(n&Qz)|0}}function t1e(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=e1e(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const pOe=(n,e)=>BigInt(n>>>0)<<SV|BigInt(e>>>0),bOe=(n,e,t)=>n>>>t,SOe=(n,e,t)=>n<<32-t|e>>>t,kOe=(n,e,t)=>n>>>t|e<<32-t,vOe=(n,e,t)=>n<<32-t|e>>>t,AOe=(n,e,t)=>n<<64-t|e>>>t-32,wOe=(n,e,t)=>n>>>t-32|e<<64-t,IOe=(n,e)=>e,POe=(n,e)=>n,r1e=(n,e,t)=>n<<t|e>>>32-t,n1e=(n,e,t)=>e<<t|n>>>32-t,s1e=(n,e,t)=>e<<t-32|n>>>64-t,i1e=(n,e,t)=>n<<t-32|e>>>64-t;function _Oe(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const EOe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),xOe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,TOe=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),ROe=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,COe=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),MOe=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,Rr={fromBig:e1e,split:t1e,toBig:pOe,shrSH:bOe,shrSL:SOe,rotrSH:kOe,rotrSL:vOe,rotrBH:AOe,rotrBL:wOe,rotr32H:IOe,rotr32L:POe,rotlSH:r1e,rotlSL:n1e,rotlBH:s1e,rotlBL:i1e,add:_Oe,add3L:EOe,add3H:xOe,add4L:TOe,add4H:ROe,add5H:MOe,add5L:COe},[BOe,zOe]=(()=>Rr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),pm=new Uint32Array(80),bm=new Uint32Array(80);class $Oe extends Q0e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)pm[p]=e.getUint32(t),bm[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=pm[p-15]|0,w=bm[p-15]|0,A=Rr.rotrSH(I,w,1)^Rr.rotrSH(I,w,8)^Rr.shrSH(I,w,7),_=Rr.rotrSL(I,w,1)^Rr.rotrSL(I,w,8)^Rr.shrSL(I,w,7),E=pm[p-2]|0,M=bm[p-2]|0,P=Rr.rotrSH(E,M,19)^Rr.rotrBH(E,M,61)^Rr.shrSH(E,M,6),R=Rr.rotrSL(E,M,19)^Rr.rotrBL(E,M,61)^Rr.shrSL(E,M,6),$=Rr.add4L(_,R,bm[p-7],bm[p-16]),z=Rr.add4H($,A,P,pm[p-7],pm[p-16]);pm[p]=z|0,bm[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Rr.rotrSH(d,y,14)^Rr.rotrSH(d,y,18)^Rr.rotrBH(d,y,41),w=Rr.rotrSL(d,y,14)^Rr.rotrSL(d,y,18)^Rr.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=Rr.add5L(S,w,_,zOe[p],bm[p]),M=Rr.add5H(E,b,I,A,BOe[p],pm[p]),P=E|0,R=Rr.rotrSH(r,s,28)^Rr.rotrBH(r,s,34)^Rr.rotrBH(r,s,39),$=Rr.rotrSL(r,s,28)^Rr.rotrBL(r,s,34)^Rr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Rr.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Rr.add3L(P,$,T);r=Rr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Rr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Rr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Rr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Rr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Rr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Rr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Rr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Rr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){pm.fill(0),bm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const DOe=_H(()=>new $Oe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const EH=BigInt(0),l4=BigInt(1),OOe=BigInt(2);function G1(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function EB(n){if(!G1(n))throw new Error("Uint8Array expected")}function Fg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const KOe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Y1(n){EB(n);let e="";for(let t=0;t<n.length;t++)e+=KOe[n[t]];return e}function o1e(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function xH(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Ah={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function wue(n){if(n>=Ah._0&&n<=Ah._9)return n-Ah._0;if(n>=Ah._A&&n<=Ah._F)return n-(Ah._A-10);if(n>=Ah._a&&n<=Ah._f)return n-(Ah._a-10)}function SA(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=wue(n.charCodeAt(i)),a=wue(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function K1(n){return xH(Y1(n))}function Lv(n){return EB(n),xH(Y1(Uint8Array.from(n).reverse()))}function kA(n,e){return SA(n.toString(16).padStart(e*2,"0"))}function X2(n,e){return kA(n,e).reverse()}function LOe(n){return SA(o1e(n))}function Jo(n,e,t){let r;if(typeof e=="string")try{r=SA(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(G1(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function Z1(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];EB(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function WOe(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function NOe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const D5=n=>typeof n=="bigint"&&EH<=n;function d4(n,e,t){return D5(n)&&D5(e)&&D5(t)&&e<=n&&n<t}function pl(n,e,t,r){if(!d4(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function FOe(n){let e;for(e=0;n>EH;n>>=l4,e+=1);return e}function UOe(n,e){return n>>BigInt(e)&l4}function VOe(n,e,t){return n|(t?l4:EH)<<BigInt(e)}const TH=n=>(OOe<<BigInt(n-1))-l4,O5=n=>new Uint8Array(n),Iue=n=>Uint8Array.from(n);function a1e(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=O5(n),s=O5(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=O5())=>{s=a(Iue([0]),d),r=a(),d.length!==0&&(s=a(Iue([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return Z1(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const qOe={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||G1(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Rx(n,e,t={}){const r=(s,i,o)=>{const a=qOe[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const jOe=()=>{throw new Error("not implemented")};function Q2(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var HOe=Object.freeze(Object.defineProperty({__proto__:null,isBytes:G1,abytes:EB,abool:Fg,bytesToHex:Y1,numberToHexUnpadded:o1e,hexToNumber:xH,hexToBytes:SA,bytesToNumberBE:K1,bytesToNumberLE:Lv,numberToBytesBE:kA,numberToBytesLE:X2,numberToVarBytesBE:LOe,ensureBytes:Jo,concatBytes:Z1,equalBytes:WOe,utf8ToBytes:NOe,inRange:d4,aInRange:pl,bitLen:FOe,bitGet:UOe,bitSet:VOe,bitMask:TH,createHmacDrbg:a1e,validateObject:Rx,notImplemented:jOe,memoized:Q2},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ja=BigInt(0),Mi=BigInt(1),Y0=BigInt(2),GOe=BigInt(3),kV=BigInt(4),Pue=BigInt(5),_ue=BigInt(8);BigInt(9);BigInt(16);function di(n,e){const t=n%e;return t>=ja?t:e+t}function YOe(n,e,t){if(t<=ja||e<ja)throw new Error("Expected power/modulo > 0");if(t===Mi)return ja;let r=Mi;for(;e>ja;)e&Mi&&(r=r*n%t),n=n*n%t,e>>=Mi;return r}function Zi(n,e,t){let r=n;for(;e-- >ja;)r*=r,r%=t;return r}function vV(n,e){if(n===ja||e<=ja)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=di(n,e),r=e,s=ja,i=Mi;for(;t!==ja;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Mi)throw new Error("invert: does not exist");return di(s,e)}function ZOe(n){const e=(n-Mi)/Y0;let t,r,s;for(t=n-Mi,r=0;t%Y0===ja;t/=Y0,r++);for(s=Y0;s<n&&YOe(s,e,n)!==n-Mi;s++);if(r===1){const o=(n+Mi)/kV;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Mi)/Y0;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Mi<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function JOe(n){if(n%kV===GOe){const e=(n+Mi)/kV;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%_ue===Pue){const e=(n-Pue)/_ue;return function(r,s){const i=r.mul(s,Y0),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,Y0),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return ZOe(n)}const XOe=(n,e)=>(di(n,e)&Mi)===Mi,QOe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function e4e(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=QOe.reduce((r,s)=>(r[s]="function",r),e);return Rx(n,t)}function t4e(n,e,t){if(t<ja)throw new Error("Expected power > 0");if(t===ja)return n.ONE;if(t===Mi)return e;let r=n.ONE,s=e;for(;t>ja;)t&Mi&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Mi;return r}function r4e(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function c1e(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function u1e(n,e,t=!1,r={}){if(n<=ja)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=c1e(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=JOe(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:TH(s),ZERO:ja,ONE:Mi,create:c=>di(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return ja<=c&&c<n},is0:c=>c===ja,isOdd:c=>(c&Mi)===Mi,neg:c=>di(-c,n),eql:(c,u)=>c===u,sqr:c=>di(c*c,n),add:(c,u)=>di(c+u,n),sub:(c,u)=>di(c-u,n),mul:(c,u)=>di(c*u,n),pow:(c,u)=>t4e(a,c,u),div:(c,u)=>di(c*vV(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>vV(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>r4e(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?X2(c,i):kA(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?Lv(c):K1(c)}});return Object.freeze(a)}function l1e(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function d1e(n){const e=l1e(n);return e+Math.ceil(e/2)}function n4e(n,e,t=!1){const r=n.length,s=l1e(e),i=d1e(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?K1(n):Lv(n),a=di(o,e-Mi)+Mi;return t?X2(a,s):kA(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const s4e=BigInt(0),K5=BigInt(1),L5=new WeakMap,Eue=new WeakMap;function f1e(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>s4e;)o&K5&&(a=a.add(c)),c=c.double(),o>>=K5;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=K5);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=Eue.get(i)||1;let u=L5.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&L5.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),Eue.set(i,o),L5.delete(i)}}}function RH(n){return e4e(n.Fp),Rx(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...c1e(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ml=BigInt(0),Kc=BigInt(1),e$=BigInt(2),i4e=BigInt(8),o4e={zip215:!0};function a4e(n){const e=RH(n);return Rx(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function c4e(n){const e=a4e(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=e$<<BigInt(a*8)-Kc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Ml}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(Fg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){pl("coordinate "+v,k,Ml,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=Q2((v,k)=>{const{ex:x,ey:C,ez:B}=v,O=v.is0();k==null&&(k=O?i4e:t.inv(B));const D=l(x*k),W=l(C*k),L=l(B*k);if(O)return{x:Ml,y:Kc};if(L!==Kc)throw new Error("invZ was invalid");return{x:D,y:W}}),b=Q2(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:O,et:D}=v,W=l(C*C),L=l(B*B),N=l(O*O),H=l(N*N),J=l(W*k),Q=l(N*l(J+L)),Y=l(H+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,Kc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:O,ey:D,ez:W}=k,L=l(x*W),N=l(O*B),H=l(C*W),J=l(D*B);return L===N&&H===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,O=l(x*x),D=l(C*C),W=l(e$*l(B*B)),L=l(k*O),N=x+C,H=l(l(N*N)-O-D),J=L+D,Q=J-W,Y=L-D,X=l(H*Q),re=l(J*Y),se=l(H*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:O,ez:D,et:W}=this,{ex:L,ey:N,ez:H,et:J}=k;if(x===BigInt(-1)){const Lt=l((O-B)*(N+L)),Dt=l((O+B)*(N-L)),et=l(Dt-Lt);if(et===Ml)return this.double();const Ue=l(D*e$*J),Wt=l(W*e$*H),sr=Wt+Ue,rr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(rr*pr),gn=l(sr*pr),ds=l(et*rr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(O*N),X=l(W*C*J),re=l(D*H),se=l((B+O)*(L+N)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),Pe=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(Pe,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;pl("scalar",x,Kc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return pl("scalar",x,Ml,r),x===Ml?I:this.equals(I)||x===Kc?this:this.equals(p)?this.wNAF(x).p:w.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Kc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,O=t.BYTES;k=Jo("pointHex",k,O),Fg("zip215",x);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=Lv(D),N=x?u:t.ORDER;pl("pointHex.y",L,Ml,N);const H=l(L*L),J=l(H-Kc),Q=l(C*H-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Kc)===Kc,se=(W&128)!==0;if(!x&&X===Ml&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=X2(x,t.BYTES);return C[C.length-1]|=k&Kc?128:0,C}toHex(){return Y1(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Kc,l(e.Gx*e.Gy)),S.ZERO=new S(Ml,Kc,Kc,Ml);const{BASE:p,ZERO:I}=S,w=f1e(S,a*8);function A(v){return di(v,r)}function _(v){return A(Lv(v))}function E(v){const k=a;v=Jo("private key",v,k);const x=Jo("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),O=_(C),D=p.multiply(O),W=D.toRawBytes();return{head:C,prefix:B,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function P(v=new Uint8Array,...k){const x=Z1(...k);return _(i(h(x,Jo("context",v),!!s)))}function R(v,k,x={}){v=Jo("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:O}=E(k),D=P(x.context,C,v),W=p.multiply(D).toRawBytes(),L=P(x.context,W,O,v),N=A(D+L*B);pl("signature.s",N,Ml,r);const H=Z1(W,X2(N,t.BYTES));return Jo("result",H,a*2)}const $=o4e;function z(v,k,x,C=$){const{context:B,zip215:O}=C,D=t.BYTES;v=Jo("signature",v,2*D),k=Jo("message",k),O!==void 0&&Fg("zip215",O),s&&(k=s(k));const W=Lv(v.slice(D,2*D));let L,N,H;try{L=S.fromHex(x,O),N=S.fromHex(v.slice(0,D),O),H=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=P(B,N.toRawBytes(),L.toRawBytes(),k);return N.add(L.multiplyUnsafe(J)).subtract(H).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const CH=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),xue=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const u4e=BigInt(1),Tue=BigInt(2);BigInt(3);const l4e=BigInt(5),d4e=BigInt(8);function f4e(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=CH,a=n*n%i*n%i,c=Zi(a,Tue,i)*a%i,u=Zi(c,u4e,i)*n%i,l=Zi(u,l4e,i)*u%i,d=Zi(l,e,i)*l%i,y=Zi(d,t,i)*d%i,h=Zi(y,r,i)*y%i,m=Zi(h,s,i)*h%i,f=Zi(m,s,i)*h%i,g=Zi(f,e,i)*l%i;return{pow_p_5_8:Zi(g,Tue,i)*n%i,b2:a}}function h4e(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function g4e(n,e){const t=CH,r=di(e*e*e,t),s=di(r*r*e,t),i=f4e(n*s).pow_p_5_8;let o=di(n*r*i,t);const a=di(e*o*o,t),c=o,u=di(o*xue,t),l=a===n,d=a===di(-n,t),y=a===di(-n*xue,t);return l&&(o=c),(d||y)&&(o=u),XOe(o,t)&&(o=di(-o,t)),{isValid:l||d,value:o}}const m4e=(()=>u1e(CH,void 0,!0))(),y4e=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:m4e,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:d4e,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:DOe,randomBytes:X0e,adjustScalarBytes:h4e,uvRatio:g4e}))(),Cx=(()=>c4e(y4e))(),p4e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Sm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),km=new Uint32Array(64);class b4e extends Q0e{constructor(){super(64,32,8,!1),this.A=Sm[0]|0,this.B=Sm[1]|0,this.C=Sm[2]|0,this.D=Sm[3]|0,this.E=Sm[4]|0,this.F=Sm[5]|0,this.G=Sm[6]|0,this.H=Sm[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)km[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=km[d-15],h=km[d-2],m=Bd(y,7)^Bd(y,18)^y>>>3,f=Bd(h,17)^Bd(h,19)^h>>>10;km[d]=f+km[d-7]+m+km[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Bd(a,6)^Bd(a,11)^Bd(a,25),h=l+y+mOe(a,c,u)+p4e[d]+km[d]|0,f=(Bd(r,2)^Bd(r,13)^Bd(r,22))+yOe(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){km.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const AV=_H(()=>new b4e);class S4e extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function k4e(n){return xB(n)&&typeof n[Symbol.iterator]=="function"}function xB(n){return typeof n=="object"&&n!=null}function ZD(n){return xB(n)&&!Array.isArray(n)}function dd(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function v4e(n){const{done:e,value:t}=n.next();return e?void 0:t}function A4e(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${dd(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*Rue(n,e,t,r){k4e(n)||(n=[n]);for(const s of n){const i=A4e(s,e,t,r);i&&(yield i)}}function*MH(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=MH(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):xB(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class ah{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return Rue(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return Rue(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return h1e(e,this,t)}create(e,t){return dt(e,this,t)}is(e){return g1e(e,this)}mask(e,t){return w4e(e,this,t)}validate(e,t={}){return TB(e,this,t)}}function h1e(n,e,t){const r=TB(n,e,{message:t});if(r[0])throw r[0]}function dt(n,e,t){const r=TB(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function w4e(n,e,t){const r=TB(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function g1e(n,e){return!TB(n,e)[0]}function TB(n,e,t={}){const r=MH(n,e,t),s=v4e(r);if(s[0])return[new S4e(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function qS(n,e){return new ah({type:n,schema:null,validator:e})}function I4e(){return qS("any",()=>!0)}function kt(n){return new ah({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${dd(e)}`}})}function Zf(){return qS("boolean",n=>typeof n=="boolean")}function BH(n){return qS("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${dd(e)}`)}function wi(n){const e=dd(n),t=typeof n;return new ah({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${dd(r)}`}})}function P4e(){return qS("never",()=>!1)}function xt(n){return new ah({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function fe(){return qS("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${dd(n)}`)}function ur(n){return new ah({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function m1e(n,e){return new ah({type:"record",schema:null,*entries(t){if(xB(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return ZD(t)||`Expected an object, but received: ${dd(t)}`},coercer(t){return ZD(t)?{...t}:t}})}function Ve(){return qS("string",n=>typeof n=="string"||`Expected a string, but received: ${dd(n)}`)}function zH(n){const e=P4e();return new ah({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${dd(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function xe(n){const e=Object.keys(n);return new ah({type:"type",schema:n,*entries(t){if(xB(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return ZD(t)||`Expected an object, but received: ${dd(t)}`},coercer(t){return ZD(t)?{...t}:t}})}function Tc(n){const e=n.map(t=>t.type).join(" | ");return new ah({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=MH(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${dd(t)}`,...s]}})}function Mx(){return qS("unknown",()=>!0)}function RB(n,e,t){return new ah({...n,coercer:(r,s)=>g1e(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const y1e=[],p1e=[],b1e=[],_4e=BigInt(0),gR=BigInt(1),E4e=BigInt(2),x4e=BigInt(7),T4e=BigInt(256),R4e=BigInt(113);for(let n=0,e=gR,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],y1e.push(2*(5*r+t)),p1e.push((n+1)*(n+2)/2%64);let s=_4e;for(let i=0;i<7;i++)e=(e<<gR^(e>>x4e)*R4e)%T4e,e&E4e&&(s^=gR<<(gR<<BigInt(i))-gR);b1e.push(s)}const[C4e,M4e]=t1e(b1e,!0),Cue=(n,e,t)=>t>32?s1e(n,e,t):r1e(n,e,t),Mue=(n,e,t)=>t>32?i1e(n,e,t):n1e(n,e,t);function B4e(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=Cue(u,l,1)^t[a],y=Mue(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=p1e[o],c=Cue(s,i,a),u=Mue(s,i,a),l=y1e[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=C4e[r],n[1]^=M4e[r]}t.fill(0)}class $H extends PH{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,YD(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=lOe(this.state)}keccak(){vue||Aue(this.state32),B4e(this.state32,this.rounds),vue||Aue(this.state32),this.posOut=0,this.pos=0}update(e){bA(this);const{blockLen:t,state:r}=this;e=u4(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){bA(this,!1),_B(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return YD(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(J0e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new $H(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const z4e=(n,e,t)=>_H(()=>new $H(e,n,t)),Bue=z4e(1,136,256/8);class S1e extends PH{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,uOe(e);const r=u4(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return bA(this),this.iHash.update(e),this}digestInto(e){bA(this),_B(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const k1e=(n,e,t)=>new S1e(n,e).update(t).digest();k1e.create=(n,e)=>new S1e(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zue(n){n.lowS!==void 0&&Fg("lowS",n.lowS),n.prehash!==void 0&&Fg("prehash",n.prehash)}function $4e(n){const e=RH(n);Rx(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:D4e,hexToBytes:O4e}=HOe,p1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=p1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:D4e(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=p1,t=typeof n=="string"?O4e(n):n;EB(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=p1._parseInt(t.subarray(2)),{d:o,l:a}=p1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Ay=BigInt(0),la=BigInt(1);BigInt(2);const $ue=BigInt(3);BigInt(4);function K4e(n){const e=$4e(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return Z1(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return d4(m,la,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(G1(m)&&(m=Y1(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:K1(Jo("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=di(p,S)),pl("private key",p,la,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=Q2((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=Q2(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(Jo("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),_=t.eql(t.mul(b,w),t.mul(I,S));return A&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,$ue),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,_=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),P=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),_=t.mul(S,I),_=t.add(_,_),w=t.mul(f,_),A=t.mul(b,P),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),_=t.mul(b,_),P=t.mul(f,P),R=t.sub(E,P),R=t.mul(f,R),R=t.add(R,_),_=t.add(E,E),E=t.add(_,E),E=t.add(E,P),E=t.mul(E,R),A=t.add(A,E),P=t.mul(p,I),P=t.add(P,P),E=t.mul(P,R),w=t.sub(w,E),_=t.mul(P,M),_=t.add(_,_),_=t.add(_,_),new d(w,A,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,_=t.ZERO,E=t.ZERO;const M=e.a,P=t.mul(e.b,$ue);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(P,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),_=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(P,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),_=t.add(_,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,_,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){pl("scalar",f,Ay,e.n);const g=d.ZERO;if(f===Ay)return g;if(f===la)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,_=g,E=this;for(;p>Ay||w>Ay;)p&la&&(A=A.add(E)),w&la&&(_=_.add(E)),E=E.double(),p>>=la,w>>=la;return S&&(A=A.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),A.add(_)}multiply(f){const{endo:g,n:b}=e;pl("scalar",f,la,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:_}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:P,f:R}=this.wNAF(_);E=h.constTimeNegate(I,E),P=h.constTimeNegate(A,P),P=new d(t.mul(P.px,g.beta),P.py,P.pz),S=E.add(P),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===Ay||A===la||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===la)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===la?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Fg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Fg("isCompressed",f),Y1(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=f1e(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function L4e(n){const e=RH(n);return Rx(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function W4e(n){const e=L4e(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return di(T,r)}function a(T){return vV(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=K4e({...e,toBytes(T,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=Z1;return Fg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(T){const v=T.length,k=T[0],x=T.subarray(1);if(v===s&&(k===2||k===3)){const C=K1(x);if(!d4(C,la,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let O;try{O=t.sqrt(B)}catch(L){const N=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+N)}const D=(O&la)===la;return(k&1)===1!==D&&(O=t.neg(O)),{x:C,y:O}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>Y1(kA(T,e.nByteLength));function h(T){const v=r>>la;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>K1(T.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=Jo("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=p1.toSig(Jo("DER",v));return new g(k,x)}assertValidity(){pl("r",this.r,la,r),pl("s",this.s,la,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=A(Jo("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const O=C===2||C===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(C&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),N=o(-B*L),H=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,N,H);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return SA(this.toDERHex())}toDERHex(){return p1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return SA(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=d1e(e.n);return n4e(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=G1(T),k=typeof T=="string",x=(v||k)&&T.length;return v?x===s||x===i:k?x===2*s||x===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=K1(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},_=TH(e.nBitLength);function E(T){return pl(`num < 2^${e.nBitLength}`,T,Ay,_),kA(T,e.nByteLength)}function M(T,v,k=P){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:O,extraEntropy:D}=k;B==null&&(B=!0),T=Jo("msgHash",T),zue(k),O&&(T=Jo("prehashed msgHash",x(T)));const W=A(T),L=u(v),N=[E(L),E(W)];if(D!=null&&D!==!1){const Y=D===!0?C(t.BYTES):D;N.push(Jo("extraEntropy",Y))}const H=Z1(...N),J=W;function Q(Y){const X=w(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Ay)return;const ne=o(re*o(J+ee*L));if(ne===Ay)return;let ve=(se.x===ee?0:2)|Number(se.y&la),Pe=ne;return B&&h(ne)&&(Pe=m(ne),ve^=1),new g(ee,Pe,ve)}return{seed:H,k2sig:Q}}const P={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=P){const{seed:x,k2sig:C}=M(T,v,k),B=e;return a1e(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function z(T,v,k,x=R){var se;const C=T;if(v=Jo("msgHash",v),k=Jo("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");zue(x);const{lowS:B,prehash:O}=x;let D,W;try{if(typeof C=="string"||G1(C))try{D=g.fromDER(C)}catch(ee){if(!(ee instanceof p1.Err))throw ee;D=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:N}=D,H=A(v),J=a(N),Q=o(H*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function N4e(n){return{hash:n,hmac:(e,...t)=>k1e(n,e,hOe(...t)),randomBytes:X0e}}function F4e(n,e){const t=r=>W4e({...n,...N4e(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const v1e=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Due=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),U4e=BigInt(1),wV=BigInt(2),Oue=(n,e)=>(n+e/wV)/e;function V4e(n){const e=v1e,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=Zi(l,t,e)*l%e,y=Zi(d,t,e)*l%e,h=Zi(y,wV,e)*u%e,m=Zi(h,s,e)*h%e,f=Zi(m,i,e)*m%e,g=Zi(f,a,e)*f%e,b=Zi(g,c,e)*g%e,S=Zi(b,a,e)*f%e,p=Zi(S,t,e)*l%e,I=Zi(p,o,e)*m%e,w=Zi(I,r,e)*u%e,A=Zi(w,wV,e);if(!IV.eql(IV.sqr(A),n))throw new Error("Cannot find square root");return A}const IV=u1e(v1e,void 0,void 0,{sqrt:V4e}),f4=F4e({a:BigInt(0),b:BigInt(7),Fp:IV,n:Due,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Due,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-U4e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=Oue(i*n,e),c=Oue(-r*n,e);let u=di(n-a*t-c*s,e),l=di(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},AV);BigInt(0);f4.ProjectivePoint;const q4e=Cx.utils.randomPrivateKey,Kue=()=>{const n=Cx.utils.randomPrivateKey(),e=JD(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},JD=Cx.getPublicKey;function Lue(n){try{return Cx.ExtendedPoint.fromHex(n),!0}catch{return!1}}const DH=(n,e)=>Cx.sign(n,e.slice(0,32)),j4e=Cx.verify,Zr=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class OH{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(nm(M2,this))}static decode(e){return sm(M2,this,e)}static decodeUnchecked(e){return im(M2,this,e)}}class H4e extends OH{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const M2=new Map;var A1e;const w1e=32,Lf=32;function G4e(n){return n._bn!==void 0}let Wue=1;class Ee extends OH{constructor(e){if(super({}),this._bn=void 0,G4e(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Lf)throw new Error("Invalid public key input");this._bn=new Co(t)}else this._bn=new Co(e);if(this._bn.byteLength()>Lf)throw new Error("Invalid public key input")}}static unique(){const e=new Ee(Wue);return Wue+=1,new Ee(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Lf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=AV(s);return new Ee(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>w1e)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,Zr(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=AV(r);if(Lue(s))throw new Error("Invalid seeds, address must fall off the curve");return new Ee(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new Ee(e);return Lue(t.toBytes())}}A1e=Ee;Ee.default=new A1e("11111111111111111111111111111111");M2.set(Ee,{kind:"struct",fields:[["_bn","u256"]]});class Y4e{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Zr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Zr(q4e()),this._publicKey=Zr(JD(this._secretKey))}get publicKey(){return new Ee(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const Z4e=new Ee("BPFLoader1111111111111111111111111111111111"),Ky=1280-40-8,h4=127,eM=64;class KH extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(KH.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class LH extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(LH.prototype,"name",{value:"TransactionExpiredTimeoutError"});class vv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(vv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class tM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const mn=(n="publicKey")=>ie(32,n),J4e=(n="signature")=>ie(64,n),b1=(n="string")=>{const e=F([U("length"),U("lengthPadding"),ie(Vt(U(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>U().span+U().span+V.Buffer.from(i,"utf8").length,s},X4e=(n="authorized")=>F([mn("staker"),mn("withdrawer")],n),Q4e=(n="lockup")=>F([_e("unixTimestamp"),_e("epoch"),mn("custodian")],n),eKe=(n="voteInit")=>F([mn("nodePubkey"),mn("authorizedVoter"),mn("authorizedWithdrawer"),te("commission")],n),tKe=(n="voteAuthorizeWithSeedArgs")=>F([U("voteAuthorizationType"),mn("currentAuthorityDerivedKeyOwnerPubkey"),b1("currentAuthorityDerivedKeySeed"),mn("newAuthorized")],n);function I1e(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return I1e({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function Qc(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function $u(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function On(n,e){if(!n)throw new Error(e||"Assertion failed")}class g4{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new g4(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];On(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{On(t.length>0,"Expected at least one writable signer key");const[c]=t[0];On(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new Ee(c)),...r.map(([c])=>new Ee(c)),...s.map(([c])=>new Ee(c)),...i.map(([c])=>new Ee(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new Ee(i),c=e.findIndex(u=>u.equals(a));c>=0&&(On(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const P1e="Reached end of buffer unexpectedly";function lf(n){if(n.length===0)throw new Error(P1e);return n.shift()}function eu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(P1e);return n.splice(...e)}class fd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new Ee(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new tM(this.staticAccountKeys)}static compile(e){const t=g4.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new tM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new fd({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];$u(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];$u(f,y.length);let g=[];return $u(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];$u(s,r.length);let i=V.Buffer.alloc(Ky);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=F([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=F([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(mn("key"),e,"keys"),mn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>Zr(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=lf(t);if(r!==(r&h4))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=lf(t),i=lf(t),o=Qc(t);let a=[];for(let y=0;y<o;y++){const h=eu(t,0,Lf);a.push(new Ee(V.Buffer.from(h)))}const c=eu(t,0,Lf),u=Qc(t);let l=[];for(let y=0;y<u;y++){const h=lf(t),m=Qc(t),f=eu(t,0,m),g=Qc(t),b=eu(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new fd(d)}}class J1{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new tM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=g4.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new tM(a,s).compileInstructions(e.instructions);return new J1({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();$u(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();$u(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();$u(i,this.addressTableLookups.length);const o=F([te("prefix"),F([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(mn(),this.staticAccountKeys.length,"staticAccountKeys"),mn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Ky),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Ky);for(const r of this.compiledInstructions){const s=Array();$u(s,r.accountKeyIndexes.length);const i=Array();$u(i,r.data.length),e+=F([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Ky);for(const r of this.addressTableLookups){const s=Array();$u(s,r.writableIndexes.length);const i=Array();$u(i,r.readonlyIndexes.length),e+=F([mn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=lf(t),s=r&h4;On(r!==s,"Expected versioned message but received legacy message");const i=s;On(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:lf(t),numReadonlySignedAccounts:lf(t),numReadonlyUnsignedAccounts:lf(t)},a=[],c=Qc(t);for(let m=0;m<c;m++)a.push(new Ee(eu(t,0,Lf)));const u=Ie.encode(eu(t,0,Lf)),l=Qc(t),d=[];for(let m=0;m<l;m++){const f=lf(t),g=Qc(t),b=eu(t,0,g),S=Qc(t),p=new Uint8Array(eu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=Qc(t),h=[];for(let m=0;m<y;m++){const f=new Ee(eu(t,0,Lf)),g=Qc(t),b=eu(t,0,g),S=Qc(t),p=eu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new J1({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const WH={deserializeMessageVersion(n){const e=n[0],t=e&h4;return t===e?"legacy":t},deserialize:n=>{const e=WH.deserializeMessageVersion(n);if(e==="legacy")return fd.from(n);if(e===0)return J1.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let gg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const rKe=V.Buffer.alloc(eM).fill(0);class us{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Dn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new us(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new Ee(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{On(f.programIdIndex>=0),f.accounts.forEach(g=>On(g>=0))}),new fd({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=DH(r,s.secretKey);this._addSignature(s.publicKey,Zr(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){On(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):j4e(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];$u(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return On(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(On(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),On(i.length<=Ky,`Transaction too large: ${i.length} > ${Ky}`),i}get keys(){return On(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return On(this.instructions.length===1),this.instructions[0].programId}get data(){return On(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Qc(t);let s=[];for(let i=0;i<r;i++){const o=eu(t,0,eM);s.push(Ie.encode(V.Buffer.from(o)))}return Dn.populate(fd.from(t),s)}static populate(e,t=[]){const r=new Dn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(rKe)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new us({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class NH{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;On(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;On(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new us({programId:g,data:Zr(m.data),keys:f}))}return new NH({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return fd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return J1.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class FH{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)On(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(eM));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();$u(t,this.signatures.length);const r=F([ie(t.length,"encodedSignaturesLength"),we(J4e(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=Qc(t);for(let o=0;o<s;o++)r.push(new Uint8Array(eu(t,0,eM)));const i=WH.deserialize(new Uint8Array(t));return new FH(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));On(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=DH(t,s.secretKey)}}addSignature(e,t){On(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));On(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const nKe=160,sKe=64,iKe=nKe/sKe,_1e=1e3/iKe,Jd=new Ee("SysvarC1ock11111111111111111111111111111111"),oKe=new Ee("SysvarEpochSchedu1e111111111111111111111111"),aKe=new Ee("Sysvar1nstructions1111111111111111111111111"),dD=new Ee("SysvarRecentB1ockHashes11111111111111111111"),X1=new Ee("SysvarRent111111111111111111111111111111111"),cKe=new Ee("SysvarRewards111111111111111111111111111111"),uKe=new Ee("SysvarS1otHashes111111111111111111111111111"),lKe=new Ee("SysvarS1otHistory11111111111111111111111111"),fD=new Ee("SysvarStakeHistory1111111111111111111111111");class Wp extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const dKe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class jt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function PV(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new Wp({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function Z0(n){return new Promise(e=>setTimeout(e,n))}function En(n,e){const t=n.layout.span>=0?n.layout.span:I1e(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function Qn(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const E1e=Ae("lamportsPerSignature"),x1e=F([U("version"),U("state"),mn("authorizedPubkey"),mn("nonce"),F([E1e],"feeCalculator")]),rM=x1e.span;class m4{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=x1e.decode(Zr(e),0);return new m4({authorizedPubkey:new Ee(t.authorizedPubkey),nonce:new Ee(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const fKe=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},hKe=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=fKe(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return om(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=nc(o,n);return r(u,a,c)},i},vA=hKe(8);class gKe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Bs))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=Qn(Bs.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new Ee(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Qn(Bs.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=Qn(Bs.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new Ee(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Qn(Bs.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=Qn(Bs.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ee(t),seed:r,space:s,programId:new Ee(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Qn(Bs.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Ee(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=Qn(Bs.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ee(t),seed:r,programId:new Ee(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=Qn(Bs.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Ee(t),seed:r,lamports:s,space:i,programId:new Ee(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Qn(Bs.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Ee(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Qn(Bs.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Qn(Bs.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Qn(Bs.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Ee(t)}}static checkProgramId(e){if(!e.equals($o.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Bs=Object.freeze({Create:{index:0,layout:F([U("instruction"),_e("lamports"),_e("space"),mn("programId")])},Assign:{index:1,layout:F([U("instruction"),mn("programId")])},Transfer:{index:2,layout:F([U("instruction"),vA("lamports")])},CreateWithSeed:{index:3,layout:F([U("instruction"),mn("base"),b1("seed"),_e("lamports"),_e("space"),mn("programId")])},AdvanceNonceAccount:{index:4,layout:F([U("instruction")])},WithdrawNonceAccount:{index:5,layout:F([U("instruction"),_e("lamports")])},InitializeNonceAccount:{index:6,layout:F([U("instruction"),mn("authorized")])},AuthorizeNonceAccount:{index:7,layout:F([U("instruction"),mn("authorized")])},Allocate:{index:8,layout:F([U("instruction"),_e("space")])},AllocateWithSeed:{index:9,layout:F([U("instruction"),mn("base"),b1("seed"),_e("space"),mn("programId")])},AssignWithSeed:{index:10,layout:F([U("instruction"),mn("base"),b1("seed"),mn("programId")])},TransferWithSeed:{index:11,layout:F([U("instruction"),vA("lamports"),b1("seed"),mn("programId")])},UpgradeNonceAccount:{index:12,layout:F([U("instruction")])}});class $o{constructor(){}static createAccount(e){const t=Bs.Create,r=En(t,{lamports:e.lamports,space:e.space,programId:Zr(e.programId.toBuffer())});return new us({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Bs.TransferWithSeed;t=En(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:Zr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Bs.Transfer;t=En(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new us({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Bs.AssignWithSeed;t=En(s,{base:Zr(e.basePubkey.toBuffer()),seed:e.seed,programId:Zr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Bs.Assign;t=En(s,{programId:Zr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new us({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Bs.CreateWithSeed,r=En(t,{base:Zr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Zr(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new us({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Dn;"basePubkey"in e&&"seed"in e?t.add($o.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:rM,programId:this.programId})):t.add($o.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:rM,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Bs.InitializeNonceAccount,r=En(t,{authorized:Zr(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:dD,isSigner:!1,isWritable:!1},{pubkey:X1,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new us(s)}static nonceAdvance(e){const t=Bs.AdvanceNonceAccount,r=En(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:dD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new us(s)}static nonceWithdraw(e){const t=Bs.WithdrawNonceAccount,r=En(t,{lamports:e.lamports});return new us({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:dD,isSigner:!1,isWritable:!1},{pubkey:X1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Bs.AuthorizeNonceAccount,r=En(t,{authorized:Zr(e.newAuthorizedPubkey.toBuffer())});return new us({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Bs.AllocateWithSeed;t=En(s,{base:Zr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Zr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Bs.Allocate;t=En(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new us({keys:r,programId:this.programId,data:t})}}$o.programId=new Ee("11111111111111111111111111111111");const mKe=Ky-300;class Q1{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Q1.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Dn,h.add($o.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Dn,h.add($o.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Dn,h.add($o.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Dn().add($o.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await PV(e,h,[t,r],{commitment:"confirmed"})}const o=F([U("instruction"),U("offset"),U("bytesLength"),U("bytesLengthPadding"),we(te("byte"),Vt(U(),-8),"bytes")]),a=Q1.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Dn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(PV(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Z0(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=F([U("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Dn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:X1,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(_1e/2)))}}return!0}}Q1.chunkSize=mKe;const yKe=new Ee("BPFLoader2111111111111111111111111111111111");class pKe{static getMinNumSignatures(e){return Q1.getMinNumSignatures(e)}static load(e,t,r,s,i){return Q1.load(e,t,r,i,s)}}function bKe(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var W5,Nue;function SKe(){if(Nue)return W5;Nue=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return W5=function(r){var s=t(r,!1);if(s!==void 0)return""+s},W5}var kKe=SKe(),Fue=bKe(kKe);const mR=32;function N5(n){let e=0;for(;n>1;)n/=2,e++;return e}function vKe(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class T1e{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=N5(vKe(e+mR+1))-N5(mR)-1,r=this.getSlotsInEpoch(t),s=e-(r-mR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*mR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+N5(mR)):this.slotsPerEpoch}}var AKe=globalThis.fetch;class wKe extends Rb{constructor(e,t,r){const s=i=>{const o=Mb(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function IKe(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Uue=56;class _V{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=IKe(PKe,e),r=e.length-Uue;On(r>=0,"lookup table is invalid"),On(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=F([we(mn(),s,"addresses")]).decode(e.slice(Uue));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new Ee(t.authority[0]):void 0,addresses:i.map(o=>new Ee(o))}}}const PKe={index:1,layout:F([U("typeIndex"),vA("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(mn(),Vt(te(),-1),"authority")])},_Ke=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function EKe(n){const e=n.match(_Ke);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Ni=RB(BH(Ee),Ve(),n=>new Ee(n)),R1e=zH([Ve(),wi("base64")]),UH=RB(BH(V.Buffer),R1e,n=>V.Buffer.from(n[0],"base64")),C1e=30*1e3;function xKe(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Ps(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function Vue(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function M1e(n){return Tc([xe({jsonrpc:wi("2.0"),id:Ve(),result:n}),xe({jsonrpc:wi("2.0"),id:Ve(),error:xe({code:Mx(),message:Ve(),data:ur(I4e())})})])}const TKe=M1e(Mx());function Nr(n){return RB(M1e(n),TKe,e=>"error"in e?e:{...e,result:dt(e.result,n)})}function ao(n){return Nr(xe({context:xe({slot:fe()}),value:n}))}function y4(n){return xe({context:xe({slot:fe()}),value:n})}function F5(n,e){return n===0?new J1({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new Ee(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new fd(e)}const RKe=xe({foundation:fe(),foundationTerm:fe(),initial:fe(),taper:fe(),terminal:fe()}),CKe=Nr(kt(xt(xe({epoch:fe(),effectiveSlot:fe(),amount:fe(),postBalance:fe(),commission:ur(xt(fe()))})))),MKe=kt(xe({slot:fe(),prioritizationFee:fe()})),BKe=xe({total:fe(),validator:fe(),foundation:fe(),epoch:fe()}),zKe=xe({epoch:fe(),slotIndex:fe(),slotsInEpoch:fe(),absoluteSlot:fe(),blockHeight:ur(fe()),transactionCount:ur(fe())}),$Ke=xe({slotsPerEpoch:fe(),leaderScheduleSlotOffset:fe(),warmup:Zf(),firstNormalEpoch:fe(),firstNormalSlot:fe()}),DKe=m1e(Ve(),kt(fe())),jS=xt(Tc([xe({}),Ve()])),OKe=xe({err:jS}),KKe=wi("receivedSignature"),LKe=xe({"solana-core":Ve(),"feature-set":ur(fe())}),WKe=xe({program:Ve(),programId:Ni,parsed:Mx()}),NKe=xe({programId:Ni,accounts:kt(Ni),data:Ve()}),que=ao(xe({err:xt(Tc([xe({}),Ve()])),logs:xt(kt(Ve())),accounts:ur(xt(kt(xt(xe({executable:Zf(),owner:Ve(),lamports:fe(),data:kt(Ve()),rentEpoch:ur(fe())}))))),unitsConsumed:ur(fe()),returnData:ur(xt(xe({programId:Ve(),data:zH([Ve(),wi("base64")])}))),innerInstructions:ur(xt(kt(xe({index:fe(),instructions:kt(Tc([WKe,NKe]))}))))})),FKe=ao(xe({byIdentity:m1e(Ve(),kt(fe())),range:xe({firstSlot:fe(),lastSlot:fe()})}));function UKe(n,e,t,r,s,i){const o=t||AKe;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new Cb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},V6e)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await Z0(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function VKe(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function qKe(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const jKe=Nr(RKe),HKe=Nr(BKe),GKe=Nr(MKe),YKe=Nr(zKe),ZKe=Nr($Ke),JKe=Nr(DKe),XKe=Nr(fe()),QKe=ao(xe({total:fe(),circulating:fe(),nonCirculating:fe(),nonCirculatingAccounts:kt(Ni)})),EV=xe({amount:Ve(),uiAmount:xt(fe()),decimals:fe(),uiAmountString:ur(Ve())}),e6e=ao(kt(xe({address:Ni,amount:Ve(),uiAmount:xt(fe()),decimals:fe(),uiAmountString:ur(Ve())}))),t6e=ao(kt(xe({pubkey:Ni,account:xe({executable:Zf(),owner:Ni,lamports:fe(),data:UH,rentEpoch:fe()})}))),xV=xe({program:Ve(),parsed:Mx(),space:fe()}),r6e=ao(kt(xe({pubkey:Ni,account:xe({executable:Zf(),owner:Ni,lamports:fe(),data:xV,rentEpoch:fe()})}))),n6e=ao(kt(xe({lamports:fe(),address:Ni}))),nM=xe({executable:Zf(),owner:Ni,lamports:fe(),data:UH,rentEpoch:fe()}),s6e=xe({pubkey:Ni,account:nM}),i6e=RB(Tc([BH(V.Buffer),xV]),Tc([R1e,xV]),n=>Array.isArray(n)?dt(n,UH):n),TV=xe({executable:Zf(),owner:Ni,lamports:fe(),data:i6e,rentEpoch:fe()}),o6e=xe({pubkey:Ni,account:TV}),a6e=xe({state:Tc([wi("active"),wi("inactive"),wi("activating"),wi("deactivating")]),active:fe(),inactive:fe()}),c6e=Nr(kt(xe({signature:Ve(),slot:fe(),err:jS,memo:xt(Ve()),blockTime:ur(xt(fe()))}))),u6e=Nr(kt(xe({signature:Ve(),slot:fe(),err:jS,memo:xt(Ve()),blockTime:ur(xt(fe()))}))),l6e=xe({subscription:fe(),result:y4(nM)}),d6e=xe({pubkey:Ni,account:nM}),f6e=xe({subscription:fe(),result:y4(d6e)}),h6e=xe({parent:fe(),slot:fe(),root:fe()}),g6e=xe({subscription:fe(),result:h6e}),m6e=Tc([xe({type:Tc([wi("firstShredReceived"),wi("completed"),wi("optimisticConfirmation"),wi("root")]),slot:fe(),timestamp:fe()}),xe({type:wi("createdBank"),parent:fe(),slot:fe(),timestamp:fe()}),xe({type:wi("frozen"),slot:fe(),timestamp:fe(),stats:xe({numTransactionEntries:fe(),numSuccessfulTransactions:fe(),numFailedTransactions:fe(),maxTransactionsPerEntry:fe()})}),xe({type:wi("dead"),slot:fe(),timestamp:fe(),err:Ve()})]),y6e=xe({subscription:fe(),result:m6e}),p6e=xe({subscription:fe(),result:y4(Tc([OKe,KKe]))}),b6e=xe({subscription:fe(),result:fe()}),S6e=xe({pubkey:Ve(),gossip:xt(Ve()),tpu:xt(Ve()),rpc:xt(Ve()),version:xt(Ve())}),jue=xe({votePubkey:Ve(),nodePubkey:Ve(),activatedStake:fe(),epochVoteAccount:Zf(),epochCredits:kt(zH([fe(),fe(),fe()])),commission:fe(),lastVote:fe(),rootSlot:xt(fe())}),k6e=Nr(xe({current:kt(jue),delinquent:kt(jue)})),v6e=Tc([wi("processed"),wi("confirmed"),wi("finalized")]),A6e=xe({slot:fe(),confirmations:xt(fe()),err:jS,confirmationStatus:ur(v6e)}),w6e=ao(kt(xt(A6e))),I6e=Nr(fe()),B1e=xe({accountKey:Ni,writableIndexes:kt(fe()),readonlyIndexes:kt(fe())}),VH=xe({signatures:kt(Ve()),message:xe({accountKeys:kt(Ve()),header:xe({numRequiredSignatures:fe(),numReadonlySignedAccounts:fe(),numReadonlyUnsignedAccounts:fe()}),instructions:kt(xe({accounts:kt(fe()),data:Ve(),programIdIndex:fe()})),recentBlockhash:Ve(),addressTableLookups:ur(kt(B1e))})}),z1e=xe({pubkey:Ni,signer:Zf(),writable:Zf(),source:ur(Tc([wi("transaction"),wi("lookupTable")]))}),$1e=xe({accountKeys:kt(z1e),signatures:kt(Ve())}),D1e=xe({parsed:Mx(),program:Ve(),programId:Ni}),O1e=xe({accounts:kt(Ni),data:Ve(),programId:Ni}),P6e=Tc([O1e,D1e]),_6e=Tc([xe({parsed:Mx(),program:Ve(),programId:Ve()}),xe({accounts:kt(Ve()),data:Ve(),programId:Ve()})]),K1e=RB(P6e,_6e,n=>"accounts"in n?dt(n,O1e):dt(n,D1e)),L1e=xe({signatures:kt(Ve()),message:xe({accountKeys:kt(z1e),instructions:kt(K1e),recentBlockhash:Ve(),addressTableLookups:ur(xt(kt(B1e)))})}),XD=xe({accountIndex:fe(),mint:Ve(),owner:ur(Ve()),programId:ur(Ve()),uiTokenAmount:EV}),W1e=xe({writable:kt(Ni),readonly:kt(Ni)}),p4=xe({err:jS,fee:fe(),innerInstructions:ur(xt(kt(xe({index:fe(),instructions:kt(xe({accounts:kt(fe()),data:Ve(),programIdIndex:fe()}))})))),preBalances:kt(fe()),postBalances:kt(fe()),logMessages:ur(xt(kt(Ve()))),preTokenBalances:ur(xt(kt(XD))),postTokenBalances:ur(xt(kt(XD))),loadedAddresses:ur(W1e),computeUnitsConsumed:ur(fe())}),qH=xe({err:jS,fee:fe(),innerInstructions:ur(xt(kt(xe({index:fe(),instructions:kt(K1e)})))),preBalances:kt(fe()),postBalances:kt(fe()),logMessages:ur(xt(kt(Ve()))),preTokenBalances:ur(xt(kt(XD))),postTokenBalances:ur(xt(kt(XD))),loadedAddresses:ur(W1e),computeUnitsConsumed:ur(fe())}),Bx=Tc([wi(0),wi("legacy")]),HS=xe({pubkey:Ve(),lamports:fe(),postBalance:xt(fe()),rewardType:xt(Ve()),commission:ur(xt(fe()))}),E6e=Nr(xt(xe({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:fe(),transactions:kt(xe({transaction:VH,meta:xt(p4),version:ur(Bx)})),rewards:ur(kt(HS)),blockTime:xt(fe()),blockHeight:xt(fe())}))),x6e=Nr(xt(xe({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:fe(),rewards:ur(kt(HS)),blockTime:xt(fe()),blockHeight:xt(fe())}))),T6e=Nr(xt(xe({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:fe(),transactions:kt(xe({transaction:$1e,meta:xt(p4),version:ur(Bx)})),rewards:ur(kt(HS)),blockTime:xt(fe()),blockHeight:xt(fe())}))),R6e=Nr(xt(xe({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:fe(),transactions:kt(xe({transaction:L1e,meta:xt(qH),version:ur(Bx)})),rewards:ur(kt(HS)),blockTime:xt(fe()),blockHeight:xt(fe())}))),C6e=Nr(xt(xe({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:fe(),transactions:kt(xe({transaction:$1e,meta:xt(qH),version:ur(Bx)})),rewards:ur(kt(HS)),blockTime:xt(fe()),blockHeight:xt(fe())}))),M6e=Nr(xt(xe({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:fe(),rewards:ur(kt(HS)),blockTime:xt(fe()),blockHeight:xt(fe())}))),B6e=Nr(xt(xe({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:fe(),transactions:kt(xe({transaction:VH,meta:xt(p4)})),rewards:ur(kt(HS)),blockTime:xt(fe())}))),Hue=Nr(xt(xe({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:fe(),signatures:kt(Ve()),blockTime:xt(fe())}))),U5=Nr(xt(xe({slot:fe(),meta:xt(p4),blockTime:ur(xt(fe())),transaction:VH,version:ur(Bx)}))),t$=Nr(xt(xe({slot:fe(),transaction:L1e,meta:xt(qH),blockTime:ur(xt(fe())),version:ur(Bx)}))),z6e=ao(xe({blockhash:Ve(),feeCalculator:xe({lamportsPerSignature:fe()})})),$6e=ao(xe({blockhash:Ve(),lastValidBlockHeight:fe()})),D6e=ao(Zf()),O6e=xe({slot:fe(),numTransactions:fe(),numSlots:fe(),samplePeriodSecs:fe()}),K6e=Nr(kt(O6e)),L6e=ao(xt(xe({feeCalculator:xe({lamportsPerSignature:fe()})}))),W6e=Nr(Ve()),N6e=Nr(Ve()),F6e=xe({err:jS,logs:kt(Ve()),signature:Ve()}),U6e=xe({result:y4(F6e),subscription:fe()}),V6e={"solana-client":"js/1.0.0-maintenance"};class q6e{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Ps(l),h=this._buildArgs([],d,void 0,y),m=Fue(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=dt(f,Nr(fe()));if("error"in g)throw new jt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=xKe(e),this._rpcWsEndpoint=r||EKe(e),this._rpcClient=UKe(e,s,i,o,a,c),this._rpcRequest=VKe(this._rpcClient),this._rpcBatchRequest=qKe(this._rpcClient),this._rpcWebSocket=new wKe(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=dt(o,ao(fe()));if("error"in a)throw new jt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=dt(t,Nr(xt(fe())));if("error"in r)throw new jt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=dt(e,Nr(fe()));if("error"in t)throw new jt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=dt(e,XKe);if("error"in t)throw new jt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=dt(r,QKe);if("error"in s)throw new jt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=dt(s,ao(EV));if("error"in i)throw new jt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=dt(s,ao(EV));if("error"in i)throw new jt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Ps(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=dt(c,t6e);if("error"in u)throw new jt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=dt(o,r6e);if("error"in a)throw new jt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=dt(s,n6e);if("error"in i)throw new jt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=dt(s,e6e);if("error"in i)throw new jt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=dt(o,ao(xt(nM)));if("error"in a)throw new jt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=dt(o,ao(xt(TV)));if("error"in a)throw new jt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Ps(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=dt(a,ao(kt(xt(TV))));if("error"in c)throw new jt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Ps(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=dt(a,ao(kt(xt(nM))));if("error"in c)throw new jt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Ps(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=dt(a,Nr(a6e));if("error"in c)throw new jt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Ps(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:Vue(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=kt(s6e),l=o.withContext===!0?dt(c,ao(u)):dt(c,Nr(u));if("error"in l)throw new jt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=dt(o,Nr(kt(o6e)));if("error"in a)throw new jt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return On(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:gg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:gg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await Z0(1e3),i||(h=await y(),i))return;d({__type:gg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===gg.PROCESSED)l=d.response;else throw new KH(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:gg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await Z0(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===gg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await Z0(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new vv(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new vv(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new vv(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new vv(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:gg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===gg.PROCESSED)a=c.response;else throw new LH(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=dt(e,Nr(kt(S6e)));if("error"in t)throw new jt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=dt(r,k6e);if("error"in s)throw new jt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Ps(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=dt(i,Nr(fe()));if("error"in o)throw new jt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Ps(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=dt(i,Nr(Ve()));if("error"in o)throw new jt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=dt(s,Nr(kt(Ni)));if("error"in i)throw new jt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);On(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=dt(s,w6e);if("error"in i)throw new jt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Ps(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=dt(i,Nr(fe()));if("error"in o)throw new jt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=dt(r,jKe);if("error"in s)throw new jt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Ps(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=dt(a,CKe);if("error"in c)throw new jt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=dt(e,HKe);if("error"in t)throw new jt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Ps(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=dt(i,YKe);if("error"in o)throw new jt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=dt(e,ZKe);if("error"in t)throw new jt(t.error,"failed to get epoch schedule");const r=t.result;return new T1e(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=dt(e,JKe);if("error"in t)throw new jt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=dt(s,I6e);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=dt(r,z6e);if("error"in s)throw new jt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=dt(t,K6e);if("error"in r)throw new jt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=dt(s,L6e);if("error"in i)throw new jt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Zr(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=dt(i,ao(xt(fe())));if("error"in o)throw new jt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=dt(s,GKe);if("error"in i)throw new jt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Ps(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=dt(i,$6e);if("error"in o)throw new jt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=dt(o,D6e);if("error"in a)throw new jt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=dt(e,Nr(LKe));if("error"in t)throw new jt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=dt(e,Nr(Ve()));if("error"in t)throw new jt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=dt(o,T6e);if("error"in a)throw a.error;return a.result}case"none":{const a=dt(o,x6e);if("error"in a)throw a.error;return a.result}default:{const a=dt(o,E6e);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:F5(d,u.message)},version:d}))}:null}}}catch(a){throw new jt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=dt(o,C6e);if("error"in a)throw a.error;return a.result}case"none":{const a=dt(o,M6e);if("error"in a)throw a.error;return a.result}default:{const a=dt(o,R6e);if("error"in a)throw a.error;return a.result}}}catch(a){throw new jt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=dt(i,FKe);if("error"in o)throw new jt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=dt(o,U5);if("error"in a)throw new jt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:F5(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=dt(o,t$);if("error"in a)throw new jt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Ps(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=dt(c,t$);if("error"in u)throw new jt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Ps(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=dt(c,U5);if("error"in u)throw new jt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:F5(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=dt(s,B6e);if("error"in i)throw new jt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new fd(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Dn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=dt(i,Nr(kt(fe())));if("error"in o)throw new jt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=dt(s,Hue);if("error"in i)throw new jt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=dt(s,Hue);if("error"in i)throw new jt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=dt(s,U5);if("error"in i)throw new jt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new fd(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Dn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=dt(s,t$);if("error"in i)throw new jt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=dt(o,t$);if("error"in a)throw new jt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=dt(i,c6e);if("error"in o)throw new jt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=dt(i,u6e);if("error"in o)throw new jt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new _V({key:e,state:_V.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=m4.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=dt(r,W6e);if("error"in s)throw new jt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Z0(100);const r=Date.now()-this._blockhashInfo.lastFetch>=C1e;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await Z0(_1e/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Ps(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=dt(i,ao(fe()));if("error"in o)throw new jt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=dt(p,que);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Dn){let m=e;s=new Dn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Dn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=dt(y,que);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new Wp({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=Zr(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=dt(a,N6e);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new Wp({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=dt(e,l6e);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=Fue([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];On(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Ps(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=dt(e,f6e);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Ps(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:Vue(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=dt(e,U6e);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=dt(e,g6e);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=dt(e,y6e);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=dt(e,p6e);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=dt(e,b6e);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Wv{constructor(e){this._keypair=void 0,this._keypair=e??Kue()}static generate(){return new Wv(Kue())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=JD(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new Wv({publicKey:r,secretKey:e})}static fromSeed(e){const t=JD(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Wv({publicKey:t,secretKey:r})}get publicKey(){return new Ee(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const _g=Object.freeze({CreateLookupTable:{index:0,layout:F([U("instruction"),vA("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:F([U("instruction")])},ExtendLookupTable:{index:2,layout:F([U("instruction"),vA(),we(mn(),Vt(U(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:F([U("instruction")])},CloseLookupTable:{index:4,layout:F([U("instruction")])}});class j6e{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(_g))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Qn(_g.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Qn(_g.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new Ee(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(jH.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class jH{constructor(){}static createLookupTable(e){const[t,r]=Ee.findProgramAddressSync([e.authority.toBuffer(),nc(BigInt(e.recentSlot),8)],this.programId),s=_g.CreateLookupTable,i=En(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:$o.programId,isSigner:!1,isWritable:!1}];return[new us({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=_g.FreezeLookupTable,r=En(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new us({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=_g.ExtendLookupTable,r=En(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:$o.programId,isSigner:!1,isWritable:!1}),new us({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=_g.DeactivateLookupTable,r=En(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new us({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=_g.CloseLookupTable,r=En(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new us({programId:this.programId,keys:s,data:r})}}jH.programId=new Ee("AddressLookupTab1e1111111111111111111111111");class H6e{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(df))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=Qn(df.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Qn(df.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Qn(df.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Qn(df.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(HH.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const df=Object.freeze({RequestUnits:{index:0,layout:F([te("instruction"),U("units"),U("additionalFee")])},RequestHeapFrame:{index:1,layout:F([te("instruction"),U("bytes")])},SetComputeUnitLimit:{index:2,layout:F([te("instruction"),U("units")])},SetComputeUnitPrice:{index:3,layout:F([te("instruction"),vA("microLamports")])}});class HH{constructor(){}static requestUnits(e){const t=df.RequestUnits,r=En(t,e);return new us({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=df.RequestHeapFrame,r=En(t,e);return new us({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=df.SetComputeUnitLimit,r=En(t,e);return new us({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=df.SetComputeUnitPrice,r=En(t,{microLamports:BigInt(e.microLamports)});return new us({keys:[],programId:this.programId,data:r})}}HH.programId=new Ee("ComputeBudget111111111111111111111111111111");const Gue=64,Yue=32,Zue=64,Jue=F([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class b4{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;On(t.length===Yue,`Public Key must be ${Yue} bytes but received ${t.length} bytes`),On(s.length===Zue,`Signature must be ${Zue} bytes but received ${s.length} bytes`);const o=Jue.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return Jue.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new us({keys:[],programId:b4.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;On(t.length===Gue,`Private key must be ${Gue} bytes but received ${t.length} bytes`);try{const i=Wv.fromSecretKey(t),o=i.publicKey.toBytes(),a=DH(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}b4.programId=new Ee("Ed25519SigVerify111111111111111111111111111");const G6e=(n,e)=>{const t=f4.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};f4.utils.isValidPrivateKey;const Y6e=f4.getPublicKey,Xue=32,V5=20,Que=64,Z6e=11,q5=F([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class Nv{constructor(){}static publicKeyToEthAddress(e){On(e.length===Que,`Public key must be ${Que} bytes but received ${e.length} bytes`);try{return V.Buffer.from(Bue(Zr(e))).slice(-V5)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return Nv.createInstructionWithEthAddress({ethAddress:Nv.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,On(a.length===V5,`Address must be ${V5} bytes but received ${a.length} bytes`);const c=1+Z6e,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(q5.span+r.length);return q5.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Zr(s),ethAddress:Zr(a),recoveryId:i},h),h.fill(Zr(r),q5.span),new us({keys:[],programId:Nv.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;On(t.length===Xue,`Private key must be ${Xue} bytes but received ${t.length} bytes`);try{const i=Zr(t),o=Y6e(i,!1).slice(1),a=V.Buffer.from(Bue(Zr(r))),[c,u]=G6e(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Nv.programId=new Ee("KeccakSecp256k11111111111111111111111111111");var N1e;const F1e=new Ee("StakeConfig11111111111111111111111111111111");class U1e{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class CB{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}N1e=CB;CB.default=new N1e(0,0,Ee.default);class J6e{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ba))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=Qn(ba.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new U1e(new Ee(t.staker),new Ee(t.withdrawer)),lockup:new CB(r.unixTimestamp,r.epoch,new Ee(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Qn(ba.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=Qn(ba.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ee(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=Qn(ba.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new Ee(i),newAuthorizedPubkey:new Ee(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Qn(ba.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Qn(ba.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Qn(ba.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Qn(ba.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(S4.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ba=Object.freeze({Initialize:{index:0,layout:F([U("instruction"),X4e(),Q4e()])},Authorize:{index:1,layout:F([U("instruction"),mn("newAuthorized"),U("stakeAuthorizationType")])},Delegate:{index:2,layout:F([U("instruction")])},Split:{index:3,layout:F([U("instruction"),_e("lamports")])},Withdraw:{index:4,layout:F([U("instruction"),_e("lamports")])},Deactivate:{index:5,layout:F([U("instruction")])},Merge:{index:7,layout:F([U("instruction")])},AuthorizeWithSeed:{index:8,layout:F([U("instruction"),mn("newAuthorized"),U("stakeAuthorizationType"),b1("authoritySeed"),mn("authorityOwner")])}}),X6e=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class S4{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||CB.default,o=ba.Initialize,a=En(o,{authorized:{staker:Zr(r.staker.toBuffer()),withdrawer:Zr(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Zr(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:X1,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new us(c)}static createAccountWithSeed(e){const t=new Dn;t.add($o.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Dn;t.add($o.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=ba.Delegate,o=En(i);return new Dn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Jd,isSigner:!1,isWritable:!1},{pubkey:fD,isSigner:!1,isWritable:!1},{pubkey:F1e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=ba.Authorize,c=En(a,{newAuthorized:Zr(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Jd,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Dn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=ba.AuthorizeWithSeed,l=En(u,{newAuthorized:Zr(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:Zr(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Jd,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Dn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=ba.Split,a=En(o,{lamports:i});return new us({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Dn;return r.add($o.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Dn;return u.add($o.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add($o.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=ba.Merge,o=En(i);return new Dn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Jd,isSigner:!1,isWritable:!1},{pubkey:fD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=ba.Withdraw,c=En(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Jd,isSigner:!1,isWritable:!1},{pubkey:fD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Dn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=ba.Deactivate,i=En(s);return new Dn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Jd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}S4.programId=new Ee("Stake11111111111111111111111111111111111111");S4.space=200;class V1e{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class Q6e{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ff))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Qn(ff.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new V1e(new Ee(t.nodePubkey),new Ee(t.authorizedVoter),new Ee(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=Qn(ff.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ee(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=Qn(ff.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Ee(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new Ee(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Qn(ff.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(zx.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ff=Object.freeze({InitializeAccount:{index:0,layout:F([U("instruction"),eKe()])},Authorize:{index:1,layout:F([U("instruction"),mn("newAuthorized"),U("voteAuthorizationType")])},Withdraw:{index:3,layout:F([U("instruction"),_e("lamports")])},UpdateValidatorIdentity:{index:4,layout:F([U("instruction")])},AuthorizeWithSeed:{index:10,layout:F([U("instruction"),tKe()])}}),eLe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class zx{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=ff.InitializeAccount,o=En(i,{voteInit:{nodePubkey:Zr(s.nodePubkey.toBuffer()),authorizedVoter:Zr(s.authorizedVoter.toBuffer()),authorizedWithdrawer:Zr(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:X1,isSigner:!1,isWritable:!1},{pubkey:Jd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new us(a)}static createAccount(e){const t=new Dn;return t.add($o.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=ff.Authorize,a=En(o,{newAuthorized:Zr(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Jd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Dn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=ff.AuthorizeWithSeed,u=En(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Zr(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:Zr(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Jd,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Dn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=ff.Withdraw,a=En(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Dn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return zx.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=ff.UpdateValidatorIdentity,o=En(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Dn().add({keys:a,programId:this.programId,data:o})}}zx.programId=new Ee("Vote111111111111111111111111111111111111111");zx.space=3762;const q1e=new Ee("Va1idator1nfo111111111111111111111111111111"),tLe=xe({name:Ve(),website:ur(Ve()),details:ur(Ve()),iconUrl:ur(Ve()),keybaseUsername:ur(Ve())});class GH{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Qc(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new Ee(eu(t,0,Lf)),a=lf(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(q1e)&&s[1].isSigner){const i=b1().decode(V.Buffer.from(t)),o=JSON.parse(i);return h1e(o,tLe),new GH(s[1].publicKey,o)}return null}}const rLe=new Ee("Vote111111111111111111111111111111111111111"),nLe=F([mn("nodePubkey"),mn("authorizedWithdrawer"),te("commission"),Ae(),we(F([Ae("slot"),U("confirmationCount")]),Vt(U(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(F([Ae("epoch"),mn("authorizedVoter")]),Vt(U(),-8),"authorizedVoters"),F([we(F([mn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(F([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(U(),-8),"epochCredits"),F([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class YH{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=nLe.decode(Zr(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new YH({nodePubkey:new Ee(r.nodePubkey),authorizedWithdrawer:new Ee(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(sLe),priorVoters:iLe(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function sLe({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new Ee(n)}}function ele({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new Ee(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function iLe({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(ele),...n.slice(0,e).map(ele)]}const tle={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function oLe(n,e){const t=e===!1?"http":"https";if(!n)return tle[t].devnet;const r=tle[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function aLe(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new Wp({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const cLe=1e9;var uLe=Object.freeze(Object.defineProperty({__proto__:null,Account:Y4e,AddressLookupTableAccount:_V,AddressLookupTableInstruction:j6e,AddressLookupTableProgram:jH,Authorized:U1e,BLOCKHASH_CACHE_TIMEOUT_MS:C1e,BPF_LOADER_DEPRECATED_PROGRAM_ID:Z4e,BPF_LOADER_PROGRAM_ID:yKe,BpfLoader:pKe,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:df,ComputeBudgetInstruction:H6e,ComputeBudgetProgram:HH,Connection:q6e,Ed25519Program:b4,Enum:H4e,EpochSchedule:T1e,FeeCalculatorLayout:E1e,Keypair:Wv,LAMPORTS_PER_SOL:cLe,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:_g,Loader:Q1,Lockup:CB,MAX_SEED_LENGTH:w1e,Message:fd,MessageAccountKeys:tM,MessageV0:J1,NONCE_ACCOUNT_LENGTH:rM,NonceAccount:m4,PACKET_DATA_SIZE:Ky,PUBLIC_KEY_LENGTH:Lf,PublicKey:Ee,SIGNATURE_LENGTH_IN_BYTES:eM,SOLANA_SCHEMA:M2,STAKE_CONFIG_ID:F1e,STAKE_INSTRUCTION_LAYOUTS:ba,SYSTEM_INSTRUCTION_LAYOUTS:Bs,SYSVAR_CLOCK_PUBKEY:Jd,SYSVAR_EPOCH_SCHEDULE_PUBKEY:oKe,SYSVAR_INSTRUCTIONS_PUBKEY:aKe,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:dD,SYSVAR_RENT_PUBKEY:X1,SYSVAR_REWARDS_PUBKEY:cKe,SYSVAR_SLOT_HASHES_PUBKEY:uKe,SYSVAR_SLOT_HISTORY_PUBKEY:lKe,SYSVAR_STAKE_HISTORY_PUBKEY:fD,Secp256k1Program:Nv,SendTransactionError:Wp,SolanaJSONRPCError:jt,SolanaJSONRPCErrorCode:dKe,StakeAuthorizationLayout:X6e,StakeInstruction:J6e,StakeProgram:S4,Struct:OH,SystemInstruction:gKe,SystemProgram:$o,Transaction:Dn,TransactionExpiredBlockheightExceededError:KH,TransactionExpiredNonceInvalidError:vv,TransactionExpiredTimeoutError:LH,TransactionInstruction:us,TransactionMessage:NH,TransactionStatus:gg,VALIDATOR_INFO_KEY:q1e,VERSION_PREFIX_MASK:h4,VOTE_PROGRAM_ID:rLe,ValidatorInfo:GH,VersionedMessage:WH,VersionedTransaction:FH,VoteAccount:YH,VoteAuthorizationLayout:eLe,VoteInit:V1e,VoteInstruction:Q6e,VoteProgram:zx,clusterApiUrl:oLe,sendAndConfirmRawTransaction:aLe,sendAndConfirmTransaction:PV},Symbol.toStringTag,{value:"Module"})),xr={};function QD(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function ZH(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function lLe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");QD(n.outputLen),QD(n.blockLen)}function AA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function j1e(n,e){ZH(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const j5=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const H1e=n=>n instanceof Uint8Array,dLe=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),H5=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),zd=(n,e)=>n<<32-e|n>>>e,fLe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!fLe)throw new Error("Non little-endian hardware is not supported");function G1e(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function k4(n){if(typeof n=="string"&&(n=G1e(n)),!H1e(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function Y1e(...n){const e=new Uint8Array(n.reduce((r,s)=>r+s.length,0));let t=0;return n.forEach(r=>{if(!H1e(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}class JH{clone(){return this._cloneInto()}}function XH(n){const e=r=>n().update(k4(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function Z1e(n=32){if(j5&&typeof j5.getRandomValues=="function")return j5.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function hLe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}class J1e extends JH{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=H5(this.buffer)}update(e){AA(this);const{view:t,buffer:r,blockLen:s}=this;e=k4(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=H5(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){AA(this),j1e(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;hLe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=H5(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const r$=BigInt(2**32-1),RV=BigInt(32);function X1e(n,e=!1){return e?{h:Number(n&r$),l:Number(n>>RV&r$)}:{h:Number(n>>RV&r$)|0,l:Number(n&r$)|0}}function Q1e(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=X1e(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const gLe=(n,e)=>BigInt(n>>>0)<<RV|BigInt(e>>>0),mLe=(n,e,t)=>n>>>t,yLe=(n,e,t)=>n<<32-t|e>>>t,pLe=(n,e,t)=>n>>>t|e<<32-t,bLe=(n,e,t)=>n<<32-t|e>>>t,SLe=(n,e,t)=>n<<64-t|e>>>t-32,kLe=(n,e,t)=>n>>>t-32|e<<64-t,vLe=(n,e)=>e,ALe=(n,e)=>n,eSe=(n,e,t)=>n<<t|e>>>32-t,tSe=(n,e,t)=>e<<t|n>>>32-t,rSe=(n,e,t)=>e<<t-32|n>>>64-t,nSe=(n,e,t)=>n<<t-32|e>>>64-t;function wLe(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const ILe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),PLe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,_Le=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),ELe=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,xLe=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),TLe=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,RLe={fromBig:X1e,split:Q1e,toBig:gLe,shrSH:mLe,shrSL:yLe,rotrSH:pLe,rotrSL:bLe,rotrBH:SLe,rotrBL:kLe,rotr32H:vLe,rotr32L:ALe,rotlSH:eSe,rotlSL:tSe,rotlBH:rSe,rotlBL:nSe,add:wLe,add3L:ILe,add3H:PLe,add4L:_Le,add4H:ELe,add5H:TLe,add5L:xLe};var Cr=RLe;const[CLe,MLe]=(()=>Cr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),vm=new Uint32Array(80),Am=new Uint32Array(80);class BLe extends J1e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)vm[p]=e.getUint32(t),Am[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=vm[p-15]|0,w=Am[p-15]|0,A=Cr.rotrSH(I,w,1)^Cr.rotrSH(I,w,8)^Cr.shrSH(I,w,7),_=Cr.rotrSL(I,w,1)^Cr.rotrSL(I,w,8)^Cr.shrSL(I,w,7),E=vm[p-2]|0,M=Am[p-2]|0,P=Cr.rotrSH(E,M,19)^Cr.rotrBH(E,M,61)^Cr.shrSH(E,M,6),R=Cr.rotrSL(E,M,19)^Cr.rotrBL(E,M,61)^Cr.shrSL(E,M,6),$=Cr.add4L(_,R,Am[p-7],Am[p-16]),z=Cr.add4H($,A,P,vm[p-7],vm[p-16]);vm[p]=z|0,Am[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Cr.rotrSH(d,y,14)^Cr.rotrSH(d,y,18)^Cr.rotrBH(d,y,41),w=Cr.rotrSL(d,y,14)^Cr.rotrSL(d,y,18)^Cr.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=Cr.add5L(S,w,_,MLe[p],Am[p]),M=Cr.add5H(E,b,I,A,CLe[p],vm[p]),P=E|0,R=Cr.rotrSH(r,s,28)^Cr.rotrBH(r,s,34)^Cr.rotrBH(r,s,39),$=Cr.rotrSL(r,s,28)^Cr.rotrBL(r,s,34)^Cr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Cr.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Cr.add3L(P,$,T);r=Cr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Cr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Cr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Cr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Cr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Cr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Cr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Cr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Cr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){vm.fill(0),Am.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sSe=XH(()=>new BLe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iSe=BigInt(0),v4=BigInt(1),zLe=BigInt(2),A4=n=>n instanceof Uint8Array,$Le=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function eS(n){if(!A4(n))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=$Le[n[t]];return e}function oSe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function QH(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function wA(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let r=0;r<t.length;r++){const s=r*2,i=n.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function L1(n){return QH(eS(n))}function Fv(n){if(!A4(n))throw new Error("Uint8Array expected");return QH(eS(Uint8Array.from(n).reverse()))}function IA(n,e){return wA(n.toString(16).padStart(e*2,"0"))}function sM(n,e){return IA(n,e).reverse()}function DLe(n){return wA(oSe(n))}function Xo(n,e,t){let r;if(typeof e=="string")try{r=wA(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(A4(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function tS(...n){const e=new Uint8Array(n.reduce((r,s)=>r+s.length,0));let t=0;return n.forEach(r=>{if(!A4(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}function OLe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function KLe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function LLe(n){let e;for(e=0;n>iSe;n>>=v4,e+=1);return e}function WLe(n,e){return n>>BigInt(e)&v4}const NLe=(n,e,t)=>n|(t?v4:iSe)<<BigInt(e),eG=n=>(zLe<<BigInt(n-1))-v4,G5=n=>new Uint8Array(n),rle=n=>Uint8Array.from(n);function aSe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=G5(n),s=G5(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=G5())=>{s=a(rle([0]),d),r=a(),d.length!==0&&(s=a(rle([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return tS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const FLe={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function $x(n,e,t={}){const r=(s,i,o)=>{const a=FLe[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}var ULe=Object.freeze(Object.defineProperty({__proto__:null,bytesToHex:eS,numberToHexUnpadded:oSe,hexToNumber:QH,hexToBytes:wA,bytesToNumberBE:L1,bytesToNumberLE:Fv,numberToBytesBE:IA,numberToBytesLE:sM,numberToVarBytesBE:DLe,ensureBytes:Xo,concatBytes:tS,equalBytes:OLe,utf8ToBytes:KLe,bitLen:LLe,bitGet:WLe,bitSet:NLe,bitMask:eG,createHmacDrbg:aSe,validateObject:$x},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ha=BigInt(0),Bi=BigInt(1),J0=BigInt(2),VLe=BigInt(3),CV=BigInt(4),nle=BigInt(5),sle=BigInt(8);BigInt(9);BigInt(16);function fi(n,e){const t=n%e;return t>=Ha?t:e+t}function qLe(n,e,t){if(t<=Ha||e<Ha)throw new Error("Expected power/modulo > 0");if(t===Bi)return Ha;let r=Bi;for(;e>Ha;)e&Bi&&(r=r*n%t),n=n*n%t,e>>=Bi;return r}function Ji(n,e,t){let r=n;for(;e-- >Ha;)r*=r,r%=t;return r}function MV(n,e){if(n===Ha||e<=Ha)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=fi(n,e),r=e,s=Ha,i=Bi;for(;t!==Ha;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Bi)throw new Error("invert: does not exist");return fi(s,e)}function jLe(n){const e=(n-Bi)/J0;let t,r,s;for(t=n-Bi,r=0;t%J0===Ha;t/=J0,r++);for(s=J0;s<n&&qLe(s,e,n)!==n-Bi;s++);if(r===1){const o=(n+Bi)/CV;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Bi)/J0;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Bi<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function HLe(n){if(n%CV===VLe){const e=(n+Bi)/CV;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%sle===nle){const e=(n-nle)/sle;return function(r,s){const i=r.mul(s,J0),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,J0),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return jLe(n)}const GLe=(n,e)=>(fi(n,e)&Bi)===Bi,YLe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ZLe(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=YLe.reduce((r,s)=>(r[s]="function",r),e);return $x(n,t)}function JLe(n,e,t){if(t<Ha)throw new Error("Expected power > 0");if(t===Ha)return n.ONE;if(t===Bi)return e;let r=n.ONE,s=e;for(;t>Ha;)t&Bi&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Bi;return r}function XLe(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function cSe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function uSe(n,e,t=!1,r={}){if(n<=Ha)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=cSe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=HLe(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:eG(s),ZERO:Ha,ONE:Bi,create:c=>fi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ha<=c&&c<n},is0:c=>c===Ha,isOdd:c=>(c&Bi)===Bi,neg:c=>fi(-c,n),eql:(c,u)=>c===u,sqr:c=>fi(c*c,n),add:(c,u)=>fi(c+u,n),sub:(c,u)=>fi(c-u,n),mul:(c,u)=>fi(c*u,n),pow:(c,u)=>JLe(a,c,u),div:(c,u)=>fi(c*MV(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>MV(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>XLe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?sM(c,i):IA(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?Fv(c):L1(c)}});return Object.freeze(a)}function QLe(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?n.neg(t):t}function lSe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function dSe(n){const e=lSe(n);return e+Math.ceil(e/2)}function e5e(n,e,t=!1){const r=n.length,s=lSe(e),i=dSe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?L1(n):Fv(n),a=fi(o,e-Bi)+Bi;return t?sM(a,s):IA(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t5e=BigInt(0),Y5=BigInt(1);function fSe(n,e){const t=(s,i)=>{const o=i.negate();return s?o:i},r=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:t,unsafeLadder(s,i){let o=n.ZERO,a=s;for(;i>t5e;)i&Y5&&(o=o.add(a)),a=a.double(),i>>=Y5;return o},precomputeWindow(s,i){const{windows:o,windowSize:a}=r(i),c=[];let u=s,l=u;for(let d=0;d<o;d++){l=u,c.push(l);for(let y=1;y<a;y++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(s,i,o){const{windows:a,windowSize:c}=r(s);let u=n.ZERO,l=n.BASE;const d=BigInt(2**s-1),y=2**s,h=BigInt(s);for(let m=0;m<a;m++){const f=m*c;let g=Number(o&d);o>>=h,g>c&&(g-=y,o+=Y5);const b=f,S=f+Math.abs(g)-1,p=m%2!==0,I=g<0;g===0?l=l.add(t(p,i[b])):u=u.add(t(I,i[S]))}return{p:u,f:l}},wNAFCached(s,i,o,a){const c=s._WINDOW_SIZE||1;let u=i.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&i.set(s,a(u))),this.wNAF(c,u,o)}}}function tG(n){return ZLe(n.Fp),$x(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...cSe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bl=BigInt(0),_u=BigInt(1),n$=BigInt(2),r5e=BigInt(8),n5e={zip215:!0};function s5e(n){const e=tG(n);return $x(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function rG(n){const e=s5e(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=n$<<BigInt(a*8)-_u,l=t.create,d=e.uvRatio||((C,B)=>{try{return{isValid:!0,value:t.sqrt(C*t.inv(B))}}catch{return{isValid:!1,value:Bl}}}),y=e.adjustScalarBytes||(C=>C),h=e.domain||((C,B,O)=>{if(B.length||O)throw new Error("Contexts/pre-hash are not supported");return C}),m=C=>typeof C=="bigint"&&Bl<C,f=(C,B)=>m(C)&&m(B)&&C<B,g=C=>C===Bl||f(C,u);function b(C,B){if(f(C,B))return C;throw new Error(`Expected valid scalar < ${B}, got ${typeof C} ${C}`)}function S(C){return C===Bl?C:b(C,r)}const p=new Map;function I(C){if(!(C instanceof w))throw new Error("ExtendedPoint expected")}class w{constructor(B,O,D,W){if(this.ex=B,this.ey=O,this.ez=D,this.et=W,!g(B))throw new Error("x required");if(!g(O))throw new Error("y required");if(!g(D))throw new Error("z required");if(!g(W))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(B){if(B instanceof w)throw new Error("extended point not allowed");const{x:O,y:D}=B||{};if(!g(O)||!g(D))throw new Error("invalid affine point");return new w(O,D,_u,l(O*D))}static normalizeZ(B){const O=t.invertBatch(B.map(D=>D.ez));return B.map((D,W)=>D.toAffine(O[W])).map(w.fromAffine)}_setWindowSize(B){this._WINDOW_SIZE=B,p.delete(this)}assertValidity(){const{a:B,d:O}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:D,ey:W,ez:L,et:N}=this,H=l(D*D),J=l(W*W),Q=l(L*L),Y=l(Q*Q),X=l(H*B),re=l(Q*l(X+J)),se=l(Y+l(O*l(H*J)));if(re!==se)throw new Error("bad point: equation left != right (1)");const ee=l(D*W),ne=l(L*N);if(ee!==ne)throw new Error("bad point: equation left != right (2)")}equals(B){I(B);const{ex:O,ey:D,ez:W}=this,{ex:L,ey:N,ez:H}=B,J=l(O*H),Q=l(L*W),Y=l(D*H),X=l(N*W);return J===Q&&Y===X}is0(){return this.equals(w.ZERO)}negate(){return new w(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:B}=e,{ex:O,ey:D,ez:W}=this,L=l(O*O),N=l(D*D),H=l(n$*l(W*W)),J=l(B*L),Q=O+D,Y=l(l(Q*Q)-L-N),X=J+N,re=X-H,se=J-N,ee=l(Y*re),ne=l(X*se),ve=l(Y*se),Pe=l(re*X);return new w(ee,ne,Pe,ve)}add(B){I(B);const{a:O,d:D}=e,{ex:W,ey:L,ez:N,et:H}=this,{ex:J,ey:Q,ez:Y,et:X}=B;if(O===BigInt(-1)){const Ue=l((L-W)*(Q+J)),Wt=l((L+W)*(Q-J)),sr=l(Wt-Ue);if(sr===Bl)return this.double();const rr=l(N*n$*X),pr=l(H*n$*Y),wr=pr+rr,ls=Wt+Ue,gn=pr-rr,ds=l(wr*sr),il=l(ls*gn),qb=l(wr*gn),M5=l(sr*ls);return new w(ds,il,M5,qb)}const re=l(W*J),se=l(L*Q),ee=l(H*D*X),ne=l(N*Y),ve=l((W+L)*(J+Q)-re-se),Pe=ne-ee,Le=ne+ee,We=l(se-O*re),Ft=l(ve*Pe),Lt=l(Le*We),Dt=l(ve*We),et=l(Pe*Le);return new w(Ft,Lt,et,Dt)}subtract(B){return this.add(B.negate())}wNAF(B){return E.wNAFCached(this,p,B,w.normalizeZ)}multiply(B){const{p:O,f:D}=this.wNAF(b(B,r));return w.normalizeZ([O,D])[0]}multiplyUnsafe(B){let O=S(B);return O===Bl?_:this.equals(_)||O===_u?this:this.equals(A)?this.wNAF(O).p:E.unsafeLadder(this,O)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return E.unsafeLadder(this,r).is0()}toAffine(B){const{ex:O,ey:D,ez:W}=this,L=this.is0();B==null&&(B=L?r5e:t.inv(W));const N=l(O*B),H=l(D*B),J=l(W*B);if(L)return{x:Bl,y:_u};if(J!==_u)throw new Error("invZ was invalid");return{x:N,y:H}}clearCofactor(){const{h:B}=e;return B===_u?this:this.multiplyUnsafe(B)}static fromHex(B,O=!1){const{d:D,a:W}=e,L=t.BYTES;B=Xo("pointHex",B,L);const N=B.slice(),H=B[L-1];N[L-1]=H&-129;const J=Fv(N);J===Bl||(O?b(J,u):b(J,t.ORDER));const Q=l(J*J),Y=l(Q-_u),X=l(D*Q-W);let{isValid:re,value:se}=d(Y,X);if(!re)throw new Error("Point.fromHex: invalid y coordinate");const ee=(se&_u)===_u,ne=(H&128)!==0;if(!O&&se===Bl&&ne)throw new Error("Point.fromHex: x=0 and x_0=1");return ne!==ee&&(se=l(-se)),w.fromAffine({x:se,y:J})}static fromPrivateKey(B){return R(B).point}toRawBytes(){const{x:B,y:O}=this.toAffine(),D=sM(O,t.BYTES);return D[D.length-1]|=B&_u?128:0,D}toHex(){return eS(this.toRawBytes())}}w.BASE=new w(e.Gx,e.Gy,_u,l(e.Gx*e.Gy)),w.ZERO=new w(Bl,_u,_u,Bl);const{BASE:A,ZERO:_}=w,E=fSe(w,a*8);function M(C){return fi(C,r)}function P(C){return M(Fv(C))}function R(C){const B=a;C=Xo("private key",C,B);const O=Xo("hashed private key",i(C),2*B),D=y(O.slice(0,B)),W=O.slice(B,2*B),L=P(D),N=A.multiply(L),H=N.toRawBytes();return{head:D,prefix:W,scalar:L,point:N,pointBytes:H}}function $(C){return R(C).pointBytes}function z(C=new Uint8Array,...B){const O=tS(...B);return P(i(h(O,Xo("context",C),!!s)))}function T(C,B,O={}){C=Xo("message",C),s&&(C=s(C));const{prefix:D,scalar:W,pointBytes:L}=R(B),N=z(O.context,D,C),H=A.multiply(N).toRawBytes(),J=z(O.context,H,L,C),Q=M(N+J*W);S(Q);const Y=tS(H,sM(Q,t.BYTES));return Xo("result",Y,a*2)}const v=n5e;function k(C,B,O,D=v){const{context:W,zip215:L}=D,N=t.BYTES;C=Xo("signature",C,2*N),B=Xo("message",B),s&&(B=s(B));const H=Fv(C.slice(N,2*N));let J,Q,Y;try{J=w.fromHex(O,L),Q=w.fromHex(C.slice(0,N),L),Y=A.multiplyUnsafe(H)}catch{return!1}if(!L&&J.isSmallOrder())return!1;const X=z(W,Q.toRawBytes(),J.toRawBytes(),B);return Q.add(J.multiplyUnsafe(X)).subtract(Y).clearCofactor().equals(w.ZERO)}return A._setWindowSize(8),{CURVE:e,getPublicKey:$,sign:T,verify:k,ExtendedPoint:w,utils:{getExtendedPublicKey:R,randomPrivateKey:()=>o(t.BYTES),precompute(C=8,B=w.BASE){return B._setWindowSize(C),B.multiply(BigInt(3)),B}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nG=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ile=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const i5e=BigInt(1),BV=BigInt(2),o5e=BigInt(5),ole=BigInt(10),a5e=BigInt(20),c5e=BigInt(40),ale=BigInt(80);function u5e(n){const e=nG,r=n*n%e*n%e,s=Ji(r,BV,e)*r%e,i=Ji(s,i5e,e)*n%e,o=Ji(i,o5e,e)*i%e,a=Ji(o,ole,e)*o%e,c=Ji(a,a5e,e)*a%e,u=Ji(c,c5e,e)*c%e,l=Ji(u,ale,e)*u%e,d=Ji(l,ale,e)*u%e,y=Ji(d,ole,e)*o%e;return{pow_p_5_8:Ji(y,BV,e)*n%e,b2:r}}function l5e(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function d5e(n,e){const t=nG,r=fi(e*e*e,t),s=fi(r*r*e,t),i=u5e(n*s).pow_p_5_8;let o=fi(n*r*i,t);const a=fi(e*o*o,t),c=o,u=fi(o*ile,t),l=a===n,d=a===fi(-n,t),y=a===fi(-n*ile,t);return l&&(o=c),(d||y)&&(o=u),GLe(o,t)&&(o=fi(-o,t)),{isValid:l||d,value:o}}const Ug=uSe(nG,void 0,!0),sG={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Ug,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:sSe,randomBytes:Z1e,adjustScalarBytes:l5e,uvRatio:d5e},Dx=rG(sG);function hSe(n,e,t){if(e.length>255)throw new Error("Context is too big");return Y1e(G1e("SigEd25519 no Ed25519 collisions"),new Uint8Array([t?1:0,e.length]),e,n)}({...sG});({...sG});const f5e=(Ug.ORDER+BigInt(3))/BigInt(8);Ug.pow(BV,f5e);Ug.sqrt(Ug.neg(Ug.ONE));(Ug.ORDER-BigInt(5))/BigInt(8);BigInt(486662);QLe(Ug,Ug.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const h5e=(n,e,t)=>n&e^~n&t,g5e=(n,e,t)=>n&e^n&t^e&t,m5e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Im=new Uint32Array(64);class y5e extends J1e{constructor(){super(64,32,8,!1),this.A=wm[0]|0,this.B=wm[1]|0,this.C=wm[2]|0,this.D=wm[3]|0,this.E=wm[4]|0,this.F=wm[5]|0,this.G=wm[6]|0,this.H=wm[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Im[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=Im[d-15],h=Im[d-2],m=zd(y,7)^zd(y,18)^y>>>3,f=zd(h,17)^zd(h,19)^h>>>10;Im[d]=f+Im[d-7]+m+Im[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=zd(a,6)^zd(a,11)^zd(a,25),h=l+y+h5e(a,c,u)+m5e[d]+Im[d]|0,f=(zd(r,2)^zd(r,13)^zd(r,22))+g5e(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Im.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const zV=XH(()=>new y5e);class p5e extends TypeError{constructor(e,t){let r;const{message:s,...i}=e,{path:o}=e,a=o.length===0?s:"At path: "+o.join(".")+" -- "+s;super(a),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var c;return(c=r)!=null?c:r=[e,...t()]}}}function b5e(n){return Ly(n)&&typeof n[Symbol.iterator]=="function"}function Ly(n){return typeof n=="object"&&n!=null}function hd(n){return typeof n=="string"?JSON.stringify(n):""+n}function S5e(n){const{done:e,value:t}=n.next();return e?void 0:t}function k5e(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+hd(r)+"`"}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*cle(n,e,t,r){b5e(n)||(n=[n]);for(const s of n){const i=k5e(s,e,t,r);i&&(yield i)}}function*iG(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s};if(i&&(n=e.coercer(n,a),o&&e.type!=="type"&&Ly(e.schema)&&Ly(n)&&!Array.isArray(n)))for(const u in n)e.schema[u]===void 0&&delete n[u];let c=!0;for(const u of e.validator(n,a))c=!1,yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=iG(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o});for(const h of y)h[0]?(c=!1,yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):Ly(n)&&(n[u]=l))}if(c)for(const u of e.refiner(n,a))c=!1,yield[u,void 0];c&&(yield[void 0,n])}class ch{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return cle(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return cle(l,u,this,c)}:this.refiner=()=>[]}assert(e){return gSe(e,this)}create(e){return ft(e,this)}is(e){return mSe(e,this)}mask(e){return v5e(e,this)}validate(e,t={}){return MB(e,this,t)}}function gSe(n,e){const t=MB(n,e);if(t[0])throw t[0]}function ft(n,e){const t=MB(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function v5e(n,e){const t=MB(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function mSe(n,e){return!MB(n,e)[0]}function MB(n,e,t={}){const r=iG(n,e,t),s=S5e(r);if(s[0])return[new p5e(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function GS(n,e){return new ch({type:n,schema:null,validator:e})}function A5e(){return GS("any",()=>!0)}function Ot(n){return new ch({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+hd(e)}})}function Jf(){return GS("boolean",n=>typeof n=="boolean")}function oG(n){return GS("instance",e=>e instanceof n||"Expected a `"+n.name+"` instance, but received: "+hd(e))}function Ii(n){const e=hd(n),t=typeof n;return new ch({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||"Expected the literal `"+e+"`, but received: "+hd(r)}})}function w5e(){return GS("never",()=>!1)}function Kt(n){return new ch({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function ke(){return GS("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+hd(n))}function kr(n){return new ch({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function ySe(n,e){return new ch({type:"record",schema:null,*entries(t){if(Ly(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return Ly(t)||"Expected an object, but received: "+hd(t)}})}function Qe(){return GS("string",n=>typeof n=="string"||"Expected a string, but received: "+hd(n))}function aG(n){const e=w5e();return new ch({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+hd(t)}})}function De(n){const e=Object.keys(n);return new ch({type:"type",schema:n,*entries(t){if(Ly(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return Ly(t)||"Expected an object, but received: "+hd(t)}})}function wu(n){const e=n.map(t=>t.type).join(" | ");return new ch({type:"union",schema:null,validator(t,r){const s=[];for(const i of n){const[...o]=iG(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+hd(t),...s]}})}function BB(){return GS("unknown",()=>!0)}function zB(n,e,t){return new ch({...n,coercer:(r,s)=>mSe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const I5e=U0e.v4,P5e=function(n,e,t,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:n};if(s===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof t>"u"){const o=typeof r.generator=="function"?r.generator:function(){return I5e()};i.id=o(i,r)}else s===2&&t===null?r.notificationIdNull&&(i.id=null):i.id=t;return i};var _5e=P5e;const E5e=U0e.v4,x5e=_5e,iM=function(n,e){if(!(this instanceof iM))return new iM(n,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return E5e()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=n};var T5e=iM;iM.prototype.request=function(n,e,t,r){const s=this;let i=null;const o=Array.isArray(n)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&n&&typeof n=="object"&&typeof e=="function")r=e,i=n;else{typeof t=="function"&&(r=t,t=void 0);const u=typeof r=="function";try{i=x5e(n,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l){if(u)return r(l);throw l}if(!u)return i}let c;try{c=JSON.stringify(i,this.options.replacer)}catch(u){return r(u)}return this.callServer(c,function(u,l){s._parseResponse(u,l,r)}),i};iM.prototype._parseResponse=function(n,e,t){if(n){t(n);return}if(!e)return t();let r;try{r=JSON.parse(e,this.options.reviver)}catch(s){return t(s)}if(t.length===3)if(Array.isArray(r)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return t(null,r.filter(s),r.filter(i))}else return t(null,r.error,r.result);t(null,r)};var pSe={},cG={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(cG);var bSe={exports:{}},Ox={exports:{}};(function(n){function e(t){return n.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(Ox);(function(n){var e=Ox.exports.default;function t(){n.exports=t=function(){return s},n.exports.__esModule=!0,n.exports.default=n.exports;var r,s={},i=Object.prototype,o=i.hasOwnProperty,a=Object.defineProperty||function(B,O,D){B[O]=D.value},c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function y(B,O,D){return Object.defineProperty(B,O,{value:D,enumerable:!0,configurable:!0,writable:!0}),B[O]}try{y({},"")}catch{y=function(D,W,L){return D[W]=L}}function h(B,O,D,W){var L=O&&O.prototype instanceof I?O:I,N=Object.create(L.prototype),H=new x(W||[]);return a(N,"_invoke",{value:z(B,D,H)}),N}function m(B,O,D){try{return{type:"normal",arg:B.call(O,D)}}catch(W){return{type:"throw",arg:W}}}s.wrap=h;var f="suspendedStart",g="suspendedYield",b="executing",S="completed",p={};function I(){}function w(){}function A(){}var _={};y(_,u,function(){return this});var E=Object.getPrototypeOf,M=E&&E(E(C([])));M&&M!==i&&o.call(M,u)&&(_=M);var P=A.prototype=I.prototype=Object.create(_);function R(B){["next","throw","return"].forEach(function(O){y(B,O,function(D){return this._invoke(O,D)})})}function $(B,O){function D(L,N,H,J){var Q=m(B[L],B,N);if(Q.type!=="throw"){var Y=Q.arg,X=Y.value;return X&&e(X)=="object"&&o.call(X,"__await")?O.resolve(X.__await).then(function(re){D("next",re,H,J)},function(re){D("throw",re,H,J)}):O.resolve(X).then(function(re){Y.value=re,H(Y)},function(re){return D("throw",re,H,J)})}J(Q.arg)}var W;a(this,"_invoke",{value:function(N,H){function J(){return new O(function(Q,Y){D(N,H,Q,Y)})}return W=W?W.then(J,J):J()}})}function z(B,O,D){var W=f;return function(L,N){if(W===b)throw new Error("Generator is already running");if(W===S){if(L==="throw")throw N;return{value:r,done:!0}}for(D.method=L,D.arg=N;;){var H=D.delegate;if(H){var J=T(H,D);if(J){if(J===p)continue;return J}}if(D.method==="next")D.sent=D._sent=D.arg;else if(D.method==="throw"){if(W===f)throw W=S,D.arg;D.dispatchException(D.arg)}else D.method==="return"&&D.abrupt("return",D.arg);W=b;var Q=m(B,O,D);if(Q.type==="normal"){if(W=D.done?S:g,Q.arg===p)continue;return{value:Q.arg,done:D.done}}Q.type==="throw"&&(W=S,D.method="throw",D.arg=Q.arg)}}}function T(B,O){var D=O.method,W=B.iterator[D];if(W===r)return O.delegate=null,D==="throw"&&B.iterator.return&&(O.method="return",O.arg=r,T(B,O),O.method==="throw")||D!=="return"&&(O.method="throw",O.arg=new TypeError("The iterator does not provide a '"+D+"' method")),p;var L=m(W,B.iterator,O.arg);if(L.type==="throw")return O.method="throw",O.arg=L.arg,O.delegate=null,p;var N=L.arg;return N?N.done?(O[B.resultName]=N.value,O.next=B.nextLoc,O.method!=="return"&&(O.method="next",O.arg=r),O.delegate=null,p):N:(O.method="throw",O.arg=new TypeError("iterator result is not an object"),O.delegate=null,p)}function v(B){var O={tryLoc:B[0]};1 in B&&(O.catchLoc=B[1]),2 in B&&(O.finallyLoc=B[2],O.afterLoc=B[3]),this.tryEntries.push(O)}function k(B){var O=B.completion||{};O.type="normal",delete O.arg,B.completion=O}function x(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(v,this),this.reset(!0)}function C(B){if(B||B===""){var O=B[u];if(O)return O.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var D=-1,W=function L(){for(;++D<B.length;)if(o.call(B,D))return L.value=B[D],L.done=!1,L;return L.value=r,L.done=!0,L};return W.next=W}}throw new TypeError(e(B)+" is not iterable")}return w.prototype=A,a(P,"constructor",{value:A,configurable:!0}),a(A,"constructor",{value:w,configurable:!0}),w.displayName=y(A,d,"GeneratorFunction"),s.isGeneratorFunction=function(B){var O=typeof B=="function"&&B.constructor;return!!O&&(O===w||(O.displayName||O.name)==="GeneratorFunction")},s.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,A):(B.__proto__=A,y(B,d,"GeneratorFunction")),B.prototype=Object.create(P),B},s.awrap=function(B){return{__await:B}},R($.prototype),y($.prototype,l,function(){return this}),s.AsyncIterator=$,s.async=function(B,O,D,W,L){L===void 0&&(L=Promise);var N=new $(h(B,O,D,W),L);return s.isGeneratorFunction(O)?N:N.next().then(function(H){return H.done?H.value:N.next()})},R(P),y(P,d,"Generator"),y(P,u,function(){return this}),y(P,"toString",function(){return"[object Generator]"}),s.keys=function(B){var O=Object(B),D=[];for(var W in O)D.push(W);return D.reverse(),function L(){for(;D.length;){var N=D.pop();if(N in O)return L.value=N,L.done=!1,L}return L.done=!0,L}},s.values=C,x.prototype={constructor:x,reset:function(O){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(k),!O)for(var D in this)D.charAt(0)==="t"&&o.call(this,D)&&!isNaN(+D.slice(1))&&(this[D]=r)},stop:function(){this.done=!0;var O=this.tryEntries[0].completion;if(O.type==="throw")throw O.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var D=this;function W(Y,X){return H.type="throw",H.arg=O,D.next=Y,X&&(D.method="next",D.arg=r),!!X}for(var L=this.tryEntries.length-1;L>=0;--L){var N=this.tryEntries[L],H=N.completion;if(N.tryLoc==="root")return W("end");if(N.tryLoc<=this.prev){var J=o.call(N,"catchLoc"),Q=o.call(N,"finallyLoc");if(J&&Q){if(this.prev<N.catchLoc)return W(N.catchLoc,!0);if(this.prev<N.finallyLoc)return W(N.finallyLoc)}else if(J){if(this.prev<N.catchLoc)return W(N.catchLoc,!0)}else{if(!Q)throw new Error("try statement without catch or finally");if(this.prev<N.finallyLoc)return W(N.finallyLoc)}}}},abrupt:function(O,D){for(var W=this.tryEntries.length-1;W>=0;--W){var L=this.tryEntries[W];if(L.tryLoc<=this.prev&&o.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var N=L;break}}N&&(O==="break"||O==="continue")&&N.tryLoc<=D&&D<=N.finallyLoc&&(N=null);var H=N?N.completion:{};return H.type=O,H.arg=D,N?(this.method="next",this.next=N.finallyLoc,p):this.complete(H)},complete:function(O,D){if(O.type==="throw")throw O.arg;return O.type==="break"||O.type==="continue"?this.next=O.arg:O.type==="return"?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):O.type==="normal"&&D&&(this.next=D),p},finish:function(O){for(var D=this.tryEntries.length-1;D>=0;--D){var W=this.tryEntries[D];if(W.finallyLoc===O)return this.complete(W.completion,W.afterLoc),k(W),p}},catch:function(O){for(var D=this.tryEntries.length-1;D>=0;--D){var W=this.tryEntries[D];if(W.tryLoc===O){var L=W.completion;if(L.type==="throw"){var N=L.arg;k(W)}return N}}throw new Error("illegal catch attempt")},delegateYield:function(O,D,W){return this.delegate={iterator:C(O),resultName:D,nextLoc:W},this.method==="next"&&(this.arg=r),p}},s}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(bSe);var hD=bSe.exports(),R5e=hD;try{regeneratorRuntime=hD}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=hD:Function("r","regeneratorRuntime = r")(hD)}var SSe={exports:{}};(function(n){function e(r,s,i,o,a,c,u){try{var l=r[c](u),d=l.value}catch(y){i(y);return}l.done?s(d):Promise.resolve(d).then(o,a)}function t(r){return function(){var s=this,i=arguments;return new Promise(function(o,a){var c=r.apply(s,i);function u(d){e(c,o,a,u,l,"next",d)}function l(d){e(c,o,a,u,l,"throw",d)}u(void 0)})}}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(SSe);var uG={exports:{}};(function(n){function e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(uG);var lG={exports:{}},kSe={exports:{}},vSe={exports:{}};(function(n){var e=Ox.exports.default;function t(r,s){if(e(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var o=i.call(r,s||"default");if(e(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(r)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(vSe);(function(n){var e=Ox.exports.default,t=vSe.exports;function r(s){var i=t(s,"string");return e(i)==="symbol"?i:String(i)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports})(kSe);(function(n){var e=kSe.exports;function t(s,i){for(var o=0;o<i.length;o++){var a=i[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,e(a.key),a)}}function r(s,i,o){return i&&t(s.prototype,i),o&&t(s,o),Object.defineProperty(s,"prototype",{writable:!1}),s}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports})(lG);var dG={exports:{}},ASe={exports:{}};(function(n){function e(t,r){return n.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},n.exports.__esModule=!0,n.exports.default=n.exports,e(t,r)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(ASe);(function(n){var e=ASe.exports;function t(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(s&&s.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),s&&e(r,s)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(dG);var fG={exports:{}},wSe={exports:{}};(function(n){function e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(wSe);(function(n){var e=Ox.exports.default,t=wSe.exports;function r(s,i){if(i&&(e(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(s)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports})(fG);var hG={exports:{}};(function(n){function e(t){return n.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(hG);(function(n){var e=cG.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(R5e),r=e(SSe.exports),s=e(Ox.exports),i=e(uG.exports),o=e(lG.exports),a=e(dG.exports),c=e(fG.exports),u=e(hG.exports),l=V0e.exports;function d(f){var g=y();return function(){var S=(0,u.default)(f),p;if(g){var I=(0,u.default)(this).constructor;p=Reflect.construct(S,arguments,I)}else p=S.apply(this,arguments);return(0,c.default)(this,p)}}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var h=function(f,g){var b={};for(var S in f)Object.prototype.hasOwnProperty.call(f,S)&&g.indexOf(S)<0&&(b[S]=f[S]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,S=Object.getOwnPropertySymbols(f);p<S.length;p++)g.indexOf(S[p])<0&&Object.prototype.propertyIsEnumerable.call(f,S[p])&&(b[S[p]]=f[S[p]]);return b},m=function(f){(0,a.default)(b,f);var g=d(b);function b(S){var p,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},A=arguments.length>3?arguments[3]:void 0;(0,i.default)(this,b);var _=w.autoconnect,E=_===void 0?!0:_,M=w.reconnect,P=M===void 0?!0:M,R=w.reconnect_interval,$=R===void 0?1e3:R,z=w.max_reconnects,T=z===void 0?5:z,v=h(w,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return p=g.call(this),p.webSocketFactory=S,p.queue={},p.rpc_id=0,p.address=I,p.autoconnect=E,p.ready=!1,p.reconnect=P,p.reconnect_timer_id=void 0,p.reconnect_interval=$,p.max_reconnects=T,p.rest_options=v,p.current_reconnects=0,p.generate_request_id=A||function(){return++p.rpc_id},p.autoconnect&&p._connect(p.address,Object.assign({autoconnect:p.autoconnect,reconnect:p.reconnect,reconnect_interval:p.reconnect_interval,max_reconnects:p.max_reconnects},p.rest_options)),p}return(0,o.default)(b,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(p,I,w,A){var _=this;return!A&&(0,s.default)(w)==="object"&&(A=w,w=null),new Promise(function(E,M){if(!_.ready)return M(new Error("socket not ready"));var P=_.generate_request_id(p,I),R={jsonrpc:"2.0",method:p,params:I||null,id:P};_.socket.send(JSON.stringify(R),A,function($){if($)return M($);_.queue[P]={promise:[E,M]},w&&(_.queue[P].timeout=setTimeout(function(){delete _.queue[P],M(new Error("reply timeout"))},w))})})}},{key:"login",value:function(){var S=(0,r.default)(t.default.mark(function I(w){var A;return t.default.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,this.call("rpc.login",w);case 2:if(A=E.sent,A){E.next=5;break}throw new Error("authentication failed");case 5:return E.abrupt("return",A);case 6:case"end":return E.stop()}},I,this)}));function p(I){return S.apply(this,arguments)}return p}()},{key:"listMethods",value:function(){var S=(0,r.default)(t.default.mark(function I(){return t.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,this.call("__listMethods");case 2:return A.abrupt("return",A.sent);case 3:case"end":return A.stop()}},I,this)}));function p(){return S.apply(this,arguments)}return p}()},{key:"notify",value:function(p,I){var w=this;return new Promise(function(A,_){if(!w.ready)return _(new Error("socket not ready"));var E={jsonrpc:"2.0",method:p,params:I||null};w.socket.send(JSON.stringify(E),function(M){if(M)return _(M);A()})})}},{key:"subscribe",value:function(){var S=(0,r.default)(t.default.mark(function I(w){var A;return t.default.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return typeof w=="string"&&(w=[w]),E.next=3,this.call("rpc.on",w);case 3:if(A=E.sent,!(typeof w=="string"&&A[w]!=="ok")){E.next=6;break}throw new Error("Failed subscribing to an event '"+w+"' with: "+A[w]);case 6:return E.abrupt("return",A);case 7:case"end":return E.stop()}},I,this)}));function p(I){return S.apply(this,arguments)}return p}()},{key:"unsubscribe",value:function(){var S=(0,r.default)(t.default.mark(function I(w){var A;return t.default.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return typeof w=="string"&&(w=[w]),E.next=3,this.call("rpc.off",w);case 3:if(A=E.sent,!(typeof w=="string"&&A[w]!=="ok")){E.next=6;break}throw new Error("Failed unsubscribing from an event with: "+A);case 6:return E.abrupt("return",A);case 7:case"end":return E.stop()}},I,this)}));function p(I){return S.apply(this,arguments)}return p}()},{key:"close",value:function(p,I){this.socket.close(p||1e3,I)}},{key:"_connect",value:function(p,I){var w=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(p,I),this.socket.addEventListener("open",function(){w.ready=!0,w.emit("open"),w.current_reconnects=0}),this.socket.addEventListener("message",function(A){var _=A.data;_ instanceof ArrayBuffer&&(_=Xe.Buffer.from(_).toString());try{_=JSON.parse(_)}catch{return}if(_.notification&&w.listeners(_.notification).length){if(!Object.keys(_.params).length)return w.emit(_.notification);var E=[_.notification];if(_.params.constructor===Object)E.push(_.params);else for(var M=0;M<_.params.length;M++)E.push(_.params[M]);return Promise.resolve().then(function(){w.emit.apply(w,E)})}if(!w.queue[_.id])return _.method&&_.params?Promise.resolve().then(function(){w.emit(_.method,_.params)}):void 0;"error"in _=="result"in _&&w.queue[_.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),w.queue[_.id].timeout&&clearTimeout(w.queue[_.id].timeout),_.error?w.queue[_.id].promise[1](_.error):w.queue[_.id].promise[0](_.result),delete w.queue[_.id]}),this.socket.addEventListener("error",function(A){return w.emit("error",A)}),this.socket.addEventListener("close",function(A){var _=A.code,E=A.reason;w.ready&&setTimeout(function(){return w.emit("close",_,E)},0),w.ready=!1,w.socket=void 0,_!==1e3&&(w.current_reconnects++,w.reconnect&&(w.max_reconnects>w.current_reconnects||w.max_reconnects===0)&&(w.reconnect_timer_id=setTimeout(function(){return w._connect(p,I)},w.reconnect_interval)))})}}]),b}(l.EventEmitter);n.default=m})(pSe);var C5e=q0e(pSe),ISe={};(function(n){var e=cG.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var t=e(uG.exports),r=e(lG.exports),s=e(dG.exports),i=e(fG.exports),o=e(hG.exports),a=V0e.exports;function c(y){var h=u();return function(){var f=(0,o.default)(y),g;if(h){var b=(0,o.default)(this).constructor;g=Reflect.construct(f,arguments,b)}else g=f.apply(this,arguments);return(0,i.default)(this,g)}}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var l=function(y){(0,s.default)(m,y);var h=c(m);function m(f,g,b){var S;return(0,t.default)(this,m),S=h.call(this),S.socket=new window.WebSocket(f,b),S.socket.onopen=function(){return S.emit("open")},S.socket.onmessage=function(p){return S.emit("message",p.data)},S.socket.onerror=function(p){return S.emit("error",p)},S.socket.onclose=function(p){S.emit("close",p.code,p.reason)},S}return(0,r.default)(m,[{key:"send",value:function(g,b,S){var p=S||b;try{this.socket.send(g),p()}catch(I){p(I)}}},{key:"close",value:function(g,b){this.socket.close(g,b)}},{key:"addEventListener",value:function(g,b,S){this.socket.addEventListener(g,b,S)}}]),m}(a.EventEmitter);function d(y,h){return new l(y,h)}})(ISe);var M5e=q0e(ISe);const[PSe,_Se,ESe]=[[],[],[]],B5e=BigInt(0),yR=BigInt(1),z5e=BigInt(2),$5e=BigInt(7),D5e=BigInt(256),O5e=BigInt(113);for(let n=0,e=yR,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],PSe.push(2*(5*r+t)),_Se.push((n+1)*(n+2)/2%64);let s=B5e;for(let i=0;i<7;i++)e=(e<<yR^(e>>$5e)*O5e)%D5e,e&z5e&&(s^=yR<<(yR<<BigInt(i))-yR);ESe.push(s)}const[K5e,L5e]=Q1e(ESe,!0),ule=(n,e,t)=>t>32?rSe(n,e,t):eSe(n,e,t),lle=(n,e,t)=>t>32?nSe(n,e,t):tSe(n,e,t);function W5e(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=ule(u,l,1)^t[a],y=lle(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=_Se[o],c=ule(s,i,a),u=lle(s,i,a),l=PSe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=K5e[r],n[1]^=L5e[r]}t.fill(0)}class gG extends JH{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,QD(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=dLe(this.state)}keccak(){W5e(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){AA(this);const{blockLen:t,state:r}=this;e=k4(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){AA(this,!1),ZH(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return QD(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(j1e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new gG(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const N5e=(n,e,t)=>XH(()=>new gG(e,n,t)),dle=N5e(1,136,256/8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function F5e(n){const e=tG(n);$x(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:U5e,hexToBytes:V5e}=ULe,S1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=S1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:U5e(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=S1,t=typeof n=="string"?V5e(n):n;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=S1._parseInt(t.subarray(2)),{d:o,l:a}=S1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Eg=BigInt(0),yl=BigInt(1);BigInt(2);const fle=BigInt(3);BigInt(4);function q5e(n){const e=F5e(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return tS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return typeof m=="bigint"&&Eg<m&&m<e.n}function a(m){if(!o(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=eS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:L1(Xo("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=fi(p,S)),a(p),p}const u=new Map;function l(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required")}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(Xo("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(c(f))}_setWindowSize(f){this._WINDOW_SIZE=f,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=this.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){l(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),_=t.eql(t.mul(b,w),t.mul(I,S));return A&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,fle),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,_=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),P=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),_=t.mul(S,I),_=t.add(_,_),w=t.mul(f,_),A=t.mul(b,P),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),_=t.mul(b,_),P=t.mul(f,P),R=t.sub(E,P),R=t.mul(f,R),R=t.add(R,_),_=t.add(E,E),E=t.add(_,E),E=t.add(E,P),E=t.mul(E,R),A=t.add(A,E),P=t.mul(p,I),P=t.add(P,P),E=t.mul(P,R),w=t.sub(w,E),_=t.mul(P,M),_=t.add(_,_),_=t.add(_,_),new d(w,A,_)}add(f){l(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,_=t.ZERO,E=t.ZERO;const M=e.a,P=t.mul(e.b,fle);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(P,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),_=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(P,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),_=t.add(_,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,_,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,u,f,g=>{const b=t.invertBatch(g.map(S=>S.pz));return g.map((S,p)=>S.toAffine(b[p])).map(d.fromAffine)})}multiplyUnsafe(f){const g=d.ZERO;if(f===Eg)return g;if(a(f),f===yl)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,_=g,E=this;for(;p>Eg||w>Eg;)p&yl&&(A=A.add(E)),w&yl&&(_=_.add(E)),E=E.double(),p>>=yl,w>>=yl;return S&&(A=A.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),A.add(_)}multiply(f){a(f);let g=f,b,S;const{endo:p}=e;if(p){const{k1neg:I,k1:w,k2neg:A,k2:_}=p.splitScalar(g);let{p:E,f:M}=this.wNAF(w),{p:P,f:R}=this.wNAF(_);E=h.constTimeNegate(I,E),P=h.constTimeNegate(A,P),P=new d(t.mul(P.px,p.beta),P.py,P.pz),b=E.add(P),S=M.add(R)}else{const{p:I,f:w}=this.wNAF(g);b=I,S=w}return d.normalizeZ([b,S])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===Eg||A===yl||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){const{px:g,py:b,pz:S}=this,p=this.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===yl)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===yl?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return this.assertValidity(),r(d,this,f)}toHex(f=!0){return eS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=fSe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}function j5e(n){const e=tG(n);return $x(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function H5e(n){const e=j5e(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(v){return Eg<v&&v<t.ORDER}function a(v){return fi(v,r)}function c(v){return MV(v,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:y}=q5e({...e,toBytes(v,k,x){const C=k.toAffine(),B=t.toBytes(C.x),O=tS;return x?O(Uint8Array.from([k.hasEvenY()?2:3]),B):O(Uint8Array.from([4]),B,t.toBytes(C.y))},fromBytes(v){const k=v.length,x=v[0],C=v.subarray(1);if(k===s&&(x===2||x===3)){const B=L1(C);if(!o(B))throw new Error("Point is not on curve");const O=d(B);let D=t.sqrt(O);const W=(D&yl)===yl;return(x&1)===1!==W&&(D=t.neg(D)),{x:B,y:D}}else if(k===i&&x===4){const B=t.fromBytes(C.subarray(0,t.BYTES)),O=t.fromBytes(C.subarray(t.BYTES,2*t.BYTES));return{x:B,y:O}}else throw new Error(`Point of length ${k} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),h=v=>eS(IA(v,e.nByteLength));function m(v){const k=r>>yl;return v>k}function f(v){return m(v)?a(-v):v}const g=(v,k,x)=>L1(v.slice(k,x));class b{constructor(k,x,C){this.r=k,this.s=x,this.recovery=C,this.assertValidity()}static fromCompact(k){const x=e.nByteLength;return k=Xo("compactSignature",k,x*2),new b(g(k,0,x),g(k,x,2*x))}static fromDER(k){const{r:x,s:C}=S1.toSig(Xo("DER",k));return new b(x,C)}assertValidity(){if(!y(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!y(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(k){return new b(this.r,this.s,k)}recoverPublicKey(k){const{r:x,s:C,recovery:B}=this,O=_(Xo("msgHash",k));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const D=B===2||B===3?x+e.n:x;if(D>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const W=(B&1)===0?"02":"03",L=u.fromHex(W+h(D)),N=c(D),H=a(-O*N),J=a(C*N),Q=u.BASE.multiplyAndAddUnsafe(L,H,J);if(!Q)throw new Error("point at infinify");return Q.assertValidity(),Q}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return wA(this.toDERHex())}toDERHex(){return S1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return wA(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const S={isValidPrivateKey(v){try{return l(v),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const v=dSe(e.n);return e5e(e.randomBytes(v),e.n)},precompute(v=8,k=u.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}};function p(v,k=!0){return u.fromPrivateKey(v).toRawBytes(k)}function I(v){const k=v instanceof Uint8Array,x=typeof v=="string",C=(k||x)&&v.length;return k?C===s||C===i:x?C===2*s||C===2*i:v instanceof u}function w(v,k,x=!0){if(I(v))throw new Error("first arg must be private key");if(!I(k))throw new Error("second arg must be public key");return u.fromHex(k).multiply(l(v)).toRawBytes(x)}const A=e.bits2int||function(v){const k=L1(v),x=v.length*8-e.nBitLength;return x>0?k>>BigInt(x):k},_=e.bits2int_modN||function(v){return a(A(v))},E=eG(e.nBitLength);function M(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(Eg<=v&&v<E))throw new Error(`bigint expected < 2^${e.nBitLength}`);return IA(v,e.nByteLength)}function P(v,k,x=R){if(["recovered","canonical"].some(X=>X in x))throw new Error("sign() legacy options not supported");const{hash:C,randomBytes:B}=e;let{lowS:O,prehash:D,extraEntropy:W}=x;O==null&&(O=!0),v=Xo("msgHash",v),D&&(v=Xo("prehashed msgHash",C(v)));const L=_(v),N=l(k),H=[M(N),M(L)];if(W!=null){const X=W===!0?B(t.BYTES):W;H.push(Xo("extraEntropy",X))}const J=tS(...H),Q=L;function Y(X){const re=A(X);if(!y(re))return;const se=c(re),ee=u.BASE.multiply(re).toAffine(),ne=a(ee.x);if(ne===Eg)return;const ve=a(se*a(Q+ne*N));if(ve===Eg)return;let Pe=(ee.x===ne?0:2)|Number(ee.y&yl),Le=ve;return O&&m(ve)&&(Le=f(ve),Pe^=1),new b(ne,Le,Pe)}return{seed:J,k2sig:Y}}const R={lowS:e.lowS,prehash:!1},$={lowS:e.lowS,prehash:!1};function z(v,k,x=R){const{seed:C,k2sig:B}=P(v,k,x),O=e;return aSe(O.hash.outputLen,O.nByteLength,O.hmac)(C,B)}u.BASE._setWindowSize(8);function T(v,k,x,C=$){var ee;const B=v;if(k=Xo("msgHash",k),x=Xo("publicKey",x),"strict"in C)throw new Error("options.strict was renamed to lowS");const{lowS:O,prehash:D}=C;let W,L;try{if(typeof B=="string"||B instanceof Uint8Array)try{W=b.fromDER(B)}catch(ne){if(!(ne instanceof S1.Err))throw ne;W=b.fromCompact(B)}else if(typeof B=="object"&&typeof B.r=="bigint"&&typeof B.s=="bigint"){const{r:ne,s:ve}=B;W=new b(ne,ve)}else throw new Error("PARSE");L=u.fromHex(x)}catch(ne){if(ne.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(O&&W.hasHighS())return!1;D&&(k=e.hash(k));const{r:N,s:H}=W,J=_(k),Q=c(H),Y=a(J*Q),X=a(N*Q),re=(ee=u.BASE.multiplyAndAddUnsafe(L,Y,X))==null?void 0:ee.toAffine();return re?a(re.x)===N:!1}return{CURVE:e,getPublicKey:p,getSharedSecret:w,sign:z,verify:T,ProjectivePoint:u,Signature:b,utils:S}}class xSe extends JH{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,lLe(e);const r=k4(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return AA(this),this.iHash.update(e),this}digestInto(e){AA(this),ZH(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const TSe=(n,e,t)=>new xSe(n,e).update(t).digest();TSe.create=(n,e)=>new xSe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function G5e(n){return{hash:n,hmac:(e,...t)=>TSe(n,e,Y1e(...t)),randomBytes:Z1e}}function Y5e(n,e){const t=r=>H5e({...n,...G5e(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RSe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),hle=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Z5e=BigInt(1),$V=BigInt(2),gle=(n,e)=>(n+e/$V)/e;function J5e(n){const e=RSe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=Ji(l,t,e)*l%e,y=Ji(d,t,e)*l%e,h=Ji(y,$V,e)*u%e,m=Ji(h,s,e)*h%e,f=Ji(m,i,e)*m%e,g=Ji(f,a,e)*f%e,b=Ji(g,c,e)*g%e,S=Ji(b,a,e)*f%e,p=Ji(S,t,e)*l%e,I=Ji(p,o,e)*m%e,w=Ji(I,r,e)*u%e,A=Ji(w,$V,e);if(!DV.eql(DV.sqr(A),n))throw new Error("Cannot find square root");return A}const DV=uSe(RSe,void 0,void 0,{sqrt:J5e}),w4=Y5e({a:BigInt(0),b:BigInt(7),Fp:DV,n:hle,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=hle,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Z5e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=gle(i*n,e),c=gle(-r*n,e);let u=fi(n-a*t-c*s,e),l=fi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},zV);BigInt(0);w4.ProjectivePoint;const X5e=Dx.utils.randomPrivateKey,mle=()=>{const n=Dx.utils.randomPrivateKey(),e=eO(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},eO=Dx.getPublicKey;function yle(n){try{return Dx.ExtendedPoint.fromHex(n),!0}catch{return!1}}const mG=(n,e)=>Dx.sign(n,e.slice(0,32)),Q5e=Dx.verify,Jr=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class yG{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(nm(B2,this))}static decode(e){return sm(B2,this,e)}static decodeUnchecked(e){return im(B2,this,e)}}class eWe extends yG{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const B2=new Map;var CSe;let MSe;const BSe=32,Qu=32;function tWe(n){return n._bn!==void 0}let ple=1;MSe=Symbol.toStringTag;class tt extends yG{constructor(e){if(super({}),this._bn=void 0,tWe(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Qu)throw new Error("Invalid public key input");this._bn=new Co(t)}else this._bn=new Co(e);if(this._bn.byteLength()>Qu)throw new Error("Invalid public key input")}}static unique(){const e=new tt(ple);return ple+=1,new tt(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Qu)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[MSe](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=zV(s);return new tt(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>BSe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,Jr(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=zV(r);if(yle(s))throw new Error("Invalid seeds, address must fall off the curve");return new tt(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new tt(e);return yle(t.toBytes())}}CSe=tt;tt.default=new CSe("11111111111111111111111111111111");B2.set(tt,{kind:"struct",fields:[["_bn","u256"]]});class rWe{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Jr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Jr(X5e()),this._publicKey=Jr(eO(this._secretKey))}get publicKey(){return new tt(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const nWe=new tt("BPFLoader1111111111111111111111111111111111"),Wy=1280-40-8,I4=127,PA=64;class pG extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(pG.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class bG extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(bG.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Av extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Av.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class oM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const yn=(n="publicKey")=>ie(32,n),sWe=(n="signature")=>ie(64,n),k1=(n="string")=>{const e=F([U("length"),U("lengthPadding"),ie(Vt(U(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>U().span+U().span+V.Buffer.from(i,"utf8").length,s},iWe=(n="authorized")=>F([yn("staker"),yn("withdrawer")],n),oWe=(n="lockup")=>F([_e("unixTimestamp"),_e("epoch"),yn("custodian")],n),aWe=(n="voteInit")=>F([yn("nodePubkey"),yn("authorizedVoter"),yn("authorizedWithdrawer"),te("commission")],n),cWe=(n="voteAuthorizeWithSeedArgs")=>F([U("voteAuthorizationType"),yn("currentAuthorityDerivedKeyOwnerPubkey"),k1("currentAuthorityDerivedKeySeed"),yn("newAuthorized")],n);function zSe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return zSe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function tu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Du(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Kn(n,e){if(!n)throw new Error(e||"Assertion failed")}class P4{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new P4(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Kn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Kn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Kn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new tt(c)),...r.map(([c])=>new tt(c)),...s.map(([c])=>new tt(c)),...i.map(([c])=>new tt(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new tt(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Kn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}class gd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new tt(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new oM(this.staticAccountKeys)}static compile(e){const t=P4.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new oM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new gd({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Du(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];Du(f,y.length);let g=[];return Du(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Du(s,r.length);let i=V.Buffer.alloc(Wy);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=F([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=F([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(yn("key"),e,"keys"),yn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>Jr(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=t.shift();if(r!==(r&I4))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=t.shift(),i=t.shift(),o=tu(t);let a=[];for(let y=0;y<o;y++){const h=t.slice(0,Qu);t=t.slice(Qu),a.push(new tt(V.Buffer.from(h)))}const c=t.slice(0,Qu);t=t.slice(Qu);const u=tu(t);let l=[];for(let y=0;y<u;y++){const h=t.shift(),m=tu(t),f=t.slice(0,m);t=t.slice(m);const g=tu(t),b=t.slice(0,g),S=Ie.encode(V.Buffer.from(b));t=t.slice(g),l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new gd(d)}}class rS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new oM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=P4.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new oM(a,s).compileInstructions(e.instructions);return new rS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Du(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Du(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Du(i,this.addressTableLookups.length);const o=F([te("prefix"),F([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(yn(),this.staticAccountKeys.length,"staticAccountKeys"),yn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Wy),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Wy);for(const r of this.compiledInstructions){const s=Array();Du(s,r.accountKeyIndexes.length);const i=Array();Du(i,r.data.length),e+=F([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Wy);for(const r of this.addressTableLookups){const s=Array();Du(s,r.writableIndexes.length);const i=Array();Du(i,r.readonlyIndexes.length),e+=F([yn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=t.shift(),s=r&I4;Kn(r!==s,"Expected versioned message but received legacy message");const i=s;Kn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},a=[],c=tu(t);for(let m=0;m<c;m++)a.push(new tt(t.splice(0,Qu)));const u=Ie.encode(t.splice(0,Qu)),l=tu(t),d=[];for(let m=0;m<l;m++){const f=t.shift(),g=tu(t),b=t.splice(0,g),S=tu(t),p=new Uint8Array(t.splice(0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=tu(t),h=[];for(let m=0;m<y;m++){const f=new tt(t.splice(0,Qu)),g=tu(t),b=t.splice(0,g),S=tu(t),p=t.splice(0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new rS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const SG={deserializeMessageVersion(n){const e=n[0],t=e&I4;return t===e?"legacy":t},deserialize:n=>{const e=SG.deserializeMessageVersion(n);if(e==="legacy")return gd.from(n);if(e===0)return rS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let mg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const uWe=V.Buffer.alloc(PA).fill(0);class ps{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class cs{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new ps(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new tt(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{Kn(f.programIdIndex>=0),f.accounts.forEach(g=>Kn(g>=0))}),new gd({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=mG(r,s.secretKey);this._addSignature(s.publicKey,Jr(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Kn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(const{signature:r,publicKey:s}of this.signatures)if(r===null){if(t)return!1}else if(!Q5e(r,e,s.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r&&!this._verifySignatures(s,t))throw new Error("Signature verification failed");return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Du(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Kn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Kn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Kn(i.length<=Wy,`Transaction too large: ${i.length} > ${Wy}`),i}get keys(){return Kn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Kn(this.instructions.length===1),this.instructions[0].programId}get data(){return Kn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=tu(t);let s=[];for(let i=0;i<r;i++){const o=t.slice(0,PA);t=t.slice(PA),s.push(Ie.encode(V.Buffer.from(o)))}return cs.populate(gd.from(t),s)}static populate(e,t=[]){const r=new cs;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(uWe)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new ps({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class kG{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Kn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Kn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new ps({programId:g,data:Jr(m.data),keys:f}))}return new kG({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return gd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return rS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class vG{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Kn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(PA));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Du(t,this.signatures.length);const r=F([ie(t.length,"encodedSignaturesLength"),we(sWe(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=tu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(t.splice(0,PA)));const i=SG.deserialize(new Uint8Array(t));return new vG(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Kn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=mG(t,s.secretKey)}}addSignature(e,t){Kn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Kn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const lWe=160,dWe=64,fWe=lWe/dWe,$Se=1e3/fWe,Xd=new tt("SysvarC1ock11111111111111111111111111111111"),hWe=new tt("SysvarEpochSchedu1e111111111111111111111111"),gWe=new tt("Sysvar1nstructions1111111111111111111111111"),gD=new tt("SysvarRecentB1ockHashes11111111111111111111"),_A=new tt("SysvarRent111111111111111111111111111111111"),mWe=new tt("SysvarRewards111111111111111111111111111111"),yWe=new tt("SysvarS1otHashes111111111111111111111111111"),pWe=new tt("SysvarS1otHistory11111111111111111111111111"),mD=new tt("SysvarStakeHistory1111111111111111111111111");async function OV(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function X0(n){return new Promise(e=>setTimeout(e,n))}function $n(n,e){const t=n.layout.span>=0?n.layout.span:zSe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function es(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const DSe=Ae("lamportsPerSignature"),OSe=F([U("version"),U("state"),yn("authorizedPubkey"),yn("nonce"),F([DSe],"feeCalculator")]),KV=OSe.span;class _4{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=OSe.decode(Jr(e),0);return new _4({authorizedPubkey:new tt(t.authorizedPubkey),nonce:new tt(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const bWe=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},SWe=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=bWe(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return om(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=nc(o,n);return r(u,a,c)},i},EA=SWe(8);class kWe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(zs))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=es(zs.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new tt(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=es(zs.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=es(zs.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new tt(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=es(zs.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=es(zs.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new tt(t),seed:r,space:s,programId:new tt(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=es(zs.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new tt(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=es(zs.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new tt(t),seed:r,programId:new tt(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=es(zs.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new tt(t),seed:r,lamports:s,space:i,programId:new tt(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=es(zs.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new tt(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),es(zs.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=es(zs.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=es(zs.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new tt(t)}}static checkProgramId(e){if(!e.equals(ac.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const zs=Object.freeze({Create:{index:0,layout:F([U("instruction"),_e("lamports"),_e("space"),yn("programId")])},Assign:{index:1,layout:F([U("instruction"),yn("programId")])},Transfer:{index:2,layout:F([U("instruction"),EA("lamports")])},CreateWithSeed:{index:3,layout:F([U("instruction"),yn("base"),k1("seed"),_e("lamports"),_e("space"),yn("programId")])},AdvanceNonceAccount:{index:4,layout:F([U("instruction")])},WithdrawNonceAccount:{index:5,layout:F([U("instruction"),_e("lamports")])},InitializeNonceAccount:{index:6,layout:F([U("instruction"),yn("authorized")])},AuthorizeNonceAccount:{index:7,layout:F([U("instruction"),yn("authorized")])},Allocate:{index:8,layout:F([U("instruction"),_e("space")])},AllocateWithSeed:{index:9,layout:F([U("instruction"),yn("base"),k1("seed"),_e("space"),yn("programId")])},AssignWithSeed:{index:10,layout:F([U("instruction"),yn("base"),k1("seed"),yn("programId")])},TransferWithSeed:{index:11,layout:F([U("instruction"),EA("lamports"),k1("seed"),yn("programId")])},UpgradeNonceAccount:{index:12,layout:F([U("instruction")])}});class ac{constructor(){}static createAccount(e){const t=zs.Create,r=$n(t,{lamports:e.lamports,space:e.space,programId:Jr(e.programId.toBuffer())});return new ps({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=zs.TransferWithSeed;t=$n(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:Jr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=zs.Transfer;t=$n(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ps({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=zs.AssignWithSeed;t=$n(s,{base:Jr(e.basePubkey.toBuffer()),seed:e.seed,programId:Jr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=zs.Assign;t=$n(s,{programId:Jr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ps({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=zs.CreateWithSeed,r=$n(t,{base:Jr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Jr(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ps({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new cs;"basePubkey"in e&&"seed"in e?t.add(ac.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:KV,programId:this.programId})):t.add(ac.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:KV,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=zs.InitializeNonceAccount,r=$n(t,{authorized:Jr(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:gD,isSigner:!1,isWritable:!1},{pubkey:_A,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ps(s)}static nonceAdvance(e){const t=zs.AdvanceNonceAccount,r=$n(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:gD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ps(s)}static nonceWithdraw(e){const t=zs.WithdrawNonceAccount,r=$n(t,{lamports:e.lamports});return new ps({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:gD,isSigner:!1,isWritable:!1},{pubkey:_A,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=zs.AuthorizeNonceAccount,r=$n(t,{authorized:Jr(e.newAuthorizedPubkey.toBuffer())});return new ps({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=zs.AllocateWithSeed;t=$n(s,{base:Jr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Jr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=zs.Allocate;t=$n(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ps({keys:r,programId:this.programId,data:t})}}ac.programId=new tt("11111111111111111111111111111111");const vWe=Wy-300;class nS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/nS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new cs,h.add(ac.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new cs,h.add(ac.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new cs,h.add(ac.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new cs().add(ac.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await OV(e,h,[t,r],{commitment:"confirmed"})}const o=F([U("instruction"),U("offset"),U("bytesLength"),U("bytesLengthPadding"),we(te("byte"),Vt(U(),-8),"bytes")]),a=nS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new cs().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(OV(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await X0(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=F([U("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new cs().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:_A,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round($Se/2)))}}return!0}}nS.chunkSize=vWe;const AWe=new tt("BPFLoader2111111111111111111111111111111111");class wWe{static getMinNumSignatures(e){return nS.getMinNumSignatures(e)}static load(e,t,r,s,i){return nS.load(e,t,r,i,s)}}function IWe(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var PWe=Object.prototype.toString,_We=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function I2(n,e){var t,r,s,i,o,a,c;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return I2(n.toJSON(),e);if(c=PWe.call(n),c==="[object Array]"){for(s="[",r=n.length-1,t=0;t<r;t++)s+=I2(n[t],!0)+",";return r>-1&&(s+=I2(n[t],!0)),s+"]"}else if(c==="[object Object]"){for(i=_We(n).sort(),r=i.length,s="",t=0;t<r;)o=i[t],a=I2(n[o],!1),a!==void 0&&(s&&(s+=","),s+=JSON.stringify(o)+":"+a),t++;return"{"+s+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var EWe=function(n){var e=I2(n,!1);if(e!==void 0)return""+e},ble=IWe(EWe);const pR=32;function Z5(n){let e=0;for(;n>1;)n/=2,e++;return e}function xWe(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class KSe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=Z5(xWe(e+pR+1))-Z5(pR)-1,r=this.getSlotsInEpoch(t),s=e-(r-pR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*pR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Z5(pR)):this.slotsPerEpoch}}class LV extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const TWe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Ht extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}var RWe=globalThis.fetch;class CWe extends C5e{constructor(e,t,r){const s=i=>{const o=M5e(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function MWe(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Sle=56;class WV{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=MWe(BWe,e),r=e.length-Sle;Kn(r>=0,"lookup table is invalid"),Kn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=F([we(yn(),s,"addresses")]).decode(e.slice(Sle));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new tt(t.authority[0]):void 0,addresses:i.map(o=>new tt(o))}}}const BWe={index:1,layout:F([U("typeIndex"),EA("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(yn(),Vt(te(),-1),"authority")])},zWe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function $We(n){const e=n.match(zWe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Uo=zB(oG(tt),Qe(),n=>new tt(n)),LSe=aG([Qe(),Ii("base64")]),AG=zB(oG(V.Buffer),LSe,n=>V.Buffer.from(n[0],"base64")),WSe=30*1e3;function DWe(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Ys(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function NSe(n){return wu([De({jsonrpc:Ii("2.0"),id:Qe(),result:n}),De({jsonrpc:Ii("2.0"),id:Qe(),error:De({code:BB(),message:Qe(),data:kr(A5e())})})])}const OWe=NSe(BB());function Fr(n){return zB(NSe(n),OWe,e=>"error"in e?e:{...e,result:ft(e.result,n)})}function co(n){return Fr(De({context:De({slot:ke()}),value:n}))}function E4(n){return De({context:De({slot:ke()}),value:n})}function J5(n,e){return n===0?new rS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new tt(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new gd(e)}const KWe=De({foundation:ke(),foundationTerm:ke(),initial:ke(),taper:ke(),terminal:ke()}),LWe=Fr(Ot(Kt(De({epoch:ke(),effectiveSlot:ke(),amount:ke(),postBalance:ke(),commission:kr(Kt(ke()))})))),WWe=Ot(De({slot:ke(),prioritizationFee:ke()})),NWe=De({total:ke(),validator:ke(),foundation:ke(),epoch:ke()}),FWe=De({epoch:ke(),slotIndex:ke(),slotsInEpoch:ke(),absoluteSlot:ke(),blockHeight:kr(ke()),transactionCount:kr(ke())}),UWe=De({slotsPerEpoch:ke(),leaderScheduleSlotOffset:ke(),warmup:Jf(),firstNormalEpoch:ke(),firstNormalSlot:ke()}),VWe=ySe(Qe(),Ot(ke())),YS=Kt(wu([De({}),Qe()])),qWe=De({err:YS}),jWe=Ii("receivedSignature"),HWe=De({"solana-core":Qe(),"feature-set":kr(ke())}),kle=co(De({err:Kt(wu([De({}),Qe()])),logs:Kt(Ot(Qe())),accounts:kr(Kt(Ot(Kt(De({executable:Jf(),owner:Qe(),lamports:ke(),data:Ot(Qe()),rentEpoch:kr(ke())}))))),unitsConsumed:kr(ke()),returnData:kr(Kt(De({programId:Qe(),data:aG([Qe(),Ii("base64")])})))})),GWe=co(De({byIdentity:ySe(Qe(),Ot(ke())),range:De({firstSlot:ke(),lastSlot:ke()})}));function YWe(n,e,t,r,s,i){const o=t||RWe;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new T5e(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},ZNe)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.log(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await X0(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function ZWe(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function JWe(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const XWe=Fr(KWe),QWe=Fr(NWe),eNe=Fr(WWe),tNe=Fr(FWe),rNe=Fr(UWe),nNe=Fr(VWe),sNe=Fr(ke()),iNe=co(De({total:ke(),circulating:ke(),nonCirculating:ke(),nonCirculatingAccounts:Ot(Uo)})),NV=De({amount:Qe(),uiAmount:Kt(ke()),decimals:ke(),uiAmountString:kr(Qe())}),oNe=co(Ot(De({address:Uo,amount:Qe(),uiAmount:Kt(ke()),decimals:ke(),uiAmountString:kr(Qe())}))),aNe=co(Ot(De({pubkey:Uo,account:De({executable:Jf(),owner:Uo,lamports:ke(),data:AG,rentEpoch:ke()})}))),FV=De({program:Qe(),parsed:BB(),space:ke()}),cNe=co(Ot(De({pubkey:Uo,account:De({executable:Jf(),owner:Uo,lamports:ke(),data:FV,rentEpoch:ke()})}))),uNe=co(Ot(De({lamports:ke(),address:Uo}))),aM=De({executable:Jf(),owner:Uo,lamports:ke(),data:AG,rentEpoch:ke()}),lNe=De({pubkey:Uo,account:aM}),dNe=zB(wu([oG(V.Buffer),FV]),wu([LSe,FV]),n=>Array.isArray(n)?ft(n,AG):n),UV=De({executable:Jf(),owner:Uo,lamports:ke(),data:dNe,rentEpoch:ke()}),fNe=De({pubkey:Uo,account:UV}),hNe=De({state:wu([Ii("active"),Ii("inactive"),Ii("activating"),Ii("deactivating")]),active:ke(),inactive:ke()}),gNe=Fr(Ot(De({signature:Qe(),slot:ke(),err:YS,memo:Kt(Qe()),blockTime:kr(Kt(ke()))}))),mNe=Fr(Ot(De({signature:Qe(),slot:ke(),err:YS,memo:Kt(Qe()),blockTime:kr(Kt(ke()))}))),yNe=De({subscription:ke(),result:E4(aM)}),pNe=De({pubkey:Uo,account:aM}),bNe=De({subscription:ke(),result:E4(pNe)}),SNe=De({parent:ke(),slot:ke(),root:ke()}),kNe=De({subscription:ke(),result:SNe}),vNe=wu([De({type:wu([Ii("firstShredReceived"),Ii("completed"),Ii("optimisticConfirmation"),Ii("root")]),slot:ke(),timestamp:ke()}),De({type:Ii("createdBank"),parent:ke(),slot:ke(),timestamp:ke()}),De({type:Ii("frozen"),slot:ke(),timestamp:ke(),stats:De({numTransactionEntries:ke(),numSuccessfulTransactions:ke(),numFailedTransactions:ke(),maxTransactionsPerEntry:ke()})}),De({type:Ii("dead"),slot:ke(),timestamp:ke(),err:Qe()})]),ANe=De({subscription:ke(),result:vNe}),wNe=De({subscription:ke(),result:E4(wu([qWe,jWe]))}),INe=De({subscription:ke(),result:ke()}),PNe=De({pubkey:Qe(),gossip:Kt(Qe()),tpu:Kt(Qe()),rpc:Kt(Qe()),version:Kt(Qe())}),vle=De({votePubkey:Qe(),nodePubkey:Qe(),activatedStake:ke(),epochVoteAccount:Jf(),epochCredits:Ot(aG([ke(),ke(),ke()])),commission:ke(),lastVote:ke(),rootSlot:Kt(ke())}),_Ne=Fr(De({current:Ot(vle),delinquent:Ot(vle)})),ENe=wu([Ii("processed"),Ii("confirmed"),Ii("finalized")]),xNe=De({slot:ke(),confirmations:Kt(ke()),err:YS,confirmationStatus:kr(ENe)}),TNe=co(Ot(Kt(xNe))),RNe=Fr(ke()),FSe=De({accountKey:Uo,writableIndexes:Ot(ke()),readonlyIndexes:Ot(ke())}),wG=De({signatures:Ot(Qe()),message:De({accountKeys:Ot(Qe()),header:De({numRequiredSignatures:ke(),numReadonlySignedAccounts:ke(),numReadonlyUnsignedAccounts:ke()}),instructions:Ot(De({accounts:Ot(ke()),data:Qe(),programIdIndex:ke()})),recentBlockhash:Qe(),addressTableLookups:kr(Ot(FSe))})}),USe=De({pubkey:Uo,signer:Jf(),writable:Jf(),source:kr(wu([Ii("transaction"),Ii("lookupTable")]))}),VSe=De({accountKeys:Ot(USe),signatures:Ot(Qe())}),qSe=De({parsed:BB(),program:Qe(),programId:Uo}),jSe=De({accounts:Ot(Uo),data:Qe(),programId:Uo}),CNe=wu([jSe,qSe]),MNe=wu([De({parsed:BB(),program:Qe(),programId:Qe()}),De({accounts:Ot(Qe()),data:Qe(),programId:Qe()})]),HSe=zB(CNe,MNe,n=>"accounts"in n?ft(n,jSe):ft(n,qSe)),GSe=De({signatures:Ot(Qe()),message:De({accountKeys:Ot(USe),instructions:Ot(HSe),recentBlockhash:Qe(),addressTableLookups:kr(Kt(Ot(FSe)))})}),tO=De({accountIndex:ke(),mint:Qe(),owner:kr(Qe()),uiTokenAmount:NV}),YSe=De({writable:Ot(Uo),readonly:Ot(Uo)}),x4=De({err:YS,fee:ke(),innerInstructions:kr(Kt(Ot(De({index:ke(),instructions:Ot(De({accounts:Ot(ke()),data:Qe(),programIdIndex:ke()}))})))),preBalances:Ot(ke()),postBalances:Ot(ke()),logMessages:kr(Kt(Ot(Qe()))),preTokenBalances:kr(Kt(Ot(tO))),postTokenBalances:kr(Kt(Ot(tO))),loadedAddresses:kr(YSe),computeUnitsConsumed:kr(ke())}),IG=De({err:YS,fee:ke(),innerInstructions:kr(Kt(Ot(De({index:ke(),instructions:Ot(HSe)})))),preBalances:Ot(ke()),postBalances:Ot(ke()),logMessages:kr(Kt(Ot(Qe()))),preTokenBalances:kr(Kt(Ot(tO))),postTokenBalances:kr(Kt(Ot(tO))),loadedAddresses:kr(YSe),computeUnitsConsumed:kr(ke())}),Kx=wu([Ii(0),Ii("legacy")]),ZS=De({pubkey:Qe(),lamports:ke(),postBalance:Kt(ke()),rewardType:Kt(Qe()),commission:kr(Kt(ke()))}),BNe=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),transactions:Ot(De({transaction:wG,meta:Kt(x4),version:kr(Kx)})),rewards:kr(Ot(ZS)),blockTime:Kt(ke()),blockHeight:Kt(ke())}))),zNe=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),rewards:kr(Ot(ZS)),blockTime:Kt(ke()),blockHeight:Kt(ke())}))),$Ne=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),transactions:Ot(De({transaction:VSe,meta:Kt(x4),version:kr(Kx)})),rewards:kr(Ot(ZS)),blockTime:Kt(ke()),blockHeight:Kt(ke())}))),DNe=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),transactions:Ot(De({transaction:GSe,meta:Kt(IG),version:kr(Kx)})),rewards:kr(Ot(ZS)),blockTime:Kt(ke()),blockHeight:Kt(ke())}))),ONe=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),transactions:Ot(De({transaction:VSe,meta:Kt(IG),version:kr(Kx)})),rewards:kr(Ot(ZS)),blockTime:Kt(ke()),blockHeight:Kt(ke())}))),KNe=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),rewards:kr(Ot(ZS)),blockTime:Kt(ke()),blockHeight:Kt(ke())}))),LNe=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),transactions:Ot(De({transaction:wG,meta:Kt(x4)})),rewards:kr(Ot(ZS)),blockTime:Kt(ke())}))),Ale=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),signatures:Ot(Qe()),blockTime:Kt(ke())}))),X5=Fr(Kt(De({slot:ke(),meta:x4,blockTime:kr(Kt(ke())),transaction:wG,version:kr(Kx)}))),s$=Fr(Kt(De({slot:ke(),transaction:GSe,meta:Kt(IG),blockTime:kr(Kt(ke())),version:kr(Kx)}))),WNe=co(De({blockhash:Qe(),feeCalculator:De({lamportsPerSignature:ke()})})),NNe=co(De({blockhash:Qe(),lastValidBlockHeight:ke()})),FNe=co(Jf()),UNe=De({slot:ke(),numTransactions:ke(),numSlots:ke(),samplePeriodSecs:ke()}),VNe=Fr(Ot(UNe)),qNe=co(Kt(De({feeCalculator:De({lamportsPerSignature:ke()})}))),jNe=Fr(Qe()),HNe=Fr(Qe()),GNe=De({err:YS,logs:Ot(Qe()),signature:Qe()}),YNe=De({result:E4(GNe),subscription:ke()}),ZNe={"solana-client":"js/0.0.0-development"};class JNe{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Ys(l),h=this._buildArgs([],d,void 0,y),m=ble(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=ft(f,Fr(ke()));if("error"in g)throw new Ht(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=DWe(e),this._rpcWsEndpoint=r||$We(e),this._rpcClient=YWe(e,s,i,o,a,c),this._rpcRequest=ZWe(this._rpcClient),this._rpcBatchRequest=JWe(this._rpcClient),this._rpcWebSocket=new CWe(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=ft(o,co(ke()));if("error"in a)throw new Ht(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=ft(t,Fr(Kt(ke())));if("error"in r)throw new Ht(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=ft(e,Fr(ke()));if("error"in t)throw new Ht(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=ft(e,sNe);if("error"in t)throw new Ht(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=ft(r,iNe);if("error"in s)throw new Ht(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=ft(s,co(NV));if("error"in i)throw new Ht(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=ft(s,co(NV));if("error"in i)throw new Ht(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Ys(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=ft(c,aNe);if("error"in u)throw new Ht(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=ft(o,cNe);if("error"in a)throw new Ht(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=ft(s,uNe);if("error"in i)throw new Ht(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=ft(s,oNe);if("error"in i)throw new Ht(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=ft(o,co(Kt(aM)));if("error"in a)throw new Ht(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=ft(o,co(Kt(UV)));if("error"in a)throw new Ht(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Ys(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=ft(a,co(Ot(Kt(UV))));if("error"in c)throw new Ht(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Ys(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=ft(a,co(Ot(Kt(aM))));if("error"in c)throw new Ht(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Ys(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=ft(a,Fr(hNe));if("error"in c)throw new Ht(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Ys(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",o),c=await this._rpcRequest("getProgramAccounts",a),u=Ot(lNe),l=o.withContext===!0?ft(c,co(u)):ft(c,Fr(u));if("error"in l)throw new Ht(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=ft(o,Fr(Ot(fNe)));if("error"in a)throw new Ht(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Kn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:mg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:mg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await X0(1e3),i||(h=await y(),i))return;d({__type:mg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===mg.PROCESSED)l=d.response;else throw new pG(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:mg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await X0(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===mg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await X0(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Av(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Av(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Av(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new Av(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:mg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===mg.PROCESSED)a=c.response;else throw new bG(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=ft(e,Fr(Ot(PNe)));if("error"in t)throw new Ht(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=ft(r,_Ne);if("error"in s)throw new Ht(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=ft(i,Fr(ke()));if("error"in o)throw new Ht(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=ft(i,Fr(Qe()));if("error"in o)throw new Ht(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=ft(s,Fr(Ot(Uo)));if("error"in i)throw new Ht(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Kn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=ft(s,TNe);if("error"in i)throw new Ht(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=ft(i,Fr(ke()));if("error"in o)throw new Ht(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=ft(r,XWe);if("error"in s)throw new Ht(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Ys(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=ft(a,LWe);if("error"in c)throw new Ht(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=ft(e,QWe);if("error"in t)throw new Ht(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=ft(i,tNe);if("error"in o)throw new Ht(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=ft(e,rNe);if("error"in t)throw new Ht(t.error,"failed to get epoch schedule");const r=t.result;return new KSe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=ft(e,nNe);if("error"in t)throw new Ht(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=ft(s,RNe);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=ft(r,WNe);if("error"in s)throw new Ht(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=ft(t,VNe);if("error"in r)throw new Ht(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=ft(s,qNe);if("error"in i)throw new Ht(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Jr(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=ft(i,co(Kt(ke())));if("error"in o)throw new Ht(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=ft(s,eNe);if("error"in i)throw new Ht(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=ft(i,NNe);if("error"in o)throw new Ht(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=ft(o,FNe);if("error"in a)throw new Ht(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=ft(e,Fr(HWe));if("error"in t)throw new Ht(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=ft(e,Fr(Qe()));if("error"in t)throw new Ht(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=ft(o,$Ne);if("error"in a)throw a.error;return a.result}case"none":{const a=ft(o,zNe);if("error"in a)throw a.error;return a.result}default:{const a=ft(o,BNe);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:J5(d,u.message)},version:d}))}:null}}}catch(a){throw new Ht(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=ft(o,ONe);if("error"in a)throw a.error;return a.result}case"none":{const a=ft(o,KNe);if("error"in a)throw a.error;return a.result}default:{const a=ft(o,DNe);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Ht(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=ft(i,GWe);if("error"in o)throw new Ht(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=ft(o,X5);if("error"in a)throw new Ht(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:J5(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=ft(o,s$);if("error"in a)throw new Ht(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Ys(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=ft(c,s$);if("error"in u)throw new Ht(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Ys(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=ft(c,X5);if("error"in u)throw new Ht(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:J5(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=ft(s,LNe);if("error"in i)throw new Ht(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new gd(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:cs.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=ft(i,Fr(Ot(ke())));if("error"in o)throw new Ht(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=ft(s,Ale);if("error"in i)throw new Ht(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=ft(s,Ale);if("error"in i)throw new Ht(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=ft(s,X5);if("error"in i)throw new Ht(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new gd(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:cs.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=ft(s,s$);if("error"in i)throw new Ht(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=ft(o,s$);if("error"in a)throw new Ht(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=ft(i,gNe);if("error"in o)throw new Ht(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=ft(i,mNe);if("error"in o)throw new Ht(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new WV({key:e,state:WV.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=_4.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=ft(r,jNe);if("error"in s)throw new Ht(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await X0(100);const r=Date.now()-this._blockhashInfo.lastFetch>=WSe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await X0($Se/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=ft(i,co(ke()));if("error"in o)throw new Ht(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=ft(p,kle);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof cs){let m=e;s=new cs,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=cs.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=ft(y,kle);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new LV("failed to simulate transaction: "+h.error.message,m)}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=Jr(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=ft(a,HNe);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new LV("failed to send transaction: "+c.error.message,u)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,i,a.message),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=ft(e,yNe);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=ble([e.method,t],!0),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Kn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=ft(e,bNe);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",s?{filters:s}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=ft(e,YNe);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=ft(e,kNe);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=ft(e,ANe);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=ft(e,wNe);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=ft(e,INe);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Uv{constructor(e){this._keypair=void 0,this._keypair=e??mle()}static generate(){return new Uv(mle())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=eO(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new Uv({publicKey:r,secretKey:e})}static fromSeed(e){const t=eO(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Uv({publicKey:t,secretKey:r})}get publicKey(){return new tt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const xg=Object.freeze({CreateLookupTable:{index:0,layout:F([U("instruction"),EA("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:F([U("instruction")])},ExtendLookupTable:{index:2,layout:F([U("instruction"),EA(),we(yn(),Vt(U(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:F([U("instruction")])},CloseLookupTable:{index:4,layout:F([U("instruction")])}});class XNe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(xg))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=es(xg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=es(xg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new tt(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(PG.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class PG{constructor(){}static createLookupTable(e){const[t,r]=tt.findProgramAddressSync([e.authority.toBuffer(),nc(BigInt(e.recentSlot),8)],this.programId),s=xg.CreateLookupTable,i=$n(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ac.programId,isSigner:!1,isWritable:!1}];return[new ps({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=xg.FreezeLookupTable,r=$n(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ps({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=xg.ExtendLookupTable,r=$n(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ac.programId,isSigner:!1,isWritable:!1}),new ps({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=xg.DeactivateLookupTable,r=$n(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ps({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=xg.CloseLookupTable,r=$n(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ps({programId:this.programId,keys:s,data:r})}}PG.programId=new tt("AddressLookupTab1e1111111111111111111111111");class QNe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(hf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=es(hf.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=es(hf.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=es(hf.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=es(hf.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(_G.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const hf=Object.freeze({RequestUnits:{index:0,layout:F([te("instruction"),U("units"),U("additionalFee")])},RequestHeapFrame:{index:1,layout:F([te("instruction"),U("bytes")])},SetComputeUnitLimit:{index:2,layout:F([te("instruction"),U("units")])},SetComputeUnitPrice:{index:3,layout:F([te("instruction"),EA("microLamports")])}});class _G{constructor(){}static requestUnits(e){const t=hf.RequestUnits,r=$n(t,e);return new ps({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=hf.RequestHeapFrame,r=$n(t,e);return new ps({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=hf.SetComputeUnitLimit,r=$n(t,e);return new ps({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=hf.SetComputeUnitPrice,r=$n(t,{microLamports:BigInt(e.microLamports)});return new ps({keys:[],programId:this.programId,data:r})}}_G.programId=new tt("ComputeBudget111111111111111111111111111111");const wle=64,Ile=32,Ple=64,_le=F([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class T4{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Kn(t.length===Ile,`Public Key must be ${Ile} bytes but received ${t.length} bytes`),Kn(s.length===Ple,`Signature must be ${Ple} bytes but received ${s.length} bytes`);const o=_le.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return _le.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new ps({keys:[],programId:T4.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Kn(t.length===wle,`Private key must be ${wle} bytes but received ${t.length} bytes`);try{const i=Uv.fromSecretKey(t),o=i.publicKey.toBytes(),a=mG(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}T4.programId=new tt("Ed25519SigVerify111111111111111111111111111");const eFe=(n,e)=>{const t=w4.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};w4.utils.isValidPrivateKey;const tFe=w4.getPublicKey,Ele=32,Q5=20,xle=64,rFe=11,eW=F([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class Vv{constructor(){}static publicKeyToEthAddress(e){Kn(e.length===xle,`Public key must be ${xle} bytes but received ${e.length} bytes`);try{return V.Buffer.from(dle(Jr(e))).slice(-Q5)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return Vv.createInstructionWithEthAddress({ethAddress:Vv.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Kn(a.length===Q5,`Address must be ${Q5} bytes but received ${a.length} bytes`);const c=1+rFe,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(eW.span+r.length);return eW.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Jr(s),ethAddress:Jr(a),recoveryId:i},h),h.fill(Jr(r),eW.span),new ps({keys:[],programId:Vv.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Kn(t.length===Ele,`Private key must be ${Ele} bytes but received ${t.length} bytes`);try{const i=Jr(t),o=tFe(i,!1).slice(1),a=V.Buffer.from(dle(Jr(r))),[c,u]=eFe(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Vv.programId=new tt("KeccakSecp256k11111111111111111111111111111");var ZSe;const JSe=new tt("StakeConfig11111111111111111111111111111111");class XSe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class $B{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}ZSe=$B;$B.default=new ZSe(0,0,tt.default);class nFe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Sa))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=es(Sa.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new XSe(new tt(t.staker),new tt(t.withdrawer)),lockup:new $B(r.unixTimestamp,r.epoch,new tt(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),es(Sa.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=es(Sa.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new tt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=es(Sa.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new tt(i),newAuthorizedPubkey:new tt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=es(Sa.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),es(Sa.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=es(Sa.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),es(Sa.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(R4.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Sa=Object.freeze({Initialize:{index:0,layout:F([U("instruction"),iWe(),oWe()])},Authorize:{index:1,layout:F([U("instruction"),yn("newAuthorized"),U("stakeAuthorizationType")])},Delegate:{index:2,layout:F([U("instruction")])},Split:{index:3,layout:F([U("instruction"),_e("lamports")])},Withdraw:{index:4,layout:F([U("instruction"),_e("lamports")])},Deactivate:{index:5,layout:F([U("instruction")])},Merge:{index:7,layout:F([U("instruction")])},AuthorizeWithSeed:{index:8,layout:F([U("instruction"),yn("newAuthorized"),U("stakeAuthorizationType"),k1("authoritySeed"),yn("authorityOwner")])}}),sFe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class R4{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||$B.default,o=Sa.Initialize,a=$n(o,{authorized:{staker:Jr(r.staker.toBuffer()),withdrawer:Jr(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Jr(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:_A,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new ps(c)}static createAccountWithSeed(e){const t=new cs;t.add(ac.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new cs;t.add(ac.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=Sa.Delegate,o=$n(i);return new cs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:mD,isSigner:!1,isWritable:!1},{pubkey:JSe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=Sa.Authorize,c=$n(a,{newAuthorized:Jr(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Xd,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!1,isWritable:!1}),new cs().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Sa.AuthorizeWithSeed,l=$n(u,{newAuthorized:Jr(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:Jr(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Xd,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!1,isWritable:!1}),new cs().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=Sa.Split,a=$n(o,{lamports:i});return new ps({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e){const t=new cs;return t.add(ac.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,basePubkey:i,seed:o,lamports:a}=e,c=new cs;return c.add(ac.allocate({accountPubkey:s,basePubkey:i,seed:o,space:this.space,programId:this.programId})),c.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:a}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=Sa.Merge,o=$n(i);return new cs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:mD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=Sa.Withdraw,c=$n(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:mD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!1,isWritable:!1}),new cs().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=Sa.Deactivate,i=$n(s);return new cs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}R4.programId=new tt("Stake11111111111111111111111111111111111111");R4.space=200;class QSe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class iFe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Tg))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=es(Tg.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new QSe(new tt(t.nodePubkey),new tt(t.authorizedVoter),new tt(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=es(Tg.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new tt(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=es(Tg.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new tt(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new tt(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=es(Tg.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Lx.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Tg=Object.freeze({InitializeAccount:{index:0,layout:F([U("instruction"),aWe()])},Authorize:{index:1,layout:F([U("instruction"),yn("newAuthorized"),U("voteAuthorizationType")])},Withdraw:{index:3,layout:F([U("instruction"),_e("lamports")])},AuthorizeWithSeed:{index:10,layout:F([U("instruction"),cWe()])}}),oFe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Lx{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=Tg.InitializeAccount,o=$n(i,{voteInit:{nodePubkey:Jr(s.nodePubkey.toBuffer()),authorizedVoter:Jr(s.authorizedVoter.toBuffer()),authorizedWithdrawer:Jr(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:_A,isSigner:!1,isWritable:!1},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new ps(a)}static createAccount(e){const t=new cs;return t.add(ac.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=Tg.Authorize,a=$n(o,{newAuthorized:Jr(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new cs().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=Tg.AuthorizeWithSeed,u=$n(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Jr(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:Jr(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new cs().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=Tg.Withdraw,a=$n(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new cs().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insuffcient funds.");return Lx.withdraw(e)}}Lx.programId=new tt("Vote111111111111111111111111111111111111111");Lx.space=3731;const eke=new tt("Va1idator1nfo111111111111111111111111111111"),aFe=De({name:Qe(),website:kr(Qe()),details:kr(Qe()),keybaseUsername:kr(Qe())});class EG{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(tu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new tt(t.slice(0,Qu));t=t.slice(Qu);const a=t.slice(0,1)[0]===1;t=t.slice(1),s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(eke)&&s[1].isSigner){const i=k1().decode(V.Buffer.from(t)),o=JSON.parse(i);return gSe(o,aFe),new EG(s[1].publicKey,o)}return null}}const cFe=new tt("Vote111111111111111111111111111111111111111"),uFe=F([yn("nodePubkey"),yn("authorizedWithdrawer"),te("commission"),Ae(),we(F([Ae("slot"),U("confirmationCount")]),Vt(U(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(F([Ae("epoch"),yn("authorizedVoter")]),Vt(U(),-8),"authorizedVoters"),F([we(F([yn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(F([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(U(),-8),"epochCredits"),F([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class xG{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=uFe.decode(Jr(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new xG({nodePubkey:new tt(r.nodePubkey),authorizedWithdrawer:new tt(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(lFe),priorVoters:dFe(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function lFe({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new tt(n)}}function Tle({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new tt(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function dFe({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(Tle),...n.slice(0,e).map(Tle)]}const Rle={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function fFe(n,e){const t=e===!1?"http":"https";if(!n)return Rle[t].devnet;const r=Rle[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function hFe(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const gFe=1e9;var mFe=Object.freeze(Object.defineProperty({__proto__:null,Account:rWe,AddressLookupTableAccount:WV,AddressLookupTableInstruction:XNe,AddressLookupTableProgram:PG,Authorized:XSe,BLOCKHASH_CACHE_TIMEOUT_MS:WSe,BPF_LOADER_DEPRECATED_PROGRAM_ID:nWe,BPF_LOADER_PROGRAM_ID:AWe,BpfLoader:wWe,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:hf,ComputeBudgetInstruction:QNe,ComputeBudgetProgram:_G,Connection:JNe,Ed25519Program:T4,Enum:eWe,EpochSchedule:KSe,FeeCalculatorLayout:DSe,Keypair:Uv,LAMPORTS_PER_SOL:gFe,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:xg,Loader:nS,Lockup:$B,MAX_SEED_LENGTH:BSe,Message:gd,MessageAccountKeys:oM,MessageV0:rS,NONCE_ACCOUNT_LENGTH:KV,NonceAccount:_4,PACKET_DATA_SIZE:Wy,PUBLIC_KEY_LENGTH:Qu,PublicKey:tt,SIGNATURE_LENGTH_IN_BYTES:PA,SOLANA_SCHEMA:B2,STAKE_CONFIG_ID:JSe,STAKE_INSTRUCTION_LAYOUTS:Sa,SYSTEM_INSTRUCTION_LAYOUTS:zs,SYSVAR_CLOCK_PUBKEY:Xd,SYSVAR_EPOCH_SCHEDULE_PUBKEY:hWe,SYSVAR_INSTRUCTIONS_PUBKEY:gWe,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:gD,SYSVAR_RENT_PUBKEY:_A,SYSVAR_REWARDS_PUBKEY:mWe,SYSVAR_SLOT_HASHES_PUBKEY:yWe,SYSVAR_SLOT_HISTORY_PUBKEY:pWe,SYSVAR_STAKE_HISTORY_PUBKEY:mD,Secp256k1Program:Vv,SendTransactionError:LV,SolanaJSONRPCError:Ht,SolanaJSONRPCErrorCode:TWe,StakeAuthorizationLayout:sFe,StakeInstruction:nFe,StakeProgram:R4,Struct:yG,SystemInstruction:kWe,SystemProgram:ac,Transaction:cs,TransactionExpiredBlockheightExceededError:pG,TransactionExpiredNonceInvalidError:Av,TransactionExpiredTimeoutError:bG,TransactionInstruction:ps,TransactionMessage:kG,TransactionStatus:mg,VALIDATOR_INFO_KEY:eke,VERSION_PREFIX_MASK:I4,VOTE_PROGRAM_ID:cFe,ValidatorInfo:EG,VersionedMessage:SG,VersionedTransaction:vG,VoteAccount:xG,VoteAuthorizationLayout:oFe,VoteInit:QSe,VoteInstruction:iFe,VoteProgram:Lx,clusterApiUrl:fFe,sendAndConfirmRawTransaction:hFe,sendAndConfirmTransaction:OV},Symbol.toStringTag,{value:"Module"})),yFe=Td(mFe);(function(n){var e=K&&K.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(n,"__esModule",{value:!0}),n.map=n.array=n.rustEnum=n.str=n.vecU8=n.tagged=n.vec=n.bool=n.option=n.publicKey=n.i128=n.u128=n.i64=n.u64=n.struct=n.f64=n.f32=n.i32=n.u32=n.i16=n.u16=n.i8=n.u8=void 0;const t=gue,r=yFe,s=e(VDe.exports);var i=gue;Object.defineProperty(n,"u8",{enumerable:!0,get:function(){return i.u8}}),Object.defineProperty(n,"i8",{enumerable:!0,get:function(){return i.s8}}),Object.defineProperty(n,"u16",{enumerable:!0,get:function(){return i.u16}}),Object.defineProperty(n,"i16",{enumerable:!0,get:function(){return i.s16}}),Object.defineProperty(n,"u32",{enumerable:!0,get:function(){return i.u32}}),Object.defineProperty(n,"i32",{enumerable:!0,get:function(){return i.s32}}),Object.defineProperty(n,"f32",{enumerable:!0,get:function(){return i.f32}}),Object.defineProperty(n,"f64",{enumerable:!0,get:function(){return i.f64}}),Object.defineProperty(n,"struct",{enumerable:!0,get:function(){return i.struct}});class o extends t.Layout{constructor(R,$,z){super(R,z),this.blob=t.blob(R),this.signed=$}decode(R,$=0){const z=new s.default(this.blob.decode(R,$),10,"le");return this.signed?z.fromTwos(this.span*8).clone():z}encode(R,$,z=0){return this.signed&&(R=R.toTwos(this.span*8)),this.blob.encode(R.toArrayLike(Xe.Buffer,"le",this.span),$,z)}}function a(P){return new o(8,!1,P)}n.u64=a;function c(P){return new o(8,!0,P)}n.i64=c;function u(P){return new o(16,!1,P)}n.u128=u;function l(P){return new o(16,!0,P)}n.i128=l;class d extends t.Layout{constructor(R,$,z,T){super(R.span,T),this.layout=R,this.decoder=$,this.encoder=z}decode(R,$){return this.decoder(this.layout.decode(R,$))}encode(R,$,z){return this.layout.encode(this.encoder(R),$,z)}getSpan(R,$){return this.layout.getSpan(R,$)}}function y(P){return new d(t.blob(32),R=>new r.PublicKey(R),R=>R.toBuffer(),P)}n.publicKey=y;class h extends t.Layout{constructor(R,$){super(-1,$),this.layout=R,this.discriminator=t.u8()}encode(R,$,z=0){return R==null?this.discriminator.encode(0,$,z):(this.discriminator.encode(1,$,z),this.layout.encode(R,$,z+1)+1)}decode(R,$=0){const z=this.discriminator.decode(R,$);if(z===0)return null;if(z===1)return this.layout.decode(R,$+1);throw new Error("Invalid option "+this.property)}getSpan(R,$=0){const z=this.discriminator.decode(R,$);if(z===0)return 1;if(z===1)return this.layout.getSpan(R,$+1)+1;throw new Error("Invalid option "+this.property)}}function m(P,R){return new h(P,R)}n.option=m;function f(P){return new d(t.u8(),g,b,P)}n.bool=f;function g(P){if(P===0)return!1;if(P===1)return!0;throw new Error("Invalid bool: "+P)}function b(P){return P?1:0}function S(P,R){const $=t.u32("length"),z=t.struct([$,t.seq(P,t.offset($,-$.span),"values")]);return new d(z,({values:T})=>T,T=>({values:T}),R)}n.vec=S;function p(P,R,$){const z=t.struct([a("tag"),R.replicate("data")]);function T({tag:v,data:k}){if(!v.eq(P))throw new Error("Invalid tag, expected: "+P.toString("hex")+", got: "+v.toString("hex"));return k}return new d(z,T,v=>({tag:P,data:v}),$)}n.tagged=p;function I(P){const R=t.u32("length"),$=t.struct([R,t.blob(t.offset(R,-R.span),"data")]);return new d($,({data:z})=>z,z=>({data:z}),P)}n.vecU8=I;function w(P){return new d(I(),R=>R.toString("utf-8"),R=>Xe.Buffer.from(R,"utf-8"),P)}n.str=w;function A(P,R,$){const z=t.union($??t.u8(),R);return P.forEach((T,v)=>z.addVariant(v,T,T.property)),z}n.rustEnum=A;function _(P,R,$){const z=t.struct([t.seq(P,R,"values")]);return new d(z,({values:T})=>T,T=>({values:T}),$)}n.array=_;class E extends t.Layout{constructor(R,$,z){super(R.span+$.span,z),this.keyLayout=R,this.valueLayout=$}decode(R,$){$=$||0;const z=this.keyLayout.decode(R,$),T=this.valueLayout.decode(R,$+this.keyLayout.getSpan(R,$));return[z,T]}encode(R,$,z){z=z||0;const T=this.keyLayout.encode(R[0],$,z),v=this.valueLayout.encode(R[1],$,z+T);return T+v}getSpan(R,$){return this.keyLayout.getSpan(R,$)+this.valueLayout.getSpan(R,$)}}function M(P,R,$){const z=t.u32("length"),T=t.struct([z,t.seq(new E(P,R),t.offset(z,-z.span),"values")]);return new d(T,({values:v})=>new Map(v),v=>({values:Array.from(v.entries())}),$)}n.map=M})(xr);const bR=n=>"version"in n;var pFe=Object.freeze({__proto__:null,encode:function(n){return n.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"0x")},decode:function(n){n.indexOf("0x")===0&&(n=n.substr(2)),n.length%2==1&&(n="0"+n);let e=n.match(/.{2}/g);return e===null?V.Buffer.from([]):V.Buffer.from(e.map(t=>parseInt(t,16)))}});function tke(n){return new TextDecoder("utf-8").decode(n)}function rke(n){return new TextEncoder().encode(n)}var bFe=Object.freeze({__proto__:null,decode:tke,encode:rke});function VV(n){return Ie.encode(n)}var SFe=Object.freeze({__proto__:null,encode:VV,decode:function(n){return Ie.decode(n)}});function nke(n){return V.Buffer.from(j0e(n))}var kFe=Object.freeze({__proto__:null,encode:function(n){return bV(n)},decode:nke}),vFe=Object.freeze({__proto__:null,hex:pFe,utf8:bFe,bs58:SFe,base64:kFe});function TG(n){const e=new Map;return n.errors&&n.errors.forEach(t=>{var r;let s=(r=t.msg)!==null&&r!==void 0?r:t.name;e.set(t.code,s)}),e}function ske(n,...e){if(n.args.length!=e.length)throw new Error("Invalid argument length");const t={};let r=0;return n.args.forEach(s=>{t[s.name]=e[r],r+=1}),t}function C4(n,e={}){n.forEach(t=>{if("accounts"in t)C4(t.accounts,e[t.name]);else if(e[t.name]===void 0)throw new Error(`Invalid arguments: ${t.name} not provided.`)})}function cd(n){return n instanceof Ee?n:new Ee(n)}class AFe extends TypeError{constructor(e,t){let r;const{message:s,...i}=e,{path:o}=e;super(o.length===0?s:"At path: "+o.join(".")+" -- "+s),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var a;return(a=r)!=null?a:r=[e,...t()]}}}function qv(n){return typeof n=="object"&&n!=null}function Np(n){return typeof n=="string"?JSON.stringify(n):""+n}function wFe(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Np(r)+"`"}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*Cle(n,e,t,r){var s;qv(s=n)&&typeof s[Symbol.iterator]=="function"||(n=[n]);for(const i of n){const o=wFe(i,e,t,r);o&&(yield o)}}function*RG(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s};if(i&&(n=e.coercer(n,a),o&&e.type!=="type"&&qv(e.schema)&&qv(n)&&!Array.isArray(n)))for(const u in n)e.schema[u]===void 0&&delete n[u];let c=!0;for(const u of e.validator(n,a))c=!1,yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=RG(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o});for(const h of y)h[0]?(c=!1,yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):qv(n)&&(n[u]=l))}if(c)for(const u of e.refiner(n,a))c=!1,yield[u,void 0];c&&(yield[void 0,n])}class Bb{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,this.validator=s?(c,u)=>Cle(s(c,u),u,this,c):()=>[],this.refiner=i?(c,u)=>Cle(i(c,u),u,this,c):()=>[]}assert(e){return function(t,r){const s=z2(t,r);if(s[0])throw s[0]}(e,this)}create(e){return CG(e,this)}is(e){return ike(e,this)}mask(e){return function(t,r){const s=z2(t,r,{coerce:!0,mask:!0});if(s[0])throw s[0];return s[1]}(e,this)}validate(e,t={}){return z2(e,this,t)}}function CG(n,e){const t=z2(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function ike(n,e){return!z2(n,e)[0]}function z2(n,e,t={}){const r=RG(n,e,t),s=function(i){const{done:o,value:a}=i.next();return o?void 0:a}(r);return s[0]?[new AFe(s[0],function*(){for(const i of r)i[0]&&(yield i[0])}),void 0]:[void 0,s[1]]}function DB(n,e){return new Bb({type:n,schema:null,validator:e})}function tW(n){return new Bb({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+Np(e)})}function Mle(n){const e=Np(n),t=typeof n;return new Bb({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator:r=>r===n||"Expected the literal `"+e+"`, but received: "+Np(r)})}function i$(n){return new Bb({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function o$(){return DB("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+Np(n))}function yD(n){return new Bb({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function v1(){return DB("string",n=>typeof n=="string"||"Expected a string, but received: "+Np(n))}function wy(n){const e=Object.keys(n);return new Bb({type:"type",schema:n,*entries(t){if(qv(t))for(const r of e)yield[r,t[r],n[r]]},validator:t=>qv(t)||"Expected an object, but received: "+Np(t)})}function oke(n){const e=n.map(t=>t.type).join(" | ");return new Bb({type:"union",schema:null,coercer:(t,r)=>(n.find(s=>{const[i]=s.validate(t,{coerce:!0});return!i})||MG()).coercer(t,r),validator(t,r){const s=[];for(const i of n){const[...o]=RG(t,i,r),[a]=o;if(!a[0])return[];for(const[c]of o)c&&s.push(c)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Np(t),...s]}})}function MG(){return DB("unknown",()=>!0)}async function ake(n,e,t){if(e.length<=99)return await Ble(n,e,t);{const r=function(s,i){return Array.apply(0,new Array(Math.ceil(s.length/i))).map((o,a)=>s.slice(a*i,(a+1)*i))}(e,99);return(await Promise.all(r.map(s=>Ble(n,s,t)))).flat()}}async function Ble(n,e,t){const r=t??n.commitment;return(await n.getMultipleAccountsInfo(e,r)).map((s,i)=>s===null?null:{publicKey:e[i],account:s})}async function cke(n,e,t,r,s){t&&t.length>0&&e.sign(...t);const i=e._compile(),o=i.serialize(),a=e._serialize(o).toString("base64"),c={encoding:"base64",commitment:r??n.commitment};if(s){const d=(Array.isArray(s)?s:i.nonProgramIds()).map(y=>y.toBase58());c.accounts={encoding:"base64",addresses:d}}t&&(c.sigVerify=!0);const u=[a,c],l=CG(await n._rpcRequest("simulateTransaction",u),_Fe);if("error"in l){let d;if("data"in l.error&&(d=l.error.data.logs,d&&Array.isArray(d))){const y=`
    `,h=y+d.join(y);console.error(l.error.message,h)}throw new Wp("failed to simulate transaction: "+l.error.message,d)}return l.result}function IFe(n){return function(e,t,r){return new Bb({...e,coercer:(s,i)=>ike(s,t)?e.coercer(r(s,i),i):e.coercer(s,i)})}(uke(n),PFe,e=>"error"in e?e:{...e,result:CG(e.result,n)})}const PFe=uke(MG());function uke(n){return oke([wy({jsonrpc:Mle("2.0"),id:v1(),result:n}),wy({jsonrpc:Mle("2.0"),id:v1(),error:wy({code:MG(),message:v1(),data:yD(DB("any",()=>!0))})})])}const _Fe=(zle=wy({err:i$(oke([wy({}),v1()])),logs:i$(tW(v1())),accounts:yD(i$(tW(i$(wy({executable:DB("boolean",n=>typeof n=="boolean"),owner:v1(),lamports:o$(),data:tW(v1()),rentEpoch:yD(o$())}))))),unitsConsumed:yD(o$())}),IFe(wy({context:wy({slot:o$()}),value:zle})));var zle,EFe=Object.freeze({__proto__:null,invoke:async function(n,e,t,r){n=cd(n),r||(r=xA());const s=new Dn;if(s.add(new us({programId:n,keys:e??[],data:t})),r.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await r.sendAndConfirm(s,[])},getMultipleAccounts:ake,simulateTransaction:cke});class lke{constructor(e,t,r){this.connection=e,this.wallet=t,this.opts=r,this.publicKey=t==null?void 0:t.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,r){var s,i,o,a;if(r===void 0&&(r=this.opts),bR(e))t&&e.sign(t);else if(e.feePayer=(s=e.feePayer)!==null&&s!==void 0?s:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,t)for(const u of t)e.partialSign(u);const c=(e=await this.wallet.signTransaction(e)).serialize();try{return await $le(this.connection,c,r)}catch(u){if(u instanceof qV){const l=VV(bR(e)?((i=e.signatures)===null||i===void 0?void 0:i[0])||new Uint8Array:(o=e.signature)!==null&&o!==void 0?o:new Uint8Array),d=await this.connection.getTransaction(l,{commitment:"confirmed"});if(d){const y=(a=d.meta)===null||a===void 0?void 0:a.logMessages;throw y?new Wp(u.message,y):u}throw u}throw u}}async sendAll(e,t){var r,s,i;t===void 0&&(t=this.opts);const o=(await this.connection.getLatestBlockhash(t.preflightCommitment)).blockhash;let a=e.map(l=>{var d,y;if(bR(l.tx)){let h=l.tx;return l.signers&&h.sign(l.signers),h}{let h=l.tx,m=(d=l.signers)!==null&&d!==void 0?d:[];return h.feePayer=(y=h.feePayer)!==null&&y!==void 0?y:this.wallet.publicKey,h.recentBlockhash=o,m.forEach(f=>{h.partialSign(f)}),h}});const c=await this.wallet.signAllTransactions(a),u=[];for(let l=0;l<a.length;l+=1){const d=c[l],y=d.serialize();try{u.push(await $le(this.connection,y,t))}catch(h){if(h instanceof qV){const m=VV(bR(d)?((r=d.signatures)===null||r===void 0?void 0:r[0])||new Uint8Array:(s=d.signature)!==null&&s!==void 0?s:new Uint8Array),f=await this.connection.getTransaction(m,{commitment:"confirmed"});if(f){const g=(i=f.meta)===null||i===void 0?void 0:i.logMessages;throw g?new Wp(h.message,g):h}throw h}throw h}}return u}async simulate(e,t,r,s){let i,o=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash;if(bR(e)?(t&&(e.sign(t),e=await this.wallet.signTransaction(e)),i=await this.connection.simulateTransaction(e,{commitment:r})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=o,t&&(e=await this.wallet.signTransaction(e)),i=await cke(this.connection,e,t,r,s)),i.value.err)throw new xFe(i.value);return i.value}}class xFe extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function $le(n,e,t){const r=t&&{skipPreflight:t.skipPreflight,preflightCommitment:t.preflightCommitment||t.commitment},s=await n.sendRawTransaction(e,r),i=(await n.confirmTransaction(s,t&&t.commitment)).value;if(i.err)throw new qV(`Raw transaction ${s} failed (${JSON.stringify(i)})`);return s}class qV extends Error{constructor(e){super(e)}}function TFe(n){jV=n}function xA(){return jV===null?lke.local():jV}let jV=null;const RFe=new Set(["anchor-deprecated-state","debug-logs"]),dke=new Map;function M4(n){return dke.get(n)!==void 0}var CFe=Object.freeze({__proto__:null,set:function(n){if(!RFe.has(n))throw new Error("Invalid feature");dke.set(n,!0)},isSet:M4});class cM extends Error{constructor(e){super(e),this.name="IdlError"}}class Wx{constructor(e){this.stack=e}static parse(e){var t;const r=/^Program (\w*) invoke/,s=/^Program \w* success/,i=[];for(let o=0;o<e.length;o++){if(s.exec(e[o])){i.pop();continue}const a=(t=r.exec(e[o]))===null||t===void 0?void 0:t[1];a&&i.push(new Ee(a))}return new Wx(i)}}class jv extends Error{constructor(e,t,r,s,i,o){super(r.join(`
`).replace("Program log: ","")),this.errorLogs=r,this.logs=s,this.error={errorCode:e,errorMessage:t,comparedValues:o,origin:i},this._programErrorStack=Wx.parse(s)}static parse(e){if(!e)return null;const t=e.findIndex(u=>u.startsWith("Program log: AnchorError"));if(t===-1)return null;const r=e[t],s=[r];let i;if(t+1<e.length){if(e[t+1]==="Program log: Left:"){const u=/^Program log: (.*)$/,l=u.exec(e[t+2])[1],d=u.exec(e[t+4])[1];i=[new Ee(l),new Ee(d)],s.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const u=/^Program log: (Left|Right): (.*)$/,l=u.exec(e[t+1])[2],d=u.exec(e[t+2])[2];s.push(...e.slice(t+1,t+3)),i=[l,d]}}const o=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),c=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(o){const[u,l,d]=o.slice(1,4),y={code:u,number:parseInt(l)};return new jv(y,d,s,e,void 0,i)}if(a){const[u,l,d,y,h]=a.slice(1,6),m={code:d,number:parseInt(y)},f={file:u,line:parseInt(l)};return new jv(m,h,s,e,f,i)}if(c){const[u,l,d,y]=c.slice(1,5),h=u,m={code:l,number:parseInt(d)};return new jv(m,y,s,e,h,i)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class uM extends Error{constructor(e,t,r){super(),this.code=e,this.msg=t,this.logs=r,r&&(this._programErrorStack=Wx.parse(r))}static parse(e,t){const r=e.toString();let s,i;if(r.includes("custom program error:")){let a=r.split("custom program error: ");if(a.length!==2)return null;s=a[1]}else{const a=r.match(/"Custom":([0-9]+)}/g);if(!a||a.length>1)return null;s=a[0].match(/([0-9]+)/g)[0]}try{i=parseInt(s)}catch{return null}let o=t.get(i);return o!==void 0?new uM(i,o,e.logs):(o=fke.get(i),o!==void 0?new uM(i,o,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function BG(n,e){M4("debug-logs")&&console.log("Translating error:",n);const t=jv.parse(n.logs);if(t)return t;const r=uM.parse(n,e);if(r)return r;if(n.logs){const s={get:function(i,o){return o==="programErrorStack"?i.programErrorStack.stack:o==="program"?i.programErrorStack.stack[n.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return n.programErrorStack=Wx.parse(n.logs),new Proxy(n,s)}return n}const nr={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,AccountReallocExceedsLimit:3016,AccountDuplicateReallocs:3017,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},fke=new Map([[nr.InstructionMissing,"8 byte instruction identifier not provided"],[nr.InstructionFallbackNotFound,"Fallback functions are not supported"],[nr.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[nr.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[nr.IdlInstructionStub,"The program was compiled without idl instructions"],[nr.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[nr.ConstraintMut,"A mut constraint was violated"],[nr.ConstraintHasOne,"A has_one constraint was violated"],[nr.ConstraintSigner,"A signer constraint was violated"],[nr.ConstraintRaw,"A raw constraint was violated"],[nr.ConstraintOwner,"An owner constraint was violated"],[nr.ConstraintRentExempt,"A rent exemption constraint was violated"],[nr.ConstraintSeeds,"A seeds constraint was violated"],[nr.ConstraintExecutable,"An executable constraint was violated"],[nr.ConstraintState,"A state constraint was violated"],[nr.ConstraintAssociated,"An associated constraint was violated"],[nr.ConstraintAssociatedInit,"An associated init constraint was violated"],[nr.ConstraintClose,"A close constraint was violated"],[nr.ConstraintAddress,"An address constraint was violated"],[nr.ConstraintZero,"Expected zero account discriminant"],[nr.ConstraintTokenMint,"A token mint constraint was violated"],[nr.ConstraintTokenOwner,"A token owner constraint was violated"],[nr.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[nr.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[nr.ConstraintMintDecimals,"A mint decimals constraint was violated"],[nr.ConstraintSpace,"A space constraint was violated"],[nr.RequireViolated,"A require expression was violated"],[nr.RequireEqViolated,"A require_eq expression was violated"],[nr.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[nr.RequireNeqViolated,"A require_neq expression was violated"],[nr.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[nr.RequireGtViolated,"A require_gt expression was violated"],[nr.RequireGteViolated,"A require_gte expression was violated"],[nr.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[nr.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[nr.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[nr.AccountDidNotDeserialize,"Failed to deserialize the account"],[nr.AccountDidNotSerialize,"Failed to serialize the account"],[nr.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[nr.AccountNotMutable,"The given account is not mutable"],[nr.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[nr.InvalidProgramId,"Program ID was not as expected"],[nr.InvalidProgramExecutable,"Program account is not executable"],[nr.AccountNotSigner,"The given account did not sign"],[nr.AccountNotSystemOwned,"The given account is not owned by the system program"],[nr.AccountNotInitialized,"The program expected this account to be already initialized"],[nr.AccountNotProgramData,"The given account is not a program data account"],[nr.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[nr.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[nr.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[nr.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[nr.StateInvalidAddress,"The given state account does not have the correct address"],[nr.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[nr.Deprecated,"The API being used is deprecated and should no longer be used"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rO=function(){return rO=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var s in e=arguments[t])Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s]);return n},rO.apply(this,arguments)};function MFe(n){return n.toLowerCase()}var BFe=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],zFe=/[^A-Z0-9]+/gi;function Dle(n,e,t){return e instanceof RegExp?n.replace(e,t):e.reduce(function(r,s){return r.replace(s,t)},n)}function $Fe(n,e){return e===void 0&&(e={}),function(t,r){r===void 0&&(r={});for(var s=r.splitRegexp,i=s===void 0?BFe:s,o=r.stripRegexp,a=o===void 0?zFe:o,c=r.transform,u=c===void 0?MFe:c,l=r.delimiter,d=l===void 0?" ":l,y=Dle(Dle(t,i,"$1\0$2"),a,"\0"),h=0,m=y.length;y.charAt(h)==="\0";)h++;for(;y.charAt(m-1)==="\0";)m--;return y.slice(h,m).split("\0").map(u).join(d)}(n,rO({delimiter:"."},e))}class yu{static fieldLayout(e,t){const r=e.name!==void 0?Fo(e.name):void 0;switch(e.type){case"bool":return xr.bool(r);case"u8":return xr.u8(r);case"i8":return xr.i8(r);case"u16":return xr.u16(r);case"i16":return xr.i16(r);case"u32":return xr.u32(r);case"i32":return xr.i32(r);case"f32":return xr.f32(r);case"u64":return xr.u64(r);case"i64":return xr.i64(r);case"f64":return xr.f64(r);case"u128":return xr.u128(r);case"i128":return xr.i128(r);case"bytes":return xr.vecU8(r);case"string":return xr.str(r);case"publicKey":return xr.publicKey(r);default:if("vec"in e.type)return xr.vec(yu.fieldLayout({name:void 0,type:e.type.vec},t),r);if("option"in e.type)return xr.option(yu.fieldLayout({name:void 0,type:e.type.option},t),r);if("defined"in e.type){const s=e.type.defined;if(t===void 0)throw new cM("User defined types not provided");const i=t.filter(o=>o.name===s);if(i.length!==1)throw new cM(`Type not found: ${JSON.stringify(e)}`);return yu.typeDefLayout(i[0],t,r)}if("array"in e.type){let s=e.type.array[0],i=e.type.array[1],o=yu.fieldLayout({name:void 0,type:s},t);return xr.array(o,i,r)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,t=[],r){if(e.type.kind==="struct"){const s=e.type.fields.map(i=>yu.fieldLayout(i,t));return xr.struct(s,r)}if(e.type.kind==="enum"){let s=e.type.variants.map(i=>{const o=Fo(i.name);if(i.fields===void 0)return xr.struct([],o);const a=i.fields.map(c=>{if(!c.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return yu.fieldLayout(c,t)});return xr.struct(a,o)});return r!==void 0?xr.rustEnum(s).replicate(r):xr.rustEnum(s,r)}throw new Error(`Unknown type kint: ${e}`)}}class B4{constructor(e){this.idl=e,this.ixLayout=B4.parseIxLayout(e);const t=new Map;e.instructions.forEach(r=>{const s=rW("global",r.name);t.set(Ie.encode(s),{layout:this.ixLayout.get(r.name),name:r.name})}),e.state&&e.state.methods.map(r=>{const s=rW("state",r.name);t.set(Ie.encode(s),{layout:this.ixLayout.get(r.name),name:r.name})}),this.sighashLayouts=t}encode(e,t){return this._encode("global",e,t)}encodeState(e,t){return this._encode("state",e,t)}_encode(e,t,r){const s=V.Buffer.alloc(1e3),i=Fo(t),o=this.ixLayout.get(i);if(!o)throw new Error(`Unknown method: ${i}`);const a=o.encode(r,s),c=s.slice(0,a);return V.Buffer.concat([rW(e,t),c])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map(r=>{let s=r.args.map(o=>{var a,c;return yu.fieldLayout(o,Array.from([...(a=e.accounts)!==null&&a!==void 0?a:[],...(c=e.types)!==null&&c!==void 0?c:[]]))});const i=Fo(r.name);return[i,xr.struct(s,i)]}).concat(e.instructions.map(r=>{let s=r.args.map(o=>{var a,c;return yu.fieldLayout(o,Array.from([...(a=e.accounts)!==null&&a!==void 0?a:[],...(c=e.types)!==null&&c!==void 0?c:[]]))});const i=Fo(r.name);return[i,xr.struct(s,i)]}));return new Map(t)}decode(e,t="hex"){typeof e=="string"&&(e=t==="hex"?V.Buffer.from(e,"hex"):Ie.decode(e));let r=Ie.encode(e.slice(0,8)),s=e.slice(8);const i=this.sighashLayouts.get(r);return i?{data:i.layout.decode(s),name:i.name}:null}format(e,t){return Ig.format(e,t,this.idl)}}class Ig{static format(e,t,r){const s=r.instructions.filter(a=>e.name===a.name)[0];if(s===void 0)return console.error("Invalid instruction given"),null;const i=s.args.map(a=>({name:a.name,type:Ig.formatIdlType(a.type),data:Ig.formatIdlData(a,e.data[a.name],r.types)})),o=Ig.flattenIdlAccounts(s.accounts);return{args:i,accounts:t.map((a,c)=>c<o.length?{name:o[c].name,...a}:{name:void 0,...a})}}static formatIdlType(e){if(typeof e=="string")return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,r){if(typeof e.type=="string")return t.toString();if(e.type.hasOwnProperty("vec"))return"["+t.map(s=>this.formatIdlData({name:"",type:e.type.vec},s)).join(", ")+"]";if(e.type.hasOwnProperty("option"))return t===null?"null":this.formatIdlData({name:"",type:e.type.option},t,r);if(e.type.hasOwnProperty("defined")){if(r===void 0)throw new Error("User defined types not provided");const s=r.filter(i=>i.name===e.type.defined);if(s.length!==1)throw new Error(`Type not found: ${e.type.defined}`);return Ig.formatIdlDataDefined(s[0],t,r)}return"unknown"}static formatIdlDataDefined(e,t,r){if(e.type.kind==="struct"){const s=e.type;return"{ "+Object.keys(t).map(i=>{const o=s.fields.filter(a=>a.name===i)[0];if(o===void 0)throw new Error("Unable to find type");return i+": "+Ig.formatIdlData(o,t[i],r)}).join(", ")+" }"}if(e.type.variants.length===0)return"{}";if(e.type.variants[0].name){const s=e.type.variants,i=Object.keys(t)[0],o=t[i],a=Object.keys(o).map(u=>{var l;const d=o[u],y=(l=s[i])===null||l===void 0?void 0:l.filter(h=>h.name===u)[0];if(y===void 0)throw new Error("Unable to find variant");return u+": "+Ig.formatIdlData(y,d,r)}).join(", "),c=Fo(i,{pascalCase:!0});return a.length===0?c:`${c} { ${a} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map(r=>{const s=function(i){const o=i.replace(/([A-Z])/g," $1");return o.charAt(0).toUpperCase()+o.slice(1)}(r.name);if(r.hasOwnProperty("accounts")){const i=t?`${t} > ${s}`:s;return Ig.flattenIdlAccounts(r.accounts,i)}return{...r,name:t?`${t} > ${s}`:s}}).flat()}}function rW(n,e){var t;let r=`${n}:${t===void 0&&(t={}),$Fe(e,rO({delimiter:"_"},t))}`;return V.Buffer.from(VS.exports.sha256.digest(r)).slice(0,8)}function OB(n,e){if(e.type.kind==="enum"){let t=e.type.variants.map(r=>r.fields===void 0?0:r.fields.map(s=>{if(typeof s!="object"||!("name"in s))throw new Error("Tuple enum variants not yet implemented.");return $2(n,s.type)}).reduce((s,i)=>s+i));return Math.max(...t)+1}return e.type.fields===void 0?0:e.type.fields.map(t=>$2(n,t.type)).reduce((t,r)=>t+r,0)}function $2(n,e){var t,r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+$2(n,e.option);if("coption"in e)return 4+$2(n,e.coption);if("defined"in e){const s=(r=(t=n.types)===null||t===void 0?void 0:t.filter(i=>i.name===e.defined))!==null&&r!==void 0?r:[];if(s.length!==1)throw new cM(`Type not found: ${JSON.stringify(e)}`);return OB(n,s[0])}if("array"in e){let s=e.array[0],i=e.array[1];return $2(n,s)*i}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const DFe=8;class Hv{constructor(e){if(e.accounts===void 0)return void(this.accountLayouts=new Map);const t=e.accounts.map(r=>[r.name,yu.typeDefLayout(r,e.types)]);this.accountLayouts=new Map(t),this.idl=e}async encode(e,t){const r=V.Buffer.alloc(1e3),s=this.accountLayouts.get(e);if(!s)throw new Error(`Unknown account: ${e}`);const i=s.encode(t,r);let o=r.slice(0,i),a=Hv.accountDiscriminator(e);return V.Buffer.concat([a,o])}decode(e,t){if(Hv.accountDiscriminator(e).compare(t.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){const r=t.slice(8),s=this.accountLayouts.get(e);if(!s)throw new Error(`Unknown account: ${e}`);return s.decode(r)}memcmp(e,t){const r=Hv.accountDiscriminator(e);return{offset:0,bytes:Ie.encode(t?V.Buffer.concat([r,t]):r)}}size(e){var t;return 8+((t=OB(this.idl,e))!==null&&t!==void 0?t:0)}static accountDiscriminator(e){return V.Buffer.from(VS.exports.sha256.digest(`account:${Fo(e,{pascalCase:!0})}`)).slice(0,8)}}class hke{constructor(e){if(e.events===void 0)return void(this.layouts=new Map);const t=e.events.map(r=>{let s={name:r.name,type:{kind:"struct",fields:r.fields.map(i=>({name:i.name,type:i.type}))}};return[r.name,yu.typeDefLayout(s,e.types)]});this.layouts=new Map(t),this.discriminators=new Map(e.events===void 0?[]:e.events.map(r=>[bV(gke(r.name)),r.name]))}decode(e){let t;try{t=V.Buffer.from(j0e(e))}catch{return null}const r=bV(t.slice(0,8)),s=this.discriminators.get(r);if(s===void 0)return null;const i=this.layouts.get(s);if(!i)throw new Error(`Unknown event: ${s}`);return{data:i.decode(t.slice(8)),name:s}}}function gke(n){return V.Buffer.from(VS.exports.sha256.digest(`event:${n}`)).slice(0,8)}class mke{constructor(e){if(e.state===void 0)throw new Error("Idl state not defined.");this.layout=yu.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const r=V.Buffer.alloc(1e3),s=this.layout.encode(t,r),i=await zG(e),o=r.slice(0,s);return V.Buffer.concat([i,o])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function zG(n){let e=M4("anchor-deprecated-state")?"account":"state";return V.Buffer.from(VS.exports.sha256.digest(`${e}:${n}`)).slice(0,8)}class OFe{constructor(e){if(e.types===void 0)return void(this.typeLayouts=new Map);const t=e.types.map(r=>[r.name,yu.typeDefLayout(r,e.types)]);this.typeLayouts=new Map(t),this.idl=e}encode(e,t){const r=V.Buffer.alloc(1e3),s=this.typeLayouts.get(e);if(!s)throw new Error(`Unknown type: ${e}`);const i=s.encode(t,r);return r.slice(0,i)}decode(e,t){const r=this.typeLayouts.get(e);if(!r)throw new Error(`Unknown type: ${e}`);return r.decode(t)}}class z4{constructor(e){this.instruction=new B4(e),this.accounts=new Hv(e),this.events=new hke(e),e.state&&(this.state=new mke(e)),this.types=new OFe(e)}}var KFe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Xe.global<"u"?Xe.global:typeof self<"u"?self:{};function LFe(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}class Iu{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var $4=Iu;class A1 extends Iu{isCount(){throw new Error("ExternalLayout is abstract")}}class yke extends A1{constructor(e,t,r){if(!(e instanceof Iu))throw new TypeError("layout must be a Layout");if(t===void 0)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof D4||this.layout instanceof pke}decode(e,t){return t===void 0&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return r===void 0&&(r=0),this.layout.encode(e,t,r+this.offset)}}class D4 extends Iu{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class pke extends Iu{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}const HV=Math.pow(2,32);function bke(n){const e=Math.floor(n/HV);return{hi32:e,lo32:n-e*HV}}function Ske(n,e){return n*HV+e}class WFe extends Iu{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t);return Ske(e.readUInt32LE(t+4),r)}encode(e,t,r){r===void 0&&(r=0);const s=bke(e);return t.writeUInt32LE(s.lo32,r),t.writeUInt32LE(s.hi32,r+4),8}}class NFe extends Iu{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t);return Ske(e.readInt32LE(t+4),r)}encode(e,t,r){r===void 0&&(r=0);const s=bke(e);return t.writeUInt32LE(s.lo32,r),t.writeInt32LE(s.hi32,r+4),8}}class FFe extends Iu{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce((i,o)=>i&&o instanceof Iu,!0))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;try{r=this.fields.reduce((s,i)=>{const o=i.getSpan(e,t);return t+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){t===void 0&&(t=0);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(e,t)),t+=s.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){r===void 0&&(r=0);const s=r;let i=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,t,r),0>c&&(c=a.getSpan(t,r)))}i=r,r+=c}return i+o-s}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class kke{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Ole extends kke{constructor(e,t){if(!(e instanceof A1&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class vke extends Iu{constructor(e,t,r){const s=e instanceof D4||e instanceof pke;if(s)e=new Ole(new yke(e));else if(e instanceof A1&&e.isCount())e=new Ole(e);else if(!(e instanceof kke))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Iu))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&s&&(i+=e.layout.span)),super(i,r),this.discriminator=e,this.usesPrefixDiscriminator=s,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){let r;t===void 0&&(t=0);const s=this.discriminator,i=s.decode(e,t);let o=this.registry[i];if(o===void 0){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[o.property]=this.defaultLayout.decode(e,t+a)}else r=o.decode(e,t);return r}encode(e,t,r){r===void 0&&(r=0);const s=this.getSourceVariant(e);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],t,r),a+o.encode(e[o.property],t,r+a)}return s.encode(e,t,r)}addVariant(e,t,r){const s=new UFe(this,e,t,r);return this.registry[e]=s,s}getVariant(e,t){let r=e;return Xe.Buffer.isBuffer(e)&&(t===void 0&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class UFe extends Iu{constructor(e,t,r,s){if(!(e instanceof vke))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof Iu))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(t===void 0&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){r===void 0&&(r=0);let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=s;if(this.layout&&(this.layout.encode(e[this.property],t,r+s),i+=this.layout.getSpan(t,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class VFe extends Iu{constructor(e,t){if(!(e instanceof A1&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof A1||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){t===void 0&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let s=this.length;if(this.length instanceof A1&&(s=e.length),!Xe.Buffer.isBuffer(e)||s!==e.length)throw new TypeError((i="Blob.encode",((o=this).property?i+"["+o.property+"]":i)+" requires (length "+s+") Buffer as src"));var i,o;if(r+s>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,s,"hex"),this.length instanceof A1&&this.length.encode(s,t,r),s}}var qFe=(n,e,t)=>new yke(n,e,t),mc=n=>new D4(1,n),Rg=n=>new D4(4,n),yg=n=>new WFe(n),wh=n=>new NFe(n),hn=(n,e,t)=>new FFe(n,e,t),Ake=(n,e,t)=>new vke(n,e,t),JS=(n,e)=>new VFe(n,e);class jFe{constructor(e){}encode(e,t){switch(Fo(e)){case"initializeMint":return function({decimals:r,mintAuthority:s,freezeAuthority:i}){return Bo({initializeMint:{decimals:r,mintAuthority:s.toBuffer(),freezeAuthorityOption:!!i,freezeAuthority:(i||Ee.default).toBuffer()}})}(t);case"initializeAccount":return Bo({initializeAccount:{}});case"initializeMultisig":return function({m:r}){return Bo({initializeMultisig:{m:r}})}(t);case"transfer":return function({amount:r}){return Bo({transfer:{amount:r}})}(t);case"approve":return function({amount:r}){return Bo({approve:{amount:r}})}(t);case"revoke":return Bo({revoke:{}});case"setAuthority":return function({authorityType:r,newAuthority:s}){return Bo({setAuthority:{authorityType:r,newAuthority:s}})}(t);case"mintTo":return function({amount:r}){return Bo({mintTo:{amount:r}})}(t);case"burn":return function({amount:r}){return Bo({burn:{amount:r}})}(t);case"closeAccount":return Bo({closeAccount:{}});case"freezeAccount":return Bo({freezeAccount:{}});case"thawAccount":return Bo({thawAccount:{}});case"transferChecked":return function({amount:r,decimals:s}){return Bo({transferChecked:{amount:r,decimals:s}})}(t);case"approvedChecked":return function({amount:r,decimals:s}){return Bo({approveChecked:{amount:r,decimals:s}})}(t);case"mintToChecked":return function({amount:r,decimals:s}){return Bo({mintToChecked:{amount:r,decimals:s}})}(t);case"burnChecked":return function({amount:r,decimals:s}){return Bo({burnChecked:{amount:r,decimals:s}})}(t);case"intializeAccount2":return function({authority:r}){return Bo({initilaizeAccount2:{authority:r}})}(t);case"syncNative":return Bo({syncNative:{}});case"initializeAccount3":return function({authority:r}){return Bo({initializeAccount3:{authority:r}})}(t);case"initializeMultisig2":return function({m:r}){return Bo({initializeMultisig2:{m:r}})}(t);case"initializeMint2":return function({decimals:r,mintAuthority:s,freezeAuthority:i}){return Bo({encodeInitializeMint2:{decimals:r,mintAuthority:s,freezeAuthority:i}})}(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("SPL token does not have state")}}const ki=Ake(mc("instruction"));function Pk(n){return JS(32,n)}function Bo(n){let e=Xe.Buffer.alloc(HFe),t=ki.encode(n,e);return e.slice(0,t)}ki.addVariant(0,hn([mc("decimals"),JS(32,"mintAuthority"),mc("freezeAuthorityOption"),Pk("freezeAuthority")]),"initializeMint"),ki.addVariant(1,hn([]),"initializeAccount"),ki.addVariant(2,hn([mc("m")]),"initializeMultisig"),ki.addVariant(3,hn([yg("amount")]),"transfer"),ki.addVariant(4,hn([yg("amount")]),"approve"),ki.addVariant(5,hn([]),"revoke"),ki.addVariant(6,hn([mc("authorityType"),mc("newAuthorityOption"),Pk("newAuthority")]),"setAuthority"),ki.addVariant(7,hn([yg("amount")]),"mintTo"),ki.addVariant(8,hn([yg("amount")]),"burn"),ki.addVariant(9,hn([]),"closeAccount"),ki.addVariant(10,hn([]),"freezeAccount"),ki.addVariant(11,hn([]),"thawAccount"),ki.addVariant(12,hn([yg("amount"),mc("decimals")]),"transferChecked"),ki.addVariant(13,hn([yg("amount"),mc("decimals")]),"approvedChecked"),ki.addVariant(14,hn([yg("amount"),mc("decimals")]),"mintToChecked"),ki.addVariant(15,hn([yg("amount"),mc("decimals")]),"burnedChecked"),ki.addVariant(16,hn([Pk("authority")]),"InitializeAccount2"),ki.addVariant(17,hn([]),"syncNative"),ki.addVariant(18,hn([Pk("authority")]),"initializeAccount3"),ki.addVariant(19,hn([mc("m")]),"initializeMultisig2"),ki.addVariant(20,hn([mc("decimals"),Pk("mintAuthority"),mc("freezeAuthorityOption"),Pk("freezeAuthority")]),"initializeMint2");const HFe=Math.max(...Object.values(ki.registry).map(n=>n.span));class GFe{constructor(e){}encode(e,t){throw new Error("SPL token does not have state")}decode(e){throw new Error("SPL token does not have state")}}function pD(n){return new $G(JS(8),e=>DG.fromBuffer(e),e=>e.toBuffer(),n)}function wv(n){return new $G(JS(32),e=>new Ee(e),e=>e.toBuffer(),n)}function D2(n,e){return new YFe(n,e)}class $G extends $4{constructor(e,t,r,s){super(e.span,s),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}class YFe extends $4{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=Rg()}encode(e,t,r=0){return e==null?this.layout.span+this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+4)+4)}decode(e,t=0){const r=this.discriminator.decode(e,t);if(r===0)return null;if(r===1)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}function ZFe(n){if(n===0)return!1;if(n===1)return!0;throw new Error("Invalid bool: "+n)}function JFe(n){return n?1:0}class DG extends Co{toBuffer(){const e=super.toArray().reverse(),t=Xe.Buffer.from(e);if(t.length===8)return t;if(t.length>=8)throw new Error("u64 too large");const r=Xe.Buffer.alloc(8);return t.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new DG([...e].reverse().map(t=>`00${t.toString(16)}`.slice(-2)).join(""),16)}}class XFe{constructor(e){this.idl=e}async encode(e,t){switch(e){case"token":{const r=Xe.Buffer.alloc(165),s=Wle.encode(t,r);return r.slice(0,s)}case"mint":{const r=Xe.Buffer.alloc(82),s=Kle.encode(t,r);return r.slice(0,s)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){switch(e){case"token":return function(r){return Wle.decode(r)}(t);case"mint":return function(r){return Kle.decode(r)}(t);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,t){switch(e){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${e}`)}}size(e){var t;return(t=OB(this.idl,e))!==null&&t!==void 0?t:0}}const Kle=hn([D2(wv(),"mintAuthority"),pD("supply"),mc("decimals"),(Lle="isInitialized",new $G(mc(),ZFe,JFe,Lle)),D2(wv(),"freezeAuthority")]);var Lle;const Wle=hn([wv("mint"),wv("authority"),pD("amount"),D2(wv(),"delegate"),mc("state"),D2(pD(),"isNative"),pD("delegatedAmount"),D2(wv(),"closeAuthority")]);class QFe{constructor(e){}decode(e){throw new Error("SPL token program does not have events")}}class eUe{constructor(e){}encode(e,t){throw new Error("SPL token does not have user-defined types")}decode(e,t){throw new Error("SPL token does not have user-defined types")}}class wke{constructor(e){this.instruction=new jFe(e),this.accounts=new XFe(e),this.events=new QFe(e),this.state=new GFe(e),this.types=new eUe(e)}}class tUe{constructor(e){}encode(e,t){switch(Fo(e)){case"createAccount":return function({lamports:r,space:s,owner:i}){return al({createAccount:{lamports:r,space:s,owner:i.toBuffer()}})}(t);case"assign":return function({owner:r}){return al({assign:{owner:r.toBuffer()}})}(t);case"transfer":return function({lamports:r}){return al({transfer:{lamports:r}})}(t);case"createAccountWithSeed":return function({base:r,seed:s,lamports:i,space:o,owner:a}){return al({createAccountWithSeed:{base:r.toBuffer(),seed:s,lamports:i,space:o,owner:a.toBuffer()}},ua.getVariant(3).span+s.length)}(t);case"advanceNonceAccount":return function({authorized:r}){return al({advanceNonceAccount:{authorized:r.toBuffer()}})}(t);case"withdrawNonceAccount":return function({lamports:r}){return al({withdrawNonceAccount:{lamports:r}})}(t);case"initializeNonceAccount":return function({authorized:r}){return al({initializeNonceAccount:{authorized:r.toBuffer()}})}(t);case"authorizeNonceAccount":return function({authorized:r}){return al({authorizeNonceAccount:{authorized:r.toBuffer()}})}(t);case"allocate":return function({space:r}){return al({allocate:{space:r}})}(t);case"allocateWithSeed":return function({base:r,seed:s,space:i,owner:o}){return al({allocateWithSeed:{base:r.toBuffer(),seed:s,space:i,owner:o.toBuffer()}},ua.getVariant(9).span+s.length)}(t);case"assignWithSeed":return function({base:r,seed:s,owner:i}){return al({assignWithSeed:{base:r.toBuffer(),seed:s,owner:i.toBuffer()}},ua.getVariant(10).span+s.length)}(t);case"transferWithSeed":return function({lamports:r,seed:s,owner:i}){return al({transferWithSeed:{lamports:r,seed:s,owner:i.toBuffer()}},ua.getVariant(11).span+s.length)}(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("System does not have state")}}class rUe extends $4{constructor(e){super(-1,e),this.property=e,this.layout=hn([Rg("length"),Rg("lengthPadding"),JS(qFe(Rg(),-8),"chars")],this.property)}encode(e,t,r=0){if(e==null)return this.layout.span;const s={chars:Xe.Buffer.from(e,"utf8")};return this.layout.encode(s,t,r)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return Rg().span+Rg().span+new Co(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function a$(n){return new rUe(n)}function ol(n){return JS(32,n)}const ua=Ake(Rg("instruction"));function al(n,e){const t=Xe.Buffer.alloc(e??nUe),r=ua.encode(n,t);return e===void 0?t.slice(0,r):t}ua.addVariant(0,hn([wh("lamports"),wh("space"),ol("owner")]),"createAccount"),ua.addVariant(1,hn([ol("owner")]),"assign"),ua.addVariant(2,hn([wh("lamports")]),"transfer"),ua.addVariant(3,hn([ol("base"),a$("seed"),wh("lamports"),wh("space"),ol("owner")]),"createAccountWithSeed"),ua.addVariant(4,hn([ol("authorized")]),"advanceNonceAccount"),ua.addVariant(5,hn([wh("lamports")]),"withdrawNonceAccount"),ua.addVariant(6,hn([ol("authorized")]),"initializeNonceAccount"),ua.addVariant(7,hn([ol("authorized")]),"authorizeNonceAccount"),ua.addVariant(8,hn([wh("space")]),"allocate"),ua.addVariant(9,hn([ol("base"),a$("seed"),wh("space"),ol("owner")]),"allocateWithSeed"),ua.addVariant(10,hn([ol("base"),a$("seed"),ol("owner")]),"assignWithSeed"),ua.addVariant(11,hn([wh("lamports"),a$("seed"),ol("owner")]),"transferWithSeed");const nUe=Math.max(...Object.values(ua.registry).map(n=>n.span));class sUe{constructor(e){}encode(e,t){throw new Error("System does not have state")}decode(e){throw new Error("System does not have state")}}class iUe{constructor(e){this.idl=e}async encode(e,t){if(e==="nonce"){const r=Xe.Buffer.alloc(rM),s=Fle.encode(t,r);return r.slice(0,s)}throw new Error(`Invalid account name: ${e}`)}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){if(e==="nonce")return function(r){return Fle.decode(r)}(t);throw new Error(`Invalid account name: ${e}`)}memcmp(e,t){if(e==="nonce")return{dataSize:rM};throw new Error(`Invalid account name: ${e}`)}size(e){var t;return(t=OB(this.idl,e))!==null&&t!==void 0?t:0}}class oUe extends $4{constructor(e,t,r,s){super(e.span,s),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}function Nle(n){return new oUe(JS(32),e=>new Ee(e),e=>e.toBuffer(),n)}const Fle=hn([Rg("version"),Rg("state"),Nle("authorizedPubkey"),Nle("nonce"),hn([yg("lamportsPerSignature")],"feeCalculator")]);class aUe{constructor(e){}decode(e){throw new Error("System program does not have events")}}class cUe{constructor(e){}encode(e,t){throw new Error("System does not have user-defined types")}decode(e,t){throw new Error("System does not have user-defined types")}}class Ike{constructor(e){this.instruction=new tUe(e),this.accounts=new iUe(e),this.events=new aUe(e),this.state=new sUe(e),this.types=new cUe(e)}}var uUe=Object.freeze({__proto__:null,hash:function(n){return VS.exports.sha256(n)}});function Pke(n,e,t){const r=V.Buffer.concat([n.toBuffer(),V.Buffer.from(e),t.toBuffer()]),s=VS.exports.sha256.digest(r);return new Ee(V.Buffer.from(s))}function _ke(n,e){let t=V.Buffer.alloc(0);n.forEach(function(i){if(i.length>32)throw new TypeError("Max seed length exceeded");t=V.Buffer.concat([t,lUe(i)])}),t=V.Buffer.concat([t,e.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);let r=VS.exports.sha256(new Uint8Array(t)),s=new Co(r,16).toArray(void 0,32);if(Ee.isOnCurve(new Uint8Array(s)))throw new Error("Invalid seeds, address must fall off the curve");return new Ee(s)}function OG(n,e){let t,r=255;for(;r!=0;){try{t=_ke(n.concat(V.Buffer.from([r])),e)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[t,r]}throw new Error("Unable to find a viable program address nonce")}const lUe=n=>n instanceof V.Buffer?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);async function Eke(n,...e){let t=[V.Buffer.from([97,110,99,104,111,114])];e.forEach(s=>{t.push(s instanceof V.Buffer?s:cd(s).toBuffer())});const[r]=await Ee.findProgramAddress(t,cd(n));return r}var dUe=Object.freeze({__proto__:null,createWithSeedSync:Pke,createProgramAddressSync:_ke,findProgramAddressSync:OG,associated:Eke});const GV=new Ee("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),YV=new Ee("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var fUe=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:GV,ASSOCIATED_PROGRAM_ID:YV,associatedAddress:async function({mint:n,owner:e}){return(await Ee.findProgramAddress([e.toBuffer(),GV.toBuffer(),n.toBuffer()],YV))[0]}}),ZV={exports:{}};(function(n,e){var t=typeof self<"u"?self:KFe,r=function(){function i(){this.fetch=!1,this.DOMException=t.DOMException}return i.prototype=t,new i}();(function(i){(function(o){var a="URLSearchParams"in i,c="Symbol"in i&&"iterator"in Symbol,u="FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),l="FormData"in i,d="ArrayBuffer"in i;if(d)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(z){return z&&y.indexOf(Object.prototype.toString.call(z))>-1};function m(z){if(typeof z!="string"&&(z=String(z)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(z))throw new TypeError("Invalid character in header field name");return z.toLowerCase()}function f(z){return typeof z!="string"&&(z=String(z)),z}function g(z){var T={next:function(){var v=z.shift();return{done:v===void 0,value:v}}};return c&&(T[Symbol.iterator]=function(){return T}),T}function b(z){this.map={},z instanceof b?z.forEach(function(T,v){this.append(v,T)},this):Array.isArray(z)?z.forEach(function(T){this.append(T[0],T[1])},this):z&&Object.getOwnPropertyNames(z).forEach(function(T){this.append(T,z[T])},this)}function S(z){if(z.bodyUsed)return Promise.reject(new TypeError("Already read"));z.bodyUsed=!0}function p(z){return new Promise(function(T,v){z.onload=function(){T(z.result)},z.onerror=function(){v(z.error)}})}function I(z){var T=new FileReader,v=p(T);return T.readAsArrayBuffer(z),v}function w(z){if(z.slice)return z.slice(0);var T=new Uint8Array(z.byteLength);return T.set(new Uint8Array(z)),T.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(z){var T;this._bodyInit=z,z?typeof z=="string"?this._bodyText=z:u&&Blob.prototype.isPrototypeOf(z)?this._bodyBlob=z:l&&FormData.prototype.isPrototypeOf(z)?this._bodyFormData=z:a&&URLSearchParams.prototype.isPrototypeOf(z)?this._bodyText=z.toString():d&&u&&(T=z)&&DataView.prototype.isPrototypeOf(T)?(this._bodyArrayBuffer=w(z.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d&&(ArrayBuffer.prototype.isPrototypeOf(z)||h(z))?this._bodyArrayBuffer=w(z):this._bodyText=z=Object.prototype.toString.call(z):this._bodyText="",this.headers.get("content-type")||(typeof z=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a&&URLSearchParams.prototype.isPrototypeOf(z)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u&&(this.blob=function(){var z=S(this);if(z)return z;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?S(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(I)}),this.text=function(){var z=S(this);if(z)return z;if(this._bodyBlob)return function(T){var v=new FileReader,k=p(v);return v.readAsText(T),k}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(T){for(var v=new Uint8Array(T),k=new Array(v.length),x=0;x<v.length;x++)k[x]=String.fromCharCode(v[x]);return k.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}b.prototype.append=function(z,T){z=m(z),T=f(T);var v=this.map[z];this.map[z]=v?v+", "+T:T},b.prototype.delete=function(z){delete this.map[m(z)]},b.prototype.get=function(z){return z=m(z),this.has(z)?this.map[z]:null},b.prototype.has=function(z){return this.map.hasOwnProperty(m(z))},b.prototype.set=function(z,T){this.map[m(z)]=f(T)},b.prototype.forEach=function(z,T){for(var v in this.map)this.map.hasOwnProperty(v)&&z.call(T,this.map[v],v,this)},b.prototype.keys=function(){var z=[];return this.forEach(function(T,v){z.push(v)}),g(z)},b.prototype.values=function(){var z=[];return this.forEach(function(T){z.push(T)}),g(z)},b.prototype.entries=function(){var z=[];return this.forEach(function(T,v){z.push([v,T])}),g(z)},c&&(b.prototype[Symbol.iterator]=b.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function E(z,T){var v,k,x=(T=T||{}).body;if(z instanceof E){if(z.bodyUsed)throw new TypeError("Already read");this.url=z.url,this.credentials=z.credentials,T.headers||(this.headers=new b(z.headers)),this.method=z.method,this.mode=z.mode,this.signal=z.signal,x||z._bodyInit==null||(x=z._bodyInit,z.bodyUsed=!0)}else this.url=String(z);if(this.credentials=T.credentials||this.credentials||"same-origin",!T.headers&&this.headers||(this.headers=new b(T.headers)),this.method=(v=T.method||this.method||"GET",k=v.toUpperCase(),_.indexOf(k)>-1?k:v),this.mode=T.mode||this.mode||null,this.signal=T.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&x)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(x)}function M(z){var T=new FormData;return z.trim().split("&").forEach(function(v){if(v){var k=v.split("="),x=k.shift().replace(/\+/g," "),C=k.join("=").replace(/\+/g," ");T.append(decodeURIComponent(x),decodeURIComponent(C))}}),T}function P(z,T){T||(T={}),this.type="default",this.status=T.status===void 0?200:T.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in T?T.statusText:"OK",this.headers=new b(T.headers),this.url=T.url||"",this._initBody(z)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},A.call(E.prototype),A.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},P.error=function(){var z=new P(null,{status:0,statusText:""});return z.type="error",z};var R=[301,302,303,307,308];P.redirect=function(z,T){if(R.indexOf(T)===-1)throw new RangeError("Invalid status code");return new P(null,{status:T,headers:{location:z}})},o.DOMException=i.DOMException;try{new o.DOMException}catch{o.DOMException=function(T,v){this.message=T,this.name=v;var k=Error(T);this.stack=k.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function $(z,T){return new Promise(function(v,k){var x=new E(z,T);if(x.signal&&x.signal.aborted)return k(new o.DOMException("Aborted","AbortError"));var C=new XMLHttpRequest;function B(){C.abort()}C.onload=function(){var O,D,W={status:C.status,statusText:C.statusText,headers:(O=C.getAllResponseHeaders()||"",D=new b,O.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(N){var H=N.split(":"),J=H.shift().trim();if(J){var Q=H.join(":").trim();D.append(J,Q)}}),D)};W.url="responseURL"in C?C.responseURL:W.headers.get("X-Request-URL");var L="response"in C?C.response:C.responseText;v(new P(L,W))},C.onerror=function(){k(new TypeError("Network request failed"))},C.ontimeout=function(){k(new TypeError("Network request failed"))},C.onabort=function(){k(new o.DOMException("Aborted","AbortError"))},C.open(x.method,x.url,!0),x.credentials==="include"?C.withCredentials=!0:x.credentials==="omit"&&(C.withCredentials=!1),"responseType"in C&&u&&(C.responseType="blob"),x.headers.forEach(function(O,D){C.setRequestHeader(D,O)}),x.signal&&(x.signal.addEventListener("abort",B),C.onreadystatechange=function(){C.readyState===4&&x.signal.removeEventListener("abort",B)}),C.send(x._bodyInit===void 0?null:x._bodyInit)})}$.polyfill=!0,i.fetch||(i.fetch=$,i.Headers=b,i.Request=E,i.Response=P),o.Headers=b,o.Request=E,o.Response=P,o.fetch=$,Object.defineProperty(o,"__esModule",{value:!0})})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=r;(e=s.fetch).default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,n.exports=e})(ZV,ZV.exports);var hUe=LFe(ZV.exports);async function Ule(n,e){const t=await n.getAccountInfo(e);if(t===null)throw new Error("program account not found");const{program:r}=JV(t.data),s=await n.getAccountInfo(r.programdataAddress);if(s===null)throw new Error("program data account not found");const{programData:i}=JV(s.data);return i}const gUe=xr.rustEnum([xr.struct([],"uninitialized"),xr.struct([xr.option(xr.publicKey(),"authorityAddress")],"buffer"),xr.struct([xr.publicKey("programdataAddress")],"program"),xr.struct([xr.u64("slot"),xr.option(xr.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,xr.u32());function JV(n){return gUe.decode(n)}var mUe=Object.freeze({__proto__:null,verifiedBuild:async function(n,e,t=5){const r=`https://api.apr.dev/api/v0/program/${e.toString()}/latest?limit=${t}`,[s,i]=await Promise.all([Ule(n,e),hUe(r)]),o=(await i.json()).filter(c=>!c.aborted&&c.state==="Built"&&c.verified==="Verified");if(o.length===0)return null;const a=o[0];return s.slot.toNumber()!==a.verified_slot?null:a},fetchData:Ule,decodeUpgradeableLoaderState:JV}),yUe=Object.freeze({__proto__:null,sha256:uUe,rpc:EFe,publicKey:dUe,bytes:vFe,token:fUe,features:CFe,registry:mUe});const pUe=xr.struct([xr.publicKey("authority"),xr.vecU8("data")]);function KB(n,e){var t,r;let s={};const i=n.args?n.args.length:0;if(e.length>i){if(e.length!==i+1)throw new Error(`provided too many arguments ${e} to instruction ${n==null?void 0:n.name} expecting: ${(r=(t=n.args)===null||t===void 0?void 0:t.map(o=>o.name))!==null&&r!==void 0?r:[]}`);s=e.pop()}return[e,s]}class TA{static build(e,t,r){if(e.name==="_inner")throw new cM("the _inner name is reserved");const s=(...i)=>{const[o,a]=KB(e,[...i]);C4(e.accounts,a.accounts);const c=s.accounts(a.accounts);return a.remainingAccounts!==void 0&&c.push(...a.remainingAccounts),M4("debug-logs")&&console.log("Outgoing account metas:",c),new us({keys:c,programId:r,data:t(e.name,ske(e,...o))})};return s.accounts=i=>TA.accountsArray(i,e.accounts,e.name),s}static accountsArray(e,t,r){return e?t.map(s=>{if(("accounts"in s?s.accounts:void 0)!==void 0){const i=e[s.name];return TA.accountsArray(i,s.accounts,r).flat()}{const i=s;let o;try{o=cd(e[s.name])}catch{throw new Error(`Wrong input type for account "${s.name}" in the instruction accounts object${r!==void 0?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}return{pubkey:o,isWritable:i.isMut,isSigner:i.isSigner}}}).flat():[]}}class xke{static build(e,t,r,s){return async(...i)=>{var o;const a=t(...i),[,c]=KB(e,[...i]);if(s.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await s.sendAndConfirm(a,(o=c.signers)!==null&&o!==void 0?o:[],c.options)}catch(u){throw BG(u,r)}}}}class Tke{static build(e,t){return(...r)=>{var s,i,o;const[,a]=KB(e,[...r]),c=new Dn;if(a.preInstructions&&a.instructions)throw new Error("instructions is deprecated, use preInstructions");return(s=a.preInstructions)===null||s===void 0||s.forEach(u=>c.add(u)),(i=a.instructions)===null||i===void 0||i.forEach(u=>c.add(u)),c.add(t(...r)),(o=a.postInstructions)===null||o===void 0||o.forEach(u=>c.add(u)),c}}}class Rke{constructor(e,t,r=xA(),s=new z4(e)){this.provider=r,this.coder=s,this._idl=e,this._programId=t,this._address=nW(t),this._sub=null;const[i,o,a]=(()=>{var c;let u={},l={},d={};return(c=e.state)===null||c===void 0||c.methods.forEach(y=>{const h=TA.build(y,(b,S)=>s.instruction.encodeState(b,S),t);h.accounts=b=>function(p,I,w,A){if(w.name==="new"){const[_]=OG([],p);if(I.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return[{pubkey:I.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:nW(p),isWritable:!0,isSigner:!1},{pubkey:_,isWritable:!1,isSigner:!1},{pubkey:$o.programId,isWritable:!1,isSigner:!1},{pubkey:p,isWritable:!1,isSigner:!1}]}return C4(w.accounts,A),[{pubkey:nW(p),isWritable:!0,isSigner:!1}]}(t,r,y,b).concat(TA.accountsArray(b,y.accounts,y.name));const m=Tke.build(y,h),f=xke.build(y,m,TG(e),r),g=Fo(y.name);u[g]=h,l[g]=m,d[g]=f}),[u,l,d]})();this.instruction=i,this.transaction=o,this.rpc=a}get programId(){return this._programId}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(t===null)throw new Error(`Account does not exist ${e.toString()}`);const r=this._idl.state;if(!r)throw new Error("State is not specified in IDL.");if((await zG(r.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(this._sub!==null)return this._sub.ee;const t=new H0e,r=this.provider.connection.onAccountChange(this.address(),s=>{const i=this.coder.state.decode(s.data);t.emit("change",i)},e);return this._sub={ee:t,listener:r},t}unsubscribe(){this._sub!==null&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then(async()=>{this._sub=null}).catch(console.error)}}function nW(n){let[e]=OG([],n);return Pke(e,"unversioned",n)}class Cke{constructor(e,t,r,s,i){this._idlAccount=t,this._programId=r,this._provider=s??xA(),this._coder=i??new z4(e),this._size=this._coder.accounts.size(t)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e,t){const r=await this.getAccountInfo(e,t);return r===null?null:this._coder.accounts.decode(this._idlAccount.name,r.data)}async fetch(e,t){const r=await this.fetchNullable(e,t);if(r===null)throw new Error(`Account does not exist ${e.toString()}`);return r}async fetchMultiple(e,t){return(await ake(this._provider.connection,e.map(r=>cd(r)),t)).map(r=>r==null?null:this._coder.accounts.decode(this._idlAccount.name,r==null?void 0:r.account.data))}async all(e){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Xe.Buffer?e:void 0)},...Array.isArray(e)?e:[]]})).map(({pubkey:t,account:r})=>({publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,r.data)}))}subscribe(e,t){const r=SR.get(e.toString());if(r)return r.ee;const s=new H0e;e=cd(e);const i=this._provider.connection.onAccountChange(e,o=>{const a=this._coder.accounts.decode(this._idlAccount.name,o.data);s.emit("change",a)},t);return SR.set(e.toString(),{ee:s,listener:i}),s}async unsubscribe(e){let t=SR.get(e.toString());t?SR&&await this._provider.connection.removeAccountChangeListener(t.listener).then(()=>{SR.delete(e.toString())}).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const r=this.size;if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return $o.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:t??r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(t??r),programId:this._programId})}async associated(...e){const t=await this.associatedAddress(...e);return await this.fetch(t)}async associatedAddress(...e){return await Eke(this._programId,...e)}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(cd(e),t)}}const SR=new Map,bUe=13,SUe=14;class Mke{constructor(e,t,r){this._programId=e,this._provider=t,this._eventParser=new KG(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var r;let s=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,((r=this._eventListeners.get(e))!==null&&r!==void 0?r:[]).concat(s)),this._eventCallbacks.set(s,[e,t]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(i,o)=>{if(!i.err)for(const a of this._eventParser.parseLogs(i.logs)){const c=this._eventListeners.get(a.name);c&&c.forEach(u=>{const l=this._eventCallbacks.get(u);if(l){const[,d]=l;d(a.data,o.slot,i.signature)}})}})),s}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[r]=t;let s=this._eventListeners.get(r);if(!s)throw new Error(`Event listeners don't exist for ${r}!`);this._eventCallbacks.delete(e),s=s.filter(i=>i!==e),s.length===0&&this._eventListeners.delete(r),this._eventCallbacks.size==0&&(jD.exports.ok(this._eventListeners.size===0),this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class KG{constructor(e,t){this.coder=t,this.programId=e}*parseLogs(e){const t=new vUe(e),r=new kUe;let s=t.next();for(;s!==null;){let[i,o,a]=this.handleLog(r,s);i&&(yield i),o&&r.push(o),a&&r.pop(),s=t.next()}}handleLog(e,t){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log: ")||e.startsWith("Program data: ")){const t=e.startsWith("Program log: ")?e.slice(bUe):e.slice(SUe);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return t.match(/^Program (.*) success/g)!==null?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class kUe{constructor(){this.stack=[]}program(){return jD.exports.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){jD.exports.ok(this.stack.length>0),this.stack.pop()}}class vUe{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}const AUe=new Ee("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function Bke(){return new wke(zke)}const zke={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class lM{constructor(e,t,r,s,i,o){this._args=e,this._accounts=t,this._provider=r,this._programId=s,this._idlIx=i,this._accountStore=new wUe(r,o)}async resolve(){for(let e=0;e<this._idlIx.accounts.length;e+=1){const t=this._idlIx.accounts[e],r=Fo(t.name);if(!t.isSigner||this._accounts[r])Reflect.has(lM.CONST_ACCOUNTS,r)&&!this._accounts[r]&&(this._accounts[r]=lM.CONST_ACCOUNTS[r]);else{if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this._accounts[r]=this._provider.wallet.publicKey}}for(let e=0;e<this._idlIx.accounts.length;e+=1){const t=this._idlIx.accounts[e],r=Fo(t.name);t.pda&&t.pda.seeds.length>0&&!this._accounts[r]&&await this.autoPopulatePda(t)}}async autoPopulatePda(e){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const t=await Promise.all(e.pda.seeds.map(i=>this.toBuffer(i))),r=await this.parseProgramId(e),[s]=await Ee.findProgramAddress(t,r);this._accounts[Fo(e.name)]=s}async parseProgramId(e){var t;if(!(!((t=e.pda)===null||t===void 0)&&t.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new Ee(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}toBufferConst(e){return this.toBufferValue(e.type,e.value)}async toBufferArg(e){const t=this.argValue(e);return this.toBufferValue(e.type,t)}argValue(e){const t=Fo(e.path.split(".")[0]),r=this._idlIx.args.findIndex(s=>s.name===t);if(r===-1)throw new Error(`Unable to find argument for seed: ${t}`);return this._args[r]}async toBufferAccount(e){const t=await this.accountValue(e);return this.toBufferValue(e.type,t)}async accountValue(e){const t=e.path.split("."),r=t[0],s=this._accounts[Fo(r)];if(t.length===1)return s;const i=await this._accountStore.fetchAccount(e.account,s);return this.parseAccountValue(i,t.slice(1))}parseAccountValue(e,t){let r;for(;t.length>0;)r=e[Fo(t[0])],t=t.slice(1);return r}toBufferValue(e,t){switch(e){case"u8":return Xe.Buffer.from([t]);case"u16":let r=Xe.Buffer.alloc(2);return r.writeUInt16LE(t),r;case"u32":let s=Xe.Buffer.alloc(4);return s.writeUInt32LE(t),s;case"u64":let i=Xe.Buffer.alloc(8);return i.writeBigUInt64LE(BigInt(t)),i;case"string":return Xe.Buffer.from(rke(t));case"publicKey":return t.toBuffer();default:if(e.array)return Xe.Buffer.from(t);throw new Error(`Unexpected seed type: ${e}`)}}}lM.CONST_ACCOUNTS={associatedTokenProgram:YV,rent:X1,systemProgram:$o.programId,tokenProgram:GV};class wUe{constructor(e,t){this._provider=e,this._accounts=t,this._cache=new Map}async fetchAccount(e,t){const r=t.toString();if(!this._cache.has(r))if(e==="TokenAccount"){const s=await this._provider.connection.getAccountInfo(t);if(s===null)throw new Error(`invalid account info for ${r}`);const i=Bke().accounts.decode("token",s.data);this._cache.set(r,i)}else{const s=this._accounts[Fo(e)].fetch(t);this._cache.set(r,s)}return this._cache.get(r)}}class $ke{static build(e,t,r,s,i,o,a,c,u){return(...l)=>new IUe(l,s,i,o,a,c,e,t,r,u)}}class IUe{constructor(e,t,r,s,i,o,a,c,u,l){this._args=e,this._ixFn=t,this._txFn=r,this._rpcFn=s,this._simulateFn=i,this._viewFn=o,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._accountsResolver=new lM(e,this._accounts,a,c,u,l)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(e){return this._autoResolveAccounts=!0,Object.assign(this._accounts,e),this}accountsStrict(e){return this._autoResolveAccounts=!1,Object.assign(this._accounts,e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class sS{constructor(e,t,r,s){t=cd(t),r||(r=xA()),this._idl=e,this._provider=r,this._programId=t,this._coder=s??new z4(e),this._events=new Mke(this._programId,r,this._coder);const[i,o,a,c,u,l,d,y]=class{static build(h,m,f,g){const b={},S={},p={},I={},w={},A={},_=TG(h),E=h.accounts?class{static build(P,R,$,z){var T;const v={};return(T=P.accounts)===null||T===void 0||T.forEach(k=>{const x=Fo(k.name);v[x]=new Cke(P,k,$,z,R)}),v}}.build(h,m,f,g):{},M=class{static build(P,R,$,z){if(P.state!==void 0)return new Rke(P,$,z,R)}}.build(h,m,f,g);return h.instructions.forEach(P=>{const R=TA.build(P,(C,B)=>m.instruction.encode(C,B),f),$=Tke.build(P,R),z=xke.build(P,$,_,g),T=class{static build(C,B,O,D,W,L,N){return async(...H)=>{var J;const Q=B(...H),[,Y]=KB(C,[...H]);let X;if(D.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{X=await D.simulate(Q,Y.signers,(J=Y.options)===null||J===void 0?void 0:J.commitment)}catch(ee){throw BG(ee,O)}if(X===void 0)throw new Error("Unable to simulate transaction");const re=X.logs;if(!re)throw new Error("Simulated logs not found");const se=[];if(N.events){let ee=new KG(L,W);for(const ne of ee.parseLogs(re))se.push(ne)}return{events:se,raw:re}}}}.build(P,$,_,g,m,f,h),v=class{static build(C,B,O,D){const W=B.accounts.find(N=>N.isMut),L=!!B.returns;if(!W&&L)return async(...N)=>{var H,J;let Q=await O(...N);const Y=`Program return: ${C} `;let X=Q.raw.find(ee=>ee.startsWith(Y));if(!X)throw new Error("View expected return log");let re=nke(X.slice(Y.length)),se=B.returns;if(!se)throw new Error("View expected return type");return yu.fieldLayout({type:se},Array.from([...(H=D.accounts)!==null&&H!==void 0?H:[],...(J=D.types)!==null&&J!==void 0?J:[]])).decode(re)}}}.build(f,P,T,h),k=$ke.build(g,f,P,R,$,z,T,v,E),x=Fo(P.name);S[x]=R,p[x]=$,b[x]=z,I[x]=T,w[x]=k,v&&(A[x]=v)}),[b,S,p,E,I,w,M,A]}}.build(e,this._coder,t,r);this.rpc=i,this.instruction=o,this.transaction=a,this.account=c,this.simulate=u,this.methods=l,this.state=d,this.views=y}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const r=cd(e),s=await sS.fetchIdl(r,t);if(!s)throw new Error(`IDL not found for program: ${e.toString()}`);return new sS(s,r,t)}static async fetchIdl(e,t){t=t??xA();const r=cd(e),s=await async function(u){const l=(await Ee.findProgramAddress([],u))[0];return await Ee.createWithSeed(l,"anchor:idl",u)}(r),i=await t.connection.getAccountInfo(s);if(!i)return null;let o=(a=i.data.slice(8),pUe.decode(a));var a;const c=qDe(o.data);return JSON.parse(tke(c))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}class PUe{constructor(e){}encode(e,t){if(Fo(e)==="create")return Xe.Buffer.alloc(0);throw new Error(`Invalid instruction: ${e}`)}encodeState(e,t){throw new Error("SPL associated token does not have state")}}class _Ue{constructor(e){}encode(e,t){throw new Error("SPL associated token does not have state")}decode(e){throw new Error("SPL associated token does not have state")}}class EUe{constructor(e){this.idl=e}async encode(e,t){throw new Error(`Invalid account name: ${e}`)}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){throw new Error(`Invalid account name: ${e}`)}memcmp(e,t){throw new Error(`Invalid account name: ${e}`)}size(e){var t;return(t=OB(this.idl,e))!==null&&t!==void 0?t:0}}class xUe{constructor(e){}decode(e){throw new Error("SPL associated token program does not have events")}}class TUe{constructor(e){}encode(e,t){throw new Error("SPL associated token does not have user-defined types")}decode(e,t){throw new Error("SPL associated token does not have user-defined types")}}class RUe{constructor(e){this.instruction=new PUe(e),this.accounts=new EUe(e),this.events=new xUe(e),this.state=new _Ue(e),this.types=new TUe(e)}}const CUe=new Ee("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function MUe(n){return new sS(Vle,CUe,n,new RUe(Vle))}const Vle={version:"0.1.0",name:"spl_associated_token",instructions:[{name:"create",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"associatedAccount",isMut:!0,isSigner:!1},{name:"owner",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]}]};class BUe{static token(e){return function(t){return new sS(zke,AUe,t,Bke())}(e)}static associatedToken(e){return MUe(e)}}const zUe=new Ee("11111111111111111111111111111111");function $Ue(n){return new sS(qle,zUe,n,new Ike(qle))}const qle={version:"0.1.0",name:"system_program",instructions:[{name:"createAccount",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!0}],args:[{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assign",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"owner",type:"publicKey"}]},{name:"transfer",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"}]},{name:"createAccountWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"advanceNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"withdrawNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"lamports",type:"u64"}]},{name:"initializeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!0},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authorized",type:"publicKey"}]},{name:"authorizeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"allocate",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"space",type:"u64"}]},{name:"allocateWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assignWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]},{name:"transferWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]}],accounts:[{name:"nonce",type:{kind:"struct",fields:[{name:"version",type:"u32"},{name:"state",type:"u32"},{name:"authorizedPubkey",type:"publicKey"},{name:"nonce",type:"publicKey"},{name:"feeCalculator",type:{defined:"FeeCalculator"}}]}}],types:[{name:"FeeCalculator",type:{kind:"struct",fields:[{name:"lamportsPerSignature",type:"u64"}]}}]};class DUe{static system(e){return $Ue(e)}}var OUe=Object.freeze(Object.defineProperty({__proto__:null,web3:uLe,ACCOUNT_DISCRIMINATOR_SIZE:DFe,AccountClient:Cke,AnchorError:jv,AnchorProvider:lke,BorshAccountsCoder:Hv,BorshCoder:z4,BorshEventCoder:hke,BorshInstructionCoder:B4,BorshStateCoder:mke,EventManager:Mke,EventParser:KG,IdlError:cM,LangErrorCode:nr,LangErrorMessage:fke,MethodsBuilderFactory:$ke,Native:DUe,Program:sS,ProgramError:uM,ProgramErrorStack:Wx,Spl:BUe,SplTokenCoder:wke,StateClient:Rke,SystemCoder:Ike,eventDiscriminator:gke,getProvider:xA,parseIdlErrors:TG,setProvider:TFe,splitArgsAndCtx:KB,stateDiscriminator:zG,toInstruction:ske,translateAddress:cd,translateError:BG,utils:yUe,validateAccounts:C4,BN:Co},Symbol.toStringTag,{value:"Module"})),cc=Td(OUe),tr={},O4={};Object.defineProperty(O4,"__esModule",{value:!0});O4.decodeAccount=KUe;O4.decodeAccountWithRemaining=LUe;const Dke=cc;function KUe(n,e,t){if(n.accountInfo.owner.equals(e.programId))if(n.accountInfo.data.subarray(0,8).equals(Dke.BorshAccountsCoder.accountDiscriminator(t.ACCOUNT_NAME)))try{const s=e.coder.accounts.decode(t.ACCOUNT_NAME,n.accountInfo.data);return{type:"ok",key:n.accountId,data:new t(s,n.accountId)}}catch(r){return{type:"error",key:n.accountId,error:r}}else return{type:"error",key:n.accountId,error:new Error("discriminator mismatch")};else return{type:"error",key:n.accountId,error:new Error("not owned by program")}}function LUe(n,e,t,r){if(n.accountInfo.owner.equals(e.programId))if(n.accountInfo.data.subarray(0,8).equals(Dke.BorshAccountsCoder.accountDiscriminator(t.ACCOUNT_NAME)))try{const i=e.coder.accounts.decode(t.ACCOUNT_NAME,n.accountInfo.data.subarray(0,t.MIN_DATA_SIZE));return{type:"ok",key:n.accountId,data:new t(i,n.accountId,r(n.accountInfo.data.subarray(t.MIN_DATA_SIZE),i))}}catch(s){return{type:"error",key:n.accountId,error:s}}else return{type:"error",key:n.accountId,error:new Error("discriminator mismatch")};else return{type:"error",key:n.accountId,error:new Error("not owned by program")}}var LB={};function nO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function WUe(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function WB(n,...e){if(!WUe(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function NUe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");nO(n.outputLen),nO(n.blockLen)}function RA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Oke(n,e){WB(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const sW=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const FUe=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),iW=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),$d=(n,e)=>n<<32-e|n>>>e,jle=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,UUe=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function Hle(n){for(let e=0;e<n.length;e++)n[e]=UUe(n[e])}function VUe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function K4(n){return typeof n=="string"&&(n=VUe(n)),WB(n),n}function qUe(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];WB(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class LG{clone(){return this._cloneInto()}}function WG(n){const e=r=>n().update(K4(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function Kke(n=32){if(sW&&typeof sW.getRandomValues=="function")return sW.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function jUe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const HUe=(n,e,t)=>n&e^~n&t,GUe=(n,e,t)=>n&e^n&t^e&t;class Lke extends LG{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=iW(this.buffer)}update(e){RA(this);const{view:t,buffer:r,blockLen:s}=this;e=K4(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=iW(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){RA(this),Oke(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;jUe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=iW(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const c$=BigInt(2**32-1),XV=BigInt(32);function Wke(n,e=!1){return e?{h:Number(n&c$),l:Number(n>>XV&c$)}:{h:Number(n>>XV&c$)|0,l:Number(n&c$)|0}}function Nke(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=Wke(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const YUe=(n,e)=>BigInt(n>>>0)<<XV|BigInt(e>>>0),ZUe=(n,e,t)=>n>>>t,JUe=(n,e,t)=>n<<32-t|e>>>t,XUe=(n,e,t)=>n>>>t|e<<32-t,QUe=(n,e,t)=>n<<32-t|e>>>t,e7e=(n,e,t)=>n<<64-t|e>>>t-32,t7e=(n,e,t)=>n>>>t-32|e<<64-t,r7e=(n,e)=>e,n7e=(n,e)=>n,Fke=(n,e,t)=>n<<t|e>>>32-t,Uke=(n,e,t)=>e<<t|n>>>32-t,Vke=(n,e,t)=>e<<t-32|n>>>64-t,qke=(n,e,t)=>n<<t-32|e>>>64-t;function s7e(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const i7e=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),o7e=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,a7e=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),c7e=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,u7e=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),l7e=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,d7e={fromBig:Wke,split:Nke,toBig:YUe,shrSH:ZUe,shrSL:JUe,rotrSH:XUe,rotrSL:QUe,rotrBH:e7e,rotrBL:t7e,rotr32H:r7e,rotr32L:n7e,rotlSH:Fke,rotlSL:Uke,rotlBH:Vke,rotlBL:qke,add:s7e,add3L:i7e,add3H:o7e,add4L:a7e,add4H:c7e,add5H:l7e,add5L:u7e};var Mr=d7e;const[f7e,h7e]=(()=>Mr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Pm=new Uint32Array(80),_m=new Uint32Array(80);class g7e extends Lke{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Pm[p]=e.getUint32(t),_m[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Pm[p-15]|0,w=_m[p-15]|0,A=Mr.rotrSH(I,w,1)^Mr.rotrSH(I,w,8)^Mr.shrSH(I,w,7),_=Mr.rotrSL(I,w,1)^Mr.rotrSL(I,w,8)^Mr.shrSL(I,w,7),E=Pm[p-2]|0,M=_m[p-2]|0,P=Mr.rotrSH(E,M,19)^Mr.rotrBH(E,M,61)^Mr.shrSH(E,M,6),R=Mr.rotrSL(E,M,19)^Mr.rotrBL(E,M,61)^Mr.shrSL(E,M,6),$=Mr.add4L(_,R,_m[p-7],_m[p-16]),z=Mr.add4H($,A,P,Pm[p-7],Pm[p-16]);Pm[p]=z|0,_m[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Mr.rotrSH(d,y,14)^Mr.rotrSH(d,y,18)^Mr.rotrBH(d,y,41),w=Mr.rotrSL(d,y,14)^Mr.rotrSL(d,y,18)^Mr.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=Mr.add5L(S,w,_,h7e[p],_m[p]),M=Mr.add5H(E,b,I,A,f7e[p],Pm[p]),P=E|0,R=Mr.rotrSH(r,s,28)^Mr.rotrBH(r,s,34)^Mr.rotrBH(r,s,39),$=Mr.rotrSL(r,s,28)^Mr.rotrBL(r,s,34)^Mr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Mr.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Mr.add3L(P,$,T);r=Mr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Mr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Mr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Mr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Mr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Mr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Mr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Mr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Mr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Pm.fill(0),_m.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const m7e=WG(()=>new g7e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const NG=BigInt(0),L4=BigInt(1),y7e=BigInt(2);function iS(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function NB(n){if(!iS(n))throw new Error("Uint8Array expected")}function Vg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const p7e=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function oS(n){NB(n);let e="";for(let t=0;t<n.length;t++)e+=p7e[n[t]];return e}function jke(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function FG(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Ih={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Gle(n){if(n>=Ih._0&&n<=Ih._9)return n-Ih._0;if(n>=Ih._A&&n<=Ih._F)return n-(Ih._A-10);if(n>=Ih._a&&n<=Ih._f)return n-(Ih._a-10)}function CA(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Gle(n.charCodeAt(i)),a=Gle(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function W1(n){return FG(oS(n))}function Gv(n){return NB(n),FG(oS(Uint8Array.from(n).reverse()))}function MA(n,e){return CA(n.toString(16).padStart(e*2,"0"))}function dM(n,e){return MA(n,e).reverse()}function b7e(n){return CA(jke(n))}function Qo(n,e,t){let r;if(typeof e=="string")try{r=CA(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(iS(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function aS(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];NB(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function S7e(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function k7e(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const oW=n=>typeof n=="bigint"&&NG<=n;function W4(n,e,t){return oW(n)&&oW(e)&&oW(t)&&e<=n&&n<t}function bl(n,e,t,r){if(!W4(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function v7e(n){let e;for(e=0;n>NG;n>>=L4,e+=1);return e}function A7e(n,e){return n>>BigInt(e)&L4}function w7e(n,e,t){return n|(t?L4:NG)<<BigInt(e)}const UG=n=>(y7e<<BigInt(n-1))-L4,aW=n=>new Uint8Array(n),Yle=n=>Uint8Array.from(n);function Hke(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=aW(n),s=aW(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=aW())=>{s=a(Yle([0]),d),r=a(),d.length!==0&&(s=a(Yle([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return aS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const I7e={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||iS(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Nx(n,e,t={}){const r=(s,i,o)=>{const a=I7e[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const P7e=()=>{throw new Error("not implemented")};function fM(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var _7e=Object.freeze(Object.defineProperty({__proto__:null,isBytes:iS,abytes:NB,abool:Vg,bytesToHex:oS,numberToHexUnpadded:jke,hexToNumber:FG,hexToBytes:CA,bytesToNumberBE:W1,bytesToNumberLE:Gv,numberToBytesBE:MA,numberToBytesLE:dM,numberToVarBytesBE:b7e,ensureBytes:Qo,concatBytes:aS,equalBytes:S7e,utf8ToBytes:k7e,inRange:W4,aInRange:bl,bitLen:v7e,bitGet:A7e,bitSet:w7e,bitMask:UG,createHmacDrbg:Hke,validateObject:Nx,notImplemented:P7e,memoized:fM},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ga=BigInt(0),zi=BigInt(1),Q0=BigInt(2),E7e=BigInt(3),QV=BigInt(4),Zle=BigInt(5),Jle=BigInt(8);BigInt(9);BigInt(16);function hi(n,e){const t=n%e;return t>=Ga?t:e+t}function x7e(n,e,t){if(t<=Ga||e<Ga)throw new Error("Expected power/modulo > 0");if(t===zi)return Ga;let r=zi;for(;e>Ga;)e&zi&&(r=r*n%t),n=n*n%t,e>>=zi;return r}function Xi(n,e,t){let r=n;for(;e-- >Ga;)r*=r,r%=t;return r}function e9(n,e){if(n===Ga||e<=Ga)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=hi(n,e),r=e,s=Ga,i=zi;for(;t!==Ga;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==zi)throw new Error("invert: does not exist");return hi(s,e)}function T7e(n){const e=(n-zi)/Q0;let t,r,s;for(t=n-zi,r=0;t%Q0===Ga;t/=Q0,r++);for(s=Q0;s<n&&x7e(s,e,n)!==n-zi;s++);if(r===1){const o=(n+zi)/QV;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+zi)/Q0;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,zi<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function R7e(n){if(n%QV===E7e){const e=(n+zi)/QV;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Jle===Zle){const e=(n-Zle)/Jle;return function(r,s){const i=r.mul(s,Q0),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,Q0),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return T7e(n)}const C7e=(n,e)=>(hi(n,e)&zi)===zi,M7e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function B7e(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=M7e.reduce((r,s)=>(r[s]="function",r),e);return Nx(n,t)}function z7e(n,e,t){if(t<Ga)throw new Error("Expected power > 0");if(t===Ga)return n.ONE;if(t===zi)return e;let r=n.ONE,s=e;for(;t>Ga;)t&zi&&(r=n.mul(r,s)),s=n.sqr(s),t>>=zi;return r}function $7e(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function Gke(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function Yke(n,e,t=!1,r={}){if(n<=Ga)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=Gke(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=R7e(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:UG(s),ZERO:Ga,ONE:zi,create:c=>hi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ga<=c&&c<n},is0:c=>c===Ga,isOdd:c=>(c&zi)===zi,neg:c=>hi(-c,n),eql:(c,u)=>c===u,sqr:c=>hi(c*c,n),add:(c,u)=>hi(c+u,n),sub:(c,u)=>hi(c-u,n),mul:(c,u)=>hi(c*u,n),pow:(c,u)=>z7e(a,c,u),div:(c,u)=>hi(c*e9(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>e9(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>$7e(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?dM(c,i):MA(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?Gv(c):W1(c)}});return Object.freeze(a)}function Zke(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function Jke(n){const e=Zke(n);return e+Math.ceil(e/2)}function D7e(n,e,t=!1){const r=n.length,s=Zke(e),i=Jke(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?W1(n):Gv(n),a=hi(o,e-zi)+zi;return t?dM(a,s):MA(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const O7e=BigInt(0),cW=BigInt(1),uW=new WeakMap,Xle=new WeakMap;function Xke(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>O7e;)o&cW&&(a=a.add(c)),c=c.double(),o>>=cW;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=cW);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=Xle.get(i)||1;let u=uW.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&uW.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),Xle.set(i,o),uW.delete(i)}}}function VG(n){return B7e(n.Fp),Nx(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Gke(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zl=BigInt(0),Lc=BigInt(1),u$=BigInt(2),K7e=BigInt(8),L7e={zip215:!0};function W7e(n){const e=VG(n);return Nx(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function N7e(n){const e=W7e(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=u$<<BigInt(a*8)-Lc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:zl}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(Vg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){bl("coordinate "+v,k,zl,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=fM((v,k)=>{const{ex:x,ey:C,ez:B}=v,O=v.is0();k==null&&(k=O?K7e:t.inv(B));const D=l(x*k),W=l(C*k),L=l(B*k);if(O)return{x:zl,y:Lc};if(L!==Lc)throw new Error("invZ was invalid");return{x:D,y:W}}),b=fM(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:O,et:D}=v,W=l(C*C),L=l(B*B),N=l(O*O),H=l(N*N),J=l(W*k),Q=l(N*l(J+L)),Y=l(H+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,Lc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:O,ey:D,ez:W}=k,L=l(x*W),N=l(O*B),H=l(C*W),J=l(D*B);return L===N&&H===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,O=l(x*x),D=l(C*C),W=l(u$*l(B*B)),L=l(k*O),N=x+C,H=l(l(N*N)-O-D),J=L+D,Q=J-W,Y=L-D,X=l(H*Q),re=l(J*Y),se=l(H*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:O,ez:D,et:W}=this,{ex:L,ey:N,ez:H,et:J}=k;if(x===BigInt(-1)){const Lt=l((O-B)*(N+L)),Dt=l((O+B)*(N-L)),et=l(Dt-Lt);if(et===zl)return this.double();const Ue=l(D*u$*J),Wt=l(W*u$*H),sr=Wt+Ue,rr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(rr*pr),gn=l(sr*pr),ds=l(et*rr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(O*N),X=l(W*C*J),re=l(D*H),se=l((B+O)*(L+N)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),Pe=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(Pe,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;bl("scalar",x,Lc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return bl("scalar",x,zl,r),x===zl?I:this.equals(I)||x===Lc?this:this.equals(p)?this.wNAF(x).p:w.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Lc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,O=t.BYTES;k=Qo("pointHex",k,O),Vg("zip215",x);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=Gv(D),N=x?u:t.ORDER;bl("pointHex.y",L,zl,N);const H=l(L*L),J=l(H-Lc),Q=l(C*H-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Lc)===Lc,se=(W&128)!==0;if(!x&&X===zl&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=dM(x,t.BYTES);return C[C.length-1]|=k&Lc?128:0,C}toHex(){return oS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Lc,l(e.Gx*e.Gy)),S.ZERO=new S(zl,Lc,Lc,zl);const{BASE:p,ZERO:I}=S,w=Xke(S,a*8);function A(v){return hi(v,r)}function _(v){return A(Gv(v))}function E(v){const k=a;v=Qo("private key",v,k);const x=Qo("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),O=_(C),D=p.multiply(O),W=D.toRawBytes();return{head:C,prefix:B,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function P(v=new Uint8Array,...k){const x=aS(...k);return _(i(h(x,Qo("context",v),!!s)))}function R(v,k,x={}){v=Qo("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:O}=E(k),D=P(x.context,C,v),W=p.multiply(D).toRawBytes(),L=P(x.context,W,O,v),N=A(D+L*B);bl("signature.s",N,zl,r);const H=aS(W,dM(N,t.BYTES));return Qo("result",H,a*2)}const $=L7e;function z(v,k,x,C=$){const{context:B,zip215:O}=C,D=t.BYTES;v=Qo("signature",v,2*D),k=Qo("message",k),O!==void 0&&Vg("zip215",O),s&&(k=s(k));const W=Gv(v.slice(D,2*D));let L,N,H;try{L=S.fromHex(x,O),N=S.fromHex(v.slice(0,D),O),H=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=P(B,N.toRawBytes(),L.toRawBytes(),k);return N.add(L.multiplyUnsafe(J)).subtract(H).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qG=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Qle=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const F7e=BigInt(1),ede=BigInt(2);BigInt(3);const U7e=BigInt(5),V7e=BigInt(8);function q7e(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=qG,a=n*n%i*n%i,c=Xi(a,ede,i)*a%i,u=Xi(c,F7e,i)*n%i,l=Xi(u,U7e,i)*u%i,d=Xi(l,e,i)*l%i,y=Xi(d,t,i)*d%i,h=Xi(y,r,i)*y%i,m=Xi(h,s,i)*h%i,f=Xi(m,s,i)*h%i,g=Xi(f,e,i)*l%i;return{pow_p_5_8:Xi(g,ede,i)*n%i,b2:a}}function j7e(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function H7e(n,e){const t=qG,r=hi(e*e*e,t),s=hi(r*r*e,t),i=q7e(n*s).pow_p_5_8;let o=hi(n*r*i,t);const a=hi(e*o*o,t),c=o,u=hi(o*Qle,t),l=a===n,d=a===hi(-n,t),y=a===hi(-n*Qle,t);return l&&(o=c),(d||y)&&(o=u),C7e(o,t)&&(o=hi(-o,t)),{isValid:l||d,value:o}}const G7e=(()=>Yke(qG,void 0,!0))(),Y7e=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:G7e,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:V7e,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:m7e,randomBytes:Kke,adjustScalarBytes:j7e,uvRatio:H7e}))(),Fx=(()=>N7e(Y7e))();var l$=jDe.exports.Buffer;function Z7e(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var s=n.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=n.length,a=n.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(h){if((Array.isArray(h)||h instanceof Uint8Array)&&(h=l$.from(h)),!l$.isBuffer(h))throw new TypeError("Expected Buffer");if(h.length===0)return"";for(var m=0,f=0,g=0,b=h.length;g!==b&&h[g]===0;)g++,m++;for(var S=(b-g)*u+1>>>0,p=new Uint8Array(S);g!==b;){for(var I=h[g],w=0,A=S-1;(I!==0||w<f)&&A!==-1;A--,w++)I+=256*p[A]>>>0,p[A]=I%o>>>0,I=I/o>>>0;if(I!==0)throw new Error("Non-zero carry");f=w,g++}for(var _=S-f;_!==S&&p[_]===0;)_++;for(var E=a.repeat(m);_<S;++_)E+=n.charAt(p[_]);return E}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return l$.alloc(0);for(var m=0,f=0,g=0;h[m]===a;)f++,m++;for(var b=(h.length-m)*c+1>>>0,S=new Uint8Array(b);h[m];){var p=e[h.charCodeAt(m)];if(p===255)return;for(var I=0,w=b-1;(p!==0||I<g)&&w!==-1;w--,I++)p+=o*S[w]>>>0,S[w]=p%256>>>0,p=p/256>>>0;if(p!==0)throw new Error("Non-zero carry");g=I,m++}for(var A=b-g;A!==b&&S[A]===0;)A++;var _=l$.allocUnsafe(f+(b-A));_.fill(0,0,f);for(var E=f;A!==b;)_[E++]=S[A++];return _}function y(h){var m=d(h);if(m)return m;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:d,decode:y}}var J7e=Z7e,X7e=J7e,Q7e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",oc=X7e(Q7e);const eVe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Em=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xm=new Uint32Array(64);class tVe extends Lke{constructor(){super(64,32,8,!1),this.A=Em[0]|0,this.B=Em[1]|0,this.C=Em[2]|0,this.D=Em[3]|0,this.E=Em[4]|0,this.F=Em[5]|0,this.G=Em[6]|0,this.H=Em[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)xm[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=xm[d-15],h=xm[d-2],m=$d(y,7)^$d(y,18)^y>>>3,f=$d(h,17)^$d(h,19)^h>>>10;xm[d]=f+xm[d-7]+m+xm[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=$d(a,6)^$d(a,11)^$d(a,25),h=l+y+HUe(a,c,u)+eVe[d]+xm[d]|0,f=($d(r,2)^$d(r,13)^$d(r,22))+GUe(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){xm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const t9=WG(()=>new tVe);class rVe extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function nVe(n){return FB(n)&&typeof n[Symbol.iterator]=="function"}function FB(n){return typeof n=="object"&&n!=null}function sO(n){return FB(n)&&!Array.isArray(n)}function md(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function sVe(n){const{done:e,value:t}=n.next();return e?void 0:t}function iVe(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${md(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*tde(n,e,t,r){nVe(n)||(n=[n]);for(const s of n){const i=iVe(s,e,t,r);i&&(yield i)}}function*jG(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=jG(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):FB(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class uh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return tde(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return tde(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return Qke(e,this,t)}create(e,t){return ht(e,this,t)}is(e){return eve(e,this)}mask(e,t){return oVe(e,this,t)}validate(e,t={}){return UB(e,this,t)}}function Qke(n,e,t){const r=UB(n,e,{message:t});if(r[0])throw r[0]}function ht(n,e,t){const r=UB(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function oVe(n,e,t){const r=UB(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function eve(n,e){return!UB(n,e)[0]}function UB(n,e,t={}){const r=jG(n,e,t),s=sVe(r);if(s[0])return[new rVe(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function XS(n,e){return new uh({type:n,schema:null,validator:e})}function aVe(){return XS("any",()=>!0)}function vt(n){return new uh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${md(e)}`}})}function Xf(){return XS("boolean",n=>typeof n=="boolean")}function HG(n){return XS("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${md(e)}`)}function Pi(n){const e=md(n),t=typeof n;return new uh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${md(r)}`}})}function cVe(){return XS("never",()=>!1)}function Tt(n){return new uh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function he(){return XS("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${md(n)}`)}function lr(n){return new uh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function tve(n,e){return new uh({type:"record",schema:null,*entries(t){if(FB(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return sO(t)||`Expected an object, but received: ${md(t)}`},coercer(t){return sO(t)?{...t}:t}})}function qe(){return XS("string",n=>typeof n=="string"||`Expected a string, but received: ${md(n)}`)}function GG(n){const e=cVe();return new uh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${md(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Te(n){const e=Object.keys(n);return new uh({type:"type",schema:n,*entries(t){if(FB(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return sO(t)||`Expected an object, but received: ${md(t)}`},coercer(t){return sO(t)?{...t}:t}})}function Rc(n){const e=n.map(t=>t.type).join(" | ");return new uh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=jG(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${md(t)}`,...s]}})}function Ux(){return XS("unknown",()=>!0)}function VB(n,e,t){return new uh({...n,coercer:(r,s)=>eve(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const rve=[],nve=[],sve=[],uVe=BigInt(0),kR=BigInt(1),lVe=BigInt(2),dVe=BigInt(7),fVe=BigInt(256),hVe=BigInt(113);for(let n=0,e=kR,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],rve.push(2*(5*r+t)),nve.push((n+1)*(n+2)/2%64);let s=uVe;for(let i=0;i<7;i++)e=(e<<kR^(e>>dVe)*hVe)%fVe,e&lVe&&(s^=kR<<(kR<<BigInt(i))-kR);sve.push(s)}const[gVe,mVe]=Nke(sve,!0),rde=(n,e,t)=>t>32?Vke(n,e,t):Fke(n,e,t),nde=(n,e,t)=>t>32?qke(n,e,t):Uke(n,e,t);function yVe(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=rde(u,l,1)^t[a],y=nde(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=nve[o],c=rde(s,i,a),u=nde(s,i,a),l=rve[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=gVe[r],n[1]^=mVe[r]}t.fill(0)}class YG extends LG{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,nO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=FUe(this.state)}keccak(){jle||Hle(this.state32),yVe(this.state32,this.rounds),jle||Hle(this.state32),this.posOut=0,this.pos=0}update(e){RA(this);const{blockLen:t,state:r}=this;e=K4(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){RA(this,!1),WB(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return nO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Oke(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new YG(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const pVe=(n,e,t)=>WG(()=>new YG(e,n,t)),sde=pVe(1,136,256/8);class ive extends LG{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,NUe(e);const r=K4(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return RA(this),this.iHash.update(e),this}digestInto(e){RA(this),WB(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ove=(n,e,t)=>new ive(n,e).update(t).digest();ove.create=(n,e)=>new ive(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ide(n){n.lowS!==void 0&&Vg("lowS",n.lowS),n.prehash!==void 0&&Vg("prehash",n.prehash)}function bVe(n){const e=VG(n);Nx(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:SVe,hexToBytes:kVe}=_7e,w1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=w1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:SVe(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=w1,t=typeof n=="string"?kVe(n):n;NB(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=w1._parseInt(t.subarray(2)),{d:o,l:a}=w1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Iy=BigInt(0),da=BigInt(1);BigInt(2);const ode=BigInt(3);BigInt(4);function vVe(n){const e=bVe(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return aS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return W4(m,da,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(iS(m)&&(m=oS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:W1(Qo("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=hi(p,S)),bl("private key",p,da,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=fM((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=fM(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(Qo("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),_=t.eql(t.mul(b,w),t.mul(I,S));return A&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,ode),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,_=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),P=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),_=t.mul(S,I),_=t.add(_,_),w=t.mul(f,_),A=t.mul(b,P),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),_=t.mul(b,_),P=t.mul(f,P),R=t.sub(E,P),R=t.mul(f,R),R=t.add(R,_),_=t.add(E,E),E=t.add(_,E),E=t.add(E,P),E=t.mul(E,R),A=t.add(A,E),P=t.mul(p,I),P=t.add(P,P),E=t.mul(P,R),w=t.sub(w,E),_=t.mul(P,M),_=t.add(_,_),_=t.add(_,_),new d(w,A,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,_=t.ZERO,E=t.ZERO;const M=e.a,P=t.mul(e.b,ode);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(P,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),_=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(P,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),_=t.add(_,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,_,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){bl("scalar",f,Iy,e.n);const g=d.ZERO;if(f===Iy)return g;if(f===da)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,_=g,E=this;for(;p>Iy||w>Iy;)p&da&&(A=A.add(E)),w&da&&(_=_.add(E)),E=E.double(),p>>=da,w>>=da;return S&&(A=A.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),A.add(_)}multiply(f){const{endo:g,n:b}=e;bl("scalar",f,da,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:_}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:P,f:R}=this.wNAF(_);E=h.constTimeNegate(I,E),P=h.constTimeNegate(A,P),P=new d(t.mul(P.px,g.beta),P.py,P.pz),S=E.add(P),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===Iy||A===da||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===da)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===da?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Vg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Vg("isCompressed",f),oS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=Xke(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function AVe(n){const e=VG(n);return Nx(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function wVe(n){const e=AVe(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return hi(T,r)}function a(T){return e9(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=vVe({...e,toBytes(T,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=aS;return Vg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(T){const v=T.length,k=T[0],x=T.subarray(1);if(v===s&&(k===2||k===3)){const C=W1(x);if(!W4(C,da,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let O;try{O=t.sqrt(B)}catch(L){const N=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+N)}const D=(O&da)===da;return(k&1)===1!==D&&(O=t.neg(O)),{x:C,y:O}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>oS(MA(T,e.nByteLength));function h(T){const v=r>>da;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>W1(T.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=Qo("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=w1.toSig(Qo("DER",v));return new g(k,x)}assertValidity(){bl("r",this.r,da,r),bl("s",this.s,da,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=A(Qo("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const O=C===2||C===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(C&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),N=o(-B*L),H=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,N,H);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return CA(this.toDERHex())}toDERHex(){return w1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return CA(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=Jke(e.n);return D7e(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=iS(T),k=typeof T=="string",x=(v||k)&&T.length;return v?x===s||x===i:k?x===2*s||x===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=W1(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},_=UG(e.nBitLength);function E(T){return bl(`num < 2^${e.nBitLength}`,T,Iy,_),MA(T,e.nByteLength)}function M(T,v,k=P){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:O,extraEntropy:D}=k;B==null&&(B=!0),T=Qo("msgHash",T),ide(k),O&&(T=Qo("prehashed msgHash",x(T)));const W=A(T),L=u(v),N=[E(L),E(W)];if(D!=null&&D!==!1){const Y=D===!0?C(t.BYTES):D;N.push(Qo("extraEntropy",Y))}const H=aS(...N),J=W;function Q(Y){const X=w(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Iy)return;const ne=o(re*o(J+ee*L));if(ne===Iy)return;let ve=(se.x===ee?0:2)|Number(se.y&da),Pe=ne;return B&&h(ne)&&(Pe=m(ne),ve^=1),new g(ee,Pe,ve)}return{seed:H,k2sig:Q}}const P={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=P){const{seed:x,k2sig:C}=M(T,v,k),B=e;return Hke(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function z(T,v,k,x=R){var se;const C=T;if(v=Qo("msgHash",v),k=Qo("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");ide(x);const{lowS:B,prehash:O}=x;let D,W;try{if(typeof C=="string"||iS(C))try{D=g.fromDER(C)}catch(ee){if(!(ee instanceof w1.Err))throw ee;D=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:N}=D,H=A(v),J=a(N),Q=o(H*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function IVe(n){return{hash:n,hmac:(e,...t)=>ove(n,e,qUe(...t)),randomBytes:Kke}}function PVe(n,e){const t=r=>wVe({...n,...IVe(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ave=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ade=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_Ve=BigInt(1),r9=BigInt(2),cde=(n,e)=>(n+e/r9)/e;function EVe(n){const e=ave,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=Xi(l,t,e)*l%e,y=Xi(d,t,e)*l%e,h=Xi(y,r9,e)*u%e,m=Xi(h,s,e)*h%e,f=Xi(m,i,e)*m%e,g=Xi(f,a,e)*f%e,b=Xi(g,c,e)*g%e,S=Xi(b,a,e)*f%e,p=Xi(S,t,e)*l%e,I=Xi(p,o,e)*m%e,w=Xi(I,r,e)*u%e,A=Xi(w,r9,e);if(!n9.eql(n9.sqr(A),n))throw new Error("Cannot find square root");return A}const n9=Yke(ave,void 0,void 0,{sqrt:EVe}),N4=PVe({a:BigInt(0),b:BigInt(7),Fp:n9,n:ade,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=ade,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-_Ve*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=cde(i*n,e),c=cde(-r*n,e);let u=hi(n-a*t-c*s,e),l=hi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},t9);BigInt(0);N4.ProjectivePoint;const xVe=Fx.utils.randomPrivateKey,ude=()=>{const n=Fx.utils.randomPrivateKey(),e=iO(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},iO=Fx.getPublicKey;function lde(n){try{return Fx.ExtendedPoint.fromHex(n),!0}catch{return!1}}const ZG=(n,e)=>Fx.sign(n,e.slice(0,32)),TVe=Fx.verify,Xr=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class JG{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(nm(O2,this))}static decode(e){return sm(O2,this,e)}static decodeUnchecked(e){return im(O2,this,e)}}class RVe extends JG{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const O2=new Map;var cve;const uve=32,Wf=32;function CVe(n){return n._bn!==void 0}let dde=1;class rt extends JG{constructor(e){if(super({}),this._bn=void 0,CVe(e))this._bn=e._bn;else{if(typeof e=="string"){const t=oc.decode(e);if(t.length!=Wf)throw new Error("Invalid public key input");this._bn=new Co(t)}else this._bn=new Co(e);if(this._bn.byteLength()>Wf)throw new Error("Invalid public key input")}}static unique(){const e=new rt(dde);return dde+=1,new rt(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return oc.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Wf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=t9(s);return new rt(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>uve)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,Xr(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=t9(r);if(lde(s))throw new Error("Invalid seeds, address must fall off the curve");return new rt(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new rt(e);return lde(t.toBytes())}}cve=rt;rt.default=new cve("11111111111111111111111111111111");O2.set(rt,{kind:"struct",fields:[["_bn","u256"]]});class MVe{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Xr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Xr(xVe()),this._publicKey=Xr(iO(this._secretKey))}get publicKey(){return new rt(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const BVe=new rt("BPFLoader1111111111111111111111111111111111"),Ny=1280-40-8,F4=127,hM=64;class XG extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(XG.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class QG extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(QG.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Iv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Iv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class gM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const pn=(n="publicKey")=>ie(32,n),zVe=(n="signature")=>ie(64,n),I1=(n="string")=>{const e=F([U("length"),U("lengthPadding"),ie(Vt(U(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>U().span+U().span+V.Buffer.from(i,"utf8").length,s},$Ve=(n="authorized")=>F([pn("staker"),pn("withdrawer")],n),DVe=(n="lockup")=>F([_e("unixTimestamp"),_e("epoch"),pn("custodian")],n),OVe=(n="voteInit")=>F([pn("nodePubkey"),pn("authorizedVoter"),pn("authorizedWithdrawer"),te("commission")],n),KVe=(n="voteAuthorizeWithSeedArgs")=>F([U("voteAuthorizationType"),pn("currentAuthorityDerivedKeyOwnerPubkey"),I1("currentAuthorityDerivedKeySeed"),pn("newAuthorized")],n);function lve(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return lve({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function ru(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Ou(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Ln(n,e){if(!n)throw new Error(e||"Assertion failed")}class U4{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new U4(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Ln(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Ln(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Ln(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new rt(c)),...r.map(([c])=>new rt(c)),...s.map(([c])=>new rt(c)),...i.map(([c])=>new rt(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new rt(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Ln(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const dve="Reached end of buffer unexpectedly";function gf(n){if(n.length===0)throw new Error(dve);return n.shift()}function nu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(dve);return n.splice(...e)}class yd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new rt(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:oc.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new gM(this.staticAccountKeys)}static compile(e){const t=U4.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new gM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:oc.encode(a.data)}));return new yd({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Ou(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(oc.decode(d.data));let f=[];Ou(f,y.length);let g=[];return Ou(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Ou(s,r.length);let i=V.Buffer.alloc(Ny);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=F([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=F([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(pn("key"),e,"keys"),pn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>Xr(d.toBytes())),recentBlockhash:oc.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=gf(t);if(r!==(r&F4))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=gf(t),i=gf(t),o=ru(t);let a=[];for(let y=0;y<o;y++){const h=nu(t,0,Wf);a.push(new rt(V.Buffer.from(h)))}const c=nu(t,0,Wf),u=ru(t);let l=[];for(let y=0;y<u;y++){const h=gf(t),m=ru(t),f=nu(t,0,m),g=ru(t),b=nu(t,0,g),S=oc.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:oc.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new yd(d)}}class cS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new gM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=U4.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new gM(a,s).compileInstructions(e.instructions);return new cS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Ou(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Ou(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Ou(i,this.addressTableLookups.length);const o=F([te("prefix"),F([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(pn(),this.staticAccountKeys.length,"staticAccountKeys"),pn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Ny),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:oc.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Ny);for(const r of this.compiledInstructions){const s=Array();Ou(s,r.accountKeyIndexes.length);const i=Array();Ou(i,r.data.length),e+=F([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Ny);for(const r of this.addressTableLookups){const s=Array();Ou(s,r.writableIndexes.length);const i=Array();Ou(i,r.readonlyIndexes.length),e+=F([pn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=gf(t),s=r&F4;Ln(r!==s,"Expected versioned message but received legacy message");const i=s;Ln(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:gf(t),numReadonlySignedAccounts:gf(t),numReadonlyUnsignedAccounts:gf(t)},a=[],c=ru(t);for(let m=0;m<c;m++)a.push(new rt(nu(t,0,Wf)));const u=oc.encode(nu(t,0,Wf)),l=ru(t),d=[];for(let m=0;m<l;m++){const f=gf(t),g=ru(t),b=nu(t,0,g),S=ru(t),p=new Uint8Array(nu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=ru(t),h=[];for(let m=0;m<y;m++){const f=new rt(nu(t,0,Wf)),g=ru(t),b=nu(t,0,g),S=ru(t),p=nu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new cS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const eY={deserializeMessageVersion(n){const e=n[0],t=e&F4;return t===e?"legacy":t},deserialize:n=>{const e=eY.deserializeMessageVersion(n);if(e==="legacy")return yd.from(n);if(e===0)return cS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let pg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const LVe=V.Buffer.alloc(hM).fill(0);class bs{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class jn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new bs(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new rt(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:oc.encode(g)}});return m.forEach(f=>{Ln(f.programIdIndex>=0),f.accounts.forEach(g=>Ln(g>=0))}),new yd({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=ZG(r,s.secretKey);this._addSignature(s.publicKey,Xr(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Ln(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):TVe(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Ou(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Ln(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Ln(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Ln(i.length<=Ny,`Transaction too large: ${i.length} > ${Ny}`),i}get keys(){return Ln(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Ln(this.instructions.length===1),this.instructions[0].programId}get data(){return Ln(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=ru(t);let s=[];for(let i=0;i<r;i++){const o=nu(t,0,hM);s.push(oc.encode(V.Buffer.from(o)))}return jn.populate(yd.from(t),s)}static populate(e,t=[]){const r=new jn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==oc.encode(LVe)?null:oc.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new bs({keys:i,programId:e.accountKeys[s.programIdIndex],data:oc.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class tY{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Ln(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Ln(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new bs({programId:g,data:Xr(m.data),keys:f}))}return new tY({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return yd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return cS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class rY{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Ln(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(hM));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Ou(t,this.signatures.length);const r=F([ie(t.length,"encodedSignaturesLength"),we(zVe(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=ru(t);for(let o=0;o<s;o++)r.push(new Uint8Array(nu(t,0,hM)));const i=eY.deserialize(new Uint8Array(t));return new rY(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Ln(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=ZG(t,s.secretKey)}}addSignature(e,t){Ln(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Ln(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const WVe=160,NVe=64,FVe=WVe/NVe,fve=1e3/FVe,Qd=new rt("SysvarC1ock11111111111111111111111111111111"),UVe=new rt("SysvarEpochSchedu1e111111111111111111111111"),VVe=new rt("Sysvar1nstructions1111111111111111111111111"),bD=new rt("SysvarRecentB1ockHashes11111111111111111111"),BA=new rt("SysvarRent111111111111111111111111111111111"),qVe=new rt("SysvarRewards111111111111111111111111111111"),jVe=new rt("SysvarS1otHashes111111111111111111111111111"),HVe=new rt("SysvarS1otHistory11111111111111111111111111"),SD=new rt("SysvarStakeHistory1111111111111111111111111");class mM extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const GVe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Gt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function s9(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new mM({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function e1(n){return new Promise(e=>setTimeout(e,n))}function xn(n,e){const t=n.layout.span>=0?n.layout.span:lve(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function ts(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const hve=Ae("lamportsPerSignature"),gve=F([U("version"),U("state"),pn("authorizedPubkey"),pn("nonce"),F([hve],"feeCalculator")]),i9=gve.span;class V4{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=gve.decode(Xr(e),0);return new V4({authorizedPubkey:new rt(t.authorizedPubkey),nonce:new rt(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const YVe=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},ZVe=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=YVe(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return om(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=nc(o,n);return r(u,a,c)},i},zA=ZVe(8);class JVe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries($s))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=ts($s.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new rt(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=ts($s.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=ts($s.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new rt(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=ts($s.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=ts($s.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new rt(t),seed:r,space:s,programId:new rt(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=ts($s.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new rt(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=ts($s.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new rt(t),seed:r,programId:new rt(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=ts($s.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new rt(t),seed:r,lamports:s,space:i,programId:new rt(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=ts($s.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new rt(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ts($s.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ts($s.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=ts($s.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new rt(t)}}static checkProgramId(e){if(!e.equals(La.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const $s=Object.freeze({Create:{index:0,layout:F([U("instruction"),_e("lamports"),_e("space"),pn("programId")])},Assign:{index:1,layout:F([U("instruction"),pn("programId")])},Transfer:{index:2,layout:F([U("instruction"),zA("lamports")])},CreateWithSeed:{index:3,layout:F([U("instruction"),pn("base"),I1("seed"),_e("lamports"),_e("space"),pn("programId")])},AdvanceNonceAccount:{index:4,layout:F([U("instruction")])},WithdrawNonceAccount:{index:5,layout:F([U("instruction"),_e("lamports")])},InitializeNonceAccount:{index:6,layout:F([U("instruction"),pn("authorized")])},AuthorizeNonceAccount:{index:7,layout:F([U("instruction"),pn("authorized")])},Allocate:{index:8,layout:F([U("instruction"),_e("space")])},AllocateWithSeed:{index:9,layout:F([U("instruction"),pn("base"),I1("seed"),_e("space"),pn("programId")])},AssignWithSeed:{index:10,layout:F([U("instruction"),pn("base"),I1("seed"),pn("programId")])},TransferWithSeed:{index:11,layout:F([U("instruction"),zA("lamports"),I1("seed"),pn("programId")])},UpgradeNonceAccount:{index:12,layout:F([U("instruction")])}});class La{constructor(){}static createAccount(e){const t=$s.Create,r=xn(t,{lamports:e.lamports,space:e.space,programId:Xr(e.programId.toBuffer())});return new bs({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=$s.TransferWithSeed;t=xn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:Xr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=$s.Transfer;t=xn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new bs({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=$s.AssignWithSeed;t=xn(s,{base:Xr(e.basePubkey.toBuffer()),seed:e.seed,programId:Xr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=$s.Assign;t=xn(s,{programId:Xr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new bs({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=$s.CreateWithSeed,r=xn(t,{base:Xr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Xr(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new bs({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new jn;"basePubkey"in e&&"seed"in e?t.add(La.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:i9,programId:this.programId})):t.add(La.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:i9,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=$s.InitializeNonceAccount,r=xn(t,{authorized:Xr(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:bD,isSigner:!1,isWritable:!1},{pubkey:BA,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new bs(s)}static nonceAdvance(e){const t=$s.AdvanceNonceAccount,r=xn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:bD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new bs(s)}static nonceWithdraw(e){const t=$s.WithdrawNonceAccount,r=xn(t,{lamports:e.lamports});return new bs({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:bD,isSigner:!1,isWritable:!1},{pubkey:BA,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=$s.AuthorizeNonceAccount,r=xn(t,{authorized:Xr(e.newAuthorizedPubkey.toBuffer())});return new bs({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=$s.AllocateWithSeed;t=xn(s,{base:Xr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Xr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=$s.Allocate;t=xn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new bs({keys:r,programId:this.programId,data:t})}}La.programId=new rt("11111111111111111111111111111111");const XVe=Ny-300;class uS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/uS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new jn,h.add(La.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new jn,h.add(La.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new jn,h.add(La.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new jn().add(La.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await s9(e,h,[t,r],{commitment:"confirmed"})}const o=F([U("instruction"),U("offset"),U("bytesLength"),U("bytesLengthPadding"),we(te("byte"),Vt(U(),-8),"bytes")]),a=uS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new jn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(s9(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await e1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=F([U("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new jn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:BA,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(fve/2)))}}return!0}}uS.chunkSize=XVe;const QVe=new rt("BPFLoader2111111111111111111111111111111111");class e9e{static getMinNumSignatures(e){return uS.getMinNumSignatures(e)}static load(e,t,r,s,i){return uS.load(e,t,r,i,s)}}function t9e(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var lW,fde;function r9e(){if(fde)return lW;fde=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return lW=function(r){var s=t(r,!1);if(s!==void 0)return""+s},lW}var n9e=r9e(),hde=t9e(n9e);const vR=32;function dW(n){let e=0;for(;n>1;)n/=2,e++;return e}function s9e(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class mve{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=dW(s9e(e+vR+1))-dW(vR)-1,r=this.getSlotsInEpoch(t),s=e-(r-vR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*vR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+dW(vR)):this.slotsPerEpoch}}var i9e=globalThis.fetch;class o9e extends Rb{constructor(e,t,r){const s=i=>{const o=Mb(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function a9e(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const gde=56;class o9{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=a9e(c9e,e),r=e.length-gde;Ln(r>=0,"lookup table is invalid"),Ln(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=F([we(pn(),s,"addresses")]).decode(e.slice(gde));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new rt(t.authority[0]):void 0,addresses:i.map(o=>new rt(o))}}}const c9e={index:1,layout:F([U("typeIndex"),zA("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(pn(),Vt(te(),-1),"authority")])},u9e=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function l9e(n){const e=n.match(u9e);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Fi=VB(HG(rt),qe(),n=>new rt(n)),yve=GG([qe(),Pi("base64")]),nY=VB(HG(V.Buffer),yve,n=>V.Buffer.from(n[0],"base64")),pve=30*1e3;function d9e(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function _s(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function mde(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function bve(n){return Rc([Te({jsonrpc:Pi("2.0"),id:qe(),result:n}),Te({jsonrpc:Pi("2.0"),id:qe(),error:Te({code:Ux(),message:qe(),data:lr(aVe())})})])}const f9e=bve(Ux());function Ur(n){return VB(bve(n),f9e,e=>"error"in e?e:{...e,result:ht(e.result,n)})}function uo(n){return Ur(Te({context:Te({slot:he()}),value:n}))}function q4(n){return Te({context:Te({slot:he()}),value:n})}function fW(n,e){return n===0?new cS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new rt(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:oc.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new yd(e)}const h9e=Te({foundation:he(),foundationTerm:he(),initial:he(),taper:he(),terminal:he()}),g9e=Ur(vt(Tt(Te({epoch:he(),effectiveSlot:he(),amount:he(),postBalance:he(),commission:lr(Tt(he()))})))),m9e=vt(Te({slot:he(),prioritizationFee:he()})),y9e=Te({total:he(),validator:he(),foundation:he(),epoch:he()}),p9e=Te({epoch:he(),slotIndex:he(),slotsInEpoch:he(),absoluteSlot:he(),blockHeight:lr(he()),transactionCount:lr(he())}),b9e=Te({slotsPerEpoch:he(),leaderScheduleSlotOffset:he(),warmup:Xf(),firstNormalEpoch:he(),firstNormalSlot:he()}),S9e=tve(qe(),vt(he())),QS=Tt(Rc([Te({}),qe()])),k9e=Te({err:QS}),v9e=Pi("receivedSignature"),A9e=Te({"solana-core":qe(),"feature-set":lr(he())}),w9e=Te({program:qe(),programId:Fi,parsed:Ux()}),I9e=Te({programId:Fi,accounts:vt(Fi),data:qe()}),yde=uo(Te({err:Tt(Rc([Te({}),qe()])),logs:Tt(vt(qe())),accounts:lr(Tt(vt(Tt(Te({executable:Xf(),owner:qe(),lamports:he(),data:vt(qe()),rentEpoch:lr(he())}))))),unitsConsumed:lr(he()),returnData:lr(Tt(Te({programId:qe(),data:GG([qe(),Pi("base64")])}))),innerInstructions:lr(Tt(vt(Te({index:he(),instructions:vt(Rc([w9e,I9e]))}))))})),P9e=uo(Te({byIdentity:tve(qe(),vt(he())),range:Te({firstSlot:he(),lastSlot:he()})}));function _9e(n,e,t,r,s,i){const o=t||i9e;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new Cb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Eqe)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await e1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function E9e(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function x9e(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const T9e=Ur(h9e),R9e=Ur(y9e),C9e=Ur(m9e),M9e=Ur(p9e),B9e=Ur(b9e),z9e=Ur(S9e),$9e=Ur(he()),D9e=uo(Te({total:he(),circulating:he(),nonCirculating:he(),nonCirculatingAccounts:vt(Fi)})),a9=Te({amount:qe(),uiAmount:Tt(he()),decimals:he(),uiAmountString:lr(qe())}),O9e=uo(vt(Te({address:Fi,amount:qe(),uiAmount:Tt(he()),decimals:he(),uiAmountString:lr(qe())}))),K9e=uo(vt(Te({pubkey:Fi,account:Te({executable:Xf(),owner:Fi,lamports:he(),data:nY,rentEpoch:he()})}))),c9=Te({program:qe(),parsed:Ux(),space:he()}),L9e=uo(vt(Te({pubkey:Fi,account:Te({executable:Xf(),owner:Fi,lamports:he(),data:c9,rentEpoch:he()})}))),W9e=uo(vt(Te({lamports:he(),address:Fi}))),yM=Te({executable:Xf(),owner:Fi,lamports:he(),data:nY,rentEpoch:he()}),N9e=Te({pubkey:Fi,account:yM}),F9e=VB(Rc([HG(V.Buffer),c9]),Rc([yve,c9]),n=>Array.isArray(n)?ht(n,nY):n),u9=Te({executable:Xf(),owner:Fi,lamports:he(),data:F9e,rentEpoch:he()}),U9e=Te({pubkey:Fi,account:u9}),V9e=Te({state:Rc([Pi("active"),Pi("inactive"),Pi("activating"),Pi("deactivating")]),active:he(),inactive:he()}),q9e=Ur(vt(Te({signature:qe(),slot:he(),err:QS,memo:Tt(qe()),blockTime:lr(Tt(he()))}))),j9e=Ur(vt(Te({signature:qe(),slot:he(),err:QS,memo:Tt(qe()),blockTime:lr(Tt(he()))}))),H9e=Te({subscription:he(),result:q4(yM)}),G9e=Te({pubkey:Fi,account:yM}),Y9e=Te({subscription:he(),result:q4(G9e)}),Z9e=Te({parent:he(),slot:he(),root:he()}),J9e=Te({subscription:he(),result:Z9e}),X9e=Rc([Te({type:Rc([Pi("firstShredReceived"),Pi("completed"),Pi("optimisticConfirmation"),Pi("root")]),slot:he(),timestamp:he()}),Te({type:Pi("createdBank"),parent:he(),slot:he(),timestamp:he()}),Te({type:Pi("frozen"),slot:he(),timestamp:he(),stats:Te({numTransactionEntries:he(),numSuccessfulTransactions:he(),numFailedTransactions:he(),maxTransactionsPerEntry:he()})}),Te({type:Pi("dead"),slot:he(),timestamp:he(),err:qe()})]),Q9e=Te({subscription:he(),result:X9e}),eqe=Te({subscription:he(),result:q4(Rc([k9e,v9e]))}),tqe=Te({subscription:he(),result:he()}),rqe=Te({pubkey:qe(),gossip:Tt(qe()),tpu:Tt(qe()),rpc:Tt(qe()),version:Tt(qe())}),pde=Te({votePubkey:qe(),nodePubkey:qe(),activatedStake:he(),epochVoteAccount:Xf(),epochCredits:vt(GG([he(),he(),he()])),commission:he(),lastVote:he(),rootSlot:Tt(he())}),nqe=Ur(Te({current:vt(pde),delinquent:vt(pde)})),sqe=Rc([Pi("processed"),Pi("confirmed"),Pi("finalized")]),iqe=Te({slot:he(),confirmations:Tt(he()),err:QS,confirmationStatus:lr(sqe)}),oqe=uo(vt(Tt(iqe))),aqe=Ur(he()),Sve=Te({accountKey:Fi,writableIndexes:vt(he()),readonlyIndexes:vt(he())}),sY=Te({signatures:vt(qe()),message:Te({accountKeys:vt(qe()),header:Te({numRequiredSignatures:he(),numReadonlySignedAccounts:he(),numReadonlyUnsignedAccounts:he()}),instructions:vt(Te({accounts:vt(he()),data:qe(),programIdIndex:he()})),recentBlockhash:qe(),addressTableLookups:lr(vt(Sve))})}),kve=Te({pubkey:Fi,signer:Xf(),writable:Xf(),source:lr(Rc([Pi("transaction"),Pi("lookupTable")]))}),vve=Te({accountKeys:vt(kve),signatures:vt(qe())}),Ave=Te({parsed:Ux(),program:qe(),programId:Fi}),wve=Te({accounts:vt(Fi),data:qe(),programId:Fi}),cqe=Rc([wve,Ave]),uqe=Rc([Te({parsed:Ux(),program:qe(),programId:qe()}),Te({accounts:vt(qe()),data:qe(),programId:qe()})]),Ive=VB(cqe,uqe,n=>"accounts"in n?ht(n,wve):ht(n,Ave)),Pve=Te({signatures:vt(qe()),message:Te({accountKeys:vt(kve),instructions:vt(Ive),recentBlockhash:qe(),addressTableLookups:lr(Tt(vt(Sve)))})}),oO=Te({accountIndex:he(),mint:qe(),owner:lr(qe()),programId:lr(qe()),uiTokenAmount:a9}),_ve=Te({writable:vt(Fi),readonly:vt(Fi)}),j4=Te({err:QS,fee:he(),innerInstructions:lr(Tt(vt(Te({index:he(),instructions:vt(Te({accounts:vt(he()),data:qe(),programIdIndex:he()}))})))),preBalances:vt(he()),postBalances:vt(he()),logMessages:lr(Tt(vt(qe()))),preTokenBalances:lr(Tt(vt(oO))),postTokenBalances:lr(Tt(vt(oO))),loadedAddresses:lr(_ve),computeUnitsConsumed:lr(he())}),iY=Te({err:QS,fee:he(),innerInstructions:lr(Tt(vt(Te({index:he(),instructions:vt(Ive)})))),preBalances:vt(he()),postBalances:vt(he()),logMessages:lr(Tt(vt(qe()))),preTokenBalances:lr(Tt(vt(oO))),postTokenBalances:lr(Tt(vt(oO))),loadedAddresses:lr(_ve),computeUnitsConsumed:lr(he())}),Vx=Rc([Pi(0),Pi("legacy")]),ek=Te({pubkey:qe(),lamports:he(),postBalance:Tt(he()),rewardType:Tt(qe()),commission:lr(Tt(he()))}),lqe=Ur(Tt(Te({blockhash:qe(),previousBlockhash:qe(),parentSlot:he(),transactions:vt(Te({transaction:sY,meta:Tt(j4),version:lr(Vx)})),rewards:lr(vt(ek)),blockTime:Tt(he()),blockHeight:Tt(he())}))),dqe=Ur(Tt(Te({blockhash:qe(),previousBlockhash:qe(),parentSlot:he(),rewards:lr(vt(ek)),blockTime:Tt(he()),blockHeight:Tt(he())}))),fqe=Ur(Tt(Te({blockhash:qe(),previousBlockhash:qe(),parentSlot:he(),transactions:vt(Te({transaction:vve,meta:Tt(j4),version:lr(Vx)})),rewards:lr(vt(ek)),blockTime:Tt(he()),blockHeight:Tt(he())}))),hqe=Ur(Tt(Te({blockhash:qe(),previousBlockhash:qe(),parentSlot:he(),transactions:vt(Te({transaction:Pve,meta:Tt(iY),version:lr(Vx)})),rewards:lr(vt(ek)),blockTime:Tt(he()),blockHeight:Tt(he())}))),gqe=Ur(Tt(Te({blockhash:qe(),previousBlockhash:qe(),parentSlot:he(),transactions:vt(Te({transaction:vve,meta:Tt(iY),version:lr(Vx)})),rewards:lr(vt(ek)),blockTime:Tt(he()),blockHeight:Tt(he())}))),mqe=Ur(Tt(Te({blockhash:qe(),previousBlockhash:qe(),parentSlot:he(),rewards:lr(vt(ek)),blockTime:Tt(he()),blockHeight:Tt(he())}))),yqe=Ur(Tt(Te({blockhash:qe(),previousBlockhash:qe(),parentSlot:he(),transactions:vt(Te({transaction:sY,meta:Tt(j4)})),rewards:lr(vt(ek)),blockTime:Tt(he())}))),bde=Ur(Tt(Te({blockhash:qe(),previousBlockhash:qe(),parentSlot:he(),signatures:vt(qe()),blockTime:Tt(he())}))),hW=Ur(Tt(Te({slot:he(),meta:Tt(j4),blockTime:lr(Tt(he())),transaction:sY,version:lr(Vx)}))),d$=Ur(Tt(Te({slot:he(),transaction:Pve,meta:Tt(iY),blockTime:lr(Tt(he())),version:lr(Vx)}))),pqe=uo(Te({blockhash:qe(),feeCalculator:Te({lamportsPerSignature:he()})})),bqe=uo(Te({blockhash:qe(),lastValidBlockHeight:he()})),Sqe=uo(Xf()),kqe=Te({slot:he(),numTransactions:he(),numSlots:he(),samplePeriodSecs:he()}),vqe=Ur(vt(kqe)),Aqe=uo(Tt(Te({feeCalculator:Te({lamportsPerSignature:he()})}))),wqe=Ur(qe()),Iqe=Ur(qe()),Pqe=Te({err:QS,logs:vt(qe()),signature:qe()}),_qe=Te({result:q4(Pqe),subscription:he()}),Eqe={"solana-client":"js/1.0.0-maintenance"};class xqe{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=_s(l),h=this._buildArgs([],d,void 0,y),m=hde(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=ht(f,Ur(he()));if("error"in g)throw new Gt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=d9e(e),this._rpcWsEndpoint=r||l9e(e),this._rpcClient=_9e(e,s,i,o,a,c),this._rpcRequest=E9e(this._rpcClient),this._rpcBatchRequest=x9e(this._rpcClient),this._rpcWebSocket=new o9e(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=ht(o,uo(he()));if("error"in a)throw new Gt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=ht(t,Ur(Tt(he())));if("error"in r)throw new Gt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=ht(e,Ur(he()));if("error"in t)throw new Gt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=ht(e,$9e);if("error"in t)throw new Gt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=ht(r,D9e);if("error"in s)throw new Gt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=ht(s,uo(a9));if("error"in i)throw new Gt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=ht(s,uo(a9));if("error"in i)throw new Gt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=_s(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=ht(c,K9e);if("error"in u)throw new Gt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=ht(o,L9e);if("error"in a)throw new Gt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=ht(s,W9e);if("error"in i)throw new Gt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=ht(s,O9e);if("error"in i)throw new Gt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=ht(o,uo(Tt(yM)));if("error"in a)throw new Gt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=ht(o,uo(Tt(u9)));if("error"in a)throw new Gt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=_s(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=ht(a,uo(vt(Tt(u9))));if("error"in c)throw new Gt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=_s(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=ht(a,uo(vt(Tt(yM))));if("error"in c)throw new Gt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=_s(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=ht(a,Ur(V9e));if("error"in c)throw new Gt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=_s(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:mde(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=vt(N9e),l=o.withContext===!0?ht(c,uo(u)):ht(c,Ur(u));if("error"in l)throw new Gt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=ht(o,Ur(vt(U9e)));if("error"in a)throw new Gt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=oc.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Ln(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:pg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:pg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await e1(1e3),i||(h=await y(),i))return;d({__type:pg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===pg.PROCESSED)l=d.response;else throw new XG(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:pg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await e1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===pg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await e1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Iv(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Iv(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Iv(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new Iv(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:pg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===pg.PROCESSED)a=c.response;else throw new QG(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=ht(e,Ur(vt(rqe)));if("error"in t)throw new Gt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=ht(r,nqe);if("error"in s)throw new Gt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=_s(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=ht(i,Ur(he()));if("error"in o)throw new Gt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=_s(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=ht(i,Ur(qe()));if("error"in o)throw new Gt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=ht(s,Ur(vt(Fi)));if("error"in i)throw new Gt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Ln(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=ht(s,oqe);if("error"in i)throw new Gt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=_s(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=ht(i,Ur(he()));if("error"in o)throw new Gt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=ht(r,T9e);if("error"in s)throw new Gt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=_s(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=ht(a,g9e);if("error"in c)throw new Gt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=ht(e,R9e);if("error"in t)throw new Gt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=_s(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=ht(i,M9e);if("error"in o)throw new Gt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=ht(e,B9e);if("error"in t)throw new Gt(t.error,"failed to get epoch schedule");const r=t.result;return new mve(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=ht(e,z9e);if("error"in t)throw new Gt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=ht(s,aqe);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=ht(r,pqe);if("error"in s)throw new Gt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=ht(t,vqe);if("error"in r)throw new Gt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=ht(s,Aqe);if("error"in i)throw new Gt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Xr(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=ht(i,uo(Tt(he())));if("error"in o)throw new Gt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=ht(s,C9e);if("error"in i)throw new Gt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=_s(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=ht(i,bqe);if("error"in o)throw new Gt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=ht(o,Sqe);if("error"in a)throw new Gt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=ht(e,Ur(A9e));if("error"in t)throw new Gt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=ht(e,Ur(qe()));if("error"in t)throw new Gt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=ht(o,fqe);if("error"in a)throw a.error;return a.result}case"none":{const a=ht(o,dqe);if("error"in a)throw a.error;return a.result}default:{const a=ht(o,lqe);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:fW(d,u.message)},version:d}))}:null}}}catch(a){throw new Gt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=ht(o,gqe);if("error"in a)throw a.error;return a.result}case"none":{const a=ht(o,mqe);if("error"in a)throw a.error;return a.result}default:{const a=ht(o,hqe);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Gt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=ht(i,P9e);if("error"in o)throw new Gt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=ht(o,hW);if("error"in a)throw new Gt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:fW(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=ht(o,d$);if("error"in a)throw new Gt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=_s(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=ht(c,d$);if("error"in u)throw new Gt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=_s(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=ht(c,hW);if("error"in u)throw new Gt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:fW(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=ht(s,yqe);if("error"in i)throw new Gt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new yd(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:jn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=ht(i,Ur(vt(he())));if("error"in o)throw new Gt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=ht(s,bde);if("error"in i)throw new Gt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=ht(s,bde);if("error"in i)throw new Gt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=ht(s,hW);if("error"in i)throw new Gt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new yd(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:jn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=ht(s,d$);if("error"in i)throw new Gt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=ht(o,d$);if("error"in a)throw new Gt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=ht(i,q9e);if("error"in o)throw new Gt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=ht(i,j9e);if("error"in o)throw new Gt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new o9({key:e,state:o9.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=V4.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=ht(r,wqe);if("error"in s)throw new Gt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await e1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=pve;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await e1(fve/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=_s(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=ht(i,uo(he()));if("error"in o)throw new Gt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=ht(p,yde);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof jn){let m=e;s=new jn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=jn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=ht(y,yde);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new mM({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=Xr(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=ht(a,Iqe);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new mM({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=ht(e,H9e);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=hde([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Ln(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=_s(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=ht(e,Y9e);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=_s(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:mde(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=ht(e,_qe);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=ht(e,J9e);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=ht(e,Q9e);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=ht(e,eqe);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=ht(e,tqe);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Yv{constructor(e){this._keypair=void 0,this._keypair=e??ude()}static generate(){return new Yv(ude())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=iO(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new Yv({publicKey:r,secretKey:e})}static fromSeed(e){const t=iO(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Yv({publicKey:t,secretKey:r})}get publicKey(){return new rt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Cg=Object.freeze({CreateLookupTable:{index:0,layout:F([U("instruction"),zA("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:F([U("instruction")])},ExtendLookupTable:{index:2,layout:F([U("instruction"),zA(),we(pn(),Vt(U(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:F([U("instruction")])},CloseLookupTable:{index:4,layout:F([U("instruction")])}});class Tqe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Cg))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=ts(Cg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=ts(Cg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new rt(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(oY.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class oY{constructor(){}static createLookupTable(e){const[t,r]=rt.findProgramAddressSync([e.authority.toBuffer(),nc(BigInt(e.recentSlot),8)],this.programId),s=Cg.CreateLookupTable,i=xn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:La.programId,isSigner:!1,isWritable:!1}];return[new bs({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Cg.FreezeLookupTable,r=xn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new bs({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Cg.ExtendLookupTable,r=xn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:La.programId,isSigner:!1,isWritable:!1}),new bs({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Cg.DeactivateLookupTable,r=xn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new bs({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Cg.CloseLookupTable,r=xn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new bs({programId:this.programId,keys:s,data:r})}}oY.programId=new rt("AddressLookupTab1e1111111111111111111111111");class Rqe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(mf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=ts(mf.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=ts(mf.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=ts(mf.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=ts(mf.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(aY.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const mf=Object.freeze({RequestUnits:{index:0,layout:F([te("instruction"),U("units"),U("additionalFee")])},RequestHeapFrame:{index:1,layout:F([te("instruction"),U("bytes")])},SetComputeUnitLimit:{index:2,layout:F([te("instruction"),U("units")])},SetComputeUnitPrice:{index:3,layout:F([te("instruction"),zA("microLamports")])}});class aY{constructor(){}static requestUnits(e){const t=mf.RequestUnits,r=xn(t,e);return new bs({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=mf.RequestHeapFrame,r=xn(t,e);return new bs({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=mf.SetComputeUnitLimit,r=xn(t,e);return new bs({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=mf.SetComputeUnitPrice,r=xn(t,{microLamports:BigInt(e.microLamports)});return new bs({keys:[],programId:this.programId,data:r})}}aY.programId=new rt("ComputeBudget111111111111111111111111111111");const Sde=64,kde=32,vde=64,Ade=F([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class H4{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Ln(t.length===kde,`Public Key must be ${kde} bytes but received ${t.length} bytes`),Ln(s.length===vde,`Signature must be ${vde} bytes but received ${s.length} bytes`);const o=Ade.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return Ade.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new bs({keys:[],programId:H4.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Ln(t.length===Sde,`Private key must be ${Sde} bytes but received ${t.length} bytes`);try{const i=Yv.fromSecretKey(t),o=i.publicKey.toBytes(),a=ZG(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}H4.programId=new rt("Ed25519SigVerify111111111111111111111111111");const Cqe=(n,e)=>{const t=N4.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};N4.utils.isValidPrivateKey;const Mqe=N4.getPublicKey,wde=32,gW=20,Ide=64,Bqe=11,mW=F([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class Zv{constructor(){}static publicKeyToEthAddress(e){Ln(e.length===Ide,`Public key must be ${Ide} bytes but received ${e.length} bytes`);try{return V.Buffer.from(sde(Xr(e))).slice(-gW)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return Zv.createInstructionWithEthAddress({ethAddress:Zv.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Ln(a.length===gW,`Address must be ${gW} bytes but received ${a.length} bytes`);const c=1+Bqe,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(mW.span+r.length);return mW.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Xr(s),ethAddress:Xr(a),recoveryId:i},h),h.fill(Xr(r),mW.span),new bs({keys:[],programId:Zv.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Ln(t.length===wde,`Private key must be ${wde} bytes but received ${t.length} bytes`);try{const i=Xr(t),o=Mqe(i,!1).slice(1),a=V.Buffer.from(sde(Xr(r))),[c,u]=Cqe(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Zv.programId=new rt("KeccakSecp256k11111111111111111111111111111");var Eve;const xve=new rt("StakeConfig11111111111111111111111111111111");class Tve{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class qB{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Eve=qB;qB.default=new Eve(0,0,rt.default);class zqe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ka))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=ts(ka.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Tve(new rt(t.staker),new rt(t.withdrawer)),lockup:new qB(r.unixTimestamp,r.epoch,new rt(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),ts(ka.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=ts(ka.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new rt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=ts(ka.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new rt(i),newAuthorizedPubkey:new rt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ts(ka.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ts(ka.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ts(ka.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ts(ka.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(G4.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ka=Object.freeze({Initialize:{index:0,layout:F([U("instruction"),$Ve(),DVe()])},Authorize:{index:1,layout:F([U("instruction"),pn("newAuthorized"),U("stakeAuthorizationType")])},Delegate:{index:2,layout:F([U("instruction")])},Split:{index:3,layout:F([U("instruction"),_e("lamports")])},Withdraw:{index:4,layout:F([U("instruction"),_e("lamports")])},Deactivate:{index:5,layout:F([U("instruction")])},Merge:{index:7,layout:F([U("instruction")])},AuthorizeWithSeed:{index:8,layout:F([U("instruction"),pn("newAuthorized"),U("stakeAuthorizationType"),I1("authoritySeed"),pn("authorityOwner")])}}),$qe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class G4{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||qB.default,o=ka.Initialize,a=xn(o,{authorized:{staker:Xr(r.staker.toBuffer()),withdrawer:Xr(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Xr(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:BA,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new bs(c)}static createAccountWithSeed(e){const t=new jn;t.add(La.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new jn;t.add(La.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=ka.Delegate,o=xn(i);return new jn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Qd,isSigner:!1,isWritable:!1},{pubkey:SD,isSigner:!1,isWritable:!1},{pubkey:xve,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=ka.Authorize,c=xn(a,{newAuthorized:Xr(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Qd,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new jn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=ka.AuthorizeWithSeed,l=xn(u,{newAuthorized:Xr(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:Xr(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Qd,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new jn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=ka.Split,a=xn(o,{lamports:i});return new bs({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new jn;return r.add(La.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new jn;return u.add(La.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(La.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=ka.Merge,o=xn(i);return new jn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Qd,isSigner:!1,isWritable:!1},{pubkey:SD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=ka.Withdraw,c=xn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Qd,isSigner:!1,isWritable:!1},{pubkey:SD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new jn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=ka.Deactivate,i=xn(s);return new jn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Qd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}G4.programId=new rt("Stake11111111111111111111111111111111111111");G4.space=200;class Rve{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class Dqe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(yf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=ts(yf.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Rve(new rt(t.nodePubkey),new rt(t.authorizedVoter),new rt(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=ts(yf.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new rt(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=ts(yf.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new rt(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new rt(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ts(yf.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(qx.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const yf=Object.freeze({InitializeAccount:{index:0,layout:F([U("instruction"),OVe()])},Authorize:{index:1,layout:F([U("instruction"),pn("newAuthorized"),U("voteAuthorizationType")])},Withdraw:{index:3,layout:F([U("instruction"),_e("lamports")])},UpdateValidatorIdentity:{index:4,layout:F([U("instruction")])},AuthorizeWithSeed:{index:10,layout:F([U("instruction"),KVe()])}}),Oqe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class qx{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=yf.InitializeAccount,o=xn(i,{voteInit:{nodePubkey:Xr(s.nodePubkey.toBuffer()),authorizedVoter:Xr(s.authorizedVoter.toBuffer()),authorizedWithdrawer:Xr(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:BA,isSigner:!1,isWritable:!1},{pubkey:Qd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new bs(a)}static createAccount(e){const t=new jn;return t.add(La.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=yf.Authorize,a=xn(o,{newAuthorized:Xr(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Qd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new jn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=yf.AuthorizeWithSeed,u=xn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Xr(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:Xr(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Qd,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new jn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=yf.Withdraw,a=xn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new jn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return qx.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=yf.UpdateValidatorIdentity,o=xn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new jn().add({keys:a,programId:this.programId,data:o})}}qx.programId=new rt("Vote111111111111111111111111111111111111111");qx.space=3762;const Cve=new rt("Va1idator1nfo111111111111111111111111111111"),Kqe=Te({name:qe(),website:lr(qe()),details:lr(qe()),iconUrl:lr(qe()),keybaseUsername:lr(qe())});class cY{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(ru(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new rt(nu(t,0,Wf)),a=gf(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(Cve)&&s[1].isSigner){const i=I1().decode(V.Buffer.from(t)),o=JSON.parse(i);return Qke(o,Kqe),new cY(s[1].publicKey,o)}return null}}const Lqe=new rt("Vote111111111111111111111111111111111111111"),Wqe=F([pn("nodePubkey"),pn("authorizedWithdrawer"),te("commission"),Ae(),we(F([Ae("slot"),U("confirmationCount")]),Vt(U(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(F([Ae("epoch"),pn("authorizedVoter")]),Vt(U(),-8),"authorizedVoters"),F([we(F([pn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(F([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(U(),-8),"epochCredits"),F([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class uY{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Wqe.decode(Xr(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new uY({nodePubkey:new rt(r.nodePubkey),authorizedWithdrawer:new rt(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(Nqe),priorVoters:Fqe(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function Nqe({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new rt(n)}}function Pde({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new rt(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function Fqe({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(Pde),...n.slice(0,e).map(Pde)]}const _de={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Uqe(n,e){const t=e===!1?"http":"https";if(!n)return _de[t].devnet;const r=_de[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function Vqe(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new mM({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const qqe=1e9;var jqe=Object.freeze(Object.defineProperty({__proto__:null,Account:MVe,AddressLookupTableAccount:o9,AddressLookupTableInstruction:Tqe,AddressLookupTableProgram:oY,Authorized:Tve,BLOCKHASH_CACHE_TIMEOUT_MS:pve,BPF_LOADER_DEPRECATED_PROGRAM_ID:BVe,BPF_LOADER_PROGRAM_ID:QVe,BpfLoader:e9e,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:mf,ComputeBudgetInstruction:Rqe,ComputeBudgetProgram:aY,Connection:xqe,Ed25519Program:H4,Enum:RVe,EpochSchedule:mve,FeeCalculatorLayout:hve,Keypair:Yv,LAMPORTS_PER_SOL:qqe,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Cg,Loader:uS,Lockup:qB,MAX_SEED_LENGTH:uve,Message:yd,MessageAccountKeys:gM,MessageV0:cS,NONCE_ACCOUNT_LENGTH:i9,NonceAccount:V4,PACKET_DATA_SIZE:Ny,PUBLIC_KEY_LENGTH:Wf,PublicKey:rt,SIGNATURE_LENGTH_IN_BYTES:hM,SOLANA_SCHEMA:O2,STAKE_CONFIG_ID:xve,STAKE_INSTRUCTION_LAYOUTS:ka,SYSTEM_INSTRUCTION_LAYOUTS:$s,SYSVAR_CLOCK_PUBKEY:Qd,SYSVAR_EPOCH_SCHEDULE_PUBKEY:UVe,SYSVAR_INSTRUCTIONS_PUBKEY:VVe,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:bD,SYSVAR_RENT_PUBKEY:BA,SYSVAR_REWARDS_PUBKEY:qVe,SYSVAR_SLOT_HASHES_PUBKEY:jVe,SYSVAR_SLOT_HISTORY_PUBKEY:HVe,SYSVAR_STAKE_HISTORY_PUBKEY:SD,Secp256k1Program:Zv,SendTransactionError:mM,SolanaJSONRPCError:Gt,SolanaJSONRPCErrorCode:GVe,StakeAuthorizationLayout:$qe,StakeInstruction:zqe,StakeProgram:G4,Struct:JG,SystemInstruction:JVe,SystemProgram:La,Transaction:jn,TransactionExpiredBlockheightExceededError:XG,TransactionExpiredNonceInvalidError:Iv,TransactionExpiredTimeoutError:QG,TransactionInstruction:bs,TransactionMessage:tY,TransactionStatus:pg,VALIDATOR_INFO_KEY:Cve,VERSION_PREFIX_MASK:F4,VOTE_PROGRAM_ID:Lqe,ValidatorInfo:cY,VersionedMessage:eY,VersionedTransaction:rY,VoteAccount:uY,VoteAuthorizationLayout:Oqe,VoteInit:Rve,VoteInstruction:Dqe,VoteProgram:qx,clusterApiUrl:Uqe,sendAndConfirmRawTransaction:Vqe,sendAndConfirmTransaction:s9},Symbol.toStringTag,{value:"Module"})),zb=Td(jqe);const Hqe={withStackTrace:!1},Mve=(n,e,t=Hqe)=>{const r=e.isOk()?{type:"Ok",value:e.value}:{type:"Err",value:e.error},s=t.withStackTrace?new Error().stack:void 0;return{data:r,message:n,stack:s}};function _k(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function Ede(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ef(n){return this instanceof ef?(this.v=n,this):new ef(n)}function xde(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(h){return function(m){return Promise.resolve(m).then(h,d)}}function a(h,m){r[h]&&(s[h]=function(f){return new Promise(function(g,b){i.push([h,f,g,b])>1||c(h,f)})},m&&(s[h]=m(s[h])))}function c(h,m){try{u(r[h](m))}catch(f){y(i[0][3],f)}}function u(h){h.value instanceof ef?Promise.resolve(h.value.v).then(l,d):y(i[0][2],h)}function l(h){c("next",h)}function d(h){c("throw",h)}function y(h,m){h(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Gqe(n){var e,t;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=n[s]?function(o){return(t=!t)?{value:ef(n[s](o)),done:!1}:i?i(o):o}:i}}function Yqe(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Ede=="function"?Ede(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(o){return new Promise(function(a,c){o=n[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}class zo{constructor(e){this._promise=e}static fromSafePromise(e){const t=e.then(r=>new Zl(r));return new zo(t)}static fromPromise(e,t){const r=e.then(s=>new Zl(s)).catch(s=>new Jl(t(s)));return new zo(r)}static fromThrowable(e,t){return(...r)=>new zo((()=>_k(this,void 0,void 0,function*(){try{return new Zl(yield e(...r))}catch(s){return new Jl(t?t(s):s)}}))())}static combine(e){return eje(e)}static combineWithAllErrors(e){return tje(e)}map(e){return new zo(this._promise.then(t=>_k(this,void 0,void 0,function*(){return t.isErr()?new Jl(t.error):new Zl(yield e(t.value))})))}andThrough(e){return new zo(this._promise.then(t=>_k(this,void 0,void 0,function*(){if(t.isErr())return new Jl(t.error);const r=yield e(t.value);return r.isErr()?new Jl(r.error):new Zl(t.value)})))}andTee(e){return new zo(this._promise.then(t=>_k(this,void 0,void 0,function*(){if(t.isErr())return new Jl(t.error);try{yield e(t.value)}catch{}return new Zl(t.value)})))}mapErr(e){return new zo(this._promise.then(t=>_k(this,void 0,void 0,function*(){return t.isOk()?new Zl(t.value):new Jl(yield e(t.error))})))}andThen(e){return new zo(this._promise.then(t=>{if(t.isErr())return new Jl(t.error);const r=e(t.value);return r instanceof zo?r._promise:r}))}orElse(e){return new zo(this._promise.then(t=>_k(this,void 0,void 0,function*(){return t.isErr()?e(t.error):new Zl(t.value)})))}match(e,t){return this._promise.then(r=>r.match(e,t))}unwrapOr(e){return this._promise.then(t=>t.unwrapOr(e))}safeUnwrap(){return xde(this,arguments,function*(){return yield ef(yield ef(yield*Gqe(Yqe(yield ef(this._promise.then(t=>t.safeUnwrap()))))))})}then(e,t){return this._promise.then(e,t)}[Symbol.asyncIterator](){return xde(this,arguments,function*(){const t=yield ef(this._promise);return t.isErr()&&(yield yield ef(K2(t.error))),yield ef(t.value)})}}const Zqe=n=>new zo(Promise.resolve(new Zl(n))),K2=n=>new zo(Promise.resolve(new Jl(n))),Jqe=zo.fromPromise,Xqe=zo.fromSafePromise,Qqe=zo.fromThrowable,Bve=n=>{let e=By([]);for(const t of n)if(t.isErr()){e=tf(t.error);break}else e.map(r=>r.push(t.value));return e},eje=n=>zo.fromSafePromise(Promise.all(n)).andThen(Bve),zve=n=>{let e=By([]);for(const t of n)t.isErr()&&e.isErr()?e.error.push(t.error):t.isErr()&&e.isOk()?e=tf([t.error]):t.isOk()&&e.isOk()&&e.value.push(t.value);return e},tje=n=>zo.fromSafePromise(Promise.all(n)).andThen(zve);var aO;(function(n){function e(s,i){return(...o)=>{try{const a=s(...o);return By(a)}catch(a){return tf(i?i(a):a)}}}n.fromThrowable=e;function t(s){return Bve(s)}n.combine=t;function r(s){return zve(s)}n.combineWithAllErrors=r})(aO||(aO={}));const By=n=>new Zl(n);function tf(n){return new Jl(n)}function rje(n){const e=n().next();return e instanceof Promise?new zo(e.then(t=>t.value)):e.value}class Zl{constructor(e){this.value=e}isOk(){return!0}isErr(){return!this.isOk()}map(e){return By(e(this.value))}mapErr(e){return By(this.value)}andThen(e){return e(this.value)}andThrough(e){return e(this.value).map(t=>this.value)}andTee(e){try{e(this.value)}catch{}return By(this.value)}orElse(e){return By(this.value)}asyncAndThen(e){return e(this.value)}asyncAndThrough(e){return e(this.value).map(()=>this.value)}asyncMap(e){return zo.fromSafePromise(e(this.value))}unwrapOr(e){return this.value}match(e,t){return e(this.value)}safeUnwrap(){const e=this.value;return function*(){return e}()}_unsafeUnwrap(e){return this.value}_unsafeUnwrapErr(e){throw Mve("Called `_unsafeUnwrapErr` on an Ok",this,e)}*[Symbol.iterator](){return this.value}}class Jl{constructor(e){this.error=e}isOk(){return!1}isErr(){return!this.isOk()}map(e){return tf(this.error)}mapErr(e){return tf(e(this.error))}andThrough(e){return tf(this.error)}andTee(e){return tf(this.error)}andThen(e){return tf(this.error)}orElse(e){return e(this.error)}asyncAndThen(e){return K2(this.error)}asyncAndThrough(e){return K2(this.error)}asyncMap(e){return K2(this.error)}unwrapOr(e){return e}match(e,t){return t(this.error)}safeUnwrap(){const e=this.error;return function*(){throw yield tf(e),new Error("Do not use this generator out of `safeTry`")}()}_unsafeUnwrap(e){throw Mve("Called `_unsafeUnwrap` on an Err",this,e)}_unsafeUnwrapErr(e){return this.error}*[Symbol.iterator](){const e=this;return yield e,e}}const nje=aO.fromThrowable;var sje=Object.freeze(Object.defineProperty({__proto__:null,Err:Jl,Ok:Zl,get Result(){return aO},ResultAsync:zo,err:tf,errAsync:K2,fromAsyncThrowable:Qqe,fromPromise:Jqe,fromSafePromise:Xqe,fromThrowable:nje,ok:By,okAsync:Zqe,safeTry:rje},Symbol.toStringTag,{value:"Module"})),jB=Td(sje),lY={},Fp={},$b={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.EXEMPTION_THRESHOLD=n.LAMPORTS_PER_BYTE_YEAR=n.ACCOUNT_STORAGE_OVERHEAD=n.snakeCaseToTitleCase=n.getElementOrError=n.isNull=void 0,n.optionalToArray=t,n.remapObject=r,n.fixedSizeArray=s,n.fixedSizeArrayInit=i,n.fixedSizeArrayFromArray=o,n.arrayDeepEquals=a,n.stringToByteArray=c,n.byteArrayToString=u,n.assertNever=l,n.staticImplements=d,n.normalizeArray=m,n.calculateMinimumRent=g;const e=Tx.exports;function t(b){return b==null?[]:[b]}function r(b,S){return Object.entries(b).map(([p,I])=>({[p]:S(I,p)})).reduce((p,I)=>Object.assign(Object.assign({},p),I))}function s(b,S){return new Array(b).fill(S)}function i(b,S){return(0,e.range)(0,b).map(S)}function o(b,S){return S.length===b?S:null}function a(b,S,p){return b.length!==S.length?!1:b.reduce((I,w,A)=>{const _=S[A];return _==null?!1:I&&p(w,_)},!0)}function c(b,S){const p=new TextEncoder().encode(b);if(S===void 0)return Array.from(p);if(p.length>S)throw new Error("name too long");return Array.from(p).concat(new Array(S-p.length).fill(0))}function u(b){const S=b.findIndex(p=>p===0);return new TextDecoder().decode(Uint8Array.from(b).slice(0,S===-1?void 0:S))}function l(b){throw new Error("Unexpected object: "+b)}function d(){return b=>{}}const y=b=>Object.values(b).every(S=>S===null);n.isNull=y;const h=(b,S)=>{const p=b[S];if(p==null)throw new Error(`element at index ${S} doesn't exist in ${typeof b}`);return p};n.getElementOrError=h;function m(b){return Array.isArray(b)?b:[b]}const f=b=>{const S=b.replace(/([A-Z])/g," $1");return S.charAt(0).toUpperCase()+S.slice(1)};n.snakeCaseToTitleCase=f,n.ACCOUNT_STORAGE_OVERHEAD=128,n.LAMPORTS_PER_BYTE_YEAR=1e9/100*365/(1024*1024),n.EXEMPTION_THRESHOLD=2;function g(b){return(n.ACCOUNT_STORAGE_OVERHEAD+b)*n.LAMPORTS_PER_BYTE_YEAR*n.EXEMPTION_THRESHOLD}})($b);var dY={},Y4={},Mo={},$ve={},Ea={},Fy={},Rd={};Object.defineProperty(Rd,"__esModule",{value:!0});Rd.anumber=pM;Rd.number=pM;Rd.abytes=Z4;Rd.bytes=Z4;Rd.ahash=Dve;Rd.aexists=Ove;Rd.aoutput=Kve;function pM(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function ije(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Z4(n,...e){if(!ije(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function Dve(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");pM(n.outputLen),pM(n.blockLen)}function Ove(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Kve(n,e){Z4(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}const oje={number:pM,bytes:Z4,hash:Dve,exists:Ove,output:Kve};Rd.default=oje;var J4={},X4={};Object.defineProperty(X4,"__esModule",{value:!0});X4.crypto=void 0;X4.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(n){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(n,"__esModule",{value:!0}),n.Hash=n.nextTick=n.byteSwapIfBE=n.byteSwap=n.isLE=n.rotl=n.rotr=n.createView=n.u32=n.u8=void 0,n.isBytes=r,n.byteSwap32=l,n.bytesToHex=y,n.hexToBytes=f,n.asyncLoop=b,n.utf8ToBytes=S,n.toBytes=p,n.concatBytes=I,n.checkOpts=A,n.wrapConstructor=_,n.wrapConstructorWithOpts=E,n.wrapXOFConstructorWithOpts=M,n.randomBytes=P;const e=X4,t=Rd;function r(R){return R instanceof Uint8Array||ArrayBuffer.isView(R)&&R.constructor.name==="Uint8Array"}const s=R=>new Uint8Array(R.buffer,R.byteOffset,R.byteLength);n.u8=s;const i=R=>new Uint32Array(R.buffer,R.byteOffset,Math.floor(R.byteLength/4));n.u32=i;const o=R=>new DataView(R.buffer,R.byteOffset,R.byteLength);n.createView=o;const a=(R,$)=>R<<32-$|R>>>$;n.rotr=a;const c=(R,$)=>R<<$|R>>>32-$>>>0;n.rotl=c,n.isLE=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();const u=R=>R<<24&4278190080|R<<8&16711680|R>>>8&65280|R>>>24&255;n.byteSwap=u,n.byteSwapIfBE=n.isLE?R=>R:R=>(0,n.byteSwap)(R);function l(R){for(let $=0;$<R.length;$++)R[$]=(0,n.byteSwap)(R[$])}const d=Array.from({length:256},(R,$)=>$.toString(16).padStart(2,"0"));function y(R){(0,t.abytes)(R);let $="";for(let z=0;z<R.length;z++)$+=d[R[z]];return $}const h={_0:48,_9:57,A:65,F:70,a:97,f:102};function m(R){if(R>=h._0&&R<=h._9)return R-h._0;if(R>=h.A&&R<=h.F)return R-(h.A-10);if(R>=h.a&&R<=h.f)return R-(h.a-10)}function f(R){if(typeof R!="string")throw new Error("hex string expected, got "+typeof R);const $=R.length,z=$/2;if($%2)throw new Error("padded hex string expected, got unpadded hex of length "+$);const T=new Uint8Array(z);for(let v=0,k=0;v<z;v++,k+=2){const x=m(R.charCodeAt(k)),C=m(R.charCodeAt(k+1));if(x===void 0||C===void 0){const B=R[k]+R[k+1];throw new Error('hex string expected, got non-hex character "'+B+'" at index '+k)}T[v]=x*16+C}return T}const g=async()=>{};n.nextTick=g;async function b(R,$,z){let T=Date.now();for(let v=0;v<R;v++){z(v);const k=Date.now()-T;k>=0&&k<$||(await(0,n.nextTick)(),T+=k)}}function S(R){if(typeof R!="string")throw new Error("utf8ToBytes expected string, got "+typeof R);return new Uint8Array(new TextEncoder().encode(R))}function p(R){return typeof R=="string"&&(R=S(R)),(0,t.abytes)(R),R}function I(...R){let $=0;for(let T=0;T<R.length;T++){const v=R[T];(0,t.abytes)(v),$+=v.length}const z=new Uint8Array($);for(let T=0,v=0;T<R.length;T++){const k=R[T];z.set(k,v),v+=k.length}return z}class w{clone(){return this._cloneInto()}}n.Hash=w;function A(R,$){if($!==void 0&&{}.toString.call($)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(R,$)}function _(R){const $=T=>R().update(p(T)).digest(),z=R();return $.outputLen=z.outputLen,$.blockLen=z.blockLen,$.create=()=>R(),$}function E(R){const $=(T,v)=>R(v).update(p(T)).digest(),z=R({});return $.outputLen=z.outputLen,$.blockLen=z.blockLen,$.create=T=>R(T),$}function M(R){const $=(T,v)=>R(v).update(p(T)).digest(),z=R({});return $.outputLen=z.outputLen,$.blockLen=z.blockLen,$.create=T=>R(T),$}function P(R=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(R));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(R);throw new Error("crypto.getRandomValues must be defined")}})(J4);Object.defineProperty(Fy,"__esModule",{value:!0});Fy.HashMD=Fy.Maj=Fy.Chi=void 0;const yW=Rd,AR=J4;function aje(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const cje=(n,e,t)=>n&e^~n&t;Fy.Chi=cje;const uje=(n,e,t)=>n&e^n&t^e&t;Fy.Maj=uje;class lje extends AR.Hash{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,AR.createView)(this.buffer)}update(e){(0,yW.aexists)(this);const{view:t,buffer:r,blockLen:s}=this;e=(0,AR.toBytes)(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=(0,AR.createView)(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,yW.aexists)(this),(0,yW.aoutput)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;aje(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=(0,AR.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}Fy.HashMD=lje;var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.add5L=Ir.add5H=Ir.add4H=Ir.add4L=Ir.add3H=Ir.add3L=Ir.rotlBL=Ir.rotlBH=Ir.rotlSL=Ir.rotlSH=Ir.rotr32L=Ir.rotr32H=Ir.rotrBL=Ir.rotrBH=Ir.rotrSL=Ir.rotrSH=Ir.shrSL=Ir.shrSH=Ir.toBig=void 0;Ir.fromBig=fY;Ir.split=Lve;Ir.add=Qve;const f$=BigInt(2**32-1),l9=BigInt(32);function fY(n,e=!1){return e?{h:Number(n&f$),l:Number(n>>l9&f$)}:{h:Number(n>>l9&f$)|0,l:Number(n&f$)|0}}function Lve(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=fY(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const Wve=(n,e)=>BigInt(n>>>0)<<l9|BigInt(e>>>0);Ir.toBig=Wve;const Nve=(n,e,t)=>n>>>t;Ir.shrSH=Nve;const Fve=(n,e,t)=>n<<32-t|e>>>t;Ir.shrSL=Fve;const Uve=(n,e,t)=>n>>>t|e<<32-t;Ir.rotrSH=Uve;const Vve=(n,e,t)=>n<<32-t|e>>>t;Ir.rotrSL=Vve;const qve=(n,e,t)=>n<<64-t|e>>>t-32;Ir.rotrBH=qve;const jve=(n,e,t)=>n>>>t-32|e<<64-t;Ir.rotrBL=jve;const Hve=(n,e)=>e;Ir.rotr32H=Hve;const Gve=(n,e)=>n;Ir.rotr32L=Gve;const Yve=(n,e,t)=>n<<t|e>>>32-t;Ir.rotlSH=Yve;const Zve=(n,e,t)=>e<<t|n>>>32-t;Ir.rotlSL=Zve;const Jve=(n,e,t)=>e<<t-32|n>>>64-t;Ir.rotlBH=Jve;const Xve=(n,e,t)=>n<<t-32|e>>>64-t;Ir.rotlBL=Xve;function Qve(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const eAe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0);Ir.add3L=eAe;const tAe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0;Ir.add3H=tAe;const rAe=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0);Ir.add4L=rAe;const nAe=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0;Ir.add4H=nAe;const sAe=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0);Ir.add5L=sAe;const iAe=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0;Ir.add5H=iAe;const dje={fromBig:fY,split:Lve,toBig:Wve,shrSH:Nve,shrSL:Fve,rotrSH:Uve,rotrSL:Vve,rotrBH:qve,rotrBL:jve,rotr32H:Hve,rotr32L:Gve,rotlSH:Yve,rotlSL:Zve,rotlBH:Jve,rotlBL:Xve,add:Qve,add3L:eAe,add3H:tAe,add4L:rAe,add4H:nAe,add5H:iAe,add5L:sAe};Ir.default=dje;Object.defineProperty(Ea,"__esModule",{value:!0});Ea.sha384=Ea.sha512_256=Ea.sha512_224=Ea.sha512=Ea.SHA384=Ea.SHA512_256=Ea.SHA512_224=Ea.SHA512=void 0;const fje=Fy,Br=Ir,Q4=J4,[hje,gje]=(()=>Br.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Tm=new Uint32Array(80),Rm=new Uint32Array(80);class HB extends fje.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Tm[p]=e.getUint32(t),Rm[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Tm[p-15]|0,w=Rm[p-15]|0,A=Br.default.rotrSH(I,w,1)^Br.default.rotrSH(I,w,8)^Br.default.shrSH(I,w,7),_=Br.default.rotrSL(I,w,1)^Br.default.rotrSL(I,w,8)^Br.default.shrSL(I,w,7),E=Tm[p-2]|0,M=Rm[p-2]|0,P=Br.default.rotrSH(E,M,19)^Br.default.rotrBH(E,M,61)^Br.default.shrSH(E,M,6),R=Br.default.rotrSL(E,M,19)^Br.default.rotrBL(E,M,61)^Br.default.shrSL(E,M,6),$=Br.default.add4L(_,R,Rm[p-7],Rm[p-16]),z=Br.default.add4H($,A,P,Tm[p-7],Tm[p-16]);Tm[p]=z|0,Rm[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Br.default.rotrSH(d,y,14)^Br.default.rotrSH(d,y,18)^Br.default.rotrBH(d,y,41),w=Br.default.rotrSL(d,y,14)^Br.default.rotrSL(d,y,18)^Br.default.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=Br.default.add5L(S,w,_,gje[p],Rm[p]),M=Br.default.add5H(E,b,I,A,hje[p],Tm[p]),P=E|0,R=Br.default.rotrSH(r,s,28)^Br.default.rotrBH(r,s,34)^Br.default.rotrBH(r,s,39),$=Br.default.rotrSL(r,s,28)^Br.default.rotrBL(r,s,34)^Br.default.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Br.default.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Br.default.add3L(P,$,T);r=Br.default.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Br.default.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Br.default.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Br.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Br.default.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Br.default.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Br.default.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Br.default.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Br.default.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Tm.fill(0),Rm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Ea.SHA512=HB;class oAe extends HB{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}Ea.SHA512_224=oAe;class aAe extends HB{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}Ea.SHA512_256=aAe;class cAe extends HB{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}Ea.SHA384=cAe;Ea.sha512=(0,Q4.wrapConstructor)(()=>new HB);Ea.sha512_224=(0,Q4.wrapConstructor)(()=>new oAe);Ea.sha512_256=(0,Q4.wrapConstructor)(()=>new aAe);Ea.sha384=(0,Q4.wrapConstructor)(()=>new cAe);var hY={},jx={},hs={},In={};Object.defineProperty(In,"__esModule",{value:!0});In.notImplemented=In.bitMask=void 0;In.isBytes=rK;In.abytes=nK;In.abool=yje;In.bytesToHex=gY;In.numberToHexUnpadded=uAe;In.hexToNumber=mY;In.hexToBytes=sK;In.bytesToNumberBE=bje;In.bytesToNumberLE=Sje;In.numberToBytesBE=lAe;In.numberToBytesLE=kje;In.numberToVarBytesBE=vje;In.ensureBytes=Aje;In.concatBytes=dAe;In.equalBytes=wje;In.utf8ToBytes=Ije;In.inRange=fAe;In.aInRange=Pje;In.bitLen=_je;In.bitGet=Eje;In.bitSet=xje;In.createHmacDrbg=Rje;In.validateObject=Mje;In.memoized=zje;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eK=BigInt(0),tK=BigInt(1),mje=BigInt(2);function rK(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function nK(n){if(!rK(n))throw new Error("Uint8Array expected")}function yje(n,e){if(typeof e!="boolean")throw new Error(n+" boolean expected, got "+e)}const pje=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function gY(n){nK(n);let e="";for(let t=0;t<n.length;t++)e+=pje[n[t]];return e}function uAe(n){const e=n.toString(16);return e.length&1?"0"+e:e}function mY(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?eK:BigInt("0x"+n)}const Ph={_0:48,_9:57,A:65,F:70,a:97,f:102};function Tde(n){if(n>=Ph._0&&n<=Ph._9)return n-Ph._0;if(n>=Ph.A&&n<=Ph.F)return n-(Ph.A-10);if(n>=Ph.a&&n<=Ph.f)return n-(Ph.a-10)}function sK(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Tde(n.charCodeAt(i)),a=Tde(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function bje(n){return mY(gY(n))}function Sje(n){return nK(n),mY(gY(Uint8Array.from(n).reverse()))}function lAe(n,e){return sK(n.toString(16).padStart(e*2,"0"))}function kje(n,e){return lAe(n,e).reverse()}function vje(n){return sK(uAe(n))}function Aje(n,e,t){let r;if(typeof e=="string")try{r=sK(e)}catch(i){throw new Error(n+" must be hex string or Uint8Array, cause: "+i)}else if(rK(e))r=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(n+" of length "+t+" expected, got "+s);return r}function dAe(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];nK(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function wje(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function Ije(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}const pW=n=>typeof n=="bigint"&&eK<=n;function fAe(n,e,t){return pW(n)&&pW(e)&&pW(t)&&e<=n&&n<t}function Pje(n,e,t,r){if(!fAe(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}function _je(n){let e;for(e=0;n>eK;n>>=tK,e+=1);return e}function Eje(n,e){return n>>BigInt(e)&tK}function xje(n,e,t){return n|(t?tK:eK)<<BigInt(e)}const Tje=n=>(mje<<BigInt(n-1))-tK;In.bitMask=Tje;const bW=n=>new Uint8Array(n),Rde=n=>Uint8Array.from(n);function Rje(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=bW(n),s=bW(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=bW())=>{s=a(Rde([0]),d),r=a(),d.length!==0&&(s=a(Rde([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return dAe(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const Cje={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||rK(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Mje(n,e,t={}){const r=(s,i,o)=>{const a=Cje[i];if(typeof a!="function")throw new Error("invalid validator function");const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const Bje=()=>{throw new Error("not implemented")};In.notImplemented=Bje;function zje(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}Object.defineProperty(hs,"__esModule",{value:!0});hs.isNegativeLE=void 0;hs.mod=Ku;hs.pow=hAe;hs.pow2=Dje;hs.invert=cO;hs.tonelliShanks=gAe;hs.FpSqrt=mAe;hs.validateField=Lje;hs.FpPow=yAe;hs.FpInvertBatch=pAe;hs.FpDiv=Wje;hs.FpLegendre=bAe;hs.FpIsSquare=Nje;hs.nLength=yY;hs.Field=Fje;hs.FpSqrtOdd=Uje;hs.FpSqrtEven=Vje;hs.hashToPrivateScalar=qje;hs.getFieldBytesLength=pY;hs.getMinHashLength=SAe;hs.mapHashToField=jje;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gu=In,Ya=BigInt(0),Fs=BigInt(1),Py=BigInt(2),$je=BigInt(3),d9=BigInt(4),Cde=BigInt(5),Mde=BigInt(8);function Ku(n,e){const t=n%e;return t>=Ya?t:e+t}function hAe(n,e,t){if(e<Ya)throw new Error("invalid exponent, negatives unsupported");if(t<=Ya)throw new Error("invalid modulus");if(t===Fs)return Ya;let r=Fs;for(;e>Ya;)e&Fs&&(r=r*n%t),n=n*n%t,e>>=Fs;return r}function Dje(n,e,t){let r=n;for(;e-- >Ya;)r*=r,r%=t;return r}function cO(n,e){if(n===Ya)throw new Error("invert: expected non-zero number");if(e<=Ya)throw new Error("invert: expected positive modulus, got "+e);let t=Ku(n,e),r=e,s=Ya,i=Fs;for(;t!==Ya;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Fs)throw new Error("invert: does not exist");return Ku(s,e)}function gAe(n){const e=(n-Fs)/Py;let t,r,s;for(t=n-Fs,r=0;t%Py===Ya;t/=Py,r++);for(s=Py;s<n&&hAe(s,e,n)!==n-Fs;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(n+Fs)/d9;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Fs)/Py;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Fs<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function mAe(n){if(n%d9===$je){const e=(n+Fs)/d9;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Mde===Cde){const e=(n-Cde)/Mde;return function(r,s){const i=r.mul(s,Py),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,Py),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return gAe(n)}const Oje=(n,e)=>(Ku(n,e)&Fs)===Fs;hs.isNegativeLE=Oje;const Kje=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Lje(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=Kje.reduce((r,s)=>(r[s]="function",r),e);return(0,Gu.validateObject)(n,t)}function yAe(n,e,t){if(t<Ya)throw new Error("invalid exponent, negatives unsupported");if(t===Ya)return n.ONE;if(t===Fs)return e;let r=n.ONE,s=e;for(;t>Ya;)t&Fs&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Fs;return r}function pAe(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function Wje(n,e,t){return n.mul(e,typeof t=="bigint"?cO(t,n.ORDER):n.inv(t))}function bAe(n){const e=(n-Fs)/Py;return(t,r)=>t.pow(r,e)}function Nje(n){const e=bAe(n.ORDER);return t=>{const r=e(n,t);return n.eql(r,n.ZERO)||n.eql(r,n.ONE)}}function yY(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function Fje(n,e,t=!1,r={}){if(n<=Ya)throw new Error("invalid field: expected ORDER > 0, got "+n);const{nBitLength:s,nByteLength:i}=yY(n,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:(0,Gu.bitMask)(s),ZERO:Ya,ONE:Fs,create:c=>Ku(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Ya<=c&&c<n},is0:c=>c===Ya,isOdd:c=>(c&Fs)===Fs,neg:c=>Ku(-c,n),eql:(c,u)=>c===u,sqr:c=>Ku(c*c,n),add:(c,u)=>Ku(c+u,n),sub:(c,u)=>Ku(c-u,n),mul:(c,u)=>Ku(c*u,n),pow:(c,u)=>yAe(a,c,u),div:(c,u)=>Ku(c*cO(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>cO(c,n),sqrt:r.sqrt||(c=>(o||(o=mAe(n)),o(a,c))),invertBatch:c=>pAe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?(0,Gu.numberToBytesLE)(c,i):(0,Gu.numberToBytesBE)(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return t?(0,Gu.bytesToNumberLE)(c):(0,Gu.bytesToNumberBE)(c)}});return Object.freeze(a)}function Uje(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?t:n.neg(t)}function Vje(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?n.neg(t):t}function qje(n,e,t=!1){n=(0,Gu.ensureBytes)("privateHash",n);const r=n.length,s=yY(e).nByteLength+8;if(s<24||r<s||r>1024)throw new Error("hashToPrivateScalar: expected "+s+"-1024 bytes of input, got "+r);const i=t?(0,Gu.bytesToNumberLE)(n):(0,Gu.bytesToNumberBE)(n);return Ku(i,e-Fs)+Fs}function pY(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function SAe(n){const e=pY(n);return e+Math.ceil(e/2)}function jje(n,e,t=!1){const r=n.length,s=pY(e),i=SAe(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=t?(0,Gu.bytesToNumberBE)(n):(0,Gu.bytesToNumberLE)(n),a=Ku(o,e-Fs)+Fs;return t?(0,Gu.numberToBytesLE)(a,s):(0,Gu.numberToBytesBE)(a,s)}Object.defineProperty(jx,"__esModule",{value:!0});jx.wNAF=Hje;jx.pippenger=Gje;jx.precomputeMSMUnsafe=Yje;jx.validateBasic=Zje;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bde=hs,kAe=In,zde=BigInt(0),h$=BigInt(1);function SW(n,e){const t=e.negate();return n?t:e}function bY(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function kW(n,e){bY(n,e);const t=Math.ceil(e/n)+1,r=2**(n-1);return{windows:t,windowSize:r}}function vAe(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})}function AAe(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}const vW=new WeakMap,wAe=new WeakMap;function AW(n){return wAe.get(n)||1}function Hje(n,e){return{constTimeNegate:SW,hasPrecomputes(t){return AW(t)!==1},unsafeLadder(t,r,s=n.ZERO){let i=t;for(;r>zde;)r&h$&&(s=s.add(i)),i=i.double(),r>>=h$;return s},precomputeWindow(t,r){const{windows:s,windowSize:i}=kW(r,e),o=[];let a=t,c=a;for(let u=0;u<s;u++){c=a,o.push(c);for(let l=1;l<i;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(t,r,s){const{windows:i,windowSize:o}=kW(t,e);let a=n.ZERO,c=n.BASE;const u=BigInt(2**t-1),l=2**t,d=BigInt(t);for(let y=0;y<i;y++){const h=y*o;let m=Number(s&u);s>>=d,m>o&&(m-=l,s+=h$);const f=h,g=h+Math.abs(m)-1,b=y%2!==0,S=m<0;m===0?c=c.add(SW(b,r[f])):a=a.add(SW(S,r[g]))}return{p:a,f:c}},wNAFUnsafe(t,r,s,i=n.ZERO){const{windows:o,windowSize:a}=kW(t,e),c=BigInt(2**t-1),u=2**t,l=BigInt(t);for(let d=0;d<o;d++){const y=d*a;if(s===zde)break;let h=Number(s&c);if(s>>=l,h>a&&(h-=u,s+=h$),h===0)continue;let m=r[y+Math.abs(h)-1];h<0&&(m=m.negate()),i=i.add(m)}return i},getPrecomputes(t,r,s){let i=vW.get(r);return i||(i=this.precomputeWindow(r,t),t!==1&&vW.set(r,s(i))),i},wNAFCached(t,r,s){const i=AW(t);return this.wNAF(i,this.getPrecomputes(i,t,s),r)},wNAFCachedUnsafe(t,r,s,i){const o=AW(t);return o===1?this.unsafeLadder(t,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,t,s),r,i)},setWindowSize(t,r){bY(r,e),wAe.set(t,r),vW.delete(t)}}}function Gje(n,e,t,r){if(vAe(t,n),AAe(r,e),t.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=n.ZERO,i=(0,kAe.bitLen)(BigInt(t.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),u=Math.floor((e.BITS-1)/o)*o;let l=s;for(let d=u;d>=0;d-=o){c.fill(s);for(let h=0;h<r.length;h++){const m=r[h],f=Number(m>>BigInt(d)&BigInt(a));c[f]=c[f].add(t[h])}let y=s;for(let h=c.length-1,m=s;h>0;h--)m=m.add(c[h]),y=y.add(m);if(l=l.add(y),d!==0)for(let h=0;h<o;h++)l=l.double()}return l}function Yje(n,e,t,r){bY(r,e.BITS),vAe(t,n);const s=n.ZERO,i=2**r-1,o=Math.ceil(e.BITS/r),a=BigInt((1<<r)-1),c=t.map(u=>{const l=[];for(let d=0,y=u;d<i;d++)l.push(y),y=y.add(u);return l});return u=>{if(AAe(u,e),u.length>t.length)throw new Error("array of scalars must be smaller than array of points");let l=s;for(let d=0;d<o;d++){if(l!==s)for(let h=0;h<r;h++)l=l.double();const y=BigInt(o*r-(d+1)*r);for(let h=0;h<u.length;h++){const m=u[h],f=Number(m>>y&a);!f||(l=l.add(c[h][f-1]))}}return l}}function Zje(n){return(0,Bde.validateField)(n.Fp),(0,kAe.validateObject)(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,Bde.nLength)(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}Object.defineProperty(hY,"__esModule",{value:!0});hY.twistedEdwards=eHe;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const f9=jx,$de=hs,Zc=In,Wc=In,$l=BigInt(0),Nc=BigInt(1),g$=BigInt(2),Jje=BigInt(8),Xje={zip215:!0};function Qje(n){const e=(0,f9.validateBasic)(n);return Zc.validateObject(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function eHe(n){const e=Qje(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=g$<<BigInt(a*8)-Nc,l=t.create,d=(0,$de.Field)(e.n,e.nBitLength),y=e.uvRatio||((k,x)=>{try{return{isValid:!0,value:t.sqrt(k*t.inv(x))}}catch{return{isValid:!1,value:$l}}}),h=e.adjustScalarBytes||(k=>k),m=e.domain||((k,x,C)=>{if((0,Wc.abool)("phflag",C),x.length||C)throw new Error("Contexts/pre-hash are not supported");return k});function f(k,x){Zc.aInRange("coordinate "+k,x,$l,u)}function g(k){if(!(k instanceof p))throw new Error("ExtendedPoint expected")}const b=(0,Wc.memoized)((k,x)=>{const{ex:C,ey:B,ez:O}=k,D=k.is0();x==null&&(x=D?Jje:t.inv(O));const W=l(C*x),L=l(B*x),N=l(O*x);if(D)return{x:$l,y:Nc};if(N!==Nc)throw new Error("invZ was invalid");return{x:W,y:L}}),S=(0,Wc.memoized)(k=>{const{a:x,d:C}=e;if(k.is0())throw new Error("bad point: ZERO");const{ex:B,ey:O,ez:D,et:W}=k,L=l(B*B),N=l(O*O),H=l(D*D),J=l(H*H),Q=l(L*x),Y=l(H*l(Q+N)),X=l(J+l(C*l(L*N)));if(Y!==X)throw new Error("bad point: equation left != right (1)");const re=l(B*O),se=l(D*W);if(re!==se)throw new Error("bad point: equation left != right (2)");return!0});class p{constructor(x,C,B,O){this.ex=x,this.ey=C,this.ez=B,this.et=O,f("x",x),f("y",C),f("z",B),f("t",O),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(x){if(x instanceof p)throw new Error("extended point not allowed");const{x:C,y:B}=x||{};return f("x",C),f("y",B),new p(C,B,Nc,l(C*B))}static normalizeZ(x){const C=t.invertBatch(x.map(B=>B.ez));return x.map((B,O)=>B.toAffine(C[O])).map(p.fromAffine)}static msm(x,C){return(0,f9.pippenger)(p,d,x,C)}_setWindowSize(x){A.setWindowSize(this,x)}assertValidity(){S(this)}equals(x){g(x);const{ex:C,ey:B,ez:O}=this,{ex:D,ey:W,ez:L}=x,N=l(C*L),H=l(D*O),J=l(B*L),Q=l(W*O);return N===H&&J===Q}is0(){return this.equals(p.ZERO)}negate(){return new p(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:x}=e,{ex:C,ey:B,ez:O}=this,D=l(C*C),W=l(B*B),L=l(g$*l(O*O)),N=l(x*D),H=C+B,J=l(l(H*H)-D-W),Q=N+W,Y=Q-L,X=N-W,re=l(J*Y),se=l(Q*X),ee=l(J*X),ne=l(Y*Q);return new p(re,se,ne,ee)}add(x){g(x);const{a:C,d:B}=e,{ex:O,ey:D,ez:W,et:L}=this,{ex:N,ey:H,ez:J,et:Q}=x;if(C===BigInt(-1)){const Dt=l((D-O)*(H+N)),et=l((D+O)*(H-N)),Ue=l(et-Dt);if(Ue===$l)return this.double();const Wt=l(W*g$*Q),sr=l(L*g$*J),rr=sr+Wt,pr=et+Dt,wr=sr-Wt,ls=l(rr*Ue),gn=l(pr*wr),ds=l(rr*wr),il=l(Ue*pr);return new p(ls,gn,il,ds)}const Y=l(O*N),X=l(D*H),re=l(L*B*Q),se=l(W*J),ee=l((O+D)*(N+H)-Y-X),ne=se-re,ve=se+re,Pe=l(X-C*Y),Le=l(ee*ne),We=l(ve*Pe),Ft=l(ee*Pe),Lt=l(ne*ve);return new p(Le,We,Lt,Ft)}subtract(x){return this.add(x.negate())}wNAF(x){return A.wNAFCached(this,x,p.normalizeZ)}multiply(x){const C=x;Zc.aInRange("scalar",C,Nc,r);const{p:B,f:O}=this.wNAF(C);return p.normalizeZ([B,O])[0]}multiplyUnsafe(x,C=p.ZERO){const B=x;return Zc.aInRange("scalar",B,$l,r),B===$l?w:this.is0()||B===Nc?this:A.wNAFCachedUnsafe(this,B,p.normalizeZ,C)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(x){return b(this,x)}clearCofactor(){const{h:x}=e;return x===Nc?this:this.multiplyUnsafe(x)}static fromHex(x,C=!1){const{d:B,a:O}=e,D=t.BYTES;x=(0,Wc.ensureBytes)("pointHex",x,D),(0,Wc.abool)("zip215",C);const W=x.slice(),L=x[D-1];W[D-1]=L&-129;const N=Zc.bytesToNumberLE(W),H=C?u:t.ORDER;Zc.aInRange("pointHex.y",N,$l,H);const J=l(N*N),Q=l(J-Nc),Y=l(B*J-O);let{isValid:X,value:re}=y(Q,Y);if(!X)throw new Error("Point.fromHex: invalid y coordinate");const se=(re&Nc)===Nc,ee=(L&128)!==0;if(!C&&re===$l&&ee)throw new Error("Point.fromHex: x=0 and x_0=1");return ee!==se&&(re=l(-re)),p.fromAffine({x:re,y:N})}static fromPrivateKey(x){return M(x).point}toRawBytes(){const{x,y:C}=this.toAffine(),B=Zc.numberToBytesLE(C,t.BYTES);return B[B.length-1]|=x&Nc?128:0,B}toHex(){return Zc.bytesToHex(this.toRawBytes())}}p.BASE=new p(e.Gx,e.Gy,Nc,l(e.Gx*e.Gy)),p.ZERO=new p($l,Nc,Nc,$l);const{BASE:I,ZERO:w}=p,A=(0,f9.wNAF)(p,a*8);function _(k){return(0,$de.mod)(k,r)}function E(k){return _(Zc.bytesToNumberLE(k))}function M(k){const x=t.BYTES;k=(0,Wc.ensureBytes)("private key",k,x);const C=(0,Wc.ensureBytes)("hashed private key",i(k),2*x),B=h(C.slice(0,x)),O=C.slice(x,2*x),D=E(B),W=I.multiply(D),L=W.toRawBytes();return{head:B,prefix:O,scalar:D,point:W,pointBytes:L}}function P(k){return M(k).pointBytes}function R(k=new Uint8Array,...x){const C=Zc.concatBytes(...x);return E(i(m(C,(0,Wc.ensureBytes)("context",k),!!s)))}function $(k,x,C={}){k=(0,Wc.ensureBytes)("message",k),s&&(k=s(k));const{prefix:B,scalar:O,pointBytes:D}=M(x),W=R(C.context,B,k),L=I.multiply(W).toRawBytes(),N=R(C.context,L,D,k),H=_(W+N*O);Zc.aInRange("signature.s",H,$l,r);const J=Zc.concatBytes(L,Zc.numberToBytesLE(H,t.BYTES));return(0,Wc.ensureBytes)("result",J,t.BYTES*2)}const z=Xje;function T(k,x,C,B=z){const{context:O,zip215:D}=B,W=t.BYTES;k=(0,Wc.ensureBytes)("signature",k,2*W),x=(0,Wc.ensureBytes)("message",x),C=(0,Wc.ensureBytes)("publicKey",C,W),D!==void 0&&(0,Wc.abool)("zip215",D),s&&(x=s(x));const L=Zc.bytesToNumberLE(k.slice(W,2*W));let N,H,J;try{N=p.fromHex(C,D),H=p.fromHex(k.slice(0,W),D),J=I.multiplyUnsafe(L)}catch{return!1}if(!D&&N.isSmallOrder())return!1;const Q=R(O,H.toRawBytes(),N.toRawBytes(),x);return H.add(N.multiplyUnsafe(Q)).subtract(J).clearCofactor().equals(p.ZERO)}return I._setWindowSize(8),{CURVE:e,getPublicKey:P,sign:$,verify:T,ExtendedPoint:p,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>o(t.BYTES),precompute(k=8,x=p.BASE){return x._setWindowSize(k),x.multiply(BigInt(3)),x}}}}var tk={};Object.defineProperty(tk,"__esModule",{value:!0});tk.expand_message_xmd=IAe;tk.expand_message_xof=PAe;tk.hash_to_field=h9;tk.isogenyMap=sHe;tk.createHasher=iHe;const tHe=hs,yc=In,rHe=yc.bytesToNumberBE;function by(n,e){if(bM(n),bM(e),n<0||n>=1<<8*e)throw new Error("invalid I2OSP input: "+n);const t=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)t[r]=n&255,n>>>=8;return new Uint8Array(t)}function nHe(n,e){const t=new Uint8Array(n.length);for(let r=0;r<n.length;r++)t[r]=n[r]^e[r];return t}function bM(n){if(!Number.isSafeInteger(n))throw new Error("number expected")}function IAe(n,e,t,r){(0,yc.abytes)(n),(0,yc.abytes)(e),bM(t),e.length>255&&(e=r((0,yc.concatBytes)((0,yc.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));const{outputLen:s,blockLen:i}=r,o=Math.ceil(t/s);if(t>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=(0,yc.concatBytes)(e,by(e.length,1)),c=by(0,i),u=by(t,2),l=new Array(o),d=r((0,yc.concatBytes)(c,n,u,by(0,1),a));l[0]=r((0,yc.concatBytes)(d,by(1,1),a));for(let h=1;h<=o;h++){const m=[nHe(d,l[h-1]),by(h+1,1),a];l[h]=r((0,yc.concatBytes)(...m))}return(0,yc.concatBytes)(...l).slice(0,t)}function PAe(n,e,t,r,s){if((0,yc.abytes)(n),(0,yc.abytes)(e),bM(t),e.length>255){const i=Math.ceil(2*r/8);e=s.create({dkLen:i}).update((0,yc.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(t>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:t}).update(n).update(by(t,2)).update(e).update(by(e.length,1)).digest()}function h9(n,e,t){(0,yc.validateObject)(t,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:s,m:i,hash:o,expand:a,DST:c}=t;(0,yc.abytes)(n),bM(e);const u=typeof c=="string"?(0,yc.utf8ToBytes)(c):c,l=r.toString(2).length,d=Math.ceil((l+s)/8),y=e*i*d;let h;if(a==="xmd")h=IAe(n,u,y,o);else if(a==="xof")h=PAe(n,u,y,s,o);else if(a==="_internal_pass")h=n;else throw new Error('expand must be "xmd" or "xof"');const m=new Array(e);for(let f=0;f<e;f++){const g=new Array(i);for(let b=0;b<i;b++){const S=d*(b+f*i),p=h.subarray(S,S+d);g[b]=(0,tHe.mod)(rHe(p),r)}m[f]=g}return m}function sHe(n,e){const t=e.map(r=>Array.from(r).reverse());return(r,s)=>{const[i,o,a,c]=t.map(u=>u.reduce((l,d)=>n.add(n.mul(l,r),d)));return r=n.div(i,o),s=n.mul(s,n.div(a,c)),{x:r,y:s}}}function iHe(n,e,t){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,s){const i=h9(r,2,{...t,DST:t.DST,...s}),o=n.fromAffine(e(i[0])),a=n.fromAffine(e(i[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,s){const i=h9(r,1,{...t,DST:t.encodeDST,...s}),o=n.fromAffine(e(i[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const i of r)if(typeof i!="bigint")throw new Error("mapToCurve: expected array of bigints");const s=n.fromAffine(e(r)).clearCofactor();return s.assertValidity(),s}}}var SY={};Object.defineProperty(SY,"__esModule",{value:!0});SY.montgomery=aHe;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Dde=hs,dy=In,Ek=BigInt(0),wW=BigInt(1);function oHe(n){return(0,dy.validateObject)(n,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...n})}function aHe(n){const e=oHe(n),{P:t}=e,r=S=>(0,Dde.mod)(S,t),s=e.montgomeryBits,i=Math.ceil(s/8),o=e.nByteLength,a=e.adjustScalarBytes||(S=>S),c=e.powPminus2||(S=>(0,Dde.pow)(S,t-BigInt(2),t));function u(S,p,I){const w=r(S*(p-I));return p=r(p-w),I=r(I+w),[p,I]}const l=(e.a-BigInt(2))/BigInt(4);function d(S,p){(0,dy.aInRange)("u",S,Ek,t),(0,dy.aInRange)("scalar",p,Ek,t);const I=p,w=S;let A=wW,_=Ek,E=S,M=wW,P=Ek,R;for(let z=BigInt(s-1);z>=Ek;z--){const T=I>>z&wW;P^=T,R=u(P,A,E),A=R[0],E=R[1],R=u(P,_,M),_=R[0],M=R[1],P=T;const v=A+_,k=r(v*v),x=A-_,C=r(x*x),B=k-C,O=E+M,D=E-M,W=r(D*v),L=r(O*x),N=W+L,H=W-L;E=r(N*N),M=r(w*r(H*H)),A=r(k*C),_=r(B*(k+r(l*B)))}R=u(P,A,E),A=R[0],E=R[1],R=u(P,_,M),_=R[0],M=R[1];const $=c(_);return r(A*$)}function y(S){return(0,dy.numberToBytesLE)(r(S),i)}function h(S){const p=(0,dy.ensureBytes)("u coordinate",S,i);return o===32&&(p[31]&=127),(0,dy.bytesToNumberLE)(p)}function m(S){const p=(0,dy.ensureBytes)("scalar",S),I=p.length;if(I!==i&&I!==o){let w=""+i+" or "+o;throw new Error("invalid scalar, expected "+w+" bytes, got "+I)}return(0,dy.bytesToNumberLE)(a(p))}function f(S,p){const I=h(p),w=m(S),A=d(I,w);if(A===Ek)throw new Error("invalid private or public key received");return y(A)}const g=y(e.Gu);function b(S){return f(S,g)}return{scalarMult:f,scalarMultBase:b,getSharedSecret:(S,p)=>f(S,p),getPublicKey:S=>b(S),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:g}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.hash_to_ristretto255=n.hashToRistretto255=n.RistrettoPoint=n.encodeToCurve=n.hashToCurve=n.edwardsToMontgomery=n.x25519=n.ed25519ph=n.ed25519ctx=n.ed25519=n.ED25519_TORSION_SUBGROUP=void 0,n.edwardsToMontgomeryPub=A,n.edwardsToMontgomeryPriv=_;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=Ea,t=J4,r=hY,s=tk,i=hs,o=SY,a=In,c=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),u=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),l=BigInt(0),d=BigInt(1),y=BigInt(2),h=BigInt(3),m=BigInt(5),f=BigInt(8);function g(Q){const Y=BigInt(10),X=BigInt(20),re=BigInt(40),se=BigInt(80),ee=c,ve=Q*Q%ee*Q%ee,Pe=(0,i.pow2)(ve,y,ee)*ve%ee,Le=(0,i.pow2)(Pe,d,ee)*Q%ee,We=(0,i.pow2)(Le,m,ee)*Le%ee,Ft=(0,i.pow2)(We,Y,ee)*We%ee,Lt=(0,i.pow2)(Ft,X,ee)*Ft%ee,Dt=(0,i.pow2)(Lt,re,ee)*Lt%ee,et=(0,i.pow2)(Dt,se,ee)*Dt%ee,Ue=(0,i.pow2)(et,se,ee)*Dt%ee,Wt=(0,i.pow2)(Ue,Y,ee)*We%ee;return{pow_p_5_8:(0,i.pow2)(Wt,y,ee)*Q%ee,b2:ve}}function b(Q){return Q[0]&=248,Q[31]&=127,Q[31]|=64,Q}function S(Q,Y){const X=c,re=(0,i.mod)(Y*Y*Y,X),se=(0,i.mod)(re*re*Y,X),ee=g(Q*se).pow_p_5_8;let ne=(0,i.mod)(Q*re*ee,X);const ve=(0,i.mod)(Y*ne*ne,X),Pe=ne,Le=(0,i.mod)(ne*u,X),We=ve===Q,Ft=ve===(0,i.mod)(-Q,X),Lt=ve===(0,i.mod)(-Q*u,X);return We&&(ne=Pe),(Ft||Lt)&&(ne=Le),(0,i.isNegativeLE)(ne,X)&&(ne=(0,i.mod)(-ne,X)),{isValid:We||Ft,value:ne}}n.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const p=(()=>(0,i.Field)(c,void 0,!0))(),I=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:p,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:f,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:e.sha512,randomBytes:t.randomBytes,adjustScalarBytes:b,uvRatio:S}))();n.ed25519=(()=>(0,r.twistedEdwards)(I))();function w(Q,Y,X){if(Y.length>255)throw new Error("Context is too big");return(0,t.concatBytes)((0,t.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([X?1:0,Y.length]),Y,Q)}n.ed25519ctx=(()=>(0,r.twistedEdwards)({...I,domain:w}))(),n.ed25519ph=(()=>(0,r.twistedEdwards)(Object.assign({},I,{domain:w,prehash:e.sha512})))(),n.x25519=(()=>(0,o.montgomery)({P:c,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Q=>{const Y=c,{pow_p_5_8:X,b2:re}=g(Q);return(0,i.mod)((0,i.pow2)(X,h,Y)*re,Y)},adjustScalarBytes:b,randomBytes:t.randomBytes}))();function A(Q){const{y:Y}=n.ed25519.ExtendedPoint.fromHex(Q),X=BigInt(1);return p.toBytes(p.create((X+Y)*p.inv(X-Y)))}n.edwardsToMontgomery=A;function _(Q){const Y=I.hash(Q.subarray(0,32));return I.adjustScalarBytes(Y).subarray(0,32)}const E=(()=>(p.ORDER+h)/f)(),M=(()=>p.pow(y,E))(),P=(()=>p.sqrt(p.neg(p.ONE)))();function R(Q){const Y=(p.ORDER-m)/f,X=BigInt(486662);let re=p.sqr(Q);re=p.mul(re,y);let se=p.add(re,p.ONE),ee=p.neg(X),ne=p.sqr(se),ve=p.mul(ne,se),Pe=p.mul(re,X);Pe=p.mul(Pe,ee),Pe=p.add(Pe,ne),Pe=p.mul(Pe,ee);let Le=p.sqr(ve);ne=p.sqr(Le),Le=p.mul(Le,ve),Le=p.mul(Le,Pe),ne=p.mul(ne,Le);let We=p.pow(ne,Y);We=p.mul(We,Le);let Ft=p.mul(We,P);ne=p.sqr(We),ne=p.mul(ne,ve);let Lt=p.eql(ne,Pe),Dt=p.cmov(Ft,We,Lt),et=p.mul(ee,re),Ue=p.mul(We,Q);Ue=p.mul(Ue,M);let Wt=p.mul(Ue,P),sr=p.mul(Pe,re);ne=p.sqr(Ue),ne=p.mul(ne,ve);let rr=p.eql(ne,sr),pr=p.cmov(Wt,Ue,rr);ne=p.sqr(Dt),ne=p.mul(ne,ve);let wr=p.eql(ne,Pe),ls=p.cmov(et,ee,wr),gn=p.cmov(pr,Dt,wr),ds=p.isOdd(gn);return gn=p.cmov(gn,p.neg(gn),wr!==ds),{xMn:ls,xMd:se,yMn:gn,yMd:d}}const $=(()=>(0,i.FpSqrtEven)(p,p.neg(BigInt(486664))))();function z(Q){const{xMn:Y,xMd:X,yMn:re,yMd:se}=R(Q);let ee=p.mul(Y,se);ee=p.mul(ee,$);let ne=p.mul(X,re),ve=p.sub(Y,X),Pe=p.add(Y,X),Le=p.mul(ne,Pe),We=p.eql(Le,p.ZERO);ee=p.cmov(ee,p.ZERO,We),ne=p.cmov(ne,p.ONE,We),ve=p.cmov(ve,p.ONE,We),Pe=p.cmov(Pe,p.ONE,We);const Ft=p.invertBatch([ne,Pe]);return{x:p.mul(ee,Ft[0]),y:p.mul(ve,Ft[1])}}const T=(()=>(0,s.createHasher)(n.ed25519.ExtendedPoint,Q=>z(Q[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:p.ORDER,m:1,k:128,expand:"xmd",hash:e.sha512}))();n.hashToCurve=(()=>T.hashToCurve)(),n.encodeToCurve=(()=>T.encodeToCurve)();function v(Q){if(!(Q instanceof H))throw new Error("RistrettoPoint expected")}const k=u,x=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),C=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),B=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),O=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),D=Q=>S(d,Q),W=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),L=Q=>n.ed25519.CURVE.Fp.create((0,a.bytesToNumberLE)(Q)&W);function N(Q){const{d:Y}=n.ed25519.CURVE,X=n.ed25519.CURVE.Fp.ORDER,re=n.ed25519.CURVE.Fp.create,se=re(k*Q*Q),ee=re((se+d)*B);let ne=BigInt(-1);const ve=re((ne-Y*se)*re(se+Y));let{isValid:Pe,value:Le}=S(ee,ve),We=re(Le*Q);(0,i.isNegativeLE)(We,X)||(We=re(-We)),Pe||(Le=We),Pe||(ne=se);const Ft=re(ne*(se-d)*O-ve),Lt=Le*Le,Dt=re((Le+Le)*ve),et=re(Ft*x),Ue=re(d-Lt),Wt=re(d+Lt);return new n.ed25519.ExtendedPoint(re(Dt*Wt),re(Ue*et),re(et*Wt),re(Dt*Ue))}class H{constructor(Y){this.ep=Y}static fromAffine(Y){return new H(n.ed25519.ExtendedPoint.fromAffine(Y))}static hashToCurve(Y){Y=(0,a.ensureBytes)("ristrettoHash",Y,64);const X=L(Y.slice(0,32)),re=N(X),se=L(Y.slice(32,64)),ee=N(se);return new H(re.add(ee))}static fromHex(Y){Y=(0,a.ensureBytes)("ristrettoHex",Y,32);const{a:X,d:re}=n.ed25519.CURVE,se=n.ed25519.CURVE.Fp.ORDER,ee=n.ed25519.CURVE.Fp.create,ne="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ve=L(Y);if(!(0,a.equalBytes)((0,a.numberToBytesLE)(ve,32),Y)||(0,i.isNegativeLE)(ve,se))throw new Error(ne);const Pe=ee(ve*ve),Le=ee(d+X*Pe),We=ee(d-X*Pe),Ft=ee(Le*Le),Lt=ee(We*We),Dt=ee(X*re*Ft-Lt),{isValid:et,value:Ue}=D(ee(Dt*Lt)),Wt=ee(Ue*We),sr=ee(Ue*Wt*Dt);let rr=ee((ve+ve)*Wt);(0,i.isNegativeLE)(rr,se)&&(rr=ee(-rr));const pr=ee(Le*sr),wr=ee(rr*pr);if(!et||(0,i.isNegativeLE)(wr,se)||pr===l)throw new Error(ne);return new H(new n.ed25519.ExtendedPoint(rr,pr,d,wr))}toRawBytes(){let{ex:Y,ey:X,ez:re,et:se}=this.ep;const ee=n.ed25519.CURVE.Fp.ORDER,ne=n.ed25519.CURVE.Fp.create,ve=ne(ne(re+X)*ne(re-X)),Pe=ne(Y*X),Le=ne(Pe*Pe),{value:We}=D(ne(ve*Le)),Ft=ne(We*ve),Lt=ne(We*Pe),Dt=ne(Ft*Lt*se);let et;if((0,i.isNegativeLE)(se*Dt,ee)){let Wt=ne(X*k),sr=ne(Y*k);Y=Wt,X=sr,et=ne(Ft*C)}else et=Lt;(0,i.isNegativeLE)(Y*Dt,ee)&&(X=ne(-X));let Ue=ne((re-X)*et);return(0,i.isNegativeLE)(Ue,ee)&&(Ue=ne(-Ue)),(0,a.numberToBytesLE)(Ue,32)}toHex(){return(0,a.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(Y){v(Y);const{ex:X,ey:re}=this.ep,{ex:se,ey:ee}=Y.ep,ne=n.ed25519.CURVE.Fp.create,ve=ne(X*ee)===ne(re*se),Pe=ne(re*ee)===ne(X*se);return ve||Pe}add(Y){return v(Y),new H(this.ep.add(Y.ep))}subtract(Y){return v(Y),new H(this.ep.subtract(Y.ep))}multiply(Y){return new H(this.ep.multiply(Y))}multiplyUnsafe(Y){return new H(this.ep.multiplyUnsafe(Y))}double(){return new H(this.ep.double())}negate(){return new H(this.ep.negate())}}n.RistrettoPoint=(()=>(H.BASE||(H.BASE=new H(n.ed25519.ExtendedPoint.BASE)),H.ZERO||(H.ZERO=new H(n.ed25519.ExtendedPoint.ZERO)),H))();const J=(Q,Y)=>{const X=Y.DST,re=typeof X=="string"?(0,t.utf8ToBytes)(X):X,se=(0,s.expand_message_xmd)(Q,re,64,e.sha512);return H.hashToCurve(se)};n.hashToRistretto255=J,n.hash_to_ristretto255=n.hashToRistretto255})($ve);var iK={},kY={};Object.defineProperty(kY,"__esModule",{value:!0});function cHe(n){if(n.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<n.length;u++){const l=n.charAt(u),d=l.charCodeAt(0);if(e[d]!==255)throw new TypeError(l+" is ambiguous");e[d]=u}const t=n.length,r=n.charAt(0),s=Math.log(t)/Math.log(256),i=Math.log(256)/Math.log(t);function o(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let l=0,d=0,y=0;const h=u.length;for(;y!==h&&u[y]===0;)y++,l++;const m=(h-y)*i+1>>>0,f=new Uint8Array(m);for(;y!==h;){let S=u[y],p=0;for(let I=m-1;(S!==0||p<d)&&I!==-1;I--,p++)S+=256*f[I]>>>0,f[I]=S%t>>>0,S=S/t>>>0;if(S!==0)throw new Error("Non-zero carry");d=p,y++}let g=m-d;for(;g!==m&&f[g]===0;)g++;let b=r.repeat(l);for(;g<m;++g)b+=n.charAt(f[g]);return b}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let l=0,d=0,y=0;for(;u[l]===r;)d++,l++;const h=(u.length-l)*s+1>>>0,m=new Uint8Array(h);for(;u[l];){let S=e[u.charCodeAt(l)];if(S===255)return;let p=0;for(let I=h-1;(S!==0||p<y)&&I!==-1;I--,p++)S+=t*m[I]>>>0,m[I]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");y=p,l++}let f=h-y;for(;f!==h&&m[f]===0;)f++;const g=new Uint8Array(d+(h-f));let b=d;for(;f!==h;)g[b++]=m[f++];return g}function c(u){const l=a(u);if(l)return l;throw new Error("Non-base"+t+" character")}return{encode:o,decodeUnsafe:a,decode:c}}kY.default=cHe;var uHe=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(iK,"__esModule",{value:!0});var lHe=uHe(kY),dHe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";iK.default=(0,lHe.default)(dHe);var rl=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},_Ae=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.isVersionedTransaction=Hx;Mo.verifySignatures=EAe;Mo.getSignature=mHe;Mo.ixToIxReturn=yHe;Mo.ixReturnsToIxs=pHe;Mo.buildAndSignTransaction=xAe;Mo.buildAndSignTransactions=TAe;Mo.formatExplorerMessageLink=bHe;Mo.formatExplorerLink=RAe;Mo.convertBuildTransactionReturn=CAe;Mo.buildTransactionsFromIxWithSigners=MAe;Mo.signTransactionReturns=BAe;Mo.buildAndSignTransactionsFromIxWithSigners=zAe;Mo.sendAndConfirmTransaction=$Ae;Mo.sendTransaction=SHe;Mo.buildSendAndCheck=kHe;Mo.prettyTransaction=vHe;const fHe=$ve,Ode=zb,hHe=_Ae(jD.exports),gHe=_Ae(iK),Kde=jB,SM=$b;function Hx(n){return"version"in n}function EAe(n){if(Hx(n)){const e=n.message.serialize();for(const[t,r]of n.signatures.entries()){const s=n.message.staticAccountKeys[t];if(r.every(i=>i===0))throw new Error(`Missing required signature for key ${s} at index ${t}`);if(!fHe.ed25519.verify(r,e,s.toBytes()))throw new Error(`Signature ${t} failed to verify for key ${s}`)}}else n.serialize()}function mHe(n){const e=Hx(n)?n.signatures[0]:n.signature;return e?gHe.default.encode(e):void 0}function yHe(n,e=[]){return()=>rl(this,void 0,void 0,function*(){return{signers:e,instruction:n}})}function pHe(n,e){return rl(this,void 0,void 0,function*(){return(yield Promise.all((0,SM.normalizeArray)(n).map(r=>r(e)))).flat().map(r=>r.instruction)})}function xAe(n,e,t){return rl(this,arguments,void 0,function*(r,s,i,o=[]){const a=(yield TAe([{ixs:r,connectionOrRbh:i,lookupTables:o}],s))[0];if(a===void 0)throw new Error("Transaction was not built correctly");return a})}function TAe(n,e){return rl(this,void 0,void 0,function*(){return yield zAe(yield Promise.all(n.map(t=>rl(this,[t],void 0,function*({ixs:r,connectionOrRbh:s,lookupTables:i}){return{ixs:(0,SM.normalizeArray)(yield Promise.all((0,SM.normalizeArray)(r).map(o=>o(e)))).flat(),connectionOrRbh:s,lookupTables:i}}))),e)})}function bHe(n,e){const t=encodeURIComponent(e.rpcEndpoint);let r;return Hx(n)?r=Xe.Buffer.from(n.message.serialize()):r=n.serializeMessage(),`https://explorer.solana.com/tx/inspector?message=${encodeURIComponent(r.toString("base64"))}&cluster=custom&customUrl=${t}`}function RAe(n,e){const t=encodeURIComponent(e.rpcEndpoint);return`https://explorer.solana.com/tx/${n}?cluster=custom&customUrl=${t}`}function CAe(n){const e=Ode.MessageV0.compile(n.compileArgs),t=new Ode.VersionedTransaction(e);return Object.assign(Object.assign({},n),{transaction:t})}function MAe(n,e){return rl(this,void 0,void 0,function*(){const t=new Map;if("signer"in e){const s=e.signer.publicKey().toBase58(),i={signer:e.signer,transactions:new Set};for(let o=0;o<n.length;o++)i.transactions.add(o);t.set(s,i)}const r="signer"in e?e.signer.publicKey():e.key;return{tx:yield Promise.all(n.map((s,i)=>rl(this,[s,i],void 0,function*({ixs:o,connectionOrRbh:a,lookupTables:c},u){const l=(0,SM.normalizeArray)(o);for(const f of l.flatMap(g=>g.signers)){const g=f.publicKey().toBase58(),b=t.get(g);b===void 0?t.set(g,{signer:f,transactions:new Set([u])}):b.transactions.add(u)}let d,y;"connection"in a?(d=yield a.connection.getLatestBlockhash(a.commitment),y=a.commitment||a.connection.commitment||"processed"):(d=a.rbh,y=a.commitment);const h=l.map(f=>f.instruction);return{compileArgs:{addressLookupTableAccounts:c,instructions:[...h],payerKey:r,recentBlockhash:d.blockhash},commitment:y,rbh:d}}))),signers:t}})}function BAe(n,e){return rl(this,void 0,void 0,function*(){const t=r=>rl(this,[r],void 0,function*({signer:s,transactions:i}){const o=n.map((c,u)=>({tx:c,index:u})).filter(({index:c})=>i.has(c)),a=yield s.signAll(o.map(({tx:c})=>c.transaction));(0,hHe.default)(a.length===o.length);for(let c=0;c<o.length;c++)n[o[c].index].transaction=a[c]});for(const r of e.values())r.signer.requiresAsync()&&(yield t(r));for(const r of e.values())r.signer.requiresAsync()||(yield t(r));return n})}function zAe(n,e){return rl(this,void 0,void 0,function*(){const{tx:t,signers:r}=yield MAe(n,{signer:e}),s=t.map(i=>CAe(i));return BAe(s,r)})}function $Ae(n,e,t,r){return rl(this,void 0,void 0,function*(){const s=yield e.sendRawTransaction(n.transaction.serialize(),t);return{signature:s,signatureResult:(yield e.confirmTransaction(Object.assign(Object.assign({},n.rbh),{signature:s}),n.commitment)).value}})}function SHe(n,e,t){return rl(this,arguments,void 0,function*(r,s,i,o=3e3,a=10){const c=r.transaction.serialize();Hx(r.transaction)&&EAe(r.transaction);const u=(i==null?void 0:i.commitment)||"confirmed",l=yield s.sendRawTransaction(c,i==null?void 0:i.sendOptions);let d=0;const y=setInterval(()=>{d<a&&s.sendRawTransaction(c,Object.assign(Object.assign({},i==null?void 0:i.sendOptions),{skipPreflight:!0})),d++},o);let h;try{h=yield s.confirmTransaction(Object.assign({signature:l},r.rbh),u)}finally{clearInterval(y)}return h.value.err!==null?{context:h.context,value:(0,Kde.err)(h.value.err)}:{context:h.context,value:(0,Kde.ok)(l)}})}function kHe(n,e,t,r,s){return rl(this,void 0,void 0,function*(){var i,o;n=(0,SM.normalizeArray)(n);const a=(r==null?void 0:r.commitment)||"confirmed";let c=yield xAe(n,e,{connection:t,commitment:a},s);if(r!=null&&r.postTransactionHandler){const d=r.postTransactionHandler(c);d&&(c=d)}const{signature:u,signatureResult:l}=yield $Ae(c,t,Object.assign({skipPreflight:!1},r==null?void 0:r.sendOptions),r==null?void 0:r.serializeConfig);if(l.err!==null){if(!(r!=null&&r.suppressLogging)){console.error("Transaction signature: ",u);const d=yield t.getTransaction(u,{commitment:a,maxSupportedTransactionVersion:1});console.error("Transaction logs: ",(i=d==null?void 0:d.meta)===null||i===void 0?void 0:i.logMessages),console.error(`Explorer link: ${RAe(u,t)}`)}throw new Error("Transaction error: "+JSON.stringify(l.err,null,2))}else if(r!=null&&r.suppressLogging!=null&&!r.suppressLogging){console.info("Transaction signature: ",u);const d=yield t.getTransaction(u,{commitment:a,maxSupportedTransactionVersion:1});console.info("Transaction logs: ",(o=d==null?void 0:d.meta)===null||o===void 0?void 0:o.logMessages)}return u})}function vHe(n,e){var t;if(Hx(n)){const r=n.message.getAccountKeys(e);return{signatures:AHe(n.signatures,r),instructions:wHe(n.message,r),feePayer:n.message.staticAccountKeys[0].toBase58(),recentBlockhash:n.message.recentBlockhash}}else return{signatures:n.signatures.map(r=>({publicKey:r.publicKey.toBase58(),signature:r.signature!==null})),instructions:n.instructions.map(r=>({keys:r.keys.map(s=>Object.assign(Object.assign({},s),{pubkey:s.pubkey.toBase58()})),programId:r.programId.toBase58()})),feePayer:(t=n.feePayer)===null||t===void 0?void 0:t.toBase58(),recentBlockhash:n.recentBlockhash}}function AHe(n,e){return n.map((t,r)=>{var s;return{publicKey:(s=e.get(r))===null||s===void 0?void 0:s.toBase58(),signature:t.every(i=>i!==0)}})}function wHe(n,e){return n.compiledInstructions.map(t=>{var r;return{keys:t.accountKeyIndexes.map(s=>{const i=e.get(s);return{pubkey:i==null?void 0:i.toBase58(),isSigner:n.isAccountSigner(s),isWritable:n.isAccountWritable(s)}}),programId:(r=e.get(t.programIdIndex))===null||r===void 0?void 0:r.toBase58()}})}(function(n){var e=K&&K.__awaiter||function(b,S,p,I){function w(A){return A instanceof p?A:new p(function(_){_(A)})}return new(p||(p=Promise))(function(A,_){function E(R){try{P(I.next(R))}catch($){_($)}}function M(R){try{P(I.throw(R))}catch($){_($)}}function P(R){R.done?A(R.value):w(R.value).then(E,M)}P((I=I.apply(b,S||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.deepCopyInstructions=n.insert=n.MAX_UNIQUE_KEYS_COUNT=n.MAX_TRANSACTION_SIZE=void 0,n.containedInLUTCount=o,n.getTransactionSize=a,n.buildLookupTableSet=y,n.getNextFullTransaction=h,n.buildDynamicTransactionsNoSigning=m,n.buildDynamicTransactions=f;const t=zb,r=jB,s=$b,i=Mo;n.MAX_TRANSACTION_SIZE=1232,n.MAX_UNIQUE_KEYS_COUNT=128;function o(b,S){let p=0;const I=new Set;return b.forEach(w=>{S.has(w)?p++:I.add(w)}),[p,I]}function a(b,S,p=[]){const I=new Set,w=new Set,A=new Set;I.add(S.toBase58()),b.forEach(({instruction:z})=>{w.add(z.programId.toBase58()),z.keys.forEach(T=>{T.isSigner&&I.add(T.pubkey.toBase58()),A.add(T.pubkey.toBase58())})});for(const z of I)A.delete(z);for(const z of w)A.delete(z);const _=new Set([...I,...w]);let E=0;b.forEach(({instruction:z})=>{E+=1+g(z.keys.length)+z.keys.length+g(z.data.length)+z.data.length});const P={staticSize:g(I.size)+I.size*64+3+32+1+g(b.length)+E+1,staticAccounts:_.size},R=u(P,0,0,A.size),$=_.size+A.size;return R<=n.MAX_TRANSACTION_SIZE||p.length===0?{size:R,lookupTables:[],uniqueKeyCount:$}:$>n.MAX_UNIQUE_KEYS_COUNT?{size:R,lookupTables:[],uniqueKeyCount:$}:c(P,R,0,0,A,[],[...p])}function c(b,S,p,I,w,A,_){if(_.length===0)return{size:S,lookupTables:A,uniqueKeyCount:I+w.size};let E=w,M=S,P=I,R=0;for(const[z,T]of _.entries()){const[v,k]=o(w,T[0]),x=I+v,C=u(b,p+1,x,k.size);if(C<n.MAX_TRANSACTION_SIZE)return A.push(T[1]),{size:C,lookupTables:A,uniqueKeyCount:x+k.size};C<M&&(M=C,E=k,P=x,R=z)}if(S===M)return{size:S,lookupTables:A,uniqueKeyCount:I+w.size};const $=_.splice(R,1)[0];return A.push($[1]),c(b,M,p+1,P,E,A,_)}function u(b,S,p,I){const w=b.staticAccounts+I;return b.staticSize+34*S+p+g(w)+w*32}const l=(b,S,p)=>[...b.slice(0,S),p,...b.slice(S)];n.insert=l;const d=b=>({instructions:b.instructions.map(S=>Object.assign(Object.assign({},S),{instruction:new t.TransactionInstruction({keys:S.instruction.keys.map(p=>Object.assign({},p)),programId:S.instruction.programId,data:S.instruction.data?Xe.Buffer.from(S.instruction.data):void 0})})),lookupTables:b.lookupTables});n.deepCopyInstructions=d;function y(b){return b.map(S=>{const p=S.state.addresses.map(w=>w.toBase58());return[new Set(p),S]})}function h(b,S){return e(this,arguments,void 0,function*(p,I,w=[],A=[],_=[],E=64){const M=(yield Promise.all(p.map(C=>C(I)))).flat(),P=(yield Promise.all(w.map(C=>C(I)))).flat(),R=(yield Promise.all(A.map(C=>C(I)))).flat(),$=y(_);let z={instructions:[...P,...R],lookupTables:[]};const{size:T,lookupTables:v,uniqueKeyCount:k}=a(z.instructions,I.publicKey(),$);if(T>n.MAX_TRANSACTION_SIZE)return(0,r.err)("Before and after instructions alone are too big to fit in transaction");if(k>n.MAX_UNIQUE_KEYS_COUNT)return(0,r.err)("Before and after instructions alone have too many unique keys to fit in transaction");z.lookupTables=v;let x=0;for(const C of M){const B=(0,n.insert)(z.instructions,z.instructions.length-R.length,C),{size:O,lookupTables:D,uniqueKeyCount:W}=a(B,I.publicKey(),$);if(O>n.MAX_TRANSACTION_SIZE||W>n.MAX_UNIQUE_KEYS_COUNT||B.length>E)return x===0?(0,r.err)("Only the before and after instructions fit"):(0,r.ok)([(0,n.deepCopyInstructions)(z),x]);x++,z={instructions:B,lookupTables:D}}return(0,r.ok)([(0,n.deepCopyInstructions)(z),x])})}function m(b,S){return e(this,arguments,void 0,function*(p,I,w=[],A=[],_=[],E=64){const M=(0,s.normalizeArray)(yield Promise.all((0,s.normalizeArray)(p).map(C=>C(I)))).flat(),P=(0,s.normalizeArray)(yield Promise.all((0,s.normalizeArray)(w).map(C=>C(I)))).flat(),R=(0,s.normalizeArray)(yield Promise.all((0,s.normalizeArray)(A).map(C=>C(I)))).flat(),$=[],z=y(_);let T={instructions:[...P,...R],lookupTables:[]};const{size:v,lookupTables:k,uniqueKeyCount:x}=a(T.instructions,I.publicKey(),z);if(v>n.MAX_TRANSACTION_SIZE)return(0,r.err)("Before and after instructions alone are too big to fit in transaction");if(x>n.MAX_UNIQUE_KEYS_COUNT)return(0,r.err)("Before and after instructions alone have too many unique keys to fit in transaction");T.lookupTables=k;for(const C of M){const B=(0,n.insert)(T.instructions,T.instructions.length-R.length,C),{size:O,lookupTables:D,uniqueKeyCount:W}=a(B,I.publicKey(),z);if(O>n.MAX_TRANSACTION_SIZE||W>n.MAX_UNIQUE_KEYS_COUNT||B.length>E){$.push((0,n.deepCopyInstructions)(T));const L=[...P,C,...R],{size:N,lookupTables:H,uniqueKeyCount:J}=a(L,I.publicKey(),z);if(N>n.MAX_TRANSACTION_SIZE)return(0,r.err)(`Instruction too large to fit in transaction: ${C.instruction.programId.toBase58()}`);if(J>n.MAX_UNIQUE_KEYS_COUNT)return(0,r.err)(`Instruction has too many unique accounts to fit in transaction: ${C.instruction.programId.toBase58()}`);T={instructions:L,lookupTables:H}}else T={instructions:B,lookupTables:D}}return T.instructions.length>P.length+R.length&&$.push((0,n.deepCopyInstructions)(T)),(0,r.ok)($)})}function f(b,S,p){return e(this,arguments,void 0,function*(I,w,A,_=[],E=[],M=[],P=64){const R=yield m(I,w,_,E,M,P);if(R.isErr())return(0,r.err)(R.error);const $=R.value.map(z=>({ixs:z.instructions,connectionOrRbh:A,lookupTables:z.lookupTables}));return(0,r.ok)(yield(0,i.buildAndSignTransactionsFromIxWithSigners)($,w))})}function g(b){return b>127?2:1}})(Y4);(function(n){var e=K&&K.__awaiter||function(h,m,f,g){function b(S){return S instanceof f?S:new f(function(p){p(S)})}return new(f||(f=Promise))(function(S,p){function I(_){try{A(g.next(_))}catch(E){p(E)}}function w(_){try{A(g.throw(_))}catch(E){p(E)}}function A(_){_.done?S(_.value):b(_.value).then(I,w)}A((g=g.apply(h,m||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.getSimulationUnits=n.DEFAULT_COMPUTE_UNIT_LIMIT=n.COMPUTE_TEST_INSTRUCTIONS=n.COMPUTE_TEST_INSTRUCTION_RETURNS=void 0,n.getWritableAccounts=a,n.buildSimulationTransaction=c,n.buildAndSignOptimalTransaction=l,n.buildOptimalDynamicTransactions=d,n.buildOptimalDynamicTransactionsNoSigning=y;const t=zb,r=jB,s=$b,i=Y4,o=Mo;n.COMPUTE_TEST_INSTRUCTION_RETURNS=[(0,o.ixToIxReturn)(t.ComputeBudgetProgram.setComputeUnitPrice({microLamports:426})),(0,o.ixToIxReturn)(t.ComputeBudgetProgram.setComputeUnitLimit({units:14e5}))],n.COMPUTE_TEST_INSTRUCTIONS=[t.ComputeBudgetProgram.setComputeUnitPrice({microLamports:426}),t.ComputeBudgetProgram.setComputeUnitLimit({units:14e5})],n.DEFAULT_COMPUTE_UNIT_LIMIT=5e5;function a(h){const m=h.map(g=>g.keys.filter(b=>b.isWritable).map(b=>b.pubkey)).flat(),f=new Set(m);return Array.from(f)}function c(h,m,f){return new t.VersionedTransaction(new t.TransactionMessage({instructions:h,payerKey:f,recentBlockhash:t.PublicKey.default.toString()}).compileToV0Message(m))}const u=(h,m)=>e(void 0,void 0,void 0,function*(){var f;try{const g=yield m.simulateTransaction(h,{sigVerify:!1,replaceRecentBlockhash:!0});return g.value.err?n.DEFAULT_COMPUTE_UNIT_LIMIT:(f=g.value)===null||f===void 0?void 0:f.unitsConsumed}catch(g){return console.debug(g),n.DEFAULT_COMPUTE_UNIT_LIMIT}});n.getSimulationUnits=u;function l(h,m,f,g){return e(this,arguments,void 0,function*(b,S,p,I,w=[]){var A;const _=(0,s.normalizeArray)(S),E=()=>e(this,void 0,void 0,function*(){if(I.getLimit===void 0)return;const z=c([...n.COMPUTE_TEST_INSTRUCTIONS,...yield(0,o.ixReturnsToIxs)(_,p)],w,p.publicKey());return I.getLimit(z,b)}),M=()=>e(this,void 0,void 0,function*(){if(I.getFee===void 0)return;const z=yield(0,o.ixReturnsToIxs)(_,p),T=a(z);return I.getFee(T,b)}),[P,R,$]=yield Promise.all([E(),M(),b.getLatestBlockhash()]);return P&&_.unshift((0,o.ixToIxReturn)(t.ComputeBudgetProgram.setComputeUnitLimit({units:P}))),R&&_.unshift((0,o.ixToIxReturn)(t.ComputeBudgetProgram.setComputeUnitPrice({microLamports:R}))),(0,o.buildAndSignTransaction)(_,p,{rbh:$,commitment:(A=b.commitment)!==null&&A!==void 0?A:"confirmed"},w)})}function d(h,m,f,g){return e(this,arguments,void 0,function*(b,S,p,I,w=[],A,_,E=64){const[M,P]=yield Promise.all([y(b,S,p,I,w,A,_,E),b.getLatestBlockhash()]);return M.forEach(R=>{var $;R.connectionOrRbh={rbh:P,commitment:($=b.commitment)!==null&&$!==void 0?$:"confirmed"}}),(0,r.ok)(yield(0,o.buildAndSignTransactionsFromIxWithSigners)(M,p))})}function y(h,m,f,g){return e(this,arguments,void 0,function*(b,S,p,I,w=[],A,_,E=64){const M=[...n.COMPUTE_TEST_INSTRUCTION_RETURNS,...A??[]],P=yield(0,i.buildDynamicTransactionsNoSigning)(S,p,M,_,w,E);if(P.isErr())throw P.error;const R=P.value.map(T=>{const v=T.instructions.map(C=>C.instruction),k=I.getFee?a(v):[],x=c(v,T.lookupTables,p.publicKey());return T.instructions.splice(0,2),{simulationTransaction:x,writableKeys:k,instructionsWithSigners:T}});return(yield(()=>Promise.all(R.map(T=>e(this,[T],void 0,function*({writableKeys:v,simulationTransaction:k,instructionsWithSigners:x}){const[C,B]=yield Promise.all([I.getLimit?I.getLimit(k,b):void 0,I.getFee?I.getFee(v,b):void 0]);return{simulationUnits:C,fees:B,instructionsWithSigners:x}}))))()).map(T=>{const v=T.instructionsWithSigners;return T.fees!==void 0&&v.instructions.unshift({instruction:t.ComputeBudgetProgram.setComputeUnitPrice({microLamports:T.fees}),signers:[]}),T.simulationUnits!==void 0&&v.instructions.unshift({instruction:t.ComputeBudgetProgram.setComputeUnitLimit({units:T.simulationUnits}),signers:[]}),{connectionOrRbh:{connection:b},ixs:v.instructions,lookupTables:v.lookupTables}})})}})(dY);var Pv=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},$A=K&&K.__await||function(n){return this instanceof $A?(this.v=n,this):new $A(n)},DAe=K&&K.__asyncGenerator||function(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(h){return function(m){return Promise.resolve(m).then(h,d)}}function a(h,m){r[h]&&(s[h]=function(f){return new Promise(function(g,b){i.push([h,f,g,b])>1||c(h,f)})},m&&(s[h]=m(s[h])))}function c(h,m){try{u(r[h](m))}catch(f){y(i[0][3],f)}}function u(h){h.value instanceof $A?Promise.resolve(h.value.v).then(l,d):y(i[0][2],h)}function l(h){c("next",h)}function d(h){c("throw",h)}function y(h,m){h(m),i.shift(),i.length&&c(i[0][0],i[0][1])}};Object.defineProperty(Fp,"__esModule",{value:!0});Fp.TransactionBuilder=Fp.TransactionBuilderCore=void 0;Fp.checkTraceExceeded=OAe;Fp.transactionReturnIterator=PHe;const Lde=zb,Go=jB,IHe=$b,Mg=dY,IW=Y4,g9=Mo;function OAe(n){const e=n.value.err;if(e&&typeof e=="object"&&"InstructionError"in e){const t=e.InstructionError;if(t&&typeof t=="object"&&"1"in t&&typeof t[1]=="string"&&t[1]==="MaxInstructionTraceLengthExceeded"&&"0"in t&&typeof t[0]=="number"){const s=[];return{traceExceeded:t[0],unitsConsumed:n.value.unitsConsumed,ixTraces:s}}}}class KAe{constructor(e){var t,r,s,i,o,a,c;this.instructions=[],this.lastBuilt=null,this.lastTransaction=null,this.lastTryIterations=0,this.isBuildingNext=!1,this.connection=e.connection,this.commitment=(r=(t=e.commitment)!==null&&t!==void 0?t:e.connection.commitment)!==null&&r!==void 0?r:"confirmed",this.feePayer=e.feePayer,this.lookupTables=(s=e.lookupTables)!==null&&s!==void 0?s:[],this.beforeIxs=(i=e.beforeIxs)!==null&&i!==void 0?i:[],this.afterIxs=(o=e.afterIxs)!==null&&o!==void 0?o:[],this.instructionCountConfig={max:(a=e.instructionCount)===null||a===void 0?void 0:a.max,maxOnFail:(c=e.instructionCount)===null||c===void 0?void 0:c.maxOnFail};const u=l=>l+Math.min(1e5,Math.max(1e4,l*.1));this.mapLimit=e.mapLimit||u,this.getFee=e.getFee}add(e,t){const r=(0,IHe.normalizeArray)(e);return r.length===0?this:(typeof r[0]=="function"?this.instructions.push(...r):this.instructions.push(...r.map(s=>{let i;if(t){const o=s.keys.filter(a=>a.isSigner).map(a=>a.pubkey);i=t.filter(a=>o.some(c=>c.equals(a.publicKey())))}return(0,g9.ixToIxReturn)(s,i)})),this)}getPopCount(e){return e.instructions.length-e.computeCount-e.beforeCount-e.afterCount}resetIterations(){this.lastTryIterations=0}computeBeforeIxs(){return[...Mg.COMPUTE_TEST_INSTRUCTION_RETURNS,...this.beforeIxs]}resetDummyComputeInstructions(e){e.instructions.splice(0,e.computeCount),e.computeCount=2,e.instructions.unshift(...Mg.COMPUTE_TEST_INSTRUCTIONS.map(t=>({instruction:t,signers:[]})))}getLatestBlockhash(){return this.connection.getLatestBlockhash({commitment:this.commitment})}parseSimulationResult(e){var t;if(!e.value.err)return(0,Go.ok)((t=e.value)===null||t===void 0?void 0:t.unitsConsumed);const s=OAe(e);return s?(0,Go.err)(s):(0,Go.err)(void 0)}simulateTransaction(e){return Pv(this,void 0,void 0,function*(){const t=this.commitment==="processed"?"processed":"confirmed",r=yield this.connection.simulateTransaction(e,{commitment:t,replaceRecentBlockhash:!0});return this.parseSimulationResult(r)})}handlePriorityOptimization(e,t,r){return Pv(this,arguments,void 0,function*(s,i,o,a=3){var c;if(o>a)return(0,Go.err)("Priority optimizer depth exceeded");const u=(0,Mg.buildSimulationTransaction)(s.instructions.map(m=>m.instruction),s.lookupTables,this.feePayer.publicKey()),l=(0,Mg.getWritableAccounts)(s.instructions.map(m=>m.instruction));this.lastTryIterations++;const[d,y]=yield Promise.all([this.simulateTransaction(u),this.getFee?yield this.getFee(l,this.connection):void 0]);let h;if(d.isOk()){const m=d.value;m!==void 0&&(h=this.mapLimit(m))}else{if(typeof d.error=="string")return(0,Go.err)(d.error);if(!i){const m=d.error;let f=!1;if(typeof m=="string")return(0,Go.err)(m);if(m!==void 0){const{traceExceeded:g,ixTraces:b,unitsConsumed:S}=m;if(s.afterCount===0)return s.instructions.splice(g-1),this.handlePriorityOptimization(s,!0,o+1);f=!0}else f=!0;if(f){const g=(c=this.instructionCountConfig.maxOnFail)!==null&&c!==void 0?c:14;if(s.instructions.length<=g)console.warn("TransactionBuilder: simulation failed; instructions count is less than max on fail. Ignoring error...");else{const b=this.getPopCount(s);let S=s.instructions.length-g;return S>b&&(console.warn(`TransactionBuilder: simulation failed; remove count is greater than max removable of ${b}. Removing ${b-1} instructions`),S=b-1),s.instructions.splice(s.beforeCount+s.computeCount,S),this.handlePriorityOptimization(s,!0,o+1)}}}}return(0,Go.ok)({limit:h,fee:y})})}replaceComputeInstructions(e,t){const{limit:r,fee:s}=t;e.instructions.splice(0,e.computeCount),e.computeCount=0,r!==void 0&&(e.instructions.unshift({instruction:Lde.ComputeBudgetProgram.setComputeUnitLimit({units:r}),signers:[]}),e.computeCount++),s!==void 0&&(e.instructions.unshift({instruction:Lde.ComputeBudgetProgram.setComputeUnitPrice({microLamports:s}),signers:[]}),e.computeCount++)}startBuildingNext(){if(this.isBuildingNext)throw new Error("Already building next optimal transaction");this.isBuildingNext=!0}buildNextOptimalTransactionNoSigning(){return Pv(this,void 0,void 0,function*(){this.resetIterations();const e=this.computeBeforeIxs(),t=yield(0,IW.getNextFullTransaction)(this.instructions,this.feePayer,e,this.afterIxs.map(l=>l.ix),this.lookupTables,this.instructionCountConfig.max);if(t.isErr())return(0,Go.err)(t.error);const[r]=t.value,s=Object.assign(Object.assign({},r),{computeCount:Mg.COMPUTE_TEST_INSTRUCTION_RETURNS.length,beforeCount:this.beforeIxs.length,afterCount:this.afterIxs.length}),[i,o]=yield Promise.all([this.handlePriorityOptimization(s,!1,0),this.getLatestBlockhash()]);if(i.isErr())return(0,Go.err)(i.error);const{fee:a,limit:c}=i.value;this.replaceComputeInstructions(s,{limit:c,fee:a});const u=Object.assign(Object.assign({},s),(0,IW.deepCopyInstructions)(s));return(0,Go.ok)({rbh:o,lastBuilt:u})})}rebuildLastNoSigning(e){return Pv(this,void 0,void 0,function*(){if(this.resetIterations(),this.lastBuilt===null)return(0,Go.err)("No last built transaction to rebuild");const t=Object.assign(Object.assign({},this.lastBuilt),(0,IW.deepCopyInstructions)(this.lastBuilt));let r;if(e){this.resetDummyComputeInstructions(t);const s=this.getPopCount(t),[i,o]=yield Promise.all([this.handlePriorityOptimization(t,!1,0,1),this.getLatestBlockhash()]);if(r=o,i.isErr())return(0,Go.err)(i.error);const{fee:a,limit:c}=i.value,u=this.getPopCount(t);u!==s&&console.warn(`TransactionBuilder: pop count changed from ${s} to ${u} in rebuildLastBuilt`),this.replaceComputeInstructions(t,{limit:c,fee:a})}else r=yield this.getLatestBlockhash();return(0,Go.ok)({lastBuilt:t,rbh:r})})}handlePostBuild(e,t){if(this.getPopCount(t)<=0)throw new Error("TransactionBuilder: pop count is less than or equal to 0");this.instructions.splice(0,this.getPopCount(t)),this.lastBuilt=t,this.lastTransaction=e}clear(){return this.instructions.splice(0,this.instructions.length)}}Fp.TransactionBuilderCore=KAe;function PHe(n){return DAe(this,arguments,function*(){if(n.isErr())yield yield $A((0,Go.err)(n.error));else for(const t of n.value)yield yield $A((0,Go.ok)(t))})}class _He extends KAe{constructor(e){super(e)}optimalTransactions(){return DAe(this,arguments,function*(){for(;this.instructions.length>0;)yield yield $A(this.buildNextOptimalTransaction())})}buildNextOptimalTransaction(){return Pv(this,void 0,void 0,function*(){this.startBuildingNext();try{const e=yield this.buildNextOptimalTransactionNoSigning();if(e.isErr())return(0,Go.err)(e.error);const{rbh:t,lastBuilt:r}=e.value,s=(yield(0,g9.buildAndSignTransactionsFromIxWithSigners)([{ixs:r.instructions,lookupTables:r.lookupTables,connectionOrRbh:{rbh:t,commitment:this.commitment}}],this.feePayer))[0];return this.handlePostBuild(s,r),(0,Go.ok)(s)}finally{this.isBuildingNext=!1}})}rebuildLast(){return Pv(this,arguments,void 0,function*(e=!0){const t=yield this.rebuildLastNoSigning(e);if(t.isErr())return(0,Go.err)(t.error);const{lastBuilt:r,rbh:s}=t.value,i=(yield(0,g9.buildAndSignTransactionsFromIxWithSigners)([{ixs:r.instructions,lookupTables:r.lookupTables,connectionOrRbh:{rbh:s,commitment:this.commitment}}],this.feePayer))[0];return(0,Go.ok)(i)})}buildDynamic(){return(0,Mg.buildOptimalDynamicTransactions)(this.connection,this.instructions,this.feePayer,{getFee:this.getFee,getLimit:(...e)=>(0,Mg.getSimulationUnits)(...e).then(t=>{if(t!==void 0)return this.mapLimit(t)})},this.lookupTables,this.beforeIxs,this.afterIxs.map(e=>e.ix),this.instructionCountConfig.max)}buildAndSignOptimal(){var e;const t=[...this.beforeIxs,...this.instructions,...this.afterIxs.map(s=>s.ix)],r={getLimit:(...s)=>(0,Mg.getSimulationUnits)(...s).then(i=>{if(i!==void 0)return this.mapLimit(i)}),getFee:(e=this.getFee)!==null&&e!==void 0?e:void 0};return(0,Mg.buildAndSignOptimalTransaction)(this.connection,t,this.feePayer,r,this.lookupTables)}}Fp.TransactionBuilder=_He;var LAe={};Object.defineProperty(LAe,"__esModule",{value:!0});(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Fp,n),t(dY,n),t(Y4,n),t(Mo,n),t(LAe,n)})(lY);var vY=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(LB,"__esModule",{value:!0});LB.createAddressLookupTable=NAe;LB.extendAddressLookupTable=FAe;LB.createAndExtendAddressLookupTable=xHe;const WAe=zb,_v=jB,uO=lY;function NAe(n,e,t,r,s){return vY(this,void 0,void 0,function*(){const[i,o]=WAe.AddressLookupTableProgram.createLookupTable({authority:e.publicKey(),payer:t.publicKey(),recentSlot:r??(yield n.getSlot("confirmed"))}),c=yield new uO.TransactionBuilder({connection:n,commitment:"confirmed",feePayer:t}).add(i,[e,t]).buildAndSignOptimal(),u=yield(0,uO.sendTransaction)(c,n,Object.assign(Object.assign({},s),{sendOptions:{skipPreflight:!0}}));return u.value.isErr()?(0,_v.err)(`Failed to create address lookup table: ${u.value.error}`):(0,_v.ok)(o)})}const EHe=400;function FAe(n,e,t,r,s,i){return vY(this,void 0,void 0,function*(){var o;if(s.length>256)return(0,_v.err)("Transaction lookup table can only hold up to 256 addresses");const a=[...s],c=[];for(;a.length>0;){const h=a.splice(0,20),m=WAe.AddressLookupTableProgram.extendLookupTable({lookupTable:e,authority:t.publicKey(),payer:r.publicKey(),addresses:h});c.push(m)}const u=c.map(h=>m=>Promise.resolve({instruction:h,signers:[m,r,t]})),l=yield new uO.TransactionBuilder({connection:n,commitment:i==null?void 0:i.commitment,feePayer:r}).add(u).buildDynamic();if(l.isErr())return new _v.Err(`Failed to build dynamic transactions: ${l.error}`);const d=yield Promise.all(l.value.map(h=>(0,uO.sendTransaction)(h,n,i))),y=d.find(h=>h.value.isErr());if(y)return(0,_v.err)(`Failed to extend address lookup table: ${y.value}`);if(i!=null&&i.awaitNewSlot){const h=d.map(g=>g.context.slot),m=Math.max(...h),f=(o=i==null?void 0:i.commitment)!==null&&o!==void 0?o:"confirmed";for(;(yield n.getSlot(f))<=m;)yield new Promise(g=>setTimeout(g,EHe/2))}return(0,_v.ok)(e)})}function xHe(n,e,t,r,s,i){return vY(this,void 0,void 0,function*(){const o=yield NAe(n,e,t,s,i);return o.isErr()?o:yield FAe(n,o.value,e,t,r,i)})}var UAe={};Object.defineProperty(UAe,"__esModule",{value:!0});var rk={};Object.defineProperty(rk,"__esModule",{value:!0});rk.isAsyncSigner=THe;rk.keypairToAsyncSigner=RHe;rk.walletToAsyncSigner=CHe;rk.signerToAsyncSigner=MHe;rk.createDummyAsyncSigner=BHe;function THe(n){return"inner"in n&&"requiresAsync"in n&&"publicKey"in n&&"sign"in n&&"signAll"in n}function lO(n,e){"instructions"in n?n.partialSign(e):n.sign([e])}function RHe(n){return{inner:()=>n,requiresAsync(){return!1},publicKey(){return n.publicKey},sign:e=>(lO(e,n),Promise.resolve(e)),signAll:e=>{for(const t of e)lO(t,n);return Promise.resolve(e)}}}function CHe(n){return{inner(){return n},publicKey(){return n.publicKey},requiresAsync(){return!0},sign(e){return n.signTransaction(e)},signAll(e){return n.signAllTransactions(e)}}}function MHe(n){return{inner:()=>n,publicKey:()=>n.publicKey,requiresAsync:()=>!1,sign:e=>(lO(e,n),Promise.resolve(e)),signAll:e=>{for(const t of e)lO(t,n);return Promise.resolve(e)}}}function BHe(n){return{requiresAsync(){return!1},publicKey(){return n},sign:e=>(e.addSignature(n,Xe.Buffer.alloc(64)),Promise.resolve(e)),signAll:e=>{for(const t of e)t.addSignature(n,Xe.Buffer.alloc(64));return Promise.resolve(e)}}}var VAe={};Object.defineProperty(VAe,"__esModule",{value:!0});var DA={};Object.defineProperty(DA,"__esModule",{value:!0});DA.getNumberFromEnum=DA.getAnchorEnum=void 0;const zHe=(n,e)=>{const t=Object.entries(n);for(let r=0;r<t.length;r++){const s=t[r];if(s&&e===s[1])return{[s[0].toUpperCase()===s[0]?s[0].toLowerCase():s[0].charAt(0).toLowerCase()+s[0].slice(1)]:{}}}throw new Error(`${e} is not found in the enum`)};DA.getAnchorEnum=zHe;const $He=(n,e,t=1)=>{const r=Object.entries(n);for(let s=0;s<r.length;s++){const i=r[s];if(i&&e===i[1])return i[1]+t}throw new Error(`${e} is not found in the enum`)};DA.getNumberFromEnum=$He;var oK={};Object.defineProperty(oK,"__esModule",{value:!0});oK.generateErrorMap=void 0;const DHe=n=>{var e,t;return(t=(e=n.errors)===null||e===void 0?void 0:e.reduce((r,s)=>Object.assign(Object.assign({},r),{[s.name]:s}),{}))!==null&&t!==void 0?t:{}};oK.generateErrorMap=DHe;var aK={};Object.defineProperty(aK,"__esModule",{value:!0});aK.ListenProgram=void 0;const OHe=cc,Wde=$b;class KHe{constructor(e,t){this.program=e,this.parsers=t,this.accountClosedListener=null,this.accountDiscriminants=(0,Wde.remapObject)(t,r=>OHe.BorshAccountsCoder.accountDiscriminator(r.ACCOUNT_NAME)),this.listeners=(0,Wde.remapObject)(t,()=>null)}setAccountClosedListener(e){this.accountClosedListener=e}get programId(){return this.program.programId}accountDiscriminant(e){return this.accountDiscriminants[e]}discriminantToAccountId(e){for(const[t,r]of Object.entries(this.accountDiscriminants))if(e.subarray(0,r.length).equals(r))return{key:t,discriminantLength:r.length};return null}provideDecodedAccountEvent(e,t,r,s,i,o,a){const c=this.listeners[e];c&&c({account:t,slot:r,confirmationStatus:s,isStartup:i,accountInfo:o,writeVersion:a})}provideAccountEvent(e,t,r,s,i,o=a=>{console.error(`Unknown account \`${a.toBase58()}\` for program \`${this.programId.toBase58()}\``)}){const a=this.discriminantToAccountId(e.accountInfo.data);if(a===null){o(e.accountId);return}if(this.listeners[a.key]){const c=this.parsers[a.key].decodeData(e,this.program);if("error"in c)throw c.error;this.provideDecodedAccountEvent(a.key,c.data,t,r,s,e.accountInfo,i)}}setAccountListener(e,t,r){r?this.listeners[e]=s=>{s.account instanceof t?r(Object.assign(Object.assign({},s),{account:s.account})):console.error("Wrong account type passed, account: ",JSON.stringify(s.account))}:this.listeners[e]=null}discriminantToAccountIdNoSubarray(e){const t=Object.keys(this.accountDiscriminants);for(const r of t){const s=this.accountDiscriminants[r];if(e.equals(s))return{key:r,discriminantLength:s.length}}return null}provideAccountClosedEvent(e,t,r,s,i,o,a){const c=this.accountClosedListener;c&&c({accountInfo:a,slot:s,confirmationStatus:i,writeVersion:o,key:e,oldOwner:t,newOwner:r})}}aK.ListenProgram=KHe;var Cl={},Sl=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},LHe=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Cl,"__esModule",{value:!0});Cl.getCurrentTimestampOnChain=void 0;Cl.buildRPCDataSource=VHe;Cl.readAllFromRPC=qHe;Cl.readFromRPC=AY;Cl.readFromRPCOrError=jHe;Cl.readFromRPCNullable=HHe;Cl.accountRPCSubscribe=GHe;Cl.airdrop=YHe;Cl.readMultipleFromRPC=ZHe;const qAe=zb,WHe=cc,NHe=LHe(iK),FHe=Tx.exports,UHe=$b;function VHe(n){const e={programs:[]},t=(r,s,i)=>(o,a)=>{r.provideAccountEvent(o,a.slot,s,i,0)};return{insertProgram(r,s){return Sl(this,arguments,void 0,function*(i,o,a=!1){if(e.programs===null)throw new Error("Data source closed");if(o==="recent")throw new Error("RPC Data Source does not support recent");const c=(0,UHe.fixedSizeArrayFromArray)(3,[n.onProgramAccountChange(i.programId,t(i,"processed",!1),"processed"),n.onProgramAccountChange(i.programId,t(i,"confirmed",!1),"confirmed"),n.onProgramAccountChange(i.programId,t(i,"finalized",!1),"finalized")]);if(c===null)throw new Error("Could not create listener array");const u=e.programs.length,l=()=>Sl(this,void 0,void 0,function*(){if(e.programs===null)return;const d=e.programs[u];if(!d)return;const{program:y}=d,{context:h,value:m}=yield n.getProgramAccounts(y.programId,{commitment:o,withContext:!0});for(const f of m)y.provideAccountEvent({accountId:f.pubkey,accountInfo:f.account},h.slot,o,!0,0)});return e.programs.push({program:i,listenerId:c,refresh:l}),a||(yield l()),{close:()=>Sl(this,void 0,void 0,function*(){if(e.programs===null)return;const d=e.programs[u];if(!d)return;const{listenerId:y}=d;e.programs[u]=null,yield Promise.all([n.removeProgramAccountChangeListener(y[0]),n.removeProgramAccountChangeListener(y[1]),n.removeProgramAccountChangeListener(y[2])])}),refresh:l}})},closeDataSource(){return Sl(this,void 0,void 0,function*(){if(e.programs===null)throw new Error("Data source already closed");const r=[];for(const s of e.programs.filter(i=>i!==null).flatMap(i=>i.listenerId))try{r.push(n.removeAccountChangeListener(s))}catch(i){console.error("Could not remove listener: ",i)}e.programs=null,yield Promise.all(r)})},refreshAll(){return Sl(this,void 0,void 0,function*(){var r,s;yield Promise.all((s=(r=e.programs)===null||r===void 0?void 0:r.map(i=>i==null?void 0:i.refresh()))!==null&&s!==void 0?s:[])})}}}function qHe(n,e,t,r){return Sl(this,arguments,void 0,function*(s,i,o,a,c=[]){return(yield s.getProgramAccounts(i.programId,Object.assign(Object.assign({},a?{commitment:a}:{}),{filters:[{memcmp:{offset:0,bytes:NHe.default.encode(WHe.BorshAccountsCoder.accountDiscriminator(o.ACCOUNT_NAME))}},...c]}))).map(l=>o.decodeData({accountInfo:l.account,accountId:l.pubkey},i))})}function AY(n,e,t,r,s){return Sl(this,void 0,void 0,function*(){const i=yield n.getAccountInfo(t,s);return i===null?{type:"error",key:t,error:new Error("account does not exist")}:r.decodeData({accountInfo:i,accountId:t},e)})}function jHe(n,e,t,r,s){return Sl(this,void 0,void 0,function*(){const i=yield AY(n,e,t,r,s);if("error"in i)throw i.error;return i.data})}function HHe(n,e,t,r,s){return Sl(this,void 0,void 0,function*(){const i=yield AY(n,e,t,r,s);return"error"in i?null:i.data})}function GHe(n,e,t,r,s,i){return n.onAccountChange(t,o=>{s(r.decodeData({accountInfo:o,accountId:t},e))},i)}function YHe(n,e){return Sl(this,arguments,void 0,function*(t,r,s=qAe.LAMPORTS_PER_SOL,i){const o=yield t.requestAirdrop(r,s);return yield t.confirmTransaction(o,i),o})}function ZHe(n,e,t,r,s){return Sl(this,void 0,void 0,function*(){const i=(yield Promise.all((0,FHe.chunk)(n,100).map(a=>e.getMultipleAccountsInfo(a,s)))).flat(),o=[];for(let a=0;a<i.length;a++){const c=i[a],u=n[a];c&&o.push(r.decodeData({accountInfo:c,accountId:u},t))}return o})}const JHe=n=>Sl(void 0,void 0,void 0,function*(){const e=yield n.getAccountInfo(qAe.SYSVAR_CLOCK_PUBKEY);if(e===null)throw"Failed to fetch Clock account info";return e.data.readBigInt64LE(8*4)});Cl.getCurrentTimestampOnChain=JHe;var cK={};Object.defineProperty(cK,"__esModule",{value:!0});cK.combineObjectArrays=jAe;cK.runForAll=XHe;function jAe(n,e){return n.map(t=>e.map(r=>Object.assign(Object.assign({},t),r))).flat()}function XHe(n,e){return Object.keys(n).map(r=>n[r].map(s=>({[r]:s}))).reduce((r,s)=>jAe(r,s),[{}]).map(r=>e(r))}var wY={};Object.defineProperty(wY,"__esModule",{value:!0});wY.transfer=eGe;const QHe=zb;function eGe(n,e,t){return r=>{var s;return Promise.resolve({instruction:QHe.SystemProgram.transfer({fromPubkey:(s=n==null?void 0:n.publicKey())!==null&&s!==void 0?s:r.publicKey(),toPubkey:e,lamports:t}),signers:[n??r]})}}var sl={},lh=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(sl,"__esModule",{value:!0});sl.getParsedTokenAccountsByOwner=void 0;sl.createMint=rGe;sl.createTokenAccount=nGe;sl.mintToTokenAccount=sGe;sl.setMintAuthority=iGe;sl.setFreezeAuthority=oGe;sl.setAccountAuthority=aGe;sl.transferToTokenAccount=cGe;sl.createAssociatedTokenAccount=uGe;sl.createAssociatedTokenAccountIdempotent=lGe;const Vs=nl,HAe=zb,GAe=tr,tGe=(n,e,...t)=>lh(void 0,[n,e,...t],void 0,function*(r,s,i=Vs.TOKEN_PROGRAM_ID){return(yield r.getTokenAccountsByOwner(s,{programId:i})).value.map(o=>(0,Vs.unpackAccount)(o.pubkey,o.account,i))});sl.getParsedTokenAccountsByOwner=tGe;function rGe(n,e,t,r){return s=>lh(this,void 0,void 0,function*(){return[{instruction:HAe.SystemProgram.createAccount({fromPubkey:s.publicKey(),lamports:(0,GAe.calculateMinimumRent)(Vs.MINT_SIZE),newAccountPubkey:n.publicKey(),programId:Vs.TOKEN_PROGRAM_ID,space:Vs.MINT_SIZE}),signers:[n,s]},{instruction:(0,Vs.createInitializeMintInstruction)(n.publicKey(),e,t,r),signers:[]}]})}function nGe(n,e,t){return r=>lh(this,void 0,void 0,function*(){return[{instruction:HAe.SystemProgram.createAccount({fromPubkey:r.publicKey(),lamports:(0,GAe.calculateMinimumRent)(Vs.ACCOUNT_SIZE),newAccountPubkey:n.publicKey(),programId:Vs.TOKEN_PROGRAM_ID,space:Vs.ACCOUNT_SIZE}),signers:[n,r]},{instruction:(0,Vs.createInitializeAccountInstruction)(n.publicKey(),t,e),signers:[]}]})}function sGe(n,e,t,r){return()=>lh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createMintToInstruction)(e,t,n.publicKey(),r,[]),signers:[n]}})}function iGe(n,e,t){return()=>lh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createSetAuthorityInstruction)(n,e.publicKey(),Vs.AuthorityType.MintTokens,t),signers:[e]}})}function oGe(n,e,t){return()=>lh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createSetAuthorityInstruction)(n,e.publicKey(),Vs.AuthorityType.FreezeAccount,t),signers:[e]}})}function aGe(n,e,t){return()=>lh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createSetAuthorityInstruction)(n,e.publicKey(),Vs.AuthorityType.AccountOwner,t),signers:[e]}})}function cGe(n,e,t,r){return()=>lh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createTransferInstruction)(e,t,n.publicKey(),r,[]),signers:[n]}})}function uGe(n,e,t=!0,r=Vs.TOKEN_PROGRAM_ID,s=Vs.ASSOCIATED_TOKEN_PROGRAM_ID){const i=(0,Vs.getAssociatedTokenAddressSync)(n,e,t,r,s);return{instructions:o=>lh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createAssociatedTokenAccountInstruction)(o.publicKey(),i,e,n,r,s),signers:[o]}}),address:i}}function lGe(n,e,t=!0,r=Vs.TOKEN_PROGRAM_ID,s=Vs.ASSOCIATED_TOKEN_PROGRAM_ID){const i=(0,Vs.getAssociatedTokenAddressSync)(n,e,t,r,s);return{instructions:o=>lh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createAssociatedTokenAccountIdempotentInstruction)(o.publicKey(),i,e,n,r,s),signers:[o]}}),address:i}}(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(O4,n),t(LB,n),t(UAe,n),t(rk,n),t(VAe,n),t(DA,n),t(oK,n),t(aK,n),t(Cl,n),t(cK,n),t(wY,n),t(sl,n),t(lY,n),t($b,n)})(tr);var kM={};Object.defineProperty(kM,"__esModule",{value:!0});kM.IDL=void 0;kM.IDL={version:"0.7.3",name:"player_profile",instructions:[{name:"acceptRoleInvitation",accounts:[{name:"newMember",isMut:!1,isSigner:!1,docs:["The new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"addExistingMemberToRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for reallocation."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The profile of the member to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"addKeys",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the profile."]},{name:"key",isMut:!1,isSigner:!0,docs:["Key with [`ProfilePermissions::ADD_KEYS`] permission to add keys."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to add to"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyAddIndex",type:"u16"},{name:"keyPermissionsIndex",type:"u16"},{name:"keysToAdd",type:{vec:{defined:"AddKeyInput"}}}]},{name:"adjustAuth",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the profile."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to create"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"authIndexes",type:{vec:"u16"}},{name:"newKeyPermissions",type:{vec:{defined:"AddKeyInput"}}},{name:"removeRange",type:{array:["u16",2]}},{name:"newKeyThreshold",type:"u8"}]},{name:"createProfile",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"profile",isMut:!0,isSigner:!0,docs:["The profile to create"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyPermissions",type:{vec:{defined:"AddKeyInput"}}},{name:"keyThreshold",type:"u8"}]},{name:"createRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the transaction"]},{name:"profile",isMut:!0,isSigner:!1,docs:["The [`Profile`] account that the role is being created for"]},{name:"newRoleAccount",isMut:!0,isSigner:!1,docs:["The role account being created"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"inviteMemberToRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The profile of the user to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"joinRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The new member joining the role"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"leaveRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder to receive the rent allocation."]},{name:"member",isMut:!1,isSigner:!1,docs:["The member leaving the role"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is leaving"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"removeKeys",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder for the profile."]},{name:"key",isMut:!1,isSigner:!0,docs:["Key with [`ProfilePermissions::REMOVE_KEYS`] permission to add keys."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to remove from"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keysToRemove",type:{array:["u16",2]}}]},{name:"removeMemberFromRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder to receive the rent allocation"]},{name:"member",isMut:!1,isSigner:!1,docs:["The profile of the user to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is being removed from"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"removeRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder for the transaction"]},{name:"profile",isMut:!0,isSigner:!1,docs:["The Profile that the role is being removed from"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role being removed"]},{name:"roleNameAccount",isMut:!0,isSigner:!1,docs:["The role name account (if it exists)"]}],args:[{name:"roleNameBump",type:"u8"},{name:"keyIndex",type:"u16"}]},{name:"setName",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized to change the name."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile to set the name for."]},{name:"name",isMut:!0,isSigner:!1,docs:["The name account."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"keyIndex",type:"u16"},{name:"name",type:"bytes"}]},{name:"setRoleAcceptingMembers",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which owns the role being modified."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set as accepting members."]}],args:[{name:"keyIndex",type:"u16"}]},{name:"setRoleAuthorizer",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile to set the name for."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set the authorizer for."]},{name:"authorizer",isMut:!1,isSigner:!1,docs:["The authorizer account to set."]}],args:[{name:"keyIndex",type:"u16"}]},{name:"setRoleName",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to"]},{name:"role",isMut:!1,isSigner:!1,docs:["The role to set the name for."]},{name:"name",isMut:!0,isSigner:!1,docs:["The name account."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"keyIndex",type:"u16"},{name:"name",type:"bytes"}]},{name:"setRoleNotAcceptingMembers",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which owns the role being modified."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set as not accepting members."]}],args:[{name:"keyIndex",type:"u16"}]}],accounts:[{name:"playerName",docs:["Stores a player's name on-chain."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The profile this name is for."],type:"publicKey"},{name:"bump",docs:["The bump for this account."],type:"u8"}]}},{name:"profile",docs:["A player profile."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"authKeyCount",docs:["The number of auth keys on the account"],type:"u16"},{name:"keyThreshold",docs:["The number of auth keys needed to update the profile."],type:"u8"},{name:"nextSeqId",docs:["The next sequence number for a new role."],type:"u64"},{name:"createdAt",docs:["When the profile was created."],type:"i64"}]}},{name:"profileRoleMembership",docs:["A player's roles for a given profile","Remaining data contains an unordered list of [`RoleMembership`](RoleMembership) structs"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The Profile this belongs to"],type:"publicKey"},{name:"member",docs:["The member's profile pubkey"],type:"publicKey"},{name:"bump",docs:["PDA bump"],type:"u8"}]}},{name:"role",docs:["A Role associated with a Profile. A Role contains an unordered list of Role Members in its","remaining data which lists all of the members who carry this role."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["Profile that this role belongs to"],type:"publicKey"},{name:"authorizer",docs:["Origin authority of the account"],type:"publicKey"},{name:"roleSeqId",docs:["Role's seq_id"],type:"u64"},{name:"acceptingNewMembers",docs:["Is role accepting new members"],type:"u8"},{name:"bump",docs:["The name of the rank","TODO: Add instruction to use `player-name` as the label","PDA bump"],type:"u8"}]}}],types:[{name:"AddKeyInput",docs:["Struct for adding a key"],type:{kind:"struct",fields:[{name:"scope",docs:["The block of permissions"],type:"publicKey"},{name:"expireTime",docs:["The expire time of the key to add"],type:"i64"},{name:"permissions",docs:["The permissions for the key"],type:{array:["u8",8]}}]}},{name:"MemberStatus",docs:["Represents potential membership statuses for a player with a role"],type:{kind:"enum",variants:[{name:"Inactive"},{name:"Active"}]}},{name:"ProfileKey",docs:["A key on a profile."],type:{kind:"struct",fields:[{name:"key",docs:["The key."],type:"publicKey"},{name:"scope",docs:["The key for the permissions."],type:"publicKey"},{name:"expireTime",docs:["The expire time for this key.","If `<0` does not expire."],type:"i64"},{name:"permissions",docs:["The permissions for the key."],type:{array:["u8",8]}}]}},{name:"RoleMembership",docs:["Represents a member's status in a role"],type:{kind:"struct",fields:[{name:"key",docs:["The member or role key associated with this membership"],type:"publicKey"},{name:"status",docs:["The member's role status"],type:"u8"}]}}],errors:[{code:6e3,name:"KeyIndexOutOfBounds",msg:"Key index out of bounds"},{code:6001,name:"ProfileMismatch",msg:"Profile did not match profile key"},{code:6002,name:"KeyMismatch",msg:"Key did not match profile key"},{code:6003,name:"ScopeMismatch",msg:"Scope did not match profile scope"},{code:6004,name:"KeyExpired",msg:"Key expired"},{code:6005,name:"KeyMissingPermissions",msg:"Key is missing permissions"},{code:6006,name:"PermissionsMismatch",msg:"Permissions don't match available"},{code:6007,name:"AuthKeyCannotExpire",msg:"Auth keys cannot expire"},{code:6008,name:"AuthKeyMustSign",msg:"New auth keys must be signers"},{code:6009,name:"DuplicateAuthKey",msg:"Duplicate key when adjusting auth keys"},{code:6010,name:"RoleAuthorityAlreadySet",msg:"Role authority has already been set"},{code:6011,name:"RoleNotAcceptingMembers",msg:"Role is not accepting new members"},{code:6012,name:"RoleMembershipMismatch",msg:"Role membership is not as expected"},{code:6013,name:"RoleLimitExceeded",msg:"Role limit exceeded"},{code:6014,name:"RoleHasMembers",msg:"Cannot remove role with members"},{code:6015,name:"FeatureNotImplemented",msg:"This feature is not yet support"}]};var Xg={};function dO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function dGe(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function GB(n,...e){if(!dGe(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function fGe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");dO(n.outputLen),dO(n.blockLen)}function OA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function YAe(n,e){GB(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const PW=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hGe=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),_W=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Dd=(n,e)=>n<<32-e|n>>>e,Nde=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,gGe=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function Fde(n){for(let e=0;e<n.length;e++)n[e]=gGe(n[e])}function mGe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function uK(n){return typeof n=="string"&&(n=mGe(n)),GB(n),n}function yGe(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];GB(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class IY{clone(){return this._cloneInto()}}function PY(n){const e=r=>n().update(uK(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function ZAe(n=32){if(PW&&typeof PW.getRandomValues=="function")return PW.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function pGe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const bGe=(n,e,t)=>n&e^~n&t,SGe=(n,e,t)=>n&e^n&t^e&t;class JAe extends IY{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=_W(this.buffer)}update(e){OA(this);const{view:t,buffer:r,blockLen:s}=this;e=uK(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=_W(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){OA(this),YAe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;pGe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=_W(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const m$=BigInt(2**32-1),m9=BigInt(32);function XAe(n,e=!1){return e?{h:Number(n&m$),l:Number(n>>m9&m$)}:{h:Number(n>>m9&m$)|0,l:Number(n&m$)|0}}function QAe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=XAe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const kGe=(n,e)=>BigInt(n>>>0)<<m9|BigInt(e>>>0),vGe=(n,e,t)=>n>>>t,AGe=(n,e,t)=>n<<32-t|e>>>t,wGe=(n,e,t)=>n>>>t|e<<32-t,IGe=(n,e,t)=>n<<32-t|e>>>t,PGe=(n,e,t)=>n<<64-t|e>>>t-32,_Ge=(n,e,t)=>n>>>t-32|e<<64-t,EGe=(n,e)=>e,xGe=(n,e)=>n,ewe=(n,e,t)=>n<<t|e>>>32-t,twe=(n,e,t)=>e<<t|n>>>32-t,rwe=(n,e,t)=>e<<t-32|n>>>64-t,nwe=(n,e,t)=>n<<t-32|e>>>64-t;function TGe(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const RGe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),CGe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,MGe=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),BGe=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,zGe=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),$Ge=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,DGe={fromBig:XAe,split:QAe,toBig:kGe,shrSH:vGe,shrSL:AGe,rotrSH:wGe,rotrSL:IGe,rotrBH:PGe,rotrBL:_Ge,rotr32H:EGe,rotr32L:xGe,rotlSH:ewe,rotlSL:twe,rotlBH:rwe,rotlBL:nwe,add:TGe,add3L:RGe,add3H:CGe,add4L:MGe,add4H:BGe,add5H:$Ge,add5L:zGe};var zr=DGe;const[OGe,KGe]=(()=>zr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Cm=new Uint32Array(80),Mm=new Uint32Array(80);class LGe extends JAe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Cm[p]=e.getUint32(t),Mm[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Cm[p-15]|0,w=Mm[p-15]|0,A=zr.rotrSH(I,w,1)^zr.rotrSH(I,w,8)^zr.shrSH(I,w,7),_=zr.rotrSL(I,w,1)^zr.rotrSL(I,w,8)^zr.shrSL(I,w,7),E=Cm[p-2]|0,M=Mm[p-2]|0,P=zr.rotrSH(E,M,19)^zr.rotrBH(E,M,61)^zr.shrSH(E,M,6),R=zr.rotrSL(E,M,19)^zr.rotrBL(E,M,61)^zr.shrSL(E,M,6),$=zr.add4L(_,R,Mm[p-7],Mm[p-16]),z=zr.add4H($,A,P,Cm[p-7],Cm[p-16]);Cm[p]=z|0,Mm[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=zr.rotrSH(d,y,14)^zr.rotrSH(d,y,18)^zr.rotrBH(d,y,41),w=zr.rotrSL(d,y,14)^zr.rotrSL(d,y,18)^zr.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=zr.add5L(S,w,_,KGe[p],Mm[p]),M=zr.add5H(E,b,I,A,OGe[p],Cm[p]),P=E|0,R=zr.rotrSH(r,s,28)^zr.rotrBH(r,s,34)^zr.rotrBH(r,s,39),$=zr.rotrSL(r,s,28)^zr.rotrBL(r,s,34)^zr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=zr.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=zr.add3L(P,$,T);r=zr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=zr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=zr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=zr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=zr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=zr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=zr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=zr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=zr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Cm.fill(0),Mm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const WGe=PY(()=>new LGe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _Y=BigInt(0),lK=BigInt(1),NGe=BigInt(2);function lS(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function YB(n){if(!lS(n))throw new Error("Uint8Array expected")}function qg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const FGe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function dS(n){YB(n);let e="";for(let t=0;t<n.length;t++)e+=FGe[n[t]];return e}function swe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function EY(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const _h={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Ude(n){if(n>=_h._0&&n<=_h._9)return n-_h._0;if(n>=_h._A&&n<=_h._F)return n-(_h._A-10);if(n>=_h._a&&n<=_h._f)return n-(_h._a-10)}function KA(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Ude(n.charCodeAt(i)),a=Ude(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function N1(n){return EY(dS(n))}function Jv(n){return YB(n),EY(dS(Uint8Array.from(n).reverse()))}function LA(n,e){return KA(n.toString(16).padStart(e*2,"0"))}function vM(n,e){return LA(n,e).reverse()}function UGe(n){return KA(swe(n))}function ea(n,e,t){let r;if(typeof e=="string")try{r=KA(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(lS(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function fS(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];YB(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function VGe(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function qGe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const EW=n=>typeof n=="bigint"&&_Y<=n;function dK(n,e,t){return EW(n)&&EW(e)&&EW(t)&&e<=n&&n<t}function kl(n,e,t,r){if(!dK(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function jGe(n){let e;for(e=0;n>_Y;n>>=lK,e+=1);return e}function HGe(n,e){return n>>BigInt(e)&lK}function GGe(n,e,t){return n|(t?lK:_Y)<<BigInt(e)}const xY=n=>(NGe<<BigInt(n-1))-lK,xW=n=>new Uint8Array(n),Vde=n=>Uint8Array.from(n);function iwe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=xW(n),s=xW(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=xW())=>{s=a(Vde([0]),d),r=a(),d.length!==0&&(s=a(Vde([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return fS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const YGe={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||lS(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Gx(n,e,t={}){const r=(s,i,o)=>{const a=YGe[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const ZGe=()=>{throw new Error("not implemented")};function AM(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var JGe=Object.freeze(Object.defineProperty({__proto__:null,isBytes:lS,abytes:YB,abool:qg,bytesToHex:dS,numberToHexUnpadded:swe,hexToNumber:EY,hexToBytes:KA,bytesToNumberBE:N1,bytesToNumberLE:Jv,numberToBytesBE:LA,numberToBytesLE:vM,numberToVarBytesBE:UGe,ensureBytes:ea,concatBytes:fS,equalBytes:VGe,utf8ToBytes:qGe,inRange:dK,aInRange:kl,bitLen:jGe,bitGet:HGe,bitSet:GGe,bitMask:xY,createHmacDrbg:iwe,validateObject:Gx,notImplemented:ZGe,memoized:AM},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Za=BigInt(0),$i=BigInt(1),t1=BigInt(2),XGe=BigInt(3),y9=BigInt(4),qde=BigInt(5),jde=BigInt(8);BigInt(9);BigInt(16);function gi(n,e){const t=n%e;return t>=Za?t:e+t}function QGe(n,e,t){if(t<=Za||e<Za)throw new Error("Expected power/modulo > 0");if(t===$i)return Za;let r=$i;for(;e>Za;)e&$i&&(r=r*n%t),n=n*n%t,e>>=$i;return r}function Qi(n,e,t){let r=n;for(;e-- >Za;)r*=r,r%=t;return r}function p9(n,e){if(n===Za||e<=Za)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=gi(n,e),r=e,s=Za,i=$i;for(;t!==Za;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==$i)throw new Error("invert: does not exist");return gi(s,e)}function eYe(n){const e=(n-$i)/t1;let t,r,s;for(t=n-$i,r=0;t%t1===Za;t/=t1,r++);for(s=t1;s<n&&QGe(s,e,n)!==n-$i;s++);if(r===1){const o=(n+$i)/y9;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+$i)/t1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,$i<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function tYe(n){if(n%y9===XGe){const e=(n+$i)/y9;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%jde===qde){const e=(n-qde)/jde;return function(r,s){const i=r.mul(s,t1),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,t1),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return eYe(n)}const rYe=(n,e)=>(gi(n,e)&$i)===$i,nYe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sYe(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=nYe.reduce((r,s)=>(r[s]="function",r),e);return Gx(n,t)}function iYe(n,e,t){if(t<Za)throw new Error("Expected power > 0");if(t===Za)return n.ONE;if(t===$i)return e;let r=n.ONE,s=e;for(;t>Za;)t&$i&&(r=n.mul(r,s)),s=n.sqr(s),t>>=$i;return r}function oYe(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function owe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function awe(n,e,t=!1,r={}){if(n<=Za)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=owe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=tYe(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:xY(s),ZERO:Za,ONE:$i,create:c=>gi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Za<=c&&c<n},is0:c=>c===Za,isOdd:c=>(c&$i)===$i,neg:c=>gi(-c,n),eql:(c,u)=>c===u,sqr:c=>gi(c*c,n),add:(c,u)=>gi(c+u,n),sub:(c,u)=>gi(c-u,n),mul:(c,u)=>gi(c*u,n),pow:(c,u)=>iYe(a,c,u),div:(c,u)=>gi(c*p9(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>p9(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>oYe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?vM(c,i):LA(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?Jv(c):N1(c)}});return Object.freeze(a)}function cwe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function uwe(n){const e=cwe(n);return e+Math.ceil(e/2)}function aYe(n,e,t=!1){const r=n.length,s=cwe(e),i=uwe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?N1(n):Jv(n),a=gi(o,e-$i)+$i;return t?vM(a,s):LA(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cYe=BigInt(0),TW=BigInt(1),RW=new WeakMap,Hde=new WeakMap;function lwe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>cYe;)o&TW&&(a=a.add(c)),c=c.double(),o>>=TW;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=TW);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=Hde.get(i)||1;let u=RW.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&RW.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),Hde.set(i,o),RW.delete(i)}}}function TY(n){return sYe(n.Fp),Gx(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...owe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Dl=BigInt(0),Fc=BigInt(1),y$=BigInt(2),uYe=BigInt(8),lYe={zip215:!0};function dYe(n){const e=TY(n);return Gx(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function fYe(n){const e=dYe(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=y$<<BigInt(a*8)-Fc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Dl}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(qg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){kl("coordinate "+v,k,Dl,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=AM((v,k)=>{const{ex:x,ey:C,ez:B}=v,O=v.is0();k==null&&(k=O?uYe:t.inv(B));const D=l(x*k),W=l(C*k),L=l(B*k);if(O)return{x:Dl,y:Fc};if(L!==Fc)throw new Error("invZ was invalid");return{x:D,y:W}}),b=AM(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:O,et:D}=v,W=l(C*C),L=l(B*B),N=l(O*O),H=l(N*N),J=l(W*k),Q=l(N*l(J+L)),Y=l(H+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,Fc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:O,ey:D,ez:W}=k,L=l(x*W),N=l(O*B),H=l(C*W),J=l(D*B);return L===N&&H===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,O=l(x*x),D=l(C*C),W=l(y$*l(B*B)),L=l(k*O),N=x+C,H=l(l(N*N)-O-D),J=L+D,Q=J-W,Y=L-D,X=l(H*Q),re=l(J*Y),se=l(H*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:O,ez:D,et:W}=this,{ex:L,ey:N,ez:H,et:J}=k;if(x===BigInt(-1)){const Lt=l((O-B)*(N+L)),Dt=l((O+B)*(N-L)),et=l(Dt-Lt);if(et===Dl)return this.double();const Ue=l(D*y$*J),Wt=l(W*y$*H),sr=Wt+Ue,rr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(rr*pr),gn=l(sr*pr),ds=l(et*rr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(O*N),X=l(W*C*J),re=l(D*H),se=l((B+O)*(L+N)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),Pe=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(Pe,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;kl("scalar",x,Fc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return kl("scalar",x,Dl,r),x===Dl?I:this.equals(I)||x===Fc?this:this.equals(p)?this.wNAF(x).p:w.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Fc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,O=t.BYTES;k=ea("pointHex",k,O),qg("zip215",x);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=Jv(D),N=x?u:t.ORDER;kl("pointHex.y",L,Dl,N);const H=l(L*L),J=l(H-Fc),Q=l(C*H-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Fc)===Fc,se=(W&128)!==0;if(!x&&X===Dl&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=vM(x,t.BYTES);return C[C.length-1]|=k&Fc?128:0,C}toHex(){return dS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Fc,l(e.Gx*e.Gy)),S.ZERO=new S(Dl,Fc,Fc,Dl);const{BASE:p,ZERO:I}=S,w=lwe(S,a*8);function A(v){return gi(v,r)}function _(v){return A(Jv(v))}function E(v){const k=a;v=ea("private key",v,k);const x=ea("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),O=_(C),D=p.multiply(O),W=D.toRawBytes();return{head:C,prefix:B,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function P(v=new Uint8Array,...k){const x=fS(...k);return _(i(h(x,ea("context",v),!!s)))}function R(v,k,x={}){v=ea("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:O}=E(k),D=P(x.context,C,v),W=p.multiply(D).toRawBytes(),L=P(x.context,W,O,v),N=A(D+L*B);kl("signature.s",N,Dl,r);const H=fS(W,vM(N,t.BYTES));return ea("result",H,a*2)}const $=lYe;function z(v,k,x,C=$){const{context:B,zip215:O}=C,D=t.BYTES;v=ea("signature",v,2*D),k=ea("message",k),O!==void 0&&qg("zip215",O),s&&(k=s(k));const W=Jv(v.slice(D,2*D));let L,N,H;try{L=S.fromHex(x,O),N=S.fromHex(v.slice(0,D),O),H=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=P(B,N.toRawBytes(),L.toRawBytes(),k);return N.add(L.multiplyUnsafe(J)).subtract(H).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RY=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Gde=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const hYe=BigInt(1),Yde=BigInt(2);BigInt(3);const gYe=BigInt(5),mYe=BigInt(8);function yYe(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=RY,a=n*n%i*n%i,c=Qi(a,Yde,i)*a%i,u=Qi(c,hYe,i)*n%i,l=Qi(u,gYe,i)*u%i,d=Qi(l,e,i)*l%i,y=Qi(d,t,i)*d%i,h=Qi(y,r,i)*y%i,m=Qi(h,s,i)*h%i,f=Qi(m,s,i)*h%i,g=Qi(f,e,i)*l%i;return{pow_p_5_8:Qi(g,Yde,i)*n%i,b2:a}}function pYe(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function bYe(n,e){const t=RY,r=gi(e*e*e,t),s=gi(r*r*e,t),i=yYe(n*s).pow_p_5_8;let o=gi(n*r*i,t);const a=gi(e*o*o,t),c=o,u=gi(o*Gde,t),l=a===n,d=a===gi(-n,t),y=a===gi(-n*Gde,t);return l&&(o=c),(d||y)&&(o=u),rYe(o,t)&&(o=gi(-o,t)),{isValid:l||d,value:o}}const SYe=(()=>awe(RY,void 0,!0))(),kYe=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:SYe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:mYe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:WGe,randomBytes:ZAe,adjustScalarBytes:pYe,uvRatio:bYe}))(),Yx=(()=>fYe(kYe))(),vYe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),zm=new Uint32Array(64);class AYe extends JAe{constructor(){super(64,32,8,!1),this.A=Bm[0]|0,this.B=Bm[1]|0,this.C=Bm[2]|0,this.D=Bm[3]|0,this.E=Bm[4]|0,this.F=Bm[5]|0,this.G=Bm[6]|0,this.H=Bm[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)zm[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=zm[d-15],h=zm[d-2],m=Dd(y,7)^Dd(y,18)^y>>>3,f=Dd(h,17)^Dd(h,19)^h>>>10;zm[d]=f+zm[d-7]+m+zm[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Dd(a,6)^Dd(a,11)^Dd(a,25),h=l+y+bGe(a,c,u)+vYe[d]+zm[d]|0,f=(Dd(r,2)^Dd(r,13)^Dd(r,22))+SGe(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){zm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const b9=PY(()=>new AYe);class wYe extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function IYe(n){return ZB(n)&&typeof n[Symbol.iterator]=="function"}function ZB(n){return typeof n=="object"&&n!=null}function fO(n){return ZB(n)&&!Array.isArray(n)}function pd(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function PYe(n){const{done:e,value:t}=n.next();return e?void 0:t}function _Ye(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${pd(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*Zde(n,e,t,r){IYe(n)||(n=[n]);for(const s of n){const i=_Ye(s,e,t,r);i&&(yield i)}}function*CY(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=CY(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):ZB(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class dh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return Zde(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return Zde(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return dwe(e,this,t)}create(e,t){return gt(e,this,t)}is(e){return fwe(e,this)}mask(e,t){return EYe(e,this,t)}validate(e,t={}){return JB(e,this,t)}}function dwe(n,e,t){const r=JB(n,e,{message:t});if(r[0])throw r[0]}function gt(n,e,t){const r=JB(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function EYe(n,e,t){const r=JB(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function fwe(n,e){return!JB(n,e)[0]}function JB(n,e,t={}){const r=CY(n,e,t),s=PYe(r);if(s[0])return[new wYe(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function nk(n,e){return new dh({type:n,schema:null,validator:e})}function xYe(){return nk("any",()=>!0)}function At(n){return new dh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${pd(e)}`}})}function Qf(){return nk("boolean",n=>typeof n=="boolean")}function MY(n){return nk("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${pd(e)}`)}function _i(n){const e=pd(n),t=typeof n;return new dh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${pd(r)}`}})}function TYe(){return nk("never",()=>!1)}function Rt(n){return new dh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function ge(){return nk("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${pd(n)}`)}function dr(n){return new dh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function hwe(n,e){return new dh({type:"record",schema:null,*entries(t){if(ZB(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return fO(t)||`Expected an object, but received: ${pd(t)}`},coercer(t){return fO(t)?{...t}:t}})}function je(){return nk("string",n=>typeof n=="string"||`Expected a string, but received: ${pd(n)}`)}function BY(n){const e=TYe();return new dh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${pd(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Re(n){const e=Object.keys(n);return new dh({type:"type",schema:n,*entries(t){if(ZB(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return fO(t)||`Expected an object, but received: ${pd(t)}`},coercer(t){return fO(t)?{...t}:t}})}function Cc(n){const e=n.map(t=>t.type).join(" | ");return new dh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=CY(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${pd(t)}`,...s]}})}function Zx(){return nk("unknown",()=>!0)}function XB(n,e,t){return new dh({...n,coercer:(r,s)=>fwe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const gwe=[],mwe=[],ywe=[],RYe=BigInt(0),wR=BigInt(1),CYe=BigInt(2),MYe=BigInt(7),BYe=BigInt(256),zYe=BigInt(113);for(let n=0,e=wR,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],gwe.push(2*(5*r+t)),mwe.push((n+1)*(n+2)/2%64);let s=RYe;for(let i=0;i<7;i++)e=(e<<wR^(e>>MYe)*zYe)%BYe,e&CYe&&(s^=wR<<(wR<<BigInt(i))-wR);ywe.push(s)}const[$Ye,DYe]=QAe(ywe,!0),Jde=(n,e,t)=>t>32?rwe(n,e,t):ewe(n,e,t),Xde=(n,e,t)=>t>32?nwe(n,e,t):twe(n,e,t);function OYe(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=Jde(u,l,1)^t[a],y=Xde(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=mwe[o],c=Jde(s,i,a),u=Xde(s,i,a),l=gwe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=$Ye[r],n[1]^=DYe[r]}t.fill(0)}class zY extends IY{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,dO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=hGe(this.state)}keccak(){Nde||Fde(this.state32),OYe(this.state32,this.rounds),Nde||Fde(this.state32),this.posOut=0,this.pos=0}update(e){OA(this);const{blockLen:t,state:r}=this;e=uK(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){OA(this,!1),GB(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return dO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(YAe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new zY(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const KYe=(n,e,t)=>PY(()=>new zY(e,n,t)),Qde=KYe(1,136,256/8);class pwe extends IY{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,fGe(e);const r=uK(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return OA(this),this.iHash.update(e),this}digestInto(e){OA(this),GB(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const bwe=(n,e,t)=>new pwe(n,e).update(t).digest();bwe.create=(n,e)=>new pwe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function efe(n){n.lowS!==void 0&&qg("lowS",n.lowS),n.prehash!==void 0&&qg("prehash",n.prehash)}function LYe(n){const e=TY(n);Gx(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:WYe,hexToBytes:NYe}=JGe,P1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=P1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:WYe(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=P1,t=typeof n=="string"?NYe(n):n;YB(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=P1._parseInt(t.subarray(2)),{d:o,l:a}=P1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},_y=BigInt(0),fa=BigInt(1);BigInt(2);const tfe=BigInt(3);BigInt(4);function FYe(n){const e=LYe(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return fS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return dK(m,fa,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(lS(m)&&(m=dS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:N1(ea("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=gi(p,S)),kl("private key",p,fa,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=AM((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=AM(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(ea("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),_=t.eql(t.mul(b,w),t.mul(I,S));return A&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,tfe),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,_=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),P=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),_=t.mul(S,I),_=t.add(_,_),w=t.mul(f,_),A=t.mul(b,P),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),_=t.mul(b,_),P=t.mul(f,P),R=t.sub(E,P),R=t.mul(f,R),R=t.add(R,_),_=t.add(E,E),E=t.add(_,E),E=t.add(E,P),E=t.mul(E,R),A=t.add(A,E),P=t.mul(p,I),P=t.add(P,P),E=t.mul(P,R),w=t.sub(w,E),_=t.mul(P,M),_=t.add(_,_),_=t.add(_,_),new d(w,A,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,_=t.ZERO,E=t.ZERO;const M=e.a,P=t.mul(e.b,tfe);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(P,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),_=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(P,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),_=t.add(_,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,_,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){kl("scalar",f,_y,e.n);const g=d.ZERO;if(f===_y)return g;if(f===fa)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,_=g,E=this;for(;p>_y||w>_y;)p&fa&&(A=A.add(E)),w&fa&&(_=_.add(E)),E=E.double(),p>>=fa,w>>=fa;return S&&(A=A.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),A.add(_)}multiply(f){const{endo:g,n:b}=e;kl("scalar",f,fa,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:_}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:P,f:R}=this.wNAF(_);E=h.constTimeNegate(I,E),P=h.constTimeNegate(A,P),P=new d(t.mul(P.px,g.beta),P.py,P.pz),S=E.add(P),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===_y||A===fa||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===fa)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===fa?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return qg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return qg("isCompressed",f),dS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=lwe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function UYe(n){const e=TY(n);return Gx(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function VYe(n){const e=UYe(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return gi(T,r)}function a(T){return p9(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=FYe({...e,toBytes(T,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=fS;return qg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(T){const v=T.length,k=T[0],x=T.subarray(1);if(v===s&&(k===2||k===3)){const C=N1(x);if(!dK(C,fa,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let O;try{O=t.sqrt(B)}catch(L){const N=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+N)}const D=(O&fa)===fa;return(k&1)===1!==D&&(O=t.neg(O)),{x:C,y:O}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>dS(LA(T,e.nByteLength));function h(T){const v=r>>fa;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>N1(T.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=ea("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=P1.toSig(ea("DER",v));return new g(k,x)}assertValidity(){kl("r",this.r,fa,r),kl("s",this.s,fa,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=A(ea("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const O=C===2||C===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(C&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),N=o(-B*L),H=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,N,H);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return KA(this.toDERHex())}toDERHex(){return P1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return KA(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=uwe(e.n);return aYe(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=lS(T),k=typeof T=="string",x=(v||k)&&T.length;return v?x===s||x===i:k?x===2*s||x===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=N1(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},_=xY(e.nBitLength);function E(T){return kl(`num < 2^${e.nBitLength}`,T,_y,_),LA(T,e.nByteLength)}function M(T,v,k=P){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:O,extraEntropy:D}=k;B==null&&(B=!0),T=ea("msgHash",T),efe(k),O&&(T=ea("prehashed msgHash",x(T)));const W=A(T),L=u(v),N=[E(L),E(W)];if(D!=null&&D!==!1){const Y=D===!0?C(t.BYTES):D;N.push(ea("extraEntropy",Y))}const H=fS(...N),J=W;function Q(Y){const X=w(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===_y)return;const ne=o(re*o(J+ee*L));if(ne===_y)return;let ve=(se.x===ee?0:2)|Number(se.y&fa),Pe=ne;return B&&h(ne)&&(Pe=m(ne),ve^=1),new g(ee,Pe,ve)}return{seed:H,k2sig:Q}}const P={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=P){const{seed:x,k2sig:C}=M(T,v,k),B=e;return iwe(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function z(T,v,k,x=R){var se;const C=T;if(v=ea("msgHash",v),k=ea("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");efe(x);const{lowS:B,prehash:O}=x;let D,W;try{if(typeof C=="string"||lS(C))try{D=g.fromDER(C)}catch(ee){if(!(ee instanceof P1.Err))throw ee;D=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:N}=D,H=A(v),J=a(N),Q=o(H*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function qYe(n){return{hash:n,hmac:(e,...t)=>bwe(n,e,yGe(...t)),randomBytes:ZAe}}function jYe(n,e){const t=r=>VYe({...n,...qYe(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Swe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),rfe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),HYe=BigInt(1),S9=BigInt(2),nfe=(n,e)=>(n+e/S9)/e;function GYe(n){const e=Swe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=Qi(l,t,e)*l%e,y=Qi(d,t,e)*l%e,h=Qi(y,S9,e)*u%e,m=Qi(h,s,e)*h%e,f=Qi(m,i,e)*m%e,g=Qi(f,a,e)*f%e,b=Qi(g,c,e)*g%e,S=Qi(b,a,e)*f%e,p=Qi(S,t,e)*l%e,I=Qi(p,o,e)*m%e,w=Qi(I,r,e)*u%e,A=Qi(w,S9,e);if(!k9.eql(k9.sqr(A),n))throw new Error("Cannot find square root");return A}const k9=awe(Swe,void 0,void 0,{sqrt:GYe}),fK=jYe({a:BigInt(0),b:BigInt(7),Fp:k9,n:rfe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=rfe,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-HYe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=nfe(i*n,e),c=nfe(-r*n,e);let u=gi(n-a*t-c*s,e),l=gi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},b9);BigInt(0);fK.ProjectivePoint;const YYe=Yx.utils.randomPrivateKey,sfe=()=>{const n=Yx.utils.randomPrivateKey(),e=hO(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},hO=Yx.getPublicKey;function ife(n){try{return Yx.ExtendedPoint.fromHex(n),!0}catch{return!1}}const $Y=(n,e)=>Yx.sign(n,e.slice(0,32)),ZYe=Yx.verify,Qr=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class DY{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(nm(L2,this))}static decode(e){return sm(L2,this,e)}static decodeUnchecked(e){return im(L2,this,e)}}class JYe extends DY{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const L2=new Map;var kwe;const vwe=32,Nf=32;function XYe(n){return n._bn!==void 0}let ofe=1;class nt extends DY{constructor(e){if(super({}),this._bn=void 0,XYe(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Nf)throw new Error("Invalid public key input");this._bn=new Co(t)}else this._bn=new Co(e);if(this._bn.byteLength()>Nf)throw new Error("Invalid public key input")}}static unique(){const e=new nt(ofe);return ofe+=1,new nt(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Nf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=b9(s);return new nt(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>vwe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,Qr(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=b9(r);if(ife(s))throw new Error("Invalid seeds, address must fall off the curve");return new nt(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new nt(e);return ife(t.toBytes())}}kwe=nt;nt.default=new kwe("11111111111111111111111111111111");L2.set(nt,{kind:"struct",fields:[["_bn","u256"]]});class QYe{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Qr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Qr(YYe()),this._publicKey=Qr(hO(this._secretKey))}get publicKey(){return new nt(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const eZe=new nt("BPFLoader1111111111111111111111111111111111"),Uy=1280-40-8,hK=127,wM=64;class OY extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(OY.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class KY extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(KY.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Ev extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ev.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class IM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const bn=(n="publicKey")=>ie(32,n),tZe=(n="signature")=>ie(64,n),_1=(n="string")=>{const e=F([U("length"),U("lengthPadding"),ie(Vt(U(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>U().span+U().span+V.Buffer.from(i,"utf8").length,s},rZe=(n="authorized")=>F([bn("staker"),bn("withdrawer")],n),nZe=(n="lockup")=>F([_e("unixTimestamp"),_e("epoch"),bn("custodian")],n),sZe=(n="voteInit")=>F([bn("nodePubkey"),bn("authorizedVoter"),bn("authorizedWithdrawer"),te("commission")],n),iZe=(n="voteAuthorizeWithSeedArgs")=>F([U("voteAuthorizationType"),bn("currentAuthorityDerivedKeyOwnerPubkey"),_1("currentAuthorityDerivedKeySeed"),bn("newAuthorized")],n);function Awe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return Awe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function su(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Lu(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Wn(n,e){if(!n)throw new Error(e||"Assertion failed")}class gK{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new gK(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Wn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Wn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Wn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new nt(c)),...r.map(([c])=>new nt(c)),...s.map(([c])=>new nt(c)),...i.map(([c])=>new nt(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new nt(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Wn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const wwe="Reached end of buffer unexpectedly";function pf(n){if(n.length===0)throw new Error(wwe);return n.shift()}function iu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(wwe);return n.splice(...e)}class bd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new nt(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new IM(this.staticAccountKeys)}static compile(e){const t=gK.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new IM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new bd({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Lu(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];Lu(f,y.length);let g=[];return Lu(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Lu(s,r.length);let i=V.Buffer.alloc(Uy);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=F([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=F([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(bn("key"),e,"keys"),bn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>Qr(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=pf(t);if(r!==(r&hK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=pf(t),i=pf(t),o=su(t);let a=[];for(let y=0;y<o;y++){const h=iu(t,0,Nf);a.push(new nt(V.Buffer.from(h)))}const c=iu(t,0,Nf),u=su(t);let l=[];for(let y=0;y<u;y++){const h=pf(t),m=su(t),f=iu(t,0,m),g=su(t),b=iu(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new bd(d)}}class hS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new IM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=gK.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new IM(a,s).compileInstructions(e.instructions);return new hS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Lu(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Lu(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Lu(i,this.addressTableLookups.length);const o=F([te("prefix"),F([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(bn(),this.staticAccountKeys.length,"staticAccountKeys"),bn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Uy),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Uy);for(const r of this.compiledInstructions){const s=Array();Lu(s,r.accountKeyIndexes.length);const i=Array();Lu(i,r.data.length),e+=F([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Uy);for(const r of this.addressTableLookups){const s=Array();Lu(s,r.writableIndexes.length);const i=Array();Lu(i,r.readonlyIndexes.length),e+=F([bn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=pf(t),s=r&hK;Wn(r!==s,"Expected versioned message but received legacy message");const i=s;Wn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:pf(t),numReadonlySignedAccounts:pf(t),numReadonlyUnsignedAccounts:pf(t)},a=[],c=su(t);for(let m=0;m<c;m++)a.push(new nt(iu(t,0,Nf)));const u=Ie.encode(iu(t,0,Nf)),l=su(t),d=[];for(let m=0;m<l;m++){const f=pf(t),g=su(t),b=iu(t,0,g),S=su(t),p=new Uint8Array(iu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=su(t),h=[];for(let m=0;m<y;m++){const f=new nt(iu(t,0,Nf)),g=su(t),b=iu(t,0,g),S=su(t),p=iu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new hS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const LY={deserializeMessageVersion(n){const e=n[0],t=e&hK;return t===e?"legacy":t},deserialize:n=>{const e=LY.deserializeMessageVersion(n);if(e==="legacy")return bd.from(n);if(e===0)return hS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let bg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const oZe=V.Buffer.alloc(wM).fill(0);class Ss{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Hn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Ss(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new nt(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{Wn(f.programIdIndex>=0),f.accounts.forEach(g=>Wn(g>=0))}),new bd({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=$Y(r,s.secretKey);this._addSignature(s.publicKey,Qr(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Wn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):ZYe(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Lu(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Wn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Wn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Wn(i.length<=Uy,`Transaction too large: ${i.length} > ${Uy}`),i}get keys(){return Wn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Wn(this.instructions.length===1),this.instructions[0].programId}get data(){return Wn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=su(t);let s=[];for(let i=0;i<r;i++){const o=iu(t,0,wM);s.push(Ie.encode(V.Buffer.from(o)))}return Hn.populate(bd.from(t),s)}static populate(e,t=[]){const r=new Hn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(oZe)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Ss({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class WY{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Wn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Wn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new Ss({programId:g,data:Qr(m.data),keys:f}))}return new WY({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return bd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return hS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class NY{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Wn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(wM));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Lu(t,this.signatures.length);const r=F([ie(t.length,"encodedSignaturesLength"),we(tZe(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=su(t);for(let o=0;o<s;o++)r.push(new Uint8Array(iu(t,0,wM)));const i=LY.deserialize(new Uint8Array(t));return new NY(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Wn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=$Y(t,s.secretKey)}}addSignature(e,t){Wn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Wn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const aZe=160,cZe=64,uZe=aZe/cZe,Iwe=1e3/uZe,rf=new nt("SysvarC1ock11111111111111111111111111111111"),lZe=new nt("SysvarEpochSchedu1e111111111111111111111111"),dZe=new nt("Sysvar1nstructions1111111111111111111111111"),kD=new nt("SysvarRecentB1ockHashes11111111111111111111"),WA=new nt("SysvarRent111111111111111111111111111111111"),fZe=new nt("SysvarRewards111111111111111111111111111111"),hZe=new nt("SysvarS1otHashes111111111111111111111111111"),gZe=new nt("SysvarS1otHistory11111111111111111111111111"),vD=new nt("SysvarStakeHistory1111111111111111111111111");class PM extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const mZe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Yt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function v9(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new PM({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function r1(n){return new Promise(e=>setTimeout(e,n))}function Tn(n,e){const t=n.layout.span>=0?n.layout.span:Awe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function rs(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const Pwe=Ae("lamportsPerSignature"),_we=F([U("version"),U("state"),bn("authorizedPubkey"),bn("nonce"),F([Pwe],"feeCalculator")]),A9=_we.span;class mK{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=_we.decode(Qr(e),0);return new mK({authorizedPubkey:new nt(t.authorizedPubkey),nonce:new nt(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const yZe=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},pZe=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=yZe(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return om(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=nc(o,n);return r(u,a,c)},i},NA=pZe(8);class bZe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ds))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=rs(Ds.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new nt(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=rs(Ds.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=rs(Ds.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new nt(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=rs(Ds.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=rs(Ds.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new nt(t),seed:r,space:s,programId:new nt(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=rs(Ds.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new nt(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=rs(Ds.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new nt(t),seed:r,programId:new nt(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=rs(Ds.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new nt(t),seed:r,lamports:s,space:i,programId:new nt(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=rs(Ds.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new nt(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rs(Ds.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=rs(Ds.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=rs(Ds.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new nt(t)}}static checkProgramId(e){if(!e.equals(Wa.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ds=Object.freeze({Create:{index:0,layout:F([U("instruction"),_e("lamports"),_e("space"),bn("programId")])},Assign:{index:1,layout:F([U("instruction"),bn("programId")])},Transfer:{index:2,layout:F([U("instruction"),NA("lamports")])},CreateWithSeed:{index:3,layout:F([U("instruction"),bn("base"),_1("seed"),_e("lamports"),_e("space"),bn("programId")])},AdvanceNonceAccount:{index:4,layout:F([U("instruction")])},WithdrawNonceAccount:{index:5,layout:F([U("instruction"),_e("lamports")])},InitializeNonceAccount:{index:6,layout:F([U("instruction"),bn("authorized")])},AuthorizeNonceAccount:{index:7,layout:F([U("instruction"),bn("authorized")])},Allocate:{index:8,layout:F([U("instruction"),_e("space")])},AllocateWithSeed:{index:9,layout:F([U("instruction"),bn("base"),_1("seed"),_e("space"),bn("programId")])},AssignWithSeed:{index:10,layout:F([U("instruction"),bn("base"),_1("seed"),bn("programId")])},TransferWithSeed:{index:11,layout:F([U("instruction"),NA("lamports"),_1("seed"),bn("programId")])},UpgradeNonceAccount:{index:12,layout:F([U("instruction")])}});class Wa{constructor(){}static createAccount(e){const t=Ds.Create,r=Tn(t,{lamports:e.lamports,space:e.space,programId:Qr(e.programId.toBuffer())});return new Ss({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Ds.TransferWithSeed;t=Tn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:Qr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Ds.Transfer;t=Tn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ss({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Ds.AssignWithSeed;t=Tn(s,{base:Qr(e.basePubkey.toBuffer()),seed:e.seed,programId:Qr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ds.Assign;t=Tn(s,{programId:Qr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ss({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Ds.CreateWithSeed,r=Tn(t,{base:Qr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Qr(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ss({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Hn;"basePubkey"in e&&"seed"in e?t.add(Wa.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:A9,programId:this.programId})):t.add(Wa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:A9,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Ds.InitializeNonceAccount,r=Tn(t,{authorized:Qr(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:kD,isSigner:!1,isWritable:!1},{pubkey:WA,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Ss(s)}static nonceAdvance(e){const t=Ds.AdvanceNonceAccount,r=Tn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:kD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Ss(s)}static nonceWithdraw(e){const t=Ds.WithdrawNonceAccount,r=Tn(t,{lamports:e.lamports});return new Ss({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:kD,isSigner:!1,isWritable:!1},{pubkey:WA,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Ds.AuthorizeNonceAccount,r=Tn(t,{authorized:Qr(e.newAuthorizedPubkey.toBuffer())});return new Ss({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Ds.AllocateWithSeed;t=Tn(s,{base:Qr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Qr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ds.Allocate;t=Tn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ss({keys:r,programId:this.programId,data:t})}}Wa.programId=new nt("11111111111111111111111111111111");const SZe=Uy-300;class gS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/gS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Hn,h.add(Wa.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Hn,h.add(Wa.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Hn,h.add(Wa.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Hn().add(Wa.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await v9(e,h,[t,r],{commitment:"confirmed"})}const o=F([U("instruction"),U("offset"),U("bytesLength"),U("bytesLengthPadding"),we(te("byte"),Vt(U(),-8),"bytes")]),a=gS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Hn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(v9(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await r1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=F([U("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Hn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:WA,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(Iwe/2)))}}return!0}}gS.chunkSize=SZe;const kZe=new nt("BPFLoader2111111111111111111111111111111111");class vZe{static getMinNumSignatures(e){return gS.getMinNumSignatures(e)}static load(e,t,r,s,i){return gS.load(e,t,r,i,s)}}function AZe(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var CW,afe;function wZe(){if(afe)return CW;afe=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return CW=function(r){var s=t(r,!1);if(s!==void 0)return""+s},CW}var IZe=wZe(),cfe=AZe(IZe);const IR=32;function MW(n){let e=0;for(;n>1;)n/=2,e++;return e}function PZe(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class Ewe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=MW(PZe(e+IR+1))-MW(IR)-1,r=this.getSlotsInEpoch(t),s=e-(r-IR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*IR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+MW(IR)):this.slotsPerEpoch}}var _Ze=globalThis.fetch;class EZe extends Rb{constructor(e,t,r){const s=i=>{const o=Mb(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function xZe(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const ufe=56;class w9{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=xZe(TZe,e),r=e.length-ufe;Wn(r>=0,"lookup table is invalid"),Wn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=F([we(bn(),s,"addresses")]).decode(e.slice(ufe));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new nt(t.authority[0]):void 0,addresses:i.map(o=>new nt(o))}}}const TZe={index:1,layout:F([U("typeIndex"),NA("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(bn(),Vt(te(),-1),"authority")])},RZe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function CZe(n){const e=n.match(RZe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Ui=XB(MY(nt),je(),n=>new nt(n)),xwe=BY([je(),_i("base64")]),FY=XB(MY(V.Buffer),xwe,n=>V.Buffer.from(n[0],"base64")),Twe=30*1e3;function MZe(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Es(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function lfe(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function Rwe(n){return Cc([Re({jsonrpc:_i("2.0"),id:je(),result:n}),Re({jsonrpc:_i("2.0"),id:je(),error:Re({code:Zx(),message:je(),data:dr(xYe())})})])}const BZe=Rwe(Zx());function Vr(n){return XB(Rwe(n),BZe,e=>"error"in e?e:{...e,result:gt(e.result,n)})}function lo(n){return Vr(Re({context:Re({slot:ge()}),value:n}))}function yK(n){return Re({context:Re({slot:ge()}),value:n})}function BW(n,e){return n===0?new hS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new nt(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new bd(e)}const zZe=Re({foundation:ge(),foundationTerm:ge(),initial:ge(),taper:ge(),terminal:ge()}),$Ze=Vr(At(Rt(Re({epoch:ge(),effectiveSlot:ge(),amount:ge(),postBalance:ge(),commission:dr(Rt(ge()))})))),DZe=At(Re({slot:ge(),prioritizationFee:ge()})),OZe=Re({total:ge(),validator:ge(),foundation:ge(),epoch:ge()}),KZe=Re({epoch:ge(),slotIndex:ge(),slotsInEpoch:ge(),absoluteSlot:ge(),blockHeight:dr(ge()),transactionCount:dr(ge())}),LZe=Re({slotsPerEpoch:ge(),leaderScheduleSlotOffset:ge(),warmup:Qf(),firstNormalEpoch:ge(),firstNormalSlot:ge()}),WZe=hwe(je(),At(ge())),sk=Rt(Cc([Re({}),je()])),NZe=Re({err:sk}),FZe=_i("receivedSignature"),UZe=Re({"solana-core":je(),"feature-set":dr(ge())}),VZe=Re({program:je(),programId:Ui,parsed:Zx()}),qZe=Re({programId:Ui,accounts:At(Ui),data:je()}),dfe=lo(Re({err:Rt(Cc([Re({}),je()])),logs:Rt(At(je())),accounts:dr(Rt(At(Rt(Re({executable:Qf(),owner:je(),lamports:ge(),data:At(je()),rentEpoch:dr(ge())}))))),unitsConsumed:dr(ge()),returnData:dr(Rt(Re({programId:je(),data:BY([je(),_i("base64")])}))),innerInstructions:dr(Rt(At(Re({index:ge(),instructions:At(Cc([VZe,qZe]))}))))})),jZe=lo(Re({byIdentity:hwe(je(),At(ge())),range:Re({firstSlot:ge(),lastSlot:ge()})}));function HZe(n,e,t,r,s,i){const o=t||_Ze;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new Cb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},GJe)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await r1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function GZe(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function YZe(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const ZZe=Vr(zZe),JZe=Vr(OZe),XZe=Vr(DZe),QZe=Vr(KZe),eJe=Vr(LZe),tJe=Vr(WZe),rJe=Vr(ge()),nJe=lo(Re({total:ge(),circulating:ge(),nonCirculating:ge(),nonCirculatingAccounts:At(Ui)})),I9=Re({amount:je(),uiAmount:Rt(ge()),decimals:ge(),uiAmountString:dr(je())}),sJe=lo(At(Re({address:Ui,amount:je(),uiAmount:Rt(ge()),decimals:ge(),uiAmountString:dr(je())}))),iJe=lo(At(Re({pubkey:Ui,account:Re({executable:Qf(),owner:Ui,lamports:ge(),data:FY,rentEpoch:ge()})}))),P9=Re({program:je(),parsed:Zx(),space:ge()}),oJe=lo(At(Re({pubkey:Ui,account:Re({executable:Qf(),owner:Ui,lamports:ge(),data:P9,rentEpoch:ge()})}))),aJe=lo(At(Re({lamports:ge(),address:Ui}))),_M=Re({executable:Qf(),owner:Ui,lamports:ge(),data:FY,rentEpoch:ge()}),cJe=Re({pubkey:Ui,account:_M}),uJe=XB(Cc([MY(V.Buffer),P9]),Cc([xwe,P9]),n=>Array.isArray(n)?gt(n,FY):n),_9=Re({executable:Qf(),owner:Ui,lamports:ge(),data:uJe,rentEpoch:ge()}),lJe=Re({pubkey:Ui,account:_9}),dJe=Re({state:Cc([_i("active"),_i("inactive"),_i("activating"),_i("deactivating")]),active:ge(),inactive:ge()}),fJe=Vr(At(Re({signature:je(),slot:ge(),err:sk,memo:Rt(je()),blockTime:dr(Rt(ge()))}))),hJe=Vr(At(Re({signature:je(),slot:ge(),err:sk,memo:Rt(je()),blockTime:dr(Rt(ge()))}))),gJe=Re({subscription:ge(),result:yK(_M)}),mJe=Re({pubkey:Ui,account:_M}),yJe=Re({subscription:ge(),result:yK(mJe)}),pJe=Re({parent:ge(),slot:ge(),root:ge()}),bJe=Re({subscription:ge(),result:pJe}),SJe=Cc([Re({type:Cc([_i("firstShredReceived"),_i("completed"),_i("optimisticConfirmation"),_i("root")]),slot:ge(),timestamp:ge()}),Re({type:_i("createdBank"),parent:ge(),slot:ge(),timestamp:ge()}),Re({type:_i("frozen"),slot:ge(),timestamp:ge(),stats:Re({numTransactionEntries:ge(),numSuccessfulTransactions:ge(),numFailedTransactions:ge(),maxTransactionsPerEntry:ge()})}),Re({type:_i("dead"),slot:ge(),timestamp:ge(),err:je()})]),kJe=Re({subscription:ge(),result:SJe}),vJe=Re({subscription:ge(),result:yK(Cc([NZe,FZe]))}),AJe=Re({subscription:ge(),result:ge()}),wJe=Re({pubkey:je(),gossip:Rt(je()),tpu:Rt(je()),rpc:Rt(je()),version:Rt(je())}),ffe=Re({votePubkey:je(),nodePubkey:je(),activatedStake:ge(),epochVoteAccount:Qf(),epochCredits:At(BY([ge(),ge(),ge()])),commission:ge(),lastVote:ge(),rootSlot:Rt(ge())}),IJe=Vr(Re({current:At(ffe),delinquent:At(ffe)})),PJe=Cc([_i("processed"),_i("confirmed"),_i("finalized")]),_Je=Re({slot:ge(),confirmations:Rt(ge()),err:sk,confirmationStatus:dr(PJe)}),EJe=lo(At(Rt(_Je))),xJe=Vr(ge()),Cwe=Re({accountKey:Ui,writableIndexes:At(ge()),readonlyIndexes:At(ge())}),UY=Re({signatures:At(je()),message:Re({accountKeys:At(je()),header:Re({numRequiredSignatures:ge(),numReadonlySignedAccounts:ge(),numReadonlyUnsignedAccounts:ge()}),instructions:At(Re({accounts:At(ge()),data:je(),programIdIndex:ge()})),recentBlockhash:je(),addressTableLookups:dr(At(Cwe))})}),Mwe=Re({pubkey:Ui,signer:Qf(),writable:Qf(),source:dr(Cc([_i("transaction"),_i("lookupTable")]))}),Bwe=Re({accountKeys:At(Mwe),signatures:At(je())}),zwe=Re({parsed:Zx(),program:je(),programId:Ui}),$we=Re({accounts:At(Ui),data:je(),programId:Ui}),TJe=Cc([$we,zwe]),RJe=Cc([Re({parsed:Zx(),program:je(),programId:je()}),Re({accounts:At(je()),data:je(),programId:je()})]),Dwe=XB(TJe,RJe,n=>"accounts"in n?gt(n,$we):gt(n,zwe)),Owe=Re({signatures:At(je()),message:Re({accountKeys:At(Mwe),instructions:At(Dwe),recentBlockhash:je(),addressTableLookups:dr(Rt(At(Cwe)))})}),gO=Re({accountIndex:ge(),mint:je(),owner:dr(je()),programId:dr(je()),uiTokenAmount:I9}),Kwe=Re({writable:At(Ui),readonly:At(Ui)}),pK=Re({err:sk,fee:ge(),innerInstructions:dr(Rt(At(Re({index:ge(),instructions:At(Re({accounts:At(ge()),data:je(),programIdIndex:ge()}))})))),preBalances:At(ge()),postBalances:At(ge()),logMessages:dr(Rt(At(je()))),preTokenBalances:dr(Rt(At(gO))),postTokenBalances:dr(Rt(At(gO))),loadedAddresses:dr(Kwe),computeUnitsConsumed:dr(ge())}),VY=Re({err:sk,fee:ge(),innerInstructions:dr(Rt(At(Re({index:ge(),instructions:At(Dwe)})))),preBalances:At(ge()),postBalances:At(ge()),logMessages:dr(Rt(At(je()))),preTokenBalances:dr(Rt(At(gO))),postTokenBalances:dr(Rt(At(gO))),loadedAddresses:dr(Kwe),computeUnitsConsumed:dr(ge())}),Jx=Cc([_i(0),_i("legacy")]),ik=Re({pubkey:je(),lamports:ge(),postBalance:Rt(ge()),rewardType:Rt(je()),commission:dr(Rt(ge()))}),CJe=Vr(Rt(Re({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),transactions:At(Re({transaction:UY,meta:Rt(pK),version:dr(Jx)})),rewards:dr(At(ik)),blockTime:Rt(ge()),blockHeight:Rt(ge())}))),MJe=Vr(Rt(Re({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),rewards:dr(At(ik)),blockTime:Rt(ge()),blockHeight:Rt(ge())}))),BJe=Vr(Rt(Re({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),transactions:At(Re({transaction:Bwe,meta:Rt(pK),version:dr(Jx)})),rewards:dr(At(ik)),blockTime:Rt(ge()),blockHeight:Rt(ge())}))),zJe=Vr(Rt(Re({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),transactions:At(Re({transaction:Owe,meta:Rt(VY),version:dr(Jx)})),rewards:dr(At(ik)),blockTime:Rt(ge()),blockHeight:Rt(ge())}))),$Je=Vr(Rt(Re({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),transactions:At(Re({transaction:Bwe,meta:Rt(VY),version:dr(Jx)})),rewards:dr(At(ik)),blockTime:Rt(ge()),blockHeight:Rt(ge())}))),DJe=Vr(Rt(Re({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),rewards:dr(At(ik)),blockTime:Rt(ge()),blockHeight:Rt(ge())}))),OJe=Vr(Rt(Re({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),transactions:At(Re({transaction:UY,meta:Rt(pK)})),rewards:dr(At(ik)),blockTime:Rt(ge())}))),hfe=Vr(Rt(Re({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),signatures:At(je()),blockTime:Rt(ge())}))),zW=Vr(Rt(Re({slot:ge(),meta:Rt(pK),blockTime:dr(Rt(ge())),transaction:UY,version:dr(Jx)}))),p$=Vr(Rt(Re({slot:ge(),transaction:Owe,meta:Rt(VY),blockTime:dr(Rt(ge())),version:dr(Jx)}))),KJe=lo(Re({blockhash:je(),feeCalculator:Re({lamportsPerSignature:ge()})})),LJe=lo(Re({blockhash:je(),lastValidBlockHeight:ge()})),WJe=lo(Qf()),NJe=Re({slot:ge(),numTransactions:ge(),numSlots:ge(),samplePeriodSecs:ge()}),FJe=Vr(At(NJe)),UJe=lo(Rt(Re({feeCalculator:Re({lamportsPerSignature:ge()})}))),VJe=Vr(je()),qJe=Vr(je()),jJe=Re({err:sk,logs:At(je()),signature:je()}),HJe=Re({result:yK(jJe),subscription:ge()}),GJe={"solana-client":"js/1.0.0-maintenance"};class YJe{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Es(l),h=this._buildArgs([],d,void 0,y),m=cfe(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=gt(f,Vr(ge()));if("error"in g)throw new Yt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=MZe(e),this._rpcWsEndpoint=r||CZe(e),this._rpcClient=HZe(e,s,i,o,a,c),this._rpcRequest=GZe(this._rpcClient),this._rpcBatchRequest=YZe(this._rpcClient),this._rpcWebSocket=new EZe(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=gt(o,lo(ge()));if("error"in a)throw new Yt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=gt(t,Vr(Rt(ge())));if("error"in r)throw new Yt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=gt(e,Vr(ge()));if("error"in t)throw new Yt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=gt(e,rJe);if("error"in t)throw new Yt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=gt(r,nJe);if("error"in s)throw new Yt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=gt(s,lo(I9));if("error"in i)throw new Yt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=gt(s,lo(I9));if("error"in i)throw new Yt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Es(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=gt(c,iJe);if("error"in u)throw new Yt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=gt(o,oJe);if("error"in a)throw new Yt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=gt(s,aJe);if("error"in i)throw new Yt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=gt(s,sJe);if("error"in i)throw new Yt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=gt(o,lo(Rt(_M)));if("error"in a)throw new Yt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=gt(o,lo(Rt(_9)));if("error"in a)throw new Yt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Es(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=gt(a,lo(At(Rt(_9))));if("error"in c)throw new Yt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Es(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=gt(a,lo(At(Rt(_M))));if("error"in c)throw new Yt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Es(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=gt(a,Vr(dJe));if("error"in c)throw new Yt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Es(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:lfe(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=At(cJe),l=o.withContext===!0?gt(c,lo(u)):gt(c,Vr(u));if("error"in l)throw new Yt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=gt(o,Vr(At(lJe)));if("error"in a)throw new Yt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Wn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:bg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:bg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await r1(1e3),i||(h=await y(),i))return;d({__type:bg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===bg.PROCESSED)l=d.response;else throw new OY(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:bg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await r1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===bg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await r1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Ev(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Ev(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Ev(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new Ev(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:bg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===bg.PROCESSED)a=c.response;else throw new KY(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=gt(e,Vr(At(wJe)));if("error"in t)throw new Yt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=gt(r,IJe);if("error"in s)throw new Yt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Es(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=gt(i,Vr(ge()));if("error"in o)throw new Yt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Es(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=gt(i,Vr(je()));if("error"in o)throw new Yt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=gt(s,Vr(At(Ui)));if("error"in i)throw new Yt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Wn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=gt(s,EJe);if("error"in i)throw new Yt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Es(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=gt(i,Vr(ge()));if("error"in o)throw new Yt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=gt(r,ZZe);if("error"in s)throw new Yt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Es(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=gt(a,$Ze);if("error"in c)throw new Yt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=gt(e,JZe);if("error"in t)throw new Yt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Es(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=gt(i,QZe);if("error"in o)throw new Yt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=gt(e,eJe);if("error"in t)throw new Yt(t.error,"failed to get epoch schedule");const r=t.result;return new Ewe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=gt(e,tJe);if("error"in t)throw new Yt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=gt(s,xJe);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=gt(r,KJe);if("error"in s)throw new Yt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=gt(t,FJe);if("error"in r)throw new Yt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=gt(s,UJe);if("error"in i)throw new Yt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Qr(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=gt(i,lo(Rt(ge())));if("error"in o)throw new Yt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=gt(s,XZe);if("error"in i)throw new Yt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Es(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=gt(i,LJe);if("error"in o)throw new Yt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=gt(o,WJe);if("error"in a)throw new Yt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=gt(e,Vr(UZe));if("error"in t)throw new Yt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=gt(e,Vr(je()));if("error"in t)throw new Yt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=gt(o,BJe);if("error"in a)throw a.error;return a.result}case"none":{const a=gt(o,MJe);if("error"in a)throw a.error;return a.result}default:{const a=gt(o,CJe);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:BW(d,u.message)},version:d}))}:null}}}catch(a){throw new Yt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=gt(o,$Je);if("error"in a)throw a.error;return a.result}case"none":{const a=gt(o,DJe);if("error"in a)throw a.error;return a.result}default:{const a=gt(o,zJe);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Yt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=gt(i,jZe);if("error"in o)throw new Yt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=gt(o,zW);if("error"in a)throw new Yt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:BW(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=gt(o,p$);if("error"in a)throw new Yt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Es(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=gt(c,p$);if("error"in u)throw new Yt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Es(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=gt(c,zW);if("error"in u)throw new Yt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:BW(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=gt(s,OJe);if("error"in i)throw new Yt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new bd(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Hn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=gt(i,Vr(At(ge())));if("error"in o)throw new Yt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=gt(s,hfe);if("error"in i)throw new Yt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=gt(s,hfe);if("error"in i)throw new Yt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=gt(s,zW);if("error"in i)throw new Yt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new bd(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Hn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=gt(s,p$);if("error"in i)throw new Yt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=gt(o,p$);if("error"in a)throw new Yt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=gt(i,fJe);if("error"in o)throw new Yt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=gt(i,hJe);if("error"in o)throw new Yt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new w9({key:e,state:w9.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=mK.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=gt(r,VJe);if("error"in s)throw new Yt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await r1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=Twe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await r1(Iwe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Es(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=gt(i,lo(ge()));if("error"in o)throw new Yt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=gt(p,dfe);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Hn){let m=e;s=new Hn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Hn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=gt(y,dfe);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new PM({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=Qr(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=gt(a,qJe);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new PM({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=gt(e,gJe);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=cfe([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Wn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Es(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=gt(e,yJe);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Es(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:lfe(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=gt(e,HJe);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=gt(e,bJe);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=gt(e,kJe);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=gt(e,vJe);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=gt(e,AJe);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Xv{constructor(e){this._keypair=void 0,this._keypair=e??sfe()}static generate(){return new Xv(sfe())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=hO(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new Xv({publicKey:r,secretKey:e})}static fromSeed(e){const t=hO(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Xv({publicKey:t,secretKey:r})}get publicKey(){return new nt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Bg=Object.freeze({CreateLookupTable:{index:0,layout:F([U("instruction"),NA("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:F([U("instruction")])},ExtendLookupTable:{index:2,layout:F([U("instruction"),NA(),we(bn(),Vt(U(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:F([U("instruction")])},CloseLookupTable:{index:4,layout:F([U("instruction")])}});class ZJe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Bg))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=rs(Bg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=rs(Bg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new nt(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(qY.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class qY{constructor(){}static createLookupTable(e){const[t,r]=nt.findProgramAddressSync([e.authority.toBuffer(),nc(BigInt(e.recentSlot),8)],this.programId),s=Bg.CreateLookupTable,i=Tn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Wa.programId,isSigner:!1,isWritable:!1}];return[new Ss({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Bg.FreezeLookupTable,r=Tn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ss({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Bg.ExtendLookupTable,r=Tn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Wa.programId,isSigner:!1,isWritable:!1}),new Ss({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Bg.DeactivateLookupTable,r=Tn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ss({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Bg.CloseLookupTable,r=Tn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Ss({programId:this.programId,keys:s,data:r})}}qY.programId=new nt("AddressLookupTab1e1111111111111111111111111");class JJe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(bf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=rs(bf.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=rs(bf.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=rs(bf.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=rs(bf.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(jY.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const bf=Object.freeze({RequestUnits:{index:0,layout:F([te("instruction"),U("units"),U("additionalFee")])},RequestHeapFrame:{index:1,layout:F([te("instruction"),U("bytes")])},SetComputeUnitLimit:{index:2,layout:F([te("instruction"),U("units")])},SetComputeUnitPrice:{index:3,layout:F([te("instruction"),NA("microLamports")])}});class jY{constructor(){}static requestUnits(e){const t=bf.RequestUnits,r=Tn(t,e);return new Ss({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=bf.RequestHeapFrame,r=Tn(t,e);return new Ss({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=bf.SetComputeUnitLimit,r=Tn(t,e);return new Ss({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=bf.SetComputeUnitPrice,r=Tn(t,{microLamports:BigInt(e.microLamports)});return new Ss({keys:[],programId:this.programId,data:r})}}jY.programId=new nt("ComputeBudget111111111111111111111111111111");const gfe=64,mfe=32,yfe=64,pfe=F([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class bK{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Wn(t.length===mfe,`Public Key must be ${mfe} bytes but received ${t.length} bytes`),Wn(s.length===yfe,`Signature must be ${yfe} bytes but received ${s.length} bytes`);const o=pfe.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return pfe.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new Ss({keys:[],programId:bK.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Wn(t.length===gfe,`Private key must be ${gfe} bytes but received ${t.length} bytes`);try{const i=Xv.fromSecretKey(t),o=i.publicKey.toBytes(),a=$Y(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}bK.programId=new nt("Ed25519SigVerify111111111111111111111111111");const XJe=(n,e)=>{const t=fK.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};fK.utils.isValidPrivateKey;const QJe=fK.getPublicKey,bfe=32,$W=20,Sfe=64,eXe=11,DW=F([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class Qv{constructor(){}static publicKeyToEthAddress(e){Wn(e.length===Sfe,`Public key must be ${Sfe} bytes but received ${e.length} bytes`);try{return V.Buffer.from(Qde(Qr(e))).slice(-$W)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return Qv.createInstructionWithEthAddress({ethAddress:Qv.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Wn(a.length===$W,`Address must be ${$W} bytes but received ${a.length} bytes`);const c=1+eXe,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(DW.span+r.length);return DW.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Qr(s),ethAddress:Qr(a),recoveryId:i},h),h.fill(Qr(r),DW.span),new Ss({keys:[],programId:Qv.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Wn(t.length===bfe,`Private key must be ${bfe} bytes but received ${t.length} bytes`);try{const i=Qr(t),o=QJe(i,!1).slice(1),a=V.Buffer.from(Qde(Qr(r))),[c,u]=XJe(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Qv.programId=new nt("KeccakSecp256k11111111111111111111111111111");var Lwe;const Wwe=new nt("StakeConfig11111111111111111111111111111111");class Nwe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class QB{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Lwe=QB;QB.default=new Lwe(0,0,nt.default);class tXe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(va))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=rs(va.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Nwe(new nt(t.staker),new nt(t.withdrawer)),lockup:new QB(r.unixTimestamp,r.epoch,new nt(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),rs(va.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=rs(va.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new nt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=rs(va.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new nt(i),newAuthorizedPubkey:new nt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=rs(va.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rs(va.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=rs(va.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rs(va.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(SK.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const va=Object.freeze({Initialize:{index:0,layout:F([U("instruction"),rZe(),nZe()])},Authorize:{index:1,layout:F([U("instruction"),bn("newAuthorized"),U("stakeAuthorizationType")])},Delegate:{index:2,layout:F([U("instruction")])},Split:{index:3,layout:F([U("instruction"),_e("lamports")])},Withdraw:{index:4,layout:F([U("instruction"),_e("lamports")])},Deactivate:{index:5,layout:F([U("instruction")])},Merge:{index:7,layout:F([U("instruction")])},AuthorizeWithSeed:{index:8,layout:F([U("instruction"),bn("newAuthorized"),U("stakeAuthorizationType"),_1("authoritySeed"),bn("authorityOwner")])}}),rXe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class SK{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||QB.default,o=va.Initialize,a=Tn(o,{authorized:{staker:Qr(r.staker.toBuffer()),withdrawer:Qr(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Qr(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:WA,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Ss(c)}static createAccountWithSeed(e){const t=new Hn;t.add(Wa.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Hn;t.add(Wa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=va.Delegate,o=Tn(i);return new Hn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:rf,isSigner:!1,isWritable:!1},{pubkey:vD,isSigner:!1,isWritable:!1},{pubkey:Wwe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=va.Authorize,c=Tn(a,{newAuthorized:Qr(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:rf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Hn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=va.AuthorizeWithSeed,l=Tn(u,{newAuthorized:Qr(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:Qr(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:rf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Hn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=va.Split,a=Tn(o,{lamports:i});return new Ss({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Hn;return r.add(Wa.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Hn;return u.add(Wa.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(Wa.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=va.Merge,o=Tn(i);return new Hn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:rf,isSigner:!1,isWritable:!1},{pubkey:vD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=va.Withdraw,c=Tn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:rf,isSigner:!1,isWritable:!1},{pubkey:vD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Hn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=va.Deactivate,i=Tn(s);return new Hn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:rf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}SK.programId=new nt("Stake11111111111111111111111111111111111111");SK.space=200;class Fwe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class nXe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Sf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=rs(Sf.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Fwe(new nt(t.nodePubkey),new nt(t.authorizedVoter),new nt(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=rs(Sf.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new nt(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=rs(Sf.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new nt(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new nt(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=rs(Sf.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Xx.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Sf=Object.freeze({InitializeAccount:{index:0,layout:F([U("instruction"),sZe()])},Authorize:{index:1,layout:F([U("instruction"),bn("newAuthorized"),U("voteAuthorizationType")])},Withdraw:{index:3,layout:F([U("instruction"),_e("lamports")])},UpdateValidatorIdentity:{index:4,layout:F([U("instruction")])},AuthorizeWithSeed:{index:10,layout:F([U("instruction"),iZe()])}}),sXe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Xx{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=Sf.InitializeAccount,o=Tn(i,{voteInit:{nodePubkey:Qr(s.nodePubkey.toBuffer()),authorizedVoter:Qr(s.authorizedVoter.toBuffer()),authorizedWithdrawer:Qr(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:WA,isSigner:!1,isWritable:!1},{pubkey:rf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Ss(a)}static createAccount(e){const t=new Hn;return t.add(Wa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=Sf.Authorize,a=Tn(o,{newAuthorized:Qr(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:rf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Hn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=Sf.AuthorizeWithSeed,u=Tn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Qr(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:Qr(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:rf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Hn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=Sf.Withdraw,a=Tn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Hn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Xx.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=Sf.UpdateValidatorIdentity,o=Tn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Hn().add({keys:a,programId:this.programId,data:o})}}Xx.programId=new nt("Vote111111111111111111111111111111111111111");Xx.space=3762;const Uwe=new nt("Va1idator1nfo111111111111111111111111111111"),iXe=Re({name:je(),website:dr(je()),details:dr(je()),iconUrl:dr(je()),keybaseUsername:dr(je())});class HY{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(su(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new nt(iu(t,0,Nf)),a=pf(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(Uwe)&&s[1].isSigner){const i=_1().decode(V.Buffer.from(t)),o=JSON.parse(i);return dwe(o,iXe),new HY(s[1].publicKey,o)}return null}}const oXe=new nt("Vote111111111111111111111111111111111111111"),aXe=F([bn("nodePubkey"),bn("authorizedWithdrawer"),te("commission"),Ae(),we(F([Ae("slot"),U("confirmationCount")]),Vt(U(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(F([Ae("epoch"),bn("authorizedVoter")]),Vt(U(),-8),"authorizedVoters"),F([we(F([bn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(F([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(U(),-8),"epochCredits"),F([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class GY{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=aXe.decode(Qr(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new GY({nodePubkey:new nt(r.nodePubkey),authorizedWithdrawer:new nt(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(cXe),priorVoters:uXe(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function cXe({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new nt(n)}}function kfe({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new nt(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function uXe({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(kfe),...n.slice(0,e).map(kfe)]}const vfe={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function lXe(n,e){const t=e===!1?"http":"https";if(!n)return vfe[t].devnet;const r=vfe[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function dXe(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new PM({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const fXe=1e9;var hXe=Object.freeze(Object.defineProperty({__proto__:null,Account:QYe,AddressLookupTableAccount:w9,AddressLookupTableInstruction:ZJe,AddressLookupTableProgram:qY,Authorized:Nwe,BLOCKHASH_CACHE_TIMEOUT_MS:Twe,BPF_LOADER_DEPRECATED_PROGRAM_ID:eZe,BPF_LOADER_PROGRAM_ID:kZe,BpfLoader:vZe,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:bf,ComputeBudgetInstruction:JJe,ComputeBudgetProgram:jY,Connection:YJe,Ed25519Program:bK,Enum:JYe,EpochSchedule:Ewe,FeeCalculatorLayout:Pwe,Keypair:Xv,LAMPORTS_PER_SOL:fXe,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Bg,Loader:gS,Lockup:QB,MAX_SEED_LENGTH:vwe,Message:bd,MessageAccountKeys:IM,MessageV0:hS,NONCE_ACCOUNT_LENGTH:A9,NonceAccount:mK,PACKET_DATA_SIZE:Uy,PUBLIC_KEY_LENGTH:Nf,PublicKey:nt,SIGNATURE_LENGTH_IN_BYTES:wM,SOLANA_SCHEMA:L2,STAKE_CONFIG_ID:Wwe,STAKE_INSTRUCTION_LAYOUTS:va,SYSTEM_INSTRUCTION_LAYOUTS:Ds,SYSVAR_CLOCK_PUBKEY:rf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:lZe,SYSVAR_INSTRUCTIONS_PUBKEY:dZe,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:kD,SYSVAR_RENT_PUBKEY:WA,SYSVAR_REWARDS_PUBKEY:fZe,SYSVAR_SLOT_HASHES_PUBKEY:hZe,SYSVAR_SLOT_HISTORY_PUBKEY:gZe,SYSVAR_STAKE_HISTORY_PUBKEY:vD,Secp256k1Program:Qv,SendTransactionError:PM,SolanaJSONRPCError:Yt,SolanaJSONRPCErrorCode:mZe,StakeAuthorizationLayout:rXe,StakeInstruction:tXe,StakeProgram:SK,Struct:DY,SystemInstruction:bZe,SystemProgram:Wa,Transaction:Hn,TransactionExpiredBlockheightExceededError:OY,TransactionExpiredNonceInvalidError:Ev,TransactionExpiredTimeoutError:KY,TransactionInstruction:Ss,TransactionMessage:WY,TransactionStatus:bg,VALIDATOR_INFO_KEY:Uwe,VERSION_PREFIX_MASK:hK,VOTE_PROGRAM_ID:oXe,ValidatorInfo:HY,VersionedMessage:LY,VersionedTransaction:NY,VoteAccount:GY,VoteAuthorizationLayout:sXe,VoteInit:Fwe,VoteInstruction:nXe,VoteProgram:Xx,clusterApiUrl:lXe,sendAndConfirmRawTransaction:dXe,sendAndConfirmTransaction:v9},Symbol.toStringTag,{value:"Module"})),kK=Td(hXe),gXe=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},mXe=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},E9;Object.defineProperty(Xg,"__esModule",{value:!0});Xg.PlayerName=Xg.playerNameDataEquals=void 0;const Vwe=kK,qwe=tr;function yXe(n,e){return n.version===e.version&&n.profile.equals(e.profile)}Xg.playerNameDataEquals=yXe;let mO=Xg.PlayerName=E9=class{constructor(e,t,r){this._data=e,this._key=t,this._name=r}get data(){return this._data}get key(){return this._key}get name(){return this._name}static findAddress(e,t){return Vwe.PublicKey.findProgramAddressSync([Xe.Buffer.from("player_name"),t.toBuffer()],e.programId)}static decodeData(e,t){return(0,qwe.decodeAccountWithRemaining)(e,t,E9,r=>new TextDecoder().decode(r))}};mO.ACCOUNT_NAME="playerName";mO.MIN_DATA_SIZE=8+1+32+1;Xg.PlayerName=mO=E9=gXe([(0,qwe.staticImplements)(),mXe("design:paramtypes",[Object,Vwe.PublicKey,String])],mO);var yO={};(function(n){var e=K&&K.__decorate||function(S,p,I,w){var A=arguments.length,_=A<3?p:w===null?w=Object.getOwnPropertyDescriptor(p,I):w,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(S,p,I,w);else for(var M=S.length-1;M>=0;M--)(E=S[M])&&(_=(A<3?E(_):A>3?E(p,I,_):E(p,I))||_);return A>3&&_&&Object.defineProperty(p,I,_),_},t=K&&K.__metadata||function(S,p){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(S,p)},r=K&&K.__awaiter||function(S,p,I,w){function A(_){return _ instanceof I?_:new I(function(E){E(_)})}return new(I||(I=Promise))(function(_,E){function M($){try{R(w.next($))}catch(z){E(z)}}function P($){try{R(w.throw($))}catch(z){E(z)}}function R($){$.done?_($.value):A($.value).then(M,P)}R((w=w.apply(S,p||[])).next())})},s,i;Object.defineProperty(n,"__esModule",{value:!0}),n.PlayerProfile=n.findKeyInProfile=n.profileKeyInputToFindKeyInput=n.getProfileKey=n.ProfilePermissions=n.PROFILE_KEY_MIN_DATA_SIZE=n.profileKeyEquals=n.profileDataEquals=void 0;const o=kK,a=cc,c=tr,u=pA,l=Xg;function d(S,p){return S.authKeyCount===p.authKeyCount&&S.keyThreshold===p.keyThreshold&&S.nextSeqId.eq(p.nextSeqId)&&S.createdAt.eq(p.createdAt)}n.profileDataEquals=d;function y(S,p){return S.key.equals(p.key)&&S.scope.equals(p.scope)&&S.expireTime.eq(p.expireTime)&&(0,c.arrayDeepEquals)(S.permissions,p.permissions,(I,w)=>I===w)}n.profileKeyEquals=y,n.PROFILE_KEY_MIN_DATA_SIZE=32+32+8+8;let h=n.ProfilePermissions=s=class{constructor(p,I,w,A,_,E,M,P,R,$,z,T){this.auth=p,this.addKeys=I,this.removeKeys=w,this.changeName=A,this.createRole=_,this.removeRole=E,this.setAuthorizer=M,this.joinRole=P,this.leaveRole=R,this.toggleAcceptingMembers=$,this.addMember=z,this.removeMember=T}static auth(){return new s(!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static addKeys(){return new s(!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static removeKeys(){return new s(!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static changeName(){return new s(!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1)}static createRole(){return new s(!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1)}static removeRole(){return new s(!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1)}static setAuthorizer(){return new s(!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1)}static joinRole(){return new s(!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1)}static leaveRole(){return new s(!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1)}static toggleAcceptingMembers(){return new s(!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1)}static addMembers(){return new s(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1)}static removeMembers(){return new s(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0)}getPermissions(){const p=(0,c.fixedSizeArray)(8,0);return p[0]=(this.auth?1<<0:0)|(this.addKeys?1<<1:0)|(this.removeKeys?1<<2:0)|(this.changeName?1<<3:0)|(this.createRole?1<<4:0)|(this.removeRole?1<<5:0)|(this.setAuthorizer?1<<6:0)|(this.joinRole?1<<7:0),p[1]=(this.leaveRole?1<<0:0)|(this.toggleAcceptingMembers?1<<1:0)|(this.addMember?1<<2:0)|(this.removeMember?1<<3:0),p}static empty(){return new s(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static all(){return new s(!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0)}static fromPermissions(p){return new s((p[0]&1<<0)!==0,(p[0]&1<<1)!==0,(p[0]&1<<2)!==0,(p[0]&1<<3)!==0,(p[0]&1<<4)!==0,(p[0]&1<<5)!==0,(p[0]&1<<6)!==0,(p[0]&1<<7)!==0,(p[1]&1<<0)!==0,(p[1]&1<<1)!==0,(p[1]&1<<2)!==0,(p[1]&1<<3)!==0)}and(p){return new s(this.auth&&p.auth,this.addKeys&&p.addKeys,this.removeKeys&&p.removeKeys,this.changeName&&p.changeName,this.createRole&&p.createRole,this.removeRole&&p.removeRole,this.setAuthorizer&&p.setAuthorizer,this.joinRole&&p.joinRole,this.leaveRole&&p.leaveRole,this.toggleAcceptingMembers&&p.toggleAcceptingMembers,this.addMember&&p.addMember,this.removeMember&&p.removeMember)}or(p){return new s(this.auth||p.auth,this.addKeys||p.addKeys,this.removeKeys&&p.removeKeys,this.changeName||p.changeName,this.createRole||p.createRole,this.removeRole||p.removeRole,this.setAuthorizer||p.setAuthorizer,this.joinRole||p.joinRole,this.leaveRole||p.leaveRole,this.toggleAcceptingMembers||p.toggleAcceptingMembers,this.addMember||p.addMember,this.removeMember||p.removeMember)}eq(p){return this.auth===p.auth&&this.addKeys===p.addKeys&&this.removeKeys==p.removeKeys&&this.changeName===p.changeName&&this.createRole===p.createRole&&this.removeRole===p.removeRole&&this.setAuthorizer===p.setAuthorizer&&this.joinRole===p.joinRole&&this.leaveRole===p.leaveRole&&this.toggleAcceptingMembers===p.toggleAcceptingMembers&&this.addMember===p.addMember&&this.removeMember===p.removeMember}contains(p){return(!p.auth||this.auth)&&(!p.addKeys||this.addKeys)&&(!p.removeKeys||this.removeKeys)&&(!p.changeName||this.changeName)&&(!p.createRole||this.createRole)&&(!p.removeRole||this.removeRole)&&(!p.setAuthorizer||this.setAuthorizer)&&(!p.joinRole||this.joinRole)&&(!p.leaveRole||this.leaveRole)&&(!p.toggleAcceptingMembers||this.toggleAcceptingMembers)&&(!p.addMember||this.addMember)&&(!p.removeMember||this.removeMember)}};n.ProfilePermissions=h=s=e([(0,c.staticImplements)(),t("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean])],h);function m(S){return"profile"in S?S.profile.key:S.profileKey}n.getProfileKey=m;function f(S,p,I){return"keyIndex"in S?S:Object.assign(Object.assign({},S),{validScopes:p,requiredPermissions:I})}n.profileKeyInputToFindKeyInput=f;function g(S,p){if("keyIndex"in S)return S;{const{key:I,profile:w,validScopes:A,requiredPermissions:_}=S,M=w.profileKeys.findIndex(P=>{const R=P.key.equals(I.publicKey()),$=P.scope.equals(S.playerProfileProgram.programId)&&h.fromPermissions(P.permissions).contains(h.auth()),z=()=>{for(const v of A)if(v.equals(P.scope))return!0;return!1},T=()=>p.fromPermissions(P.permissions).contains(_);return R&&($||z()&&T())});return M===-1?{error:"cannot find key"}:{profileKey:w.key,key:I,keyIndex:M}}}n.findKeyInProfile=g;let b=n.PlayerProfile=i=class{constructor(p,I,w){this._data=p,this._key=I,this._profileKeys=w}get data(){return this._data}get key(){return this._key}get profileKeys(){return this._profileKeys}static createProfile(p,I,w,A){return _=>r(this,void 0,void 0,function*(){return{instruction:yield p.methods.createProfile(w.map(E=>{if(E.expireTime!==null&&E.expireTime.lt(new a.BN(0)))throw new Error("expire time will result in negation. Use explicitly null instead");return{scope:E.scope,expireTime:E.expireTime===null?new a.BN(-1):E.expireTime,permissions:E.permissions.getPermissions()}}),A).accountsStrict({funder:_.publicKey(),profile:I.publicKey(),systemProgram:o.SystemProgram.programId}).remainingAccounts(w.map(E=>(0,c.isAsyncSigner)(E.key)?{pubkey:E.key.publicKey(),isSigner:!0,isWritable:!1}:{pubkey:E.key,isSigner:!1,isWritable:!1})).instruction(),signers:[_,I,...w.map(E=>E.key).filter(c.isAsyncSigner)]}})}static createRole(p,I,w,A){const _=g(f(I,[p.programId],h.changeName()),h);if("error"in _)throw _.error;const{profileKey:E,key:M,keyIndex:P}=_;return{instructions:R=>r(this,void 0,void 0,function*(){return[{instruction:yield p.methods.createRole(P).accountsStrict({funder:R.publicKey(),profile:E,systemProgram:o.SystemProgram.programId,newRoleAccount:w[0]}).remainingAccounts([{pubkey:M.publicKey(),isSigner:!0,isWritable:!1}].concat((0,u.getMetaAccountsFromProfilesOrRoles)(A))).instruction().then(z=>(0,u.addKeyIndexesToTransactionInstruction)(z,A)),signers:[R,M]}]}),role:w}}static removeRole(p,I,w,A){const _=g(f(I,[p.programId],h.changeName()),h);if("error"in _)throw _.error;const{profileKey:E,key:M,keyIndex:P}=_,[R,$]=l.PlayerName.findAddress(p,w);return z=>r(this,void 0,void 0,function*(){return[{instruction:yield p.methods.removeRole($,P).accountsStrict({funder:z.publicKey(),profile:E,roleAccount:w,roleNameAccount:R}).remainingAccounts([{pubkey:M.publicKey(),isSigner:!0,isWritable:!1}].concat((0,u.getMetaAccountsFromProfilesOrRoles)(A))).instruction().then(T=>(0,u.addKeyIndexesToTransactionInstruction)(T,A)),signers:[z,M]}]})}static setName(p,I,w,A){const _=g(f(I,[p.programId],h.changeName()),h);if("error"in _)throw _.error;const{profileKey:E,key:M,keyIndex:P}=_,R=l.PlayerName.findAddress(p,E);return{instructions:$=>r(this,void 0,void 0,function*(){return[{instruction:yield p.methods.setName(P,Xe.Buffer.from(new TextEncoder().encode(w))).accountsStrict({key:M.publicKey(),funder:$.publicKey(),profile:E,name:R[0],systemProgram:o.SystemProgram.programId}).remainingAccounts((0,u.getMetaAccountsFromProfilesOrRoles)(A)).instruction().then(z=>(0,u.addKeyIndexesToTransactionInstruction)(z,A)),signers:[$,M]}]}),name:R}}static addKeys(p,I,w,A,_,E,M){const P=E.reduce((z,T)=>z.or(T.permissions),A.empty()),{addKeyIndex:R,permissionsKeyIndex:$}=w.profileKeys.reduce((z,T,v)=>{if(z.addKeyIndex!==null&&z.permissionsKeyIndex!==null)return z;if(T.key.equals(I.publicKey())){if(T.scope.equals(p.programId)){const k=h.fromPermissions(T.permissions);if(k.auth)return{addKeyIndex:v,permissionsKeyIndex:v};k.addKeys&&(z.addKeyIndex=v)}_.equals(T.scope)&&P.and(A.fromPermissions(T.permissions)).eq(P)&&(z.permissionsKeyIndex=v)}return z},{addKeyIndex:null,permissionsKeyIndex:null});if(R===null||$===null)throw new Error("key does not have permissions to add given keys");return z=>r(this,void 0,void 0,function*(){return[{instruction:yield p.methods.addKeys(R,$,E.map(T=>({scope:_,expireTime:T.expireTime===null?new a.BN(-1):T.expireTime,permissions:T.permissions.getPermissions()}))).accountsStrict({funder:z.publicKey(),profile:w.key,key:I.publicKey(),systemProgram:o.SystemProgram.programId}).remainingAccounts(E.map(T=>({pubkey:T.key,isSigner:!1,isWritable:!1})).concat((0,u.getMetaAccountsFromProfilesOrRoles)(M))).instruction().then(T=>(0,u.addKeyIndexesToTransactionInstruction)(T,M)),signers:[z,I]}]})}static removeKeys(p,I,w,A,_){const E=g(f(I,[p.programId],h.removeKeys()),h);if("error"in E)throw E.error;const{profileKey:M,key:P,keyIndex:R}=E;return $=>r(this,void 0,void 0,function*(){return{instruction:yield p.methods.removeKeys(R,A).accountsStrict({funder:w==="funder"?$.publicKey():w,key:P.publicKey(),profile:M,systemProgram:o.SystemProgram.programId}).remainingAccounts((0,u.getMetaAccountsFromProfilesOrRoles)(_)).instruction().then(z=>(0,u.addKeyIndexesToTransactionInstruction)(z,_)),signers:[P]}})}static adjustAuth(p,I,w,A,_,E){if(I.length===0)throw new Error("no keys provided");const M=I.map(T=>g(f(T,[p.programId],h.auth()),h)),P=M.filter(T=>"error"in T);if(P.length>0)throw P[0].error;const R=M;let $=null;for(const T of R)if($===null)$=T.profileKey;else if(!$.equals(T.profileKey))throw new Error("keys are not from the same profile");if($===null)throw new Error("no keys provided after profile key");const z=w.map(T=>T(({key:v,expireTime:k,scope:x,permissions:C})=>{if(k!==null&&k.lt(new a.BN(0)))throw new Error("expire time will result in negation. Use explicitly null instead");return[{scope:x,expireTime:k===null?new a.BN(-1):k,permissions:C.getPermissions()},v]}));return T=>r(this,void 0,void 0,function*(){return{instruction:yield p.methods.adjustAuth(R.map(v=>v.keyIndex),z.map(([v])=>v),A,_).accountsStrict({funder:T.publicKey(),profile:$,systemProgram:o.SystemProgram.programId}).remainingAccounts([...R.map(v=>({pubkey:v.key.publicKey(),isSigner:!0,isWritable:!1})),...z.map(([v,k])=>({pubkey:k,isSigner:!1,isWritable:!1}))].concat((0,u.getMetaAccountsFromProfilesOrRoles)(E))).instruction().then(v=>(0,u.addKeyIndexesToTransactionInstruction)(v,E)),signers:[T,...R.map(v=>v.key)]}})}static decodeData(p,I){return(0,c.decodeAccountWithRemaining)(p,I,i,(w,A)=>{const _=w.readUint16LE();return w=w.subarray(2),Array(_).fill(0).map((E,M)=>I.coder.types.decode("ProfileKey",w.subarray(n.PROFILE_KEY_MIN_DATA_SIZE*M).subarray(0,n.PROFILE_KEY_MIN_DATA_SIZE)))})}};b.ACCOUNT_NAME="profile",b.MIN_DATA_SIZE=8+1+2+1+8+8,n.PlayerProfile=b=i=e([(0,c.staticImplements)(),t("design:paramtypes",[Object,o.PublicKey,Array])],b)})(yO);var EM={};(function(n){var e=K&&K.__decorate||function(u,l,d,y){var h=arguments.length,m=h<3?l:y===null?y=Object.getOwnPropertyDescriptor(l,d):y,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,l,d,y);else for(var g=u.length-1;g>=0;g--)(f=u[g])&&(m=(h<3?f(m):h>3?f(l,d,m):f(l,d))||m);return h>3&&m&&Object.defineProperty(l,d,m),m},t=K&&K.__metadata||function(u,l){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,l)},r;Object.defineProperty(n,"__esModule",{value:!0}),n.ProfileRoleMembership=n.roleMembershipEquals=n.ROLE_MEMBERSHIP_MIN_DATA_SIZE=n.MemberStatus=void 0;const s=kK,i=tr;var o;(function(u){u[u.Inactive=0]="Inactive",u[u.Active=1]="Active"})(o||(n.MemberStatus=o={})),n.ROLE_MEMBERSHIP_MIN_DATA_SIZE=32+1;function a(u,l){return u.key.equals(l.key)&&u.status===l.status}n.roleMembershipEquals=a;let c=n.ProfileRoleMembership=r=class{constructor(l,d,y){this._data=l,this._key=d,this._roleMemberships=y}get data(){return this._data}get key(){return this._key}get roleMemberships(){return this._roleMemberships}static findAddress(l,d,y){return s.PublicKey.findProgramAddressSync([Xe.Buffer.from("role-member"),d.toBuffer(),y.toBuffer()],l.programId)}static decodeData(l,d){return(0,i.decodeAccountWithRemaining)(l,d,r,(y,h)=>{const m=y.readUInt32LE();return y=y.subarray(4),Array(m).fill(0).map((f,g)=>d.coder.types.decode("RoleMembership",y.subarray(n.ROLE_MEMBERSHIP_MIN_DATA_SIZE*g).subarray(0,n.ROLE_MEMBERSHIP_MIN_DATA_SIZE)))})}};c.ACCOUNT_NAME="profileRoleMembership",c.MIN_DATA_SIZE=8+1+32+32+1,n.ProfileRoleMembership=c=r=e([(0,i.staticImplements)(),t("design:paramtypes",[Object,s.PublicKey,Array])],c)})(EM);var Qg={},pXe=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},bXe=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Od=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},x9;Object.defineProperty(Qg,"__esModule",{value:!0});Qg.RoleAccount=Qg.roleAccountEquals=void 0;const fy=kK,jwe=tr,qt=pA,Eu=EM;function SXe(n,e){return n.profile.equals(e.profile)&&n.authorizer.equals(e.authorizer)&&n.roleSeqId.eq(e.roleSeqId)&&n.acceptingNewMembers===e.acceptingNewMembers}Qg.roleAccountEquals=SXe;let pO=Qg.RoleAccount=x9=class{constructor(e,t,r){this._data=e,this._key=t,this._roleMembers=r}get data(){return this._data}get key(){return this._key}get roleMembers(){return this._roleMembers}static setName(e,t,r,s,i){const o=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId],qt.ProfilePermissions.changeName()),qt.ProfilePermissions);if("error"in o)throw o.error;const{profileKey:a,key:c,keyIndex:u}=o,l=qt.PlayerName.findAddress(e,r);return{instructions:d=>Od(this,void 0,void 0,function*(){return[{instruction:yield e.methods.setRoleName(u,Xe.Buffer.from(new TextEncoder().encode(s))).accountsStrict({funder:d.publicKey(),profile:a,name:l[0],systemProgram:fy.SystemProgram.programId,role:r}).remainingAccounts([{pubkey:c.publicKey(),isSigner:!0,isWritable:!1}].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(y=>(0,qt.addKeyIndexesToTransactionInstruction)(y,i)),signers:[d,c]}]}),name:l}}static setAuthorizer(e,t,r,s,i){const o=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId],qt.ProfilePermissions.changeName()),qt.ProfilePermissions);if("error"in o)throw o.error;const{profileKey:a,key:c,keyIndex:u}=o;return l=>Od(this,void 0,void 0,function*(){return[{instruction:yield e.methods.setRoleAuthorizer(u).accountsStrict({profile:a,funder:l.publicKey(),roleAccount:r,authorizer:s}).remainingAccounts([{pubkey:c.publicKey(),isSigner:!0,isWritable:!1}].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(d=>(0,qt.addKeyIndexesToTransactionInstruction)(d,i)),signers:[l,c]}]})}static joinRole(e,t,r,s){const{ownerKey:i,keyIndex:o,key:a}=(0,qt.ownerToAccounts)([e.programId,r.data.profile],qt.ProfilePermissions.joinRole(),t),c=Eu.ProfileRoleMembership.findAddress(e,r.data.profile,i.key);return{instructions:u=>Od(this,void 0,void 0,function*(){return[{instruction:yield e.methods.joinRole(o).accountsStrict({funder:u.publicKey(),systemProgram:fy.SystemProgram.programId,newMember:i.key,roleMembershipAccount:c[0],roleAccount:r.key}).remainingAccounts([...a===null?[]:[{pubkey:a.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(s))).instruction().then(l=>{const d=i.signer;if(d){const y=l.keys.find(h=>h.pubkey.equals(d.publicKey()));y&&(y.isSigner=!0)}return(0,qt.addKeyIndexesToTransactionInstruction)(l,s)}),signers:[u,i.signer,a].filter(l=>!!l&&"publicKey"in l)}]}),roleMembership:c}}static leaveRole(e,t,r,s,i){const{ownerKey:o,keyIndex:a,key:c}=(0,qt.ownerToAccounts)([e.programId,r.data.profile],qt.ProfilePermissions.joinRole(),t),u=(0,qt.findRoleInRoleMemberships)(r.roleMembers,Eu.MemberStatus.Active,o.key);if("error"in u)throw u.error;const{keyIndex:l}=u,d=(0,qt.findRoleInRoleMemberships)(s.roleMemberships,Eu.MemberStatus.Active,r.key);if("error"in d)throw d.error;const{keyIndex:y}=d;return h=>Od(this,void 0,void 0,function*(){return[{instruction:yield e.methods.leaveRole(a,l,y).accountsStrict({funder:h.publicKey(),systemProgram:fy.SystemProgram.programId,member:o.key,roleMembershipAccount:s.key,roleAccount:r.key}).remainingAccounts([...c===null?[]:[{pubkey:c.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(m=>{const f=o.signer;if(f){const g=m.keys.find(b=>b.pubkey.equals(f.publicKey()));g&&(g.isSigner=!0)}return(0,qt.addKeyIndexesToTransactionInstruction)(m,i)}),signers:[h,o.signer,c].filter(m=>!!m&&"publicKey"in m)}]})}static setAcceptingNewMembers(e,t,r,s){const i=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId,r],qt.ProfilePermissions.toggleAcceptingMembers()),qt.ProfilePermissions);if("error"in i)throw i.error;const{profileKey:o,key:a,keyIndex:c}=i;return u=>Od(this,void 0,void 0,function*(){return[{instruction:yield e.methods.setRoleAcceptingMembers(c).accountsStrict({profile:o,roleAccount:r}).remainingAccounts([{pubkey:a.publicKey(),isSigner:!0,isWritable:!1}].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(s))).instruction().then(l=>(0,qt.addKeyIndexesToTransactionInstruction)(l,s)),signers:[u,a]}]})}static setNotAcceptingNewMembers(e,t,r,s){const i=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId,r],qt.ProfilePermissions.toggleAcceptingMembers()),qt.ProfilePermissions);if("error"in i)throw i.error;const{profileKey:o,key:a,keyIndex:c}=i;return u=>Od(this,void 0,void 0,function*(){return[{instruction:yield e.methods.setRoleNotAcceptingMembers(c).accountsStrict({profile:o,roleAccount:r}).remainingAccounts([{pubkey:a.publicKey(),isSigner:!0,isWritable:!1}].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(s))).instruction().then(l=>(0,qt.addKeyIndexesToTransactionInstruction)(l,s)),signers:[u,a]}]})}static inviteToRole(e,t,r,s,i){const o=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId,r.key],qt.ProfilePermissions.toggleAcceptingMembers()),qt.ProfilePermissions);if("error"in o)throw o.error;const{profileKey:a,key:c,keyIndex:u}=o,l=Eu.ProfileRoleMembership.findAddress(e,r.data.profile,s);return{instructions:d=>Od(this,void 0,void 0,function*(){return[{instruction:yield e.methods.inviteMemberToRole(u).accountsStrict({profile:a,roleAccount:r.key,funder:d.publicKey(),systemProgram:fy.SystemProgram.programId,newMember:s,roleMembershipAccount:l[0]}).remainingAccounts([{pubkey:c.publicKey(),isSigner:!0,isWritable:!1}].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(y=>(0,qt.addKeyIndexesToTransactionInstruction)(y,i)),signers:[d,c]}]}),roleMembership:l}}static acceptInvite(e,t,r,s,i){const{ownerKey:o,keyIndex:a,key:c}=(0,qt.ownerToAccounts)([e.programId,r.data.profile],qt.ProfilePermissions.joinRole(),t),u=(0,qt.findRoleInRoleMemberships)(r.roleMembers,Eu.MemberStatus.Inactive,o.key);if("error"in u)throw u.error;const{keyIndex:l}=u,d=(0,qt.findRoleInRoleMemberships)(s.roleMemberships,Eu.MemberStatus.Inactive,r.key);if("error"in d)throw d.error;const{keyIndex:y}=d,h=Eu.ProfileRoleMembership.findAddress(e,r.data.profile,o.key);return{instructions:m=>Od(this,void 0,void 0,function*(){return[{instruction:yield e.methods.acceptRoleInvitation(a,l,y).accountsStrict({newMember:o.key,roleAccount:r.key,roleMembershipAccount:h[0]}).remainingAccounts([...c===null?[]:[{pubkey:c.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(f=>{const g=o.signer;if(g){const b=f.keys.find(S=>S.pubkey.equals(g.publicKey()));b&&(b.isSigner=!0)}return(0,qt.addKeyIndexesToTransactionInstruction)(f,i)}),signers:[m,o.signer,c].filter(f=>!!f&&"publicKey"in f)}]}),roleMembership:h}}static addExistingMemberToRole(e,t,r,s,i,o){const a=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId,r.key],qt.ProfilePermissions.toggleAcceptingMembers()),qt.ProfilePermissions);if("error"in a)throw a.error;const{profileKey:c,key:u,keyIndex:l}=a,d=(0,qt.findRoleInRoleMemberships)(s.roleMemberships,Eu.MemberStatus.Active);if("error"in d)throw d.error;const{keyIndex:y}=d,h=Eu.ProfileRoleMembership.findAddress(e,r.data.profile,i);return{instructions:m=>Od(this,void 0,void 0,function*(){return[{instruction:yield e.methods.addExistingMemberToRole(l,y).accountsStrict({profile:c,newMember:i,roleAccount:r.key,roleMembershipAccount:s.key,funder:m.publicKey(),systemProgram:fy.SystemProgram.programId}).remainingAccounts([...u===null?[]:[{pubkey:u.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(o))).instruction().then(g=>(0,qt.addKeyIndexesToTransactionInstruction)(g,o)),signers:[m,u]}]}),roleMembership:h}}static removeMemberFromRole(e,t,r,s,i,o){const a=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId,r.key],qt.ProfilePermissions.toggleAcceptingMembers()),qt.ProfilePermissions);if("error"in a)throw a.error;const{profileKey:c,key:u,keyIndex:l}=a,d=(0,qt.findRoleInRoleMemberships)(r.roleMembers,Eu.MemberStatus.Active,i);if("error"in d)throw d.error;const{keyIndex:y}=d,h=(0,qt.findRoleInRoleMemberships)(s.roleMemberships,Eu.MemberStatus.Active,r.key);if("error"in h)throw h.error;const{keyIndex:m}=h;return f=>Od(this,void 0,void 0,function*(){return[{instruction:yield e.methods.removeMemberFromRole(l,y,m).accountsStrict({profile:c,member:i,roleAccount:r.key,roleMembershipAccount:s.key,funder:f.publicKey(),systemProgram:fy.SystemProgram.programId}).remainingAccounts([...u===null?[]:[{pubkey:u.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(o))).instruction().then(b=>(0,qt.addKeyIndexesToTransactionInstruction)(b,o)),signers:[f,u]}]})}static findAddress(e,t,r){return fy.PublicKey.findProgramAddressSync([Xe.Buffer.from("profile-role"),t.toBuffer(),r.toArrayLike(Xe.Buffer,"le",8)],e.programId)}static decodeData(e,t){return(0,jwe.decodeAccountWithRemaining)(e,t,x9,(r,s)=>{const i=r.readUint32LE();return r=r.subarray(4),Array(i).fill(0).map((o,a)=>t.coder.types.decode("RoleMembership",r.subarray(Eu.ROLE_MEMBERSHIP_MIN_DATA_SIZE*a).subarray(0,Eu.ROLE_MEMBERSHIP_MIN_DATA_SIZE)))})}};pO.ACCOUNT_NAME="role";pO.MIN_DATA_SIZE=8+1+32+32+8+1+1;Qg.RoleAccount=pO=x9=pXe([(0,jwe.staticImplements)(),bXe("design:paramtypes",[Object,fy.PublicKey,Array])],pO);var vl={},kXe=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(vl,"__esModule",{value:!0});vl.getMetaAccountsFromProfilesOrRoles=vl.addKeyIndexesToTransactionInstruction=vl.findRoleInRoleMemberships=vl.findAllRoles=vl.ownerToAccounts=void 0;const vXe=tr,OW=yO,AXe=EM,wXe=Qg;function IXe(n,e,t){if("profile"in t){const r=(0,OW.findKeyInProfile)((0,OW.profileKeyInputToFindKeyInput)(t.profile,n,e),OW.ProfilePermissions);if("error"in r)throw new Error(r.error);return{ownerKey:{key:r.profileKey},keyIndex:r.keyIndex,key:r.key}}else return{ownerKey:{key:t.key.publicKey(),signer:t.key},keyIndex:0,key:null}}vl.ownerToAccounts=IXe;function PXe(n,e,t){return kXe(this,void 0,void 0,function*(){const r=[];return(yield(0,vXe.readAllFromRPC)(e,t,wXe.RoleAccount,"confirmed",[{memcmp:{offset:9,bytes:n.toBase58()}}])).forEach(i=>{i.type==="ok"&&r.push(i.data)}),r})}vl.findAllRoles=PXe;function _Xe(n,e=AXe.MemberStatus.Active,t){const r=n.findIndex(s=>{const i=!t||s.key.equals(t),o=s.status===e;return i&&o});return r===-1?{error:"Role membership not found"}:{roleMembership:{key:n[r].key,status:e},keyIndex:r}}vl.findRoleInRoleMemberships=_Xe;function EXe(n,e){const t=TXe(e);return n.data=Xe.Buffer.concat([n.data,t]),n}vl.addKeyIndexesToTransactionInstruction=EXe;function xXe(n){var e;return(e=n==null?void 0:n.map(t=>({pubkey:t.extraProfilesOrRoles,isSigner:!1,isWritable:!1})))!==null&&e!==void 0?e:[]}vl.getMetaAccountsFromProfilesOrRoles=xXe;function TXe(n){var e;const t=Xe.Buffer.alloc(2*((e=n==null?void 0:n.length)!==null&&e!==void 0?e:0));for(const[r,s]of(n??[]).entries())t.writeUint16LE(s.extraKeyIndexes,r*2);return t}(function(n){var e=K&&K.__createBinding||(Object.create?function(m,f,g,b){b===void 0&&(b=g);var S=Object.getOwnPropertyDescriptor(f,g);(!S||("get"in S?!f.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return f[g]}}),Object.defineProperty(m,b,S)}:function(m,f,g,b){b===void 0&&(b=g),m[b]=f[g]}),t=K&&K.__decorate||function(m,f,g,b){var S=arguments.length,p=S<3?f:b===null?b=Object.getOwnPropertyDescriptor(f,g):b,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(m,f,g,b);else for(var w=m.length-1;w>=0;w--)(I=m[w])&&(p=(S<3?I(p):S>3?I(f,g,p):I(f,g))||p);return S>3&&p&&Object.defineProperty(f,g,p),p},r=K&&K.__exportStar||function(m,f){for(var g in m)g!=="default"&&!Object.prototype.hasOwnProperty.call(f,g)&&e(f,m,g)},s=K&&K.__metadata||function(m,f){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(m,f)};Object.defineProperty(n,"__esModule",{value:!0}),n.PlayerProfileProgram=n.playerProfileErrorMap=n.PLAYER_PROFILE_IDL=void 0;const i=cc,o=tr,a=kM,c=Xg,u=yO,l=EM,d=Qg;var y=kM;Object.defineProperty(n,"PLAYER_PROFILE_IDL",{enumerable:!0,get:function(){return y.IDL}}),r(Xg,n),r(yO,n),r(EM,n),r(Qg,n),r(vl,n),n.playerProfileErrorMap=(0,o.generateErrorMap)(a.IDL);let h=n.PlayerProfileProgram=class extends o.ListenProgram{constructor(f){super(f,{profile:u.PlayerProfile,playerName:c.PlayerName,role:d.RoleAccount,roleMembership:l.ProfileRoleMembership})}static buildProgram(f,g,b){return new i.Program(a.IDL,f,g,b)}};n.PlayerProfileProgram=h=t([(0,o.staticImplements)(),s("design:paramtypes",[Object])],h)})(pA);const RXe=new HDe(GDe.address);var Hwe={},YY={},ud={};function bO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function CXe(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function ez(n,...e){if(!CXe(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function MXe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");bO(n.outputLen),bO(n.blockLen)}function FA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Gwe(n,e){ez(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const KW=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const BXe=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),LW=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Kd=(n,e)=>n<<32-e|n>>>e,Afe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,zXe=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function wfe(n){for(let e=0;e<n.length;e++)n[e]=zXe(n[e])}function $Xe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function vK(n){return typeof n=="string"&&(n=$Xe(n)),ez(n),n}function DXe(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];ez(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class ZY{clone(){return this._cloneInto()}}function JY(n){const e=r=>n().update(vK(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function Ywe(n=32){if(KW&&typeof KW.getRandomValues=="function")return KW.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function OXe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const KXe=(n,e,t)=>n&e^~n&t,LXe=(n,e,t)=>n&e^n&t^e&t;class Zwe extends ZY{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=LW(this.buffer)}update(e){FA(this);const{view:t,buffer:r,blockLen:s}=this;e=vK(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=LW(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){FA(this),Gwe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;OXe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=LW(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const b$=BigInt(2**32-1),T9=BigInt(32);function Jwe(n,e=!1){return e?{h:Number(n&b$),l:Number(n>>T9&b$)}:{h:Number(n>>T9&b$)|0,l:Number(n&b$)|0}}function Xwe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=Jwe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const WXe=(n,e)=>BigInt(n>>>0)<<T9|BigInt(e>>>0),NXe=(n,e,t)=>n>>>t,FXe=(n,e,t)=>n<<32-t|e>>>t,UXe=(n,e,t)=>n>>>t|e<<32-t,VXe=(n,e,t)=>n<<32-t|e>>>t,qXe=(n,e,t)=>n<<64-t|e>>>t-32,jXe=(n,e,t)=>n>>>t-32|e<<64-t,HXe=(n,e)=>e,GXe=(n,e)=>n,Qwe=(n,e,t)=>n<<t|e>>>32-t,eIe=(n,e,t)=>e<<t|n>>>32-t,tIe=(n,e,t)=>e<<t-32|n>>>64-t,rIe=(n,e,t)=>n<<t-32|e>>>64-t;function YXe(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const ZXe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),JXe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,XXe=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),QXe=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,eQe=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),tQe=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,rQe={fromBig:Jwe,split:Xwe,toBig:WXe,shrSH:NXe,shrSL:FXe,rotrSH:UXe,rotrSL:VXe,rotrBH:qXe,rotrBL:jXe,rotr32H:HXe,rotr32L:GXe,rotlSH:Qwe,rotlSL:eIe,rotlBH:tIe,rotlBL:rIe,add:YXe,add3L:ZXe,add3H:JXe,add4L:XXe,add4H:QXe,add5H:tQe,add5L:eQe};var $r=rQe;const[nQe,sQe]=(()=>$r.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),$m=new Uint32Array(80),Dm=new Uint32Array(80);class iQe extends Zwe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)$m[p]=e.getUint32(t),Dm[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=$m[p-15]|0,w=Dm[p-15]|0,A=$r.rotrSH(I,w,1)^$r.rotrSH(I,w,8)^$r.shrSH(I,w,7),_=$r.rotrSL(I,w,1)^$r.rotrSL(I,w,8)^$r.shrSL(I,w,7),E=$m[p-2]|0,M=Dm[p-2]|0,P=$r.rotrSH(E,M,19)^$r.rotrBH(E,M,61)^$r.shrSH(E,M,6),R=$r.rotrSL(E,M,19)^$r.rotrBL(E,M,61)^$r.shrSL(E,M,6),$=$r.add4L(_,R,Dm[p-7],Dm[p-16]),z=$r.add4H($,A,P,$m[p-7],$m[p-16]);$m[p]=z|0,Dm[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=$r.rotrSH(d,y,14)^$r.rotrSH(d,y,18)^$r.rotrBH(d,y,41),w=$r.rotrSL(d,y,14)^$r.rotrSL(d,y,18)^$r.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=$r.add5L(S,w,_,sQe[p],Dm[p]),M=$r.add5H(E,b,I,A,nQe[p],$m[p]),P=E|0,R=$r.rotrSH(r,s,28)^$r.rotrBH(r,s,34)^$r.rotrBH(r,s,39),$=$r.rotrSL(r,s,28)^$r.rotrBL(r,s,34)^$r.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=$r.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=$r.add3L(P,$,T);r=$r.add3H(v,M,R,z),s=v|0}({h:r,l:s}=$r.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=$r.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=$r.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=$r.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=$r.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=$r.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=$r.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=$r.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){$m.fill(0),Dm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const oQe=JY(()=>new iQe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const XY=BigInt(0),AK=BigInt(1),aQe=BigInt(2);function mS(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function tz(n){if(!mS(n))throw new Error("Uint8Array expected")}function jg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const cQe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function yS(n){tz(n);let e="";for(let t=0;t<n.length;t++)e+=cQe[n[t]];return e}function nIe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function QY(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Eh={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Ife(n){if(n>=Eh._0&&n<=Eh._9)return n-Eh._0;if(n>=Eh._A&&n<=Eh._F)return n-(Eh._A-10);if(n>=Eh._a&&n<=Eh._f)return n-(Eh._a-10)}function UA(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Ife(n.charCodeAt(i)),a=Ife(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function F1(n){return QY(yS(n))}function eA(n){return tz(n),QY(yS(Uint8Array.from(n).reverse()))}function VA(n,e){return UA(n.toString(16).padStart(e*2,"0"))}function xM(n,e){return VA(n,e).reverse()}function uQe(n){return UA(nIe(n))}function ta(n,e,t){let r;if(typeof e=="string")try{r=UA(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(mS(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function pS(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];tz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function lQe(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function dQe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const WW=n=>typeof n=="bigint"&&XY<=n;function wK(n,e,t){return WW(n)&&WW(e)&&WW(t)&&e<=n&&n<t}function Al(n,e,t,r){if(!wK(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function fQe(n){let e;for(e=0;n>XY;n>>=AK,e+=1);return e}function hQe(n,e){return n>>BigInt(e)&AK}function gQe(n,e,t){return n|(t?AK:XY)<<BigInt(e)}const eZ=n=>(aQe<<BigInt(n-1))-AK,NW=n=>new Uint8Array(n),Pfe=n=>Uint8Array.from(n);function sIe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=NW(n),s=NW(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=NW())=>{s=a(Pfe([0]),d),r=a(),d.length!==0&&(s=a(Pfe([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return pS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const mQe={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||mS(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Qx(n,e,t={}){const r=(s,i,o)=>{const a=mQe[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const yQe=()=>{throw new Error("not implemented")};function TM(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var pQe=Object.freeze(Object.defineProperty({__proto__:null,isBytes:mS,abytes:tz,abool:jg,bytesToHex:yS,numberToHexUnpadded:nIe,hexToNumber:QY,hexToBytes:UA,bytesToNumberBE:F1,bytesToNumberLE:eA,numberToBytesBE:VA,numberToBytesLE:xM,numberToVarBytesBE:uQe,ensureBytes:ta,concatBytes:pS,equalBytes:lQe,utf8ToBytes:dQe,inRange:wK,aInRange:Al,bitLen:fQe,bitGet:hQe,bitSet:gQe,bitMask:eZ,createHmacDrbg:sIe,validateObject:Qx,notImplemented:yQe,memoized:TM},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ja=BigInt(0),Di=BigInt(1),n1=BigInt(2),bQe=BigInt(3),R9=BigInt(4),_fe=BigInt(5),Efe=BigInt(8);BigInt(9);BigInt(16);function mi(n,e){const t=n%e;return t>=Ja?t:e+t}function SQe(n,e,t){if(t<=Ja||e<Ja)throw new Error("Expected power/modulo > 0");if(t===Di)return Ja;let r=Di;for(;e>Ja;)e&Di&&(r=r*n%t),n=n*n%t,e>>=Di;return r}function eo(n,e,t){let r=n;for(;e-- >Ja;)r*=r,r%=t;return r}function C9(n,e){if(n===Ja||e<=Ja)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=mi(n,e),r=e,s=Ja,i=Di;for(;t!==Ja;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Di)throw new Error("invert: does not exist");return mi(s,e)}function kQe(n){const e=(n-Di)/n1;let t,r,s;for(t=n-Di,r=0;t%n1===Ja;t/=n1,r++);for(s=n1;s<n&&SQe(s,e,n)!==n-Di;s++);if(r===1){const o=(n+Di)/R9;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Di)/n1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Di<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function vQe(n){if(n%R9===bQe){const e=(n+Di)/R9;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Efe===_fe){const e=(n-_fe)/Efe;return function(r,s){const i=r.mul(s,n1),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,n1),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return kQe(n)}const AQe=(n,e)=>(mi(n,e)&Di)===Di,wQe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function IQe(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=wQe.reduce((r,s)=>(r[s]="function",r),e);return Qx(n,t)}function PQe(n,e,t){if(t<Ja)throw new Error("Expected power > 0");if(t===Ja)return n.ONE;if(t===Di)return e;let r=n.ONE,s=e;for(;t>Ja;)t&Di&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Di;return r}function _Qe(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function iIe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function oIe(n,e,t=!1,r={}){if(n<=Ja)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=iIe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=vQe(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:eZ(s),ZERO:Ja,ONE:Di,create:c=>mi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ja<=c&&c<n},is0:c=>c===Ja,isOdd:c=>(c&Di)===Di,neg:c=>mi(-c,n),eql:(c,u)=>c===u,sqr:c=>mi(c*c,n),add:(c,u)=>mi(c+u,n),sub:(c,u)=>mi(c-u,n),mul:(c,u)=>mi(c*u,n),pow:(c,u)=>PQe(a,c,u),div:(c,u)=>mi(c*C9(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>C9(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>_Qe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?xM(c,i):VA(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?eA(c):F1(c)}});return Object.freeze(a)}function aIe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function cIe(n){const e=aIe(n);return e+Math.ceil(e/2)}function EQe(n,e,t=!1){const r=n.length,s=aIe(e),i=cIe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?F1(n):eA(n),a=mi(o,e-Di)+Di;return t?xM(a,s):VA(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xQe=BigInt(0),FW=BigInt(1),UW=new WeakMap,xfe=new WeakMap;function uIe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>xQe;)o&FW&&(a=a.add(c)),c=c.double(),o>>=FW;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=FW);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=xfe.get(i)||1;let u=UW.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&UW.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),xfe.set(i,o),UW.delete(i)}}}function tZ(n){return IQe(n.Fp),Qx(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...iIe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ol=BigInt(0),Uc=BigInt(1),S$=BigInt(2),TQe=BigInt(8),RQe={zip215:!0};function CQe(n){const e=tZ(n);return Qx(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function MQe(n){const e=CQe(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=S$<<BigInt(a*8)-Uc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Ol}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(jg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){Al("coordinate "+v,k,Ol,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=TM((v,k)=>{const{ex:x,ey:C,ez:B}=v,O=v.is0();k==null&&(k=O?TQe:t.inv(B));const D=l(x*k),W=l(C*k),L=l(B*k);if(O)return{x:Ol,y:Uc};if(L!==Uc)throw new Error("invZ was invalid");return{x:D,y:W}}),b=TM(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:O,et:D}=v,W=l(C*C),L=l(B*B),N=l(O*O),H=l(N*N),J=l(W*k),Q=l(N*l(J+L)),Y=l(H+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,Uc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:O,ey:D,ez:W}=k,L=l(x*W),N=l(O*B),H=l(C*W),J=l(D*B);return L===N&&H===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,O=l(x*x),D=l(C*C),W=l(S$*l(B*B)),L=l(k*O),N=x+C,H=l(l(N*N)-O-D),J=L+D,Q=J-W,Y=L-D,X=l(H*Q),re=l(J*Y),se=l(H*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:O,ez:D,et:W}=this,{ex:L,ey:N,ez:H,et:J}=k;if(x===BigInt(-1)){const Lt=l((O-B)*(N+L)),Dt=l((O+B)*(N-L)),et=l(Dt-Lt);if(et===Ol)return this.double();const Ue=l(D*S$*J),Wt=l(W*S$*H),sr=Wt+Ue,rr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(rr*pr),gn=l(sr*pr),ds=l(et*rr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(O*N),X=l(W*C*J),re=l(D*H),se=l((B+O)*(L+N)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),Pe=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(Pe,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;Al("scalar",x,Uc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return Al("scalar",x,Ol,r),x===Ol?I:this.equals(I)||x===Uc?this:this.equals(p)?this.wNAF(x).p:w.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Uc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,O=t.BYTES;k=ta("pointHex",k,O),jg("zip215",x);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=eA(D),N=x?u:t.ORDER;Al("pointHex.y",L,Ol,N);const H=l(L*L),J=l(H-Uc),Q=l(C*H-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Uc)===Uc,se=(W&128)!==0;if(!x&&X===Ol&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=xM(x,t.BYTES);return C[C.length-1]|=k&Uc?128:0,C}toHex(){return yS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Uc,l(e.Gx*e.Gy)),S.ZERO=new S(Ol,Uc,Uc,Ol);const{BASE:p,ZERO:I}=S,w=uIe(S,a*8);function A(v){return mi(v,r)}function _(v){return A(eA(v))}function E(v){const k=a;v=ta("private key",v,k);const x=ta("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),O=_(C),D=p.multiply(O),W=D.toRawBytes();return{head:C,prefix:B,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function P(v=new Uint8Array,...k){const x=pS(...k);return _(i(h(x,ta("context",v),!!s)))}function R(v,k,x={}){v=ta("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:O}=E(k),D=P(x.context,C,v),W=p.multiply(D).toRawBytes(),L=P(x.context,W,O,v),N=A(D+L*B);Al("signature.s",N,Ol,r);const H=pS(W,xM(N,t.BYTES));return ta("result",H,a*2)}const $=RQe;function z(v,k,x,C=$){const{context:B,zip215:O}=C,D=t.BYTES;v=ta("signature",v,2*D),k=ta("message",k),O!==void 0&&jg("zip215",O),s&&(k=s(k));const W=eA(v.slice(D,2*D));let L,N,H;try{L=S.fromHex(x,O),N=S.fromHex(v.slice(0,D),O),H=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=P(B,N.toRawBytes(),L.toRawBytes(),k);return N.add(L.multiplyUnsafe(J)).subtract(H).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rZ=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Tfe=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const BQe=BigInt(1),Rfe=BigInt(2);BigInt(3);const zQe=BigInt(5),$Qe=BigInt(8);function DQe(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=rZ,a=n*n%i*n%i,c=eo(a,Rfe,i)*a%i,u=eo(c,BQe,i)*n%i,l=eo(u,zQe,i)*u%i,d=eo(l,e,i)*l%i,y=eo(d,t,i)*d%i,h=eo(y,r,i)*y%i,m=eo(h,s,i)*h%i,f=eo(m,s,i)*h%i,g=eo(f,e,i)*l%i;return{pow_p_5_8:eo(g,Rfe,i)*n%i,b2:a}}function OQe(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function KQe(n,e){const t=rZ,r=mi(e*e*e,t),s=mi(r*r*e,t),i=DQe(n*s).pow_p_5_8;let o=mi(n*r*i,t);const a=mi(e*o*o,t),c=o,u=mi(o*Tfe,t),l=a===n,d=a===mi(-n,t),y=a===mi(-n*Tfe,t);return l&&(o=c),(d||y)&&(o=u),AQe(o,t)&&(o=mi(-o,t)),{isValid:l||d,value:o}}const LQe=(()=>oIe(rZ,void 0,!0))(),WQe=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:LQe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:$Qe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:oQe,randomBytes:Ywe,adjustScalarBytes:OQe,uvRatio:KQe}))(),eT=(()=>MQe(WQe))(),NQe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Om=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Km=new Uint32Array(64);class FQe extends Zwe{constructor(){super(64,32,8,!1),this.A=Om[0]|0,this.B=Om[1]|0,this.C=Om[2]|0,this.D=Om[3]|0,this.E=Om[4]|0,this.F=Om[5]|0,this.G=Om[6]|0,this.H=Om[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Km[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=Km[d-15],h=Km[d-2],m=Kd(y,7)^Kd(y,18)^y>>>3,f=Kd(h,17)^Kd(h,19)^h>>>10;Km[d]=f+Km[d-7]+m+Km[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Kd(a,6)^Kd(a,11)^Kd(a,25),h=l+y+KXe(a,c,u)+NQe[d]+Km[d]|0,f=(Kd(r,2)^Kd(r,13)^Kd(r,22))+LXe(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Km.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const M9=JY(()=>new FQe);class UQe extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function VQe(n){return rz(n)&&typeof n[Symbol.iterator]=="function"}function rz(n){return typeof n=="object"&&n!=null}function SO(n){return rz(n)&&!Array.isArray(n)}function Sd(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function qQe(n){const{done:e,value:t}=n.next();return e?void 0:t}function jQe(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Sd(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*Cfe(n,e,t,r){VQe(n)||(n=[n]);for(const s of n){const i=jQe(s,e,t,r);i&&(yield i)}}function*nZ(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=nZ(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):rz(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class fh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return Cfe(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return Cfe(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return lIe(e,this,t)}create(e,t){return mt(e,this,t)}is(e){return dIe(e,this)}mask(e,t){return HQe(e,this,t)}validate(e,t={}){return nz(e,this,t)}}function lIe(n,e,t){const r=nz(n,e,{message:t});if(r[0])throw r[0]}function mt(n,e,t){const r=nz(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function HQe(n,e,t){const r=nz(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function dIe(n,e){return!nz(n,e)[0]}function nz(n,e,t={}){const r=nZ(n,e,t),s=qQe(r);if(s[0])return[new UQe(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function ok(n,e){return new fh({type:n,schema:null,validator:e})}function GQe(){return ok("any",()=>!0)}function wt(n){return new fh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Sd(e)}`}})}function eh(){return ok("boolean",n=>typeof n=="boolean")}function sZ(n){return ok("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${Sd(e)}`)}function Ei(n){const e=Sd(n),t=typeof n;return new fh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${Sd(r)}`}})}function YQe(){return ok("never",()=>!1)}function Ct(n){return new fh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function me(){return ok("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${Sd(n)}`)}function fr(n){return new fh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function fIe(n,e){return new fh({type:"record",schema:null,*entries(t){if(rz(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return SO(t)||`Expected an object, but received: ${Sd(t)}`},coercer(t){return SO(t)?{...t}:t}})}function He(){return ok("string",n=>typeof n=="string"||`Expected a string, but received: ${Sd(n)}`)}function iZ(n){const e=YQe();return new fh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${Sd(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Ce(n){const e=Object.keys(n);return new fh({type:"type",schema:n,*entries(t){if(rz(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return SO(t)||`Expected an object, but received: ${Sd(t)}`},coercer(t){return SO(t)?{...t}:t}})}function Mc(n){const e=n.map(t=>t.type).join(" | ");return new fh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=nZ(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Sd(t)}`,...s]}})}function tT(){return ok("unknown",()=>!0)}function sz(n,e,t){return new fh({...n,coercer:(r,s)=>dIe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const hIe=[],gIe=[],mIe=[],ZQe=BigInt(0),PR=BigInt(1),JQe=BigInt(2),XQe=BigInt(7),QQe=BigInt(256),eet=BigInt(113);for(let n=0,e=PR,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],hIe.push(2*(5*r+t)),gIe.push((n+1)*(n+2)/2%64);let s=ZQe;for(let i=0;i<7;i++)e=(e<<PR^(e>>XQe)*eet)%QQe,e&JQe&&(s^=PR<<(PR<<BigInt(i))-PR);mIe.push(s)}const[tet,ret]=Xwe(mIe,!0),Mfe=(n,e,t)=>t>32?tIe(n,e,t):Qwe(n,e,t),Bfe=(n,e,t)=>t>32?rIe(n,e,t):eIe(n,e,t);function net(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=Mfe(u,l,1)^t[a],y=Bfe(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=gIe[o],c=Mfe(s,i,a),u=Bfe(s,i,a),l=hIe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=tet[r],n[1]^=ret[r]}t.fill(0)}class oZ extends ZY{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,bO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=BXe(this.state)}keccak(){Afe||wfe(this.state32),net(this.state32,this.rounds),Afe||wfe(this.state32),this.posOut=0,this.pos=0}update(e){FA(this);const{blockLen:t,state:r}=this;e=vK(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){FA(this,!1),ez(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return bO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Gwe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new oZ(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const set=(n,e,t)=>JY(()=>new oZ(e,n,t)),zfe=set(1,136,256/8);class yIe extends ZY{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,MXe(e);const r=vK(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return FA(this),this.iHash.update(e),this}digestInto(e){FA(this),ez(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const pIe=(n,e,t)=>new yIe(n,e).update(t).digest();pIe.create=(n,e)=>new yIe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $fe(n){n.lowS!==void 0&&jg("lowS",n.lowS),n.prehash!==void 0&&jg("prehash",n.prehash)}function iet(n){const e=tZ(n);Qx(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:oet,hexToBytes:aet}=pQe,E1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=E1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:oet(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=E1,t=typeof n=="string"?aet(n):n;tz(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=E1._parseInt(t.subarray(2)),{d:o,l:a}=E1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Ey=BigInt(0),ha=BigInt(1);BigInt(2);const Dfe=BigInt(3);BigInt(4);function cet(n){const e=iet(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return pS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return wK(m,ha,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(mS(m)&&(m=yS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:F1(ta("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=mi(p,S)),Al("private key",p,ha,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=TM((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=TM(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(ta("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),_=t.eql(t.mul(b,w),t.mul(I,S));return A&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,Dfe),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,_=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),P=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),_=t.mul(S,I),_=t.add(_,_),w=t.mul(f,_),A=t.mul(b,P),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),_=t.mul(b,_),P=t.mul(f,P),R=t.sub(E,P),R=t.mul(f,R),R=t.add(R,_),_=t.add(E,E),E=t.add(_,E),E=t.add(E,P),E=t.mul(E,R),A=t.add(A,E),P=t.mul(p,I),P=t.add(P,P),E=t.mul(P,R),w=t.sub(w,E),_=t.mul(P,M),_=t.add(_,_),_=t.add(_,_),new d(w,A,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,_=t.ZERO,E=t.ZERO;const M=e.a,P=t.mul(e.b,Dfe);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(P,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),_=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(P,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),_=t.add(_,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,_,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){Al("scalar",f,Ey,e.n);const g=d.ZERO;if(f===Ey)return g;if(f===ha)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,_=g,E=this;for(;p>Ey||w>Ey;)p&ha&&(A=A.add(E)),w&ha&&(_=_.add(E)),E=E.double(),p>>=ha,w>>=ha;return S&&(A=A.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),A.add(_)}multiply(f){const{endo:g,n:b}=e;Al("scalar",f,ha,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:_}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:P,f:R}=this.wNAF(_);E=h.constTimeNegate(I,E),P=h.constTimeNegate(A,P),P=new d(t.mul(P.px,g.beta),P.py,P.pz),S=E.add(P),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===Ey||A===ha||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===ha)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===ha?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return jg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return jg("isCompressed",f),yS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=uIe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function uet(n){const e=tZ(n);return Qx(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function det(n){const e=uet(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return mi(T,r)}function a(T){return C9(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=cet({...e,toBytes(T,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=pS;return jg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(T){const v=T.length,k=T[0],x=T.subarray(1);if(v===s&&(k===2||k===3)){const C=F1(x);if(!wK(C,ha,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let O;try{O=t.sqrt(B)}catch(L){const N=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+N)}const D=(O&ha)===ha;return(k&1)===1!==D&&(O=t.neg(O)),{x:C,y:O}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>yS(VA(T,e.nByteLength));function h(T){const v=r>>ha;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>F1(T.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=ta("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=E1.toSig(ta("DER",v));return new g(k,x)}assertValidity(){Al("r",this.r,ha,r),Al("s",this.s,ha,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=A(ta("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const O=C===2||C===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(C&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),N=o(-B*L),H=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,N,H);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return UA(this.toDERHex())}toDERHex(){return E1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return UA(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=cIe(e.n);return EQe(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=mS(T),k=typeof T=="string",x=(v||k)&&T.length;return v?x===s||x===i:k?x===2*s||x===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=F1(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},_=eZ(e.nBitLength);function E(T){return Al(`num < 2^${e.nBitLength}`,T,Ey,_),VA(T,e.nByteLength)}function M(T,v,k=P){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:O,extraEntropy:D}=k;B==null&&(B=!0),T=ta("msgHash",T),$fe(k),O&&(T=ta("prehashed msgHash",x(T)));const W=A(T),L=u(v),N=[E(L),E(W)];if(D!=null&&D!==!1){const Y=D===!0?C(t.BYTES):D;N.push(ta("extraEntropy",Y))}const H=pS(...N),J=W;function Q(Y){const X=w(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Ey)return;const ne=o(re*o(J+ee*L));if(ne===Ey)return;let ve=(se.x===ee?0:2)|Number(se.y&ha),Pe=ne;return B&&h(ne)&&(Pe=m(ne),ve^=1),new g(ee,Pe,ve)}return{seed:H,k2sig:Q}}const P={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=P){const{seed:x,k2sig:C}=M(T,v,k),B=e;return sIe(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function z(T,v,k,x=R){var se;const C=T;if(v=ta("msgHash",v),k=ta("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");$fe(x);const{lowS:B,prehash:O}=x;let D,W;try{if(typeof C=="string"||mS(C))try{D=g.fromDER(C)}catch(ee){if(!(ee instanceof E1.Err))throw ee;D=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:N}=D,H=A(v),J=a(N),Q=o(H*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function fet(n){return{hash:n,hmac:(e,...t)=>pIe(n,e,DXe(...t)),randomBytes:Ywe}}function het(n,e){const t=r=>det({...n,...fet(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bIe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ofe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),get=BigInt(1),B9=BigInt(2),Kfe=(n,e)=>(n+e/B9)/e;function met(n){const e=bIe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=eo(l,t,e)*l%e,y=eo(d,t,e)*l%e,h=eo(y,B9,e)*u%e,m=eo(h,s,e)*h%e,f=eo(m,i,e)*m%e,g=eo(f,a,e)*f%e,b=eo(g,c,e)*g%e,S=eo(b,a,e)*f%e,p=eo(S,t,e)*l%e,I=eo(p,o,e)*m%e,w=eo(I,r,e)*u%e,A=eo(w,B9,e);if(!z9.eql(z9.sqr(A),n))throw new Error("Cannot find square root");return A}const z9=oIe(bIe,void 0,void 0,{sqrt:met}),IK=het({a:BigInt(0),b:BigInt(7),Fp:z9,n:Ofe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Ofe,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-get*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=Kfe(i*n,e),c=Kfe(-r*n,e);let u=mi(n-a*t-c*s,e),l=mi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},M9);BigInt(0);IK.ProjectivePoint;const yet=eT.utils.randomPrivateKey,Lfe=()=>{const n=eT.utils.randomPrivateKey(),e=kO(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},kO=eT.getPublicKey;function Wfe(n){try{return eT.ExtendedPoint.fromHex(n),!0}catch{return!1}}const aZ=(n,e)=>eT.sign(n,e.slice(0,32)),pet=eT.verify,en=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class cZ{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(nm(W2,this))}static decode(e){return sm(W2,this,e)}static decodeUnchecked(e){return im(W2,this,e)}}class bet extends cZ{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const W2=new Map;var SIe;const kIe=32,Ff=32;function ket(n){return n._bn!==void 0}let Nfe=1;class st extends cZ{constructor(e){if(super({}),this._bn=void 0,ket(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Ff)throw new Error("Invalid public key input");this._bn=new Co(t)}else this._bn=new Co(e);if(this._bn.byteLength()>Ff)throw new Error("Invalid public key input")}}static unique(){const e=new st(Nfe);return Nfe+=1,new st(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Ff)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=M9(s);return new st(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>kIe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,en(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=M9(r);if(Wfe(s))throw new Error("Invalid seeds, address must fall off the curve");return new st(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new st(e);return Wfe(t.toBytes())}}SIe=st;st.default=new SIe("11111111111111111111111111111111");W2.set(st,{kind:"struct",fields:[["_bn","u256"]]});class vet{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=en(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=en(yet()),this._publicKey=en(kO(this._secretKey))}get publicKey(){return new st(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const Aet=new st("BPFLoader1111111111111111111111111111111111"),Vy=1280-40-8,PK=127,RM=64;class uZ extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(uZ.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class lZ extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(lZ.prototype,"name",{value:"TransactionExpiredTimeoutError"});class xv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(xv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class CM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const Sn=(n="publicKey")=>ie(32,n),wet=(n="signature")=>ie(64,n),x1=(n="string")=>{const e=F([U("length"),U("lengthPadding"),ie(Vt(U(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>U().span+U().span+V.Buffer.from(i,"utf8").length,s},Iet=(n="authorized")=>F([Sn("staker"),Sn("withdrawer")],n),Pet=(n="lockup")=>F([_e("unixTimestamp"),_e("epoch"),Sn("custodian")],n),_et=(n="voteInit")=>F([Sn("nodePubkey"),Sn("authorizedVoter"),Sn("authorizedWithdrawer"),te("commission")],n),Eet=(n="voteAuthorizeWithSeedArgs")=>F([U("voteAuthorizationType"),Sn("currentAuthorityDerivedKeyOwnerPubkey"),x1("currentAuthorityDerivedKeySeed"),Sn("newAuthorized")],n);function vIe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return vIe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function ou(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Wu(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Nn(n,e){if(!n)throw new Error(e||"Assertion failed")}class _K{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new _K(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Nn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Nn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Nn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new st(c)),...r.map(([c])=>new st(c)),...s.map(([c])=>new st(c)),...i.map(([c])=>new st(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new st(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Nn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const AIe="Reached end of buffer unexpectedly";function kf(n){if(n.length===0)throw new Error(AIe);return n.shift()}function au(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(AIe);return n.splice(...e)}class kd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new st(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new CM(this.staticAccountKeys)}static compile(e){const t=_K.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new CM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new kd({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Wu(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];Wu(f,y.length);let g=[];return Wu(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Wu(s,r.length);let i=V.Buffer.alloc(Vy);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=F([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=F([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(Sn("key"),e,"keys"),Sn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>en(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=kf(t);if(r!==(r&PK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=kf(t),i=kf(t),o=ou(t);let a=[];for(let y=0;y<o;y++){const h=au(t,0,Ff);a.push(new st(V.Buffer.from(h)))}const c=au(t,0,Ff),u=ou(t);let l=[];for(let y=0;y<u;y++){const h=kf(t),m=ou(t),f=au(t,0,m),g=ou(t),b=au(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new kd(d)}}class bS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new CM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=_K.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new CM(a,s).compileInstructions(e.instructions);return new bS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Wu(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Wu(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Wu(i,this.addressTableLookups.length);const o=F([te("prefix"),F([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(Sn(),this.staticAccountKeys.length,"staticAccountKeys"),Sn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Vy),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Vy);for(const r of this.compiledInstructions){const s=Array();Wu(s,r.accountKeyIndexes.length);const i=Array();Wu(i,r.data.length),e+=F([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Vy);for(const r of this.addressTableLookups){const s=Array();Wu(s,r.writableIndexes.length);const i=Array();Wu(i,r.readonlyIndexes.length),e+=F([Sn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=kf(t),s=r&PK;Nn(r!==s,"Expected versioned message but received legacy message");const i=s;Nn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:kf(t),numReadonlySignedAccounts:kf(t),numReadonlyUnsignedAccounts:kf(t)},a=[],c=ou(t);for(let m=0;m<c;m++)a.push(new st(au(t,0,Ff)));const u=Ie.encode(au(t,0,Ff)),l=ou(t),d=[];for(let m=0;m<l;m++){const f=kf(t),g=ou(t),b=au(t,0,g),S=ou(t),p=new Uint8Array(au(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=ou(t),h=[];for(let m=0;m<y;m++){const f=new st(au(t,0,Ff)),g=ou(t),b=au(t,0,g),S=ou(t),p=au(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new bS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const dZ={deserializeMessageVersion(n){const e=n[0],t=e&PK;return t===e?"legacy":t},deserialize:n=>{const e=dZ.deserializeMessageVersion(n);if(e==="legacy")return kd.from(n);if(e===0)return bS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Sg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const xet=V.Buffer.alloc(RM).fill(0);class ks{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Gn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new ks(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new st(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{Nn(f.programIdIndex>=0),f.accounts.forEach(g=>Nn(g>=0))}),new kd({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=aZ(r,s.secretKey);this._addSignature(s.publicKey,en(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Nn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):pet(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Wu(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Nn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Nn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Nn(i.length<=Vy,`Transaction too large: ${i.length} > ${Vy}`),i}get keys(){return Nn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Nn(this.instructions.length===1),this.instructions[0].programId}get data(){return Nn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=ou(t);let s=[];for(let i=0;i<r;i++){const o=au(t,0,RM);s.push(Ie.encode(V.Buffer.from(o)))}return Gn.populate(kd.from(t),s)}static populate(e,t=[]){const r=new Gn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(xet)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new ks({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class fZ{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Nn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Nn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new ks({programId:g,data:en(m.data),keys:f}))}return new fZ({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return kd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return bS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class hZ{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Nn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(RM));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Wu(t,this.signatures.length);const r=F([ie(t.length,"encodedSignaturesLength"),we(wet(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=ou(t);for(let o=0;o<s;o++)r.push(new Uint8Array(au(t,0,RM)));const i=dZ.deserialize(new Uint8Array(t));return new hZ(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Nn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=aZ(t,s.secretKey)}}addSignature(e,t){Nn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Nn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const Tet=160,Ret=64,Cet=Tet/Ret,wIe=1e3/Cet,nf=new st("SysvarC1ock11111111111111111111111111111111"),Met=new st("SysvarEpochSchedu1e111111111111111111111111"),Bet=new st("Sysvar1nstructions1111111111111111111111111"),AD=new st("SysvarRecentB1ockHashes11111111111111111111"),qA=new st("SysvarRent111111111111111111111111111111111"),zet=new st("SysvarRewards111111111111111111111111111111"),$et=new st("SysvarS1otHashes111111111111111111111111111"),Det=new st("SysvarS1otHistory11111111111111111111111111"),wD=new st("SysvarStakeHistory1111111111111111111111111");class MM extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const Oet={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Zt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function $9(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new MM({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function s1(n){return new Promise(e=>setTimeout(e,n))}function Rn(n,e){const t=n.layout.span>=0?n.layout.span:vIe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function ns(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const IIe=Ae("lamportsPerSignature"),PIe=F([U("version"),U("state"),Sn("authorizedPubkey"),Sn("nonce"),F([IIe],"feeCalculator")]),D9=PIe.span;class EK{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=PIe.decode(en(e),0);return new EK({authorizedPubkey:new st(t.authorizedPubkey),nonce:new st(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const Ket=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},Let=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=Ket(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return om(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=nc(o,n);return r(u,a,c)},i},jA=Let(8);class Wet{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Os))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=ns(Os.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new st(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=ns(Os.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=ns(Os.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new st(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=ns(Os.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=ns(Os.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new st(t),seed:r,space:s,programId:new st(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=ns(Os.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new st(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=ns(Os.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new st(t),seed:r,programId:new st(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=ns(Os.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new st(t),seed:r,lamports:s,space:i,programId:new st(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=ns(Os.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new st(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ns(Os.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ns(Os.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=ns(Os.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new st(t)}}static checkProgramId(e){if(!e.equals(Na.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Os=Object.freeze({Create:{index:0,layout:F([U("instruction"),_e("lamports"),_e("space"),Sn("programId")])},Assign:{index:1,layout:F([U("instruction"),Sn("programId")])},Transfer:{index:2,layout:F([U("instruction"),jA("lamports")])},CreateWithSeed:{index:3,layout:F([U("instruction"),Sn("base"),x1("seed"),_e("lamports"),_e("space"),Sn("programId")])},AdvanceNonceAccount:{index:4,layout:F([U("instruction")])},WithdrawNonceAccount:{index:5,layout:F([U("instruction"),_e("lamports")])},InitializeNonceAccount:{index:6,layout:F([U("instruction"),Sn("authorized")])},AuthorizeNonceAccount:{index:7,layout:F([U("instruction"),Sn("authorized")])},Allocate:{index:8,layout:F([U("instruction"),_e("space")])},AllocateWithSeed:{index:9,layout:F([U("instruction"),Sn("base"),x1("seed"),_e("space"),Sn("programId")])},AssignWithSeed:{index:10,layout:F([U("instruction"),Sn("base"),x1("seed"),Sn("programId")])},TransferWithSeed:{index:11,layout:F([U("instruction"),jA("lamports"),x1("seed"),Sn("programId")])},UpgradeNonceAccount:{index:12,layout:F([U("instruction")])}});class Na{constructor(){}static createAccount(e){const t=Os.Create,r=Rn(t,{lamports:e.lamports,space:e.space,programId:en(e.programId.toBuffer())});return new ks({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Os.TransferWithSeed;t=Rn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:en(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Os.Transfer;t=Rn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ks({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Os.AssignWithSeed;t=Rn(s,{base:en(e.basePubkey.toBuffer()),seed:e.seed,programId:en(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Os.Assign;t=Rn(s,{programId:en(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ks({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Os.CreateWithSeed,r=Rn(t,{base:en(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:en(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ks({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Gn;"basePubkey"in e&&"seed"in e?t.add(Na.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:D9,programId:this.programId})):t.add(Na.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:D9,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Os.InitializeNonceAccount,r=Rn(t,{authorized:en(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:AD,isSigner:!1,isWritable:!1},{pubkey:qA,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ks(s)}static nonceAdvance(e){const t=Os.AdvanceNonceAccount,r=Rn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:AD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ks(s)}static nonceWithdraw(e){const t=Os.WithdrawNonceAccount,r=Rn(t,{lamports:e.lamports});return new ks({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:AD,isSigner:!1,isWritable:!1},{pubkey:qA,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Os.AuthorizeNonceAccount,r=Rn(t,{authorized:en(e.newAuthorizedPubkey.toBuffer())});return new ks({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Os.AllocateWithSeed;t=Rn(s,{base:en(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:en(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Os.Allocate;t=Rn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ks({keys:r,programId:this.programId,data:t})}}Na.programId=new st("11111111111111111111111111111111");const Net=Vy-300;class SS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/SS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Gn,h.add(Na.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Gn,h.add(Na.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Gn,h.add(Na.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Gn().add(Na.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await $9(e,h,[t,r],{commitment:"confirmed"})}const o=F([U("instruction"),U("offset"),U("bytesLength"),U("bytesLengthPadding"),we(te("byte"),Vt(U(),-8),"bytes")]),a=SS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Gn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push($9(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await s1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=F([U("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Gn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:qA,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(wIe/2)))}}return!0}}SS.chunkSize=Net;const Fet=new st("BPFLoader2111111111111111111111111111111111");class Uet{static getMinNumSignatures(e){return SS.getMinNumSignatures(e)}static load(e,t,r,s,i){return SS.load(e,t,r,i,s)}}function Vet(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var VW,Ffe;function qet(){if(Ffe)return VW;Ffe=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return VW=function(r){var s=t(r,!1);if(s!==void 0)return""+s},VW}var jet=qet(),Ufe=Vet(jet);const _R=32;function qW(n){let e=0;for(;n>1;)n/=2,e++;return e}function Het(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class _Ie{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=qW(Het(e+_R+1))-qW(_R)-1,r=this.getSlotsInEpoch(t),s=e-(r-_R);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*_R:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+qW(_R)):this.slotsPerEpoch}}var Get=globalThis.fetch;class Yet extends Rb{constructor(e,t,r){const s=i=>{const o=Mb(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function Zet(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Vfe=56;class O9{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=Zet(Jet,e),r=e.length-Vfe;Nn(r>=0,"lookup table is invalid"),Nn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=F([we(Sn(),s,"addresses")]).decode(e.slice(Vfe));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new st(t.authority[0]):void 0,addresses:i.map(o=>new st(o))}}}const Jet={index:1,layout:F([U("typeIndex"),jA("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(Sn(),Vt(te(),-1),"authority")])},Xet=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Qet(n){const e=n.match(Xet);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Vi=sz(sZ(st),He(),n=>new st(n)),EIe=iZ([He(),Ei("base64")]),gZ=sz(sZ(V.Buffer),EIe,n=>V.Buffer.from(n[0],"base64")),xIe=30*1e3;function ett(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function xs(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function qfe(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function TIe(n){return Mc([Ce({jsonrpc:Ei("2.0"),id:He(),result:n}),Ce({jsonrpc:Ei("2.0"),id:He(),error:Ce({code:tT(),message:He(),data:fr(GQe())})})])}const ttt=TIe(tT());function qr(n){return sz(TIe(n),ttt,e=>"error"in e?e:{...e,result:mt(e.result,n)})}function fo(n){return qr(Ce({context:Ce({slot:me()}),value:n}))}function xK(n){return Ce({context:Ce({slot:me()}),value:n})}function jW(n,e){return n===0?new bS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new st(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new kd(e)}const rtt=Ce({foundation:me(),foundationTerm:me(),initial:me(),taper:me(),terminal:me()}),ntt=qr(wt(Ct(Ce({epoch:me(),effectiveSlot:me(),amount:me(),postBalance:me(),commission:fr(Ct(me()))})))),stt=wt(Ce({slot:me(),prioritizationFee:me()})),itt=Ce({total:me(),validator:me(),foundation:me(),epoch:me()}),ott=Ce({epoch:me(),slotIndex:me(),slotsInEpoch:me(),absoluteSlot:me(),blockHeight:fr(me()),transactionCount:fr(me())}),att=Ce({slotsPerEpoch:me(),leaderScheduleSlotOffset:me(),warmup:eh(),firstNormalEpoch:me(),firstNormalSlot:me()}),ctt=fIe(He(),wt(me())),ak=Ct(Mc([Ce({}),He()])),utt=Ce({err:ak}),ltt=Ei("receivedSignature"),dtt=Ce({"solana-core":He(),"feature-set":fr(me())}),ftt=Ce({program:He(),programId:Vi,parsed:tT()}),htt=Ce({programId:Vi,accounts:wt(Vi),data:He()}),jfe=fo(Ce({err:Ct(Mc([Ce({}),He()])),logs:Ct(wt(He())),accounts:fr(Ct(wt(Ct(Ce({executable:eh(),owner:He(),lamports:me(),data:wt(He()),rentEpoch:fr(me())}))))),unitsConsumed:fr(me()),returnData:fr(Ct(Ce({programId:He(),data:iZ([He(),Ei("base64")])}))),innerInstructions:fr(Ct(wt(Ce({index:me(),instructions:wt(Mc([ftt,htt]))}))))})),gtt=fo(Ce({byIdentity:fIe(He(),wt(me())),range:Ce({firstSlot:me(),lastSlot:me()})}));function mtt(n,e,t,r,s,i){const o=t||Get;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new Cb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},yrt)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await s1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function ytt(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function ptt(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const btt=qr(rtt),Stt=qr(itt),ktt=qr(stt),vtt=qr(ott),Att=qr(att),wtt=qr(ctt),Itt=qr(me()),Ptt=fo(Ce({total:me(),circulating:me(),nonCirculating:me(),nonCirculatingAccounts:wt(Vi)})),K9=Ce({amount:He(),uiAmount:Ct(me()),decimals:me(),uiAmountString:fr(He())}),_tt=fo(wt(Ce({address:Vi,amount:He(),uiAmount:Ct(me()),decimals:me(),uiAmountString:fr(He())}))),Ett=fo(wt(Ce({pubkey:Vi,account:Ce({executable:eh(),owner:Vi,lamports:me(),data:gZ,rentEpoch:me()})}))),L9=Ce({program:He(),parsed:tT(),space:me()}),xtt=fo(wt(Ce({pubkey:Vi,account:Ce({executable:eh(),owner:Vi,lamports:me(),data:L9,rentEpoch:me()})}))),Ttt=fo(wt(Ce({lamports:me(),address:Vi}))),BM=Ce({executable:eh(),owner:Vi,lamports:me(),data:gZ,rentEpoch:me()}),Rtt=Ce({pubkey:Vi,account:BM}),Ctt=sz(Mc([sZ(V.Buffer),L9]),Mc([EIe,L9]),n=>Array.isArray(n)?mt(n,gZ):n),W9=Ce({executable:eh(),owner:Vi,lamports:me(),data:Ctt,rentEpoch:me()}),Mtt=Ce({pubkey:Vi,account:W9}),Btt=Ce({state:Mc([Ei("active"),Ei("inactive"),Ei("activating"),Ei("deactivating")]),active:me(),inactive:me()}),ztt=qr(wt(Ce({signature:He(),slot:me(),err:ak,memo:Ct(He()),blockTime:fr(Ct(me()))}))),$tt=qr(wt(Ce({signature:He(),slot:me(),err:ak,memo:Ct(He()),blockTime:fr(Ct(me()))}))),Dtt=Ce({subscription:me(),result:xK(BM)}),Ott=Ce({pubkey:Vi,account:BM}),Ktt=Ce({subscription:me(),result:xK(Ott)}),Ltt=Ce({parent:me(),slot:me(),root:me()}),Wtt=Ce({subscription:me(),result:Ltt}),Ntt=Mc([Ce({type:Mc([Ei("firstShredReceived"),Ei("completed"),Ei("optimisticConfirmation"),Ei("root")]),slot:me(),timestamp:me()}),Ce({type:Ei("createdBank"),parent:me(),slot:me(),timestamp:me()}),Ce({type:Ei("frozen"),slot:me(),timestamp:me(),stats:Ce({numTransactionEntries:me(),numSuccessfulTransactions:me(),numFailedTransactions:me(),maxTransactionsPerEntry:me()})}),Ce({type:Ei("dead"),slot:me(),timestamp:me(),err:He()})]),Ftt=Ce({subscription:me(),result:Ntt}),Utt=Ce({subscription:me(),result:xK(Mc([utt,ltt]))}),Vtt=Ce({subscription:me(),result:me()}),qtt=Ce({pubkey:He(),gossip:Ct(He()),tpu:Ct(He()),rpc:Ct(He()),version:Ct(He())}),Hfe=Ce({votePubkey:He(),nodePubkey:He(),activatedStake:me(),epochVoteAccount:eh(),epochCredits:wt(iZ([me(),me(),me()])),commission:me(),lastVote:me(),rootSlot:Ct(me())}),jtt=qr(Ce({current:wt(Hfe),delinquent:wt(Hfe)})),Htt=Mc([Ei("processed"),Ei("confirmed"),Ei("finalized")]),Gtt=Ce({slot:me(),confirmations:Ct(me()),err:ak,confirmationStatus:fr(Htt)}),Ytt=fo(wt(Ct(Gtt))),Ztt=qr(me()),RIe=Ce({accountKey:Vi,writableIndexes:wt(me()),readonlyIndexes:wt(me())}),mZ=Ce({signatures:wt(He()),message:Ce({accountKeys:wt(He()),header:Ce({numRequiredSignatures:me(),numReadonlySignedAccounts:me(),numReadonlyUnsignedAccounts:me()}),instructions:wt(Ce({accounts:wt(me()),data:He(),programIdIndex:me()})),recentBlockhash:He(),addressTableLookups:fr(wt(RIe))})}),CIe=Ce({pubkey:Vi,signer:eh(),writable:eh(),source:fr(Mc([Ei("transaction"),Ei("lookupTable")]))}),MIe=Ce({accountKeys:wt(CIe),signatures:wt(He())}),BIe=Ce({parsed:tT(),program:He(),programId:Vi}),zIe=Ce({accounts:wt(Vi),data:He(),programId:Vi}),Jtt=Mc([zIe,BIe]),Xtt=Mc([Ce({parsed:tT(),program:He(),programId:He()}),Ce({accounts:wt(He()),data:He(),programId:He()})]),$Ie=sz(Jtt,Xtt,n=>"accounts"in n?mt(n,zIe):mt(n,BIe)),DIe=Ce({signatures:wt(He()),message:Ce({accountKeys:wt(CIe),instructions:wt($Ie),recentBlockhash:He(),addressTableLookups:fr(Ct(wt(RIe)))})}),vO=Ce({accountIndex:me(),mint:He(),owner:fr(He()),programId:fr(He()),uiTokenAmount:K9}),OIe=Ce({writable:wt(Vi),readonly:wt(Vi)}),TK=Ce({err:ak,fee:me(),innerInstructions:fr(Ct(wt(Ce({index:me(),instructions:wt(Ce({accounts:wt(me()),data:He(),programIdIndex:me()}))})))),preBalances:wt(me()),postBalances:wt(me()),logMessages:fr(Ct(wt(He()))),preTokenBalances:fr(Ct(wt(vO))),postTokenBalances:fr(Ct(wt(vO))),loadedAddresses:fr(OIe),computeUnitsConsumed:fr(me())}),yZ=Ce({err:ak,fee:me(),innerInstructions:fr(Ct(wt(Ce({index:me(),instructions:wt($Ie)})))),preBalances:wt(me()),postBalances:wt(me()),logMessages:fr(Ct(wt(He()))),preTokenBalances:fr(Ct(wt(vO))),postTokenBalances:fr(Ct(wt(vO))),loadedAddresses:fr(OIe),computeUnitsConsumed:fr(me())}),rT=Mc([Ei(0),Ei("legacy")]),ck=Ce({pubkey:He(),lamports:me(),postBalance:Ct(me()),rewardType:Ct(He()),commission:fr(Ct(me()))}),Qtt=qr(Ct(Ce({blockhash:He(),previousBlockhash:He(),parentSlot:me(),transactions:wt(Ce({transaction:mZ,meta:Ct(TK),version:fr(rT)})),rewards:fr(wt(ck)),blockTime:Ct(me()),blockHeight:Ct(me())}))),ert=qr(Ct(Ce({blockhash:He(),previousBlockhash:He(),parentSlot:me(),rewards:fr(wt(ck)),blockTime:Ct(me()),blockHeight:Ct(me())}))),trt=qr(Ct(Ce({blockhash:He(),previousBlockhash:He(),parentSlot:me(),transactions:wt(Ce({transaction:MIe,meta:Ct(TK),version:fr(rT)})),rewards:fr(wt(ck)),blockTime:Ct(me()),blockHeight:Ct(me())}))),rrt=qr(Ct(Ce({blockhash:He(),previousBlockhash:He(),parentSlot:me(),transactions:wt(Ce({transaction:DIe,meta:Ct(yZ),version:fr(rT)})),rewards:fr(wt(ck)),blockTime:Ct(me()),blockHeight:Ct(me())}))),nrt=qr(Ct(Ce({blockhash:He(),previousBlockhash:He(),parentSlot:me(),transactions:wt(Ce({transaction:MIe,meta:Ct(yZ),version:fr(rT)})),rewards:fr(wt(ck)),blockTime:Ct(me()),blockHeight:Ct(me())}))),srt=qr(Ct(Ce({blockhash:He(),previousBlockhash:He(),parentSlot:me(),rewards:fr(wt(ck)),blockTime:Ct(me()),blockHeight:Ct(me())}))),irt=qr(Ct(Ce({blockhash:He(),previousBlockhash:He(),parentSlot:me(),transactions:wt(Ce({transaction:mZ,meta:Ct(TK)})),rewards:fr(wt(ck)),blockTime:Ct(me())}))),Gfe=qr(Ct(Ce({blockhash:He(),previousBlockhash:He(),parentSlot:me(),signatures:wt(He()),blockTime:Ct(me())}))),HW=qr(Ct(Ce({slot:me(),meta:Ct(TK),blockTime:fr(Ct(me())),transaction:mZ,version:fr(rT)}))),k$=qr(Ct(Ce({slot:me(),transaction:DIe,meta:Ct(yZ),blockTime:fr(Ct(me())),version:fr(rT)}))),ort=fo(Ce({blockhash:He(),feeCalculator:Ce({lamportsPerSignature:me()})})),art=fo(Ce({blockhash:He(),lastValidBlockHeight:me()})),crt=fo(eh()),urt=Ce({slot:me(),numTransactions:me(),numSlots:me(),samplePeriodSecs:me()}),lrt=qr(wt(urt)),drt=fo(Ct(Ce({feeCalculator:Ce({lamportsPerSignature:me()})}))),frt=qr(He()),hrt=qr(He()),grt=Ce({err:ak,logs:wt(He()),signature:He()}),mrt=Ce({result:xK(grt),subscription:me()}),yrt={"solana-client":"js/1.0.0-maintenance"};class prt{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=xs(l),h=this._buildArgs([],d,void 0,y),m=Ufe(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=mt(f,qr(me()));if("error"in g)throw new Zt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=ett(e),this._rpcWsEndpoint=r||Qet(e),this._rpcClient=mtt(e,s,i,o,a,c),this._rpcRequest=ytt(this._rpcClient),this._rpcBatchRequest=ptt(this._rpcClient),this._rpcWebSocket=new Yet(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=mt(o,fo(me()));if("error"in a)throw new Zt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=mt(t,qr(Ct(me())));if("error"in r)throw new Zt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=mt(e,qr(me()));if("error"in t)throw new Zt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=mt(e,Itt);if("error"in t)throw new Zt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=mt(r,Ptt);if("error"in s)throw new Zt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=mt(s,fo(K9));if("error"in i)throw new Zt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=mt(s,fo(K9));if("error"in i)throw new Zt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=xs(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=mt(c,Ett);if("error"in u)throw new Zt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=mt(o,xtt);if("error"in a)throw new Zt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=mt(s,Ttt);if("error"in i)throw new Zt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=mt(s,_tt);if("error"in i)throw new Zt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=mt(o,fo(Ct(BM)));if("error"in a)throw new Zt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=mt(o,fo(Ct(W9)));if("error"in a)throw new Zt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=xs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=mt(a,fo(wt(Ct(W9))));if("error"in c)throw new Zt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=xs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=mt(a,fo(wt(Ct(BM))));if("error"in c)throw new Zt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=xs(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=mt(a,qr(Btt));if("error"in c)throw new Zt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=xs(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:qfe(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=wt(Rtt),l=o.withContext===!0?mt(c,fo(u)):mt(c,qr(u));if("error"in l)throw new Zt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=mt(o,qr(wt(Mtt)));if("error"in a)throw new Zt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Nn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:Sg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:Sg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await s1(1e3),i||(h=await y(),i))return;d({__type:Sg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===Sg.PROCESSED)l=d.response;else throw new uZ(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:Sg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await s1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===Sg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await s1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new xv(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new xv(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new xv(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new xv(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:Sg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===Sg.PROCESSED)a=c.response;else throw new lZ(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=mt(e,qr(wt(qtt)));if("error"in t)throw new Zt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=mt(r,jtt);if("error"in s)throw new Zt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=xs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=mt(i,qr(me()));if("error"in o)throw new Zt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=xs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=mt(i,qr(He()));if("error"in o)throw new Zt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=mt(s,qr(wt(Vi)));if("error"in i)throw new Zt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Nn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=mt(s,Ytt);if("error"in i)throw new Zt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=xs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=mt(i,qr(me()));if("error"in o)throw new Zt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=mt(r,btt);if("error"in s)throw new Zt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=xs(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=mt(a,ntt);if("error"in c)throw new Zt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=mt(e,Stt);if("error"in t)throw new Zt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=xs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=mt(i,vtt);if("error"in o)throw new Zt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=mt(e,Att);if("error"in t)throw new Zt(t.error,"failed to get epoch schedule");const r=t.result;return new _Ie(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=mt(e,wtt);if("error"in t)throw new Zt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=mt(s,Ztt);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=mt(r,ort);if("error"in s)throw new Zt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=mt(t,lrt);if("error"in r)throw new Zt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=mt(s,drt);if("error"in i)throw new Zt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=en(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=mt(i,fo(Ct(me())));if("error"in o)throw new Zt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=mt(s,ktt);if("error"in i)throw new Zt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=xs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=mt(i,art);if("error"in o)throw new Zt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=mt(o,crt);if("error"in a)throw new Zt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=mt(e,qr(dtt));if("error"in t)throw new Zt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=mt(e,qr(He()));if("error"in t)throw new Zt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=mt(o,trt);if("error"in a)throw a.error;return a.result}case"none":{const a=mt(o,ert);if("error"in a)throw a.error;return a.result}default:{const a=mt(o,Qtt);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:jW(d,u.message)},version:d}))}:null}}}catch(a){throw new Zt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=mt(o,nrt);if("error"in a)throw a.error;return a.result}case"none":{const a=mt(o,srt);if("error"in a)throw a.error;return a.result}default:{const a=mt(o,rrt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Zt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=mt(i,gtt);if("error"in o)throw new Zt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=mt(o,HW);if("error"in a)throw new Zt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:jW(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=mt(o,k$);if("error"in a)throw new Zt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=xs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=mt(c,k$);if("error"in u)throw new Zt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=xs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=mt(c,HW);if("error"in u)throw new Zt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:jW(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=mt(s,irt);if("error"in i)throw new Zt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new kd(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Gn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=mt(i,qr(wt(me())));if("error"in o)throw new Zt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=mt(s,Gfe);if("error"in i)throw new Zt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=mt(s,Gfe);if("error"in i)throw new Zt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=mt(s,HW);if("error"in i)throw new Zt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new kd(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Gn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=mt(s,k$);if("error"in i)throw new Zt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=mt(o,k$);if("error"in a)throw new Zt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=mt(i,ztt);if("error"in o)throw new Zt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=mt(i,$tt);if("error"in o)throw new Zt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new O9({key:e,state:O9.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=EK.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=mt(r,frt);if("error"in s)throw new Zt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await s1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=xIe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await s1(wIe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=xs(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=mt(i,fo(me()));if("error"in o)throw new Zt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=mt(p,jfe);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Gn){let m=e;s=new Gn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Gn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=mt(y,jfe);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new MM({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=en(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=mt(a,hrt);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new MM({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=mt(e,Dtt);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=Ufe([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Nn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=xs(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=mt(e,Ktt);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=xs(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:qfe(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=mt(e,mrt);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=mt(e,Wtt);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=mt(e,Ftt);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=mt(e,Utt);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=mt(e,Vtt);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class tA{constructor(e){this._keypair=void 0,this._keypair=e??Lfe()}static generate(){return new tA(Lfe())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=kO(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new tA({publicKey:r,secretKey:e})}static fromSeed(e){const t=kO(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new tA({publicKey:t,secretKey:r})}get publicKey(){return new st(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const zg=Object.freeze({CreateLookupTable:{index:0,layout:F([U("instruction"),jA("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:F([U("instruction")])},ExtendLookupTable:{index:2,layout:F([U("instruction"),jA(),we(Sn(),Vt(U(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:F([U("instruction")])},CloseLookupTable:{index:4,layout:F([U("instruction")])}});class brt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(zg))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=ns(zg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=ns(zg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new st(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(pZ.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class pZ{constructor(){}static createLookupTable(e){const[t,r]=st.findProgramAddressSync([e.authority.toBuffer(),nc(BigInt(e.recentSlot),8)],this.programId),s=zg.CreateLookupTable,i=Rn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Na.programId,isSigner:!1,isWritable:!1}];return[new ks({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=zg.FreezeLookupTable,r=Rn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ks({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=zg.ExtendLookupTable,r=Rn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Na.programId,isSigner:!1,isWritable:!1}),new ks({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=zg.DeactivateLookupTable,r=Rn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ks({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=zg.CloseLookupTable,r=Rn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ks({programId:this.programId,keys:s,data:r})}}pZ.programId=new st("AddressLookupTab1e1111111111111111111111111");class Srt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(vf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=ns(vf.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=ns(vf.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=ns(vf.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=ns(vf.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(bZ.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const vf=Object.freeze({RequestUnits:{index:0,layout:F([te("instruction"),U("units"),U("additionalFee")])},RequestHeapFrame:{index:1,layout:F([te("instruction"),U("bytes")])},SetComputeUnitLimit:{index:2,layout:F([te("instruction"),U("units")])},SetComputeUnitPrice:{index:3,layout:F([te("instruction"),jA("microLamports")])}});class bZ{constructor(){}static requestUnits(e){const t=vf.RequestUnits,r=Rn(t,e);return new ks({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=vf.RequestHeapFrame,r=Rn(t,e);return new ks({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=vf.SetComputeUnitLimit,r=Rn(t,e);return new ks({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=vf.SetComputeUnitPrice,r=Rn(t,{microLamports:BigInt(e.microLamports)});return new ks({keys:[],programId:this.programId,data:r})}}bZ.programId=new st("ComputeBudget111111111111111111111111111111");const Yfe=64,Zfe=32,Jfe=64,Xfe=F([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class RK{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Nn(t.length===Zfe,`Public Key must be ${Zfe} bytes but received ${t.length} bytes`),Nn(s.length===Jfe,`Signature must be ${Jfe} bytes but received ${s.length} bytes`);const o=Xfe.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return Xfe.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new ks({keys:[],programId:RK.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Nn(t.length===Yfe,`Private key must be ${Yfe} bytes but received ${t.length} bytes`);try{const i=tA.fromSecretKey(t),o=i.publicKey.toBytes(),a=aZ(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}RK.programId=new st("Ed25519SigVerify111111111111111111111111111");const krt=(n,e)=>{const t=IK.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};IK.utils.isValidPrivateKey;const vrt=IK.getPublicKey,Qfe=32,GW=20,ehe=64,Art=11,YW=F([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class rA{constructor(){}static publicKeyToEthAddress(e){Nn(e.length===ehe,`Public key must be ${ehe} bytes but received ${e.length} bytes`);try{return V.Buffer.from(zfe(en(e))).slice(-GW)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return rA.createInstructionWithEthAddress({ethAddress:rA.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Nn(a.length===GW,`Address must be ${GW} bytes but received ${a.length} bytes`);const c=1+Art,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(YW.span+r.length);return YW.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:en(s),ethAddress:en(a),recoveryId:i},h),h.fill(en(r),YW.span),new ks({keys:[],programId:rA.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Nn(t.length===Qfe,`Private key must be ${Qfe} bytes but received ${t.length} bytes`);try{const i=en(t),o=vrt(i,!1).slice(1),a=V.Buffer.from(zfe(en(r))),[c,u]=krt(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}rA.programId=new st("KeccakSecp256k11111111111111111111111111111");var KIe;const LIe=new st("StakeConfig11111111111111111111111111111111");class WIe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class iz{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}KIe=iz;iz.default=new KIe(0,0,st.default);class wrt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Aa))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=ns(Aa.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new WIe(new st(t.staker),new st(t.withdrawer)),lockup:new iz(r.unixTimestamp,r.epoch,new st(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),ns(Aa.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=ns(Aa.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new st(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=ns(Aa.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new st(i),newAuthorizedPubkey:new st(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ns(Aa.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ns(Aa.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ns(Aa.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ns(Aa.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(CK.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Aa=Object.freeze({Initialize:{index:0,layout:F([U("instruction"),Iet(),Pet()])},Authorize:{index:1,layout:F([U("instruction"),Sn("newAuthorized"),U("stakeAuthorizationType")])},Delegate:{index:2,layout:F([U("instruction")])},Split:{index:3,layout:F([U("instruction"),_e("lamports")])},Withdraw:{index:4,layout:F([U("instruction"),_e("lamports")])},Deactivate:{index:5,layout:F([U("instruction")])},Merge:{index:7,layout:F([U("instruction")])},AuthorizeWithSeed:{index:8,layout:F([U("instruction"),Sn("newAuthorized"),U("stakeAuthorizationType"),x1("authoritySeed"),Sn("authorityOwner")])}}),Irt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class CK{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||iz.default,o=Aa.Initialize,a=Rn(o,{authorized:{staker:en(r.staker.toBuffer()),withdrawer:en(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:en(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:qA,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new ks(c)}static createAccountWithSeed(e){const t=new Gn;t.add(Na.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Gn;t.add(Na.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=Aa.Delegate,o=Rn(i);return new Gn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:wD,isSigner:!1,isWritable:!1},{pubkey:LIe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=Aa.Authorize,c=Rn(a,{newAuthorized:en(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:nf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Gn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Aa.AuthorizeWithSeed,l=Rn(u,{newAuthorized:en(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:en(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:nf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Gn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=Aa.Split,a=Rn(o,{lamports:i});return new ks({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Gn;return r.add(Na.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Gn;return u.add(Na.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(Na.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=Aa.Merge,o=Rn(i);return new Gn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:wD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=Aa.Withdraw,c=Rn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:wD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Gn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=Aa.Deactivate,i=Rn(s);return new Gn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}CK.programId=new st("Stake11111111111111111111111111111111111111");CK.space=200;class NIe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class Prt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Af))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=ns(Af.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new NIe(new st(t.nodePubkey),new st(t.authorizedVoter),new st(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=ns(Af.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new st(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=ns(Af.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new st(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new st(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ns(Af.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(nT.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Af=Object.freeze({InitializeAccount:{index:0,layout:F([U("instruction"),_et()])},Authorize:{index:1,layout:F([U("instruction"),Sn("newAuthorized"),U("voteAuthorizationType")])},Withdraw:{index:3,layout:F([U("instruction"),_e("lamports")])},UpdateValidatorIdentity:{index:4,layout:F([U("instruction")])},AuthorizeWithSeed:{index:10,layout:F([U("instruction"),Eet()])}}),_rt=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class nT{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=Af.InitializeAccount,o=Rn(i,{voteInit:{nodePubkey:en(s.nodePubkey.toBuffer()),authorizedVoter:en(s.authorizedVoter.toBuffer()),authorizedWithdrawer:en(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:qA,isSigner:!1,isWritable:!1},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new ks(a)}static createAccount(e){const t=new Gn;return t.add(Na.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=Af.Authorize,a=Rn(o,{newAuthorized:en(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Gn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=Af.AuthorizeWithSeed,u=Rn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:en(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:en(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Gn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=Af.Withdraw,a=Rn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Gn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return nT.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=Af.UpdateValidatorIdentity,o=Rn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Gn().add({keys:a,programId:this.programId,data:o})}}nT.programId=new st("Vote111111111111111111111111111111111111111");nT.space=3762;const FIe=new st("Va1idator1nfo111111111111111111111111111111"),Ert=Ce({name:He(),website:fr(He()),details:fr(He()),iconUrl:fr(He()),keybaseUsername:fr(He())});class SZ{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(ou(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new st(au(t,0,Ff)),a=kf(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(FIe)&&s[1].isSigner){const i=x1().decode(V.Buffer.from(t)),o=JSON.parse(i);return lIe(o,Ert),new SZ(s[1].publicKey,o)}return null}}const xrt=new st("Vote111111111111111111111111111111111111111"),Trt=F([Sn("nodePubkey"),Sn("authorizedWithdrawer"),te("commission"),Ae(),we(F([Ae("slot"),U("confirmationCount")]),Vt(U(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(F([Ae("epoch"),Sn("authorizedVoter")]),Vt(U(),-8),"authorizedVoters"),F([we(F([Sn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(F([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(U(),-8),"epochCredits"),F([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class kZ{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Trt.decode(en(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new kZ({nodePubkey:new st(r.nodePubkey),authorizedWithdrawer:new st(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(Rrt),priorVoters:Crt(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function Rrt({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new st(n)}}function the({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new st(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function Crt({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(the),...n.slice(0,e).map(the)]}const rhe={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Mrt(n,e){const t=e===!1?"http":"https";if(!n)return rhe[t].devnet;const r=rhe[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function Brt(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new MM({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const zrt=1e9;var $rt=Object.freeze(Object.defineProperty({__proto__:null,Account:vet,AddressLookupTableAccount:O9,AddressLookupTableInstruction:brt,AddressLookupTableProgram:pZ,Authorized:WIe,BLOCKHASH_CACHE_TIMEOUT_MS:xIe,BPF_LOADER_DEPRECATED_PROGRAM_ID:Aet,BPF_LOADER_PROGRAM_ID:Fet,BpfLoader:Uet,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:vf,ComputeBudgetInstruction:Srt,ComputeBudgetProgram:bZ,Connection:prt,Ed25519Program:RK,Enum:bet,EpochSchedule:_Ie,FeeCalculatorLayout:IIe,Keypair:tA,LAMPORTS_PER_SOL:zrt,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:zg,Loader:SS,Lockup:iz,MAX_SEED_LENGTH:kIe,Message:kd,MessageAccountKeys:CM,MessageV0:bS,NONCE_ACCOUNT_LENGTH:D9,NonceAccount:EK,PACKET_DATA_SIZE:Vy,PUBLIC_KEY_LENGTH:Ff,PublicKey:st,SIGNATURE_LENGTH_IN_BYTES:RM,SOLANA_SCHEMA:W2,STAKE_CONFIG_ID:LIe,STAKE_INSTRUCTION_LAYOUTS:Aa,SYSTEM_INSTRUCTION_LAYOUTS:Os,SYSVAR_CLOCK_PUBKEY:nf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:Met,SYSVAR_INSTRUCTIONS_PUBKEY:Bet,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:AD,SYSVAR_RENT_PUBKEY:qA,SYSVAR_REWARDS_PUBKEY:zet,SYSVAR_SLOT_HASHES_PUBKEY:$et,SYSVAR_SLOT_HISTORY_PUBKEY:Det,SYSVAR_STAKE_HISTORY_PUBKEY:wD,Secp256k1Program:rA,SendTransactionError:MM,SolanaJSONRPCError:Zt,SolanaJSONRPCErrorCode:Oet,StakeAuthorizationLayout:Irt,StakeInstruction:wrt,StakeProgram:CK,Struct:cZ,SystemInstruction:Wet,SystemProgram:Na,Transaction:Gn,TransactionExpiredBlockheightExceededError:uZ,TransactionExpiredNonceInvalidError:xv,TransactionExpiredTimeoutError:lZ,TransactionInstruction:ks,TransactionMessage:fZ,TransactionStatus:Sg,VALIDATOR_INFO_KEY:FIe,VERSION_PREFIX_MASK:PK,VOTE_PROGRAM_ID:xrt,ValidatorInfo:SZ,VersionedMessage:dZ,VersionedTransaction:hZ,VoteAccount:kZ,VoteAuthorizationLayout:_rt,VoteInit:NIe,VoteInstruction:Prt,VoteProgram:nT,clusterApiUrl:Mrt,sendAndConfirmRawTransaction:Brt,sendAndConfirmTransaction:$9},Symbol.toStringTag,{value:"Module"})),qs=Td($rt),vZ={},UIe={};Object.defineProperty(UIe,"__esModule",{value:!0});var VIe={},Up={};function AO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function Drt(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function oz(n,...e){if(!Drt(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function Ort(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");AO(n.outputLen),AO(n.blockLen)}function HA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function qIe(n,e){oz(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const ZW=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Krt=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),JW=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Ld=(n,e)=>n<<32-e|n>>>e,nhe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,Lrt=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function she(n){for(let e=0;e<n.length;e++)n[e]=Lrt(n[e])}function Wrt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function MK(n){return typeof n=="string"&&(n=Wrt(n)),oz(n),n}function Nrt(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];oz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class AZ{clone(){return this._cloneInto()}}function wZ(n){const e=r=>n().update(MK(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function jIe(n=32){if(ZW&&typeof ZW.getRandomValues=="function")return ZW.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function Frt(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const Urt=(n,e,t)=>n&e^~n&t,Vrt=(n,e,t)=>n&e^n&t^e&t;class HIe extends AZ{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=JW(this.buffer)}update(e){HA(this);const{view:t,buffer:r,blockLen:s}=this;e=MK(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=JW(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){HA(this),qIe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;Frt(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=JW(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const v$=BigInt(2**32-1),N9=BigInt(32);function GIe(n,e=!1){return e?{h:Number(n&v$),l:Number(n>>N9&v$)}:{h:Number(n>>N9&v$)|0,l:Number(n&v$)|0}}function YIe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=GIe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const qrt=(n,e)=>BigInt(n>>>0)<<N9|BigInt(e>>>0),jrt=(n,e,t)=>n>>>t,Hrt=(n,e,t)=>n<<32-t|e>>>t,Grt=(n,e,t)=>n>>>t|e<<32-t,Yrt=(n,e,t)=>n<<32-t|e>>>t,Zrt=(n,e,t)=>n<<64-t|e>>>t-32,Jrt=(n,e,t)=>n>>>t-32|e<<64-t,Xrt=(n,e)=>e,Qrt=(n,e)=>n,ZIe=(n,e,t)=>n<<t|e>>>32-t,JIe=(n,e,t)=>e<<t|n>>>32-t,XIe=(n,e,t)=>e<<t-32|n>>>64-t,QIe=(n,e,t)=>n<<t-32|e>>>64-t;function ent(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const tnt=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),rnt=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,nnt=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),snt=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,int=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),ont=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,ant={fromBig:GIe,split:YIe,toBig:qrt,shrSH:jrt,shrSL:Hrt,rotrSH:Grt,rotrSL:Yrt,rotrBH:Zrt,rotrBL:Jrt,rotr32H:Xrt,rotr32L:Qrt,rotlSH:ZIe,rotlSL:JIe,rotlBH:XIe,rotlBL:QIe,add:ent,add3L:tnt,add3H:rnt,add4L:nnt,add4H:snt,add5H:ont,add5L:int};var Dr=ant;const[cnt,unt]=(()=>Dr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Lm=new Uint32Array(80),Wm=new Uint32Array(80);class lnt extends HIe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Lm[p]=e.getUint32(t),Wm[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Lm[p-15]|0,w=Wm[p-15]|0,A=Dr.rotrSH(I,w,1)^Dr.rotrSH(I,w,8)^Dr.shrSH(I,w,7),_=Dr.rotrSL(I,w,1)^Dr.rotrSL(I,w,8)^Dr.shrSL(I,w,7),E=Lm[p-2]|0,M=Wm[p-2]|0,P=Dr.rotrSH(E,M,19)^Dr.rotrBH(E,M,61)^Dr.shrSH(E,M,6),R=Dr.rotrSL(E,M,19)^Dr.rotrBL(E,M,61)^Dr.shrSL(E,M,6),$=Dr.add4L(_,R,Wm[p-7],Wm[p-16]),z=Dr.add4H($,A,P,Lm[p-7],Lm[p-16]);Lm[p]=z|0,Wm[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Dr.rotrSH(d,y,14)^Dr.rotrSH(d,y,18)^Dr.rotrBH(d,y,41),w=Dr.rotrSL(d,y,14)^Dr.rotrSL(d,y,18)^Dr.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=Dr.add5L(S,w,_,unt[p],Wm[p]),M=Dr.add5H(E,b,I,A,cnt[p],Lm[p]),P=E|0,R=Dr.rotrSH(r,s,28)^Dr.rotrBH(r,s,34)^Dr.rotrBH(r,s,39),$=Dr.rotrSL(r,s,28)^Dr.rotrBL(r,s,34)^Dr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Dr.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Dr.add3L(P,$,T);r=Dr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Dr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Dr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Dr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Dr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Dr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Dr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Dr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Dr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Lm.fill(0),Wm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const dnt=wZ(()=>new lnt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const IZ=BigInt(0),BK=BigInt(1),fnt=BigInt(2);function kS(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function az(n){if(!kS(n))throw new Error("Uint8Array expected")}function Hg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const hnt=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function vS(n){az(n);let e="";for(let t=0;t<n.length;t++)e+=hnt[n[t]];return e}function ePe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function PZ(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const xh={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ihe(n){if(n>=xh._0&&n<=xh._9)return n-xh._0;if(n>=xh._A&&n<=xh._F)return n-(xh._A-10);if(n>=xh._a&&n<=xh._f)return n-(xh._a-10)}function GA(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=ihe(n.charCodeAt(i)),a=ihe(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function U1(n){return PZ(vS(n))}function nA(n){return az(n),PZ(vS(Uint8Array.from(n).reverse()))}function YA(n,e){return GA(n.toString(16).padStart(e*2,"0"))}function zM(n,e){return YA(n,e).reverse()}function gnt(n){return GA(ePe(n))}function ra(n,e,t){let r;if(typeof e=="string")try{r=GA(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(kS(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function AS(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];az(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function mnt(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function ynt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const XW=n=>typeof n=="bigint"&&IZ<=n;function zK(n,e,t){return XW(n)&&XW(e)&&XW(t)&&e<=n&&n<t}function wl(n,e,t,r){if(!zK(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function pnt(n){let e;for(e=0;n>IZ;n>>=BK,e+=1);return e}function bnt(n,e){return n>>BigInt(e)&BK}function Snt(n,e,t){return n|(t?BK:IZ)<<BigInt(e)}const _Z=n=>(fnt<<BigInt(n-1))-BK,QW=n=>new Uint8Array(n),ohe=n=>Uint8Array.from(n);function tPe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=QW(n),s=QW(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=QW())=>{s=a(ohe([0]),d),r=a(),d.length!==0&&(s=a(ohe([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return AS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const knt={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||kS(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function sT(n,e,t={}){const r=(s,i,o)=>{const a=knt[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const vnt=()=>{throw new Error("not implemented")};function $M(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var Ant=Object.freeze(Object.defineProperty({__proto__:null,isBytes:kS,abytes:az,abool:Hg,bytesToHex:vS,numberToHexUnpadded:ePe,hexToNumber:PZ,hexToBytes:GA,bytesToNumberBE:U1,bytesToNumberLE:nA,numberToBytesBE:YA,numberToBytesLE:zM,numberToVarBytesBE:gnt,ensureBytes:ra,concatBytes:AS,equalBytes:mnt,utf8ToBytes:ynt,inRange:zK,aInRange:wl,bitLen:pnt,bitGet:bnt,bitSet:Snt,bitMask:_Z,createHmacDrbg:tPe,validateObject:sT,notImplemented:vnt,memoized:$M},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xa=BigInt(0),Oi=BigInt(1),i1=BigInt(2),wnt=BigInt(3),F9=BigInt(4),ahe=BigInt(5),che=BigInt(8);BigInt(9);BigInt(16);function yi(n,e){const t=n%e;return t>=Xa?t:e+t}function Int(n,e,t){if(t<=Xa||e<Xa)throw new Error("Expected power/modulo > 0");if(t===Oi)return Xa;let r=Oi;for(;e>Xa;)e&Oi&&(r=r*n%t),n=n*n%t,e>>=Oi;return r}function to(n,e,t){let r=n;for(;e-- >Xa;)r*=r,r%=t;return r}function U9(n,e){if(n===Xa||e<=Xa)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=yi(n,e),r=e,s=Xa,i=Oi;for(;t!==Xa;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Oi)throw new Error("invert: does not exist");return yi(s,e)}function Pnt(n){const e=(n-Oi)/i1;let t,r,s;for(t=n-Oi,r=0;t%i1===Xa;t/=i1,r++);for(s=i1;s<n&&Int(s,e,n)!==n-Oi;s++);if(r===1){const o=(n+Oi)/F9;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Oi)/i1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Oi<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function _nt(n){if(n%F9===wnt){const e=(n+Oi)/F9;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%che===ahe){const e=(n-ahe)/che;return function(r,s){const i=r.mul(s,i1),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,i1),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return Pnt(n)}const Ent=(n,e)=>(yi(n,e)&Oi)===Oi,xnt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Tnt(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=xnt.reduce((r,s)=>(r[s]="function",r),e);return sT(n,t)}function Rnt(n,e,t){if(t<Xa)throw new Error("Expected power > 0");if(t===Xa)return n.ONE;if(t===Oi)return e;let r=n.ONE,s=e;for(;t>Xa;)t&Oi&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Oi;return r}function Cnt(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function rPe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function nPe(n,e,t=!1,r={}){if(n<=Xa)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=rPe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=_nt(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:_Z(s),ZERO:Xa,ONE:Oi,create:c=>yi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Xa<=c&&c<n},is0:c=>c===Xa,isOdd:c=>(c&Oi)===Oi,neg:c=>yi(-c,n),eql:(c,u)=>c===u,sqr:c=>yi(c*c,n),add:(c,u)=>yi(c+u,n),sub:(c,u)=>yi(c-u,n),mul:(c,u)=>yi(c*u,n),pow:(c,u)=>Rnt(a,c,u),div:(c,u)=>yi(c*U9(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>U9(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>Cnt(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?zM(c,i):YA(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?nA(c):U1(c)}});return Object.freeze(a)}function sPe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function iPe(n){const e=sPe(n);return e+Math.ceil(e/2)}function Mnt(n,e,t=!1){const r=n.length,s=sPe(e),i=iPe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?U1(n):nA(n),a=yi(o,e-Oi)+Oi;return t?zM(a,s):YA(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bnt=BigInt(0),eN=BigInt(1),tN=new WeakMap,uhe=new WeakMap;function oPe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>Bnt;)o&eN&&(a=a.add(c)),c=c.double(),o>>=eN;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=eN);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=uhe.get(i)||1;let u=tN.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&tN.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),uhe.set(i,o),tN.delete(i)}}}function EZ(n){return Tnt(n.Fp),sT(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...rPe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Kl=BigInt(0),Vc=BigInt(1),A$=BigInt(2),znt=BigInt(8),$nt={zip215:!0};function Dnt(n){const e=EZ(n);return sT(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Ont(n){const e=Dnt(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=A$<<BigInt(a*8)-Vc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Kl}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(Hg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){wl("coordinate "+v,k,Kl,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=$M((v,k)=>{const{ex:x,ey:C,ez:B}=v,O=v.is0();k==null&&(k=O?znt:t.inv(B));const D=l(x*k),W=l(C*k),L=l(B*k);if(O)return{x:Kl,y:Vc};if(L!==Vc)throw new Error("invZ was invalid");return{x:D,y:W}}),b=$M(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:O,et:D}=v,W=l(C*C),L=l(B*B),N=l(O*O),H=l(N*N),J=l(W*k),Q=l(N*l(J+L)),Y=l(H+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,Vc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:O,ey:D,ez:W}=k,L=l(x*W),N=l(O*B),H=l(C*W),J=l(D*B);return L===N&&H===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,O=l(x*x),D=l(C*C),W=l(A$*l(B*B)),L=l(k*O),N=x+C,H=l(l(N*N)-O-D),J=L+D,Q=J-W,Y=L-D,X=l(H*Q),re=l(J*Y),se=l(H*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:O,ez:D,et:W}=this,{ex:L,ey:N,ez:H,et:J}=k;if(x===BigInt(-1)){const Lt=l((O-B)*(N+L)),Dt=l((O+B)*(N-L)),et=l(Dt-Lt);if(et===Kl)return this.double();const Ue=l(D*A$*J),Wt=l(W*A$*H),sr=Wt+Ue,rr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(rr*pr),gn=l(sr*pr),ds=l(et*rr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(O*N),X=l(W*C*J),re=l(D*H),se=l((B+O)*(L+N)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),Pe=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(Pe,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;wl("scalar",x,Vc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return wl("scalar",x,Kl,r),x===Kl?I:this.equals(I)||x===Vc?this:this.equals(p)?this.wNAF(x).p:w.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Vc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,O=t.BYTES;k=ra("pointHex",k,O),Hg("zip215",x);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=nA(D),N=x?u:t.ORDER;wl("pointHex.y",L,Kl,N);const H=l(L*L),J=l(H-Vc),Q=l(C*H-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Vc)===Vc,se=(W&128)!==0;if(!x&&X===Kl&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=zM(x,t.BYTES);return C[C.length-1]|=k&Vc?128:0,C}toHex(){return vS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Vc,l(e.Gx*e.Gy)),S.ZERO=new S(Kl,Vc,Vc,Kl);const{BASE:p,ZERO:I}=S,w=oPe(S,a*8);function A(v){return yi(v,r)}function _(v){return A(nA(v))}function E(v){const k=a;v=ra("private key",v,k);const x=ra("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),O=_(C),D=p.multiply(O),W=D.toRawBytes();return{head:C,prefix:B,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function P(v=new Uint8Array,...k){const x=AS(...k);return _(i(h(x,ra("context",v),!!s)))}function R(v,k,x={}){v=ra("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:O}=E(k),D=P(x.context,C,v),W=p.multiply(D).toRawBytes(),L=P(x.context,W,O,v),N=A(D+L*B);wl("signature.s",N,Kl,r);const H=AS(W,zM(N,t.BYTES));return ra("result",H,a*2)}const $=$nt;function z(v,k,x,C=$){const{context:B,zip215:O}=C,D=t.BYTES;v=ra("signature",v,2*D),k=ra("message",k),O!==void 0&&Hg("zip215",O),s&&(k=s(k));const W=nA(v.slice(D,2*D));let L,N,H;try{L=S.fromHex(x,O),N=S.fromHex(v.slice(0,D),O),H=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=P(B,N.toRawBytes(),L.toRawBytes(),k);return N.add(L.multiplyUnsafe(J)).subtract(H).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xZ=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),lhe=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Knt=BigInt(1),dhe=BigInt(2);BigInt(3);const Lnt=BigInt(5),Wnt=BigInt(8);function Nnt(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=xZ,a=n*n%i*n%i,c=to(a,dhe,i)*a%i,u=to(c,Knt,i)*n%i,l=to(u,Lnt,i)*u%i,d=to(l,e,i)*l%i,y=to(d,t,i)*d%i,h=to(y,r,i)*y%i,m=to(h,s,i)*h%i,f=to(m,s,i)*h%i,g=to(f,e,i)*l%i;return{pow_p_5_8:to(g,dhe,i)*n%i,b2:a}}function Fnt(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function Unt(n,e){const t=xZ,r=yi(e*e*e,t),s=yi(r*r*e,t),i=Nnt(n*s).pow_p_5_8;let o=yi(n*r*i,t);const a=yi(e*o*o,t),c=o,u=yi(o*lhe,t),l=a===n,d=a===yi(-n,t),y=a===yi(-n*lhe,t);return l&&(o=c),(d||y)&&(o=u),Ent(o,t)&&(o=yi(-o,t)),{isValid:l||d,value:o}}const Vnt=(()=>nPe(xZ,void 0,!0))(),qnt=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Vnt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Wnt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:dnt,randomBytes:jIe,adjustScalarBytes:Fnt,uvRatio:Unt}))(),iT=(()=>Ont(qnt))(),jnt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Nm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Fm=new Uint32Array(64);class Hnt extends HIe{constructor(){super(64,32,8,!1),this.A=Nm[0]|0,this.B=Nm[1]|0,this.C=Nm[2]|0,this.D=Nm[3]|0,this.E=Nm[4]|0,this.F=Nm[5]|0,this.G=Nm[6]|0,this.H=Nm[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Fm[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=Fm[d-15],h=Fm[d-2],m=Ld(y,7)^Ld(y,18)^y>>>3,f=Ld(h,17)^Ld(h,19)^h>>>10;Fm[d]=f+Fm[d-7]+m+Fm[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Ld(a,6)^Ld(a,11)^Ld(a,25),h=l+y+Urt(a,c,u)+jnt[d]+Fm[d]|0,f=(Ld(r,2)^Ld(r,13)^Ld(r,22))+Vrt(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Fm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const V9=wZ(()=>new Hnt);class Gnt extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function Ynt(n){return cz(n)&&typeof n[Symbol.iterator]=="function"}function cz(n){return typeof n=="object"&&n!=null}function wO(n){return cz(n)&&!Array.isArray(n)}function vd(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function Znt(n){const{done:e,value:t}=n.next();return e?void 0:t}function Jnt(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${vd(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*fhe(n,e,t,r){Ynt(n)||(n=[n]);for(const s of n){const i=Jnt(s,e,t,r);i&&(yield i)}}function*TZ(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=TZ(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):cz(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class hh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return fhe(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return fhe(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return aPe(e,this,t)}create(e,t){return yt(e,this,t)}is(e){return cPe(e,this)}mask(e,t){return Xnt(e,this,t)}validate(e,t={}){return uz(e,this,t)}}function aPe(n,e,t){const r=uz(n,e,{message:t});if(r[0])throw r[0]}function yt(n,e,t){const r=uz(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function Xnt(n,e,t){const r=uz(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function cPe(n,e){return!uz(n,e)[0]}function uz(n,e,t={}){const r=TZ(n,e,t),s=Znt(r);if(s[0])return[new Gnt(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function uk(n,e){return new hh({type:n,schema:null,validator:e})}function Qnt(){return uk("any",()=>!0)}function It(n){return new hh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${vd(e)}`}})}function th(){return uk("boolean",n=>typeof n=="boolean")}function RZ(n){return uk("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${vd(e)}`)}function xi(n){const e=vd(n),t=typeof n;return new hh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${vd(r)}`}})}function est(){return uk("never",()=>!1)}function Mt(n){return new hh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function ye(){return uk("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${vd(n)}`)}function hr(n){return new hh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function uPe(n,e){return new hh({type:"record",schema:null,*entries(t){if(cz(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return wO(t)||`Expected an object, but received: ${vd(t)}`},coercer(t){return wO(t)?{...t}:t}})}function Ge(){return uk("string",n=>typeof n=="string"||`Expected a string, but received: ${vd(n)}`)}function CZ(n){const e=est();return new hh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${vd(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Me(n){const e=Object.keys(n);return new hh({type:"type",schema:n,*entries(t){if(cz(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return wO(t)||`Expected an object, but received: ${vd(t)}`},coercer(t){return wO(t)?{...t}:t}})}function Bc(n){const e=n.map(t=>t.type).join(" | ");return new hh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=TZ(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${vd(t)}`,...s]}})}function oT(){return uk("unknown",()=>!0)}function lz(n,e,t){return new hh({...n,coercer:(r,s)=>cPe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const lPe=[],dPe=[],fPe=[],tst=BigInt(0),ER=BigInt(1),rst=BigInt(2),nst=BigInt(7),sst=BigInt(256),ist=BigInt(113);for(let n=0,e=ER,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],lPe.push(2*(5*r+t)),dPe.push((n+1)*(n+2)/2%64);let s=tst;for(let i=0;i<7;i++)e=(e<<ER^(e>>nst)*ist)%sst,e&rst&&(s^=ER<<(ER<<BigInt(i))-ER);fPe.push(s)}const[ost,ast]=YIe(fPe,!0),hhe=(n,e,t)=>t>32?XIe(n,e,t):ZIe(n,e,t),ghe=(n,e,t)=>t>32?QIe(n,e,t):JIe(n,e,t);function cst(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=hhe(u,l,1)^t[a],y=ghe(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=dPe[o],c=hhe(s,i,a),u=ghe(s,i,a),l=lPe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=ost[r],n[1]^=ast[r]}t.fill(0)}class MZ extends AZ{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,AO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Krt(this.state)}keccak(){nhe||she(this.state32),cst(this.state32,this.rounds),nhe||she(this.state32),this.posOut=0,this.pos=0}update(e){HA(this);const{blockLen:t,state:r}=this;e=MK(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){HA(this,!1),oz(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return AO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(qIe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new MZ(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const ust=(n,e,t)=>wZ(()=>new MZ(e,n,t)),mhe=ust(1,136,256/8);class hPe extends AZ{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Ort(e);const r=MK(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return HA(this),this.iHash.update(e),this}digestInto(e){HA(this),oz(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const gPe=(n,e,t)=>new hPe(n,e).update(t).digest();gPe.create=(n,e)=>new hPe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function yhe(n){n.lowS!==void 0&&Hg("lowS",n.lowS),n.prehash!==void 0&&Hg("prehash",n.prehash)}function lst(n){const e=EZ(n);sT(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:dst,hexToBytes:fst}=Ant,T1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=T1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:dst(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=T1,t=typeof n=="string"?fst(n):n;az(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=T1._parseInt(t.subarray(2)),{d:o,l:a}=T1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},xy=BigInt(0),ga=BigInt(1);BigInt(2);const phe=BigInt(3);BigInt(4);function hst(n){const e=lst(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return AS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return zK(m,ga,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(kS(m)&&(m=vS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:U1(ra("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=yi(p,S)),wl("private key",p,ga,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=$M((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=$M(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(ra("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),_=t.eql(t.mul(b,w),t.mul(I,S));return A&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,phe),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,_=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),P=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),_=t.mul(S,I),_=t.add(_,_),w=t.mul(f,_),A=t.mul(b,P),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),_=t.mul(b,_),P=t.mul(f,P),R=t.sub(E,P),R=t.mul(f,R),R=t.add(R,_),_=t.add(E,E),E=t.add(_,E),E=t.add(E,P),E=t.mul(E,R),A=t.add(A,E),P=t.mul(p,I),P=t.add(P,P),E=t.mul(P,R),w=t.sub(w,E),_=t.mul(P,M),_=t.add(_,_),_=t.add(_,_),new d(w,A,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,_=t.ZERO,E=t.ZERO;const M=e.a,P=t.mul(e.b,phe);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(P,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),_=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(P,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),_=t.add(_,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,_,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){wl("scalar",f,xy,e.n);const g=d.ZERO;if(f===xy)return g;if(f===ga)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,_=g,E=this;for(;p>xy||w>xy;)p&ga&&(A=A.add(E)),w&ga&&(_=_.add(E)),E=E.double(),p>>=ga,w>>=ga;return S&&(A=A.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),A.add(_)}multiply(f){const{endo:g,n:b}=e;wl("scalar",f,ga,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:_}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:P,f:R}=this.wNAF(_);E=h.constTimeNegate(I,E),P=h.constTimeNegate(A,P),P=new d(t.mul(P.px,g.beta),P.py,P.pz),S=E.add(P),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===xy||A===ga||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===ga)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===ga?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Hg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Hg("isCompressed",f),vS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=oPe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function gst(n){const e=EZ(n);return sT(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function mst(n){const e=gst(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return yi(T,r)}function a(T){return U9(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=hst({...e,toBytes(T,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=AS;return Hg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(T){const v=T.length,k=T[0],x=T.subarray(1);if(v===s&&(k===2||k===3)){const C=U1(x);if(!zK(C,ga,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let O;try{O=t.sqrt(B)}catch(L){const N=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+N)}const D=(O&ga)===ga;return(k&1)===1!==D&&(O=t.neg(O)),{x:C,y:O}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>vS(YA(T,e.nByteLength));function h(T){const v=r>>ga;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>U1(T.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=ra("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=T1.toSig(ra("DER",v));return new g(k,x)}assertValidity(){wl("r",this.r,ga,r),wl("s",this.s,ga,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=A(ra("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const O=C===2||C===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(C&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),N=o(-B*L),H=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,N,H);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return GA(this.toDERHex())}toDERHex(){return T1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return GA(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=iPe(e.n);return Mnt(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=kS(T),k=typeof T=="string",x=(v||k)&&T.length;return v?x===s||x===i:k?x===2*s||x===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=U1(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},_=_Z(e.nBitLength);function E(T){return wl(`num < 2^${e.nBitLength}`,T,xy,_),YA(T,e.nByteLength)}function M(T,v,k=P){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:O,extraEntropy:D}=k;B==null&&(B=!0),T=ra("msgHash",T),yhe(k),O&&(T=ra("prehashed msgHash",x(T)));const W=A(T),L=u(v),N=[E(L),E(W)];if(D!=null&&D!==!1){const Y=D===!0?C(t.BYTES):D;N.push(ra("extraEntropy",Y))}const H=AS(...N),J=W;function Q(Y){const X=w(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===xy)return;const ne=o(re*o(J+ee*L));if(ne===xy)return;let ve=(se.x===ee?0:2)|Number(se.y&ga),Pe=ne;return B&&h(ne)&&(Pe=m(ne),ve^=1),new g(ee,Pe,ve)}return{seed:H,k2sig:Q}}const P={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=P){const{seed:x,k2sig:C}=M(T,v,k),B=e;return tPe(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function z(T,v,k,x=R){var se;const C=T;if(v=ra("msgHash",v),k=ra("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");yhe(x);const{lowS:B,prehash:O}=x;let D,W;try{if(typeof C=="string"||kS(C))try{D=g.fromDER(C)}catch(ee){if(!(ee instanceof T1.Err))throw ee;D=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:N}=D,H=A(v),J=a(N),Q=o(H*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function yst(n){return{hash:n,hmac:(e,...t)=>gPe(n,e,Nrt(...t)),randomBytes:jIe}}function pst(n,e){const t=r=>mst({...n,...yst(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mPe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),bhe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),bst=BigInt(1),q9=BigInt(2),She=(n,e)=>(n+e/q9)/e;function Sst(n){const e=mPe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=to(l,t,e)*l%e,y=to(d,t,e)*l%e,h=to(y,q9,e)*u%e,m=to(h,s,e)*h%e,f=to(m,i,e)*m%e,g=to(f,a,e)*f%e,b=to(g,c,e)*g%e,S=to(b,a,e)*f%e,p=to(S,t,e)*l%e,I=to(p,o,e)*m%e,w=to(I,r,e)*u%e,A=to(w,q9,e);if(!j9.eql(j9.sqr(A),n))throw new Error("Cannot find square root");return A}const j9=nPe(mPe,void 0,void 0,{sqrt:Sst}),$K=pst({a:BigInt(0),b:BigInt(7),Fp:j9,n:bhe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=bhe,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-bst*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=She(i*n,e),c=She(-r*n,e);let u=yi(n-a*t-c*s,e),l=yi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},V9);BigInt(0);$K.ProjectivePoint;const kst=iT.utils.randomPrivateKey,khe=()=>{const n=iT.utils.randomPrivateKey(),e=IO(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},IO=iT.getPublicKey;function vhe(n){try{return iT.ExtendedPoint.fromHex(n),!0}catch{return!1}}const BZ=(n,e)=>iT.sign(n,e.slice(0,32)),vst=iT.verify,tn=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class zZ{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(nm(N2,this))}static decode(e){return sm(N2,this,e)}static decodeUnchecked(e){return im(N2,this,e)}}class Ast extends zZ{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const N2=new Map;var yPe;const pPe=32,Uf=32;function wst(n){return n._bn!==void 0}let Ahe=1;class it extends zZ{constructor(e){if(super({}),this._bn=void 0,wst(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Uf)throw new Error("Invalid public key input");this._bn=new Co(t)}else this._bn=new Co(e);if(this._bn.byteLength()>Uf)throw new Error("Invalid public key input")}}static unique(){const e=new it(Ahe);return Ahe+=1,new it(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Uf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=V9(s);return new it(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>pPe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,tn(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=V9(r);if(vhe(s))throw new Error("Invalid seeds, address must fall off the curve");return new it(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new it(e);return vhe(t.toBytes())}}yPe=it;it.default=new yPe("11111111111111111111111111111111");N2.set(it,{kind:"struct",fields:[["_bn","u256"]]});class Ist{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=tn(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=tn(kst()),this._publicKey=tn(IO(this._secretKey))}get publicKey(){return new it(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const Pst=new it("BPFLoader1111111111111111111111111111111111"),qy=1280-40-8,DK=127,DM=64;class $Z extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty($Z.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class DZ extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(DZ.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Tv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Tv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class OM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const kn=(n="publicKey")=>ie(32,n),_st=(n="signature")=>ie(64,n),R1=(n="string")=>{const e=F([U("length"),U("lengthPadding"),ie(Vt(U(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>U().span+U().span+V.Buffer.from(i,"utf8").length,s},Est=(n="authorized")=>F([kn("staker"),kn("withdrawer")],n),xst=(n="lockup")=>F([_e("unixTimestamp"),_e("epoch"),kn("custodian")],n),Tst=(n="voteInit")=>F([kn("nodePubkey"),kn("authorizedVoter"),kn("authorizedWithdrawer"),te("commission")],n),Rst=(n="voteAuthorizeWithSeedArgs")=>F([U("voteAuthorizationType"),kn("currentAuthorityDerivedKeyOwnerPubkey"),R1("currentAuthorityDerivedKeySeed"),kn("newAuthorized")],n);function bPe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return bPe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function cu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Nu(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Fn(n,e){if(!n)throw new Error(e||"Assertion failed")}class OK{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new OK(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Fn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Fn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Fn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new it(c)),...r.map(([c])=>new it(c)),...s.map(([c])=>new it(c)),...i.map(([c])=>new it(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new it(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Fn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const SPe="Reached end of buffer unexpectedly";function wf(n){if(n.length===0)throw new Error(SPe);return n.shift()}function uu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(SPe);return n.splice(...e)}class Ad{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new it(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new OM(this.staticAccountKeys)}static compile(e){const t=OK.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new OM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new Ad({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Nu(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];Nu(f,y.length);let g=[];return Nu(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Nu(s,r.length);let i=V.Buffer.alloc(qy);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=F([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=F([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(kn("key"),e,"keys"),kn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>tn(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=wf(t);if(r!==(r&DK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=wf(t),i=wf(t),o=cu(t);let a=[];for(let y=0;y<o;y++){const h=uu(t,0,Uf);a.push(new it(V.Buffer.from(h)))}const c=uu(t,0,Uf),u=cu(t);let l=[];for(let y=0;y<u;y++){const h=wf(t),m=cu(t),f=uu(t,0,m),g=cu(t),b=uu(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new Ad(d)}}class wS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new OM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=OK.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new OM(a,s).compileInstructions(e.instructions);return new wS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Nu(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Nu(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Nu(i,this.addressTableLookups.length);const o=F([te("prefix"),F([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(kn(),this.staticAccountKeys.length,"staticAccountKeys"),kn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(qy),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(qy);for(const r of this.compiledInstructions){const s=Array();Nu(s,r.accountKeyIndexes.length);const i=Array();Nu(i,r.data.length),e+=F([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(qy);for(const r of this.addressTableLookups){const s=Array();Nu(s,r.writableIndexes.length);const i=Array();Nu(i,r.readonlyIndexes.length),e+=F([kn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=wf(t),s=r&DK;Fn(r!==s,"Expected versioned message but received legacy message");const i=s;Fn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:wf(t),numReadonlySignedAccounts:wf(t),numReadonlyUnsignedAccounts:wf(t)},a=[],c=cu(t);for(let m=0;m<c;m++)a.push(new it(uu(t,0,Uf)));const u=Ie.encode(uu(t,0,Uf)),l=cu(t),d=[];for(let m=0;m<l;m++){const f=wf(t),g=cu(t),b=uu(t,0,g),S=cu(t),p=new Uint8Array(uu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=cu(t),h=[];for(let m=0;m<y;m++){const f=new it(uu(t,0,Uf)),g=cu(t),b=uu(t,0,g),S=cu(t),p=uu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new wS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const OZ={deserializeMessageVersion(n){const e=n[0],t=e&DK;return t===e?"legacy":t},deserialize:n=>{const e=OZ.deserializeMessageVersion(n);if(e==="legacy")return Ad.from(n);if(e===0)return wS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let kg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const Cst=V.Buffer.alloc(DM).fill(0);class vs{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Yn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new vs(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new it(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{Fn(f.programIdIndex>=0),f.accounts.forEach(g=>Fn(g>=0))}),new Ad({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=BZ(r,s.secretKey);this._addSignature(s.publicKey,tn(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Fn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):vst(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Nu(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Fn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Fn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Fn(i.length<=qy,`Transaction too large: ${i.length} > ${qy}`),i}get keys(){return Fn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Fn(this.instructions.length===1),this.instructions[0].programId}get data(){return Fn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=cu(t);let s=[];for(let i=0;i<r;i++){const o=uu(t,0,DM);s.push(Ie.encode(V.Buffer.from(o)))}return Yn.populate(Ad.from(t),s)}static populate(e,t=[]){const r=new Yn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(Cst)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new vs({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class KZ{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Fn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Fn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new vs({programId:g,data:tn(m.data),keys:f}))}return new KZ({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return Ad.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return wS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class LZ{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Fn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(DM));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Nu(t,this.signatures.length);const r=F([ie(t.length,"encodedSignaturesLength"),we(_st(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=cu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(uu(t,0,DM)));const i=OZ.deserialize(new Uint8Array(t));return new LZ(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Fn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=BZ(t,s.secretKey)}}addSignature(e,t){Fn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Fn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const Mst=160,Bst=64,zst=Mst/Bst,kPe=1e3/zst,sf=new it("SysvarC1ock11111111111111111111111111111111"),$st=new it("SysvarEpochSchedu1e111111111111111111111111"),Dst=new it("Sysvar1nstructions1111111111111111111111111"),ID=new it("SysvarRecentB1ockHashes11111111111111111111"),ZA=new it("SysvarRent111111111111111111111111111111111"),Ost=new it("SysvarRewards111111111111111111111111111111"),Kst=new it("SysvarS1otHashes111111111111111111111111111"),Lst=new it("SysvarS1otHistory11111111111111111111111111"),PD=new it("SysvarStakeHistory1111111111111111111111111");class KM extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const Wst={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Jt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function H9(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new KM({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function o1(n){return new Promise(e=>setTimeout(e,n))}function Cn(n,e){const t=n.layout.span>=0?n.layout.span:bPe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function ss(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const vPe=Ae("lamportsPerSignature"),APe=F([U("version"),U("state"),kn("authorizedPubkey"),kn("nonce"),F([vPe],"feeCalculator")]),G9=APe.span;class KK{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=APe.decode(tn(e),0);return new KK({authorizedPubkey:new it(t.authorizedPubkey),nonce:new it(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const Nst=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},Fst=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=Nst(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return om(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=nc(o,n);return r(u,a,c)},i},JA=Fst(8);class Ust{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ks))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=ss(Ks.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new it(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=ss(Ks.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=ss(Ks.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new it(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=ss(Ks.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=ss(Ks.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new it(t),seed:r,space:s,programId:new it(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=ss(Ks.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new it(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=ss(Ks.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new it(t),seed:r,programId:new it(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=ss(Ks.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new it(t),seed:r,lamports:s,space:i,programId:new it(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=ss(Ks.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new it(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ss(Ks.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ss(Ks.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=ss(Ks.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new it(t)}}static checkProgramId(e){if(!e.equals(Fa.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ks=Object.freeze({Create:{index:0,layout:F([U("instruction"),_e("lamports"),_e("space"),kn("programId")])},Assign:{index:1,layout:F([U("instruction"),kn("programId")])},Transfer:{index:2,layout:F([U("instruction"),JA("lamports")])},CreateWithSeed:{index:3,layout:F([U("instruction"),kn("base"),R1("seed"),_e("lamports"),_e("space"),kn("programId")])},AdvanceNonceAccount:{index:4,layout:F([U("instruction")])},WithdrawNonceAccount:{index:5,layout:F([U("instruction"),_e("lamports")])},InitializeNonceAccount:{index:6,layout:F([U("instruction"),kn("authorized")])},AuthorizeNonceAccount:{index:7,layout:F([U("instruction"),kn("authorized")])},Allocate:{index:8,layout:F([U("instruction"),_e("space")])},AllocateWithSeed:{index:9,layout:F([U("instruction"),kn("base"),R1("seed"),_e("space"),kn("programId")])},AssignWithSeed:{index:10,layout:F([U("instruction"),kn("base"),R1("seed"),kn("programId")])},TransferWithSeed:{index:11,layout:F([U("instruction"),JA("lamports"),R1("seed"),kn("programId")])},UpgradeNonceAccount:{index:12,layout:F([U("instruction")])}});class Fa{constructor(){}static createAccount(e){const t=Ks.Create,r=Cn(t,{lamports:e.lamports,space:e.space,programId:tn(e.programId.toBuffer())});return new vs({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Ks.TransferWithSeed;t=Cn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:tn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Ks.Transfer;t=Cn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new vs({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Ks.AssignWithSeed;t=Cn(s,{base:tn(e.basePubkey.toBuffer()),seed:e.seed,programId:tn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ks.Assign;t=Cn(s,{programId:tn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new vs({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Ks.CreateWithSeed,r=Cn(t,{base:tn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:tn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new vs({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Yn;"basePubkey"in e&&"seed"in e?t.add(Fa.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:G9,programId:this.programId})):t.add(Fa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:G9,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Ks.InitializeNonceAccount,r=Cn(t,{authorized:tn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ID,isSigner:!1,isWritable:!1},{pubkey:ZA,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new vs(s)}static nonceAdvance(e){const t=Ks.AdvanceNonceAccount,r=Cn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ID,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new vs(s)}static nonceWithdraw(e){const t=Ks.WithdrawNonceAccount,r=Cn(t,{lamports:e.lamports});return new vs({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:ID,isSigner:!1,isWritable:!1},{pubkey:ZA,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Ks.AuthorizeNonceAccount,r=Cn(t,{authorized:tn(e.newAuthorizedPubkey.toBuffer())});return new vs({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Ks.AllocateWithSeed;t=Cn(s,{base:tn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:tn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ks.Allocate;t=Cn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new vs({keys:r,programId:this.programId,data:t})}}Fa.programId=new it("11111111111111111111111111111111");const Vst=qy-300;class IS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/IS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Yn,h.add(Fa.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Yn,h.add(Fa.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Yn,h.add(Fa.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Yn().add(Fa.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await H9(e,h,[t,r],{commitment:"confirmed"})}const o=F([U("instruction"),U("offset"),U("bytesLength"),U("bytesLengthPadding"),we(te("byte"),Vt(U(),-8),"bytes")]),a=IS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Yn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(H9(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await o1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=F([U("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Yn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:ZA,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(kPe/2)))}}return!0}}IS.chunkSize=Vst;const qst=new it("BPFLoader2111111111111111111111111111111111");class jst{static getMinNumSignatures(e){return IS.getMinNumSignatures(e)}static load(e,t,r,s,i){return IS.load(e,t,r,i,s)}}function Hst(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var rN,whe;function Gst(){if(whe)return rN;whe=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return rN=function(r){var s=t(r,!1);if(s!==void 0)return""+s},rN}var Yst=Gst(),Ihe=Hst(Yst);const xR=32;function nN(n){let e=0;for(;n>1;)n/=2,e++;return e}function Zst(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class wPe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=nN(Zst(e+xR+1))-nN(xR)-1,r=this.getSlotsInEpoch(t),s=e-(r-xR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*xR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+nN(xR)):this.slotsPerEpoch}}var Jst=globalThis.fetch;class Xst extends Rb{constructor(e,t,r){const s=i=>{const o=Mb(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function Qst(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Phe=56;class Y9{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=Qst(eit,e),r=e.length-Phe;Fn(r>=0,"lookup table is invalid"),Fn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=F([we(kn(),s,"addresses")]).decode(e.slice(Phe));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new it(t.authority[0]):void 0,addresses:i.map(o=>new it(o))}}}const eit={index:1,layout:F([U("typeIndex"),JA("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(kn(),Vt(te(),-1),"authority")])},tit=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function rit(n){const e=n.match(tit);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const qi=lz(RZ(it),Ge(),n=>new it(n)),IPe=CZ([Ge(),xi("base64")]),WZ=lz(RZ(V.Buffer),IPe,n=>V.Buffer.from(n[0],"base64")),PPe=30*1e3;function nit(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Ts(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function _he(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function _Pe(n){return Bc([Me({jsonrpc:xi("2.0"),id:Ge(),result:n}),Me({jsonrpc:xi("2.0"),id:Ge(),error:Me({code:oT(),message:Ge(),data:hr(Qnt())})})])}const sit=_Pe(oT());function jr(n){return lz(_Pe(n),sit,e=>"error"in e?e:{...e,result:yt(e.result,n)})}function ho(n){return jr(Me({context:Me({slot:ye()}),value:n}))}function LK(n){return Me({context:Me({slot:ye()}),value:n})}function sN(n,e){return n===0?new wS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new it(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Ad(e)}const iit=Me({foundation:ye(),foundationTerm:ye(),initial:ye(),taper:ye(),terminal:ye()}),oit=jr(It(Mt(Me({epoch:ye(),effectiveSlot:ye(),amount:ye(),postBalance:ye(),commission:hr(Mt(ye()))})))),ait=It(Me({slot:ye(),prioritizationFee:ye()})),cit=Me({total:ye(),validator:ye(),foundation:ye(),epoch:ye()}),uit=Me({epoch:ye(),slotIndex:ye(),slotsInEpoch:ye(),absoluteSlot:ye(),blockHeight:hr(ye()),transactionCount:hr(ye())}),lit=Me({slotsPerEpoch:ye(),leaderScheduleSlotOffset:ye(),warmup:th(),firstNormalEpoch:ye(),firstNormalSlot:ye()}),dit=uPe(Ge(),It(ye())),lk=Mt(Bc([Me({}),Ge()])),fit=Me({err:lk}),hit=xi("receivedSignature"),git=Me({"solana-core":Ge(),"feature-set":hr(ye())}),mit=Me({program:Ge(),programId:qi,parsed:oT()}),yit=Me({programId:qi,accounts:It(qi),data:Ge()}),Ehe=ho(Me({err:Mt(Bc([Me({}),Ge()])),logs:Mt(It(Ge())),accounts:hr(Mt(It(Mt(Me({executable:th(),owner:Ge(),lamports:ye(),data:It(Ge()),rentEpoch:hr(ye())}))))),unitsConsumed:hr(ye()),returnData:hr(Mt(Me({programId:Ge(),data:CZ([Ge(),xi("base64")])}))),innerInstructions:hr(Mt(It(Me({index:ye(),instructions:It(Bc([mit,yit]))}))))})),pit=ho(Me({byIdentity:uPe(Ge(),It(ye())),range:Me({firstSlot:ye(),lastSlot:ye()})}));function bit(n,e,t,r,s,i){const o=t||Jst;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new Cb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Sot)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await o1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function Sit(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function kit(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const vit=jr(iit),Ait=jr(cit),wit=jr(ait),Iit=jr(uit),Pit=jr(lit),_it=jr(dit),Eit=jr(ye()),xit=ho(Me({total:ye(),circulating:ye(),nonCirculating:ye(),nonCirculatingAccounts:It(qi)})),Z9=Me({amount:Ge(),uiAmount:Mt(ye()),decimals:ye(),uiAmountString:hr(Ge())}),Tit=ho(It(Me({address:qi,amount:Ge(),uiAmount:Mt(ye()),decimals:ye(),uiAmountString:hr(Ge())}))),Rit=ho(It(Me({pubkey:qi,account:Me({executable:th(),owner:qi,lamports:ye(),data:WZ,rentEpoch:ye()})}))),J9=Me({program:Ge(),parsed:oT(),space:ye()}),Cit=ho(It(Me({pubkey:qi,account:Me({executable:th(),owner:qi,lamports:ye(),data:J9,rentEpoch:ye()})}))),Mit=ho(It(Me({lamports:ye(),address:qi}))),LM=Me({executable:th(),owner:qi,lamports:ye(),data:WZ,rentEpoch:ye()}),Bit=Me({pubkey:qi,account:LM}),zit=lz(Bc([RZ(V.Buffer),J9]),Bc([IPe,J9]),n=>Array.isArray(n)?yt(n,WZ):n),X9=Me({executable:th(),owner:qi,lamports:ye(),data:zit,rentEpoch:ye()}),$it=Me({pubkey:qi,account:X9}),Dit=Me({state:Bc([xi("active"),xi("inactive"),xi("activating"),xi("deactivating")]),active:ye(),inactive:ye()}),Oit=jr(It(Me({signature:Ge(),slot:ye(),err:lk,memo:Mt(Ge()),blockTime:hr(Mt(ye()))}))),Kit=jr(It(Me({signature:Ge(),slot:ye(),err:lk,memo:Mt(Ge()),blockTime:hr(Mt(ye()))}))),Lit=Me({subscription:ye(),result:LK(LM)}),Wit=Me({pubkey:qi,account:LM}),Nit=Me({subscription:ye(),result:LK(Wit)}),Fit=Me({parent:ye(),slot:ye(),root:ye()}),Uit=Me({subscription:ye(),result:Fit}),Vit=Bc([Me({type:Bc([xi("firstShredReceived"),xi("completed"),xi("optimisticConfirmation"),xi("root")]),slot:ye(),timestamp:ye()}),Me({type:xi("createdBank"),parent:ye(),slot:ye(),timestamp:ye()}),Me({type:xi("frozen"),slot:ye(),timestamp:ye(),stats:Me({numTransactionEntries:ye(),numSuccessfulTransactions:ye(),numFailedTransactions:ye(),maxTransactionsPerEntry:ye()})}),Me({type:xi("dead"),slot:ye(),timestamp:ye(),err:Ge()})]),qit=Me({subscription:ye(),result:Vit}),jit=Me({subscription:ye(),result:LK(Bc([fit,hit]))}),Hit=Me({subscription:ye(),result:ye()}),Git=Me({pubkey:Ge(),gossip:Mt(Ge()),tpu:Mt(Ge()),rpc:Mt(Ge()),version:Mt(Ge())}),xhe=Me({votePubkey:Ge(),nodePubkey:Ge(),activatedStake:ye(),epochVoteAccount:th(),epochCredits:It(CZ([ye(),ye(),ye()])),commission:ye(),lastVote:ye(),rootSlot:Mt(ye())}),Yit=jr(Me({current:It(xhe),delinquent:It(xhe)})),Zit=Bc([xi("processed"),xi("confirmed"),xi("finalized")]),Jit=Me({slot:ye(),confirmations:Mt(ye()),err:lk,confirmationStatus:hr(Zit)}),Xit=ho(It(Mt(Jit))),Qit=jr(ye()),EPe=Me({accountKey:qi,writableIndexes:It(ye()),readonlyIndexes:It(ye())}),NZ=Me({signatures:It(Ge()),message:Me({accountKeys:It(Ge()),header:Me({numRequiredSignatures:ye(),numReadonlySignedAccounts:ye(),numReadonlyUnsignedAccounts:ye()}),instructions:It(Me({accounts:It(ye()),data:Ge(),programIdIndex:ye()})),recentBlockhash:Ge(),addressTableLookups:hr(It(EPe))})}),xPe=Me({pubkey:qi,signer:th(),writable:th(),source:hr(Bc([xi("transaction"),xi("lookupTable")]))}),TPe=Me({accountKeys:It(xPe),signatures:It(Ge())}),RPe=Me({parsed:oT(),program:Ge(),programId:qi}),CPe=Me({accounts:It(qi),data:Ge(),programId:qi}),eot=Bc([CPe,RPe]),tot=Bc([Me({parsed:oT(),program:Ge(),programId:Ge()}),Me({accounts:It(Ge()),data:Ge(),programId:Ge()})]),MPe=lz(eot,tot,n=>"accounts"in n?yt(n,CPe):yt(n,RPe)),BPe=Me({signatures:It(Ge()),message:Me({accountKeys:It(xPe),instructions:It(MPe),recentBlockhash:Ge(),addressTableLookups:hr(Mt(It(EPe)))})}),PO=Me({accountIndex:ye(),mint:Ge(),owner:hr(Ge()),programId:hr(Ge()),uiTokenAmount:Z9}),zPe=Me({writable:It(qi),readonly:It(qi)}),WK=Me({err:lk,fee:ye(),innerInstructions:hr(Mt(It(Me({index:ye(),instructions:It(Me({accounts:It(ye()),data:Ge(),programIdIndex:ye()}))})))),preBalances:It(ye()),postBalances:It(ye()),logMessages:hr(Mt(It(Ge()))),preTokenBalances:hr(Mt(It(PO))),postTokenBalances:hr(Mt(It(PO))),loadedAddresses:hr(zPe),computeUnitsConsumed:hr(ye())}),FZ=Me({err:lk,fee:ye(),innerInstructions:hr(Mt(It(Me({index:ye(),instructions:It(MPe)})))),preBalances:It(ye()),postBalances:It(ye()),logMessages:hr(Mt(It(Ge()))),preTokenBalances:hr(Mt(It(PO))),postTokenBalances:hr(Mt(It(PO))),loadedAddresses:hr(zPe),computeUnitsConsumed:hr(ye())}),aT=Bc([xi(0),xi("legacy")]),dk=Me({pubkey:Ge(),lamports:ye(),postBalance:Mt(ye()),rewardType:Mt(Ge()),commission:hr(Mt(ye()))}),rot=jr(Mt(Me({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:ye(),transactions:It(Me({transaction:NZ,meta:Mt(WK),version:hr(aT)})),rewards:hr(It(dk)),blockTime:Mt(ye()),blockHeight:Mt(ye())}))),not=jr(Mt(Me({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:ye(),rewards:hr(It(dk)),blockTime:Mt(ye()),blockHeight:Mt(ye())}))),sot=jr(Mt(Me({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:ye(),transactions:It(Me({transaction:TPe,meta:Mt(WK),version:hr(aT)})),rewards:hr(It(dk)),blockTime:Mt(ye()),blockHeight:Mt(ye())}))),iot=jr(Mt(Me({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:ye(),transactions:It(Me({transaction:BPe,meta:Mt(FZ),version:hr(aT)})),rewards:hr(It(dk)),blockTime:Mt(ye()),blockHeight:Mt(ye())}))),oot=jr(Mt(Me({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:ye(),transactions:It(Me({transaction:TPe,meta:Mt(FZ),version:hr(aT)})),rewards:hr(It(dk)),blockTime:Mt(ye()),blockHeight:Mt(ye())}))),aot=jr(Mt(Me({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:ye(),rewards:hr(It(dk)),blockTime:Mt(ye()),blockHeight:Mt(ye())}))),cot=jr(Mt(Me({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:ye(),transactions:It(Me({transaction:NZ,meta:Mt(WK)})),rewards:hr(It(dk)),blockTime:Mt(ye())}))),The=jr(Mt(Me({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:ye(),signatures:It(Ge()),blockTime:Mt(ye())}))),iN=jr(Mt(Me({slot:ye(),meta:Mt(WK),blockTime:hr(Mt(ye())),transaction:NZ,version:hr(aT)}))),w$=jr(Mt(Me({slot:ye(),transaction:BPe,meta:Mt(FZ),blockTime:hr(Mt(ye())),version:hr(aT)}))),uot=ho(Me({blockhash:Ge(),feeCalculator:Me({lamportsPerSignature:ye()})})),lot=ho(Me({blockhash:Ge(),lastValidBlockHeight:ye()})),dot=ho(th()),fot=Me({slot:ye(),numTransactions:ye(),numSlots:ye(),samplePeriodSecs:ye()}),hot=jr(It(fot)),got=ho(Mt(Me({feeCalculator:Me({lamportsPerSignature:ye()})}))),mot=jr(Ge()),yot=jr(Ge()),pot=Me({err:lk,logs:It(Ge()),signature:Ge()}),bot=Me({result:LK(pot),subscription:ye()}),Sot={"solana-client":"js/1.0.0-maintenance"};class kot{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Ts(l),h=this._buildArgs([],d,void 0,y),m=Ihe(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=yt(f,jr(ye()));if("error"in g)throw new Jt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=nit(e),this._rpcWsEndpoint=r||rit(e),this._rpcClient=bit(e,s,i,o,a,c),this._rpcRequest=Sit(this._rpcClient),this._rpcBatchRequest=kit(this._rpcClient),this._rpcWebSocket=new Xst(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=yt(o,ho(ye()));if("error"in a)throw new Jt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=yt(t,jr(Mt(ye())));if("error"in r)throw new Jt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=yt(e,jr(ye()));if("error"in t)throw new Jt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=yt(e,Eit);if("error"in t)throw new Jt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=yt(r,xit);if("error"in s)throw new Jt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=yt(s,ho(Z9));if("error"in i)throw new Jt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=yt(s,ho(Z9));if("error"in i)throw new Jt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Ts(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=yt(c,Rit);if("error"in u)throw new Jt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=yt(o,Cit);if("error"in a)throw new Jt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=yt(s,Mit);if("error"in i)throw new Jt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=yt(s,Tit);if("error"in i)throw new Jt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=yt(o,ho(Mt(LM)));if("error"in a)throw new Jt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=yt(o,ho(Mt(X9)));if("error"in a)throw new Jt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Ts(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=yt(a,ho(It(Mt(X9))));if("error"in c)throw new Jt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Ts(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=yt(a,ho(It(Mt(LM))));if("error"in c)throw new Jt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Ts(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=yt(a,jr(Dit));if("error"in c)throw new Jt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Ts(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:_he(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=It(Bit),l=o.withContext===!0?yt(c,ho(u)):yt(c,jr(u));if("error"in l)throw new Jt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=yt(o,jr(It($it)));if("error"in a)throw new Jt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Fn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:kg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:kg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await o1(1e3),i||(h=await y(),i))return;d({__type:kg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===kg.PROCESSED)l=d.response;else throw new $Z(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:kg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await o1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===kg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await o1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Tv(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Tv(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Tv(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new Tv(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:kg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===kg.PROCESSED)a=c.response;else throw new DZ(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=yt(e,jr(It(Git)));if("error"in t)throw new Jt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=yt(r,Yit);if("error"in s)throw new Jt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Ts(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=yt(i,jr(ye()));if("error"in o)throw new Jt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Ts(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=yt(i,jr(Ge()));if("error"in o)throw new Jt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=yt(s,jr(It(qi)));if("error"in i)throw new Jt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Fn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=yt(s,Xit);if("error"in i)throw new Jt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Ts(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=yt(i,jr(ye()));if("error"in o)throw new Jt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=yt(r,vit);if("error"in s)throw new Jt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Ts(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=yt(a,oit);if("error"in c)throw new Jt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=yt(e,Ait);if("error"in t)throw new Jt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Ts(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=yt(i,Iit);if("error"in o)throw new Jt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=yt(e,Pit);if("error"in t)throw new Jt(t.error,"failed to get epoch schedule");const r=t.result;return new wPe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=yt(e,_it);if("error"in t)throw new Jt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=yt(s,Qit);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=yt(r,uot);if("error"in s)throw new Jt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=yt(t,hot);if("error"in r)throw new Jt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=yt(s,got);if("error"in i)throw new Jt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=tn(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=yt(i,ho(Mt(ye())));if("error"in o)throw new Jt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=yt(s,wit);if("error"in i)throw new Jt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Ts(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=yt(i,lot);if("error"in o)throw new Jt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=yt(o,dot);if("error"in a)throw new Jt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=yt(e,jr(git));if("error"in t)throw new Jt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=yt(e,jr(Ge()));if("error"in t)throw new Jt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=yt(o,sot);if("error"in a)throw a.error;return a.result}case"none":{const a=yt(o,not);if("error"in a)throw a.error;return a.result}default:{const a=yt(o,rot);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:sN(d,u.message)},version:d}))}:null}}}catch(a){throw new Jt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=yt(o,oot);if("error"in a)throw a.error;return a.result}case"none":{const a=yt(o,aot);if("error"in a)throw a.error;return a.result}default:{const a=yt(o,iot);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Jt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=yt(i,pit);if("error"in o)throw new Jt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=yt(o,iN);if("error"in a)throw new Jt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:sN(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=yt(o,w$);if("error"in a)throw new Jt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Ts(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=yt(c,w$);if("error"in u)throw new Jt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Ts(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=yt(c,iN);if("error"in u)throw new Jt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:sN(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=yt(s,cot);if("error"in i)throw new Jt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new Ad(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Yn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=yt(i,jr(It(ye())));if("error"in o)throw new Jt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=yt(s,The);if("error"in i)throw new Jt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=yt(s,The);if("error"in i)throw new Jt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=yt(s,iN);if("error"in i)throw new Jt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new Ad(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Yn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=yt(s,w$);if("error"in i)throw new Jt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=yt(o,w$);if("error"in a)throw new Jt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=yt(i,Oit);if("error"in o)throw new Jt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=yt(i,Kit);if("error"in o)throw new Jt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new Y9({key:e,state:Y9.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=KK.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=yt(r,mot);if("error"in s)throw new Jt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await o1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=PPe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await o1(kPe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Ts(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=yt(i,ho(ye()));if("error"in o)throw new Jt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=yt(p,Ehe);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Yn){let m=e;s=new Yn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Yn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=yt(y,Ehe);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new KM({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=tn(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=yt(a,yot);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new KM({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=yt(e,Lit);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=Ihe([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Fn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Ts(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=yt(e,Nit);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Ts(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:_he(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=yt(e,bot);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=yt(e,Uit);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=yt(e,qit);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=yt(e,jit);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=yt(e,Hit);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class sA{constructor(e){this._keypair=void 0,this._keypair=e??khe()}static generate(){return new sA(khe())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=IO(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new sA({publicKey:r,secretKey:e})}static fromSeed(e){const t=IO(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new sA({publicKey:t,secretKey:r})}get publicKey(){return new it(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const $g=Object.freeze({CreateLookupTable:{index:0,layout:F([U("instruction"),JA("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:F([U("instruction")])},ExtendLookupTable:{index:2,layout:F([U("instruction"),JA(),we(kn(),Vt(U(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:F([U("instruction")])},CloseLookupTable:{index:4,layout:F([U("instruction")])}});class vot{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries($g))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=ss($g.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=ss($g.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new it(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(UZ.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class UZ{constructor(){}static createLookupTable(e){const[t,r]=it.findProgramAddressSync([e.authority.toBuffer(),nc(BigInt(e.recentSlot),8)],this.programId),s=$g.CreateLookupTable,i=Cn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Fa.programId,isSigner:!1,isWritable:!1}];return[new vs({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=$g.FreezeLookupTable,r=Cn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new vs({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=$g.ExtendLookupTable,r=Cn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Fa.programId,isSigner:!1,isWritable:!1}),new vs({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=$g.DeactivateLookupTable,r=Cn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new vs({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=$g.CloseLookupTable,r=Cn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new vs({programId:this.programId,keys:s,data:r})}}UZ.programId=new it("AddressLookupTab1e1111111111111111111111111");class Aot{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(If))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=ss(If.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=ss(If.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=ss(If.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=ss(If.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(VZ.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const If=Object.freeze({RequestUnits:{index:0,layout:F([te("instruction"),U("units"),U("additionalFee")])},RequestHeapFrame:{index:1,layout:F([te("instruction"),U("bytes")])},SetComputeUnitLimit:{index:2,layout:F([te("instruction"),U("units")])},SetComputeUnitPrice:{index:3,layout:F([te("instruction"),JA("microLamports")])}});class VZ{constructor(){}static requestUnits(e){const t=If.RequestUnits,r=Cn(t,e);return new vs({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=If.RequestHeapFrame,r=Cn(t,e);return new vs({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=If.SetComputeUnitLimit,r=Cn(t,e);return new vs({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=If.SetComputeUnitPrice,r=Cn(t,{microLamports:BigInt(e.microLamports)});return new vs({keys:[],programId:this.programId,data:r})}}VZ.programId=new it("ComputeBudget111111111111111111111111111111");const Rhe=64,Che=32,Mhe=64,Bhe=F([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class NK{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Fn(t.length===Che,`Public Key must be ${Che} bytes but received ${t.length} bytes`),Fn(s.length===Mhe,`Signature must be ${Mhe} bytes but received ${s.length} bytes`);const o=Bhe.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return Bhe.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new vs({keys:[],programId:NK.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Fn(t.length===Rhe,`Private key must be ${Rhe} bytes but received ${t.length} bytes`);try{const i=sA.fromSecretKey(t),o=i.publicKey.toBytes(),a=BZ(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}NK.programId=new it("Ed25519SigVerify111111111111111111111111111");const wot=(n,e)=>{const t=$K.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};$K.utils.isValidPrivateKey;const Iot=$K.getPublicKey,zhe=32,oN=20,$he=64,Pot=11,aN=F([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class iA{constructor(){}static publicKeyToEthAddress(e){Fn(e.length===$he,`Public key must be ${$he} bytes but received ${e.length} bytes`);try{return V.Buffer.from(mhe(tn(e))).slice(-oN)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return iA.createInstructionWithEthAddress({ethAddress:iA.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Fn(a.length===oN,`Address must be ${oN} bytes but received ${a.length} bytes`);const c=1+Pot,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(aN.span+r.length);return aN.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:tn(s),ethAddress:tn(a),recoveryId:i},h),h.fill(tn(r),aN.span),new vs({keys:[],programId:iA.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Fn(t.length===zhe,`Private key must be ${zhe} bytes but received ${t.length} bytes`);try{const i=tn(t),o=Iot(i,!1).slice(1),a=V.Buffer.from(mhe(tn(r))),[c,u]=wot(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}iA.programId=new it("KeccakSecp256k11111111111111111111111111111");var $Pe;const DPe=new it("StakeConfig11111111111111111111111111111111");class OPe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class dz{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}$Pe=dz;dz.default=new $Pe(0,0,it.default);class _ot{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(wa))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=ss(wa.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new OPe(new it(t.staker),new it(t.withdrawer)),lockup:new dz(r.unixTimestamp,r.epoch,new it(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),ss(wa.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=ss(wa.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new it(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=ss(wa.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new it(i),newAuthorizedPubkey:new it(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ss(wa.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ss(wa.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ss(wa.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ss(wa.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(FK.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const wa=Object.freeze({Initialize:{index:0,layout:F([U("instruction"),Est(),xst()])},Authorize:{index:1,layout:F([U("instruction"),kn("newAuthorized"),U("stakeAuthorizationType")])},Delegate:{index:2,layout:F([U("instruction")])},Split:{index:3,layout:F([U("instruction"),_e("lamports")])},Withdraw:{index:4,layout:F([U("instruction"),_e("lamports")])},Deactivate:{index:5,layout:F([U("instruction")])},Merge:{index:7,layout:F([U("instruction")])},AuthorizeWithSeed:{index:8,layout:F([U("instruction"),kn("newAuthorized"),U("stakeAuthorizationType"),R1("authoritySeed"),kn("authorityOwner")])}}),Eot=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class FK{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||dz.default,o=wa.Initialize,a=Cn(o,{authorized:{staker:tn(r.staker.toBuffer()),withdrawer:tn(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:tn(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ZA,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new vs(c)}static createAccountWithSeed(e){const t=new Yn;t.add(Fa.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Yn;t.add(Fa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=wa.Delegate,o=Cn(i);return new Yn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:PD,isSigner:!1,isWritable:!1},{pubkey:DPe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=wa.Authorize,c=Cn(a,{newAuthorized:tn(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Yn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=wa.AuthorizeWithSeed,l=Cn(u,{newAuthorized:tn(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:tn(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:sf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Yn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=wa.Split,a=Cn(o,{lamports:i});return new vs({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Yn;return r.add(Fa.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Yn;return u.add(Fa.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(Fa.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=wa.Merge,o=Cn(i);return new Yn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:PD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=wa.Withdraw,c=Cn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:PD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Yn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=wa.Deactivate,i=Cn(s);return new Yn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}FK.programId=new it("Stake11111111111111111111111111111111111111");FK.space=200;class KPe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class xot{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Pf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=ss(Pf.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new KPe(new it(t.nodePubkey),new it(t.authorizedVoter),new it(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=ss(Pf.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new it(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=ss(Pf.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new it(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new it(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ss(Pf.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(cT.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Pf=Object.freeze({InitializeAccount:{index:0,layout:F([U("instruction"),Tst()])},Authorize:{index:1,layout:F([U("instruction"),kn("newAuthorized"),U("voteAuthorizationType")])},Withdraw:{index:3,layout:F([U("instruction"),_e("lamports")])},UpdateValidatorIdentity:{index:4,layout:F([U("instruction")])},AuthorizeWithSeed:{index:10,layout:F([U("instruction"),Rst()])}}),Tot=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class cT{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=Pf.InitializeAccount,o=Cn(i,{voteInit:{nodePubkey:tn(s.nodePubkey.toBuffer()),authorizedVoter:tn(s.authorizedVoter.toBuffer()),authorizedWithdrawer:tn(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ZA,isSigner:!1,isWritable:!1},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new vs(a)}static createAccount(e){const t=new Yn;return t.add(Fa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=Pf.Authorize,a=Cn(o,{newAuthorized:tn(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Yn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=Pf.AuthorizeWithSeed,u=Cn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:tn(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:tn(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Yn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=Pf.Withdraw,a=Cn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Yn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return cT.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=Pf.UpdateValidatorIdentity,o=Cn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Yn().add({keys:a,programId:this.programId,data:o})}}cT.programId=new it("Vote111111111111111111111111111111111111111");cT.space=3762;const LPe=new it("Va1idator1nfo111111111111111111111111111111"),Rot=Me({name:Ge(),website:hr(Ge()),details:hr(Ge()),iconUrl:hr(Ge()),keybaseUsername:hr(Ge())});class qZ{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(cu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new it(uu(t,0,Uf)),a=wf(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(LPe)&&s[1].isSigner){const i=R1().decode(V.Buffer.from(t)),o=JSON.parse(i);return aPe(o,Rot),new qZ(s[1].publicKey,o)}return null}}const Cot=new it("Vote111111111111111111111111111111111111111"),Mot=F([kn("nodePubkey"),kn("authorizedWithdrawer"),te("commission"),Ae(),we(F([Ae("slot"),U("confirmationCount")]),Vt(U(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(F([Ae("epoch"),kn("authorizedVoter")]),Vt(U(),-8),"authorizedVoters"),F([we(F([kn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(F([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(U(),-8),"epochCredits"),F([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class jZ{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Mot.decode(tn(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new jZ({nodePubkey:new it(r.nodePubkey),authorizedWithdrawer:new it(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(Bot),priorVoters:zot(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function Bot({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new it(n)}}function Dhe({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new it(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function zot({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(Dhe),...n.slice(0,e).map(Dhe)]}const Ohe={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function $ot(n,e){const t=e===!1?"http":"https";if(!n)return Ohe[t].devnet;const r=Ohe[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function Dot(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new KM({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const Oot=1e9;var Kot=Object.freeze(Object.defineProperty({__proto__:null,Account:Ist,AddressLookupTableAccount:Y9,AddressLookupTableInstruction:vot,AddressLookupTableProgram:UZ,Authorized:OPe,BLOCKHASH_CACHE_TIMEOUT_MS:PPe,BPF_LOADER_DEPRECATED_PROGRAM_ID:Pst,BPF_LOADER_PROGRAM_ID:qst,BpfLoader:jst,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:If,ComputeBudgetInstruction:Aot,ComputeBudgetProgram:VZ,Connection:kot,Ed25519Program:NK,Enum:Ast,EpochSchedule:wPe,FeeCalculatorLayout:vPe,Keypair:sA,LAMPORTS_PER_SOL:Oot,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:$g,Loader:IS,Lockup:dz,MAX_SEED_LENGTH:pPe,Message:Ad,MessageAccountKeys:OM,MessageV0:wS,NONCE_ACCOUNT_LENGTH:G9,NonceAccount:KK,PACKET_DATA_SIZE:qy,PUBLIC_KEY_LENGTH:Uf,PublicKey:it,SIGNATURE_LENGTH_IN_BYTES:DM,SOLANA_SCHEMA:N2,STAKE_CONFIG_ID:DPe,STAKE_INSTRUCTION_LAYOUTS:wa,SYSTEM_INSTRUCTION_LAYOUTS:Ks,SYSVAR_CLOCK_PUBKEY:sf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:$st,SYSVAR_INSTRUCTIONS_PUBKEY:Dst,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:ID,SYSVAR_RENT_PUBKEY:ZA,SYSVAR_REWARDS_PUBKEY:Ost,SYSVAR_SLOT_HASHES_PUBKEY:Kst,SYSVAR_SLOT_HISTORY_PUBKEY:Lst,SYSVAR_STAKE_HISTORY_PUBKEY:PD,Secp256k1Program:iA,SendTransactionError:KM,SolanaJSONRPCError:Jt,SolanaJSONRPCErrorCode:Wst,StakeAuthorizationLayout:Eot,StakeInstruction:_ot,StakeProgram:FK,Struct:zZ,SystemInstruction:Ust,SystemProgram:Fa,Transaction:Yn,TransactionExpiredBlockheightExceededError:$Z,TransactionExpiredNonceInvalidError:Tv,TransactionExpiredTimeoutError:DZ,TransactionInstruction:vs,TransactionMessage:KZ,TransactionStatus:kg,VALIDATOR_INFO_KEY:LPe,VERSION_PREFIX_MASK:DK,VOTE_PROGRAM_ID:Cot,ValidatorInfo:qZ,VersionedMessage:OZ,VersionedTransaction:LZ,VoteAccount:jZ,VoteAuthorizationLayout:Tot,VoteInit:KPe,VoteInstruction:xot,VoteProgram:cT,clusterApiUrl:$ot,sendAndConfirmRawTransaction:Dot,sendAndConfirmTransaction:H9},Symbol.toStringTag,{value:"Module"})),uT=Td(Kot),Lot=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Wot=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Khe=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Q9;Object.defineProperty(Up,"__esModule",{value:!0});Up.CraftableItem=Up.craftableItemDataEquals=void 0;const Lhe=nl,eq=uT,tq=tr,Not=Tx.exports;function Fot(n,e){return n.version===e.version&&n.bump===e.bump&&(0,Not.isEqual)(n.namespace,e.namespace)&&n.domain.equals(e.domain)&&n.mint.equals(e.mint)}Up.craftableItemDataEquals=Fot;let WM=Q9=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return eq.PublicKey.findProgramAddressSync([Xe.Buffer.from("CraftableItem"),t.toBuffer(),r.toBuffer()],e.programId)}static registerCraftableItem(e,t,r,s,i,o){return a=>Khe(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerCraftableItem(o).accountsStrict({key:t.publicKey(),profile:r,funder:a.publicKey(),craftableItem:this.findAddress(e,s,i)[0],domain:s,mint:i,systemProgram:eq.SystemProgram.programId}).instruction(),signers:[t,a]}]})}static fundCraftableItemBank(e,t,r,s,i){const o=(0,Lhe.getAssociatedTokenAddressSync)(t,e,!0);return(0,tq.transferToTokenAccount)(r,s,o,i)}static drainCraftableItemBank(e,t,r,s,i,o,a,c,u){return l=>Khe(this,void 0,void 0,function*(){return[{instruction:yield e.methods.drainCraftableItemBank(u).accountsStrict({key:r.publicKey(),profile:s,fundsTo:i==="funder"?l.publicKey():i,craftableItem:t,domain:o,tokenFrom:a,tokenTo:c,tokenProgram:Lhe.TOKEN_PROGRAM_ID}).instruction(),signers:[r]}]})}static decodeData(e,t){return(0,tq.decodeAccount)(e,t,Q9)}};Up.CraftableItem=WM;WM.ACCOUNT_NAME="craftableItem";WM.MIN_DATA_SIZE=8+1+32+32+32+32+1;Up.CraftableItem=WM=Q9=Lot([(0,tq.staticImplements)(),Wot("design:paramtypes",[Object,eq.PublicKey])],WM);var HZ={};(function(n){var e=K&&K.__decorate||function(l,d,y,h){var m=arguments.length,f=m<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,y):h,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(l,d,y,h);else for(var b=l.length-1;b>=0;b--)(g=l[b])&&(f=(m<3?g(f):m>3?g(d,y,f):g(d,y))||f);return m>3&&f&&Object.defineProperty(d,y,f),f},t=K&&K.__metadata||function(l,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,d)},r=K&&K.__awaiter||function(l,d,y,h){function m(f){return f instanceof y?f:new y(function(g){g(f)})}return new(y||(y=Promise))(function(f,g){function b(I){try{p(h.next(I))}catch(w){g(w)}}function S(I){try{p(h.throw(I))}catch(w){g(w)}}function p(I){I.done?f(I.value):m(I.value).then(b,S)}p((h=h.apply(l,d||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.CraftingFacility=n.craftingFacilityDataEquals=n.CRAFTING_FACILITY_MIN_DATA_SIZE=n.CraftingFacilityLocationType=void 0;const i=uT,o=tr;var a;(function(l){l[l.Starbase=0]="Starbase"})(a||(n.CraftingFacilityLocationType=a={})),n.CRAFTING_FACILITY_MIN_DATA_SIZE=8+1+32+32+1+4+4+4+4;function c(l,d){return l.version===d.version&&l.locationType===d.locationType&&l.maxConcurrentProcesses===d.maxConcurrentProcesses&&l.numConcurrentProcesses===d.numConcurrentProcesses&&l.efficiency===d.efficiency&&l.numRecipeCategories===d.numRecipeCategories&&l.domain.equals(d.domain)&&l.location.equals(d.location)}n.craftingFacilityDataEquals=c;let u=s=class{constructor(d,y,h){this._data=d,this._key=y,this._recipeCategories=h}get data(){return this._data}get key(){return this._key}get recipeCategories(){return this._recipeCategories||[]}static registerCraftingFacility(d,y,h,m,f,g,b){return S=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.registerCraftingFacility(Object.assign(Object.assign({},b),{locationType:(0,o.getAnchorEnum)(a,b.locationType)})).accountsStrict({key:h.publicKey(),profile:m,funder:S.publicKey(),craftingFacility:y.publicKey(),domain:f,location:g,systemProgram:i.SystemProgram.programId}).instruction(),signers:[h,S,y]}]})}static updateCraftingFacility(d,y,h,m,f,g){const b=Object.assign(Object.assign({},g),{efficiency:g.efficiency==null?null:g.efficiency,maxConcurrentProcesses:g.maxConcurrentProcesses==null?null:g.maxConcurrentProcesses});return()=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.updateCraftingFacility(b).accountsStrict({key:h.publicKey(),profile:m,craftingFacility:y,domain:f}).instruction(),signers:[h]}]})}static addCraftingFacilityRecipeCategory(d,y,h,m,f,g,b){return S=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.addCraftingFacilityRecipeCategory(b).accountsStrict({key:h.publicKey(),profile:m,funder:S.publicKey(),craftingFacility:y,recipeCategory:g,domain:f,systemProgram:i.SystemProgram.programId}).instruction(),signers:[h,S]}]})}static removeCraftingFacilityRecipeCategory(d,y,h,m,f,g,b){return S=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.removeCraftingFacilityRecipeCategory(b).accountsStrict({key:h.publicKey(),profile:m,funder:S.publicKey(),craftingFacility:y,recipeCategory:g,domain:f,systemProgram:i.SystemProgram.programId}).instruction(),signers:[h,S]}]})}static deregisterCraftingFacility(d,y,h,m,f,g,b){return S=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.deregisterCraftingFacility(b).accountsStrict({key:h.publicKey(),profile:m,fundsTo:f==="funder"?S.publicKey():f,craftingFacility:y,domain:g}).instruction(),signers:[h]}]})}static decodeData(d,y){return(0,o.decodeAccountWithRemaining)(d,y,s,(h,m)=>Array(m.numRecipeCategories).fill(0).map((f,g)=>y.coder.types.decode("WrappedRecipeCategory",h.subarray(32*g).subarray(0,32)).id))}};n.CraftingFacility=u,u.ACCOUNT_NAME="craftingFacility",u.MIN_DATA_SIZE=n.CRAFTING_FACILITY_MIN_DATA_SIZE,n.CraftingFacility=u=s=e([(0,o.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey,Array])],u)})(HZ);var Vf={},Uot=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Vot=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Ll=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},rq;Object.defineProperty(Vf,"__esModule",{value:!0});Vf.CraftingProcess=Vf.craftingProcessDataEquals=Vf.CraftingProcessStatus=void 0;const Th=nl,_D=uT,_O=tr;var Whe;(function(n){n[n.Initialized=0]="Initialized",n[n.Started=1]="Started",n[n.Completed=2]="Completed"})(Whe||(Vf.CraftingProcessStatus=Whe={}));function qot(n,e){return n.version===e.version&&n.craftingId.eq(e.craftingId)&&n.authority.equals(e.authority)&&n.recipe.equals(e.recipe)&&n.craftingFacility.equals(e.craftingFacility)&&(0,_O.arrayDeepEquals)(n.inputsChecksum,e.inputsChecksum,(t,r)=>t===r)&&(0,_O.arrayDeepEquals)(n.outputsChecksum,e.outputsChecksum,(t,r)=>t===r)&&n.quantity.eq(e.quantity)&&n.status===e.status&&n.startTime.eq(e.startTime)&&n.endTime.eq(e.endTime)&&n.denyPermissionlessClaiming===e.denyPermissionlessClaiming&&n.useLocalTime===e.useLocalTime&&n.bump===e.bump}Vf.craftingProcessDataEquals=qot;let NM=rq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static getCargoPodSeeds(){return _D.Keypair.generate().publicKey.toBuffer()}static findAddress(e,t,r,s){return _D.PublicKey.findProgramAddressSync([Xe.Buffer.from("CraftingProcess"),t.toBuffer(),r.toBuffer(),s.toArrayLike(Xe.Buffer,"le",8)],e.programId)}static createCraftingProcess(e,t,r,s,i,o){const a=this.findAddress(e,s,i,o.craftingId)[0];return c=>Ll(this,void 0,void 0,function*(){return[{instruction:yield e.methods.createCraftingProcess(o).accountsStrict({location:t.publicKey(),authority:r.publicKey(),funder:c.publicKey(),craftingProcess:a,recipe:i,craftingFacility:s,systemProgram:_D.SystemProgram.programId}).instruction(),signers:[t,r,c]}]})}static addRecipeIngredient(e,t,r,s,i,o,a,c,u){return()=>Ll(this,void 0,void 0,function*(){return[{instruction:yield e.methods.addRecipeIngredient(u).accountsStrict({location:t.publicKey(),authority:r.publicKey(),craftingProcess:s,recipe:i,craftingFacility:o,tokenFrom:a,tokenTo:c,tokenProgram:Th.TOKEN_PROGRAM_ID}).instruction(),signers:[t,r]}]})}static legitimizeRecipeIngredient(e,t,r,s,i,o,a,c){return()=>Ll(this,void 0,void 0,function*(){return[{instruction:yield e.methods.legitimizeRecipeIngredient(c).accountsStrict({location:t.publicKey(),authority:r.publicKey(),craftingProcess:s,recipe:i,craftingFacility:o,tokenTo:a,tokenProgram:Th.TOKEN_PROGRAM_ID}).instruction(),signers:[t,r]}]})}static removeRecipeIngredient(e,t,r,s,i,o,a,c,u,l){return()=>Ll(this,void 0,void 0,function*(){return[{instruction:yield e.methods.removeRecipeIngredient(l).accountsStrict({location:t.publicKey(),authority:r.publicKey(),craftingProcess:s,recipe:i,craftingFacility:o,tokenFrom:a,tokenTo:c,mint:u,tokenProgram:Th.TOKEN_PROGRAM_ID}).instruction(),signers:[t,r]}]})}static startCraftingProcess(e,t,r,s,i,o,a,c,u,l){const d=[t],y=[];return a&&c&&u&&l&&(d.map(h=>h.publicKey().toBase58()).includes(c.publicKey().toBase58())||d.push(c),y.push({pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c.publicKey(),isSigner:!0,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:Th.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1})),()=>Ll(this,void 0,void 0,function*(){var h,m;return[{instruction:yield e.methods.startCraftingProcess({recipeDurationOverride:(h=o==null?void 0:o.recipeDurationOverride)!==null&&h!==void 0?h:null,localTime:(m=o==null?void 0:o.localTime)!==null&&m!==void 0?m:null}).accountsStrict({location:t.publicKey(),craftingProcess:r,recipe:s,craftingFacility:i}).remainingAccounts(y).instruction(),signers:d}]})}static stopCraftingProcess(e,t,r,s,i,o,a,c){const u=[t],l=[];return a&&c&&l.push({pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:Th.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}),()=>Ll(this,void 0,void 0,function*(){var d;return[{instruction:yield e.methods.stopCraftingProcess({localTime:(d=o==null?void 0:o.localTime)!==null&&d!==void 0?d:null}).accountsStrict({location:t.publicKey(),craftingProcess:r,recipe:s,craftingFacility:i}).remainingAccounts(l).instruction(),signers:u}]})}static cancelCraftingProcess(e,t,r,s,i,o){return a=>Ll(this,void 0,void 0,function*(){return[{instruction:yield e.methods.cancelCraftingProcess().accountsStrict({location:t.publicKey(),authority:r.publicKey(),fundsTo:s==="funder"?a.publicKey():s,craftingProcess:i,craftingFacility:o}).instruction(),signers:[t,r]}]})}static burnConsumableIngredient(e,t,r,s,i,o){return()=>Ll(this,void 0,void 0,function*(){var a;return[{instruction:yield e.methods.burnConsumableIngredient(Object.assign(Object.assign({},o),{localTime:(a=o.localTime)!==null&&a!==void 0?a:null})).accountsStrict({craftingProcess:t,recipe:r,tokenFrom:s,mint:i,tokenProgram:Th.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static claimNonConsumableIngredient(e,t,r,s,i,o,a,c){return()=>Ll(this,void 0,void 0,function*(){var u;return[{instruction:yield e.methods.claimNonConsumableIngredient(Object.assign(Object.assign({},c),{localTime:(u=c.localTime)!==null&&u!==void 0?u:null})).accountsStrict({authority:r,craftingProcess:t,recipe:s,tokenFrom:i,tokenTo:o,mint:a,tokenProgram:Th.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static claimRecipeOutput(e,t,r,s,i,o,a,c){return()=>Ll(this,void 0,void 0,function*(){var u;return[{instruction:yield e.methods.claimRecipeOutput(Object.assign(Object.assign({},c),{localTime:(u=c.localTime)!==null&&u!==void 0?u:null})).accountsStrict({authority:r,craftingProcess:t,recipe:s,tokenFrom:i,tokenTo:o,craftableItem:a,tokenProgram:Th.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static closeCraftingProcess(e,t,r,s,i,o,a,c){const u=[];return a&&c&&u.push({pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:Th.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}),l=>Ll(this,void 0,void 0,function*(){return[{instruction:yield e.methods.closeCraftingProcess().accountsStrict({authority:t.publicKey(),fundsTo:r==="funder"?l.publicKey():r,craftingProcess:s,recipe:i,craftingFacility:o}).remainingAccounts(u).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,_O.decodeAccount)(e,t,rq)}};Vf.CraftingProcess=NM;NM.ACCOUNT_NAME="craftingProcess";NM.MIN_DATA_SIZE=8+1+8+32+32+32+32+16+16+8+1+8+8+1;Vf.CraftingProcess=NM=rq=Uot([(0,_O.staticImplements)(),Vot("design:paramtypes",[Object,_D.PublicKey])],NM);var Vp={},jot=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Hot=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Nhe=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},nq;Object.defineProperty(Vp,"__esModule",{value:!0});Vp.CraftingDomain=Vp.craftingDomainDataEquals=void 0;const WPe=uT,NPe=tr,Got=Tx.exports;function Yot(n,e){return n.version===e.version&&n.profile.equals(e.profile)&&(0,Got.isEqual)(n.namespace,e.namespace)}Vp.craftingDomainDataEquals=Yot;let FM=nq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static decodeData(e,t){return(0,NPe.decodeAccount)(e,t,nq)}static initializeDomain(e,t,r,s,i){return o=>Nhe(this,void 0,void 0,function*(){return[{instruction:yield e.methods.initializeDomain(i).accountsStrict({signer:r.publicKey(),domain:t.publicKey(),funder:o.publicKey(),profile:s,systemProgram:WPe.SystemProgram.programId}).instruction(),signers:[r,t,o]}]})}static updateDomain(e,t,r,s,i,o){return()=>Nhe(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateDomain(o).accountsStrict({key:r.publicKey(),domain:t,profile:s,newProfile:i}).instruction(),signers:[r]}]})}};Vp.CraftingDomain=FM;FM.ACCOUNT_NAME="domain";FM.MIN_DATA_SIZE=8+1+32+32+32;Vp.CraftingDomain=FM=nq=jot([(0,NPe.staticImplements)(),Hot("design:paramtypes",[Object,WPe.PublicKey])],FM);var UM={};Object.defineProperty(UM,"__esModule",{value:!0});UM.IDL=void 0;UM.IDL={version:"0.1.0",name:"crafting",instructions:[{name:"addConsumableInputToRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The Mint Account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RecipeIngredients"}}]},{name:"addCraftingFacilityRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipeCategory",isMut:!1,isSigner:!1,docs:["The [`RecipeCategory`] account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"addNonConsumableInputToRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RecipeIngredients"}}]},{name:"addOutputToRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"craftableItem",isMut:!1,isSigner:!1,docs:["The Craftable Item that the output represents"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RecipeIngredients"}}]},{name:"addRecipeIngredient",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The recipe ingredient token account."]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"AddRecipeIngredientInput"}}]},{name:"burnConsumableIngredient",accounts:[{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint of the consumable recipe ingredient"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"BurnConsumableIngredientInput"}}]},{name:"cancelCraftingProcess",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]}],args:[]},{name:"claimNonConsumableIngredient",accounts:[{name:"authority",isMut:!1,isSigner:!1,docs:["The owner/authority of crafting_process account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The token account to receive the non-consumable ingredient."]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint of the recipe ingredient"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"ClaimNonConsumableIngredientInput"}}]},{name:"claimRecipeOutput",accounts:[{name:"authority",isMut:!1,isSigner:!1,docs:["The owner/authority of crafting_process account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The token account owned by `craftable_item`."]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The recipe ingredient token account."]},{name:"craftableItem",isMut:!1,isSigner:!1,docs:["The craftable_item (this is also the mint authority)"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"ClaimRecipeOutputInput"}}]},{name:"closeCraftingProcess",accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]}],args:[]},{name:"createCraftingProcess",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The owner/authority for the new crafting_process account"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"CreateCraftingProcessInput"}}]},{name:"deregisterCraftingFacility",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"recipeCategory",isMut:!0,isSigner:!1,docs:["The [RecipeCategory] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"drainCraftableItemBank",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"craftableItem",isMut:!0,isSigner:!1,docs:["The Craftable Item account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [omain account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The craftable item token bank to drain"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["Where to send tokens from the bank"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"initializeDomain",accounts:[{name:"signer",isMut:!0,isSigner:!0,docs:["The entity calling this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] that handles the crafting program permissions"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"domain",isMut:!0,isSigner:!0,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"namespace",type:{array:["u8",32]}}]},{name:"legitimizeRecipeIngredient",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"LegitimizeRecipeIngredientInput"}}]},{name:"registerCraftableItem",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint of the Craftable Item to be registered"]},{name:"craftableItem",isMut:!0,isSigner:!1,docs:["The Craftable Item to be registered"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterCraftableItemInput"}}]},{name:"registerCraftingFacility",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"craftingFacility",isMut:!0,isSigner:!0,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"location",isMut:!1,isSigner:!1,docs:["The Location address"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterCraftingFacilityInput"}}]},{name:"registerRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!0,docs:["The [Recipe] account"]},{name:"recipeCategory",isMut:!0,isSigner:!1,docs:["The [RecipeCategory] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterRecipeInput"}}]},{name:"registerRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipeCategory",isMut:!0,isSigner:!0,docs:["The [RecipeCategory] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"RegisterRecipeCategoryInput"}}]},{name:"removeConsumableInputFromRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RemoveRecipeIngredients"}}]},{name:"removeCraftingFacilityRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipeCategory",isMut:!1,isSigner:!1,docs:["The recipe category to remove."]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RemoveCraftingFacilityRecipeCategoryInput"}}]},{name:"removeNonConsumableInputFromRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RemoveRecipeIngredients"}}]},{name:"removeOutputFromRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RemoveRecipeIngredients"}}]},{name:"removeRecipeIngredient",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The token account that receives the recipe ingredient."]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint of the recipe ingredient"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [`Token`] program"]}],args:[{name:"input",type:{defined:"RemoveRecipeIngredientInput"}}]},{name:"startCraftingProcess",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]}],args:[{name:"input",type:{defined:"StartCraftingProcessInput"}}]},{name:"stopCraftingProcess",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]}],args:[{name:"input",type:{defined:"StopCraftingProcessInput"}}]},{name:"updateCraftingFacility",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"UpdateCraftingFacilityInput"}}]},{name:"updateDomain",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"newProfile",isMut:!1,isSigner:!1,docs:["The new crafting permissions profile"]},{name:"domain",isMut:!0,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"updateRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] to update"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"UpdateRecipeInput"}}]},{name:"updateRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] to update"]},{name:"recipeCategoryOld",isMut:!0,isSigner:!1,docs:["The old [RecipeCategory] account"]},{name:"recipeCategoryNew",isMut:!0,isSigner:!1,docs:["The new [RecipeCategory] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]}],accounts:[{name:"craftableItem",docs:["This PDA represents a token registered as an item that can be crafted"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"domain",docs:["the domain"],type:"publicKey"},{name:"mint",docs:["the mint representing the items crafted"],type:"publicKey"},{name:"creator",docs:["TODO: remove this"],type:"publicKey"},{name:"namespace",docs:["the name of this account"],type:{array:["u8",32]}},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"craftingFacility",docs:["Represents a crafting facility account"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"domain",docs:["the domain"],type:"publicKey"},{name:"location",docs:["the location's pubkey"],type:"publicKey"},{name:"locationType",docs:["the location type"],type:"u8"},{name:"maxConcurrentProcesses",docs:["the max. number of concurrent crafting processes that can be handled by this facility","if 0 then there is no max"],type:"u32"},{name:"numConcurrentProcesses",docs:["the current number of concurrent crafting processes"],type:"u32"},{name:"efficiency",docs:["the efficiency rate for this crafting_facility (as basis points)"],type:"u32"},{name:"numRecipeCategories",docs:["number of recipe categories"],type:"u32"}]}},{name:"craftingProcess",docs:["This account represents crafting in progress"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"craftingId",docs:["the crafting id"],type:"u64"},{name:"authority",docs:["the owner/authority of this crafting process"],type:"publicKey"},{name:"recipe",docs:["the recipe"],type:"publicKey"},{name:"craftingFacility",docs:["the crafting facility"],type:"publicKey"},{name:"inputsChecksum",docs:["used to check if expected inputs have been supplied"],type:{array:["u8",16]}},{name:"outputsChecksum",docs:["used to check if expected outputs have been claimed"],type:{array:["u8",16]}},{name:"quantity",docs:["Quantity of outputs to craft"],type:"u64"},{name:"status",docs:["The status of this crafting process"],type:"u8"},{name:"startTime",docs:["the start timestamp"],type:"i64"},{name:"endTime",docs:["the end timestamp"],type:"i64"},{name:"denyPermissionlessClaiming",docs:["Whether or not to deny permission-less claiming.  True when > 0"],type:"u8"},{name:"useLocalTime",docs:["Whether or not to local time supplied by the location.  True when > 0"],type:"u8"},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"domain",docs:['This account allows for a crafting "domain" which allows an admin to set up',"craftable items, recipes and crafting facilities tied to a domain that the control"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The [`Profile`] that handles the crafting program permissions"],type:"publicKey"},{name:"namespace",docs:["the namespace"],type:{array:["u8",32]}}]}},{name:"recipe",docs:["The definition of a recipe."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"domain",docs:["the domain"],type:"publicKey"},{name:"category",docs:["The Recipe Category"],type:"publicKey"},{name:"creator",docs:["TODO: remove this"],type:"publicKey"},{name:"duration",docs:["The time required to craft this Recipe."],type:"i64"},{name:"minDuration",docs:["The minimum time required to craft this Recipe."],type:"i64"},{name:"namespace",docs:["The name of this recipe."],type:{array:["u8",32]}},{name:"status",docs:["The status of the recipe"],type:"u8"},{name:"feeAmount",docs:["The amount to charge when this recipe is used"],type:"u64"},{name:"feeRecipient",docs:["The token account that receives the `fee_amount`.  If [`None`] the recipe requires no fees when used."],type:{defined:"OptionalNonSystemPubkey"}},{name:"usageCount",docs:["The number of times that this recipe has been used"],type:"u64"},{name:"usageLimit",docs:["The maximum number of times that this recipe can be used"],type:"u64"},{name:"value",docs:['The value of this recipe e.g. might be "economic value"','The precise meaning of "value" is left to the person creating recipes to determine'],type:"u64"},{name:"consumablesCount",docs:["The number of consumable inputs in this recipe."],type:"u8"},{name:"nonConsumablesCount",docs:["The number of non-consumable inputs in this recipe."],type:"u8"},{name:"outputsCount",docs:["The number of outputs from this recipe."],type:"u8"},{name:"totalCount",docs:["The number of all inputs and outputs in this recipe."],type:"u16"}]}},{name:"recipeCategory",docs:["A Crafting Recipe Category account"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"domain",docs:["the domain"],type:"publicKey"},{name:"creator",docs:["TODO: remove this"],type:"publicKey"},{name:"recipeCount",docs:["The number of recipes in this category."],type:"u32"},{name:"namespace",docs:["the name of this account"],type:{array:["u8",32]}}]}}],types:[{name:"AddRecipeIngredientInput",docs:["Struct for data input to add an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to deposit"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"BurnConsumableIngredientInput",docs:["Struct for data input to burn a consumable ingredient"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the consumable recipe ingredient"],type:"u16"},{name:"localTime",docs:["the current time as supplied by the location; required if `use_local_time` is set on the `CraftingProcess`"],type:{option:"i64"}}]}},{name:"ClaimNonConsumableIngredientInput",docs:["Struct for data input to claim a non-consumable ingredient"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"},{name:"localTime",docs:["the current time as supplied by the location; required if `use_local_time` is set on the `CraftingProcess`"],type:{option:"i64"}}]}},{name:"ClaimRecipeOutputInput",docs:["Struct for data input to claim an output"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the recipe output"],type:"u16"},{name:"localTime",docs:["the current time as supplied by the location; required if `use_local_time` is set on the `CraftingProcess`"],type:{option:"i64"}}]}},{name:"CreateCraftingProcessInput",docs:["Struct for data input to create a `CraftingProcess`"],type:{kind:"struct",fields:[{name:"craftingId",docs:["crafting id"],type:"u64"},{name:"recipeCategoryIndex",docs:["the index of the recipe's category"],type:"u16"},{name:"quantity",docs:["quantity of outputs to craft"],type:"u64"},{name:"denyPermissionlessClaiming",docs:["Whether or not to deny permission-less claiming.  True when > 0"],type:"bool"},{name:"useLocalTime",docs:["Whether or not to local time supplied by the location.  True when > 0"],type:"bool"}]}},{name:"KeyIndexInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"LegitimizeRecipeIngredientInput",docs:["Struct for data input to legitimize an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to deposit"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"LocationType",docs:["Represents different types of locations that a `CraftingFacility` might be found"],type:{kind:"enum",variants:[{name:"Starbase"}]}},{name:"OptionalNonSystemPubkey",docs:["A pubkey sized option that is none if set to the system program."],type:{kind:"struct",fields:[{name:"key",type:"publicKey"}]}},{name:"ProcessStatus",docs:["The `CraftingProcess` `status`"],type:{kind:"enum",variants:[{name:"Initialized"},{name:"Started"},{name:"Completed"}]}},{name:"RecipeIngredients",docs:["A copy of the [`RecipeInputsOutputs`] struct --> to be used as inputs into the program, avoiding using Borsch Serialization with Zero Copy serialization"],type:{kind:"struct",fields:[{name:"amount",docs:["Amount of Input/Output required/produced."],type:"u64"},{name:"mint",docs:["Mint pubkey of the Input/Output."],type:"publicKey"},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RecipeInputsOutputs",docs:["The [`RecipeInputsOutputs`] struct."],type:{kind:"struct",fields:[{name:"amount",docs:["Amount of Input/Output required/produced."],type:"u64"},{name:"mint",docs:["Mint pubkey of the Input/Output."],type:"publicKey"}]}},{name:"RecipeStatus",docs:["Represents the `Recipe` status"],type:{kind:"enum",variants:[{name:"Initializing"},{name:"Active"},{name:"Deactivated"}]}},{name:"RegisterCraftableItemInput",docs:["used as input struct when registering a `CraftableItem`"],type:{kind:"struct",fields:[{name:"namespace",docs:["the `CraftableItem` namespace"],type:{array:["u8",32]}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RegisterCraftingFacilityInput",docs:["Struct for data input to Register a `CraftingFacility`"],type:{kind:"struct",fields:[{name:"locationType",docs:["`CraftingFacility` location type"],type:{defined:"LocationType"}},{name:"efficiency",docs:["`CraftingFacility` efficiency"],type:"u32"},{name:"maxConcurrentProcesses",docs:["the max. number of concurrent crafting processes that can be handled by this facility","if 0 then there is no max"],type:"u32"},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RegisterRecipeCategoryInput",docs:["Struct for data input for `RegisterRecipeCategory`"],type:{kind:"struct",fields:[{name:"namespace",docs:["the `RecipeCategory` namespace"],type:{array:["u8",32]}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RegisterRecipeInput",docs:["used as input struct when registering a Recipe"],type:{kind:"struct",fields:[{name:"duration",docs:["the recipe duration (seconds)"],type:"i64"},{name:"minDuration",docs:["the recipe minimum duration (seconds)"],type:"i64"},{name:"namespace",docs:["the recipe namespace"],type:{array:["u8",32]}},{name:"feeAmount",docs:["the recipe fee amount"],type:{option:"u64"}},{name:"usageLimit",docs:["the maximum number of times that this recipe can be used; if not provided a limit will not be set"],type:{option:"u64"}},{name:"value",docs:["the recipe's value"],type:{option:"u64"}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RemoveCraftingFacilityRecipeCategoryInput",docs:["Struct for data input for removing a [`CraftingFacility`] `RecipeCategory`"],type:{kind:"struct",fields:[{name:"recipeCategoryIndex",docs:["the index of the `RecipeCategory` in the [`CraftingFacility`]"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RemoveRecipeIngredientInput",docs:["Struct for data input to remove an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to withdraw/remove"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"RemoveRecipeIngredients",docs:["used as input struct when removing recipe ingredients"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"StartCraftingProcessInput",docs:["Inputs for `StartCraftingProcess`"],type:{kind:"struct",fields:[{name:"recipeDurationOverride",docs:["recipe duration override"],type:{option:"u64"}},{name:"localTime",docs:["the current time as supplied by the location; required if `use_local_time` is set on the `CraftingProcess`"],type:{option:"i64"}}]}},{name:"StopCraftingProcessInput",docs:["Inputs for `StopCraftingProcess`"],type:{kind:"struct",fields:[{name:"localTime",docs:["the current time as supplied by the location; required if `use_local_time` is set on the `CraftingProcess`"],type:{option:"i64"}}]}},{name:"UpdateCraftingFacilityInput",docs:["Struct for data input to Update `CraftingFacility`"],type:{kind:"struct",fields:[{name:"efficiency",docs:["`CraftingFacility` efficiency"],type:{option:"u32"}},{name:"maxConcurrentProcesses",docs:["the max. number of concurrent crafting processes that can be handled by this facility","if 0 then there is no max"],type:{option:"u32"}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"UpdateRecipeInput",docs:["Struct for data input to Update `Recipe`"],type:{kind:"struct",fields:[{name:"duration",docs:["`Recipe` duration"],type:{option:"i64"}},{name:"minDuration",docs:["`Recipe` minimum duration"],type:{option:"i64"}},{name:"feeAmount",docs:["`Recipe` fee amount"],type:{option:"u64"}},{name:"status",docs:["`Recipe` status"],type:{option:"u8"}},{name:"usageLimit",docs:["the maximum number of times that this recipe can be used"],type:{option:"u64"}},{name:"value",docs:["the recipe's value"],type:{option:"u64"}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"WrappedRecipeCategory",docs:["Wrapped recipe category","We are wrapping this around Pubkey so that we can use Anchor's coder to decode it"],type:{kind:"struct",fields:[{name:"id",docs:["The recipe category public key"],type:"publicKey"}]}}],errors:[{code:6e3,name:"IncorrectProfileAddress",msg:"Incorrect profile address."},{code:6001,name:"IncorrectAuthority",msg:"The authority is incorrect."},{code:6002,name:"NumericOverflow",msg:"Numeric overflow"},{code:6003,name:"MintAuthorityIsNone",msg:"The mint authority should exist."},{code:6004,name:"AdminNotMintAuthority",msg:"Admin wallet is not the mint authority of the entered token."},{code:6005,name:"IncorrectMintAddress",msg:"Incorrect mint address entered."},{code:6006,name:"LocationTypeNotSupported",msg:"The provided location type is not supported."},{code:6007,name:"IncorrectLocation",msg:"The location is incorrect."},{code:6008,name:"IncorrectDomain",msg:"The domain is incorrect."},{code:6009,name:"IncorrectRecipe",msg:"The recipe is incorrect."},{code:6010,name:"IncorrectRecipeCategory",msg:"The recipe category is incorrect."},{code:6011,name:"IncorrectCraftingFacility",msg:"The crafting facility is incorrect."},{code:6012,name:"OverCraftingFacilityCapacity",msg:"The crafting facility capacity has been exceeded."},{code:6013,name:"InsufficientAmount",msg:"The amount is insufficient."},{code:6014,name:"AmountRequired",msg:"An amount greater than 0 must be provided."},{code:6015,name:"AmountTooMuch",msg:"The amount is more than what is required."},{code:6016,name:"InputAlreadySupplied",msg:"The input has already been supplied."},{code:6017,name:"InputNotSupplied",msg:"The input has NOT been supplied."},{code:6018,name:"OutputAlreadyClaimed",msg:"The output has already been claimed."},{code:6019,name:"CraftingProcessAlreadyStarted",msg:"The crafting process has already started."},{code:6020,name:"CraftingProcessNotStarted",msg:"The crafting process has not started."},{code:6021,name:"CraftingProcessNotCompleted",msg:"The crafting process has not completed."},{code:6022,name:"CraftingProcessAlreadyCompleted",msg:"The crafting process has already completed."},{code:6023,name:"IngredientNotAnInput",msg:"The ingredient is not an input."},{code:6024,name:"IngredientNotAConsumableInput",msg:"The ingredient is not a consumable input."},{code:6025,name:"IngredientNotANonConsumableInput",msg:"The ingredient is not a non-consumable input."},{code:6026,name:"IngredientNotAnOutput",msg:"The ingredient is not an output."},{code:6027,name:"IncorrectInputsChecksum",msg:"The inputs checksum is incorrect."},{code:6028,name:"IncorrectOutputsChecksum",msg:"The outputs checksum is incorrect."},{code:6029,name:"RecipeCountNotZero",msg:"The recipe count is not zero."},{code:6030,name:"RecipeCategoryCountNotZero",msg:"The recipe category count is not zero."},{code:6031,name:"ConcurrentProcessCountNotZero",msg:"The concurrent process count is not zero."},{code:6032,name:"KeyIndexOutOfBounds",msg:"Key index out of bounds."},{code:6033,name:"InvalidDuration",msg:"Duration is invalid."},{code:6034,name:"MissingRequiredSignature",msg:"Missing required signature."},{code:6035,name:"AddressMismatchATA",msg:"ATA address does not match"},{code:6036,name:"CannotUpdateDeactivatedRecipe",msg:"Cannot Update Deactivated Recipe"},{code:6037,name:"InvalidRecipeStatus",msg:"Invalid Recipe Status"},{code:6038,name:"EfficiencyIsZero",msg:"Crafting Facility Efficiency Is Zero"},{code:6039,name:"AddressMismatch",msg:"Address Mismatch"},{code:6040,name:"RecipeLimitExceeded",msg:"Recipe Limit Exceeded"}]};var GZ={};(function(n){var e=K&&K.__createBinding||(Object.create?function(f,g,b,S){S===void 0&&(S=b);var p=Object.getOwnPropertyDescriptor(g,b);(!p||("get"in p?!g.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return g[b]}}),Object.defineProperty(f,S,p)}:function(f,g,b,S){S===void 0&&(S=b),f[S]=g[b]}),t=K&&K.__setModuleDefault||(Object.create?function(f,g){Object.defineProperty(f,"default",{enumerable:!0,value:g})}:function(f,g){f.default=g}),r=K&&K.__decorate||function(f,g,b,S){var p=arguments.length,I=p<3?g:S===null?S=Object.getOwnPropertyDescriptor(g,b):S,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(f,g,b,S);else for(var A=f.length-1;A>=0;A--)(w=f[A])&&(I=(p<3?w(I):p>3?w(g,b,I):w(g,b))||I);return p>3&&I&&Object.defineProperty(g,b,I),I},s=K&&K.__importStar||function(f){if(f&&f.__esModule)return f;var g={};if(f!=null)for(var b in f)b!=="default"&&Object.prototype.hasOwnProperty.call(f,b)&&e(g,f,b);return t(g,f),g},i=K&&K.__metadata||function(f,g){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,g)},o=K&&K.__awaiter||function(f,g,b,S){function p(I){return I instanceof b?I:new b(function(w){w(I)})}return new(b||(b=Promise))(function(I,w){function A(M){try{E(S.next(M))}catch(P){w(P)}}function _(M){try{E(S.throw(M))}catch(P){w(P)}}function E(M){M.done?I(M.value):p(M.value).then(A,_)}E((S=S.apply(f,g||[])).next())})},a;Object.defineProperty(n,"__esModule",{value:!0}),n.Recipe=n.recipeDataEquals=n.RECIPE_MIN_DATA_SIZE=n.RecipeStatus=void 0;const c=uT,u=s(cc),l=tr,d=Tx.exports;var y;(function(f){f[f.Initializing=1]="Initializing",f[f.Active=2]="Active",f[f.Deactivated=3]="Deactivated"})(y||(n.RecipeStatus=y={})),n.RECIPE_MIN_DATA_SIZE=8+1+32+32+32+8+8+32+1+1+1+1+8+8+8+8+32+2;function h(f,g){return f.version===g.version&&f.domain.equals(g.domain)&&f.category.equals(g.category)&&f.duration.eq(g.duration)&&f.minDuration.eq(g.minDuration)&&(0,d.isEqual)(f.namespace,g.namespace)&&f.consumablesCount===g.consumablesCount&&f.nonConsumablesCount===g.nonConsumablesCount&&f.outputsCount===g.outputsCount&&f.totalCount===g.totalCount&&f.feeAmount.eq(g.feeAmount)&&f.usageCount.eq(g.usageCount)&&f.usageLimit.eq(g.usageLimit)&&f.value.eq(g.value)&&f.feeRecipient.key.equals(g.feeRecipient.key)&&f.status===g.status}n.recipeDataEquals=h;let m=a=class{constructor(g,b,S){this._data=g,this._key=b,this._ingredientInputsOutputs=S}get data(){return this._data}get key(){return this._key}get ingredientInputsOutputs(){return this._ingredientInputsOutputs}static registerRecipe(g,b,S,p,I,w,A,_){if(A.feeAmount&&A.feeAmount.gt(new u.BN(0))&&!_||_&&(!A.feeAmount||A.feeAmount.lte(new u.BN(0))))throw"feeRecipient must be set if feeAmount is set";const E=_&&A.feeAmount&&A.feeAmount.gt(new u.BN(0))?[{pubkey:_,isSigner:!1,isWritable:!1}]:[];return M=>o(this,void 0,void 0,function*(){var P,R;return[{instruction:yield g.methods.registerRecipe(Object.assign(Object.assign({},A),{feeAmount:A.feeAmount&&A.feeAmount.gt(new u.BN(0))?A.feeAmount:null,usageLimit:(P=A.usageLimit)!==null&&P!==void 0?P:null,value:(R=A.value)!==null&&R!==void 0?R:null})).accountsStrict({key:S.publicKey(),profile:p,funder:M.publicKey(),recipe:b.publicKey(),recipeCategory:w,domain:I,systemProgram:c.SystemProgram.programId}).remainingAccounts(E).instruction(),signers:[S,M,b]}]})}static addConsumableInputToRecipe(g,b,S,p,I,w,A){return _=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.addConsumableInputToRecipe(A).accountsStrict({key:S.publicKey(),profile:p,funder:_.publicKey(),recipe:b,domain:I,mint:w,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,_]}]})}static addNonConsumableInputToRecipe(g,b,S,p,I,w,A){return _=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.addNonConsumableInputToRecipe(A).accountsStrict({key:S.publicKey(),profile:p,funder:_.publicKey(),recipe:b,domain:I,mint:w,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,_]}]})}static addOutputToRecipe(g,b,S,p,I,w,A){return _=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.addOutputToRecipe(A).accountsStrict({key:S.publicKey(),profile:p,funder:_.publicKey(),recipe:b,domain:I,craftableItem:w,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,_]}]})}static removeConsumableInputFromRecipe(g,b,S,p,I,w){return A=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.removeConsumableInputFromRecipe(w).accountsStrict({key:S.publicKey(),profile:p,funder:A.publicKey(),recipe:b,domain:I,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,A]}]})}static removeNonConsumableInputFromRecipe(g,b,S,p,I,w){return A=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.removeNonConsumableInputFromRecipe(w).accountsStrict({key:S.publicKey(),profile:p,funder:A.publicKey(),recipe:b,domain:I,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,A]}]})}static removeOutputFromRecipe(g,b,S,p,I,w){return A=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.removeOutputFromRecipe(w).accountsStrict({key:S.publicKey(),profile:p,funder:A.publicKey(),recipe:b,domain:I,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,A]}]})}static updateRecipeCategory(g,b,S,p,I,w,A,_){return()=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.updateRecipeCategory(_).accountsStrict({key:S.publicKey(),profile:p,recipe:b,recipeCategoryOld:w,recipeCategoryNew:A,domain:I}).instruction(),signers:[S]}]})}static updateRecipe(g,b,S,p,I,w,A){if(w.feeAmount&&w.feeAmount.gt(new u.BN(0))&&!A||A&&(!w.feeAmount||w.feeAmount.lte(new u.BN(0))))throw"feeRecipient must be set if feeAmount is set";const _=A&&w.feeAmount&&w.feeAmount.gt(new u.BN(0))?[{pubkey:A,isSigner:!1,isWritable:!1}]:[];return()=>o(this,void 0,void 0,function*(){var E,M,P,R,$,z;return[{instruction:yield g.methods.updateRecipe({keyIndex:w.keyIndex,duration:(E=w.duration)!==null&&E!==void 0?E:null,minDuration:(M=w.minDuration)!==null&&M!==void 0?M:null,status:(P=w.status)!==null&&P!==void 0?P:null,usageLimit:(R=w.usageLimit)!==null&&R!==void 0?R:null,feeAmount:($=w.feeAmount)!==null&&$!==void 0?$:null,value:(z=w.value)!==null&&z!==void 0?z:null}).accountsStrict({key:S.publicKey(),profile:p,recipe:b,domain:I}).remainingAccounts(_).instruction(),signers:[S]}]})}static decodeData(g,b){return(0,l.decodeAccountWithRemaining)(g,b,a,(p,I)=>Array(I.totalCount).fill(0).map((w,A)=>b.coder.types.decode("RecipeInputsOutputs",p.subarray(A*40).subarray(0,40))))}};n.Recipe=m,m.ACCOUNT_NAME="recipe",m.MIN_DATA_SIZE=n.RECIPE_MIN_DATA_SIZE,n.Recipe=m=a=r([(0,l.staticImplements)(),i("design:paramtypes",[Object,c.PublicKey,Array])],m)})(GZ);var qp={},Zot=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Jot=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Fhe=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},sq;Object.defineProperty(qp,"__esModule",{value:!0});qp.RecipeCategory=qp.recipeCategoryDataEquals=void 0;const iq=uT,YZ=tr;function Xot(n,e){return n.version===e.version&&n.domain.equals(e.domain)&&n.recipeCount===e.recipeCount&&(0,YZ.arrayDeepEquals)(n.namespace,e.namespace,(t,r)=>t===r)}qp.recipeCategoryDataEquals=Xot;let VM=sq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static registerRecipeCategory(e,t,r,s,i,o){return a=>Fhe(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerRecipeCategory(o).accountsStrict({key:r.publicKey(),profile:s,funder:a.publicKey(),recipeCategory:t.publicKey(),domain:i,systemProgram:iq.SystemProgram.programId}).instruction(),signers:[r,a,t]}]})}static deregisterRecipeCategory(e,t,r,s,i,o,a){return c=>Fhe(this,void 0,void 0,function*(){return[{instruction:yield e.methods.deregisterRecipeCategory(a).accountsStrict({key:r.publicKey(),profile:s,fundsTo:i==="funder"?c.publicKey():i,recipeCategory:t,domain:o,systemProgram:iq.SystemProgram.programId}).instruction(),signers:[r]}]})}static decodeData(e,t){return(0,YZ.decodeAccount)(e,t,sq)}};qp.RecipeCategory=VM;VM.ACCOUNT_NAME="recipeCategory";VM.MIN_DATA_SIZE=8+1+32+32+4+32;qp.RecipeCategory=VM=sq=Zot([(0,YZ.staticImplements)(),Jot("design:paramtypes",[Object,iq.PublicKey])],VM);(function(n){var e=K&&K.__decorate||function(m,f,g,b){var S=arguments.length,p=S<3?f:b===null?b=Object.getOwnPropertyDescriptor(f,g):b,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(m,f,g,b);else for(var w=m.length-1;w>=0;w--)(I=m[w])&&(p=(S<3?I(p):S>3?I(f,g,p):I(f,g))||p);return S>3&&p&&Object.defineProperty(f,g,p),p},t=K&&K.__metadata||function(m,f){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(m,f)};Object.defineProperty(n,"__esModule",{value:!0}),n.CraftingProgram=n.craftingErrorMap=n.CRAFTING_IDL=void 0;const r=cc,s=tr,i=Up,o=HZ,a=Vf,c=Vp,u=UM,l=GZ,d=qp;var y=UM;Object.defineProperty(n,"CRAFTING_IDL",{enumerable:!0,get:function(){return y.IDL}}),n.craftingErrorMap=(0,s.generateErrorMap)(u.IDL);let h=class extends s.ListenProgram{constructor(f){super(f,{craftableItem:i.CraftableItem,craftingFacility:o.CraftingFacility,craftingProcess:a.CraftingProcess,domain:c.CraftingDomain,recipe:l.Recipe,recipeCategory:d.RecipeCategory})}static buildProgram(f,g,b){return new r.Program(u.IDL,f,g,b)}};n.CraftingProgram=h,n.CraftingProgram=h=e([(0,s.staticImplements)(),t("design:paramtypes",[Object])],h)})(VIe);var fz={},Qot=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},eat=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Yi;Object.defineProperty(fz,"__esModule",{value:!0});fz.CraftingPermissions=void 0;const FPe=tr;let oq=Yi=class{constructor(e,t,r,s,i,o,a,c){this.manageDomain=e,this.createCraftableItem=t,this.manageCraftableItem=r,this.manageCraftingFacility=s,this.createRecipeCategory=i,this.manageRecipeCategory=o,this.createRecipe=a,this.manageRecipe=c}getPermissions(){const e=(0,FPe.fixedSizeArray)(8,0);return e[0]=(this.manageDomain?1<<0:0)|(this.createCraftableItem?1<<1:0)|(this.manageCraftableItem?1<<2:0)|(this.manageCraftingFacility?1<<3:0)|(this.createRecipeCategory?1<<4:0)|(this.manageRecipeCategory?1<<5:0)|(this.createRecipe?1<<6:0)|(this.manageRecipe?1<<7:0),e}static empty(){return new Yi(!1,!1,!1,!1,!1,!1,!1,!1)}static all(){return new Yi(!0,!0,!0,!0,!0,!0,!0,!0)}static manageDomain(){return Yi.permissionsBuilder("manageDomain")}static createCraftableItem(){return Yi.permissionsBuilder("createCraftableItem")}static manageCraftableItem(){return Yi.permissionsBuilder("manageCraftableItem")}static manageCraftingFacility(){return Yi.permissionsBuilder("manageCraftingFacility")}static createRecipeCategory(){return Yi.permissionsBuilder("createRecipeCategory")}static manageRecipeCategory(){return Yi.permissionsBuilder("manageRecipeCategory")}static createRecipe(){return Yi.permissionsBuilder("createRecipe")}static manageRecipe(){return Yi.permissionsBuilder("manageRecipe")}static craftableItemPermissions(){return Yi.permissionsBuilder(["createCraftableItem","manageCraftableItem"])}static recipeCategoryPermissions(){return Yi.permissionsBuilder(["createRecipeCategory","manageRecipeCategory"])}static recipePermissions(){return Yi.permissionsBuilder(["createRecipe","manageRecipe"])}static fromPermissions(e){return new Yi((e[0]&1<<0)!==0,(e[0]&1<<1)!==0,(e[0]&1<<2)!==0,(e[0]&1<<3)!==0,(e[0]&1<<4)!==0,(e[0]&1<<5)!==0,(e[0]&1<<6)!==0,(e[0]&1<<7)!==0)}and(e){return new Yi(this.manageDomain&&e.manageDomain,this.createCraftableItem&&e.createCraftableItem,this.manageCraftableItem&&e.manageCraftableItem,this.manageCraftingFacility&&e.manageCraftingFacility,this.createRecipeCategory&&e.createRecipeCategory,this.manageRecipeCategory&&e.manageRecipeCategory,this.createRecipe&&e.createRecipe,this.manageRecipe&&e.manageRecipe)}or(e){return new Yi(this.manageDomain||e.manageDomain,this.createCraftableItem||e.createCraftableItem,this.manageCraftableItem||e.manageCraftableItem,this.manageCraftingFacility||e.manageCraftingFacility,this.createRecipeCategory||e.createRecipeCategory,this.manageRecipeCategory||e.manageRecipeCategory,this.createRecipe||e.createRecipe,this.manageRecipe||e.manageRecipe)}eq(e){return this.manageDomain===e.manageDomain&&this.createCraftableItem===e.createCraftableItem&&this.manageCraftableItem===e.manageCraftableItem&&this.manageCraftingFacility===e.manageCraftingFacility&&this.createRecipeCategory===e.createRecipeCategory&&this.manageRecipeCategory===e.manageRecipeCategory&&this.createRecipe===e.createRecipe&&this.manageRecipe===e.manageRecipe}contains(e){return this.and(e).eq(e)}static permissionsBuilder(e){const t=Array.isArray(e)?e:[e],r=Object.keys(Yi.empty()).map(s=>t.includes(s));if(r.length!=Yi.length)throw console.log(r.length,Yi.length),"Incorrect permissions array";return new Yi(...r)}};fz.CraftingPermissions=oq;fz.CraftingPermissions=oq=Yi=Qot([(0,FPe.staticImplements)(),eat("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean])],oq);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(UIe,n),t(VIe,n),t(Up,n),t(HZ,n),t(Vf,n),t(Vp,n),t(fz,n),t(GZ,n),t(qp,n)})(vZ);var Au={},tat=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},rat=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},cN=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},hy;Object.defineProperty(Au,"__esModule",{value:!0});Au.ProgressionConfig=Au.progressionConfigDataEquals=Au.ProgressionItemType=void 0;const P2=qs,UPe=tr;var Uhe;(function(n){n[n.Subwarp=0]="Subwarp",n[n.Warp=1]="Warp",n[n.WarpLane=2]="WarpLane",n[n.AsteroidExit=3]="AsteroidExit",n[n.ScanUnsuccessful=4]="ScanUnsuccessful",n[n.ScanSuccessful=5]="ScanSuccessful",n[n.Mining=6]="Mining",n[n.Crafting=7]="Crafting",n[n.Upkeep=8]="Upkeep",n[n.Upgrade=9]="Upgrade"})(Uhe||(Au.ProgressionItemType=Uhe={}));function nat(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.dailyLpLimit.eq(e.dailyLpLimit)&&n.dailyCouncilRankXpLimit.eq(e.dailyCouncilRankXpLimit)&&n.dailyPilotXpLimit.eq(e.dailyPilotXpLimit)&&n.dailyDataRunningXpLimit.eq(e.dailyDataRunningXpLimit)&&n.dailyMiningXpLimit.eq(e.dailyMiningXpLimit)&&n.dailyCraftingXpLimit.eq(e.dailyCraftingXpLimit)&&n.numItems===e.numItems}Au.progressionConfigDataEquals=nat;let XA=hy=class{constructor(e,t,r){this._data=e,this._key=t,this._items=r}get data(){return this._data}get key(){return this._key}get items(){return this._items||[]}static findAddress(e,t){return P2.PublicKey.findProgramAddressSync([Xe.Buffer.from("ProgressionConfig"),t.toBuffer()],e.programId)}static registerProgressionConfig(e,t,r,s,i){const o=hy.findAddress(e,s);return{configKey:o,instructions:a=>cN(this,void 0,void 0,function*(){var c,u,l,d,y,h;return[{instruction:yield e.methods.registerProgressionConfig(Object.assign(Object.assign({},i),{dailyLpLimit:(c=i.dailyLpLimit)!==null&&c!==void 0?c:null,dailyCouncilRankXpLimit:(u=i.dailyCouncilRankXpLimit)!==null&&u!==void 0?u:null,dailyPilotXpLimit:(l=i.dailyPilotXpLimit)!==null&&l!==void 0?l:null,dailyDataRunningXpLimit:(d=i.dailyDataRunningXpLimit)!==null&&d!==void 0?d:null,dailyMiningXpLimit:(y=i.dailyMiningXpLimit)!==null&&y!==void 0?y:null,dailyCraftingXpLimit:(h=i.dailyCraftingXpLimit)!==null&&h!==void 0?h:null})).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},funder:a.publicKey(),progressionConfig:o[0],systemProgram:P2.SystemProgram.programId}).instruction(),signers:[t,a]}]})}}static updateProgressionConfig(e,t,r,s,i){return()=>cN(this,void 0,void 0,function*(){var o,a,c,u,l,d,y;return[{instruction:yield e.methods.updateProgressionConfig({keyIndex:i.keyIndex,items:(o=i.items)!==null&&o!==void 0?o:null,dailyLpLimit:(a=i.dailyLpLimit)!==null&&a!==void 0?a:null,dailyCouncilRankXpLimit:(c=i.dailyCouncilRankXpLimit)!==null&&c!==void 0?c:null,dailyPilotXpLimit:(u=i.dailyPilotXpLimit)!==null&&u!==void 0?u:null,dailyDataRunningXpLimit:(l=i.dailyDataRunningXpLimit)!==null&&l!==void 0?l:null,dailyMiningXpLimit:(d=i.dailyMiningXpLimit)!==null&&d!==void 0?d:null,dailyCraftingXpLimit:(y=i.dailyCraftingXpLimit)!==null&&y!==void 0?y:null}).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},progressionConfig:hy.findAddress(e,s)[0],systemProgram:P2.SystemProgram.programId}).instruction(),signers:[t]}]})}static deregisterProgressionConfig(e,t,r,s,i,o){return a=>cN(this,void 0,void 0,function*(){return[{instruction:yield e.methods.deregisterProgressionConfig(o).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:i},fundsTo:s==="funder"?a.publicKey():s,progressionConfig:hy.findAddress(e,i)[0],systemProgram:P2.SystemProgram.programId}).instruction(),signers:[t,a]}]})}static decodeData(e,t){return(0,UPe.decodeAccountWithRemaining)(e,t,hy,(r,s)=>Array(s.numItems).fill(0).map((i,o)=>t.coder.types.decode("ProgressionItem",r.subarray(hy.PROGRESSION_ITEM_DATA_SIZE*o).subarray(0,hy.PROGRESSION_ITEM_DATA_SIZE))))}};Au.ProgressionConfig=XA;XA.ACCOUNT_NAME="progressionConfig";XA.MIN_DATA_SIZE=8+1+32+8+8+8+8+8+8+2;XA.PROGRESSION_ITEM_DATA_SIZE=4;Au.ProgressionConfig=XA=hy=tat([(0,UPe.staticImplements)(),rat("design:paramtypes",[Object,P2.PublicKey,Array])],XA);var sat=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},iat=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Wd=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},aq;Object.defineProperty(ud,"__esModule",{value:!0});ud.CraftingInstance=ud.craftingInstanceDataEquals=ud.CraftingInstanceType=void 0;const Um=nl,cq=qs,xk=cc,oat=vZ,VPe=tr,aat=Au;var Vhe;(function(n){n[n.StarbaseCrafting=1]="StarbaseCrafting",n[n.StarbaseUpgradeMaterial=2]="StarbaseUpgradeMaterial"})(Vhe||(ud.CraftingInstanceType=Vhe={}));function cat(n,e){return n.version===e.version&&n.seqId===e.seqId&&n.numCrew.eq(e.numCrew)&&n.authority.equals(e.authority)&&n.craftingProcess.equals(e.craftingProcess)&&n.instanceType===e.instanceType&&n.bump===e.bump}ud.craftingInstanceDataEquals=cat;let qM=aq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static calculateCraftingDuration(e,t,r,s=0,i=1){if(r.isZero())throw new Error("Invalid value for numCrew");const o=t.div(r),a=t.mod(r),c=o.add(xk.BN.min(a,new xk.BN(1))).mul(e),u=Number(c);if(s>=u)return new xk.BN(u);{const l=Math.max(0,s),y=(u-l)/i;return new xk.BN(l+y)}}static calculateUpgradeDuration(e,t,r){if(r.isZero())throw new Error("Invalid value for numCrew");const s=t.div(r),i=t.mod(r);return s.add(xk.BN.min(i,new xk.BN(1))).mul(e)}static findAddress(e,t,r){return cq.PublicKey.findProgramAddressSync([Xe.Buffer.from("CraftingInstance"),t.toBuffer(),r.toBuffer()],e.programId)}static createCraftingProcess(e,t,r,s,i,o,a,c,u,l,d,y,h){const m=oat.CraftingProcess.findAddress(t,l,d,h.craftingId)[0];return f=>Wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.createCraftingProcess(h).accountsStrict({funder:f.publicKey(),starbaseAndStarbasePlayer:{starbase:a,starbasePlayer:o},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:c,key:r.publicKey(),profile:s,profileFaction:i},gameState:u},craftingInstance:this.findAddress(e,o,m)[0],craftingProcess:m,craftingFacility:l,craftingRecipe:d,craftingDomain:y,craftingProgram:t.programId,systemProgram:cq.SystemProgram.programId}).instruction(),signers:[r,f]}]})}static depositCraftingIngredient(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S,p,I){return()=>Wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.depositCraftingIngredient(I).accountsStrict({starbaseAndStarbasePlayer:{starbase:c,starbasePlayer:a},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:S,key:s.publicKey(),profile:i,profileFaction:o},gameState:p},craftingInstance:u,craftingProcess:l,craftingFacility:d,craftingRecipe:y,cargoPodFrom:h,cargoType:m,cargoStatsDefinition:f,tokenFrom:g,tokenTo:b,craftingProgram:r.programId,cargoProgram:t.programId,tokenProgram:Um.TOKEN_PROGRAM_ID}).instruction(),signers:[s]}]})}static withdrawCraftingIngredient(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S,p,I,w){return()=>Wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.withdrawCraftingIngredient(w).accountsStrict({starbaseAndStarbasePlayer:{starbase:c,starbasePlayer:a},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:p,key:s.publicKey(),profile:i,profileFaction:o},gameState:I},craftingInstance:u,craftingProcess:l,craftingFacility:d,craftingRecipe:y,cargoPodTo:h,cargoType:m,cargoStatsDefinition:f,tokenFrom:g,tokenTo:b,tokenMint:S,craftingProgram:r.programId,cargoProgram:t.programId,tokenProgram:Um.TOKEN_PROGRAM_ID}).instruction(),signers:[s]}]})}static startCraftingProcess(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S){const p=[r],I=[];return f&&g&&b&&S&&(p.map(w=>w.publicKey().toBase58()).includes(g.publicKey().toBase58())||p.push(g),I.push({pubkey:f,isSigner:!1,isWritable:!1},{pubkey:g.publicKey(),isSigner:!0,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:Um.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1})),()=>Wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.startCraftingProcess(m).accountsStrict({starbaseAndStarbasePlayer:{starbase:a,starbasePlayer:o},craftingInstance:c,craftingProcess:u,craftingRecipe:d,craftingFacility:l,gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:y,key:r.publicKey(),profile:s,profileFaction:i},gameState:h},craftingProgram:t.programId}).remainingAccounts(I).instruction(),signers:p}]})}static stopCraftingProcess(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){const b=[];return f&&g&&b.push({pubkey:f,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:Um.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}),()=>Wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.stopCraftingProcess(m).accountsStrict({starbaseAndStarbasePlayer:{starbase:a,starbasePlayer:o},craftingInstance:c,craftingProcess:u,craftingRecipe:d,craftingFacility:l,gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:y,key:r.publicKey(),profile:s,profileFaction:i},gameState:h},craftingProgram:t.programId}).remainingAccounts(b).instruction(),signers:[r]}]})}static cancelCraftingProcess(e,t,r,s,i,o,a,c,u,l,d,y,h,m){return f=>Wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.cancelCraftingProcess(m).accountsStrict({fundsTo:o==="funder"?f.publicKey():o,starbaseAndStarbasePlayer:{starbase:c,starbasePlayer:a},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:y,key:r.publicKey(),profile:s,profileFaction:i},gameState:h},craftingInstance:u,craftingProcess:l,craftingFacility:d,craftingProgram:t.programId}).instruction(),signers:[r]}]})}static claimCraftingNonConsumables(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S){return()=>Wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.claimCraftingNonConsumables(S).accountsStrict({starbaseAndStarbasePlayer:{starbase:i,starbasePlayer:s},gameAccounts:{gameId:h,gameState:m},craftingInstance:o,craftingProcess:a,craftingFacility:c,craftingRecipe:u,cargoPodTo:l,cargoType:d,cargoStatsDefinition:y,tokenFrom:f,tokenTo:g,tokenMint:b,craftingProgram:r.programId,cargoProgram:t.programId,tokenProgram:Um.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static burnCraftingConsumables(e,t,r,s,i,o,a,c,u,l,d,y,h){return()=>Wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.burnCraftingConsumables(h).accountsStrict({starbaseAndStarbasePlayer:{starbase:s,starbasePlayer:r},gameAccounts:{gameId:u,gameState:l},craftingInstance:i,craftingProcess:o,craftingFacility:a,craftingRecipe:c,tokenFrom:d,tokenMint:y,craftingProgram:t.programId,tokenProgram:Um.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static claimCraftingOutputs(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S){return()=>Wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.claimCraftingOutputs(S).accountsStrict({starbaseAndStarbasePlayer:{starbase:i,starbasePlayer:s},gameAccounts:{gameId:m,gameState:f},craftingInstance:o,craftingProcess:a,craftingFacility:c,craftingRecipe:u,craftableItem:l,cargoPodTo:d,cargoType:y,cargoStatsDefinition:h,tokenFrom:g,tokenTo:b,craftingProgram:r.programId,cargoProgram:t.programId,tokenProgram:Um.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static closeCraftingProcess(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S,p,I,w,A,_,E){const M=[];return _&&E&&M.push({pubkey:_,isSigner:!1,isWritable:!0},{pubkey:E,isSigner:!1,isWritable:!0},{pubkey:Um.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}),P=>Wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.closeCraftingProcess(A).accountsStrict({fundsTo:a==="funder"?P.publicKey():a,starbaseAndStarbasePlayer:{starbase:u,starbasePlayer:c},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:I,key:s.publicKey(),profile:i,profileFaction:o},gameState:w},craftingInstance:l,craftingProcess:d,craftingRecipe:h,craftingFacility:y,craftingXpAccounts:{userPointsAccount:m,pointsCategory:f,pointsModifierAccount:g},councilRankXpAccounts:{userPointsAccount:b,pointsCategory:S,pointsModifierAccount:p},progressionConfig:aat.ProgressionConfig.findAddress(e,I)[0],pointsProgram:r.programId,craftingProgram:t.programId}).remainingAccounts(M).instruction(),signers:[s]}]})}static decodeData(e,t){return(0,VPe.decodeAccount)(e,t,aq)}};ud.CraftingInstance=qM;qM.ACCOUNT_NAME="craftingInstance";qM.MIN_DATA_SIZE=8+1+2+8+32+32+1+1;ud.CraftingInstance=qM=aq=sat([(0,VPe.staticImplements)(),iat("design:paramtypes",[Object,cq.PublicKey])],qM);var UK={};(function(n){var e=K&&K.__decorate||function(u,l,d,y){var h=arguments.length,m=h<3?l:y===null?y=Object.getOwnPropertyDescriptor(l,d):y,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,l,d,y);else for(var g=u.length-1;g>=0;g--)(f=u[g])&&(m=(h<3?f(m):h>3?f(l,d,m):f(l,d))||m);return h>3&&m&&Object.defineProperty(l,d,m),m},t=K&&K.__metadata||function(u,l){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,l)},r=K&&K.__awaiter||function(u,l,d,y){function h(m){return m instanceof d?m:new d(function(f){f(m)})}return new(d||(d=Promise))(function(m,f){function g(p){try{S(y.next(p))}catch(I){f(I)}}function b(p){try{S(y.throw(p))}catch(I){f(I)}}function S(p){p.done?m(p.value):h(p.value).then(g,b)}S((y=y.apply(u,l||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.DisbandedFleet=n.SHIP_COUNTS_SIZE=n.disbandedFleetDataEquals=void 0;const i=qs,o=tr;function a(u,l){return u.version===l.version&&u.bump===l.bump&&u.gameId.equals(l.gameId)&&u.ownerProfile.equals(l.ownerProfile)&&u.fleetShips.equals(l.fleetShips)&&u.starbase.equals(l.starbase)&&(0,o.arrayDeepEquals)(u.fleetLabel,l.fleetLabel,(d,y)=>d===y)}n.disbandedFleetDataEquals=a,n.SHIP_COUNTS_SIZE=9*2;let c=s=class{constructor(l,d){this._data=l,this._key=d}get data(){return this._data}get key(){return this._key}static findAddress(l,d,y,h){return i.PublicKey.findProgramAddressSync([Xe.Buffer.from("DisbandedFleet"),d.toBuffer(),y.toBuffer(),Xe.Buffer.from(h)],l.programId)}static disbandedFleetToEscrow(l,d,y,h,m,f,g,b,S,p,I,w){return A=>r(this,void 0,void 0,function*(){return[{instruction:yield l.methods.disbandedFleetToEscrow(w).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:d.publicKey(),profile:y,profileFaction:h,gameId:p},gameState:I},funder:A.publicKey(),disbandedFleet:m,fleetShips:f,ship:g,starbaseAndStarbasePlayer:{starbase:S,starbasePlayer:b},systemProgram:i.SystemProgram.programId}).instruction(),signers:[d,A]}]})}static closeDisbandedFleet(l,d,y,h,m,f,g){return b=>r(this,void 0,void 0,function*(){return[{instruction:yield l.methods.closeDisbandedFleet(g).accountsStrict({key:d.publicKey(),playerProfile:y,fundsTo:h==="funder"?b.publicKey():h,disbandedFleet:m,fleetShips:f}).instruction(),signers:[d]}]})}static decodeData(l,d){return(0,o.decodeAccount)(l,d,s)}};n.DisbandedFleet=c,c.ACCOUNT_NAME="disbandedFleet",c.MIN_DATA_SIZE=8+1+32+32+32+32+n.SHIP_COUNTS_SIZE+1,n.DisbandedFleet=c=s=e([(0,o.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey])],c)})(UK);var VK={},qK={},ZZ={};function EO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function uat(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function hz(n,...e){if(!uat(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function lat(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");EO(n.outputLen),EO(n.blockLen)}function QA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function qPe(n,e){hz(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const uN=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dat=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),lN=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Nd=(n,e)=>n<<32-e|n>>>e,qhe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,fat=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function jhe(n){for(let e=0;e<n.length;e++)n[e]=fat(n[e])}function hat(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function jK(n){return typeof n=="string"&&(n=hat(n)),hz(n),n}function gat(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];hz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class JZ{clone(){return this._cloneInto()}}function XZ(n){const e=r=>n().update(jK(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function jPe(n=32){if(uN&&typeof uN.getRandomValues=="function")return uN.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function mat(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const yat=(n,e,t)=>n&e^~n&t,pat=(n,e,t)=>n&e^n&t^e&t;class HPe extends JZ{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=lN(this.buffer)}update(e){QA(this);const{view:t,buffer:r,blockLen:s}=this;e=jK(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=lN(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){QA(this),qPe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;mat(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=lN(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const I$=BigInt(2**32-1),uq=BigInt(32);function GPe(n,e=!1){return e?{h:Number(n&I$),l:Number(n>>uq&I$)}:{h:Number(n>>uq&I$)|0,l:Number(n&I$)|0}}function YPe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=GPe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const bat=(n,e)=>BigInt(n>>>0)<<uq|BigInt(e>>>0),Sat=(n,e,t)=>n>>>t,kat=(n,e,t)=>n<<32-t|e>>>t,vat=(n,e,t)=>n>>>t|e<<32-t,Aat=(n,e,t)=>n<<32-t|e>>>t,wat=(n,e,t)=>n<<64-t|e>>>t-32,Iat=(n,e,t)=>n>>>t-32|e<<64-t,Pat=(n,e)=>e,_at=(n,e)=>n,ZPe=(n,e,t)=>n<<t|e>>>32-t,JPe=(n,e,t)=>e<<t|n>>>32-t,XPe=(n,e,t)=>e<<t-32|n>>>64-t,QPe=(n,e,t)=>n<<t-32|e>>>64-t;function Eat(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const xat=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),Tat=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,Rat=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),Cat=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,Mat=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),Bat=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,zat={fromBig:GPe,split:YPe,toBig:bat,shrSH:Sat,shrSL:kat,rotrSH:vat,rotrSL:Aat,rotrBH:wat,rotrBL:Iat,rotr32H:Pat,rotr32L:_at,rotlSH:ZPe,rotlSL:JPe,rotlBH:XPe,rotlBL:QPe,add:Eat,add3L:xat,add3H:Tat,add4L:Rat,add4H:Cat,add5H:Bat,add5L:Mat};var Or=zat;const[$at,Dat]=(()=>Or.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Vm=new Uint32Array(80),qm=new Uint32Array(80);class Oat extends HPe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Vm[p]=e.getUint32(t),qm[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Vm[p-15]|0,w=qm[p-15]|0,A=Or.rotrSH(I,w,1)^Or.rotrSH(I,w,8)^Or.shrSH(I,w,7),_=Or.rotrSL(I,w,1)^Or.rotrSL(I,w,8)^Or.shrSL(I,w,7),E=Vm[p-2]|0,M=qm[p-2]|0,P=Or.rotrSH(E,M,19)^Or.rotrBH(E,M,61)^Or.shrSH(E,M,6),R=Or.rotrSL(E,M,19)^Or.rotrBL(E,M,61)^Or.shrSL(E,M,6),$=Or.add4L(_,R,qm[p-7],qm[p-16]),z=Or.add4H($,A,P,Vm[p-7],Vm[p-16]);Vm[p]=z|0,qm[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Or.rotrSH(d,y,14)^Or.rotrSH(d,y,18)^Or.rotrBH(d,y,41),w=Or.rotrSL(d,y,14)^Or.rotrSL(d,y,18)^Or.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=Or.add5L(S,w,_,Dat[p],qm[p]),M=Or.add5H(E,b,I,A,$at[p],Vm[p]),P=E|0,R=Or.rotrSH(r,s,28)^Or.rotrBH(r,s,34)^Or.rotrBH(r,s,39),$=Or.rotrSL(r,s,28)^Or.rotrBL(r,s,34)^Or.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Or.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Or.add3L(P,$,T);r=Or.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Or.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Or.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Or.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Or.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Or.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Or.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Or.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Or.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Vm.fill(0),qm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Kat=XZ(()=>new Oat);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const QZ=BigInt(0),HK=BigInt(1),Lat=BigInt(2);function PS(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function gz(n){if(!PS(n))throw new Error("Uint8Array expected")}function Gg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const Wat=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function _S(n){gz(n);let e="";for(let t=0;t<n.length;t++)e+=Wat[n[t]];return e}function e_e(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function eJ(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Rh={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Hhe(n){if(n>=Rh._0&&n<=Rh._9)return n-Rh._0;if(n>=Rh._A&&n<=Rh._F)return n-(Rh._A-10);if(n>=Rh._a&&n<=Rh._f)return n-(Rh._a-10)}function ew(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Hhe(n.charCodeAt(i)),a=Hhe(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function V1(n){return eJ(_S(n))}function oA(n){return gz(n),eJ(_S(Uint8Array.from(n).reverse()))}function tw(n,e){return ew(n.toString(16).padStart(e*2,"0"))}function jM(n,e){return tw(n,e).reverse()}function Nat(n){return ew(e_e(n))}function na(n,e,t){let r;if(typeof e=="string")try{r=ew(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(PS(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function ES(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];gz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function Fat(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function Uat(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const dN=n=>typeof n=="bigint"&&QZ<=n;function GK(n,e,t){return dN(n)&&dN(e)&&dN(t)&&e<=n&&n<t}function Il(n,e,t,r){if(!GK(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function Vat(n){let e;for(e=0;n>QZ;n>>=HK,e+=1);return e}function qat(n,e){return n>>BigInt(e)&HK}function jat(n,e,t){return n|(t?HK:QZ)<<BigInt(e)}const tJ=n=>(Lat<<BigInt(n-1))-HK,fN=n=>new Uint8Array(n),Ghe=n=>Uint8Array.from(n);function t_e(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=fN(n),s=fN(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=fN())=>{s=a(Ghe([0]),d),r=a(),d.length!==0&&(s=a(Ghe([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return ES(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const Hat={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||PS(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function lT(n,e,t={}){const r=(s,i,o)=>{const a=Hat[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const Gat=()=>{throw new Error("not implemented")};function HM(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var Yat=Object.freeze(Object.defineProperty({__proto__:null,isBytes:PS,abytes:gz,abool:Gg,bytesToHex:_S,numberToHexUnpadded:e_e,hexToNumber:eJ,hexToBytes:ew,bytesToNumberBE:V1,bytesToNumberLE:oA,numberToBytesBE:tw,numberToBytesLE:jM,numberToVarBytesBE:Nat,ensureBytes:na,concatBytes:ES,equalBytes:Fat,utf8ToBytes:Uat,inRange:GK,aInRange:Il,bitLen:Vat,bitGet:qat,bitSet:jat,bitMask:tJ,createHmacDrbg:t_e,validateObject:lT,notImplemented:Gat,memoized:HM},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qa=BigInt(0),Ki=BigInt(1),a1=BigInt(2),Zat=BigInt(3),lq=BigInt(4),Yhe=BigInt(5),Zhe=BigInt(8);BigInt(9);BigInt(16);function pi(n,e){const t=n%e;return t>=Qa?t:e+t}function Jat(n,e,t){if(t<=Qa||e<Qa)throw new Error("Expected power/modulo > 0");if(t===Ki)return Qa;let r=Ki;for(;e>Qa;)e&Ki&&(r=r*n%t),n=n*n%t,e>>=Ki;return r}function ro(n,e,t){let r=n;for(;e-- >Qa;)r*=r,r%=t;return r}function dq(n,e){if(n===Qa||e<=Qa)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=pi(n,e),r=e,s=Qa,i=Ki;for(;t!==Qa;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Ki)throw new Error("invert: does not exist");return pi(s,e)}function Xat(n){const e=(n-Ki)/a1;let t,r,s;for(t=n-Ki,r=0;t%a1===Qa;t/=a1,r++);for(s=a1;s<n&&Jat(s,e,n)!==n-Ki;s++);if(r===1){const o=(n+Ki)/lq;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Ki)/a1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Ki<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function Qat(n){if(n%lq===Zat){const e=(n+Ki)/lq;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Zhe===Yhe){const e=(n-Yhe)/Zhe;return function(r,s){const i=r.mul(s,a1),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,a1),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return Xat(n)}const ect=(n,e)=>(pi(n,e)&Ki)===Ki,tct=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rct(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=tct.reduce((r,s)=>(r[s]="function",r),e);return lT(n,t)}function nct(n,e,t){if(t<Qa)throw new Error("Expected power > 0");if(t===Qa)return n.ONE;if(t===Ki)return e;let r=n.ONE,s=e;for(;t>Qa;)t&Ki&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Ki;return r}function sct(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function r_e(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function n_e(n,e,t=!1,r={}){if(n<=Qa)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=r_e(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Qat(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:tJ(s),ZERO:Qa,ONE:Ki,create:c=>pi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Qa<=c&&c<n},is0:c=>c===Qa,isOdd:c=>(c&Ki)===Ki,neg:c=>pi(-c,n),eql:(c,u)=>c===u,sqr:c=>pi(c*c,n),add:(c,u)=>pi(c+u,n),sub:(c,u)=>pi(c-u,n),mul:(c,u)=>pi(c*u,n),pow:(c,u)=>nct(a,c,u),div:(c,u)=>pi(c*dq(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>dq(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>sct(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?jM(c,i):tw(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?oA(c):V1(c)}});return Object.freeze(a)}function s_e(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function i_e(n){const e=s_e(n);return e+Math.ceil(e/2)}function ict(n,e,t=!1){const r=n.length,s=s_e(e),i=i_e(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?V1(n):oA(n),a=pi(o,e-Ki)+Ki;return t?jM(a,s):tw(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oct=BigInt(0),hN=BigInt(1),gN=new WeakMap,Jhe=new WeakMap;function o_e(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>oct;)o&hN&&(a=a.add(c)),c=c.double(),o>>=hN;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=hN);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=Jhe.get(i)||1;let u=gN.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&gN.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),Jhe.set(i,o),gN.delete(i)}}}function rJ(n){return rct(n.Fp),lT(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...r_e(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wl=BigInt(0),qc=BigInt(1),P$=BigInt(2),act=BigInt(8),cct={zip215:!0};function uct(n){const e=rJ(n);return lT(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function lct(n){const e=uct(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=P$<<BigInt(a*8)-qc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Wl}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(Gg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){Il("coordinate "+v,k,Wl,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=HM((v,k)=>{const{ex:x,ey:C,ez:B}=v,O=v.is0();k==null&&(k=O?act:t.inv(B));const D=l(x*k),W=l(C*k),L=l(B*k);if(O)return{x:Wl,y:qc};if(L!==qc)throw new Error("invZ was invalid");return{x:D,y:W}}),b=HM(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:O,et:D}=v,W=l(C*C),L=l(B*B),N=l(O*O),H=l(N*N),J=l(W*k),Q=l(N*l(J+L)),Y=l(H+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,qc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:O,ey:D,ez:W}=k,L=l(x*W),N=l(O*B),H=l(C*W),J=l(D*B);return L===N&&H===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,O=l(x*x),D=l(C*C),W=l(P$*l(B*B)),L=l(k*O),N=x+C,H=l(l(N*N)-O-D),J=L+D,Q=J-W,Y=L-D,X=l(H*Q),re=l(J*Y),se=l(H*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:O,ez:D,et:W}=this,{ex:L,ey:N,ez:H,et:J}=k;if(x===BigInt(-1)){const Lt=l((O-B)*(N+L)),Dt=l((O+B)*(N-L)),et=l(Dt-Lt);if(et===Wl)return this.double();const Ue=l(D*P$*J),Wt=l(W*P$*H),sr=Wt+Ue,rr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(rr*pr),gn=l(sr*pr),ds=l(et*rr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(O*N),X=l(W*C*J),re=l(D*H),se=l((B+O)*(L+N)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),Pe=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(Pe,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;Il("scalar",x,qc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return Il("scalar",x,Wl,r),x===Wl?I:this.equals(I)||x===qc?this:this.equals(p)?this.wNAF(x).p:w.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===qc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,O=t.BYTES;k=na("pointHex",k,O),Gg("zip215",x);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=oA(D),N=x?u:t.ORDER;Il("pointHex.y",L,Wl,N);const H=l(L*L),J=l(H-qc),Q=l(C*H-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&qc)===qc,se=(W&128)!==0;if(!x&&X===Wl&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=jM(x,t.BYTES);return C[C.length-1]|=k&qc?128:0,C}toHex(){return _S(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,qc,l(e.Gx*e.Gy)),S.ZERO=new S(Wl,qc,qc,Wl);const{BASE:p,ZERO:I}=S,w=o_e(S,a*8);function A(v){return pi(v,r)}function _(v){return A(oA(v))}function E(v){const k=a;v=na("private key",v,k);const x=na("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),O=_(C),D=p.multiply(O),W=D.toRawBytes();return{head:C,prefix:B,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function P(v=new Uint8Array,...k){const x=ES(...k);return _(i(h(x,na("context",v),!!s)))}function R(v,k,x={}){v=na("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:O}=E(k),D=P(x.context,C,v),W=p.multiply(D).toRawBytes(),L=P(x.context,W,O,v),N=A(D+L*B);Il("signature.s",N,Wl,r);const H=ES(W,jM(N,t.BYTES));return na("result",H,a*2)}const $=cct;function z(v,k,x,C=$){const{context:B,zip215:O}=C,D=t.BYTES;v=na("signature",v,2*D),k=na("message",k),O!==void 0&&Gg("zip215",O),s&&(k=s(k));const W=oA(v.slice(D,2*D));let L,N,H;try{L=S.fromHex(x,O),N=S.fromHex(v.slice(0,D),O),H=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=P(B,N.toRawBytes(),L.toRawBytes(),k);return N.add(L.multiplyUnsafe(J)).subtract(H).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nJ=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Xhe=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const dct=BigInt(1),Qhe=BigInt(2);BigInt(3);const fct=BigInt(5),hct=BigInt(8);function gct(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=nJ,a=n*n%i*n%i,c=ro(a,Qhe,i)*a%i,u=ro(c,dct,i)*n%i,l=ro(u,fct,i)*u%i,d=ro(l,e,i)*l%i,y=ro(d,t,i)*d%i,h=ro(y,r,i)*y%i,m=ro(h,s,i)*h%i,f=ro(m,s,i)*h%i,g=ro(f,e,i)*l%i;return{pow_p_5_8:ro(g,Qhe,i)*n%i,b2:a}}function mct(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function yct(n,e){const t=nJ,r=pi(e*e*e,t),s=pi(r*r*e,t),i=gct(n*s).pow_p_5_8;let o=pi(n*r*i,t);const a=pi(e*o*o,t),c=o,u=pi(o*Xhe,t),l=a===n,d=a===pi(-n,t),y=a===pi(-n*Xhe,t);return l&&(o=c),(d||y)&&(o=u),ect(o,t)&&(o=pi(-o,t)),{isValid:l||d,value:o}}const pct=(()=>n_e(nJ,void 0,!0))(),bct=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:pct,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:hct,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Kat,randomBytes:jPe,adjustScalarBytes:mct,uvRatio:yct}))(),dT=(()=>lct(bct))(),Sct=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),jm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Hm=new Uint32Array(64);class kct extends HPe{constructor(){super(64,32,8,!1),this.A=jm[0]|0,this.B=jm[1]|0,this.C=jm[2]|0,this.D=jm[3]|0,this.E=jm[4]|0,this.F=jm[5]|0,this.G=jm[6]|0,this.H=jm[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Hm[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=Hm[d-15],h=Hm[d-2],m=Nd(y,7)^Nd(y,18)^y>>>3,f=Nd(h,17)^Nd(h,19)^h>>>10;Hm[d]=f+Hm[d-7]+m+Hm[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Nd(a,6)^Nd(a,11)^Nd(a,25),h=l+y+yat(a,c,u)+Sct[d]+Hm[d]|0,f=(Nd(r,2)^Nd(r,13)^Nd(r,22))+pat(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Hm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const fq=XZ(()=>new kct);class vct extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function Act(n){return mz(n)&&typeof n[Symbol.iterator]=="function"}function mz(n){return typeof n=="object"&&n!=null}function xO(n){return mz(n)&&!Array.isArray(n)}function wd(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function wct(n){const{done:e,value:t}=n.next();return e?void 0:t}function Ict(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${wd(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*ege(n,e,t,r){Act(n)||(n=[n]);for(const s of n){const i=Ict(s,e,t,r);i&&(yield i)}}function*sJ(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=sJ(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):mz(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class gh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return ege(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return ege(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return a_e(e,this,t)}create(e,t){return pt(e,this,t)}is(e){return c_e(e,this)}mask(e,t){return Pct(e,this,t)}validate(e,t={}){return yz(e,this,t)}}function a_e(n,e,t){const r=yz(n,e,{message:t});if(r[0])throw r[0]}function pt(n,e,t){const r=yz(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function Pct(n,e,t){const r=yz(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function c_e(n,e){return!yz(n,e)[0]}function yz(n,e,t={}){const r=sJ(n,e,t),s=wct(r);if(s[0])return[new vct(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function fk(n,e){return new gh({type:n,schema:null,validator:e})}function _ct(){return fk("any",()=>!0)}function Pt(n){return new gh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${wd(e)}`}})}function rh(){return fk("boolean",n=>typeof n=="boolean")}function iJ(n){return fk("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${wd(e)}`)}function Ti(n){const e=wd(n),t=typeof n;return new gh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${wd(r)}`}})}function Ect(){return fk("never",()=>!1)}function Bt(n){return new gh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function pe(){return fk("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${wd(n)}`)}function gr(n){return new gh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function u_e(n,e){return new gh({type:"record",schema:null,*entries(t){if(mz(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return xO(t)||`Expected an object, but received: ${wd(t)}`},coercer(t){return xO(t)?{...t}:t}})}function Ye(){return fk("string",n=>typeof n=="string"||`Expected a string, but received: ${wd(n)}`)}function oJ(n){const e=Ect();return new gh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${wd(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Be(n){const e=Object.keys(n);return new gh({type:"type",schema:n,*entries(t){if(mz(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return xO(t)||`Expected an object, but received: ${wd(t)}`},coercer(t){return xO(t)?{...t}:t}})}function zc(n){const e=n.map(t=>t.type).join(" | ");return new gh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=sJ(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${wd(t)}`,...s]}})}function fT(){return fk("unknown",()=>!0)}function pz(n,e,t){return new gh({...n,coercer:(r,s)=>c_e(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const l_e=[],d_e=[],f_e=[],xct=BigInt(0),TR=BigInt(1),Tct=BigInt(2),Rct=BigInt(7),Cct=BigInt(256),Mct=BigInt(113);for(let n=0,e=TR,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],l_e.push(2*(5*r+t)),d_e.push((n+1)*(n+2)/2%64);let s=xct;for(let i=0;i<7;i++)e=(e<<TR^(e>>Rct)*Mct)%Cct,e&Tct&&(s^=TR<<(TR<<BigInt(i))-TR);f_e.push(s)}const[Bct,zct]=YPe(f_e,!0),tge=(n,e,t)=>t>32?XPe(n,e,t):ZPe(n,e,t),rge=(n,e,t)=>t>32?QPe(n,e,t):JPe(n,e,t);function $ct(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=tge(u,l,1)^t[a],y=rge(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=d_e[o],c=tge(s,i,a),u=rge(s,i,a),l=l_e[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=Bct[r],n[1]^=zct[r]}t.fill(0)}class aJ extends JZ{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,EO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=dat(this.state)}keccak(){qhe||jhe(this.state32),$ct(this.state32,this.rounds),qhe||jhe(this.state32),this.posOut=0,this.pos=0}update(e){QA(this);const{blockLen:t,state:r}=this;e=jK(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){QA(this,!1),hz(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return EO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(qPe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new aJ(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Dct=(n,e,t)=>XZ(()=>new aJ(e,n,t)),nge=Dct(1,136,256/8);class h_e extends JZ{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,lat(e);const r=jK(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return QA(this),this.iHash.update(e),this}digestInto(e){QA(this),hz(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const g_e=(n,e,t)=>new h_e(n,e).update(t).digest();g_e.create=(n,e)=>new h_e(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function sge(n){n.lowS!==void 0&&Gg("lowS",n.lowS),n.prehash!==void 0&&Gg("prehash",n.prehash)}function Oct(n){const e=rJ(n);lT(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Kct,hexToBytes:Lct}=Yat,C1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=C1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Kct(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=C1,t=typeof n=="string"?Lct(n):n;gz(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=C1._parseInt(t.subarray(2)),{d:o,l:a}=C1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Ty=BigInt(0),ma=BigInt(1);BigInt(2);const ige=BigInt(3);BigInt(4);function Wct(n){const e=Oct(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return ES(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return GK(m,ma,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(PS(m)&&(m=_S(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:V1(na("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=pi(p,S)),Il("private key",p,ma,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=HM((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=HM(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(na("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),_=t.eql(t.mul(b,w),t.mul(I,S));return A&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,ige),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,_=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),P=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),_=t.mul(S,I),_=t.add(_,_),w=t.mul(f,_),A=t.mul(b,P),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),_=t.mul(b,_),P=t.mul(f,P),R=t.sub(E,P),R=t.mul(f,R),R=t.add(R,_),_=t.add(E,E),E=t.add(_,E),E=t.add(E,P),E=t.mul(E,R),A=t.add(A,E),P=t.mul(p,I),P=t.add(P,P),E=t.mul(P,R),w=t.sub(w,E),_=t.mul(P,M),_=t.add(_,_),_=t.add(_,_),new d(w,A,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,_=t.ZERO,E=t.ZERO;const M=e.a,P=t.mul(e.b,ige);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(P,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),_=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(P,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),_=t.add(_,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,_,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){Il("scalar",f,Ty,e.n);const g=d.ZERO;if(f===Ty)return g;if(f===ma)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,_=g,E=this;for(;p>Ty||w>Ty;)p&ma&&(A=A.add(E)),w&ma&&(_=_.add(E)),E=E.double(),p>>=ma,w>>=ma;return S&&(A=A.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),A.add(_)}multiply(f){const{endo:g,n:b}=e;Il("scalar",f,ma,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:_}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:P,f:R}=this.wNAF(_);E=h.constTimeNegate(I,E),P=h.constTimeNegate(A,P),P=new d(t.mul(P.px,g.beta),P.py,P.pz),S=E.add(P),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===Ty||A===ma||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===ma)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===ma?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Gg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Gg("isCompressed",f),_S(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=o_e(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function Nct(n){const e=rJ(n);return lT(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Fct(n){const e=Nct(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return pi(T,r)}function a(T){return dq(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=Wct({...e,toBytes(T,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=ES;return Gg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(T){const v=T.length,k=T[0],x=T.subarray(1);if(v===s&&(k===2||k===3)){const C=V1(x);if(!GK(C,ma,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let O;try{O=t.sqrt(B)}catch(L){const N=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+N)}const D=(O&ma)===ma;return(k&1)===1!==D&&(O=t.neg(O)),{x:C,y:O}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>_S(tw(T,e.nByteLength));function h(T){const v=r>>ma;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>V1(T.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=na("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=C1.toSig(na("DER",v));return new g(k,x)}assertValidity(){Il("r",this.r,ma,r),Il("s",this.s,ma,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=A(na("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const O=C===2||C===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(C&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),N=o(-B*L),H=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,N,H);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return ew(this.toDERHex())}toDERHex(){return C1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ew(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=i_e(e.n);return ict(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=PS(T),k=typeof T=="string",x=(v||k)&&T.length;return v?x===s||x===i:k?x===2*s||x===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=V1(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},_=tJ(e.nBitLength);function E(T){return Il(`num < 2^${e.nBitLength}`,T,Ty,_),tw(T,e.nByteLength)}function M(T,v,k=P){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:O,extraEntropy:D}=k;B==null&&(B=!0),T=na("msgHash",T),sge(k),O&&(T=na("prehashed msgHash",x(T)));const W=A(T),L=u(v),N=[E(L),E(W)];if(D!=null&&D!==!1){const Y=D===!0?C(t.BYTES):D;N.push(na("extraEntropy",Y))}const H=ES(...N),J=W;function Q(Y){const X=w(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Ty)return;const ne=o(re*o(J+ee*L));if(ne===Ty)return;let ve=(se.x===ee?0:2)|Number(se.y&ma),Pe=ne;return B&&h(ne)&&(Pe=m(ne),ve^=1),new g(ee,Pe,ve)}return{seed:H,k2sig:Q}}const P={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=P){const{seed:x,k2sig:C}=M(T,v,k),B=e;return t_e(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function z(T,v,k,x=R){var se;const C=T;if(v=na("msgHash",v),k=na("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");sge(x);const{lowS:B,prehash:O}=x;let D,W;try{if(typeof C=="string"||PS(C))try{D=g.fromDER(C)}catch(ee){if(!(ee instanceof C1.Err))throw ee;D=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:N}=D,H=A(v),J=a(N),Q=o(H*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Uct(n){return{hash:n,hmac:(e,...t)=>g_e(n,e,gat(...t)),randomBytes:jPe}}function Vct(n,e){const t=r=>Fct({...n,...Uct(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const m_e=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),oge=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),qct=BigInt(1),hq=BigInt(2),age=(n,e)=>(n+e/hq)/e;function jct(n){const e=m_e,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=ro(l,t,e)*l%e,y=ro(d,t,e)*l%e,h=ro(y,hq,e)*u%e,m=ro(h,s,e)*h%e,f=ro(m,i,e)*m%e,g=ro(f,a,e)*f%e,b=ro(g,c,e)*g%e,S=ro(b,a,e)*f%e,p=ro(S,t,e)*l%e,I=ro(p,o,e)*m%e,w=ro(I,r,e)*u%e,A=ro(w,hq,e);if(!gq.eql(gq.sqr(A),n))throw new Error("Cannot find square root");return A}const gq=n_e(m_e,void 0,void 0,{sqrt:jct}),YK=Vct({a:BigInt(0),b:BigInt(7),Fp:gq,n:oge,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=oge,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-qct*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=age(i*n,e),c=age(-r*n,e);let u=pi(n-a*t-c*s,e),l=pi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},fq);BigInt(0);YK.ProjectivePoint;const Hct=dT.utils.randomPrivateKey,cge=()=>{const n=dT.utils.randomPrivateKey(),e=TO(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},TO=dT.getPublicKey;function uge(n){try{return dT.ExtendedPoint.fromHex(n),!0}catch{return!1}}const cJ=(n,e)=>dT.sign(n,e.slice(0,32)),Gct=dT.verify,rn=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class uJ{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(nm(F2,this))}static decode(e){return sm(F2,this,e)}static decodeUnchecked(e){return im(F2,this,e)}}class Yct extends uJ{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const F2=new Map;var y_e;const p_e=32,qf=32;function Zct(n){return n._bn!==void 0}let lge=1;class ot extends uJ{constructor(e){if(super({}),this._bn=void 0,Zct(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=qf)throw new Error("Invalid public key input");this._bn=new Co(t)}else this._bn=new Co(e);if(this._bn.byteLength()>qf)throw new Error("Invalid public key input")}}static unique(){const e=new ot(lge);return lge+=1,new ot(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===qf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=fq(s);return new ot(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>p_e)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,rn(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=fq(r);if(uge(s))throw new Error("Invalid seeds, address must fall off the curve");return new ot(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new ot(e);return uge(t.toBytes())}}y_e=ot;ot.default=new y_e("11111111111111111111111111111111");F2.set(ot,{kind:"struct",fields:[["_bn","u256"]]});class Jct{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=rn(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=rn(Hct()),this._publicKey=rn(TO(this._secretKey))}get publicKey(){return new ot(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const Xct=new ot("BPFLoader1111111111111111111111111111111111"),jy=1280-40-8,ZK=127,GM=64;class lJ extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(lJ.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class dJ extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(dJ.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Rv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Rv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class YM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const vn=(n="publicKey")=>ie(32,n),Qct=(n="signature")=>ie(64,n),M1=(n="string")=>{const e=F([U("length"),U("lengthPadding"),ie(Vt(U(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>U().span+U().span+V.Buffer.from(i,"utf8").length,s},eut=(n="authorized")=>F([vn("staker"),vn("withdrawer")],n),tut=(n="lockup")=>F([_e("unixTimestamp"),_e("epoch"),vn("custodian")],n),rut=(n="voteInit")=>F([vn("nodePubkey"),vn("authorizedVoter"),vn("authorizedWithdrawer"),te("commission")],n),nut=(n="voteAuthorizeWithSeedArgs")=>F([U("voteAuthorizationType"),vn("currentAuthorityDerivedKeyOwnerPubkey"),M1("currentAuthorityDerivedKeySeed"),vn("newAuthorized")],n);function b_e(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return b_e({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function lu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Fu(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Un(n,e){if(!n)throw new Error(e||"Assertion failed")}class JK{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new JK(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Un(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Un(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Un(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new ot(c)),...r.map(([c])=>new ot(c)),...s.map(([c])=>new ot(c)),...i.map(([c])=>new ot(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new ot(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Un(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const S_e="Reached end of buffer unexpectedly";function _f(n){if(n.length===0)throw new Error(S_e);return n.shift()}function du(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(S_e);return n.splice(...e)}class Id{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ot(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new YM(this.staticAccountKeys)}static compile(e){const t=JK.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new YM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new Id({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Fu(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];Fu(f,y.length);let g=[];return Fu(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Fu(s,r.length);let i=V.Buffer.alloc(jy);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=F([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=F([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(vn("key"),e,"keys"),vn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>rn(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=_f(t);if(r!==(r&ZK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=_f(t),i=_f(t),o=lu(t);let a=[];for(let y=0;y<o;y++){const h=du(t,0,qf);a.push(new ot(V.Buffer.from(h)))}const c=du(t,0,qf),u=lu(t);let l=[];for(let y=0;y<u;y++){const h=_f(t),m=lu(t),f=du(t,0,m),g=lu(t),b=du(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new Id(d)}}class xS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new YM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=JK.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new YM(a,s).compileInstructions(e.instructions);return new xS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Fu(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Fu(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Fu(i,this.addressTableLookups.length);const o=F([te("prefix"),F([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(vn(),this.staticAccountKeys.length,"staticAccountKeys"),vn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(jy),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(jy);for(const r of this.compiledInstructions){const s=Array();Fu(s,r.accountKeyIndexes.length);const i=Array();Fu(i,r.data.length),e+=F([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(jy);for(const r of this.addressTableLookups){const s=Array();Fu(s,r.writableIndexes.length);const i=Array();Fu(i,r.readonlyIndexes.length),e+=F([vn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=_f(t),s=r&ZK;Un(r!==s,"Expected versioned message but received legacy message");const i=s;Un(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:_f(t),numReadonlySignedAccounts:_f(t),numReadonlyUnsignedAccounts:_f(t)},a=[],c=lu(t);for(let m=0;m<c;m++)a.push(new ot(du(t,0,qf)));const u=Ie.encode(du(t,0,qf)),l=lu(t),d=[];for(let m=0;m<l;m++){const f=_f(t),g=lu(t),b=du(t,0,g),S=lu(t),p=new Uint8Array(du(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=lu(t),h=[];for(let m=0;m<y;m++){const f=new ot(du(t,0,qf)),g=lu(t),b=du(t,0,g),S=lu(t),p=du(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new xS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const fJ={deserializeMessageVersion(n){const e=n[0],t=e&ZK;return t===e?"legacy":t},deserialize:n=>{const e=fJ.deserializeMessageVersion(n);if(e==="legacy")return Id.from(n);if(e===0)return xS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let vg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const sut=V.Buffer.alloc(GM).fill(0);class As{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Zn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new As(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new ot(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{Un(f.programIdIndex>=0),f.accounts.forEach(g=>Un(g>=0))}),new Id({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=cJ(r,s.secretKey);this._addSignature(s.publicKey,rn(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Un(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):Gct(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Fu(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Un(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Un(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Un(i.length<=jy,`Transaction too large: ${i.length} > ${jy}`),i}get keys(){return Un(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Un(this.instructions.length===1),this.instructions[0].programId}get data(){return Un(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=lu(t);let s=[];for(let i=0;i<r;i++){const o=du(t,0,GM);s.push(Ie.encode(V.Buffer.from(o)))}return Zn.populate(Id.from(t),s)}static populate(e,t=[]){const r=new Zn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(sut)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new As({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class hJ{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Un(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Un(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new As({programId:g,data:rn(m.data),keys:f}))}return new hJ({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return Id.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return xS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class gJ{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Un(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(GM));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Fu(t,this.signatures.length);const r=F([ie(t.length,"encodedSignaturesLength"),we(Qct(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=lu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(du(t,0,GM)));const i=fJ.deserialize(new Uint8Array(t));return new gJ(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Un(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=cJ(t,s.secretKey)}}addSignature(e,t){Un(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Un(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const iut=160,out=64,aut=iut/out,k_e=1e3/aut,of=new ot("SysvarC1ock11111111111111111111111111111111"),cut=new ot("SysvarEpochSchedu1e111111111111111111111111"),uut=new ot("Sysvar1nstructions1111111111111111111111111"),ED=new ot("SysvarRecentB1ockHashes11111111111111111111"),rw=new ot("SysvarRent111111111111111111111111111111111"),lut=new ot("SysvarRewards111111111111111111111111111111"),dut=new ot("SysvarS1otHashes111111111111111111111111111"),fut=new ot("SysvarS1otHistory11111111111111111111111111"),xD=new ot("SysvarStakeHistory1111111111111111111111111");class ZM extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const hut={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Xt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function mq(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new ZM({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function c1(n){return new Promise(e=>setTimeout(e,n))}function Mn(n,e){const t=n.layout.span>=0?n.layout.span:b_e(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function is(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const v_e=Ae("lamportsPerSignature"),A_e=F([U("version"),U("state"),vn("authorizedPubkey"),vn("nonce"),F([v_e],"feeCalculator")]),yq=A_e.span;class XK{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=A_e.decode(rn(e),0);return new XK({authorizedPubkey:new ot(t.authorizedPubkey),nonce:new ot(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const gut=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},mut=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=gut(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return om(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=nc(o,n);return r(u,a,c)},i},nw=mut(8);class yut{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ls))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=is(Ls.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new ot(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=is(Ls.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=is(Ls.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new ot(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=is(Ls.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=is(Ls.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ot(t),seed:r,space:s,programId:new ot(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=is(Ls.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ot(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=is(Ls.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ot(t),seed:r,programId:new ot(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=is(Ls.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ot(t),seed:r,lamports:s,space:i,programId:new ot(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=is(Ls.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ot(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),is(Ls.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=is(Ls.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=is(Ls.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ot(t)}}static checkProgramId(e){if(!e.equals(Ua.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ls=Object.freeze({Create:{index:0,layout:F([U("instruction"),_e("lamports"),_e("space"),vn("programId")])},Assign:{index:1,layout:F([U("instruction"),vn("programId")])},Transfer:{index:2,layout:F([U("instruction"),nw("lamports")])},CreateWithSeed:{index:3,layout:F([U("instruction"),vn("base"),M1("seed"),_e("lamports"),_e("space"),vn("programId")])},AdvanceNonceAccount:{index:4,layout:F([U("instruction")])},WithdrawNonceAccount:{index:5,layout:F([U("instruction"),_e("lamports")])},InitializeNonceAccount:{index:6,layout:F([U("instruction"),vn("authorized")])},AuthorizeNonceAccount:{index:7,layout:F([U("instruction"),vn("authorized")])},Allocate:{index:8,layout:F([U("instruction"),_e("space")])},AllocateWithSeed:{index:9,layout:F([U("instruction"),vn("base"),M1("seed"),_e("space"),vn("programId")])},AssignWithSeed:{index:10,layout:F([U("instruction"),vn("base"),M1("seed"),vn("programId")])},TransferWithSeed:{index:11,layout:F([U("instruction"),nw("lamports"),M1("seed"),vn("programId")])},UpgradeNonceAccount:{index:12,layout:F([U("instruction")])}});class Ua{constructor(){}static createAccount(e){const t=Ls.Create,r=Mn(t,{lamports:e.lamports,space:e.space,programId:rn(e.programId.toBuffer())});return new As({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Ls.TransferWithSeed;t=Mn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:rn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Ls.Transfer;t=Mn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new As({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Ls.AssignWithSeed;t=Mn(s,{base:rn(e.basePubkey.toBuffer()),seed:e.seed,programId:rn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ls.Assign;t=Mn(s,{programId:rn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new As({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Ls.CreateWithSeed,r=Mn(t,{base:rn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:rn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new As({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Zn;"basePubkey"in e&&"seed"in e?t.add(Ua.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:yq,programId:this.programId})):t.add(Ua.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:yq,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Ls.InitializeNonceAccount,r=Mn(t,{authorized:rn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ED,isSigner:!1,isWritable:!1},{pubkey:rw,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new As(s)}static nonceAdvance(e){const t=Ls.AdvanceNonceAccount,r=Mn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ED,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new As(s)}static nonceWithdraw(e){const t=Ls.WithdrawNonceAccount,r=Mn(t,{lamports:e.lamports});return new As({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:ED,isSigner:!1,isWritable:!1},{pubkey:rw,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Ls.AuthorizeNonceAccount,r=Mn(t,{authorized:rn(e.newAuthorizedPubkey.toBuffer())});return new As({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Ls.AllocateWithSeed;t=Mn(s,{base:rn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:rn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ls.Allocate;t=Mn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new As({keys:r,programId:this.programId,data:t})}}Ua.programId=new ot("11111111111111111111111111111111");const put=jy-300;class TS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/TS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Zn,h.add(Ua.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Zn,h.add(Ua.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Zn,h.add(Ua.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Zn().add(Ua.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await mq(e,h,[t,r],{commitment:"confirmed"})}const o=F([U("instruction"),U("offset"),U("bytesLength"),U("bytesLengthPadding"),we(te("byte"),Vt(U(),-8),"bytes")]),a=TS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Zn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(mq(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await c1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=F([U("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Zn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:rw,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(k_e/2)))}}return!0}}TS.chunkSize=put;const but=new ot("BPFLoader2111111111111111111111111111111111");class Sut{static getMinNumSignatures(e){return TS.getMinNumSignatures(e)}static load(e,t,r,s,i){return TS.load(e,t,r,i,s)}}function kut(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mN,dge;function vut(){if(dge)return mN;dge=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return mN=function(r){var s=t(r,!1);if(s!==void 0)return""+s},mN}var Aut=vut(),fge=kut(Aut);const RR=32;function yN(n){let e=0;for(;n>1;)n/=2,e++;return e}function wut(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class w_e{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=yN(wut(e+RR+1))-yN(RR)-1,r=this.getSlotsInEpoch(t),s=e-(r-RR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*RR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+yN(RR)):this.slotsPerEpoch}}var Iut=globalThis.fetch;class Put extends Rb{constructor(e,t,r){const s=i=>{const o=Mb(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function _ut(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const hge=56;class pq{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=_ut(Eut,e),r=e.length-hge;Un(r>=0,"lookup table is invalid"),Un(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=F([we(vn(),s,"addresses")]).decode(e.slice(hge));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new ot(t.authority[0]):void 0,addresses:i.map(o=>new ot(o))}}}const Eut={index:1,layout:F([U("typeIndex"),nw("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(vn(),Vt(te(),-1),"authority")])},xut=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Tut(n){const e=n.match(xut);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const ji=pz(iJ(ot),Ye(),n=>new ot(n)),I_e=oJ([Ye(),Ti("base64")]),mJ=pz(iJ(V.Buffer),I_e,n=>V.Buffer.from(n[0],"base64")),P_e=30*1e3;function Rut(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Rs(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function gge(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function __e(n){return zc([Be({jsonrpc:Ti("2.0"),id:Ye(),result:n}),Be({jsonrpc:Ti("2.0"),id:Ye(),error:Be({code:fT(),message:Ye(),data:gr(_ct())})})])}const Cut=__e(fT());function Hr(n){return pz(__e(n),Cut,e=>"error"in e?e:{...e,result:pt(e.result,n)})}function go(n){return Hr(Be({context:Be({slot:pe()}),value:n}))}function QK(n){return Be({context:Be({slot:pe()}),value:n})}function pN(n,e){return n===0?new xS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new ot(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Id(e)}const Mut=Be({foundation:pe(),foundationTerm:pe(),initial:pe(),taper:pe(),terminal:pe()}),But=Hr(Pt(Bt(Be({epoch:pe(),effectiveSlot:pe(),amount:pe(),postBalance:pe(),commission:gr(Bt(pe()))})))),zut=Pt(Be({slot:pe(),prioritizationFee:pe()})),$ut=Be({total:pe(),validator:pe(),foundation:pe(),epoch:pe()}),Dut=Be({epoch:pe(),slotIndex:pe(),slotsInEpoch:pe(),absoluteSlot:pe(),blockHeight:gr(pe()),transactionCount:gr(pe())}),Out=Be({slotsPerEpoch:pe(),leaderScheduleSlotOffset:pe(),warmup:rh(),firstNormalEpoch:pe(),firstNormalSlot:pe()}),Kut=u_e(Ye(),Pt(pe())),hk=Bt(zc([Be({}),Ye()])),Lut=Be({err:hk}),Wut=Ti("receivedSignature"),Nut=Be({"solana-core":Ye(),"feature-set":gr(pe())}),Fut=Be({program:Ye(),programId:ji,parsed:fT()}),Uut=Be({programId:ji,accounts:Pt(ji),data:Ye()}),mge=go(Be({err:Bt(zc([Be({}),Ye()])),logs:Bt(Pt(Ye())),accounts:gr(Bt(Pt(Bt(Be({executable:rh(),owner:Ye(),lamports:pe(),data:Pt(Ye()),rentEpoch:gr(pe())}))))),unitsConsumed:gr(pe()),returnData:gr(Bt(Be({programId:Ye(),data:oJ([Ye(),Ti("base64")])}))),innerInstructions:gr(Bt(Pt(Be({index:pe(),instructions:Pt(zc([Fut,Uut]))}))))})),Vut=go(Be({byIdentity:u_e(Ye(),Pt(pe())),range:Be({firstSlot:pe(),lastSlot:pe()})}));function qut(n,e,t,r,s,i){const o=t||Iut;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new Cb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},jlt)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await c1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function jut(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function Hut(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const Gut=Hr(Mut),Yut=Hr($ut),Zut=Hr(zut),Jut=Hr(Dut),Xut=Hr(Out),Qut=Hr(Kut),elt=Hr(pe()),tlt=go(Be({total:pe(),circulating:pe(),nonCirculating:pe(),nonCirculatingAccounts:Pt(ji)})),bq=Be({amount:Ye(),uiAmount:Bt(pe()),decimals:pe(),uiAmountString:gr(Ye())}),rlt=go(Pt(Be({address:ji,amount:Ye(),uiAmount:Bt(pe()),decimals:pe(),uiAmountString:gr(Ye())}))),nlt=go(Pt(Be({pubkey:ji,account:Be({executable:rh(),owner:ji,lamports:pe(),data:mJ,rentEpoch:pe()})}))),Sq=Be({program:Ye(),parsed:fT(),space:pe()}),slt=go(Pt(Be({pubkey:ji,account:Be({executable:rh(),owner:ji,lamports:pe(),data:Sq,rentEpoch:pe()})}))),ilt=go(Pt(Be({lamports:pe(),address:ji}))),JM=Be({executable:rh(),owner:ji,lamports:pe(),data:mJ,rentEpoch:pe()}),olt=Be({pubkey:ji,account:JM}),alt=pz(zc([iJ(V.Buffer),Sq]),zc([I_e,Sq]),n=>Array.isArray(n)?pt(n,mJ):n),kq=Be({executable:rh(),owner:ji,lamports:pe(),data:alt,rentEpoch:pe()}),clt=Be({pubkey:ji,account:kq}),ult=Be({state:zc([Ti("active"),Ti("inactive"),Ti("activating"),Ti("deactivating")]),active:pe(),inactive:pe()}),llt=Hr(Pt(Be({signature:Ye(),slot:pe(),err:hk,memo:Bt(Ye()),blockTime:gr(Bt(pe()))}))),dlt=Hr(Pt(Be({signature:Ye(),slot:pe(),err:hk,memo:Bt(Ye()),blockTime:gr(Bt(pe()))}))),flt=Be({subscription:pe(),result:QK(JM)}),hlt=Be({pubkey:ji,account:JM}),glt=Be({subscription:pe(),result:QK(hlt)}),mlt=Be({parent:pe(),slot:pe(),root:pe()}),ylt=Be({subscription:pe(),result:mlt}),plt=zc([Be({type:zc([Ti("firstShredReceived"),Ti("completed"),Ti("optimisticConfirmation"),Ti("root")]),slot:pe(),timestamp:pe()}),Be({type:Ti("createdBank"),parent:pe(),slot:pe(),timestamp:pe()}),Be({type:Ti("frozen"),slot:pe(),timestamp:pe(),stats:Be({numTransactionEntries:pe(),numSuccessfulTransactions:pe(),numFailedTransactions:pe(),maxTransactionsPerEntry:pe()})}),Be({type:Ti("dead"),slot:pe(),timestamp:pe(),err:Ye()})]),blt=Be({subscription:pe(),result:plt}),Slt=Be({subscription:pe(),result:QK(zc([Lut,Wut]))}),klt=Be({subscription:pe(),result:pe()}),vlt=Be({pubkey:Ye(),gossip:Bt(Ye()),tpu:Bt(Ye()),rpc:Bt(Ye()),version:Bt(Ye())}),yge=Be({votePubkey:Ye(),nodePubkey:Ye(),activatedStake:pe(),epochVoteAccount:rh(),epochCredits:Pt(oJ([pe(),pe(),pe()])),commission:pe(),lastVote:pe(),rootSlot:Bt(pe())}),Alt=Hr(Be({current:Pt(yge),delinquent:Pt(yge)})),wlt=zc([Ti("processed"),Ti("confirmed"),Ti("finalized")]),Ilt=Be({slot:pe(),confirmations:Bt(pe()),err:hk,confirmationStatus:gr(wlt)}),Plt=go(Pt(Bt(Ilt))),_lt=Hr(pe()),E_e=Be({accountKey:ji,writableIndexes:Pt(pe()),readonlyIndexes:Pt(pe())}),yJ=Be({signatures:Pt(Ye()),message:Be({accountKeys:Pt(Ye()),header:Be({numRequiredSignatures:pe(),numReadonlySignedAccounts:pe(),numReadonlyUnsignedAccounts:pe()}),instructions:Pt(Be({accounts:Pt(pe()),data:Ye(),programIdIndex:pe()})),recentBlockhash:Ye(),addressTableLookups:gr(Pt(E_e))})}),x_e=Be({pubkey:ji,signer:rh(),writable:rh(),source:gr(zc([Ti("transaction"),Ti("lookupTable")]))}),T_e=Be({accountKeys:Pt(x_e),signatures:Pt(Ye())}),R_e=Be({parsed:fT(),program:Ye(),programId:ji}),C_e=Be({accounts:Pt(ji),data:Ye(),programId:ji}),Elt=zc([C_e,R_e]),xlt=zc([Be({parsed:fT(),program:Ye(),programId:Ye()}),Be({accounts:Pt(Ye()),data:Ye(),programId:Ye()})]),M_e=pz(Elt,xlt,n=>"accounts"in n?pt(n,C_e):pt(n,R_e)),B_e=Be({signatures:Pt(Ye()),message:Be({accountKeys:Pt(x_e),instructions:Pt(M_e),recentBlockhash:Ye(),addressTableLookups:gr(Bt(Pt(E_e)))})}),RO=Be({accountIndex:pe(),mint:Ye(),owner:gr(Ye()),programId:gr(Ye()),uiTokenAmount:bq}),z_e=Be({writable:Pt(ji),readonly:Pt(ji)}),e6=Be({err:hk,fee:pe(),innerInstructions:gr(Bt(Pt(Be({index:pe(),instructions:Pt(Be({accounts:Pt(pe()),data:Ye(),programIdIndex:pe()}))})))),preBalances:Pt(pe()),postBalances:Pt(pe()),logMessages:gr(Bt(Pt(Ye()))),preTokenBalances:gr(Bt(Pt(RO))),postTokenBalances:gr(Bt(Pt(RO))),loadedAddresses:gr(z_e),computeUnitsConsumed:gr(pe())}),pJ=Be({err:hk,fee:pe(),innerInstructions:gr(Bt(Pt(Be({index:pe(),instructions:Pt(M_e)})))),preBalances:Pt(pe()),postBalances:Pt(pe()),logMessages:gr(Bt(Pt(Ye()))),preTokenBalances:gr(Bt(Pt(RO))),postTokenBalances:gr(Bt(Pt(RO))),loadedAddresses:gr(z_e),computeUnitsConsumed:gr(pe())}),hT=zc([Ti(0),Ti("legacy")]),gk=Be({pubkey:Ye(),lamports:pe(),postBalance:Bt(pe()),rewardType:Bt(Ye()),commission:gr(Bt(pe()))}),Tlt=Hr(Bt(Be({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:pe(),transactions:Pt(Be({transaction:yJ,meta:Bt(e6),version:gr(hT)})),rewards:gr(Pt(gk)),blockTime:Bt(pe()),blockHeight:Bt(pe())}))),Rlt=Hr(Bt(Be({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:pe(),rewards:gr(Pt(gk)),blockTime:Bt(pe()),blockHeight:Bt(pe())}))),Clt=Hr(Bt(Be({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:pe(),transactions:Pt(Be({transaction:T_e,meta:Bt(e6),version:gr(hT)})),rewards:gr(Pt(gk)),blockTime:Bt(pe()),blockHeight:Bt(pe())}))),Mlt=Hr(Bt(Be({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:pe(),transactions:Pt(Be({transaction:B_e,meta:Bt(pJ),version:gr(hT)})),rewards:gr(Pt(gk)),blockTime:Bt(pe()),blockHeight:Bt(pe())}))),Blt=Hr(Bt(Be({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:pe(),transactions:Pt(Be({transaction:T_e,meta:Bt(pJ),version:gr(hT)})),rewards:gr(Pt(gk)),blockTime:Bt(pe()),blockHeight:Bt(pe())}))),zlt=Hr(Bt(Be({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:pe(),rewards:gr(Pt(gk)),blockTime:Bt(pe()),blockHeight:Bt(pe())}))),$lt=Hr(Bt(Be({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:pe(),transactions:Pt(Be({transaction:yJ,meta:Bt(e6)})),rewards:gr(Pt(gk)),blockTime:Bt(pe())}))),pge=Hr(Bt(Be({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:pe(),signatures:Pt(Ye()),blockTime:Bt(pe())}))),bN=Hr(Bt(Be({slot:pe(),meta:Bt(e6),blockTime:gr(Bt(pe())),transaction:yJ,version:gr(hT)}))),_$=Hr(Bt(Be({slot:pe(),transaction:B_e,meta:Bt(pJ),blockTime:gr(Bt(pe())),version:gr(hT)}))),Dlt=go(Be({blockhash:Ye(),feeCalculator:Be({lamportsPerSignature:pe()})})),Olt=go(Be({blockhash:Ye(),lastValidBlockHeight:pe()})),Klt=go(rh()),Llt=Be({slot:pe(),numTransactions:pe(),numSlots:pe(),samplePeriodSecs:pe()}),Wlt=Hr(Pt(Llt)),Nlt=go(Bt(Be({feeCalculator:Be({lamportsPerSignature:pe()})}))),Flt=Hr(Ye()),Ult=Hr(Ye()),Vlt=Be({err:hk,logs:Pt(Ye()),signature:Ye()}),qlt=Be({result:QK(Vlt),subscription:pe()}),jlt={"solana-client":"js/1.0.0-maintenance"};class Hlt{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Rs(l),h=this._buildArgs([],d,void 0,y),m=fge(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=pt(f,Hr(pe()));if("error"in g)throw new Xt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=Rut(e),this._rpcWsEndpoint=r||Tut(e),this._rpcClient=qut(e,s,i,o,a,c),this._rpcRequest=jut(this._rpcClient),this._rpcBatchRequest=Hut(this._rpcClient),this._rpcWebSocket=new Put(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=pt(o,go(pe()));if("error"in a)throw new Xt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=pt(t,Hr(Bt(pe())));if("error"in r)throw new Xt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=pt(e,Hr(pe()));if("error"in t)throw new Xt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=pt(e,elt);if("error"in t)throw new Xt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=pt(r,tlt);if("error"in s)throw new Xt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=pt(s,go(bq));if("error"in i)throw new Xt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=pt(s,go(bq));if("error"in i)throw new Xt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Rs(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=pt(c,nlt);if("error"in u)throw new Xt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=pt(o,slt);if("error"in a)throw new Xt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=pt(s,ilt);if("error"in i)throw new Xt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=pt(s,rlt);if("error"in i)throw new Xt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=pt(o,go(Bt(JM)));if("error"in a)throw new Xt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=pt(o,go(Bt(kq)));if("error"in a)throw new Xt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Rs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=pt(a,go(Pt(Bt(kq))));if("error"in c)throw new Xt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Rs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=pt(a,go(Pt(Bt(JM))));if("error"in c)throw new Xt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Rs(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=pt(a,Hr(ult));if("error"in c)throw new Xt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Rs(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:gge(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=Pt(olt),l=o.withContext===!0?pt(c,go(u)):pt(c,Hr(u));if("error"in l)throw new Xt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=pt(o,Hr(Pt(clt)));if("error"in a)throw new Xt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Un(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:vg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:vg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await c1(1e3),i||(h=await y(),i))return;d({__type:vg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===vg.PROCESSED)l=d.response;else throw new lJ(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:vg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await c1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===vg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await c1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Rv(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Rv(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Rv(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new Rv(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:vg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===vg.PROCESSED)a=c.response;else throw new dJ(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=pt(e,Hr(Pt(vlt)));if("error"in t)throw new Xt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=pt(r,Alt);if("error"in s)throw new Xt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Rs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=pt(i,Hr(pe()));if("error"in o)throw new Xt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Rs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=pt(i,Hr(Ye()));if("error"in o)throw new Xt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=pt(s,Hr(Pt(ji)));if("error"in i)throw new Xt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Un(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=pt(s,Plt);if("error"in i)throw new Xt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Rs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=pt(i,Hr(pe()));if("error"in o)throw new Xt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=pt(r,Gut);if("error"in s)throw new Xt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Rs(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=pt(a,But);if("error"in c)throw new Xt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=pt(e,Yut);if("error"in t)throw new Xt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Rs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=pt(i,Jut);if("error"in o)throw new Xt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=pt(e,Xut);if("error"in t)throw new Xt(t.error,"failed to get epoch schedule");const r=t.result;return new w_e(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=pt(e,Qut);if("error"in t)throw new Xt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=pt(s,_lt);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=pt(r,Dlt);if("error"in s)throw new Xt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=pt(t,Wlt);if("error"in r)throw new Xt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=pt(s,Nlt);if("error"in i)throw new Xt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=rn(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=pt(i,go(Bt(pe())));if("error"in o)throw new Xt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=pt(s,Zut);if("error"in i)throw new Xt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Rs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=pt(i,Olt);if("error"in o)throw new Xt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=pt(o,Klt);if("error"in a)throw new Xt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=pt(e,Hr(Nut));if("error"in t)throw new Xt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=pt(e,Hr(Ye()));if("error"in t)throw new Xt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=pt(o,Clt);if("error"in a)throw a.error;return a.result}case"none":{const a=pt(o,Rlt);if("error"in a)throw a.error;return a.result}default:{const a=pt(o,Tlt);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:pN(d,u.message)},version:d}))}:null}}}catch(a){throw new Xt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=pt(o,Blt);if("error"in a)throw a.error;return a.result}case"none":{const a=pt(o,zlt);if("error"in a)throw a.error;return a.result}default:{const a=pt(o,Mlt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Xt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=pt(i,Vut);if("error"in o)throw new Xt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=pt(o,bN);if("error"in a)throw new Xt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:pN(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=pt(o,_$);if("error"in a)throw new Xt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Rs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=pt(c,_$);if("error"in u)throw new Xt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Rs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=pt(c,bN);if("error"in u)throw new Xt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:pN(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=pt(s,$lt);if("error"in i)throw new Xt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new Id(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Zn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=pt(i,Hr(Pt(pe())));if("error"in o)throw new Xt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=pt(s,pge);if("error"in i)throw new Xt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=pt(s,pge);if("error"in i)throw new Xt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=pt(s,bN);if("error"in i)throw new Xt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new Id(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Zn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=pt(s,_$);if("error"in i)throw new Xt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=pt(o,_$);if("error"in a)throw new Xt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=pt(i,llt);if("error"in o)throw new Xt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=pt(i,dlt);if("error"in o)throw new Xt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new pq({key:e,state:pq.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=XK.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=pt(r,Flt);if("error"in s)throw new Xt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await c1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=P_e;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await c1(k_e/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Rs(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=pt(i,go(pe()));if("error"in o)throw new Xt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=pt(p,mge);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Zn){let m=e;s=new Zn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Zn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=pt(y,mge);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new ZM({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=rn(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=pt(a,Ult);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new ZM({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=pt(e,flt);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=fge([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Un(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Rs(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=pt(e,glt);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Rs(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:gge(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=pt(e,qlt);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=pt(e,ylt);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=pt(e,blt);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=pt(e,Slt);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=pt(e,klt);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class aA{constructor(e){this._keypair=void 0,this._keypair=e??cge()}static generate(){return new aA(cge())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=TO(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new aA({publicKey:r,secretKey:e})}static fromSeed(e){const t=TO(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new aA({publicKey:t,secretKey:r})}get publicKey(){return new ot(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Dg=Object.freeze({CreateLookupTable:{index:0,layout:F([U("instruction"),nw("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:F([U("instruction")])},ExtendLookupTable:{index:2,layout:F([U("instruction"),nw(),we(vn(),Vt(U(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:F([U("instruction")])},CloseLookupTable:{index:4,layout:F([U("instruction")])}});class Glt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Dg))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=is(Dg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=is(Dg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new ot(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(bJ.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class bJ{constructor(){}static createLookupTable(e){const[t,r]=ot.findProgramAddressSync([e.authority.toBuffer(),nc(BigInt(e.recentSlot),8)],this.programId),s=Dg.CreateLookupTable,i=Mn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ua.programId,isSigner:!1,isWritable:!1}];return[new As({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Dg.FreezeLookupTable,r=Mn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new As({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Dg.ExtendLookupTable,r=Mn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ua.programId,isSigner:!1,isWritable:!1}),new As({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Dg.DeactivateLookupTable,r=Mn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new As({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Dg.CloseLookupTable,r=Mn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new As({programId:this.programId,keys:s,data:r})}}bJ.programId=new ot("AddressLookupTab1e1111111111111111111111111");class Ylt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ef))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=is(Ef.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=is(Ef.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=is(Ef.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=is(Ef.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(SJ.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Ef=Object.freeze({RequestUnits:{index:0,layout:F([te("instruction"),U("units"),U("additionalFee")])},RequestHeapFrame:{index:1,layout:F([te("instruction"),U("bytes")])},SetComputeUnitLimit:{index:2,layout:F([te("instruction"),U("units")])},SetComputeUnitPrice:{index:3,layout:F([te("instruction"),nw("microLamports")])}});class SJ{constructor(){}static requestUnits(e){const t=Ef.RequestUnits,r=Mn(t,e);return new As({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Ef.RequestHeapFrame,r=Mn(t,e);return new As({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Ef.SetComputeUnitLimit,r=Mn(t,e);return new As({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Ef.SetComputeUnitPrice,r=Mn(t,{microLamports:BigInt(e.microLamports)});return new As({keys:[],programId:this.programId,data:r})}}SJ.programId=new ot("ComputeBudget111111111111111111111111111111");const bge=64,Sge=32,kge=64,vge=F([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class t6{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Un(t.length===Sge,`Public Key must be ${Sge} bytes but received ${t.length} bytes`),Un(s.length===kge,`Signature must be ${kge} bytes but received ${s.length} bytes`);const o=vge.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return vge.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new As({keys:[],programId:t6.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Un(t.length===bge,`Private key must be ${bge} bytes but received ${t.length} bytes`);try{const i=aA.fromSecretKey(t),o=i.publicKey.toBytes(),a=cJ(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}t6.programId=new ot("Ed25519SigVerify111111111111111111111111111");const Zlt=(n,e)=>{const t=YK.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};YK.utils.isValidPrivateKey;const Jlt=YK.getPublicKey,Age=32,SN=20,wge=64,Xlt=11,kN=F([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class cA{constructor(){}static publicKeyToEthAddress(e){Un(e.length===wge,`Public key must be ${wge} bytes but received ${e.length} bytes`);try{return V.Buffer.from(nge(rn(e))).slice(-SN)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return cA.createInstructionWithEthAddress({ethAddress:cA.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Un(a.length===SN,`Address must be ${SN} bytes but received ${a.length} bytes`);const c=1+Xlt,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(kN.span+r.length);return kN.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:rn(s),ethAddress:rn(a),recoveryId:i},h),h.fill(rn(r),kN.span),new As({keys:[],programId:cA.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Un(t.length===Age,`Private key must be ${Age} bytes but received ${t.length} bytes`);try{const i=rn(t),o=Jlt(i,!1).slice(1),a=V.Buffer.from(nge(rn(r))),[c,u]=Zlt(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}cA.programId=new ot("KeccakSecp256k11111111111111111111111111111");var $_e;const D_e=new ot("StakeConfig11111111111111111111111111111111");class O_e{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class bz{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}$_e=bz;bz.default=new $_e(0,0,ot.default);class Qlt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ia))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=is(Ia.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new O_e(new ot(t.staker),new ot(t.withdrawer)),lockup:new bz(r.unixTimestamp,r.epoch,new ot(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),is(Ia.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=is(Ia.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ot(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=is(Ia.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new ot(i),newAuthorizedPubkey:new ot(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=is(Ia.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),is(Ia.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=is(Ia.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),is(Ia.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(r6.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ia=Object.freeze({Initialize:{index:0,layout:F([U("instruction"),eut(),tut()])},Authorize:{index:1,layout:F([U("instruction"),vn("newAuthorized"),U("stakeAuthorizationType")])},Delegate:{index:2,layout:F([U("instruction")])},Split:{index:3,layout:F([U("instruction"),_e("lamports")])},Withdraw:{index:4,layout:F([U("instruction"),_e("lamports")])},Deactivate:{index:5,layout:F([U("instruction")])},Merge:{index:7,layout:F([U("instruction")])},AuthorizeWithSeed:{index:8,layout:F([U("instruction"),vn("newAuthorized"),U("stakeAuthorizationType"),M1("authoritySeed"),vn("authorityOwner")])}}),edt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class r6{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||bz.default,o=Ia.Initialize,a=Mn(o,{authorized:{staker:rn(r.staker.toBuffer()),withdrawer:rn(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:rn(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:rw,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new As(c)}static createAccountWithSeed(e){const t=new Zn;t.add(Ua.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Zn;t.add(Ua.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=Ia.Delegate,o=Mn(i);return new Zn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:xD,isSigner:!1,isWritable:!1},{pubkey:D_e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=Ia.Authorize,c=Mn(a,{newAuthorized:rn(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:of,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Zn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Ia.AuthorizeWithSeed,l=Mn(u,{newAuthorized:rn(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:rn(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:of,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Zn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=Ia.Split,a=Mn(o,{lamports:i});return new As({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Zn;return r.add(Ua.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Zn;return u.add(Ua.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(Ua.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=Ia.Merge,o=Mn(i);return new Zn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:xD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=Ia.Withdraw,c=Mn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:xD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Zn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=Ia.Deactivate,i=Mn(s);return new Zn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}r6.programId=new ot("Stake11111111111111111111111111111111111111");r6.space=200;class K_e{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class tdt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(xf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=is(xf.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new K_e(new ot(t.nodePubkey),new ot(t.authorizedVoter),new ot(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=is(xf.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ot(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=is(xf.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ot(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new ot(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=is(xf.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(gT.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const xf=Object.freeze({InitializeAccount:{index:0,layout:F([U("instruction"),rut()])},Authorize:{index:1,layout:F([U("instruction"),vn("newAuthorized"),U("voteAuthorizationType")])},Withdraw:{index:3,layout:F([U("instruction"),_e("lamports")])},UpdateValidatorIdentity:{index:4,layout:F([U("instruction")])},AuthorizeWithSeed:{index:10,layout:F([U("instruction"),nut()])}}),rdt=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class gT{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=xf.InitializeAccount,o=Mn(i,{voteInit:{nodePubkey:rn(s.nodePubkey.toBuffer()),authorizedVoter:rn(s.authorizedVoter.toBuffer()),authorizedWithdrawer:rn(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:rw,isSigner:!1,isWritable:!1},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new As(a)}static createAccount(e){const t=new Zn;return t.add(Ua.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=xf.Authorize,a=Mn(o,{newAuthorized:rn(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Zn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=xf.AuthorizeWithSeed,u=Mn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:rn(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:rn(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Zn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=xf.Withdraw,a=Mn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Zn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return gT.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=xf.UpdateValidatorIdentity,o=Mn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Zn().add({keys:a,programId:this.programId,data:o})}}gT.programId=new ot("Vote111111111111111111111111111111111111111");gT.space=3762;const L_e=new ot("Va1idator1nfo111111111111111111111111111111"),ndt=Be({name:Ye(),website:gr(Ye()),details:gr(Ye()),iconUrl:gr(Ye()),keybaseUsername:gr(Ye())});class kJ{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(lu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new ot(du(t,0,qf)),a=_f(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(L_e)&&s[1].isSigner){const i=M1().decode(V.Buffer.from(t)),o=JSON.parse(i);return a_e(o,ndt),new kJ(s[1].publicKey,o)}return null}}const sdt=new ot("Vote111111111111111111111111111111111111111"),idt=F([vn("nodePubkey"),vn("authorizedWithdrawer"),te("commission"),Ae(),we(F([Ae("slot"),U("confirmationCount")]),Vt(U(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(F([Ae("epoch"),vn("authorizedVoter")]),Vt(U(),-8),"authorizedVoters"),F([we(F([vn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(F([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(U(),-8),"epochCredits"),F([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class vJ{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=idt.decode(rn(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new vJ({nodePubkey:new ot(r.nodePubkey),authorizedWithdrawer:new ot(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(odt),priorVoters:adt(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function odt({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new ot(n)}}function Ige({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new ot(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function adt({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(Ige),...n.slice(0,e).map(Ige)]}const Pge={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function cdt(n,e){const t=e===!1?"http":"https";if(!n)return Pge[t].devnet;const r=Pge[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function udt(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new ZM({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const ldt=1e9;var ddt=Object.freeze(Object.defineProperty({__proto__:null,Account:Jct,AddressLookupTableAccount:pq,AddressLookupTableInstruction:Glt,AddressLookupTableProgram:bJ,Authorized:O_e,BLOCKHASH_CACHE_TIMEOUT_MS:P_e,BPF_LOADER_DEPRECATED_PROGRAM_ID:Xct,BPF_LOADER_PROGRAM_ID:but,BpfLoader:Sut,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Ef,ComputeBudgetInstruction:Ylt,ComputeBudgetProgram:SJ,Connection:Hlt,Ed25519Program:t6,Enum:Yct,EpochSchedule:w_e,FeeCalculatorLayout:v_e,Keypair:aA,LAMPORTS_PER_SOL:ldt,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Dg,Loader:TS,Lockup:bz,MAX_SEED_LENGTH:p_e,Message:Id,MessageAccountKeys:YM,MessageV0:xS,NONCE_ACCOUNT_LENGTH:yq,NonceAccount:XK,PACKET_DATA_SIZE:jy,PUBLIC_KEY_LENGTH:qf,PublicKey:ot,SIGNATURE_LENGTH_IN_BYTES:GM,SOLANA_SCHEMA:F2,STAKE_CONFIG_ID:D_e,STAKE_INSTRUCTION_LAYOUTS:Ia,SYSTEM_INSTRUCTION_LAYOUTS:Ls,SYSVAR_CLOCK_PUBKEY:of,SYSVAR_EPOCH_SCHEDULE_PUBKEY:cut,SYSVAR_INSTRUCTIONS_PUBKEY:uut,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:ED,SYSVAR_RENT_PUBKEY:rw,SYSVAR_REWARDS_PUBKEY:lut,SYSVAR_SLOT_HASHES_PUBKEY:dut,SYSVAR_SLOT_HISTORY_PUBKEY:fut,SYSVAR_STAKE_HISTORY_PUBKEY:xD,Secp256k1Program:cA,SendTransactionError:ZM,SolanaJSONRPCError:Xt,SolanaJSONRPCErrorCode:hut,StakeAuthorizationLayout:edt,StakeInstruction:Qlt,StakeProgram:r6,Struct:uJ,SystemInstruction:yut,SystemProgram:Ua,Transaction:Zn,TransactionExpiredBlockheightExceededError:lJ,TransactionExpiredNonceInvalidError:Rv,TransactionExpiredTimeoutError:dJ,TransactionInstruction:As,TransactionMessage:hJ,TransactionStatus:vg,VALIDATOR_INFO_KEY:L_e,VERSION_PREFIX_MASK:ZK,VOTE_PROGRAM_ID:sdt,ValidatorInfo:kJ,VersionedMessage:fJ,VersionedTransaction:gJ,VoteAccount:vJ,VoteAuthorizationLayout:rdt,VoteInit:K_e,VoteInstruction:tdt,VoteProgram:gT,clusterApiUrl:cdt,sendAndConfirmRawTransaction:udt,sendAndConfirmTransaction:mq},Symbol.toStringTag,{value:"Module"})),AJ=Td(ddt);(function(n){var e=K&&K.__decorate||function(d,y,h,m){var f=arguments.length,g=f<3?y:m===null?m=Object.getOwnPropertyDescriptor(y,h):m,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(d,y,h,m);else for(var S=d.length-1;S>=0;S--)(b=d[S])&&(g=(f<3?b(g):f>3?b(y,h,g):b(y,h))||g);return f>3&&g&&Object.defineProperty(y,h,g),g},t=K&&K.__metadata||function(d,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,y)},r=K&&K.__awaiter||function(d,y,h,m){function f(g){return g instanceof h?g:new h(function(b){b(g)})}return new(h||(h=Promise))(function(g,b){function S(w){try{I(m.next(w))}catch(A){b(A)}}function p(w){try{I(m.throw(w))}catch(A){b(A)}}function I(w){w.done?g(w.value):f(w.value).then(S,p)}I((m=m.apply(d,y||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.CargoPod=n.CARGO_POD_OFFSET=n.cargoPodDataEquals=void 0;const i=nl,o=AJ,a=cc,c=tr;function u(d,y){return d.version===y.version&&d.podBump===y.podBump&&d.openTokenAccounts===y.openTokenAccounts&&(0,c.arrayDeepEquals)(d.podSeeds,y.podSeeds,(h,m)=>h===m)&&d.statsDefinition.equals(y.statsDefinition)&&d.authority.equals(y.authority)&&d.seqId===y.seqId&&d.unupdatedTokenAccounts===y.unupdatedTokenAccounts}n.cargoPodDataEquals=u,n.CARGO_POD_OFFSET=8+1+32+32+1+32+1+2+1;let l=s=class{constructor(y,h,m){this._data=y,this._key=h,this._stats=m}get data(){return this._data}get key(){return this._key}get stats(){return this._stats||[]}static findAddress(y,h){return o.PublicKey.findProgramAddressSync([Xe.Buffer.from("cargo_pod"),h],y.programId)}static initCargoPod(y,h,m,f){const g=this.findAddress(y,f);return b=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.initCargoPod(Array.from(f)).accountsStrict({authority:h.publicKey(),funder:b.publicKey(),cargoPod:g[0],statsDefinition:m,systemProgram:o.SystemProgram.programId}).instruction(),signers:[h,b]}]})}static addCargo(y,h,m,f,g,b,S,p,I){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.addCargo(I).accountsStrict({authority:h.publicKey(),signerOriginAccount:m.publicKey(),cargoPod:f,cargoType:g,statsDefinition:b,originTokenAccount:S,cargoTokenAccount:p,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[h,m]}]})}static legitimizeCargo(y,h,m,f,g,b,S){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.legitimizeCargo(S).accountsStrict({authority:h.publicKey(),cargoPod:m,cargoType:f,statsDefinition:g,cargoTokenAccount:b,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[h]}]})}static removeCargo(y,h,m,f,g,b,S,p){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.removeCargo(p).accountsStrict({authority:h.publicKey(),cargoPod:m,cargoType:f,statsDefinition:g,cargoTokenAccount:b,destinationTokenAccount:S,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[h]}]})}static consumeCargo(y,h,m,f,g,b,S,p){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.consumeCargo(p).accountsStrict({authority:h.publicKey(),cargoPod:m,cargoType:f,statsDefinition:g,cargoTokenAccount:b,tokenMint:S,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[h]}]})}static transferCargo(y,h,m,f,g,b,S,p,I,w){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.transferCargo(w).accountsStrict({originPodAuthority:h.publicKey(),destinationPodAuthority:m.publicKey(),originCargoPod:f,destinationCargoPod:g,cargoType:b,statsDefinition:S,originTokenAccount:p,destinationTokenAccount:I,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[h,m]}]})}static transferAuthority(y,h,m,f){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.transferAuthority().accountsStrict({originPodAuthority:h.publicKey(),newPodAuthority:m.publicKey(),cargoPod:f}).instruction(),signers:[h,m]}]})}static mintTo(y,h,m,f,g,b,S,p,I){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.mintTo(h).accountsStrict({authority:m.publicKey(),mintAuthority:f.publicKey(),statsDefinition:g,cargoPod:b,cargoType:S,cargoTokenAccount:p.publicKey(),tokenMint:f.publicKey(),tokenProgram:I}).instruction(),signers:[m,f]}]})}static updateCargoPod(y,h,m){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.updateCargoPod().accountsStrict({cargoPod:h,statsDefinition:m}).instruction(),signers:[]}]})}static updatePodTokenAccount(y,h,m,f,g,b){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.updatePodTokenAccount().accountsStrict({statsDefinition:h,cargoPod:m,oldCargoType:f,cargoType:g,cargoTokenAccount:b,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static closeTokenAccount(y){const{program:h,authority:m,cargoPod:f,tokenAccountToClose:g,cargoType:b,mint:S}=y;return p=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.closeTokenAccount().accountsStrict({funder:p.publicKey(),authority:m.publicKey(),cargoPod:f,cargoType:b,cargoTokenAccount:g,mint:S,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[m]}]})}static closeCargoPod(y,h,m){return f=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.closeCargoPod().accountsStrict({funder:f.publicKey(),authority:h.publicKey(),cargoPod:m,systemProgram:o.SystemProgram.programId}).instruction(),signers:[h]}]})}static decodeData(y,h){return(0,c.decodeAccountWithRemaining)(y,h,s,m=>Array((y.accountInfo.data.length-n.CARGO_POD_OFFSET)/8).fill(0).map((f,g)=>new a.BN(m.subarray(8*g).subarray(0,8),10,"le")))}};n.CargoPod=l,l.ACCOUNT_NAME="cargoPod",l.MIN_DATA_SIZE=n.CARGO_POD_OFFSET,n.CargoPod=l=s=e([(0,c.staticImplements)(),t("design:paramtypes",[Object,o.PublicKey,Array])],l)})(ZZ);var wJ={};(function(n){var e=K&&K.__decorate||function(l,d,y,h){var m=arguments.length,f=m<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,y):h,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(l,d,y,h);else for(var b=l.length-1;b>=0;b--)(g=l[b])&&(f=(m<3?g(f):m>3?g(d,y,f):g(d,y))||f);return m>3&&f&&Object.defineProperty(d,y,f),f},t=K&&K.__metadata||function(l,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,d)},r=K&&K.__awaiter||function(l,d,y,h){function m(f){return f instanceof y?f:new y(function(g){g(f)})}return new(y||(y=Promise))(function(f,g){function b(I){try{p(h.next(I))}catch(w){g(w)}}function S(I){try{p(h.throw(I))}catch(w){g(w)}}function p(I){I.done?f(I.value):m(I.value).then(b,S)}p((h=h.apply(l,d||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.CargoType=n.CARGO_TYPE_OFFSET=n.cargoTypeDataEquals=void 0;const i=AJ,o=cc,a=tr;function c(l,d){return l.version===d.version&&l.bump===d.bump&&l.statsCount===d.statsCount&&l.statsDefinition.equals(d.statsDefinition)&&l.mint.equals(d.mint)&&l.seqId===d.seqId}n.cargoTypeDataEquals=c,n.CARGO_TYPE_OFFSET=8+1+32+32+32+1+2+2;let u=s=class{constructor(d,y,h){this._data=d,this._key=y,this._stats=h}get data(){return this._data}get key(){return this._key}get stats(){return this._stats||[]}static findAddress(d,y,h,m){const f=new ArrayBuffer(2),g=new DataView(f);g.setUint16(0,m,!0);const b=new Uint8Array(g.buffer);return i.PublicKey.findProgramAddressSync([Xe.Buffer.from("cargo_type"),b,y.toBuffer(),h.toBuffer()],d.programId)}static initCargoType({program:d,managerKey:y,profile:h,statsDefinition:m,mint:f,input:g,statsDefinitionSeqId:b}){const S=this.findAddress(d,m,f,b);return p=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.initCargoType(g).accountsStrict({funder:p.publicKey(),cargoType:S[0],statsDefinition:m,mint:f,systemProgram:i.SystemProgram.programId,key:y.publicKey(),profile:h}).instruction(),signers:[y,p]}]})}static initCargoTypeFromOldCargoType({program:d,managerKey:y,profile:h,statsDefinition:m,oldCargoType:f,mint:g,input:b}){const[S]=this.findAddress(d,m,g.publicKey(),f.data.seqId+1);return p=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.initCargoTypeFromOldCargoType(b).accountsStrict({key:y.publicKey(),profile:h,funder:p.publicKey(),statsDefinition:m,oldCargoType:f.key,cargoType:S,systemProgram:i.SystemProgram.programId}).instruction(),signers:[y]}]})}static initCargoTypeForNextSeqId({program:d,managerKey:y,profile:h,statsDefinition:m,typeMint:f,input:g}){const[b]=this.findAddress(d,m.key,f,m.data.seqId+1);return S=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.initCargoTypeForNextSeqId(g).accountsStrict({key:y.publicKey(),profile:h,funder:S.publicKey(),mint:f,statsDefinition:m.key,cargoType:b,systemProgram:i.SystemProgram.programId}).instruction(),signers:[y]}]})}static decodeData(d,y){return(0,a.decodeAccountWithRemaining)(d,y,s,h=>Array((d.accountInfo.data.length-n.CARGO_TYPE_OFFSET)/8).fill(0).map((m,f)=>new o.BN(h.subarray(8*f).subarray(0,8),10,"le")))}};n.CargoType=u,u.ACCOUNT_NAME="cargoType",u.MIN_DATA_SIZE=n.CARGO_TYPE_OFFSET,n.CargoType=u=s=e([(0,a.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey,Array])],u)})(wJ);var W_e={},XM={};Object.defineProperty(XM,"__esModule",{value:!0});XM.IDL=void 0;XM.IDL={version:"0.1.0",name:"cargo",docs:["The `cargo` program"],instructions:[{name:"addCargo",docs:["Adds cargo to a [`CargoPod`](state::CargoPod).","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"signerOriginAccount",isMut:!1,isSigner:!0,docs:["Signer for Cargo Token Transfer"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"originTokenAccount",isMut:!0,isSigner:!1,docs:["The Origin Token Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"closeCargoPod",docs:["Closes the [`CargoPod`](state::CargoPod) if it has no open token accounts.","Requires the authority to sign."],accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The account to return the rent"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The authority for the pod account"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system Program"]}],args:[]},{name:"closeTokenAccount",docs:["Closes and burns any excess tokens in a given token account within a [`CargoPod`](state::CargoPod).","Requires the authority to sign."],accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The account to return the rent"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The authority for [CargoPod] account"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account","If the token account belongs to a registered Cargo Type then this account must be a valid Cargo Type","However, to allow closing token account that are not valid Cargo this is an unchecked account"]},{name:"mint",isMut:!0,isSigner:!1,docs:["The Token Mint"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Token Program"]}],args:[]},{name:"consumeCargo",docs:["Consumes cargo from a [`CargoPod`](state::CargoPod), burning the amount.","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["Token Mint"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"initCargoPod",docs:["Inits a new [`CargoPod`](state::CargoPod) account for the given [`CargoStatsDefinition`](state::CargoStatsDefinition) and authority."],accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new cargo pod"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The authority for the new cargo pod"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition of tracked stats"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"podSeeds",type:{array:["u8",32]}}]},{name:"initCargoType",docs:["Inits a new [`CargoType`](state::CargoType) account for the given [`CargoStatsDefinition`](state::CargoStatsDefinition)."],accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`].","Is going to act as the authority for the new definition."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the cargo type"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint for the new cargo type"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition for the cargo type"]},{name:"cargoType",isMut:!0,isSigner:!1,docs:["The cargo type to init"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitCargoTypeInput"}}]},{name:"initCargoTypeForNextSeqId",docs:["Creates a new cargo type for the next `seq_id`."],accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`].","Is going to act as the authority for the new definition."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the cargo type"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint for the new cargo type"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition for the cargo type"]},{name:"cargoType",isMut:!0,isSigner:!1,docs:["The cargo type to init"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitCargoTypeInput"}}]},{name:"initCargoTypeFromOldCargoType",docs:["Creates a new cargo type for the next `seq_id` from a given cargo type."],accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`].","Is going to act as the authority for the new definition."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the cargo type"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition for the cargo type"]},{name:"oldCargoType",isMut:!1,isSigner:!1,docs:["The old Cargo Type Account"]},{name:"cargoType",isMut:!0,isSigner:!1,docs:["The cargo type to init"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitCargoTypeFromOldCargoTypeInput"}}]},{name:"initDefinition",docs:["Inits a [`CargoStatsDefinition`](state::CargoStatsDefinition) account."],accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`](Profile).","Is going to act as the authority for the new definition."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new definition"]},{name:"statsDefinition",isMut:!0,isSigner:!0,docs:["The new definition"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitDefinitionInput"}}]},{name:"legitimizeCargo",docs:["Legitimizes cargo in a [`CargoPod`](state::CargoPod) that was added outside of [`add_cargo`] or other cargo ix.","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"mintTo",docs:["Mints tokens directly to a [`CargoPod`](state::CargoPod).","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the [`CargoPod`] Account"]},{name:"mintAuthority",isMut:!1,isSigner:!0,docs:["The mint Authority"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [`CargoPod`] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The [`CargoType`] Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The Cargo token mint"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"mintAmount",type:"u64"}]},{name:"removeCargo",docs:["Removes cargo from a [`CargoPod`](state::CargoPod) to a given token account.","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["The Destination Token Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["Cargo Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"transferAuthority",docs:["Transfers authority of a [`CargoPod`](state::CargoPod) to a new authority.","Requires both authorities to sign."],accounts:[{name:"originPodAuthority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"newPodAuthority",isMut:!1,isSigner:!0,docs:["New authority for the cargo pod"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]}],args:[]},{name:"transferCargo",docs:["Transfers cargo between [`CargoPod`](state::CargoPod)s.","Requires both authorities to sign."],accounts:[{name:"originPodAuthority",isMut:!1,isSigner:!0,docs:["Authority for the origin cargo pod"]},{name:"destinationPodAuthority",isMut:!1,isSigner:!0,docs:["Authority for the destination cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"originCargoPod",isMut:!0,isSigner:!1,docs:["The Origin [CargoPod] Account"]},{name:"destinationCargoPod",isMut:!0,isSigner:!1,docs:["The Destination [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"originTokenAccount",isMut:!0,isSigner:!1,docs:["The Origin Token Account"]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["The Destination Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"updateCargoPod",docs:["Updates a [`CargoPod`](state::CargoPod) account to have the newest sequence id from the [`CargoDefinition`](state::CargoStatsDefinition).","This is the first step to update a [`CargoPod`](state::CargoPod) to a new [`CargoStatsDefinition`](state::CargoStatsDefinition).","Permissionless function."],accounts:[{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod to update"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition of tracked stats"]}],args:[]},{name:"updateDefinition",docs:["Updates a [`CargoStatsDefinition`](state::CargoStatsDefinition) account.","Will advance the `seq_id` unless `rollback` is set to true."],accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`](Profile).","Is going to act as the authority for the new definition."]},{name:"statsDefinition",isMut:!0,isSigner:!1,docs:["The [CargoStatsDefinition]"]}],args:[{name:"input",type:{defined:"UpdateDefinitionInput"}}]},{name:"updatePodTokenAccount",docs:["Updates a [`CargoPod`](state::CargoPod)'s token account to have the same sequence id as the [`CargoPod`](state::CargoPod).","This must be called after [`update_cargo_pod`].","Permissionless function."],accounts:[{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"oldCargoType",isMut:!1,isSigner:!1,docs:["The previous version(`seq_id`) Cargo Type"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The updated Cargo Type Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[]}],accounts:[{name:"cargoPod",docs:["A pod that can store any number of resources and tracks stats given a definition."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"statsDefinition",docs:["The definition of tracked stats."],type:"publicKey"},{name:"authority",docs:["The authority for this pod."],type:"publicKey"},{name:"openTokenAccounts",docs:["The number of open token accounts in this pod."],type:"u8"},{name:"podSeeds",docs:["The seeds of the signer for this pod."],type:{array:["u8",32]}},{name:"podBump",docs:["The bump of the signer for this pod."],type:"u8"},{name:"seqId",docs:["The sequence id for the definition"],type:"u16"},{name:"unupdatedTokenAccounts",docs:["The number of unupdated token accounts in this pod. If this is greater than zero means the pod is frozen and only can withdraw cargo but not deposit."],type:"u8"}]}},{name:"cargoStatsDefinition",docs:["A definition of cargo stats."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"authority",docs:["The authority for this definition."],type:"publicKey"},{name:"defaultCargoType",docs:["The default cargo type. System program (all 0s) if none."],type:"publicKey"},{name:"statsCount",docs:["The number of stats in this definition."],type:"u16"},{name:"seqId",docs:["The sequence id for the definition"],type:"u16"}]}},{name:"cargoType",docs:["The stats for a given cargo type (token mint)."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"statsDefinition",docs:["The definition this follows"],type:"publicKey"},{name:"mint",docs:["The mint the cargo type is for"],type:"publicKey"},{name:"creator",docs:["TODO: remove this"],type:"publicKey"},{name:"bump",docs:["The bump for this account"],type:"u8"},{name:"statsCount",docs:["The number of stats in this definition."],type:"u16"},{name:"seqId",docs:["The sequence id for the definition"],type:"u16"}]}}],types:[{name:"InitCargoTypeFromOldCargoTypeInput",docs:["Struct for data input for this IX"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the cargo permissions profile"],type:"u16"},{name:"newValues",docs:["vector with values for all stats tracked by the definition"],type:{option:{vec:"u64"}}}]}},{name:"InitCargoTypeInput",docs:["Struct for data input for this IX"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the cargo permissions profile"],type:"u16"},{name:"values",docs:["vector with values for all stats tracked by the definition"],type:{vec:"u64"}}]}},{name:"InitDefinitionInput",docs:["Struct for data input for [`InitDefinition`]"],type:{kind:"struct",fields:[{name:"cargoStats",docs:["the count of stats the definition has"],type:"u16"}]}},{name:"UpdateDefinitionInput",docs:["Struct for data input for this IX"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the cargo permissions profile"],type:"u16"},{name:"rollback",docs:["flag that if present means we need to decrease the definition seq_id"],type:{option:"bool"}}]}}],errors:[{code:6e3,name:"StatOutOfBounds",msg:"A given stat was out of bounds"},{code:6001,name:"TooManyStats",msg:"There are too many stats"},{code:6002,name:"InvalidRentFunder",msg:"Rent funder was not owned by the system program or this program"},{code:6003,name:"TooFewStats",msg:"Popped a stat when there are no stats left"},{code:6004,name:"MissingSystemProgram",msg:"System program is missing when needed"},{code:6005,name:"InvalidCargoStat",msg:"Cargo stat data was invalid"},{code:6006,name:"InvalidCargoStatSize",msg:"Cargo stat size data was invalid"},{code:6007,name:"InvalidCargoType",msg:"Cargo type is invalid"},{code:6008,name:"WrongNumberOfDefinitions",msg:"Wrong number of definitions provided to init a cargo type"},{code:6009,name:"InvalidValueForStat",msg:"Invalid value provided for stat"},{code:6010,name:"NumericOverflow",msg:"Math overflow"},{code:6011,name:"AuthorityMismatch",msg:"Authority mismatch"},{code:6012,name:"StatsDefinitionMismatch",msg:"Stats definition mismatch"},{code:6013,name:"MintMismatch",msg:"Mint mismatch"},{code:6014,name:"OwnerMismatch",msg:"Owner mismatch"},{code:6015,name:"InvalidDelegation",msg:"Delegated amount is invalid"},{code:6016,name:"FrozenPod",msg:"The pod is frozen"},{code:6017,name:"UnupdatedCargoPodAccount",msg:"Unupdated CargoPod Account"},{code:6018,name:"InvalidSeqId",msg:"Invalid seq_id"},{code:6019,name:"UnupdatedTokenAccount",msg:"Unupdated token account"},{code:6020,name:"OpenTokenAccounts",msg:"Cargo Pod has token accounts open"},{code:6021,name:"NonZeroDelegation",msg:"Non Zero Delegated Amount"},{code:6022,name:"InvalidPreviousType",msg:"Invalid previous cargo_type account"},{code:6023,name:"InsufficientCargoAmount",msg:"Insufficient cargo amount"},{code:6024,name:"InsufficientTokenAmount",msg:"Insufficient token amount"},{code:6025,name:"PodTokenAccountAlreadyUpdated",msg:"Pod Token Account Already Updated"}]};var jp={},fdt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},hdt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},_ge=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},vq;Object.defineProperty(jp,"__esModule",{value:!0});jp.CargoStatsDefinition=jp.cargoStatsDefinitionAccountDataEquals=void 0;const N_e=AJ,F_e=tr;function gdt(n,e){return n.version===e.version&&n.authority.equals(e.authority)&&n.defaultCargoType.equals(e.defaultCargoType)&&n.statsCount===e.statsCount&&n.seqId===e.seqId}jp.cargoStatsDefinitionAccountDataEquals=gdt;let QM=vq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static initDefinition({program:e,profile:t,statsDefinition:r,input:s}){return i=>_ge(this,void 0,void 0,function*(){return[{instruction:yield e.methods.initDefinition(s).accountsStrict({profile:t,funder:i.publicKey(),statsDefinition:r.publicKey(),systemProgram:N_e.SystemProgram.programId}).instruction(),signers:[i,r]}]})}static updateDefinition({program:e,managerKey:t,profile:r,statsDefinition:s,input:i}){return()=>_ge(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateDefinition(i).accountsStrict({statsDefinition:s,key:t.publicKey(),profile:r}).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,F_e.decodeAccount)(e,t,vq)}};jp.CargoStatsDefinition=QM;QM.ACCOUNT_NAME="cargoStatsDefinition";QM.MIN_DATA_SIZE=8+1+32+32+2+2;jp.CargoStatsDefinition=QM=vq=fdt([(0,F_e.staticImplements)(),hdt("design:paramtypes",[Object,N_e.PublicKey])],QM);(function(n){var e=K&&K.__decorate||function(d,y,h,m){var f=arguments.length,g=f<3?y:m===null?m=Object.getOwnPropertyDescriptor(y,h):m,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(d,y,h,m);else for(var S=d.length-1;S>=0;S--)(b=d[S])&&(g=(f<3?b(g):f>3?b(y,h,g):b(y,h))||g);return f>3&&g&&Object.defineProperty(y,h,g),g},t=K&&K.__metadata||function(d,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,y)};Object.defineProperty(n,"__esModule",{value:!0}),n.CargoProgram=n.cargoErrorMap=n.CARGO_IDL=void 0;const r=cc,s=tr,i=ZZ,o=wJ,a=XM,c=jp;var u=XM;Object.defineProperty(n,"CARGO_IDL",{enumerable:!0,get:function(){return u.IDL}}),n.cargoErrorMap=(0,s.generateErrorMap)(a.IDL);let l=class extends s.ListenProgram{constructor(y){super(y,{cargoPod:i.CargoPod,cargoType:o.CargoType,cargoStatsDefinition:c.CargoStatsDefinition})}static buildProgram(y,h,m){return new r.Program(a.IDL,y,h,m)}};n.CargoProgram=l,n.CargoProgram=l=e([(0,s.staticImplements)(),t("design:paramtypes",[Object])],l)})(W_e);var Sz={},mdt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},ydt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},hl;Object.defineProperty(Sz,"__esModule",{value:!0});Sz.CargoPermissions=void 0;const U_e=tr;let Aq=hl=class{constructor(e,t,r){this.manageDefinition=e,this.createCargoType=t,this.manageCargoType=r}getPermissions(){const e=(0,U_e.fixedSizeArray)(8,0);return e[0]=(this.manageDefinition?1<<0:0)|(this.createCargoType?1<<1:0)|(this.manageCargoType?1<<2:0),e}static empty(){return new hl(!1,!1,!1)}static all(){return new hl(!0,!0,!0)}static manageDefinition(){return new hl(!0,!1,!1)}static createCargoType(){return new hl(!1,!0,!1)}static manageCargoType(){return new hl(!1,!1,!0)}static definitionPermissions(){return hl.manageDefinition()}static cargoTypePermissions(){return new hl(!1,!0,!0)}static fromPermissions(e){return new hl((e[0]&1<<0)!==0,(e[0]&1<<1)!==0,(e[0]&1<<2)!==0)}and(e){return new hl(this.manageDefinition&&e.manageDefinition,this.createCargoType&&e.createCargoType,this.manageCargoType&&e.manageCargoType)}or(e){return new hl(this.manageDefinition||e.manageDefinition,this.createCargoType||e.createCargoType,this.manageCargoType||e.manageCargoType)}eq(e){return this.manageDefinition===e.manageDefinition&&this.createCargoType===e.createCargoType&&this.manageCargoType===e.manageCargoType}contains(e){return this.and(e).eq(e)}};Sz.CargoPermissions=Aq;Sz.CargoPermissions=Aq=hl=mdt([(0,U_e.staticImplements)(),ydt("design:paramtypes",[Boolean,Boolean,Boolean])],Aq);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(ZZ,n),t(wJ,n),t(W_e,n),t(Sz,n),t(jp,n)})(qK);var n6={},V_e={},eB={};Object.defineProperty(eB,"__esModule",{value:!0});eB.IDL=void 0;eB.IDL={version:"0.7.1",name:"profile_faction",instructions:[{name:"chooseFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key with auth permissions."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the transaction."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile to change faction for."]},{name:"faction",isMut:!0,isSigner:!1,docs:["The faction to change to."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"keyIndex",type:"u16"},{name:"faction",type:{defined:"Faction"}}]}],accounts:[{name:"profileFactionAccount",docs:["Stores a profile's enlisted faction on-chain."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The profile this faction enlistment is for."],type:"publicKey"},{name:"faction",docs:["The faction of the profile."],type:"u8"},{name:"bump",docs:["The bump for this account."],type:"u8"}]}}],types:[{name:"Faction",docs:["A faction that a player can belong to."],type:{kind:"enum",variants:[{name:"Unaligned"},{name:"MUD"},{name:"ONI"},{name:"Ustur"}]}}]};var jf={};function CO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function pdt(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function kz(n,...e){if(!pdt(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function bdt(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");CO(n.outputLen),CO(n.blockLen)}function sw(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function q_e(n,e){kz(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const vN=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Sdt=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),AN=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Fd=(n,e)=>n<<32-e|n>>>e,Ege=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,kdt=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function xge(n){for(let e=0;e<n.length;e++)n[e]=kdt(n[e])}function vdt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function s6(n){return typeof n=="string"&&(n=vdt(n)),kz(n),n}function Adt(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];kz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class IJ{clone(){return this._cloneInto()}}function PJ(n){const e=r=>n().update(s6(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function j_e(n=32){if(vN&&typeof vN.getRandomValues=="function")return vN.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function wdt(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const Idt=(n,e,t)=>n&e^~n&t,Pdt=(n,e,t)=>n&e^n&t^e&t;class H_e extends IJ{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=AN(this.buffer)}update(e){sw(this);const{view:t,buffer:r,blockLen:s}=this;e=s6(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=AN(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){sw(this),q_e(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;wdt(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=AN(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const E$=BigInt(2**32-1),wq=BigInt(32);function G_e(n,e=!1){return e?{h:Number(n&E$),l:Number(n>>wq&E$)}:{h:Number(n>>wq&E$)|0,l:Number(n&E$)|0}}function Y_e(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=G_e(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const _dt=(n,e)=>BigInt(n>>>0)<<wq|BigInt(e>>>0),Edt=(n,e,t)=>n>>>t,xdt=(n,e,t)=>n<<32-t|e>>>t,Tdt=(n,e,t)=>n>>>t|e<<32-t,Rdt=(n,e,t)=>n<<32-t|e>>>t,Cdt=(n,e,t)=>n<<64-t|e>>>t-32,Mdt=(n,e,t)=>n>>>t-32|e<<64-t,Bdt=(n,e)=>e,zdt=(n,e)=>n,Z_e=(n,e,t)=>n<<t|e>>>32-t,J_e=(n,e,t)=>e<<t|n>>>32-t,X_e=(n,e,t)=>e<<t-32|n>>>64-t,Q_e=(n,e,t)=>n<<t-32|e>>>64-t;function $dt(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const Ddt=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),Odt=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,Kdt=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),Ldt=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,Wdt=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),Ndt=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,Fdt={fromBig:G_e,split:Y_e,toBig:_dt,shrSH:Edt,shrSL:xdt,rotrSH:Tdt,rotrSL:Rdt,rotrBH:Cdt,rotrBL:Mdt,rotr32H:Bdt,rotr32L:zdt,rotlSH:Z_e,rotlSL:J_e,rotlBH:X_e,rotlBL:Q_e,add:$dt,add3L:Ddt,add3H:Odt,add4L:Kdt,add4H:Ldt,add5H:Ndt,add5L:Wdt};var Kr=Fdt;const[Udt,Vdt]=(()=>Kr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Gm=new Uint32Array(80),Ym=new Uint32Array(80);class qdt extends H_e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Gm[p]=e.getUint32(t),Ym[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Gm[p-15]|0,w=Ym[p-15]|0,A=Kr.rotrSH(I,w,1)^Kr.rotrSH(I,w,8)^Kr.shrSH(I,w,7),_=Kr.rotrSL(I,w,1)^Kr.rotrSL(I,w,8)^Kr.shrSL(I,w,7),E=Gm[p-2]|0,M=Ym[p-2]|0,P=Kr.rotrSH(E,M,19)^Kr.rotrBH(E,M,61)^Kr.shrSH(E,M,6),R=Kr.rotrSL(E,M,19)^Kr.rotrBL(E,M,61)^Kr.shrSL(E,M,6),$=Kr.add4L(_,R,Ym[p-7],Ym[p-16]),z=Kr.add4H($,A,P,Gm[p-7],Gm[p-16]);Gm[p]=z|0,Ym[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Kr.rotrSH(d,y,14)^Kr.rotrSH(d,y,18)^Kr.rotrBH(d,y,41),w=Kr.rotrSL(d,y,14)^Kr.rotrSL(d,y,18)^Kr.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=Kr.add5L(S,w,_,Vdt[p],Ym[p]),M=Kr.add5H(E,b,I,A,Udt[p],Gm[p]),P=E|0,R=Kr.rotrSH(r,s,28)^Kr.rotrBH(r,s,34)^Kr.rotrBH(r,s,39),$=Kr.rotrSL(r,s,28)^Kr.rotrBL(r,s,34)^Kr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Kr.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Kr.add3L(P,$,T);r=Kr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Kr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Kr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Kr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Kr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Kr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Kr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Kr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Kr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Gm.fill(0),Ym.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const jdt=PJ(()=>new qdt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _J=BigInt(0),i6=BigInt(1),Hdt=BigInt(2);function RS(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function vz(n){if(!RS(n))throw new Error("Uint8Array expected")}function Yg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const Gdt=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function CS(n){vz(n);let e="";for(let t=0;t<n.length;t++)e+=Gdt[n[t]];return e}function eEe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function EJ(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Ch={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Tge(n){if(n>=Ch._0&&n<=Ch._9)return n-Ch._0;if(n>=Ch._A&&n<=Ch._F)return n-(Ch._A-10);if(n>=Ch._a&&n<=Ch._f)return n-(Ch._a-10)}function iw(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Tge(n.charCodeAt(i)),a=Tge(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function q1(n){return EJ(CS(n))}function uA(n){return vz(n),EJ(CS(Uint8Array.from(n).reverse()))}function ow(n,e){return iw(n.toString(16).padStart(e*2,"0"))}function tB(n,e){return ow(n,e).reverse()}function Ydt(n){return iw(eEe(n))}function sa(n,e,t){let r;if(typeof e=="string")try{r=iw(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(RS(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function MS(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];vz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function Zdt(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function Jdt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const wN=n=>typeof n=="bigint"&&_J<=n;function o6(n,e,t){return wN(n)&&wN(e)&&wN(t)&&e<=n&&n<t}function Pl(n,e,t,r){if(!o6(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function Xdt(n){let e;for(e=0;n>_J;n>>=i6,e+=1);return e}function Qdt(n,e){return n>>BigInt(e)&i6}function eft(n,e,t){return n|(t?i6:_J)<<BigInt(e)}const xJ=n=>(Hdt<<BigInt(n-1))-i6,IN=n=>new Uint8Array(n),Rge=n=>Uint8Array.from(n);function tEe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=IN(n),s=IN(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=IN())=>{s=a(Rge([0]),d),r=a(),d.length!==0&&(s=a(Rge([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return MS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const tft={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||RS(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function mT(n,e,t={}){const r=(s,i,o)=>{const a=tft[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const rft=()=>{throw new Error("not implemented")};function rB(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var nft=Object.freeze(Object.defineProperty({__proto__:null,isBytes:RS,abytes:vz,abool:Yg,bytesToHex:CS,numberToHexUnpadded:eEe,hexToNumber:EJ,hexToBytes:iw,bytesToNumberBE:q1,bytesToNumberLE:uA,numberToBytesBE:ow,numberToBytesLE:tB,numberToVarBytesBE:Ydt,ensureBytes:sa,concatBytes:MS,equalBytes:Zdt,utf8ToBytes:Jdt,inRange:o6,aInRange:Pl,bitLen:Xdt,bitGet:Qdt,bitSet:eft,bitMask:xJ,createHmacDrbg:tEe,validateObject:mT,notImplemented:rft,memoized:rB},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ec=BigInt(0),Li=BigInt(1),u1=BigInt(2),sft=BigInt(3),Iq=BigInt(4),Cge=BigInt(5),Mge=BigInt(8);BigInt(9);BigInt(16);function bi(n,e){const t=n%e;return t>=ec?t:e+t}function ift(n,e,t){if(t<=ec||e<ec)throw new Error("Expected power/modulo > 0");if(t===Li)return ec;let r=Li;for(;e>ec;)e&Li&&(r=r*n%t),n=n*n%t,e>>=Li;return r}function no(n,e,t){let r=n;for(;e-- >ec;)r*=r,r%=t;return r}function Pq(n,e){if(n===ec||e<=ec)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=bi(n,e),r=e,s=ec,i=Li;for(;t!==ec;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Li)throw new Error("invert: does not exist");return bi(s,e)}function oft(n){const e=(n-Li)/u1;let t,r,s;for(t=n-Li,r=0;t%u1===ec;t/=u1,r++);for(s=u1;s<n&&ift(s,e,n)!==n-Li;s++);if(r===1){const o=(n+Li)/Iq;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Li)/u1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Li<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function aft(n){if(n%Iq===sft){const e=(n+Li)/Iq;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Mge===Cge){const e=(n-Cge)/Mge;return function(r,s){const i=r.mul(s,u1),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,u1),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return oft(n)}const cft=(n,e)=>(bi(n,e)&Li)===Li,uft=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function lft(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=uft.reduce((r,s)=>(r[s]="function",r),e);return mT(n,t)}function dft(n,e,t){if(t<ec)throw new Error("Expected power > 0");if(t===ec)return n.ONE;if(t===Li)return e;let r=n.ONE,s=e;for(;t>ec;)t&Li&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Li;return r}function fft(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function rEe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function nEe(n,e,t=!1,r={}){if(n<=ec)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=rEe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=aft(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:xJ(s),ZERO:ec,ONE:Li,create:c=>bi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return ec<=c&&c<n},is0:c=>c===ec,isOdd:c=>(c&Li)===Li,neg:c=>bi(-c,n),eql:(c,u)=>c===u,sqr:c=>bi(c*c,n),add:(c,u)=>bi(c+u,n),sub:(c,u)=>bi(c-u,n),mul:(c,u)=>bi(c*u,n),pow:(c,u)=>dft(a,c,u),div:(c,u)=>bi(c*Pq(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Pq(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>fft(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?tB(c,i):ow(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?uA(c):q1(c)}});return Object.freeze(a)}function sEe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function iEe(n){const e=sEe(n);return e+Math.ceil(e/2)}function hft(n,e,t=!1){const r=n.length,s=sEe(e),i=iEe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?q1(n):uA(n),a=bi(o,e-Li)+Li;return t?tB(a,s):ow(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gft=BigInt(0),PN=BigInt(1),_N=new WeakMap,Bge=new WeakMap;function oEe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>gft;)o&PN&&(a=a.add(c)),c=c.double(),o>>=PN;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=PN);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=Bge.get(i)||1;let u=_N.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&_N.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),Bge.set(i,o),_N.delete(i)}}}function TJ(n){return lft(n.Fp),mT(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...rEe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nl=BigInt(0),jc=BigInt(1),x$=BigInt(2),mft=BigInt(8),yft={zip215:!0};function pft(n){const e=TJ(n);return mT(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function bft(n){const e=pft(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=x$<<BigInt(a*8)-jc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Nl}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(Yg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){Pl("coordinate "+v,k,Nl,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=rB((v,k)=>{const{ex:x,ey:C,ez:B}=v,O=v.is0();k==null&&(k=O?mft:t.inv(B));const D=l(x*k),W=l(C*k),L=l(B*k);if(O)return{x:Nl,y:jc};if(L!==jc)throw new Error("invZ was invalid");return{x:D,y:W}}),b=rB(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:O,et:D}=v,W=l(C*C),L=l(B*B),N=l(O*O),H=l(N*N),J=l(W*k),Q=l(N*l(J+L)),Y=l(H+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,jc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:O,ey:D,ez:W}=k,L=l(x*W),N=l(O*B),H=l(C*W),J=l(D*B);return L===N&&H===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,O=l(x*x),D=l(C*C),W=l(x$*l(B*B)),L=l(k*O),N=x+C,H=l(l(N*N)-O-D),J=L+D,Q=J-W,Y=L-D,X=l(H*Q),re=l(J*Y),se=l(H*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:O,ez:D,et:W}=this,{ex:L,ey:N,ez:H,et:J}=k;if(x===BigInt(-1)){const Lt=l((O-B)*(N+L)),Dt=l((O+B)*(N-L)),et=l(Dt-Lt);if(et===Nl)return this.double();const Ue=l(D*x$*J),Wt=l(W*x$*H),sr=Wt+Ue,rr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(rr*pr),gn=l(sr*pr),ds=l(et*rr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(O*N),X=l(W*C*J),re=l(D*H),se=l((B+O)*(L+N)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),Pe=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(Pe,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;Pl("scalar",x,jc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return Pl("scalar",x,Nl,r),x===Nl?I:this.equals(I)||x===jc?this:this.equals(p)?this.wNAF(x).p:w.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===jc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,O=t.BYTES;k=sa("pointHex",k,O),Yg("zip215",x);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=uA(D),N=x?u:t.ORDER;Pl("pointHex.y",L,Nl,N);const H=l(L*L),J=l(H-jc),Q=l(C*H-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&jc)===jc,se=(W&128)!==0;if(!x&&X===Nl&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=tB(x,t.BYTES);return C[C.length-1]|=k&jc?128:0,C}toHex(){return CS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,jc,l(e.Gx*e.Gy)),S.ZERO=new S(Nl,jc,jc,Nl);const{BASE:p,ZERO:I}=S,w=oEe(S,a*8);function A(v){return bi(v,r)}function _(v){return A(uA(v))}function E(v){const k=a;v=sa("private key",v,k);const x=sa("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),O=_(C),D=p.multiply(O),W=D.toRawBytes();return{head:C,prefix:B,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function P(v=new Uint8Array,...k){const x=MS(...k);return _(i(h(x,sa("context",v),!!s)))}function R(v,k,x={}){v=sa("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:O}=E(k),D=P(x.context,C,v),W=p.multiply(D).toRawBytes(),L=P(x.context,W,O,v),N=A(D+L*B);Pl("signature.s",N,Nl,r);const H=MS(W,tB(N,t.BYTES));return sa("result",H,a*2)}const $=yft;function z(v,k,x,C=$){const{context:B,zip215:O}=C,D=t.BYTES;v=sa("signature",v,2*D),k=sa("message",k),O!==void 0&&Yg("zip215",O),s&&(k=s(k));const W=uA(v.slice(D,2*D));let L,N,H;try{L=S.fromHex(x,O),N=S.fromHex(v.slice(0,D),O),H=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=P(B,N.toRawBytes(),L.toRawBytes(),k);return N.add(L.multiplyUnsafe(J)).subtract(H).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RJ=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),zge=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Sft=BigInt(1),$ge=BigInt(2);BigInt(3);const kft=BigInt(5),vft=BigInt(8);function Aft(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=RJ,a=n*n%i*n%i,c=no(a,$ge,i)*a%i,u=no(c,Sft,i)*n%i,l=no(u,kft,i)*u%i,d=no(l,e,i)*l%i,y=no(d,t,i)*d%i,h=no(y,r,i)*y%i,m=no(h,s,i)*h%i,f=no(m,s,i)*h%i,g=no(f,e,i)*l%i;return{pow_p_5_8:no(g,$ge,i)*n%i,b2:a}}function wft(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function Ift(n,e){const t=RJ,r=bi(e*e*e,t),s=bi(r*r*e,t),i=Aft(n*s).pow_p_5_8;let o=bi(n*r*i,t);const a=bi(e*o*o,t),c=o,u=bi(o*zge,t),l=a===n,d=a===bi(-n,t),y=a===bi(-n*zge,t);return l&&(o=c),(d||y)&&(o=u),cft(o,t)&&(o=bi(-o,t)),{isValid:l||d,value:o}}const Pft=(()=>nEe(RJ,void 0,!0))(),_ft=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Pft,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:vft,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:jdt,randomBytes:j_e,adjustScalarBytes:wft,uvRatio:Ift}))(),yT=(()=>bft(_ft))(),Eft=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jm=new Uint32Array(64);class xft extends H_e{constructor(){super(64,32,8,!1),this.A=Zm[0]|0,this.B=Zm[1]|0,this.C=Zm[2]|0,this.D=Zm[3]|0,this.E=Zm[4]|0,this.F=Zm[5]|0,this.G=Zm[6]|0,this.H=Zm[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Jm[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=Jm[d-15],h=Jm[d-2],m=Fd(y,7)^Fd(y,18)^y>>>3,f=Fd(h,17)^Fd(h,19)^h>>>10;Jm[d]=f+Jm[d-7]+m+Jm[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Fd(a,6)^Fd(a,11)^Fd(a,25),h=l+y+Idt(a,c,u)+Eft[d]+Jm[d]|0,f=(Fd(r,2)^Fd(r,13)^Fd(r,22))+Pdt(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Jm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const _q=PJ(()=>new xft);class Tft extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function Rft(n){return Az(n)&&typeof n[Symbol.iterator]=="function"}function Az(n){return typeof n=="object"&&n!=null}function MO(n){return Az(n)&&!Array.isArray(n)}function Pd(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function Cft(n){const{done:e,value:t}=n.next();return e?void 0:t}function Mft(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Pd(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*Dge(n,e,t,r){Rft(n)||(n=[n]);for(const s of n){const i=Mft(s,e,t,r);i&&(yield i)}}function*CJ(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=CJ(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):Az(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class mh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return Dge(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return Dge(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return aEe(e,this,t)}create(e,t){return bt(e,this,t)}is(e){return cEe(e,this)}mask(e,t){return Bft(e,this,t)}validate(e,t={}){return wz(e,this,t)}}function aEe(n,e,t){const r=wz(n,e,{message:t});if(r[0])throw r[0]}function bt(n,e,t){const r=wz(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function Bft(n,e,t){const r=wz(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function cEe(n,e){return!wz(n,e)[0]}function wz(n,e,t={}){const r=CJ(n,e,t),s=Cft(r);if(s[0])return[new Tft(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function mk(n,e){return new mh({type:n,schema:null,validator:e})}function zft(){return mk("any",()=>!0)}function _t(n){return new mh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Pd(e)}`}})}function nh(){return mk("boolean",n=>typeof n=="boolean")}function MJ(n){return mk("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${Pd(e)}`)}function Ri(n){const e=Pd(n),t=typeof n;return new mh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${Pd(r)}`}})}function $ft(){return mk("never",()=>!1)}function zt(n){return new mh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function be(){return mk("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${Pd(n)}`)}function mr(n){return new mh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function uEe(n,e){return new mh({type:"record",schema:null,*entries(t){if(Az(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return MO(t)||`Expected an object, but received: ${Pd(t)}`},coercer(t){return MO(t)?{...t}:t}})}function Ze(){return mk("string",n=>typeof n=="string"||`Expected a string, but received: ${Pd(n)}`)}function BJ(n){const e=$ft();return new mh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${Pd(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function ze(n){const e=Object.keys(n);return new mh({type:"type",schema:n,*entries(t){if(Az(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return MO(t)||`Expected an object, but received: ${Pd(t)}`},coercer(t){return MO(t)?{...t}:t}})}function $c(n){const e=n.map(t=>t.type).join(" | ");return new mh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=CJ(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Pd(t)}`,...s]}})}function pT(){return mk("unknown",()=>!0)}function Iz(n,e,t){return new mh({...n,coercer:(r,s)=>cEe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const lEe=[],dEe=[],fEe=[],Dft=BigInt(0),CR=BigInt(1),Oft=BigInt(2),Kft=BigInt(7),Lft=BigInt(256),Wft=BigInt(113);for(let n=0,e=CR,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],lEe.push(2*(5*r+t)),dEe.push((n+1)*(n+2)/2%64);let s=Dft;for(let i=0;i<7;i++)e=(e<<CR^(e>>Kft)*Wft)%Lft,e&Oft&&(s^=CR<<(CR<<BigInt(i))-CR);fEe.push(s)}const[Nft,Fft]=Y_e(fEe,!0),Oge=(n,e,t)=>t>32?X_e(n,e,t):Z_e(n,e,t),Kge=(n,e,t)=>t>32?Q_e(n,e,t):J_e(n,e,t);function Uft(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=Oge(u,l,1)^t[a],y=Kge(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=dEe[o],c=Oge(s,i,a),u=Kge(s,i,a),l=lEe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=Nft[r],n[1]^=Fft[r]}t.fill(0)}class zJ extends IJ{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,CO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Sdt(this.state)}keccak(){Ege||xge(this.state32),Uft(this.state32,this.rounds),Ege||xge(this.state32),this.posOut=0,this.pos=0}update(e){sw(this);const{blockLen:t,state:r}=this;e=s6(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){sw(this,!1),kz(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return CO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(q_e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new zJ(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Vft=(n,e,t)=>PJ(()=>new zJ(e,n,t)),Lge=Vft(1,136,256/8);class hEe extends IJ{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,bdt(e);const r=s6(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return sw(this),this.iHash.update(e),this}digestInto(e){sw(this),kz(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const gEe=(n,e,t)=>new hEe(n,e).update(t).digest();gEe.create=(n,e)=>new hEe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Wge(n){n.lowS!==void 0&&Yg("lowS",n.lowS),n.prehash!==void 0&&Yg("prehash",n.prehash)}function qft(n){const e=TJ(n);mT(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:jft,hexToBytes:Hft}=nft,B1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=B1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:jft(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=B1,t=typeof n=="string"?Hft(n):n;vz(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=B1._parseInt(t.subarray(2)),{d:o,l:a}=B1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Ry=BigInt(0),ya=BigInt(1);BigInt(2);const Nge=BigInt(3);BigInt(4);function Gft(n){const e=qft(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return MS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return o6(m,ya,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(RS(m)&&(m=CS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:q1(sa("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=bi(p,S)),Pl("private key",p,ya,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=rB((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=rB(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(sa("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),_=t.eql(t.mul(b,w),t.mul(I,S));return A&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,Nge),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,_=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),P=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),_=t.mul(S,I),_=t.add(_,_),w=t.mul(f,_),A=t.mul(b,P),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),_=t.mul(b,_),P=t.mul(f,P),R=t.sub(E,P),R=t.mul(f,R),R=t.add(R,_),_=t.add(E,E),E=t.add(_,E),E=t.add(E,P),E=t.mul(E,R),A=t.add(A,E),P=t.mul(p,I),P=t.add(P,P),E=t.mul(P,R),w=t.sub(w,E),_=t.mul(P,M),_=t.add(_,_),_=t.add(_,_),new d(w,A,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,_=t.ZERO,E=t.ZERO;const M=e.a,P=t.mul(e.b,Nge);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(P,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),_=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(P,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),_=t.add(_,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,_,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){Pl("scalar",f,Ry,e.n);const g=d.ZERO;if(f===Ry)return g;if(f===ya)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,_=g,E=this;for(;p>Ry||w>Ry;)p&ya&&(A=A.add(E)),w&ya&&(_=_.add(E)),E=E.double(),p>>=ya,w>>=ya;return S&&(A=A.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),A.add(_)}multiply(f){const{endo:g,n:b}=e;Pl("scalar",f,ya,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:_}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:P,f:R}=this.wNAF(_);E=h.constTimeNegate(I,E),P=h.constTimeNegate(A,P),P=new d(t.mul(P.px,g.beta),P.py,P.pz),S=E.add(P),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===Ry||A===ya||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===ya)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===ya?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Yg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Yg("isCompressed",f),CS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=oEe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function Yft(n){const e=TJ(n);return mT(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Zft(n){const e=Yft(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return bi(T,r)}function a(T){return Pq(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=Gft({...e,toBytes(T,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=MS;return Yg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(T){const v=T.length,k=T[0],x=T.subarray(1);if(v===s&&(k===2||k===3)){const C=q1(x);if(!o6(C,ya,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let O;try{O=t.sqrt(B)}catch(L){const N=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+N)}const D=(O&ya)===ya;return(k&1)===1!==D&&(O=t.neg(O)),{x:C,y:O}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>CS(ow(T,e.nByteLength));function h(T){const v=r>>ya;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>q1(T.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=sa("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=B1.toSig(sa("DER",v));return new g(k,x)}assertValidity(){Pl("r",this.r,ya,r),Pl("s",this.s,ya,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=A(sa("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const O=C===2||C===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(C&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),N=o(-B*L),H=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,N,H);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return iw(this.toDERHex())}toDERHex(){return B1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return iw(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=iEe(e.n);return hft(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=RS(T),k=typeof T=="string",x=(v||k)&&T.length;return v?x===s||x===i:k?x===2*s||x===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=q1(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},_=xJ(e.nBitLength);function E(T){return Pl(`num < 2^${e.nBitLength}`,T,Ry,_),ow(T,e.nByteLength)}function M(T,v,k=P){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:O,extraEntropy:D}=k;B==null&&(B=!0),T=sa("msgHash",T),Wge(k),O&&(T=sa("prehashed msgHash",x(T)));const W=A(T),L=u(v),N=[E(L),E(W)];if(D!=null&&D!==!1){const Y=D===!0?C(t.BYTES):D;N.push(sa("extraEntropy",Y))}const H=MS(...N),J=W;function Q(Y){const X=w(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Ry)return;const ne=o(re*o(J+ee*L));if(ne===Ry)return;let ve=(se.x===ee?0:2)|Number(se.y&ya),Pe=ne;return B&&h(ne)&&(Pe=m(ne),ve^=1),new g(ee,Pe,ve)}return{seed:H,k2sig:Q}}const P={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=P){const{seed:x,k2sig:C}=M(T,v,k),B=e;return tEe(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function z(T,v,k,x=R){var se;const C=T;if(v=sa("msgHash",v),k=sa("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");Wge(x);const{lowS:B,prehash:O}=x;let D,W;try{if(typeof C=="string"||RS(C))try{D=g.fromDER(C)}catch(ee){if(!(ee instanceof B1.Err))throw ee;D=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:N}=D,H=A(v),J=a(N),Q=o(H*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Jft(n){return{hash:n,hmac:(e,...t)=>gEe(n,e,Adt(...t)),randomBytes:j_e}}function Xft(n,e){const t=r=>Zft({...n,...Jft(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mEe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Fge=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Qft=BigInt(1),Eq=BigInt(2),Uge=(n,e)=>(n+e/Eq)/e;function eht(n){const e=mEe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=no(l,t,e)*l%e,y=no(d,t,e)*l%e,h=no(y,Eq,e)*u%e,m=no(h,s,e)*h%e,f=no(m,i,e)*m%e,g=no(f,a,e)*f%e,b=no(g,c,e)*g%e,S=no(b,a,e)*f%e,p=no(S,t,e)*l%e,I=no(p,o,e)*m%e,w=no(I,r,e)*u%e,A=no(w,Eq,e);if(!xq.eql(xq.sqr(A),n))throw new Error("Cannot find square root");return A}const xq=nEe(mEe,void 0,void 0,{sqrt:eht}),a6=Xft({a:BigInt(0),b:BigInt(7),Fp:xq,n:Fge,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Fge,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Qft*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=Uge(i*n,e),c=Uge(-r*n,e);let u=bi(n-a*t-c*s,e),l=bi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},_q);BigInt(0);a6.ProjectivePoint;const tht=yT.utils.randomPrivateKey,Vge=()=>{const n=yT.utils.randomPrivateKey(),e=BO(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},BO=yT.getPublicKey;function qge(n){try{return yT.ExtendedPoint.fromHex(n),!0}catch{return!1}}const $J=(n,e)=>yT.sign(n,e.slice(0,32)),rht=yT.verify,nn=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class DJ{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(nm(U2,this))}static decode(e){return sm(U2,this,e)}static decodeUnchecked(e){return im(U2,this,e)}}class nht extends DJ{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const U2=new Map;var yEe;const pEe=32,Hf=32;function sht(n){return n._bn!==void 0}let jge=1;class at extends DJ{constructor(e){if(super({}),this._bn=void 0,sht(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Hf)throw new Error("Invalid public key input");this._bn=new Co(t)}else this._bn=new Co(e);if(this._bn.byteLength()>Hf)throw new Error("Invalid public key input")}}static unique(){const e=new at(jge);return jge+=1,new at(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Hf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=_q(s);return new at(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>pEe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,nn(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=_q(r);if(qge(s))throw new Error("Invalid seeds, address must fall off the curve");return new at(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new at(e);return qge(t.toBytes())}}yEe=at;at.default=new yEe("11111111111111111111111111111111");U2.set(at,{kind:"struct",fields:[["_bn","u256"]]});class iht{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=nn(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=nn(tht()),this._publicKey=nn(BO(this._secretKey))}get publicKey(){return new at(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const oht=new at("BPFLoader1111111111111111111111111111111111"),Hy=1280-40-8,c6=127,nB=64;class OJ extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(OJ.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class KJ extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(KJ.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Cv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Cv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class sB{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const An=(n="publicKey")=>ie(32,n),aht=(n="signature")=>ie(64,n),z1=(n="string")=>{const e=F([U("length"),U("lengthPadding"),ie(Vt(U(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>U().span+U().span+V.Buffer.from(i,"utf8").length,s},cht=(n="authorized")=>F([An("staker"),An("withdrawer")],n),uht=(n="lockup")=>F([_e("unixTimestamp"),_e("epoch"),An("custodian")],n),lht=(n="voteInit")=>F([An("nodePubkey"),An("authorizedVoter"),An("authorizedWithdrawer"),te("commission")],n),dht=(n="voteAuthorizeWithSeedArgs")=>F([U("voteAuthorizationType"),An("currentAuthorityDerivedKeyOwnerPubkey"),z1("currentAuthorityDerivedKeySeed"),An("newAuthorized")],n);function bEe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return bEe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function fu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Uu(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Vn(n,e){if(!n)throw new Error(e||"Assertion failed")}class u6{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new u6(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Vn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Vn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Vn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new at(c)),...r.map(([c])=>new at(c)),...s.map(([c])=>new at(c)),...i.map(([c])=>new at(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new at(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Vn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const SEe="Reached end of buffer unexpectedly";function Tf(n){if(n.length===0)throw new Error(SEe);return n.shift()}function hu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(SEe);return n.splice(...e)}class _d{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new at(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new sB(this.staticAccountKeys)}static compile(e){const t=u6.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new sB(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new _d({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Uu(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];Uu(f,y.length);let g=[];return Uu(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Uu(s,r.length);let i=V.Buffer.alloc(Hy);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=F([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=F([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(An("key"),e,"keys"),An("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>nn(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=Tf(t);if(r!==(r&c6))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Tf(t),i=Tf(t),o=fu(t);let a=[];for(let y=0;y<o;y++){const h=hu(t,0,Hf);a.push(new at(V.Buffer.from(h)))}const c=hu(t,0,Hf),u=fu(t);let l=[];for(let y=0;y<u;y++){const h=Tf(t),m=fu(t),f=hu(t,0,m),g=fu(t),b=hu(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new _d(d)}}class BS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new sB(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=u6.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new sB(a,s).compileInstructions(e.instructions);return new BS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Uu(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Uu(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Uu(i,this.addressTableLookups.length);const o=F([te("prefix"),F([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(An(),this.staticAccountKeys.length,"staticAccountKeys"),An("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Hy),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Hy);for(const r of this.compiledInstructions){const s=Array();Uu(s,r.accountKeyIndexes.length);const i=Array();Uu(i,r.data.length),e+=F([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Hy);for(const r of this.addressTableLookups){const s=Array();Uu(s,r.writableIndexes.length);const i=Array();Uu(i,r.readonlyIndexes.length),e+=F([An("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Tf(t),s=r&c6;Vn(r!==s,"Expected versioned message but received legacy message");const i=s;Vn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:Tf(t),numReadonlySignedAccounts:Tf(t),numReadonlyUnsignedAccounts:Tf(t)},a=[],c=fu(t);for(let m=0;m<c;m++)a.push(new at(hu(t,0,Hf)));const u=Ie.encode(hu(t,0,Hf)),l=fu(t),d=[];for(let m=0;m<l;m++){const f=Tf(t),g=fu(t),b=hu(t,0,g),S=fu(t),p=new Uint8Array(hu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=fu(t),h=[];for(let m=0;m<y;m++){const f=new at(hu(t,0,Hf)),g=fu(t),b=hu(t,0,g),S=fu(t),p=hu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new BS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const LJ={deserializeMessageVersion(n){const e=n[0],t=e&c6;return t===e?"legacy":t},deserialize:n=>{const e=LJ.deserializeMessageVersion(n);if(e==="legacy")return _d.from(n);if(e===0)return BS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Ag=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const fht=V.Buffer.alloc(nB).fill(0);class ws{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Jn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new ws(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new at(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{Vn(f.programIdIndex>=0),f.accounts.forEach(g=>Vn(g>=0))}),new _d({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=$J(r,s.secretKey);this._addSignature(s.publicKey,nn(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Vn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):rht(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Uu(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Vn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Vn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Vn(i.length<=Hy,`Transaction too large: ${i.length} > ${Hy}`),i}get keys(){return Vn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Vn(this.instructions.length===1),this.instructions[0].programId}get data(){return Vn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=fu(t);let s=[];for(let i=0;i<r;i++){const o=hu(t,0,nB);s.push(Ie.encode(V.Buffer.from(o)))}return Jn.populate(_d.from(t),s)}static populate(e,t=[]){const r=new Jn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(fht)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new ws({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class WJ{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Vn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Vn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new ws({programId:g,data:nn(m.data),keys:f}))}return new WJ({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return _d.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return BS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class NJ{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Vn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(nB));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Uu(t,this.signatures.length);const r=F([ie(t.length,"encodedSignaturesLength"),we(aht(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=fu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(hu(t,0,nB)));const i=LJ.deserialize(new Uint8Array(t));return new NJ(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Vn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=$J(t,s.secretKey)}}addSignature(e,t){Vn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Vn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const hht=160,ght=64,mht=hht/ght,kEe=1e3/mht,af=new at("SysvarC1ock11111111111111111111111111111111"),yht=new at("SysvarEpochSchedu1e111111111111111111111111"),pht=new at("Sysvar1nstructions1111111111111111111111111"),TD=new at("SysvarRecentB1ockHashes11111111111111111111"),aw=new at("SysvarRent111111111111111111111111111111111"),bht=new at("SysvarRewards111111111111111111111111111111"),Sht=new at("SysvarS1otHashes111111111111111111111111111"),kht=new at("SysvarS1otHistory11111111111111111111111111"),RD=new at("SysvarStakeHistory1111111111111111111111111");class iB extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const vht={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Qt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function Tq(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new iB({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function l1(n){return new Promise(e=>setTimeout(e,n))}function Bn(n,e){const t=n.layout.span>=0?n.layout.span:bEe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function os(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const vEe=Ae("lamportsPerSignature"),AEe=F([U("version"),U("state"),An("authorizedPubkey"),An("nonce"),F([vEe],"feeCalculator")]),Rq=AEe.span;class l6{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=AEe.decode(nn(e),0);return new l6({authorizedPubkey:new at(t.authorizedPubkey),nonce:new at(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const Aht=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},wht=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=Aht(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return om(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=nc(o,n);return r(u,a,c)},i},cw=wht(8);class Iht{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ws))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=os(Ws.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new at(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=os(Ws.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=os(Ws.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new at(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=os(Ws.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=os(Ws.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new at(t),seed:r,space:s,programId:new at(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=os(Ws.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new at(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=os(Ws.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new at(t),seed:r,programId:new at(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=os(Ws.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new at(t),seed:r,lamports:s,space:i,programId:new at(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=os(Ws.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new at(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),os(Ws.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=os(Ws.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=os(Ws.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new at(t)}}static checkProgramId(e){if(!e.equals(Va.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ws=Object.freeze({Create:{index:0,layout:F([U("instruction"),_e("lamports"),_e("space"),An("programId")])},Assign:{index:1,layout:F([U("instruction"),An("programId")])},Transfer:{index:2,layout:F([U("instruction"),cw("lamports")])},CreateWithSeed:{index:3,layout:F([U("instruction"),An("base"),z1("seed"),_e("lamports"),_e("space"),An("programId")])},AdvanceNonceAccount:{index:4,layout:F([U("instruction")])},WithdrawNonceAccount:{index:5,layout:F([U("instruction"),_e("lamports")])},InitializeNonceAccount:{index:6,layout:F([U("instruction"),An("authorized")])},AuthorizeNonceAccount:{index:7,layout:F([U("instruction"),An("authorized")])},Allocate:{index:8,layout:F([U("instruction"),_e("space")])},AllocateWithSeed:{index:9,layout:F([U("instruction"),An("base"),z1("seed"),_e("space"),An("programId")])},AssignWithSeed:{index:10,layout:F([U("instruction"),An("base"),z1("seed"),An("programId")])},TransferWithSeed:{index:11,layout:F([U("instruction"),cw("lamports"),z1("seed"),An("programId")])},UpgradeNonceAccount:{index:12,layout:F([U("instruction")])}});class Va{constructor(){}static createAccount(e){const t=Ws.Create,r=Bn(t,{lamports:e.lamports,space:e.space,programId:nn(e.programId.toBuffer())});return new ws({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Ws.TransferWithSeed;t=Bn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:nn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Ws.Transfer;t=Bn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ws({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Ws.AssignWithSeed;t=Bn(s,{base:nn(e.basePubkey.toBuffer()),seed:e.seed,programId:nn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ws.Assign;t=Bn(s,{programId:nn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ws({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Ws.CreateWithSeed,r=Bn(t,{base:nn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:nn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ws({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Jn;"basePubkey"in e&&"seed"in e?t.add(Va.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Rq,programId:this.programId})):t.add(Va.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Rq,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Ws.InitializeNonceAccount,r=Bn(t,{authorized:nn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:TD,isSigner:!1,isWritable:!1},{pubkey:aw,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ws(s)}static nonceAdvance(e){const t=Ws.AdvanceNonceAccount,r=Bn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:TD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ws(s)}static nonceWithdraw(e){const t=Ws.WithdrawNonceAccount,r=Bn(t,{lamports:e.lamports});return new ws({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:TD,isSigner:!1,isWritable:!1},{pubkey:aw,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Ws.AuthorizeNonceAccount,r=Bn(t,{authorized:nn(e.newAuthorizedPubkey.toBuffer())});return new ws({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Ws.AllocateWithSeed;t=Bn(s,{base:nn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:nn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ws.Allocate;t=Bn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ws({keys:r,programId:this.programId,data:t})}}Va.programId=new at("11111111111111111111111111111111");const Pht=Hy-300;class zS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/zS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Jn,h.add(Va.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Jn,h.add(Va.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Jn,h.add(Va.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Jn().add(Va.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await Tq(e,h,[t,r],{commitment:"confirmed"})}const o=F([U("instruction"),U("offset"),U("bytesLength"),U("bytesLengthPadding"),we(te("byte"),Vt(U(),-8),"bytes")]),a=zS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Jn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(Tq(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await l1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=F([U("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Jn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:aw,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(kEe/2)))}}return!0}}zS.chunkSize=Pht;const _ht=new at("BPFLoader2111111111111111111111111111111111");class Eht{static getMinNumSignatures(e){return zS.getMinNumSignatures(e)}static load(e,t,r,s,i){return zS.load(e,t,r,i,s)}}function xht(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var EN,Hge;function Tht(){if(Hge)return EN;Hge=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return EN=function(r){var s=t(r,!1);if(s!==void 0)return""+s},EN}var Rht=Tht(),Gge=xht(Rht);const MR=32;function xN(n){let e=0;for(;n>1;)n/=2,e++;return e}function Cht(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class wEe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=xN(Cht(e+MR+1))-xN(MR)-1,r=this.getSlotsInEpoch(t),s=e-(r-MR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*MR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+xN(MR)):this.slotsPerEpoch}}var Mht=globalThis.fetch;class Bht extends Rb{constructor(e,t,r){const s=i=>{const o=Mb(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function zht(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Yge=56;class Cq{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=zht($ht,e),r=e.length-Yge;Vn(r>=0,"lookup table is invalid"),Vn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=F([we(An(),s,"addresses")]).decode(e.slice(Yge));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new at(t.authority[0]):void 0,addresses:i.map(o=>new at(o))}}}const $ht={index:1,layout:F([U("typeIndex"),cw("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(An(),Vt(te(),-1),"authority")])},Dht=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Oht(n){const e=n.match(Dht);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Hi=Iz(MJ(at),Ze(),n=>new at(n)),IEe=BJ([Ze(),Ri("base64")]),FJ=Iz(MJ(V.Buffer),IEe,n=>V.Buffer.from(n[0],"base64")),PEe=30*1e3;function Kht(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Cs(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function Zge(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function _Ee(n){return $c([ze({jsonrpc:Ri("2.0"),id:Ze(),result:n}),ze({jsonrpc:Ri("2.0"),id:Ze(),error:ze({code:pT(),message:Ze(),data:mr(zft())})})])}const Lht=_Ee(pT());function Gr(n){return Iz(_Ee(n),Lht,e=>"error"in e?e:{...e,result:bt(e.result,n)})}function mo(n){return Gr(ze({context:ze({slot:be()}),value:n}))}function d6(n){return ze({context:ze({slot:be()}),value:n})}function TN(n,e){return n===0?new BS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new at(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new _d(e)}const Wht=ze({foundation:be(),foundationTerm:be(),initial:be(),taper:be(),terminal:be()}),Nht=Gr(_t(zt(ze({epoch:be(),effectiveSlot:be(),amount:be(),postBalance:be(),commission:mr(zt(be()))})))),Fht=_t(ze({slot:be(),prioritizationFee:be()})),Uht=ze({total:be(),validator:be(),foundation:be(),epoch:be()}),Vht=ze({epoch:be(),slotIndex:be(),slotsInEpoch:be(),absoluteSlot:be(),blockHeight:mr(be()),transactionCount:mr(be())}),qht=ze({slotsPerEpoch:be(),leaderScheduleSlotOffset:be(),warmup:nh(),firstNormalEpoch:be(),firstNormalSlot:be()}),jht=uEe(Ze(),_t(be())),yk=zt($c([ze({}),Ze()])),Hht=ze({err:yk}),Ght=Ri("receivedSignature"),Yht=ze({"solana-core":Ze(),"feature-set":mr(be())}),Zht=ze({program:Ze(),programId:Hi,parsed:pT()}),Jht=ze({programId:Hi,accounts:_t(Hi),data:Ze()}),Jge=mo(ze({err:zt($c([ze({}),Ze()])),logs:zt(_t(Ze())),accounts:mr(zt(_t(zt(ze({executable:nh(),owner:Ze(),lamports:be(),data:_t(Ze()),rentEpoch:mr(be())}))))),unitsConsumed:mr(be()),returnData:mr(zt(ze({programId:Ze(),data:BJ([Ze(),Ri("base64")])}))),innerInstructions:mr(zt(_t(ze({index:be(),instructions:_t($c([Zht,Jht]))}))))})),Xht=mo(ze({byIdentity:uEe(Ze(),_t(be())),range:ze({firstSlot:be(),lastSlot:be()})}));function Qht(n,e,t,r,s,i){const o=t||Mht;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new Cb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},emt)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await l1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function egt(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function tgt(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const rgt=Gr(Wht),ngt=Gr(Uht),sgt=Gr(Fht),igt=Gr(Vht),ogt=Gr(qht),agt=Gr(jht),cgt=Gr(be()),ugt=mo(ze({total:be(),circulating:be(),nonCirculating:be(),nonCirculatingAccounts:_t(Hi)})),Mq=ze({amount:Ze(),uiAmount:zt(be()),decimals:be(),uiAmountString:mr(Ze())}),lgt=mo(_t(ze({address:Hi,amount:Ze(),uiAmount:zt(be()),decimals:be(),uiAmountString:mr(Ze())}))),dgt=mo(_t(ze({pubkey:Hi,account:ze({executable:nh(),owner:Hi,lamports:be(),data:FJ,rentEpoch:be()})}))),Bq=ze({program:Ze(),parsed:pT(),space:be()}),fgt=mo(_t(ze({pubkey:Hi,account:ze({executable:nh(),owner:Hi,lamports:be(),data:Bq,rentEpoch:be()})}))),hgt=mo(_t(ze({lamports:be(),address:Hi}))),oB=ze({executable:nh(),owner:Hi,lamports:be(),data:FJ,rentEpoch:be()}),ggt=ze({pubkey:Hi,account:oB}),mgt=Iz($c([MJ(V.Buffer),Bq]),$c([IEe,Bq]),n=>Array.isArray(n)?bt(n,FJ):n),zq=ze({executable:nh(),owner:Hi,lamports:be(),data:mgt,rentEpoch:be()}),ygt=ze({pubkey:Hi,account:zq}),pgt=ze({state:$c([Ri("active"),Ri("inactive"),Ri("activating"),Ri("deactivating")]),active:be(),inactive:be()}),bgt=Gr(_t(ze({signature:Ze(),slot:be(),err:yk,memo:zt(Ze()),blockTime:mr(zt(be()))}))),Sgt=Gr(_t(ze({signature:Ze(),slot:be(),err:yk,memo:zt(Ze()),blockTime:mr(zt(be()))}))),kgt=ze({subscription:be(),result:d6(oB)}),vgt=ze({pubkey:Hi,account:oB}),Agt=ze({subscription:be(),result:d6(vgt)}),wgt=ze({parent:be(),slot:be(),root:be()}),Igt=ze({subscription:be(),result:wgt}),Pgt=$c([ze({type:$c([Ri("firstShredReceived"),Ri("completed"),Ri("optimisticConfirmation"),Ri("root")]),slot:be(),timestamp:be()}),ze({type:Ri("createdBank"),parent:be(),slot:be(),timestamp:be()}),ze({type:Ri("frozen"),slot:be(),timestamp:be(),stats:ze({numTransactionEntries:be(),numSuccessfulTransactions:be(),numFailedTransactions:be(),maxTransactionsPerEntry:be()})}),ze({type:Ri("dead"),slot:be(),timestamp:be(),err:Ze()})]),_gt=ze({subscription:be(),result:Pgt}),Egt=ze({subscription:be(),result:d6($c([Hht,Ght]))}),xgt=ze({subscription:be(),result:be()}),Tgt=ze({pubkey:Ze(),gossip:zt(Ze()),tpu:zt(Ze()),rpc:zt(Ze()),version:zt(Ze())}),Xge=ze({votePubkey:Ze(),nodePubkey:Ze(),activatedStake:be(),epochVoteAccount:nh(),epochCredits:_t(BJ([be(),be(),be()])),commission:be(),lastVote:be(),rootSlot:zt(be())}),Rgt=Gr(ze({current:_t(Xge),delinquent:_t(Xge)})),Cgt=$c([Ri("processed"),Ri("confirmed"),Ri("finalized")]),Mgt=ze({slot:be(),confirmations:zt(be()),err:yk,confirmationStatus:mr(Cgt)}),Bgt=mo(_t(zt(Mgt))),zgt=Gr(be()),EEe=ze({accountKey:Hi,writableIndexes:_t(be()),readonlyIndexes:_t(be())}),UJ=ze({signatures:_t(Ze()),message:ze({accountKeys:_t(Ze()),header:ze({numRequiredSignatures:be(),numReadonlySignedAccounts:be(),numReadonlyUnsignedAccounts:be()}),instructions:_t(ze({accounts:_t(be()),data:Ze(),programIdIndex:be()})),recentBlockhash:Ze(),addressTableLookups:mr(_t(EEe))})}),xEe=ze({pubkey:Hi,signer:nh(),writable:nh(),source:mr($c([Ri("transaction"),Ri("lookupTable")]))}),TEe=ze({accountKeys:_t(xEe),signatures:_t(Ze())}),REe=ze({parsed:pT(),program:Ze(),programId:Hi}),CEe=ze({accounts:_t(Hi),data:Ze(),programId:Hi}),$gt=$c([CEe,REe]),Dgt=$c([ze({parsed:pT(),program:Ze(),programId:Ze()}),ze({accounts:_t(Ze()),data:Ze(),programId:Ze()})]),MEe=Iz($gt,Dgt,n=>"accounts"in n?bt(n,CEe):bt(n,REe)),BEe=ze({signatures:_t(Ze()),message:ze({accountKeys:_t(xEe),instructions:_t(MEe),recentBlockhash:Ze(),addressTableLookups:mr(zt(_t(EEe)))})}),zO=ze({accountIndex:be(),mint:Ze(),owner:mr(Ze()),programId:mr(Ze()),uiTokenAmount:Mq}),zEe=ze({writable:_t(Hi),readonly:_t(Hi)}),f6=ze({err:yk,fee:be(),innerInstructions:mr(zt(_t(ze({index:be(),instructions:_t(ze({accounts:_t(be()),data:Ze(),programIdIndex:be()}))})))),preBalances:_t(be()),postBalances:_t(be()),logMessages:mr(zt(_t(Ze()))),preTokenBalances:mr(zt(_t(zO))),postTokenBalances:mr(zt(_t(zO))),loadedAddresses:mr(zEe),computeUnitsConsumed:mr(be())}),VJ=ze({err:yk,fee:be(),innerInstructions:mr(zt(_t(ze({index:be(),instructions:_t(MEe)})))),preBalances:_t(be()),postBalances:_t(be()),logMessages:mr(zt(_t(Ze()))),preTokenBalances:mr(zt(_t(zO))),postTokenBalances:mr(zt(_t(zO))),loadedAddresses:mr(zEe),computeUnitsConsumed:mr(be())}),bT=$c([Ri(0),Ri("legacy")]),pk=ze({pubkey:Ze(),lamports:be(),postBalance:zt(be()),rewardType:zt(Ze()),commission:mr(zt(be()))}),Ogt=Gr(zt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:be(),transactions:_t(ze({transaction:UJ,meta:zt(f6),version:mr(bT)})),rewards:mr(_t(pk)),blockTime:zt(be()),blockHeight:zt(be())}))),Kgt=Gr(zt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:be(),rewards:mr(_t(pk)),blockTime:zt(be()),blockHeight:zt(be())}))),Lgt=Gr(zt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:be(),transactions:_t(ze({transaction:TEe,meta:zt(f6),version:mr(bT)})),rewards:mr(_t(pk)),blockTime:zt(be()),blockHeight:zt(be())}))),Wgt=Gr(zt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:be(),transactions:_t(ze({transaction:BEe,meta:zt(VJ),version:mr(bT)})),rewards:mr(_t(pk)),blockTime:zt(be()),blockHeight:zt(be())}))),Ngt=Gr(zt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:be(),transactions:_t(ze({transaction:TEe,meta:zt(VJ),version:mr(bT)})),rewards:mr(_t(pk)),blockTime:zt(be()),blockHeight:zt(be())}))),Fgt=Gr(zt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:be(),rewards:mr(_t(pk)),blockTime:zt(be()),blockHeight:zt(be())}))),Ugt=Gr(zt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:be(),transactions:_t(ze({transaction:UJ,meta:zt(f6)})),rewards:mr(_t(pk)),blockTime:zt(be())}))),Qge=Gr(zt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:be(),signatures:_t(Ze()),blockTime:zt(be())}))),RN=Gr(zt(ze({slot:be(),meta:zt(f6),blockTime:mr(zt(be())),transaction:UJ,version:mr(bT)}))),T$=Gr(zt(ze({slot:be(),transaction:BEe,meta:zt(VJ),blockTime:mr(zt(be())),version:mr(bT)}))),Vgt=mo(ze({blockhash:Ze(),feeCalculator:ze({lamportsPerSignature:be()})})),qgt=mo(ze({blockhash:Ze(),lastValidBlockHeight:be()})),jgt=mo(nh()),Hgt=ze({slot:be(),numTransactions:be(),numSlots:be(),samplePeriodSecs:be()}),Ggt=Gr(_t(Hgt)),Ygt=mo(zt(ze({feeCalculator:ze({lamportsPerSignature:be()})}))),Zgt=Gr(Ze()),Jgt=Gr(Ze()),Xgt=ze({err:yk,logs:_t(Ze()),signature:Ze()}),Qgt=ze({result:d6(Xgt),subscription:be()}),emt={"solana-client":"js/1.0.0-maintenance"};class tmt{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Cs(l),h=this._buildArgs([],d,void 0,y),m=Gge(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=bt(f,Gr(be()));if("error"in g)throw new Qt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=Kht(e),this._rpcWsEndpoint=r||Oht(e),this._rpcClient=Qht(e,s,i,o,a,c),this._rpcRequest=egt(this._rpcClient),this._rpcBatchRequest=tgt(this._rpcClient),this._rpcWebSocket=new Bht(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=bt(o,mo(be()));if("error"in a)throw new Qt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=bt(t,Gr(zt(be())));if("error"in r)throw new Qt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=bt(e,Gr(be()));if("error"in t)throw new Qt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=bt(e,cgt);if("error"in t)throw new Qt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=bt(r,ugt);if("error"in s)throw new Qt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=bt(s,mo(Mq));if("error"in i)throw new Qt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=bt(s,mo(Mq));if("error"in i)throw new Qt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Cs(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=bt(c,dgt);if("error"in u)throw new Qt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=bt(o,fgt);if("error"in a)throw new Qt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=bt(s,hgt);if("error"in i)throw new Qt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=bt(s,lgt);if("error"in i)throw new Qt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=bt(o,mo(zt(oB)));if("error"in a)throw new Qt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=bt(o,mo(zt(zq)));if("error"in a)throw new Qt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Cs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=bt(a,mo(_t(zt(zq))));if("error"in c)throw new Qt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Cs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=bt(a,mo(_t(zt(oB))));if("error"in c)throw new Qt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Cs(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=bt(a,Gr(pgt));if("error"in c)throw new Qt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Cs(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:Zge(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=_t(ggt),l=o.withContext===!0?bt(c,mo(u)):bt(c,Gr(u));if("error"in l)throw new Qt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=bt(o,Gr(_t(ygt)));if("error"in a)throw new Qt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Vn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:Ag.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:Ag.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await l1(1e3),i||(h=await y(),i))return;d({__type:Ag.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===Ag.PROCESSED)l=d.response;else throw new OJ(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:Ag.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await l1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===Ag.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await l1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Cv(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Cv(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Cv(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new Cv(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:Ag.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===Ag.PROCESSED)a=c.response;else throw new KJ(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=bt(e,Gr(_t(Tgt)));if("error"in t)throw new Qt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=bt(r,Rgt);if("error"in s)throw new Qt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Cs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=bt(i,Gr(be()));if("error"in o)throw new Qt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Cs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=bt(i,Gr(Ze()));if("error"in o)throw new Qt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=bt(s,Gr(_t(Hi)));if("error"in i)throw new Qt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Vn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=bt(s,Bgt);if("error"in i)throw new Qt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Cs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=bt(i,Gr(be()));if("error"in o)throw new Qt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=bt(r,rgt);if("error"in s)throw new Qt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Cs(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=bt(a,Nht);if("error"in c)throw new Qt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=bt(e,ngt);if("error"in t)throw new Qt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Cs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=bt(i,igt);if("error"in o)throw new Qt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=bt(e,ogt);if("error"in t)throw new Qt(t.error,"failed to get epoch schedule");const r=t.result;return new wEe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=bt(e,agt);if("error"in t)throw new Qt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=bt(s,zgt);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=bt(r,Vgt);if("error"in s)throw new Qt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=bt(t,Ggt);if("error"in r)throw new Qt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=bt(s,Ygt);if("error"in i)throw new Qt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=nn(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=bt(i,mo(zt(be())));if("error"in o)throw new Qt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=bt(s,sgt);if("error"in i)throw new Qt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Cs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=bt(i,qgt);if("error"in o)throw new Qt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=bt(o,jgt);if("error"in a)throw new Qt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=bt(e,Gr(Yht));if("error"in t)throw new Qt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=bt(e,Gr(Ze()));if("error"in t)throw new Qt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=bt(o,Lgt);if("error"in a)throw a.error;return a.result}case"none":{const a=bt(o,Kgt);if("error"in a)throw a.error;return a.result}default:{const a=bt(o,Ogt);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:TN(d,u.message)},version:d}))}:null}}}catch(a){throw new Qt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=bt(o,Ngt);if("error"in a)throw a.error;return a.result}case"none":{const a=bt(o,Fgt);if("error"in a)throw a.error;return a.result}default:{const a=bt(o,Wgt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Qt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=bt(i,Xht);if("error"in o)throw new Qt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=bt(o,RN);if("error"in a)throw new Qt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:TN(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=bt(o,T$);if("error"in a)throw new Qt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Cs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=bt(c,T$);if("error"in u)throw new Qt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Cs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=bt(c,RN);if("error"in u)throw new Qt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:TN(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=bt(s,Ugt);if("error"in i)throw new Qt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new _d(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Jn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=bt(i,Gr(_t(be())));if("error"in o)throw new Qt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=bt(s,Qge);if("error"in i)throw new Qt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=bt(s,Qge);if("error"in i)throw new Qt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=bt(s,RN);if("error"in i)throw new Qt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new _d(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Jn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=bt(s,T$);if("error"in i)throw new Qt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=bt(o,T$);if("error"in a)throw new Qt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=bt(i,bgt);if("error"in o)throw new Qt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=bt(i,Sgt);if("error"in o)throw new Qt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new Cq({key:e,state:Cq.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=l6.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=bt(r,Zgt);if("error"in s)throw new Qt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await l1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=PEe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await l1(kEe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Cs(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=bt(i,mo(be()));if("error"in o)throw new Qt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=bt(p,Jge);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Jn){let m=e;s=new Jn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Jn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=bt(y,Jge);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new iB({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=nn(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=bt(a,Jgt);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new iB({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=bt(e,kgt);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=Gge([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Vn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Cs(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=bt(e,Agt);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Cs(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:Zge(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=bt(e,Qgt);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=bt(e,Igt);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=bt(e,_gt);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=bt(e,Egt);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=bt(e,xgt);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class lA{constructor(e){this._keypair=void 0,this._keypair=e??Vge()}static generate(){return new lA(Vge())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=BO(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new lA({publicKey:r,secretKey:e})}static fromSeed(e){const t=BO(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new lA({publicKey:t,secretKey:r})}get publicKey(){return new at(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Og=Object.freeze({CreateLookupTable:{index:0,layout:F([U("instruction"),cw("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:F([U("instruction")])},ExtendLookupTable:{index:2,layout:F([U("instruction"),cw(),we(An(),Vt(U(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:F([U("instruction")])},CloseLookupTable:{index:4,layout:F([U("instruction")])}});class rmt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Og))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=os(Og.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=os(Og.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new at(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(qJ.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class qJ{constructor(){}static createLookupTable(e){const[t,r]=at.findProgramAddressSync([e.authority.toBuffer(),nc(BigInt(e.recentSlot),8)],this.programId),s=Og.CreateLookupTable,i=Bn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Va.programId,isSigner:!1,isWritable:!1}];return[new ws({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Og.FreezeLookupTable,r=Bn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ws({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Og.ExtendLookupTable,r=Bn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Va.programId,isSigner:!1,isWritable:!1}),new ws({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Og.DeactivateLookupTable,r=Bn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ws({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Og.CloseLookupTable,r=Bn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ws({programId:this.programId,keys:s,data:r})}}qJ.programId=new at("AddressLookupTab1e1111111111111111111111111");class nmt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Rf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=os(Rf.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=os(Rf.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=os(Rf.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=os(Rf.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(jJ.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Rf=Object.freeze({RequestUnits:{index:0,layout:F([te("instruction"),U("units"),U("additionalFee")])},RequestHeapFrame:{index:1,layout:F([te("instruction"),U("bytes")])},SetComputeUnitLimit:{index:2,layout:F([te("instruction"),U("units")])},SetComputeUnitPrice:{index:3,layout:F([te("instruction"),cw("microLamports")])}});class jJ{constructor(){}static requestUnits(e){const t=Rf.RequestUnits,r=Bn(t,e);return new ws({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Rf.RequestHeapFrame,r=Bn(t,e);return new ws({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Rf.SetComputeUnitLimit,r=Bn(t,e);return new ws({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Rf.SetComputeUnitPrice,r=Bn(t,{microLamports:BigInt(e.microLamports)});return new ws({keys:[],programId:this.programId,data:r})}}jJ.programId=new at("ComputeBudget111111111111111111111111111111");const eme=64,tme=32,rme=64,nme=F([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class h6{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Vn(t.length===tme,`Public Key must be ${tme} bytes but received ${t.length} bytes`),Vn(s.length===rme,`Signature must be ${rme} bytes but received ${s.length} bytes`);const o=nme.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return nme.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new ws({keys:[],programId:h6.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Vn(t.length===eme,`Private key must be ${eme} bytes but received ${t.length} bytes`);try{const i=lA.fromSecretKey(t),o=i.publicKey.toBytes(),a=$J(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}h6.programId=new at("Ed25519SigVerify111111111111111111111111111");const smt=(n,e)=>{const t=a6.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};a6.utils.isValidPrivateKey;const imt=a6.getPublicKey,sme=32,CN=20,ime=64,omt=11,MN=F([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class dA{constructor(){}static publicKeyToEthAddress(e){Vn(e.length===ime,`Public key must be ${ime} bytes but received ${e.length} bytes`);try{return V.Buffer.from(Lge(nn(e))).slice(-CN)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return dA.createInstructionWithEthAddress({ethAddress:dA.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Vn(a.length===CN,`Address must be ${CN} bytes but received ${a.length} bytes`);const c=1+omt,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(MN.span+r.length);return MN.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:nn(s),ethAddress:nn(a),recoveryId:i},h),h.fill(nn(r),MN.span),new ws({keys:[],programId:dA.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Vn(t.length===sme,`Private key must be ${sme} bytes but received ${t.length} bytes`);try{const i=nn(t),o=imt(i,!1).slice(1),a=V.Buffer.from(Lge(nn(r))),[c,u]=smt(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}dA.programId=new at("KeccakSecp256k11111111111111111111111111111");var $Ee;const DEe=new at("StakeConfig11111111111111111111111111111111");class OEe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class Pz{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}$Ee=Pz;Pz.default=new $Ee(0,0,at.default);class amt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Pa))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=os(Pa.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new OEe(new at(t.staker),new at(t.withdrawer)),lockup:new Pz(r.unixTimestamp,r.epoch,new at(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),os(Pa.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=os(Pa.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new at(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=os(Pa.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new at(i),newAuthorizedPubkey:new at(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=os(Pa.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),os(Pa.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=os(Pa.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),os(Pa.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(g6.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Pa=Object.freeze({Initialize:{index:0,layout:F([U("instruction"),cht(),uht()])},Authorize:{index:1,layout:F([U("instruction"),An("newAuthorized"),U("stakeAuthorizationType")])},Delegate:{index:2,layout:F([U("instruction")])},Split:{index:3,layout:F([U("instruction"),_e("lamports")])},Withdraw:{index:4,layout:F([U("instruction"),_e("lamports")])},Deactivate:{index:5,layout:F([U("instruction")])},Merge:{index:7,layout:F([U("instruction")])},AuthorizeWithSeed:{index:8,layout:F([U("instruction"),An("newAuthorized"),U("stakeAuthorizationType"),z1("authoritySeed"),An("authorityOwner")])}}),cmt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class g6{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||Pz.default,o=Pa.Initialize,a=Bn(o,{authorized:{staker:nn(r.staker.toBuffer()),withdrawer:nn(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:nn(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:aw,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new ws(c)}static createAccountWithSeed(e){const t=new Jn;t.add(Va.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Jn;t.add(Va.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=Pa.Delegate,o=Bn(i);return new Jn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:RD,isSigner:!1,isWritable:!1},{pubkey:DEe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=Pa.Authorize,c=Bn(a,{newAuthorized:nn(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Jn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Pa.AuthorizeWithSeed,l=Bn(u,{newAuthorized:nn(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:nn(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:af,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Jn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=Pa.Split,a=Bn(o,{lamports:i});return new ws({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Jn;return r.add(Va.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Jn;return u.add(Va.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(Va.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=Pa.Merge,o=Bn(i);return new Jn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:RD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=Pa.Withdraw,c=Bn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:RD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Jn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=Pa.Deactivate,i=Bn(s);return new Jn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}g6.programId=new at("Stake11111111111111111111111111111111111111");g6.space=200;class KEe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class umt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Cf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=os(Cf.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new KEe(new at(t.nodePubkey),new at(t.authorizedVoter),new at(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=os(Cf.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new at(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=os(Cf.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new at(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new at(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=os(Cf.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(ST.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Cf=Object.freeze({InitializeAccount:{index:0,layout:F([U("instruction"),lht()])},Authorize:{index:1,layout:F([U("instruction"),An("newAuthorized"),U("voteAuthorizationType")])},Withdraw:{index:3,layout:F([U("instruction"),_e("lamports")])},UpdateValidatorIdentity:{index:4,layout:F([U("instruction")])},AuthorizeWithSeed:{index:10,layout:F([U("instruction"),dht()])}}),lmt=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class ST{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=Cf.InitializeAccount,o=Bn(i,{voteInit:{nodePubkey:nn(s.nodePubkey.toBuffer()),authorizedVoter:nn(s.authorizedVoter.toBuffer()),authorizedWithdrawer:nn(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:aw,isSigner:!1,isWritable:!1},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new ws(a)}static createAccount(e){const t=new Jn;return t.add(Va.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=Cf.Authorize,a=Bn(o,{newAuthorized:nn(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Jn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=Cf.AuthorizeWithSeed,u=Bn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:nn(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:nn(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Jn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=Cf.Withdraw,a=Bn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Jn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return ST.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=Cf.UpdateValidatorIdentity,o=Bn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Jn().add({keys:a,programId:this.programId,data:o})}}ST.programId=new at("Vote111111111111111111111111111111111111111");ST.space=3762;const LEe=new at("Va1idator1nfo111111111111111111111111111111"),dmt=ze({name:Ze(),website:mr(Ze()),details:mr(Ze()),iconUrl:mr(Ze()),keybaseUsername:mr(Ze())});class HJ{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(fu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new at(hu(t,0,Hf)),a=Tf(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(LEe)&&s[1].isSigner){const i=z1().decode(V.Buffer.from(t)),o=JSON.parse(i);return aEe(o,dmt),new HJ(s[1].publicKey,o)}return null}}const fmt=new at("Vote111111111111111111111111111111111111111"),hmt=F([An("nodePubkey"),An("authorizedWithdrawer"),te("commission"),Ae(),we(F([Ae("slot"),U("confirmationCount")]),Vt(U(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(F([Ae("epoch"),An("authorizedVoter")]),Vt(U(),-8),"authorizedVoters"),F([we(F([An("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(F([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(U(),-8),"epochCredits"),F([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class GJ{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=hmt.decode(nn(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new GJ({nodePubkey:new at(r.nodePubkey),authorizedWithdrawer:new at(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(gmt),priorVoters:mmt(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function gmt({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new at(n)}}function ome({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new at(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function mmt({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(ome),...n.slice(0,e).map(ome)]}const ame={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function ymt(n,e){const t=e===!1?"http":"https";if(!n)return ame[t].devnet;const r=ame[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function pmt(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new iB({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const bmt=1e9;var Smt=Object.freeze(Object.defineProperty({__proto__:null,Account:iht,AddressLookupTableAccount:Cq,AddressLookupTableInstruction:rmt,AddressLookupTableProgram:qJ,Authorized:OEe,BLOCKHASH_CACHE_TIMEOUT_MS:PEe,BPF_LOADER_DEPRECATED_PROGRAM_ID:oht,BPF_LOADER_PROGRAM_ID:_ht,BpfLoader:Eht,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Rf,ComputeBudgetInstruction:nmt,ComputeBudgetProgram:jJ,Connection:tmt,Ed25519Program:h6,Enum:nht,EpochSchedule:wEe,FeeCalculatorLayout:vEe,Keypair:lA,LAMPORTS_PER_SOL:bmt,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Og,Loader:zS,Lockup:Pz,MAX_SEED_LENGTH:pEe,Message:_d,MessageAccountKeys:sB,MessageV0:BS,NONCE_ACCOUNT_LENGTH:Rq,NonceAccount:l6,PACKET_DATA_SIZE:Hy,PUBLIC_KEY_LENGTH:Hf,PublicKey:at,SIGNATURE_LENGTH_IN_BYTES:nB,SOLANA_SCHEMA:U2,STAKE_CONFIG_ID:DEe,STAKE_INSTRUCTION_LAYOUTS:Pa,SYSTEM_INSTRUCTION_LAYOUTS:Ws,SYSVAR_CLOCK_PUBKEY:af,SYSVAR_EPOCH_SCHEDULE_PUBKEY:yht,SYSVAR_INSTRUCTIONS_PUBKEY:pht,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:TD,SYSVAR_RENT_PUBKEY:aw,SYSVAR_REWARDS_PUBKEY:bht,SYSVAR_SLOT_HASHES_PUBKEY:Sht,SYSVAR_SLOT_HISTORY_PUBKEY:kht,SYSVAR_STAKE_HISTORY_PUBKEY:RD,Secp256k1Program:dA,SendTransactionError:iB,SolanaJSONRPCError:Qt,SolanaJSONRPCErrorCode:vht,StakeAuthorizationLayout:cmt,StakeInstruction:amt,StakeProgram:g6,Struct:DJ,SystemInstruction:Iht,SystemProgram:Va,Transaction:Jn,TransactionExpiredBlockheightExceededError:OJ,TransactionExpiredNonceInvalidError:Cv,TransactionExpiredTimeoutError:KJ,TransactionInstruction:ws,TransactionMessage:WJ,TransactionStatus:Ag,VALIDATOR_INFO_KEY:LEe,VERSION_PREFIX_MASK:c6,VOTE_PROGRAM_ID:fmt,ValidatorInfo:HJ,VersionedMessage:LJ,VersionedTransaction:NJ,VoteAccount:GJ,VoteAuthorizationLayout:lmt,VoteInit:KEe,VoteInstruction:umt,VoteProgram:ST,clusterApiUrl:ymt,sendAndConfirmRawTransaction:pmt,sendAndConfirmTransaction:Tq},Symbol.toStringTag,{value:"Module"})),kmt=Td(Smt),kT={},vmt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Amt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},gy;Object.defineProperty(kT,"__esModule",{value:!0});kT.FactionPermissions=void 0;const WEe=tr;let cme=kT.FactionPermissions=gy=class{constructor(e){this.setFaction=e}getPermissions(){const e=(0,WEe.fixedSizeArray)(8,0);return e[0]=this.setFaction?1<<0:0,e}static empty(){return new gy(!1)}static all(){return new gy(!0)}static setFactionPermissions(){return new gy(!0)}static fromPermissions(e){return new gy((e[0]&1<<0)!==0)}and(e){return new gy(this.setFaction&&e.setFaction)}or(e){return new gy(this.setFaction||e.setFaction)}eq(e){return this.setFaction===e.setFaction}contains(e){return this.setFaction||!e.setFaction}};kT.FactionPermissions=cme=gy=vmt([(0,WEe.staticImplements)(),Amt("design:paramtypes",[Boolean])],cme);var wmt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Imt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Pmt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},_2;Object.defineProperty(jf,"__esModule",{value:!0});jf.ProfileFactionAccount=jf.Faction=jf.profileFactionDataEquals=void 0;const $q=kmt,Dq=tr,R$=pA,ume=kT;function _mt(n,e){return n.version===e.version&&n.faction===e.faction&&n.profile.equals(e.profile)}jf.profileFactionDataEquals=_mt;var Oq;(function(n){n[n.Unaligned=0]="Unaligned",n[n.MUD=1]="MUD",n[n.ONI=2]="ONI",n[n.Ustur=3]="Ustur"})(Oq||(jf.Faction=Oq={}));let $O=jf.ProfileFactionAccount=_2=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static chooseFactionBareBones(e,t,r,s,i,o){const a=_2.findAddress(e,r);return{instructions:c=>Pmt(this,void 0,void 0,function*(){return{instruction:yield e.methods.chooseFaction(i,(0,Dq.getAnchorEnum)(Oq,s)).accountsStrict({key:t.publicKey(),funder:c.publicKey(),profile:r,faction:a[0],systemProgram:$q.SystemProgram.programId}).remainingAccounts((0,R$.getMetaAccountsFromProfilesOrRoles)(o)).instruction().then(u=>(0,R$.addKeyIndexesToTransactionInstruction)(u,o)),signers:[t]}}),faction:a}}static chooseFaction(e,t,r,s){const i=(0,R$.findKeyInProfile)((0,R$.profileKeyInputToFindKeyInput)(t,[e.programId],ume.FactionPermissions.setFactionPermissions()),ume.FactionPermissions);if("error"in i)throw i.error;const{profileKey:o,key:a,keyIndex:c}=i;return _2.chooseFactionBareBones(e,a,o,r,c,s)}static findAddress(e,t){return $q.PublicKey.findProgramAddressSync([Xe.Buffer.from("player_faction"),t.toBuffer()],e.programId)}static decodeData(e,t){return(0,Dq.decodeAccount)(e,t,_2)}};$O.ACCOUNT_NAME="profileFactionAccount";$O.MIN_DATA_SIZE=8+1+32+1+1;jf.ProfileFactionAccount=$O=_2=wmt([(0,Dq.staticImplements)(),Imt("design:paramtypes",[Object,$q.PublicKey])],$O);(function(n){var e=K&&K.__decorate||function(u,l,d,y){var h=arguments.length,m=h<3?l:y===null?y=Object.getOwnPropertyDescriptor(l,d):y,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,l,d,y);else for(var g=u.length-1;g>=0;g--)(f=u[g])&&(m=(h<3?f(m):h>3?f(l,d,m):f(l,d))||m);return h>3&&m&&Object.defineProperty(l,d,m),m},t=K&&K.__metadata||function(u,l){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,l)};Object.defineProperty(n,"__esModule",{value:!0}),n.ProfileFactionProgram=n.profileFactionErrorMap=n.PROFILE_FACTION_IDL=void 0;const r=cc,s=tr,i=eB,o=jf;var a=eB;Object.defineProperty(n,"PROFILE_FACTION_IDL",{enumerable:!0,get:function(){return a.IDL}}),n.profileFactionErrorMap=(0,s.generateErrorMap)(i.IDL);let c=n.ProfileFactionProgram=class extends s.ListenProgram{constructor(l){super(l,{profileFaction:o.ProfileFactionAccount})}static buildProgram(l,d,y){return new r.Program(i.IDL,l,d,y)}};n.ProfileFactionProgram=c=e([(0,s.staticImplements)(),t("design:paramtypes",[Object])],c)})(V_e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(V_e,n),t(kT,n),t(jf,n)})(n6);var m6={};(function(n){var e=K&&K.__decorate||function(c,u,l,d){var y=arguments.length,h=y<3?u:d===null?d=Object.getOwnPropertyDescriptor(u,l):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(c,u,l,d);else for(var f=c.length-1;f>=0;f--)(m=c[f])&&(h=(y<3?m(h):y>3?m(u,l,h):m(u,l))||h);return y>3&&h&&Object.defineProperty(u,l,h),h},t=K&&K.__metadata||function(c,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(c,u)},r;Object.defineProperty(n,"__esModule",{value:!0}),n.FleetShips=n.fleetShipsEquals=n.FLEET_SHIPS_MIN_DATA_SIZE=void 0;const s=qs,i=tr;n.FLEET_SHIPS_MIN_DATA_SIZE=8+1+1+32+4;function o(c,u){return c.version===u.version&&c.bump===u.bump&&c.fleet.equals(u.fleet)&&c.fleetShipsInfoCount==u.fleetShipsInfoCount}n.fleetShipsEquals=o;let a=r=class{constructor(u,l,d){this._data=u,this._key=l,this._fleetShips=d}get data(){return this._data}get key(){return this._key}get fleetShips(){return this._fleetShips||[]}static findAddress(u,l){return s.PublicKey.findProgramAddressSync([Xe.Buffer.from("FleetShips"),l.toBuffer()],u.programId)}static decodeData(u,l){return(0,i.decodeAccountWithRemaining)(u,l,r,(y,h)=>Array(h.fleetShipsInfoCount).fill(0).map((m,f)=>l.coder.types.decode("FleetShipsInfo",y.subarray(48*f).subarray(0,48))))}};n.FleetShips=a,a.ACCOUNT_NAME="fleetShips",a.MIN_DATA_SIZE=n.FLEET_SHIPS_MIN_DATA_SIZE,n.FleetShips=a=r=e([(0,i.staticImplements)(),t("design:paramtypes",[Object,s.PublicKey,Array])],a)})(m6);var em={},Emt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},xmt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},C$=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},CD;Object.defineProperty(em,"__esModule",{value:!0});em.MineItem=em.mineItemDataEquals=void 0;const lme=nl,Kq=qs,DO=tr;function Tmt(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.mint.equals(e.mint)&&(0,DO.arrayDeepEquals)(n.name,e.name,(t,r)=>t===r)&&n.numResourceAccounts.eq(e.numResourceAccounts)&&n.resourceHardness===e.resourceHardness&&n.bump===e.bump}em.mineItemDataEquals=Tmt;let uw=CD=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return Kq.PublicKey.findProgramAddressSync([Xe.Buffer.from("MineItem"),t.toBuffer(),r.toBuffer()],e.programId)}static registerMineItem(e,t,r,s,i,o){const a=CD.findAddress(e,i,s);return{mineItemKey:a,instructions:c=>C$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerMineItem(o).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:i},funder:c.publicKey(),mineItem:a[0],mint:s,systemProgram:Kq.SystemProgram.programId}).instruction(),signers:[t,c]}]})}}static fundMineItemBank(e,t,r,s,i){const o=(0,lme.getAssociatedTokenAddressSync)(t,e,!0);return(0,DO.transferToTokenAccount)(r,s,o,i)}static updateMineItem(e,t,r,s,i,o){const a=Object.assign(Object.assign({},o),{name:o.name==null?null:o.name,resourceHardness:o.resourceHardness==null?null:o.resourceHardness});return()=>C$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateMineItem(a).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:i},mineItem:s}).instruction(),signers:[t]}]})}static drainMineItemBank(e,t,r,s,i,o,a,c,u){return l=>C$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.drainMineItemBank(u).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},fundsTo:s==="funder"?l.publicKey():s,mineItem:i,tokenFrom:a,tokenTo:c,tokenProgram:lme.TOKEN_PROGRAM_ID}).instruction(),signers:[t]}]})}static deregisterMineItem(e,t,r,s,i,o,a){return c=>C$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.deregisterMineItem(a).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},fundsTo:s==="funder"?c.publicKey():s,mineItem:i}).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,DO.decodeAccount)(e,t,CD)}};em.MineItem=uw;uw.ACCOUNT_NAME="mineItem";uw.MIN_DATA_SIZE=8+1+32+32+64+8+2+1;uw.RESOURCE_HARDNESS_DECIMALS=100;em.MineItem=uw=CD=Emt([(0,DO.staticImplements)(),xmt("design:paramtypes",[Object,Kq.PublicKey])],uw);var ld={},Rmt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Cmt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},BN=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},MD;Object.defineProperty(ld,"__esModule",{value:!0});ld.Resource=ld.resourceDataEquals=ld.LocationType=void 0;const Lq=qs,NEe=tr;var dme;(function(n){n[n.Planet=1]="Planet"})(dme||(ld.LocationType=dme={}));function Mmt(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.location.equals(e.location)&&n.mineItem.equals(e.mineItem)&&n.locationType===e.locationType&&n.numMiners.eq(e.numMiners)&&n.amountMined.eq(e.amountMined)&&n.systemRichness===e.systemRichness&&n.bump===e.bump}ld.resourceDataEquals=Mmt;let lw=MD=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return Lq.PublicKey.findProgramAddressSync([Xe.Buffer.from("Resource"),t.toBuffer(),r.toBuffer()],e.programId)}static registerResource(e,t,r,s,i,o,a){const c=MD.findAddress(e,i,s);return{resourceKey:c,instructions:u=>BN(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerResource(a).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},funder:u.publicKey(),resource:c[0],location:s,mineItem:i,systemProgram:Lq.SystemProgram.programId}).instruction(),signers:[t,u]}]})}}static updateResource(e,t,r,s,i,o,a){return()=>BN(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateResource(Object.assign(Object.assign({},a),{systemRichness:a.systemRichness==null?null:a.systemRichness})).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},mineItem:i,resource:s}).instruction(),signers:[t]}]})}static deregisterResource(e,t,r,s,i,o,a,c,u){return l=>BN(this,void 0,void 0,function*(){return[{instruction:yield e.methods.deregisterResource(u).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:c},fundsTo:s==="funder"?l.publicKey():s,resource:i,mineItem:o,location:a}).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,NEe.decodeAccount)(e,t,MD)}};ld.Resource=lw;lw.ACCOUNT_NAME="resource";lw.MIN_DATA_SIZE=8+1+32+32+32+1+8+8+2+1;lw.SYSTEM_RICHNESS_DECIMALS=100;ld.Resource=lw=MD=Rmt([(0,NEe.staticImplements)(),Cmt("design:paramtypes",[Object,Lq.PublicKey])],lw);var y6={};(function(n){var e=K&&K.__decorate||function(m,f,g,b){var S=arguments.length,p=S<3?f:b===null?b=Object.getOwnPropertyDescriptor(f,g):b,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(m,f,g,b);else for(var w=m.length-1;w>=0;w--)(I=m[w])&&(p=(S<3?I(p):S>3?I(f,g,p):I(f,g))||p);return S>3&&p&&Object.defineProperty(f,g,p),p},t=K&&K.__metadata||function(m,f){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(m,f)},r=K&&K.__awaiter||function(m,f,g,b){function S(p){return p instanceof g?p:new g(function(I){I(p)})}return new(g||(g=Promise))(function(p,I){function w(E){try{_(b.next(E))}catch(M){I(M)}}function A(E){try{_(b.throw(E))}catch(M){I(M)}}function _(E){E.done?p(E.value):S(E.value).then(w,A)}_((b=b.apply(m,f||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.Sector=n.connectionFlagsFromByte=n.connectionFlagsToByte=n.connectionFlagsEquals=n.SECTOR_CONNECTION_MIN_DATA_SIZE=n.sectorConnectionEquals=n.sectorDataEquals=n.calculateDistance=void 0;const i=qs,o=tr,a=(m,f)=>Math.sqrt(f[0].sub(m[0]).sqr().add(f[1].sub(m[1]).sqr()).toNumber());n.calculateDistance=a;function c(m,f){return m.version===f.version&&m.gameId.equals(f.gameId)&&(0,o.arrayDeepEquals)(m.coordinates,f.coordinates,(g,b)=>g.eq(b))&&m.discoverer.equals(f.discoverer)&&(0,o.arrayDeepEquals)(m.name,f.name,(g,b)=>g===b)&&m.numStars===f.numStars&&m.numPlanets===f.numPlanets&&m.numMoons===f.numMoons&&m.numAsteroidBelts===f.numAsteroidBelts&&m.numConnections===f.numConnections&&m.lastScanTime.eq(f.lastScanTime)&&m.lastScanChance===f.lastScanChance&&m.bump===f.bump}n.sectorDataEquals=c;function u(m,f){return m.connectionSector.equals(f.connectionSector)&&m.subCoordinates[0].eq(f.subCoordinates[0])&&m.subCoordinates[1].eq(f.subCoordinates[1])&&m.flags===f.flags}n.sectorConnectionEquals=u,n.SECTOR_CONNECTION_MIN_DATA_SIZE=32+8*2+1;function l(m,f){return m.isJumpPoint===f.isJumpPoint}n.connectionFlagsEquals=l;function d(m){return m.isJumpPoint?1<<0:0}n.connectionFlagsToByte=d;function y(m){return{isJumpPoint:(m&1<<0)>0}}n.connectionFlagsFromByte=y;let h=s=class{constructor(f,g,b){this._data=f,this._key=g,this._connections=b}get data(){return this._data}get key(){return this._key}get connections(){return this._connections}static findAddress(f,g,b){return i.PublicKey.findProgramAddressSync([Xe.Buffer.from("Sector"),g.toBuffer(),b[0].toTwos(64).toArrayLike(Xe.Buffer,"le",8),b[1].toTwos(64).toArrayLike(Xe.Buffer,"le",8)],f.programId)}static decodeData(f,g){return(0,o.decodeAccountWithRemaining)(f,g,s,(b,S)=>Array(S.numConnections).fill(0).map((p,I)=>g.coder.types.decode("SectorConnection",b.subarray(n.SECTOR_CONNECTION_MIN_DATA_SIZE*I).subarray(0,n.SECTOR_CONNECTION_MIN_DATA_SIZE))))}static registerSector(f,g,b,S,p,I,w,A){const _=s.findAddress(f,p,I);return{sectorKey:_,instructions:E=>r(this,void 0,void 0,function*(){return[{instruction:yield f.methods.registerSector(I,(0,o.stringToByteArray)(w,64),A).accountsStrict({gameAndProfile:{key:g.publicKey(),profile:b,gameId:p},funder:E.publicKey(),discoverer:S,sector:_[0],systemProgram:i.SystemProgram.programId}).instruction(),signers:[g,E]}]})}}static discoverSector(f,g,b,S,p,I,w,A,_){const E=s.findAddress(f,I,A);return{sectorKey:E,instructions:M=>r(this,void 0,void 0,function*(){return[{instruction:yield f.methods.discoverSector({coordinates:A,keyIndex:_}).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:p,owningProfile:b,owningProfileFaction:S,key:g.publicKey()},gameId:I},gameState:w},funder:M.publicKey(),sector:E[0],systemProgram:i.SystemProgram.programId}).instruction(),signers:[g,M]}]})}}static addConnection(f,g,b,S,p,I,w,A,_,E,M){return P=>r(this,void 0,void 0,function*(){return[{instruction:yield f.methods.addConnection(w,d(A),_,d(E),M).accountsStrict({gameAndProfile:{key:g.publicKey(),profile:b,gameId:I},funder:P.publicKey(),sector1:S,sector2:p,systemProgram:i.SystemProgram.programId}).instruction(),signers:[g,P]}]})}static removeConnection(f,g,b,S,p,I,w,A){const _=p.connections.findIndex(M=>M.connectionSector.equals(I.key)),E=I.connections.findIndex(M=>M.connectionSector.equals(p.key));if(_===-1||E===-1)throw new Error("Connection not found");return M=>r(this,void 0,void 0,function*(){return[{instruction:yield f.methods.removeConnection(_,E,w).accountsStrict({gameAndProfile:{key:g.publicKey(),profile:b,gameId:A},fundsTo:S==="funder"?M.publicKey():S,sector1:p.key,sector2:I.key,systemProgram:i.SystemProgram.programId}).instruction(),signers:[g]}]})}};n.Sector=h,h.ACCOUNT_NAME="sector",h.MIN_DATA_SIZE=8+1+32+8*2+32+64+2+2+2+2+2+8+4+1,n.Sector=h=s=e([(0,o.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey,Array])],h)})(y6);var p6={};(function(n){var e=K&&K.__decorate||function(p,I,w,A){var _=arguments.length,E=_<3?I:A===null?A=Object.getOwnPropertyDescriptor(I,w):A,M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(p,I,w,A);else for(var P=p.length-1;P>=0;P--)(M=p[P])&&(E=(_<3?M(E):_>3?M(I,w,E):M(I,w))||E);return _>3&&E&&Object.defineProperty(I,w,E),E},t=K&&K.__metadata||function(p,I){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(p,I)},r=K&&K.__awaiter||function(p,I,w,A){function _(E){return E instanceof w?E:new w(function(M){M(E)})}return new(w||(w=Promise))(function(E,M){function P(z){try{$(A.next(z))}catch(T){M(T)}}function R(z){try{$(A.throw(z))}catch(T){M(T)}}function $(z){z.done?E(z.value):_(z.value).then(P,R)}$((A=A.apply(p,I||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.Ship=n.shipDataEquals=n.shipStatsEquals=n.miscStatsEquals=n.cargoStatsEquals=n.movementStatsEquals=n.SHIP_MIN_DATA_SIZE=n.shipStatsDefault=n.getSizeClassAnchorEnum=n.SHIP_STATS_MIN_DATA_SIZE=n.SHIP_SIZES=n.SizeClass=void 0;const i=qs,o=tr;var a;(function(p){p[p.XxSmall=1]="XxSmall",p[p.XSmall=2]="XSmall",p[p.Small=3]="Small",p[p.Medium=4]="Medium",p[p.Large=5]="Large",p[p.Capital=6]="Capital",p[p.Commander=7]="Commander",p[p.Titan=9]="Titan"})(a||(n.SizeClass=a={})),n.SHIP_SIZES={xxSmall:1,xSmall:4,small:9,medium:16,large:25,capital:36,commander:49,titan:81};const c=24,u=36,l=32;n.SHIP_STATS_MIN_DATA_SIZE=c+u+l;const d=p=>{const I=a[p];if(I)return{[I.toUpperCase()===I?I.toLowerCase():I.charAt(0).toLowerCase()+I.slice(1)]:{}};throw new Error(`${p} is not found in the "SizeClass" enum`)};n.getSizeClassAnchorEnum=d;function y(){return{movementStats:{warpSpeed:0,subwarpSpeed:0,maxWarpDistance:0,warpCoolDown:0,subwarpFuelConsumptionRate:0,warpFuelConsumptionRate:0,planetExitFuelAmount:0},cargoStats:{cargoCapacity:0,fuelCapacity:0,ammoCapacity:0,ammoConsumptionRate:0,foodConsumptionRate:0,miningRate:0,upgradeRate:0,cargoTransferRate:0,tractorBeamGatherRate:0},miscStats:{requiredCrew:0,passengerCapacity:0,crewCount:0,rentedCrew:0,respawnTime:0,scanCoolDown:0,sduPerScan:0,scanCost:0,placeholder:0,placeholder2:0,placeholder3:0}}}n.shipStatsDefault=y,n.SHIP_MIN_DATA_SIZE=8+1+32+32+1+8+8+32+64+n.SHIP_STATS_MIN_DATA_SIZE;function h(p,I){return p.subwarpSpeed===I.subwarpSpeed&&p.maxWarpDistance===I.maxWarpDistance&&p.warpCoolDown===I.warpCoolDown&&p.warpCoolDown===I.warpCoolDown&&p.subwarpFuelConsumptionRate===I.subwarpFuelConsumptionRate&&p.warpFuelConsumptionRate===I.warpFuelConsumptionRate&&p.planetExitFuelAmount===I.planetExitFuelAmount}n.movementStatsEquals=h;function m(p,I){return p.cargoCapacity===I.cargoCapacity&&p.fuelCapacity===I.fuelCapacity&&p.ammoCapacity===I.ammoCapacity&&p.ammoConsumptionRate===I.ammoConsumptionRate&&p.foodConsumptionRate===I.foodConsumptionRate&&p.miningRate===I.miningRate&&p.tractorBeamGatherRate===I.tractorBeamGatherRate&&p.cargoTransferRate===I.cargoTransferRate&&p.upgradeRate===I.upgradeRate}n.cargoStatsEquals=m;function f(p,I){return p.requiredCrew===I.requiredCrew&&p.passengerCapacity===I.passengerCapacity&&p.crewCount===I.crewCount&&p.scanCoolDown===I.scanCoolDown&&p.respawnTime===I.respawnTime&&p.sduPerScan===I.sduPerScan&&p.scanCost===I.scanCost&&p.placeholder===I.placeholder&&p.placeholder2===I.placeholder2&&p.placeholder3===I.placeholder3}n.miscStatsEquals=f;function g(p,I){return h(p.movementStats,I.movementStats)&&m(p.cargoStats,I.cargoStats)&&f(p.miscStats,I.miscStats)}n.shipStatsEquals=g;function b(p,I){return p.version===I.version&&p.gameId.equals(I.gameId)&&p.mint.equals(I.mint)&&p.sizeClass===I.sizeClass&&g(p.stats,I.stats)&&p.updateId.eq(I.updateId)&&p.maxUpdateId.eq(I.maxUpdateId)&&p.next.key.equals(I.next.key)&&(0,o.arrayDeepEquals)(p.name,I.name,(w,A)=>w===A)}n.shipDataEquals=b;let S=s=class{constructor(I,w){this._data=I,this._key=w}get data(){return this._data}get key(){return this._key}static registerShip(I,w,A,_,E,M,P){return R=>r(this,void 0,void 0,function*(){return[{instruction:yield I.methods.registerShip(P).accountsStrict({gameAndProfile:{key:w.publicKey(),profile:A,gameId:M},funder:R.publicKey(),ship:_.publicKey(),mint:E,systemProgram:i.SystemProgram.programId}).instruction(),signers:[w,R,_]}]})}static updateShip(I,w,A,_,E,M){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield I.methods.updateShip(M).accountsStrict({gameAndProfile:{key:w.publicKey(),profile:A,gameId:E},ship:_}).instruction(),signers:[w]}]})}static invalidateShip(I,w,A,_,E,M){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield I.methods.invalidateShip(M).accountsStrict({gameAndProfile:{key:w.publicKey(),profile:A,gameId:E},ship:_}).instruction(),signers:[w]}]})}static setNextShip(I,w,A,_,E,M,P){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield I.methods.setNextShip(P).accountsStrict({gameAndProfile:{key:w.publicKey(),profile:A,gameId:M},ship:_,nextShip:E}).instruction(),signers:[w]}]})}static decodeData(I,w){return(0,o.decodeAccount)(I,w,s)}};n.Ship=S,S.ACCOUNT_NAME="ship",S.MIN_DATA_SIZE=n.SHIP_MIN_DATA_SIZE,n.Ship=S=s=e([(0,o.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey])],S)})(p6);(function(n){var e=K&&K.__decorate||function(I,w,A,_){var E=arguments.length,M=E<3?w:_===null?_=Object.getOwnPropertyDescriptor(w,A):_,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(I,w,A,_);else for(var R=I.length-1;R>=0;R--)(P=I[R])&&(M=(E<3?P(M):E>3?P(w,A,M):P(w,A))||M);return E>3&&M&&Object.defineProperty(w,A,M),M},t=K&&K.__metadata||function(I,w){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,w)},r=K&&K.__awaiter||function(I,w,A,_){function E(M){return M instanceof A?M:new A(function(P){P(M)})}return new(A||(A=Promise))(function(M,P){function R(T){try{z(_.next(T))}catch(v){P(v)}}function $(T){try{z(_.throw(T))}catch(v){P(v)}}function z(T){T.done?M(T.value):E(T.value).then(R,$)}z((_=_.apply(I,w||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.Fleet=n.fleetDataEquals=n.GLOBAL_SCALE_DECIMALS_6=n.GLOBAL_SCALE_DECIMALS_4=n.GLOBAL_SCALE_DECIMALS_2=n.FLEET_MIN_DATA_SIZE=n.PointsCategoryEnum=n.MAX_CONSUMPTION_CAPACITY=n.MAX_CARGO_CAPACITY=n.MAX_WARP_DISTANCE=n.MIN_WARP_DISTANCE=void 0;const i=nl,o=qs,a=qK,c=tr,u=n6,l=UK,d=m6,y=em,h=Au,m=ld,f=y6,g=p6;n.MIN_WARP_DISTANCE=0,n.MAX_WARP_DISTANCE=20*100,n.MAX_CARGO_CAPACITY=1e8,n.MAX_CONSUMPTION_CAPACITY=5e7;var b;(function(I){I[I.XP=1]="XP",I[I.LP=2]="LP"})(b||(n.PointsCategoryEnum=b={})),n.FLEET_MIN_DATA_SIZE=8+1+32+32+32+32+32+(2*8+4*2)+8+8+g.SHIP_STATS_MIN_DATA_SIZE+32+32+32+8+32+1+1,n.GLOBAL_SCALE_DECIMALS_2=100,n.GLOBAL_SCALE_DECIMALS_4=1e4,n.GLOBAL_SCALE_DECIMALS_6=1e6;function S(I,w){return I.version===w.version&&I.gameId.equals(w.gameId)&&I.ownerProfile.equals(w.ownerProfile)&&I.subProfile.key.equals(w.subProfile.key)&&I.subProfileInvalidator.equals(w.subProfileInvalidator)&&(0,c.arrayDeepEquals)(I.fleetLabel,w.fleetLabel,(A,_)=>A===_)&&(0,c.arrayDeepEquals)(Object.values(I.shipCounts),Object.values(w.shipCounts),(A,_)=>A===_)&&(0,g.shipStatsEquals)(I.stats,w.stats)&&I.cargoHold.equals(w.cargoHold)&&I.ammoBank.equals(w.ammoBank)&&I.fuelTank.equals(w.fuelTank)&&I.updateId.eq(w.updateId)&&I.warpCooldownExpiresAt.eq(w.warpCooldownExpiresAt)&&I.fleetShips.equals(w.fleetShips)&&I.faction===w.faction&&I.bump===w.bump}n.fleetDataEquals=S;let p=s=class{constructor(w,A,_){this._data=w,this._key=A,this._state=_}get data(){return this._data}get key(){return this._key}get state(){return this._state}static findAddress(w,A,_,E){return o.PublicKey.findProgramAddressSync([Xe.Buffer.from("Fleet"),A.toBuffer(),_.toBuffer(),Xe.Buffer.from(E)],w.programId)}static getFleetSize(w){return w.xxSmall*g.SizeClass.XxSmall+w.xSmall*g.SizeClass.XSmall+w.small*g.SizeClass.Small+w.medium*g.SizeClass.Medium+w.large*g.SizeClass.Large+w.capital*g.SizeClass.Capital+w.commander*g.SizeClass.Commander+w.titan*g.SizeClass.Titan}static calculateWarpTime(w,A){return w.movementStats.warpSpeed>0?A/(w.movementStats.warpSpeed/n.GLOBAL_SCALE_DECIMALS_6):0}static calculateWarpTimeWithCoords(w,A,_){return this.calculateWarpTime(w,(0,f.calculateDistance)(A,_))}static calculateWarpFuelBurnWithDistance(w,A){return A*(w.movementStats.warpFuelConsumptionRate/n.GLOBAL_SCALE_DECIMALS_2)}static calculateWarpFuelBurnWithCoords(w,A,_){return this.calculateWarpFuelBurnWithDistance(w,(0,f.calculateDistance)(A,_))}static calculateSubwarpTime(w,A){return w.movementStats.subwarpSpeed>0?A/(w.movementStats.subwarpSpeed/n.GLOBAL_SCALE_DECIMALS_6):0}static calculateSubwarpTimeWithCoords(w,A,_){return this.calculateSubwarpTime(w,(0,f.calculateDistance)(A,_))}static calculateSubwarpFuelBurnWithDistance(w,A){return A*(w.movementStats.subwarpFuelConsumptionRate/n.GLOBAL_SCALE_DECIMALS_2)}static calculateSubwarpFuelBurnWithCoords(w,A,_){return this.calculateSubwarpFuelBurnWithDistance(w,(0,f.calculateDistance)(A,_))}static calculateAsteroidMiningFoodDuration(w,A){return w.cargoStats.foodConsumptionRate>0?A/(w.cargoStats.foodConsumptionRate/n.GLOBAL_SCALE_DECIMALS_4):0}static calculateAsteroidMiningFoodToConsume(w,A,_){const E=s.calculateAsteroidMiningFoodDuration(w,A),P=Math.min(_,E)*(w.cargoStats.foodConsumptionRate/n.GLOBAL_SCALE_DECIMALS_4);return P>0?A>P?P:A:0}static calculateAsteroidMiningAmmoDuration(w,A){return w.cargoStats.ammoConsumptionRate>0?A/(w.cargoStats.ammoConsumptionRate/n.GLOBAL_SCALE_DECIMALS_4):0}static calculateAsteroidMiningAmmoToConsume(w,A,_){const E=s.calculateAsteroidMiningAmmoDuration(w,A),P=Math.min(_,E)*(w.cargoStats.ammoConsumptionRate/n.GLOBAL_SCALE_DECIMALS_4);return P>0?A>P?P:A:0}static applyAsteroidMiningRatePenalty(w,A){return A>=1?0:(1-A)*w}static calculateAsteroidMiningEmissionRateBareBones(w,A,_,E=0){const M=A/y.MineItem.RESOURCE_HARDNESS_DECIMALS;if(M>0){const P=_/m.Resource.SYSTEM_RICHNESS_DECIMALS,R=w.cargoStats.miningRate/n.GLOBAL_SCALE_DECIMALS_4*P/M;return s.applyAsteroidMiningRatePenalty(R,E)}return 0}static calculateAsteroidMiningEmissionRate(w,A,_,E=0){return s.calculateAsteroidMiningEmissionRateBareBones(w,A.resourceHardness,_.systemRichness,E)}static calculateAsteroidMiningResourceExtractionDurationBareBones(w,A,_,E,M=0){const P=s.calculateAsteroidMiningEmissionRateBareBones(w,A,_,M);return P>0?E/P:0}static calculateAsteroidMiningResourceExtractionDuration(w,A,_,E){return s.calculateAsteroidMiningResourceExtractionDurationBareBones(w,A.resourceHardness,_.systemRichness,E)}static calculateAsteroidMiningResourceToExtractBareBones(w,A,_,E,M,P=0){const R=s.calculateAsteroidMiningEmissionRateBareBones(w,A,_,P);return Math.min(M,R*E)}static calculateAsteroidMiningResourceToExtract(w,A,_,E,M,P=0){return s.calculateAsteroidMiningResourceToExtractBareBones(w,A.resourceHardness,_.systemRichness,E,M,P)}normalizedCrew(){return this.data.stats.miscStats.crewCount>=this.data.stats.miscStats.requiredCrew}static createFleet(w,A,_,E,M,P,R,$,z,T,v,k){const x=s.findAddress(w,z,E,k.fleetLabel),C=d.FleetShips.findAddress(w,x[0]),B=o.Keypair.generate().publicKey.toBuffer(),O=o.Keypair.generate().publicKey.toBuffer(),D=o.Keypair.generate().publicKey.toBuffer(),W=a.CargoPod.findAddress(A,B),L=a.CargoPod.findAddress(A,O),N=a.CargoPod.findAddress(A,D);return{fleetKey:x,cargoHoldKey:W,fuelTankKey:L,ammoBankKey:N,instructions:H=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.createFleet(Object.assign(Object.assign({},k),{cargoHoldSeeds:Array.from(B),fuelTankSeeds:Array.from(O),ammoBankSeeds:Array.from(D)})).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:_.publicKey(),profile:E,profileFaction:M,gameId:z},gameState:T},funder:H.publicKey(),fleet:x[0],fleetShips:C[0],ship:P,starbaseAndStarbasePlayer:{starbase:$,starbasePlayer:R},cargoHold:W[0],fuelTank:L[0],ammoBank:N[0],cargoStatsDefinition:v,cargoProgram:A.programId,systemProgram:o.SystemProgram.programId}).instruction(),signers:[_,H]}]})}}static addShipToFleet(w,A,_,E,M,P,R,$,z,T,v){return k=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.addShipToFleet(v).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:E,key:A.publicKey()},gameId:z},gameState:T},funder:k.publicKey(),fleetShips:d.FleetShips.findAddress(w,M)[0],ship:P,starbaseAndStarbasePlayer:{starbase:$,starbasePlayer:R},systemProgram:o.SystemProgram.programId}).remainingAccounts([{pubkey:$,isSigner:!1,isWritable:!1}]).instruction(),signers:[A,k]}]})}static updateShipInFleet(w,A,_,E,M,P,R){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.updateShipInFleet(R).accountsStrict({fleet:A,fleetShips:d.FleetShips.findAddress(w,A)[0],oldShip:_,next:E,gameAccounts:{gameState:P,gameId:M}}).instruction(),signers:[]}]})}static disbandFleet(w,A,_,E,M,P,R,$,z,T,v){return s.disbandFleetBareBones(w,A,_,E,M,P.key,P.data.fleetLabel,P.data.ammoBank,P.data.cargoHold,P.data.fuelTank,R,$,z,T,v)}static disbandFleetBareBones(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B){const O=l.DisbandedFleet.findAddress(w,x,E,R);return{disbandedFleetKey:O,instructions:D=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.disbandFleet(B).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:_.publicKey(),profile:E,profileFaction:M,gameId:x},gameState:C},funder:D.publicKey(),fleet:P,fleetShips:d.FleetShips.findAddress(w,P)[0],disbandedFleet:O[0],cargoHold:z,fuelTank:T,ammoBank:$,starbaseAndStarbasePlayer:{starbase:k,starbasePlayer:v},cargoProgram:A.programId,systemProgram:o.SystemProgram.programId}).remainingAccounts([{pubkey:k,isSigner:!1,isWritable:!1}]).instruction(),signers:[_,D]}]})}}static forceDisbandFleet(w,A,_,E,M,P,R,$,z,T,v){return s.forceDisbandFleetBareBones(w,A,_.key,_.data.ownerProfile,_.data.fleetLabel,_.data.ammoBank,_.data.cargoHold,_.data.fuelTank,E,M,P,R,$,z,T,v)}static forceDisbandFleetBareBones(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B,O){const D=l.DisbandedFleet.findAddress(w,k,E,M),W=B&&O?[{pubkey:B,isSigner:!1,isWritable:!0},{pubkey:O,isSigner:!1,isWritable:!0}]:[];return{disbandedFleetKey:D,instructions:L=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.forceDisbandFleet(C).accountsStrict({funder:L.publicKey(),fleet:_,fleetShips:d.FleetShips.findAddress(w,_)[0],disbandedFleet:D[0],cargoHold:R,fuelTank:$,ammoBank:P,starbaseAndStarbasePlayer:{starbase:T,starbasePlayer:z},ship:v,gameAccounts:{gameId:k,gameState:x},cargoProgram:A.programId,systemProgram:o.SystemProgram.programId}).remainingAccounts(W).instruction(),signers:[L]}]})}}static depositCargoToFleet(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B,O,D,W,L){return N=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.depositCargoToFleet(L).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:z,owningProfile:E,owningProfileFaction:M,key:_.publicKey()},gameId:D},gameState:W},fundsTo:P==="funder"?N.publicKey():P,starbaseAndStarbasePlayer:{starbase:R,starbasePlayer:$},cargoPodFrom:T,cargoPodTo:v,cargoType:k,cargoStatsDefinition:x,tokenFrom:C,tokenTo:B,tokenMint:O,cargoProgram:A.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).remainingAccounts([{pubkey:R,isSigner:!1,isWritable:!1}]).instruction(),signers:[_]}]})}static transferCargoWithinFleet(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B,O,D,W){const L=W?[{pubkey:W,isSigner:!1,isWritable:!1}]:[];return N=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.transferCargoWithinFleet(D).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:R,owningProfile:M,owningProfileFaction:P,key:_.publicKey()},gameId:B},gameState:O},cargoPodFrom:$,cargoPodTo:z,cargoType:T,cargoStatsDefinition:v,tokenFrom:k,tokenTo:x,tokenMint:C,fundsTo:E==="funder"?N.publicKey():E,cargoProgram:A.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).remainingAccounts(L).instruction(),signers:[_]}]})}static withdrawCargoFromFleet(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B,O,D,W,L){return N=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.withdrawCargoFromFleet(L).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:z,owningProfile:M,owningProfileFaction:P,key:_.publicKey()},gameId:D},gameState:W},starbaseAndStarbasePlayer:{starbase:R,starbasePlayer:$},cargoPodFrom:T,cargoPodTo:v,cargoType:k,cargoStatsDefinition:x,tokenFrom:C,tokenTo:B,tokenMint:O,fundsTo:E==="funder"?N.publicKey():E,cargoProgram:A.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).remainingAccounts([{pubkey:R,isSigner:!1,isWritable:!1}]).instruction(),signers:[_]}]})}static closeFleetCargoPodTokenAccount(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B){return O=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.closeFleetCargoPodTokenAccount(B).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:R,owningProfile:M,owningProfileFaction:P,key:_.publicKey()},gameId:x},gameState:C},cargoPod:$,cargoType:z,cargoStatsDefinition:T,token:v,tokenMint:k,fundsTo:E==="funder"?O.publicKey():E,cargoProgram:A.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[_]}]})}static idleToLoadingBay(w,A,_,E,M,P,R,$,z,T){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.idleToLoadingBay(T).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:E,key:A.publicKey()},gameId:$},gameState:z},starbaseAndStarbasePlayer:{starbase:P,starbasePlayer:R}}).instruction(),signers:[A]}]})}static idleToRespawn(w,A,_,E,M,P,R,$,z,T){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.idleToRespawn(T).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:E,key:A.publicKey()},gameId:z},gameState:$},atlasTokenFrom:P,atlasTokenTo:R,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[A]}]})}static loadingBayToIdle(w,A,_,E,M,P,R,$,z,T){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.loadingBayToIdle(T).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:E,key:A.publicKey()},gameId:$},gameState:z},starbaseAndStarbasePlayer:{starbase:P,starbasePlayer:R}}).remainingAccounts([{pubkey:P,isSigner:!1,isWritable:!1}]).instruction(),signers:[A]}]})}static moveWarpHandler(w,A,_,E,M,P,R,$,z,T,v){const k=[{pubkey:M,isSigner:!1,isWritable:!0},{pubkey:P,isSigner:!1,isWritable:!1},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:$,isSigner:!1,isWritable:!0},{pubkey:z,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:_,isSigner:!1,isWritable:!1},{pubkey:h.ProgressionConfig.findAddress(w,v)[0],isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:A.programId,isSigner:!1,isWritable:!1}];return this.fleetStateHandler(w,E,k)}static movementSubwarpHandler(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B,O,D){const W=s.getSubwarpRemainingAccounts(w,A,_,E,P,R,$,z,T,v,k,x,C,B,O,D);return this.fleetStateHandler(w,M,W)}static fleetStateHandler(w,A,_=[]){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.fleetStateHandler().accountsStrict({fleet:A}).remainingAccounts(_).instruction(),signers:[]}]})}static warpToCoordinate(w,A,_,E,M,P,R,$,z,T,v,k,x,C){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.warpToCoordinate(C).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:E,key:A.publicKey()},gameId:k},gameState:v},fuelTank:P,cargoType:R,statsDefinition:$,tokenFrom:z,tokenMint:T,cargoProgram:x.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[A]}]})}static warpLane(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.warpLane(H).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:E,key:A.publicKey()},gameId:L},gameState:W},fromStarbase:P,toStarbase:R,fromSector:$,toSector:z,fuelTank:T,cargoType:v,statsDefinition:k,fuelTokenFrom:x,fuelMint:C,feeTokenFrom:B,feeTokenTo:O,feeMint:D,cargoProgram:N.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[A]}]})}static startSubwarp(w,A,_,E,M,P,R,$){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.startSubwarp($).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:E,key:A.publicKey()},gameId:P},gameState:R}}).instruction(),signers:[A]}]})}static stopSubwarp(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H){const J=s.getSubwarpRemainingAccounts(w,A,_,M,$,z,T,v,k,x,C,B,O,D,W,L);return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.stopSubwarp(H).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:R,owningProfile:M,owningProfileFaction:P,key:E.publicKey()},gameId:L},gameState:N}}).remainingAccounts(J).instruction(),signers:[E]}]})}static startMiningAsteroid(w,A,_,E,M,P,R,$,z,T,v,k,x,C){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.startMiningAsteroid(C).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:E,key:A.publicKey()},gameId:k},gameState:v},starbaseAndStarbasePlayer:{starbase:P,starbasePlayer:R},mineItem:$,resource:z,planet:T,fleetFuelTokenAccount:x}).instruction(),signers:[A]}]})}static asteroidMiningHandler(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H){return this.fleetStateHandler(w,_,[{pubkey:$,isSigner:!1,isWritable:!0},{pubkey:z,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!1},{pubkey:P,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!0},{pubkey:E,isSigner:!1,isWritable:!1},{pubkey:O,isSigner:!1,isWritable:!0},{pubkey:D,isSigner:!1,isWritable:!0},{pubkey:W,isSigner:!1,isWritable:!0},{pubkey:L,isSigner:!1,isWritable:!0},{pubkey:N,isSigner:!1,isWritable:!0},{pubkey:H,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},{pubkey:C,isSigner:!1,isWritable:!1},{pubkey:B,isSigner:!1,isWritable:!1},{pubkey:A.programId,isSigner:!1,isWritable:!1},{pubkey:i.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}])}static stopMiningAsteroid(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H,J,Q,Y,X,re,se){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.stopMiningAsteroid(se).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:R,owningProfile:M,owningProfileFaction:P,key:E.publicKey()},gameId:Y},gameState:Q},mineItem:$,resource:z,planet:T,fuelTank:v,cargoType:k,cargoStatsDefinition:x,tokenFrom:X,tokenMint:re,miningXpAccounts:{userPointsAccount:C,pointsCategory:B,pointsModifierAccount:O},pilotXpAccounts:{userPointsAccount:D,pointsCategory:W,pointsModifierAccount:L},councilRankXpAccounts:{userPointsAccount:N,pointsCategory:H,pointsModifierAccount:J},progressionConfig:h.ProgressionConfig.findAddress(w,Y)[0],cargoProgram:A.programId,pointsProgram:_.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[E]}]})}static mineAsteroidToRespawn(w,A,_,E,M,P,R,$,z,T,v,k){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.mineAsteroidToRespawn(k).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:E,key:A.publicKey()},gameId:z},gameState:$},resource:P,planet:R,atlasTokenFrom:T,atlasTokenTo:v,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[A]}]})}static forceDropFleetCargo(w,A,_,E,M,P,R,$,z){const T=d.FleetShips.findAddress(w,_);return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.forceDropFleetCargo().accountsStrict({fleet:_,fleetShips:T[0],cargoPod:E,cargoType:M,cargoStatsDefinition:P,gameId:R,tokenFrom:$,tokenMint:z,cargoProgram:A.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static respawnToLoadingBay(w,A,_,E,M,P,R,$,z,T,v,k,x){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.respawnToLoadingBay(x).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:E,key:A.publicKey()},gameId:v},gameState:k},starbaseAndStarbasePlayer:{starbase:P,starbasePlayer:R},cargoHold:$,fuelTank:z,ammoBank:T}).instruction(),signers:[A]}]})}static loadFleetCrew(w,A,_,E,M,P,R,$,z){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.loadFleetCrew(z).accountsStrict({fleetAndOwner:{fleet:M,key:A.publicKey(),owningProfile:_,owningProfileFaction:E},starbaseAndStarbasePlayer:{starbase:P,starbasePlayer:R},gameId:$}).remainingAccounts([{pubkey:P,isSigner:!1,isWritable:!1}]).instruction(),signers:[A]}]})}static unloadFleetCrew(w,A,_,E,M,P,R,$,z){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.unloadFleetCrew(z).accountsStrict({fleetAndOwner:{fleet:M,key:A.publicKey(),owningProfile:_,owningProfileFaction:E},starbaseAndStarbasePlayer:{starbase:P,starbasePlayer:R},gameId:$}).remainingAccounts([{pubkey:P,isSigner:!1,isWritable:!1}]).instruction(),signers:[A]}]})}static addRental(w,A,_,E,M,P,R,$,z){const T=u.ProfileFactionAccount.findAddress(A,P)[0];return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.addRental(z).accountsStrict({ownerKey:_.publicKey(),ownerProfile:M,invalidator:E.publicKey(),subProfileFaction:T,subProfile:P,fleet:R,gameId:$}).instruction(),signers:[_,E]}]})}static changeRental(w,A,_,E,M,P){const R=u.ProfileFactionAccount.findAddress(A,E)[0];return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.changeRental().accountsStrict({subProfileInvalidator:_.publicKey(),newSubProfile:E,subProfileFaction:R,fleet:M,gameId:P}).instruction(),signers:[_]}]})}static invalidateRental(w,A,_,E,M,P,R){const $=E&&M&&P&&R?[{pubkey:E,isSigner:!1,isWritable:!1},{pubkey:M,isSigner:!1,isWritable:!1},{pubkey:P,isSigner:!1,isWritable:!1},{pubkey:R,isSigner:!1,isWritable:!0}]:[];return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.invalidateRental().accountsStrict({subProfileInvalidator:A.publicKey(),fleet:_}).remainingAccounts($).instruction(),signers:[A]}]})}static decodeData(w,A){return(0,c.decodeAccountWithRemaining)(w,A,s,(_,E)=>{const M=_[0];let P;switch(M){case 0:{P={StarbaseLoadingBay:A.coder.types.decode("StarbaseLoadingBay",_.subarray(1))};break}case 1:{P={Idle:A.coder.types.decode("Idle",_.subarray(1))};break}case 2:{P={MineAsteroid:A.coder.types.decode("MineAsteroid",_.subarray(1))};break}case 3:{P={MoveWarp:A.coder.types.decode("MoveWarp",_.subarray(1))};break}case 4:{P={MoveSubwarp:A.coder.types.decode("MoveSubwarp",_.subarray(1))};break}case 5:{P={Respawn:A.coder.types.decode("Respawn",_.subarray(1))};break}default:throw new Error("Unknown fleet state: "+M)}return P})}static calculateCombinedStats(w,A,_){const E=w;return E.cargoStats=s.calculateCombinedCargoStats(w.cargoStats,this.multiplyCargoStats(A.cargoStats,_)),E.miscStats=s.calculateCombinedMiscStats(w.miscStats,this.multiplyMiscStats(A.miscStats,_)),E.movementStats=s.calculateCombinedMovementStats(w.movementStats,this.multiplyMovementStats(A.movementStats,_)),E}static multiplyShipStats(w,A){const _=w;return _.cargoStats=s.multiplyCargoStats(w.cargoStats,A),_.miscStats=s.multiplyMiscStats(w.miscStats,A),_.movementStats=s.multiplyMovementStats(w.movementStats,A),_}static calculateCombinedCargoStats(w,A){return{cargoCapacity:Math.min(n.MAX_CARGO_CAPACITY,w.cargoCapacity+A.cargoCapacity),fuelCapacity:Math.min(n.MAX_CARGO_CAPACITY,w.fuelCapacity+A.fuelCapacity),ammoCapacity:Math.min(n.MAX_CARGO_CAPACITY,w.ammoCapacity+A.ammoCapacity),ammoConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.ammoConsumptionRate+A.ammoConsumptionRate),foodConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.foodConsumptionRate+A.foodConsumptionRate),miningRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.miningRate+A.miningRate),upgradeRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.upgradeRate+A.upgradeRate),cargoTransferRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.cargoTransferRate+A.cargoTransferRate),tractorBeamGatherRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.tractorBeamGatherRate+A.tractorBeamGatherRate)}}static multiplyCargoStats(w,A){return{cargoCapacity:Math.min(n.MAX_CARGO_CAPACITY,A*w.cargoCapacity),fuelCapacity:Math.min(n.MAX_CARGO_CAPACITY,A*w.fuelCapacity),ammoCapacity:Math.min(n.MAX_CARGO_CAPACITY,A*w.ammoCapacity),ammoConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.ammoConsumptionRate),foodConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.foodConsumptionRate),miningRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.miningRate),upgradeRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.upgradeRate),cargoTransferRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.cargoTransferRate),tractorBeamGatherRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.tractorBeamGatherRate)}}static calculateCombinedMiscStats(w,A){return{requiredCrew:w.requiredCrew+A.requiredCrew,passengerCapacity:w.passengerCapacity+A.passengerCapacity,crewCount:w.crewCount+A.crewCount,rentedCrew:w.rentedCrew+A.rentedCrew,respawnTime:Math.max(w.respawnTime,A.respawnTime),scanCoolDown:Math.max(w.scanCoolDown,A.scanCoolDown),sduPerScan:w.sduPerScan+A.sduPerScan,scanCost:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.scanCost+A.scanCost),placeholder:0,placeholder2:0,placeholder3:0}}static multiplyMiscStats(w,A){return{requiredCrew:w.requiredCrew*A,passengerCapacity:w.passengerCapacity*A,crewCount:w.crewCount*A,rentedCrew:w.rentedCrew*A,respawnTime:w.respawnTime,scanCoolDown:w.scanCoolDown,sduPerScan:w.sduPerScan*A,scanCost:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.scanCost),placeholder:0,placeholder2:0,placeholder3:0}}static calculateCombinedMovementStats(w,A){return{subwarpSpeed:Math.min(w.subwarpSpeed,A.subwarpSpeed),warpSpeed:Math.min(w.warpSpeed,A.warpSpeed),maxWarpDistance:Math.min(n.MAX_WARP_DISTANCE,Math.max(n.MIN_WARP_DISTANCE,Math.max(w.maxWarpDistance,A.maxWarpDistance))),warpCoolDown:Math.max(w.warpCoolDown,A.warpCoolDown),subwarpFuelConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.subwarpFuelConsumptionRate+A.subwarpFuelConsumptionRate),warpFuelConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.warpFuelConsumptionRate+A.warpFuelConsumptionRate),planetExitFuelAmount:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.planetExitFuelAmount+A.planetExitFuelAmount)}}static multiplyMovementStats(w,A){return{subwarpSpeed:w.subwarpSpeed,warpSpeed:w.warpSpeed,maxWarpDistance:Math.min(n.MAX_WARP_DISTANCE,Math.max(n.MIN_WARP_DISTANCE,w.maxWarpDistance)),warpCoolDown:w.warpCoolDown,subwarpFuelConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.subwarpFuelConsumptionRate),warpFuelConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.warpFuelConsumptionRate),planetExitFuelAmount:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.planetExitFuelAmount)}}};n.Fleet=p,p.ACCOUNT_NAME="fleet",p.MIN_DATA_SIZE=n.FLEET_MIN_DATA_SIZE,p.getSubwarpRemainingAccounts=(I,w,A,_,E,M,P,R,$,z,T,v,k,x,C,B)=>[{pubkey:_,isSigner:!1,isWritable:!0},{pubkey:E,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!1},{pubkey:P,isSigner:!1,isWritable:!1},{pubkey:R,isSigner:!1,isWritable:!0},{pubkey:$,isSigner:!1,isWritable:!0},{pubkey:z,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!1},{pubkey:C,isSigner:!1,isWritable:!1},{pubkey:h.ProgressionConfig.findAddress(I,B)[0],isSigner:!1,isWritable:!1},{pubkey:B,isSigner:!1,isWritable:!1},{pubkey:A.programId,isSigner:!1,isWritable:!1},{pubkey:w.programId,isSigner:!1,isWritable:!1},{pubkey:i.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],n.Fleet=p=s=e([(0,c.staticImplements)(),t("design:paramtypes",[Object,o.PublicKey,Object])],p)})(VK);var b6={};(function(n){var e=K&&K.__decorate||function(M,P,R,$){var z=arguments.length,T=z<3?P:$===null?$=Object.getOwnPropertyDescriptor(P,R):$,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(M,P,R,$);else for(var k=M.length-1;k>=0;k--)(v=M[k])&&(T=(z<3?v(T):z>3?v(P,R,T):v(P,R))||T);return z>3&&T&&Object.defineProperty(P,R,T),T},t=K&&K.__metadata||function(M,P){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(M,P)},r=K&&K.__awaiter||function(M,P,R,$){function z(T){return T instanceof R?T:new R(function(v){v(T)})}return new(R||(R=Promise))(function(T,v){function k(B){try{C($.next(B))}catch(O){v(O)}}function x(B){try{C($.throw(B))}catch(O){v(O)}}function C(B){B.done?T(B.value):z(B.value).then(k,x)}C(($=$.apply(M,P||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.Game=n.RISK_ZONES_MIN_DATA_SIZE=n.MISC_VARIABLES_MIN_DATA_SIZE=n.VAULTS_MIN_DATA_SIZE=n.MINTS_MIN_DATA_SIZE=n.FLEET_INFO_MIN_DATA_SIZE=n.STAR_BASE_UPKEEP_INFO_MIN_DATA_SIZE=n.STAR_BASE_LEVEL_INFO_MIN_DATA_SIZE=n.CRAFTING_MIN_DATA_SIZE=n.CARGO_MIN_DATA_SIZE=n.POINTS_MIN_DATA_SIZE=n.FLEET_POINT_MODIFIER_MIN_DATA_SIZE=n.gameDataEquals=n.riskZonesEquals=n.riskZoneEquals=n.RiskZones=n.DEFAULT_RISK_ZONES=n.DEFAULT_RISK_ZONE=n.starbaseUpkeepLevelsEquals=n.starbaseUpkeepInfoEquals=n.factionsStarbaseLevelInfoEqual=n.starbaseLevelInfoArraysEqual=n.starbaseLevelInfoEquals=n.PointsCategoryType=n.vaultsEquals=n.mintsEquals=n.pointsEquals=n.sagePointsCategoryEquals=n.craftingEquals=n.cargoEquals=void 0;const i=qs,o=cc,a=tr;function c(M,P){return M.statsDefinition.equals(P.statsDefinition)}n.cargoEquals=c;function u(M,P){return M.domain.equals(P.domain)}n.craftingEquals=u;function l(M,P){return M.modifierBump===P.modifierBump&&M.modifier.equals(P.modifier)&&M.category.equals(P.category)}n.sagePointsCategoryEquals=l;function d(M,P){return l(M.lpCategory,P.lpCategory)&&l(M.councilRankXpCategory,P.councilRankXpCategory)&&l(M.pilotXpCategory,P.pilotXpCategory)&&l(M.dataRunningXpCategory,P.dataRunningXpCategory)&&l(M.miningXpCategory,P.miningXpCategory)&&l(M.craftingXpCategory,P.craftingXpCategory)}n.pointsEquals=d;function y(M,P){return M.atlas.equals(P.atlas)&&M.polis.equals(P.polis)&&M.ammo.equals(P.ammo)&&M.food.equals(P.food)&&M.fuel.equals(P.fuel)&&M.repairKit.equals(P.repairKit)}n.mintsEquals=y;function h(M,P){return M.atlas.equals(P.atlas)&&M.polis.equals(P.polis)}n.vaultsEquals=h;var m;(function(M){M[M.LP=1]="LP",M[M.CRXP=2]="CRXP",M[M.PXP=3]="PXP",M[M.DRXP=4]="DRXP",M[M.MXP=5]="MXP",M[M.CXP=6]="CXP"})(m||(n.PointsCategoryType=m={}));function f(M,P){return M.hp.eq(P.hp)&&M.sp.eq(P.sp)&&M.sectorRingAvailable===P.sectorRingAvailable&&M.warpLaneMovementFee.eq(P.warpLaneMovementFee)&&M.recipeCategoryForLevel.equals(P.recipeCategoryForLevel)&&M.recipeForUpgrade.equals(P.recipeForUpgrade)}n.starbaseLevelInfoEquals=f;function g(M,P){return(0,a.arrayDeepEquals)(M,P,f)}n.starbaseLevelInfoArraysEqual=g;function b(M,P){const R=g(M.mud,P.mud),$=g(M.oni,P.oni),z=g(M.ustur,P.ustur);return R&&$&&z}n.factionsStarbaseLevelInfoEqual=b;function S(M,P){return M.ammoReserve.eq(P.ammoReserve)&&M.foodReserve.eq(P.foodReserve)&&M.toolkitReserve.eq(P.toolkitReserve)&&M.ammoDepletionRate===P.ammoDepletionRate&&M.foodDepletionRate===P.foodDepletionRate&&M.toolkitDepletionRate===P.toolkitDepletionRate}n.starbaseUpkeepInfoEquals=S;function p(M,P){return S(M.level1,P.level1)&&S(M.level2,P.level2)&&S(M.level3,P.level3)&&S(M.level4,P.level4)&&S(M.level5,P.level5)}n.starbaseUpkeepLevelsEquals=p,n.DEFAULT_RISK_ZONE={center:[new o.BN(0),new o.BN(0)],radius:new o.BN(0)},n.DEFAULT_RISK_ZONES={mudSecurityZone:n.DEFAULT_RISK_ZONE,oniSecurityZone:n.DEFAULT_RISK_ZONE,usturSecurityZone:n.DEFAULT_RISK_ZONE,highRiskZone:n.DEFAULT_RISK_ZONE,mediumRiskZone:n.DEFAULT_RISK_ZONE};var I;(function(M){M[M.MudSecurityZone=0]="MudSecurityZone",M[M.OniSecurityZone=1]="OniSecurityZone",M[M.UsturSecurityZone=2]="UsturSecurityZone",M[M.HighRiskZone=3]="HighRiskZone",M[M.MediumRiskZone=4]="MediumRiskZone"})(I||(n.RiskZones=I={}));function w(M,P){return M.radius.eq(P.radius)&&M.center[0].eq(P.center[0])&&M.center[1].eq(P.center[1])}n.riskZoneEquals=w;function A(M,P){return w(M.mudSecurityZone,P.mudSecurityZone)&&w(M.oniSecurityZone,P.oniSecurityZone)&&w(M.usturSecurityZone,P.usturSecurityZone)&&w(M.highRiskZone,P.highRiskZone)&&w(M.mediumRiskZone,P.mediumRiskZone)}n.riskZonesEquals=A;function _(M,P){return M.version===P.version&&M.profile.equals(P.profile)&&M.gameState.equals(P.gameState)&&c(M.cargo,P.cargo)&&u(M.crafting,P.crafting)&&d(M.points,P.points)&&y(M.mints,P.mints)&&h(M.vaults,P.vaults)&&A(M.riskZones,P.riskZones)&&M.updateId.eq(P.updateId)}n.gameDataEquals=_,n.FLEET_POINT_MODIFIER_MIN_DATA_SIZE=32+32+1,n.POINTS_MIN_DATA_SIZE=6*n.FLEET_POINT_MODIFIER_MIN_DATA_SIZE,n.CARGO_MIN_DATA_SIZE=32,n.CRAFTING_MIN_DATA_SIZE=32,n.STAR_BASE_LEVEL_INFO_MIN_DATA_SIZE=32+32+8+8+8+1,n.STAR_BASE_UPKEEP_INFO_MIN_DATA_SIZE=8+4+8+4+8+4,n.FLEET_INFO_MIN_DATA_SIZE=n.STAR_BASE_LEVEL_INFO_MIN_DATA_SIZE*21+n.STAR_BASE_UPKEEP_INFO_MIN_DATA_SIZE*7+4,n.MINTS_MIN_DATA_SIZE=32+32+32+32+32+32,n.VAULTS_MIN_DATA_SIZE=32+32,n.MISC_VARIABLES_MIN_DATA_SIZE=2+2+8,n.RISK_ZONES_MIN_DATA_SIZE=(8*2+8)*5;let E=s=class{constructor(P,R){this._data=P,this._key=R}get data(){return this._data}get key(){return this._key}static findPointsModifierAddress(P,R,$){return i.PublicKey.findProgramAddressSync([Xe.Buffer.from("PointsModifier"),R.toBuffer(),$.toBuffer()],P.programId)}static initGame(P,R,$,z){return T=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.initGame().accountsStrict({signer:R.publicKey(),gameId:z.publicKey(),funder:T.publicKey(),profile:$,systemProgram:i.SystemProgram.programId}).instruction(),signers:[R,T,z]}]})}static updateGame(P,R,$,z,T,v,k,x,C,B,O){const D=[],W={mints:0,vaults:0,points:0,crafting:0,cargo:0,riskZones:O||null,keyIndex:T};return v&&(v.lpCategory&&(W.points|=1<<0,D.push({isSigner:!1,isWritable:!1,pubkey:v.lpCategory})),v.councilRankXpCategory&&(W.points|=1<<1,D.push({isSigner:!1,isWritable:!1,pubkey:v.councilRankXpCategory})),v.pilotXpCategory&&(W.points|=1<<2,D.push({isSigner:!1,isWritable:!1,pubkey:v.pilotXpCategory})),v.dataRunningXpCategory&&(W.points|=1<<3,D.push({isSigner:!1,isWritable:!1,pubkey:v.dataRunningXpCategory})),v.miningXpCategory&&(W.points|=1<<4,D.push({isSigner:!1,isWritable:!1,pubkey:v.miningXpCategory})),v.craftingXpCategory&&(W.points|=1<<5,D.push({isSigner:!1,isWritable:!1,pubkey:v.craftingXpCategory}))),k&&(k.atlas&&(W.mints|=1<<0,D.push({isSigner:!1,isWritable:!1,pubkey:k.atlas})),k.polis&&(W.mints|=1<<1,D.push({isSigner:!1,isWritable:!1,pubkey:k.polis})),k.ammo&&(W.mints|=1<<2,D.push({isSigner:!1,isWritable:!1,pubkey:k.ammo})),k.food&&(W.mints|=1<<3,D.push({isSigner:!1,isWritable:!1,pubkey:k.food})),k.fuel&&(W.mints|=1<<4,D.push({isSigner:!1,isWritable:!1,pubkey:k.fuel})),k.repairKit&&(W.mints|=1<<5,D.push({isSigner:!1,isWritable:!1,pubkey:k.repairKit}))),x&&(x.atlas&&(W.vaults|=1<<0,D.push({isSigner:!1,isWritable:!1,pubkey:x.atlas})),x.polis&&(W.vaults|=1<<1,D.push({isSigner:!1,isWritable:!1,pubkey:x.polis}))),C&&C.domain&&(W.crafting|=1<<0,D.push({isSigner:!1,isWritable:!1,pubkey:C.domain})),B&&B.statsDefinition&&(W.cargo|=1<<0,D.push({isSigner:!1,isWritable:!1,pubkey:B.statsDefinition})),()=>r(this,void 0,void 0,function*(){return[{instruction:yield R.methods.updateGame(W).accountsStrict({gameAndProfile:{key:$.publicKey(),profile:z,gameId:P}}).remainingAccounts(D).instruction(),signers:[$]}]})}static registerSagePointModifier(P,R,$,z,T,v,k,x){const C=s.findPointsModifierAddress(P,T,v);return{modifierKey:C,instructions:B=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.registerSagePointModifier({pointsCategoryType:k,keyIndex:x}).accountsStrict({gameAndProfile:{key:$.publicKey(),profile:z,gameId:T},funder:B.publicKey(),pointsCategory:v,pointsModifier:C[0],pointsProgram:R.programId,systemProgram:i.SystemProgram.programId}).instruction(),signers:[$,B]}]})}}static decodeData(P,R){return(0,a.decodeAccount)(P,R,s)}};n.Game=E,E.ACCOUNT_NAME="game",E.MIN_DATA_SIZE=8+1+8+32+32+n.POINTS_MIN_DATA_SIZE+n.CARGO_MIN_DATA_SIZE+n.CRAFTING_MIN_DATA_SIZE+n.MINTS_MIN_DATA_SIZE+n.VAULTS_MIN_DATA_SIZE+n.RISK_ZONES_MIN_DATA_SIZE,E.MIN_STAR_BASE_LEVEL=0,E.MAX_STAR_BASE_LEVEL=6,n.Game=E=s=e([(0,a.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey])],E)})(b6);var Tl={},el={},Bmt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},zmt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},fme=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Wq;Object.defineProperty(el,"__esModule",{value:!0});el.Planet=el.planetDataEquals=el.PlanetType=el.SectorRing=void 0;const FEe=qs,zy=tr;var hme;(function(n){n[n.Inner=1]="Inner",n[n.Mid=2]="Mid",n[n.Outer=3]="Outer"})(hme||(el.SectorRing=hme={}));var gme;(function(n){n[n.Terrestrial=0]="Terrestrial",n[n.Volcanic=1]="Volcanic",n[n.Barren=2]="Barren",n[n.AsteroidBelt=3]="AsteroidBelt",n[n.GasGiant=4]="GasGiant",n[n.IceGiant=5]="IceGiant",n[n.Dark=6]="Dark"})(gme||(el.PlanetType=gme={}));function $mt(n,e){return n.version===e.version&&(0,zy.arrayDeepEquals)(n.sector,e.sector,(t,r)=>t.eq(r))&&n.gameId.equals(e.gameId)&&n.size.eq(e.size)&&(0,zy.arrayDeepEquals)(n.name,e.name,(t,r)=>t===r)&&(0,zy.arrayDeepEquals)(n.subCoordinates,e.subCoordinates,(t,r)=>t.eq(r))&&n.planetType===e.planetType&&n.position===e.position&&n.maxHp.eq(e.maxHp)&&n.currentHealth.eq(e.currentHealth)&&n.amountMined.eq(e.amountMined)&&n.numResources===e.numResources&&n.numMiners.eq(e.numMiners)}el.planetDataEquals=$mt;let aB=Wq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}get prettyName(){return(0,zy.byteArrayToString)(this.data.name)}static registerPlanet(e,t,r,s,i,o,a){return c=>fme(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerPlanet(Object.assign(Object.assign({},a),{name:(0,zy.stringToByteArray)(a.name,64)})).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},funder:c.publicKey(),planet:s.publicKey(),sector:i,systemProgram:FEe.SystemProgram.programId}).instruction(),signers:[t,c,s]}]})}static updatePlanet(e,t,r,s,i,o){return()=>fme(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updatePlanet(Object.assign(Object.assign({},o),{name:o.name==null?null:(0,zy.stringToByteArray)(o.name,64),size:o.size==null?null:o.size,maxHp:o.maxHp==null?null:o.maxHp,subCoordinates:o.subCoordinates==null?null:o.subCoordinates})).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:i},planet:s}).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,zy.decodeAccount)(e,t,Wq)}};el.Planet=aB;aB.ACCOUNT_NAME="planet";aB.MIN_DATA_SIZE=8+1+64+32+8*2+8*2+1+1+8+8+8+8+1+8;el.Planet=aB=Wq=Bmt([(0,zy.staticImplements)(),zmt("design:paramtypes",[Object,FEe.PublicKey])],aB);var Dmt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Omt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},M$=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Nq;Object.defineProperty(Tl,"__esModule",{value:!0});Tl.GameState=Tl.SCALE_DECIMALS_4=Tl.gameStateDataEquals=Tl.miscVariablesEquals=void 0;const BD=qs,Sv=tr,BR=n6,Kmt=Tx.exports,dw=b6,Lmt=el;function UEe(n,e){return n.warpLaneFuelCostReduction===e.warpLaneFuelCostReduction&&n.upkeepMiningEmissionsPenalty===e.upkeepMiningEmissionsPenalty&&n.respawnFee.eq(e.respawnFee)}Tl.miscVariablesEquals=UEe;function Wmt(n,e){return n.version===e.version&&n.bump===e.bump&&n.gameId.equals(e.gameId)&&n.updateId.eq(e.updateId)&&n.fleet.maxFleetSize===e.fleet.maxFleetSize&&(0,dw.factionsStarbaseLevelInfoEqual)(n.fleet.starbaseLevels,e.fleet.starbaseLevels)&&(0,dw.starbaseUpkeepLevelsEquals)(n.fleet.upkeep,e.fleet.upkeep)&&UEe(n.misc,e.misc)}Tl.gameStateDataEquals=Wmt;Tl.SCALE_DECIMALS_4=1e4;let cB=Nq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return BD.PublicKey.findProgramAddressSync([Xe.Buffer.from("GameState"),t.toBuffer(),r.toArrayLike(Xe.Buffer,"le",8)],e.programId)}static initGameState(e,t,r,s,i,o){return a=>M$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.initGameState(o).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},funder:a.publicKey(),gameState:i,systemProgram:BD.SystemProgram.programId}).instruction(),signers:[t,a]}]})}static updateGameState(e,t,r,s,i,o,a,c){const u=[],l=c||null,d={starbaseLevelInfoArray:null,upkeepInfoArray:null,maxFleetSize:null},y=(a==null?void 0:a.starbaseLevels)||[],h={fleet:d,misc:l,keyIndex:o},m=[y.filter(f=>f.faction==(0,Sv.getNumberFromEnum)(BR.Faction,BR.Faction.ONI)),y.filter(f=>f.faction==BR.Faction.MUD),y.filter(f=>f.faction==(0,Sv.getNumberFromEnum)(BR.Faction,BR.Faction.Ustur))];for(let f=0;f<m.length;f++){const g=m[f];if(g){const b=(0,Kmt.uniq)(g.map(S=>S.level));if(b.length!==g.length)throw new Error("Starbase levels must be unique");if(Math.max(...b)>dw.Game.MAX_STAR_BASE_LEVEL||Math.min(...b)<dw.Game.MIN_STAR_BASE_LEVEL)throw new Error("Starbase levels must be between 0 and 6")}}y.sort((f,g)=>f.faction-g.faction||f.level-g.level);for(let f=0;f<y.length;f++){const g=y[f];if(g){const b={faction:g.faction,level:g.level,hp:g.hp,sp:g.sp,warpLaneMovementFee:g.warpLaneMovementFee,sectorRingAvailable:(0,Sv.getAnchorEnum)(Lmt.SectorRing,g.sectorRingAvailable)};d.starbaseLevelInfoArray==null?d.starbaseLevelInfoArray=[b]:d.starbaseLevelInfoArray.push(b),u.push({isSigner:!1,isWritable:!1,pubkey:g.oldRecipeForUpgrade}),u.push({isSigner:!1,isWritable:!1,pubkey:g.newRecipeForUpgrade}),u.push({isSigner:!1,isWritable:!1,pubkey:g.recipeCategoryForLevel})}}return a!=null&&a.maxFleetSize&&(d.maxFleetSize=a.maxFleetSize),a!=null&&a.starbaseUpkeep&&(d.upkeepInfoArray=a.starbaseUpkeep),h.fleet=(0,Sv.isNull)(d)?null:d,()=>M$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateGameState(h).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},gameState:i}).remainingAccounts(u).instruction(),signers:[t]}]})}static activateGameState(e,t,r,s,i,o){return()=>M$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.activateGameState(o).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},gameState:i}).instruction(),signers:[t]}]})}static copyGameState(e,t,r,s,i,o,a){return c=>M$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.copyGameState(a).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},funder:c.publicKey(),oldGameState:i,newGameState:o,systemProgram:BD.SystemProgram.programId}).instruction(),signers:[t,c]}]})}static decodeData(e,t){return(0,Sv.decodeAccount)(e,t,Nq)}};Tl.GameState=cB;cB.ACCOUNT_NAME="gameState";cB.MIN_DATA_SIZE=8+1+32+8+dw.FLEET_INFO_MIN_DATA_SIZE+dw.MISC_VARIABLES_MIN_DATA_SIZE+1;Tl.GameState=cB=Nq=Dmt([(0,Sv.staticImplements)(),Omt("design:paramtypes",[Object,BD.PublicKey])],cB);var uB={};Object.defineProperty(uB,"__esModule",{value:!0});uB.IDL=void 0;uB.IDL={version:"0.1.0",name:"sage",instructions:[{name:"activateGameState",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!0,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!0,isSigner:!1,docs:["The [`GameState`] account"]}],args:[{name:"input",type:{defined:"ManageGameInput"}}]},{name:"addConnection",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for adding the connection"]},{name:"sector1",isMut:!0,isSigner:!1,docs:["The first connected sector"]},{name:"sector2",isMut:!0,isSigner:!1,docs:["The second connected sector"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"subCoordinates1",type:{array:["i64",2]}},{name:"flags1",type:"u8"},{name:"subCoordinates2",type:{array:["i64",2]}},{name:"flags2",type:"u8"},{name:"keyIndex",type:"u16"}]},{name:"addCrewToGame",accounts:[{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"sageCrewConfig",isMut:!1,isSigner:!1,docs:["The [`SageCrewConfig`] Account"]},{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The crew program `CrewConfig` account"]},{name:"crewOwner",isMut:!1,isSigner:!0,docs:["The crew owner"]},{name:"crewDelegate",isMut:!1,isSigner:!1,docs:["The crew delegate"]},{name:"logWrapper",isMut:!1,isSigner:!1,docs:["The log wrapper"]},{name:"compressionProgram",isMut:!1,isSigner:!1,docs:["The compression program"]},{name:"bubblegumProgram",isMut:!1,isSigner:!1,docs:["The bubblegum program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"AddCrewInput"}}]},{name:"addRental",accounts:[{name:"ownerProfile",isMut:!1,isSigner:!1,docs:["The fleet owner's profile."]},{name:"ownerKey",isMut:!1,isSigner:!0,docs:["The key on the owner profile with renting permissions."]},{name:"invalidator",isMut:!1,isSigner:!0,docs:["The fleet rental invalidator - this is a signer to help make sure the fleet won't be locked."]},{name:"subProfile",isMut:!1,isSigner:!1,docs:["The profile to rent to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet to rent out."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"subProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the sub_profile belongs to."]}],args:[{name:"ownerKeyIndex",type:"u16"}]},{name:"addShipEscrow",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"originTokenAccount",isMut:!0,isSigner:!1,docs:["The Origin Token Account"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"shipEscrowTokenAccount",isMut:!0,isSigner:!1,docs:["The Escrow Token Account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Token Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"AddShipEscrowInput"}}]},{name:"addShipToFleet",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `Fleet`"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"AddShipToFleetInput"}}]},{name:"burnCraftingConsumables",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The crafting facility account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `crafting_process`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"IngredientIndexInput"}}]},{name:"cancelCraftingProcess",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to cancel"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"changeRental",accounts:[{name:"subProfileInvalidator",isMut:!1,isSigner:!0,docs:["The fleet rental invalidator"]},{name:"newSubProfile",isMut:!1,isSigner:!1,docs:["The new sub profile"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"subProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the sub_profile belongs to."]}],args:[]},{name:"claimCraftingNonConsumables",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The crafting facility account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `crafting_process`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"IngredientIndexInput"}}]},{name:"claimCraftingOutputs",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The crafting facility account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting [`Recipe`]"]},{name:"craftableItem",isMut:!1,isSigner:!1,docs:["The craftable item"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `craftable_item`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `cargo_pod_to`"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"IngredientIndexInput"}}]},{name:"closeCraftingProcess",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to close"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"councilRankXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"progressionConfig",isMut:!1,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"closeDisbandedFleet",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the player profile."]},{name:"playerProfile",isMut:!1,isSigner:!1,docs:["The player profile."]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"disbandedFleet",isMut:!0,isSigner:!1,docs:["The [`DisbandedFleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]}],args:[{name:"input",type:{defined:"CloseDisbandedFleetInput"}}]},{name:"closeFleetCargoPodTokenAccount",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod, owned by the fleet"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"token",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"closePlayerCrewRecord",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"crewRecord",isMut:!0,isSigner:!1,docs:["The [`PlayerCrewRecord`] account"]},{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The [`SageCrewConfig`] Account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"closeStarbaseCargoTokenAccount",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"token",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"closeUpgradeProcess",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"resourceCraftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to close"]},{name:"resourceCraftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"resourceRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the upgrade resource"]},{name:"resourceCraftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"completeStarbaseUpgrade",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account for crafting at this `Starbase`"]},{name:"upgradeFacility",isMut:!1,isSigner:!1,docs:["The `CraftingFacility` account for starbase upgrades"]},{name:"upgradeRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the starbase upgrade"]},{name:"newRecipeCategory",isMut:!1,isSigner:!1,docs:["The crafting recipe category for the next `Starbase` level"]},{name:"craftingDomain",isMut:!1,isSigner:!1,docs:["The crafting domain"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"copyGameState",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `GameState`"]},{name:"oldGameState",isMut:!1,isSigner:!1,docs:["The old [`GameState`] account"]},{name:"newGameState",isMut:!0,isSigner:!1,docs:["The [`GameState`] account","This will and should fail if there already exists a `GameState`for the desired `update_id`"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"ManageGameInput"}}]},{name:"createCargoPod",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"StarbaseCreateCargoPodInput"}}]},{name:"createCertificateMint",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbase",isMut:!1,isSigner:!1,docs:["The Starbase to create a certificate mint for"]},{name:"cargoMint",isMut:!1,isSigner:!1,docs:["The mint to create a certificate mint for"]},{name:"certificateMint",isMut:!0,isSigner:!1,docs:["The new certificate mint"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type to associate with the `cargo_mint`","Included to ensure that this instruction can only be called for valid cargo types"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The game account"]},{name:"transferHookExtraAccountMetaList",isMut:!0,isSigner:!1,docs:["The transfer hook extra accounts list"]},{name:"transferHookProgram",isMut:!1,isSigner:!1,docs:["The transfer hook program"]},{name:"token2022Program",isMut:!1,isSigner:!1,docs:["The token 2022 program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[]},{name:"createCraftingProcess",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to initialize"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account (NOT initialized)"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"craftingDomain",isMut:!1,isSigner:!1,docs:["The crafting domain"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"StarbaseCreateCraftingProcessInput"}}]},{name:"createFleet",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `Fleet`"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The [`Fleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"cargoHold",isMut:!0,isSigner:!1,docs:["The new fleet `cargo_hold` cargo pod (not initialized)"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The new fleet `fuel_tank` cargo pod (not initialized)"]},{name:"ammoBank",isMut:!0,isSigner:!1,docs:["The new fleet `ammo_bank` cargo pod (not initialized)"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account - represents the first ship in the new fleet"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"CreateFleetInput"}}]},{name:"createStarbaseUpgradeResourceProcess",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to initialize"]},{name:"upgradeFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account (NOT initialized)"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"craftingDomain",isMut:!1,isSigner:!1,docs:["The crafting domain"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"StarbaseCreateCraftingProcessInput"}}]},{name:"depositCargoToFleet",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The origin cargo pod"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"DepositCargoToFleetInput"}}]},{name:"depositCargoToGame",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `key`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod`"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"CargoToGameInput"}}]},{name:"depositCraftingIngredient",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`](crafting::CraftingFacility) account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The source cargo pod account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `crafting_process`"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"StarbaseDepositCraftingIngredientInput"}}]},{name:"depositStarbaseUpkeepResource",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The source cargo pod account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `cargo_pod_from`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"resourceRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the upkeep resource"]},{name:"loyaltyPointsAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"progressionConfig",isMut:!1,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"DepositStarbaseUpkeepResourceInput"}}]},{name:"deregisterMineItem",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterProgressionConfig",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"progressionConfig",isMut:!0,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterResource",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"location",isMut:!0,isSigner:!1,docs:["The Location address"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterStarbase",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterSurveyDataUnitTracker",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"surveyDataUnitTracker",isMut:!0,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]}],args:[{name:"input",type:{defined:"DeregisterSurveyDataUnitTrackerInput"}}]},{name:"devAddCrewToGame",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The starbase player account to add crew to"]}],args:[{name:"input",type:{defined:"DevAddCrewInput"}}]},{name:"disbandFleet",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"disbandedFleet",isMut:!0,isSigner:!1,docs:["The [`DisbandedFleet`] account"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The [`Fleet`] account","The fleet can only be disbanded by the `owner_profile` and not `sub_profile`","Fleet cannot be disbanded while rented"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"cargoHold",isMut:!0,isSigner:!1,docs:["The fleet `cargo_hold` cargo pod"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fleet `fuel_tank` cargo pod"]},{name:"ammoBank",isMut:!0,isSigner:!1,docs:["The fleet `ammo_bank` cargo pod"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"DisbandFleetInput"}}]},{name:"disbandedFleetToEscrow",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"disbandedFleet",isMut:!0,isSigner:!1,docs:["The [`DisbandedFleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"DisbandedFleetToEscrowInput"}}]},{name:"discoverSector",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!1,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new sector"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"DiscoverSectorInput"}}]},{name:"drainMineItemBank",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The mine item token bank to drain"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["Where to send tokens from the bank"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"drainSurveyDataUnitsBank",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing rent refunds go."]},{name:"surveyDataUnitTracker",isMut:!1,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]},{name:"surveyDataUnitTrackerSigner",isMut:!1,isSigner:!1,docs:["The `SurveyDataUnitTracker` signer"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The SDU token bank to drain"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["Where to send tokens from the bank"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"fleetStateHandler",accounts:[{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}],args:[]},{name:"forceDisbandFleet",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"disbandedFleet",isMut:!0,isSigner:!1,docs:["The new [`DisbandedFleet`] account"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The [`Fleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"cargoHold",isMut:!0,isSigner:!1,docs:["The fleet `cargo_hold` cargo pod"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fleet `fuel_tank` cargo pod"]},{name:"ammoBank",isMut:!0,isSigner:!1,docs:["The fleet `ammo_bank` cargo pod"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`]","Must provide at least one ship that is invalid for this instruction"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"ForcedDisbandFleetInput"}}]},{name:"forceDropFleetCargo",accounts:[{name:"fleet",isMut:!0,isSigner:!1,docs:["The `Fleet` Account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The origin cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The `cargo_type` for the token"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[]},{name:"idleToLoadingBay",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]}],args:[{name:"keyIndex",type:"u16"}]},{name:"idleToRespawn",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"atlasTokenFrom",isMut:!0,isSigner:!1,docs:["Source Token account for ATLAS, owned by the player"]},{name:"atlasTokenTo",isMut:!0,isSigner:!1,docs:["Vault Token account for ATLAS"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Solana Token Program"]}],args:[{name:"input",type:{defined:"IdleToRespawnInput"}}]},{name:"initGame",accounts:[{name:"signer",isMut:!0,isSigner:!0,docs:["The entity calling this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The sector permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new game"]},{name:"gameId",isMut:!0,isSigner:!0,docs:["The [`Game`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[]},{name:"initGameState",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `GameState`"]},{name:"gameState",isMut:!0,isSigner:!1,docs:["The [`GameState`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitGameStateInput"}}]},{name:"invalidateRental",accounts:[{name:"subProfileInvalidator",isMut:!1,isSigner:!0,docs:["The fleet rental invalidator"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet"]}],args:[]},{name:"invalidateShip",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!0,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"ship",isMut:!0,isSigner:!1,docs:["The current [`Ship`] account"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"loadFleetCrew",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}],args:[{name:"input",type:{defined:"FleetCrewInput"}}]},{name:"loadingBayToIdle",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]}],args:[{name:"keyIndex",type:"u16"}]},{name:"mineAsteroidToRespawn",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"planet",isMut:!0,isSigner:!1,docs:["The [`Planet`] account"]},{name:"atlasTokenFrom",isMut:!0,isSigner:!1,docs:["Source Token account for ATLAS, owned by the player"]},{name:"atlasTokenTo",isMut:!0,isSigner:!1,docs:["Vault Token account for ATLAS"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Solana Token Program"]}],args:[{name:"input",type:{defined:"MineAsteroidToRespawnInput"}}]},{name:"mintCertificate",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoMint",isMut:!1,isSigner:!1,docs:["The mint of the cargo in question"]},{name:"certificateMint",isMut:!0,isSigner:!1,docs:["The cargo certificate mint"]},{name:"certificateTokenTo",isMut:!0,isSigner:!1,docs:["The token account where certificates are minted to"]},{name:"cargoTokenFrom",isMut:!0,isSigner:!1,docs:["The source token account for the cargo - owned by the `cargo_pod`"]},{name:"cargoTokenTo",isMut:!0,isSigner:!1,docs:["The destination token account for the cargo - owned by the Starbase"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod to take from"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]},{name:"token2022Program",isMut:!1,isSigner:!1,docs:["The token 2022 program"]}],args:[{name:"keyIndex",type:"u16"},{name:"amount",type:"u64"}]},{name:"mintCrewToGame",accounts:[{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"sageCrewConfig",isMut:!1,isSigner:!1,docs:["The [`SageCrewConfig`] Account"]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The crew program `CrewConfig` account"]},{name:"instructionsSysvar",isMut:!1,isSigner:!1,docs:["Solana Instructions Sysvar"]}],args:[]},{name:"redeemCertificate",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"cargoMint",isMut:!1,isSigner:!1,docs:["The mint of the cargo in question"]},{name:"certificateMint",isMut:!0,isSigner:!1,docs:["The cargo certificate mint"]},{name:"certificateOwnerAuthority",isMut:!1,isSigner:!0,docs:["Owner of the certificates"]},{name:"certificateTokenFrom",isMut:!0,isSigner:!1,docs:["The source token account for the cargo certificate - owned by the `certificate_owner_authority`"]},{name:"cargoTokenFrom",isMut:!0,isSigner:!1,docs:["The source token account for the cargo - owned by the Starbase"]},{name:"cargoTokenTo",isMut:!0,isSigner:!1,docs:["The destination token account for the cargo - owned by the `cargo_pod`"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod to send to"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]},{name:"token2022Program",isMut:!1,isSigner:!1,docs:["The token 2022 program"]}],args:[{name:"keyIndex",type:"u16"},{name:"amount",type:"u64"}]},{name:"registerMineItem",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new mine item"]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint address representing the mine item"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterMineItemInput"}}]},{name:"registerPlanet",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new game"]},{name:"planet",isMut:!0,isSigner:!0,docs:["The [`Planet`] account"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterPlanetInput"}}]},{name:"registerProgressionConfig",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new star base"]},{name:"progressionConfig",isMut:!0,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterProgressionConfigInput"}}]},{name:"registerResource",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new resource"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"location",isMut:!0,isSigner:!1,docs:["The Location address"]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterResourceInput"}}]},{name:"registerSageCrewConfig",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new star base"]},{name:"sageCrewConfig",isMut:!0,isSigner:!1,docs:["The [`SageCrewConfig`] account"]},{name:"config",isMut:!1,isSigner:!1,docs:["The crew config"]},{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"registerSagePlayerProfile",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The player permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile"]},{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The `SagePlayerProfile` account"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[]},{name:"registerSagePointModifier",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The `PointCategory`"]},{name:"pointsModifier",isMut:!0,isSigner:!1,docs:["The `PointsModifier` account to be created in Points CPI"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterSagePointsModifierInput"}}]},{name:"registerSector",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new sector"]},{name:"discoverer",isMut:!1,isSigner:!1,docs:["The discoverer of this sector"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"coordinates",type:{array:["i64",2]}},{name:"name",type:{array:["u8",64]}},{name:"keyIndex",type:"u16"}]},{name:"registerShip",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new game"]},{name:"ship",isMut:!0,isSigner:!0,docs:["The [`Ship`] account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint address representing the [`Ship`]"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterShipInput"}}]},{name:"registerStar",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"star",isMut:!0,isSigner:!0,docs:["The [`Star`] account"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterStarInput"}}]},{name:"registerStarbase",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new star base"]},{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"sector",isMut:!1,isSigner:!1,docs:["The [`Sector`] account"]},{name:"gameStateAndProfile",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterStarbaseInputUnpacked"}}]},{name:"registerStarbasePlayer",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder -- pays account rent"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"sagePlayerProfile",isMut:!1,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the player belongs to."]},{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] account to initialize"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[]},{name:"registerSurveyDataUnitTracker",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `SurveyDataUnitTracker`"]},{name:"surveyDataUnitTracker",isMut:!0,isSigner:!0,docs:["The [`SurveyDataUnitTracker`] account"]},{name:"sduMint",isMut:!1,isSigner:!1,docs:["The Survey Data Unit Mint"]},{name:"resourceMint",isMut:!1,isSigner:!1,docs:["The mint of the resource spent when scanning for SDUs"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterSurveyDataUnitTrackerInput"}}]},{name:"removeCargoPod",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod (should be empty)"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"StarbaseRemoveCargoPodInput"}}]},{name:"removeConnection",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the rent refund funds from the connections go to."]},{name:"sector1",isMut:!0,isSigner:!1,docs:["The first sector to remove from"]},{name:"sector2",isMut:!0,isSigner:!1,docs:["The second sector to remove from"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"sector1Index",type:"u16"},{name:"sector2Index",type:"u16"},{name:"keyIndex",type:"u16"}]},{name:"removeCrewFromGame",accounts:[{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"sageCrewConfig",isMut:!1,isSigner:!1,docs:["The [`SageCrewConfig`] Account"]},{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The crew program `CrewConfig` account"]},{name:"newCrewOwner",isMut:!1,isSigner:!1,docs:["The new crew owner"]},{name:"crewDelegate",isMut:!1,isSigner:!1,docs:["The crew delegate"]},{name:"logWrapper",isMut:!1,isSigner:!1,docs:["The log wrapper"]},{name:"compressionProgram",isMut:!1,isSigner:!1,docs:["The compression program"]},{name:"bubblegumProgram",isMut:!1,isSigner:!1,docs:["The bubblegum program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RemoveCrewInput"}}]},{name:"removeInvalidShipEscrow",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["The Destination Token Account"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"shipEscrowTokenAccount",isMut:!0,isSigner:!1,docs:["The Escrow Token Account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Token Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RemoveShipEscrowInput"}}]},{name:"removeShipEscrow",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["The Destination Token Account"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"shipEscrowTokenAccount",isMut:!0,isSigner:!1,docs:["The Escrow Token Account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Token Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RemoveShipEscrowInput"}}]},{name:"respawnToLoadingBay",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoHold",isMut:!1,isSigner:!1,docs:["The fleet `cargo_hold` cargo pod"]},{name:"fuelTank",isMut:!1,isSigner:!1,docs:["The fleet `fuel_tank` cargo pod"]},{name:"ammoBank",isMut:!1,isSigner:!1,docs:["The fleet `ammo_bank` cargo pod"]}],args:[{name:"input",type:{defined:"RespawnToLoadingBayInput"}}]},{name:"scanForSurveyDataUnits",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"surveyDataUnitTracker",isMut:!1,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]},{name:"surveyDataUnitTrackerSigner",isMut:!1,isSigner:!1,docs:["The `SurveyDataUnitTracker` signer"]},{name:"cargoHold",isMut:!0,isSigner:!1,docs:["The general cargo hold cargo pod for the fleet"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"sduTokenFrom",isMut:!0,isSigner:!1,docs:["Source token account for the SDU, owned by `survey_data_unit_tracker_signer`"]},{name:"sduTokenTo",isMut:!0,isSigner:!1,docs:["Destination token account for the SDU, owned by cargo_hold"]},{name:"resourceTokenFrom",isMut:!0,isSigner:!1,docs:["Token account for `resource_mint`, owned by fleet"]},{name:"resourceMint",isMut:!0,isSigner:!1,docs:["The resource that is spent when scanning for Survey Data Units"]},{name:"sduCargoType",isMut:!1,isSigner:!1,docs:["The cargo type of the SDU"]},{name:"resourceCargoType",isMut:!1,isSigner:!1,docs:["The cargo type of `resource_mint`"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition"]},{name:"dataRunningXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"councilRankXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"progressionConfig",isMut:!1,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The cargo program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]},{name:"instructionsSysvar",isMut:!1,isSigner:!1,docs:["Solana Instructions Sysvar"]},{name:"recentSlothashes",isMut:!1,isSigner:!1,docs:["Solana recent slothashes"]}],args:[{name:"input",type:{defined:"ScanForSurveyDataUnitsInput"}}]},{name:"setNextShip",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"ship",isMut:!0,isSigner:!1,docs:["The current [`Ship`] account"]},{name:"nextShip",isMut:!0,isSigner:!1,docs:["The next [`Ship`] account"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"startCraftingProcess",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"craftingRecipe",isMut:!0,isSigner:!1,docs:["The crafting [`Recipe`]"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"startMiningAsteroid",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fleetFuelTokenAccount",isMut:!1,isSigner:!1,docs:["The fleet fuel token account - owned by the `fuel_tank`"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"mineItem",isMut:!1,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"planet",isMut:!0,isSigner:!1,docs:["The [`Planet`] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"startStarbaseUpgrade",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"upgradeFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account for starbase upgrades"]},{name:"upgradeRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the starbase upgrade"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"startSubwarp",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:"StartSubwarpInput"}}]},{name:"stopCraftingProcess",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"craftingRecipe",isMut:!0,isSigner:!1,docs:["The crafting [`Recipe`]"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"stopMiningAsteroid",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"mineItem",isMut:!1,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"planet",isMut:!0,isSigner:!1,docs:["The [`Planet`] account"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fuel tank cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account for fuel"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `fuel_tank`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token account"]},{name:"pilotXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"miningXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"councilRankXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"progressionConfig",isMut:!1,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"StopMiningAsteroidInput"}}]},{name:"stopSubwarp",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:"StopSubwarpInput"}}]},{name:"submitStarbaseUpgradeResource",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"resourceCraftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"resourceCraftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"resourceCraftingFacility",isMut:!1,isSigner:!1,docs:["The crafting facility account"]},{name:"upgradeProcessRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the submission of resources used in the upgrade process"]},{name:"starbaseUpgradeRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the starbase upgrade"]},{name:"resourceRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the resource being submitted","i.e. the recipe for crafting the resource whose mint would be `token_mint`"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `crafting_process`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `cargo_pod_to` (receives any refunds)"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"loyaltyPointsAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"progressionConfig",isMut:!1,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"SubmitStarbaseUpgradeResourceInput"}}]},{name:"syncStarbasePlayer",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[]},{name:"syncStarbaseUpgradeIngredients",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"upgradeRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the starbase upgrade"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"transferCargoAtStarbase",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The origin cargo pod"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"StarbaseTransferCargoInput"}}]},{name:"transferCargoWithinFleet",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The origin cargo pod"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"TransferCargoWithinFleetInput"}}]},{name:"unloadFleetCrew",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}],args:[{name:"input",type:{defined:"FleetCrewInput"}}]},{name:"updateGame",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!0,isSigner:!1,docs:["The [`Game`] account"]}]}],args:[{name:"input",type:{defined:"UpdateGameInput"}}]},{name:"updateGameState",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!0,isSigner:!1,docs:["The [`GameState`] account"]}],args:[{name:"input",type:{defined:"UpdateGameStateInput"}}]},{name:"updateMineItem",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]}],args:[{name:"input",type:{defined:"UpdateMineItemInput"}}]},{name:"updatePlanet",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"planet",isMut:!0,isSigner:!1,docs:["The [`Planet`] account"]}],args:[{name:"input",type:{defined:"UpdatePlanetInput"}}]},{name:"updateProgressionConfig",accounts:[{name:"progressionConfig",isMut:!0,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"UpdateProgressionConfigInput"}}]},{name:"updateResource",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"mineItem",isMut:!1,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]}],args:[{name:"input",type:{defined:"UpdateResourceInput"}}]},{name:"updateShip",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"ship",isMut:!0,isSigner:!1,docs:["The [`Ship`] account"]}],args:[{name:"input",type:{defined:"UpdateShipInput"}}]},{name:"updateShipEscrow",accounts:[{name:"oldShip",isMut:!1,isSigner:!1,docs:["The old [`Ship`] Account"]},{name:"next",isMut:!1,isSigner:!1,docs:["The address indicated as `next` in the `old_ship` account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:"UpdateShipEscrowInput"}}]},{name:"updateShipInFleet",accounts:[{name:"fleet",isMut:!0,isSigner:!1,docs:["The [`Fleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"oldShip",isMut:!1,isSigner:!1,docs:["The old [`Ship`] Account"]},{name:"next",isMut:!1,isSigner:!1,docs:["The address indicated as `next` in the `old_ship` account"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:"UpdateShipFleetInput"}}]},{name:"updateStar",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"star",isMut:!0,isSigner:!1,docs:["The [`Star`] account"]}],args:[{name:"input",type:{defined:"UpdateStarInput"}}]},{name:"updateStarbase",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new game"]},{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"UpdateStarbaseInput"}}]},{name:"updateSurveyDataUnitTracker",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"surveyDataUnitTracker",isMut:!0,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]}],args:[{name:"input",type:{defined:"UpdateSurveyDataUnitTrackerInput"}}]},{name:"warpLane",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fromStarbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"toStarbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"fromSector",isMut:!1,isSigner:!1,docs:["The Sector account representing the fleet`s  current sector"]},{name:"toSector",isMut:!1,isSigner:!1,docs:["The Sector account that `Fleet` will move to"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fuel tank cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The `Cargo Type` Account"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The `CargoStatsDefinition` for the cargo type"]},{name:"fuelTokenFrom",isMut:!0,isSigner:!1,docs:["The fuel source token account - owned by the `fuel_tank`"]},{name:"fuelMint",isMut:!0,isSigner:!1,docs:["Token Mint - The fuel mint"]},{name:"feeTokenFrom",isMut:!0,isSigner:!1,docs:["The fee source token account"]},{name:"feeTokenTo",isMut:!0,isSigner:!1,docs:["The fee destination token account"]},{name:"feeMint",isMut:!0,isSigner:!1,docs:["Fee Token Mint"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"WarpLaneInput"}}]},{name:"warpToCoordinate",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fuel tank cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account for fuel"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `fuel_tank`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["Token Mint - The fuel mint"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"WarpToCoordinateInput"}}]},{name:"withdrawCargoFromFleet",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The origin cargo pod, owned by the fleet"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod, owned by the Starbase player"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"WithdrawCargoFromFleetInput"}}]},{name:"withdrawCargoFromGame",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `key`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"CargoToGameInput"}}]},{name:"withdrawCraftingIngredient",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`](crafting::CraftingFacility) account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `crafting_process`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"StarbaseWithdrawCraftingIngredientInput"}}]}],accounts:[{name:"craftingInstance",docs:["This account is used to store relevant information for a crafting process instance"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"seqId",docs:["The sequence id for the `Starbase`"],type:"u16"},{name:"authority",docs:["The authority over the `CraftingInstance`"],type:"publicKey"},{name:"craftingProcess",docs:["The `CraftingProcess` account address"],type:"publicKey"},{name:"instanceType",docs:["the planet type"],type:"u8"},{name:"numCrew",docs:["The number of crew taking part in the crafting process"],type:"u64"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"disbandedFleet",docs:["Keeps track of a fleet while it is disbanded"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["The game id this belongs to."],type:"publicKey"},{name:"ownerProfile",docs:["The owner's profile."],type:"publicKey"},{name:"starbase",docs:["The `Starbase` at which the original `Fleet` was disbanded."],type:"publicKey"},{name:"fleetLabel",docs:["The label or name of the disbanded fleet."],type:{array:["u8",32]}},{name:"fleetShips",docs:["The `FleetShips` account belonging to the original `Fleet` that was disbanded."],type:"publicKey"},{name:"bump",docs:["The disbanded fleet's bump."],type:"u8"}]}},{name:"fleet",docs:["A `SAGE` fleet."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["The game id this belongs to."],type:"publicKey"},{name:"ownerProfile",docs:["The owner's profile."],type:"publicKey"},{name:"fleetShips",docs:["Fleet Ships Key"],type:"publicKey"},{name:"subProfile",docs:["The fleet's sub-authority.","If [`Some`] will have the exclusive ability to interact with this fleet."],type:{defined:"OptionalNonSystemPubkey"}},{name:"subProfileInvalidator",docs:["The authority for revoking a sun-authority."],type:"publicKey"},{name:"faction",docs:["The faction of the profile."],type:"u8"},{name:"fleetLabel",docs:["The label or name of the fleet."],type:{array:["u8",32]}},{name:"shipCounts",docs:["The number of ships in the fleet."],type:{defined:"ShipCounts"}},{name:"warpCooldownExpiresAt",docs:["The time at which the warp cooldown expires"],type:"i64"},{name:"scanCooldownExpiresAt",docs:["The time at which the scan cooldown expires"],type:"i64"},{name:"stats",docs:["The fleet's stats."],type:{defined:"ShipStats"}},{name:"cargoHold",docs:["The Cargo pod representing the fleet's cargo hold"],type:"publicKey"},{name:"fuelTank",docs:["The Cargo pod representing the fleet's fuel tank"],type:"publicKey"},{name:"ammoBank",docs:["The Cargo pod representing the fleet's ammo bank"],type:"publicKey"},{name:"updateId",docs:["The update id for the `Fleet`"],type:"u64"},{name:"bump",docs:["The fleet's bump."],type:"u8"}]}},{name:"fleetShips",docs:["Keeps track of a the individual ships that make up a fleet"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"fleet",docs:["The `Fleet` account this belongs to"],type:"publicKey"},{name:"fleetShipsInfoCount",docs:["List length of `RemainingData`"],type:"u32"},{name:"bump",docs:["The disbanded fleet's bump."],type:"u8"}]}},{name:"game",docs:["Global Game Configuration variables"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"updateId",docs:["The sequence id for updates."],type:"u64"},{name:"profile",docs:["The [`Profile`](player_profile::state::Profile) that handles the sector program permissions"],type:"publicKey"},{name:"gameState",docs:["The associated `GameState` account."],type:"publicKey"},{name:"points",docs:["Points setting"],type:{defined:"Points"}},{name:"cargo",docs:["Cargo settings"],type:{defined:"Cargo"}},{name:"crafting",docs:["Crafting settings"],type:{defined:"Crafting"}},{name:"mints",docs:["mint related settings"],type:{defined:"Mints"}},{name:"vaults",docs:["vault related settings"],type:{defined:"Vaults"}},{name:"riskZones",docs:["Data for risk zones"],type:{defined:"RiskZonesData"}}]}},{name:"gameState",docs:["Keeps track of variables that may change frequently during a `Game` session"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"updateId",docs:["The sequence id for updates"],type:"u64"},{name:"gameId",docs:["The `Game` that this belongs to"],type:"publicKey"},{name:"fleet",docs:["Fleet settings"],type:{defined:"FleetInfo"}},{name:"misc",docs:["Miscellaneous settings"],type:{defined:"MiscVariables"}},{name:"bump",docs:["PDA bump"],type:"u8"}]}},{name:"mineItem",docs:["Represents a token registered as an item that can be mined"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["the game_id account this item is registered with"],type:"publicKey"},{name:"name",docs:["The name of the `MineItem`"],type:{array:["u8",64]}},{name:"mint",docs:["the mint representing the items mined"],type:"publicKey"},{name:"resourceHardness",docs:["How hard it is to mine this item -> Ranges from 1-10"],type:"u16"},{name:"numResourceAccounts",docs:["The number of resource accounts for this mine item"],type:"u64"},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"planet",docs:["Planet"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"name",docs:["The name of this `Planet`"],type:{array:["u8",64]}},{name:"gameId",docs:["the `Game` that this belongs to"],type:"publicKey"},{name:"sector",docs:["the sector that this belongs to"],type:{array:["i64",2]}},{name:"subCoordinates",docs:["sub_coordinates as [x, y]"],type:{array:["i64",2]}},{name:"planetType",docs:["the planet type"],type:"u8"},{name:"position",docs:["the planet position"],type:"u8"},{name:"size",docs:["size"],type:"u64"},{name:"maxHp",docs:["maximum health"],type:"u64"},{name:"currentHealth",docs:["The current health of the `Planet`."],type:"u64"},{name:"amountMined",docs:["the cumulative amount mined from this `Asteroid`"],type:"u64"},{name:"numResources",docs:["the number of resources at this `Asteroid`"],type:"u8"},{name:"numMiners",docs:["the number of entities currently mining at this `Asteroid`"],type:"u64"}]}},{name:"playerCrewRecord",docs:["An account used to record how many crew members have been added to the game by a player",'This is meant to be used temporarily during the crew "pre add" period where players can add crew members to the game but not use them'],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"playerProfile",docs:["The `Profile` key"],type:"publicKey"},{name:"crewConfig",docs:["The `SageCrewConfig` key"],type:"publicKey"},{name:"gameId",docs:["The id of the `Game`"],type:"publicKey"},{name:"count",docs:["The number of crew members"],type:"u32"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"progressionConfig",docs:["Progression Config"],type:{kind:"struct",fields:[{name:"version",docs:["the data version of this account."],type:"u8"},{name:"gameId",docs:["the `Game` that this belongs to"],type:"publicKey"},{name:"dailyLpLimit",docs:["the daily limit for Loyalty Points (LP)"],type:"u64"},{name:"dailyCouncilRankXpLimit",docs:["the daily limit for Council Rank Experience Points (CRXP)"],type:"u64"},{name:"dailyPilotXpLimit",docs:["the daily limit for Pilot License Experience Points (PXP)"],type:"u64"},{name:"dailyDataRunningXpLimit",docs:["the daily limit for Data Running Experience Points (DRXP)"],type:"u64"},{name:"dailyMiningXpLimit",docs:["the daily limit for Mining Experience Points (MXP)"],type:"u64"},{name:"dailyCraftingXpLimit",docs:["the daily limit for Crafting Experience Points (CXP)"],type:"u64"},{name:"numItems",docs:["number of progression items being tracked"],type:"u16"}]}},{name:"resource",docs:["Represents a mine-able item existing at a particular location (e.g. a planet)"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["the game_id pubkey"],type:"publicKey"},{name:"location",docs:["the location's pubkey"],type:"publicKey"},{name:"mineItem",docs:["the mine item pubkey"],type:"publicKey"},{name:"locationType",docs:["the location type"],type:"u8"},{name:"systemRichness",docs:["How abundant the resource is at the location -> Ranges from 1-5"],type:"u16"},{name:"amountMined",docs:["the cumulative amount mined from this resource"],type:"u64"},{name:"numMiners",docs:["the number of entities currently mining this resource"],type:"u64"},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"sageCrewConfig",docs:["SAGE crew Config"],type:{kind:"struct",fields:[{name:"version",docs:["the data version of this account."],type:"u8"},{name:"gameId",docs:["the `Game` that this belongs to"],type:"publicKey"},{name:"config",docs:["the `CrewConfig` account address"],type:"publicKey"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"sagePlayerProfile",docs:["A `SAGE` player's profile."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"playerProfile",docs:["The `Profile` key"],type:"publicKey"},{name:"gameId",docs:["The id of the `Game`"],type:"publicKey"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"sector",docs:["Sector"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["the game_id that this belongs to"],type:"publicKey"},{name:"coordinates",docs:["coordinates as [x, y]"],type:{array:["i64",2]}},{name:"discoverer",docs:["The discoverer of this sector"],type:"publicKey"},{name:"name",docs:["The name of this sector"],type:{array:["u8",64]}},{name:"numStars",docs:["the number of stars in this system"],type:"u16"},{name:"numPlanets",docs:["the number of planets in this system"],type:"u16"},{name:"numMoons",docs:["the number of moons in this system"],type:"u16"},{name:"numAsteroidBelts",docs:["the number of num_asteroid belts in this system"],type:"u16"},{name:"lastScanTime",docs:["The last time the `Sector` was scanned"],type:"i64"},{name:"lastScanChance",docs:["The probability of finding SDUs in the `Sector` from the last time it was scanned"],type:"u32"},{name:"bump",docs:["PDA bump"],type:"u8"},{name:"numConnections",docs:["the number of connections in this system"],type:"u16"}]}},{name:"ship",docs:["This account represents a Ship"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["the game_id account this Ship is registered with"],type:"publicKey"},{name:"mint",docs:["the mint representing the Ship"],type:"publicKey"},{name:"name",docs:["The name of this `Ship`"],type:{array:["u8",64]}},{name:"sizeClass",docs:["the ship's size class"],type:"u8"},{name:"stats",docs:["The ship's stats"],type:{defined:"ShipStats"}},{name:"updateId",docs:["The `update_id` for the `Ship`"],type:"u64"},{name:"maxUpdateId",docs:["The max `Game` `update_id` that the `Ship` is valid for"],type:"u64"},{name:"next",docs:["the next `Ship` account to use when this `Ship` is updated"],type:{defined:"OptionalNonSystemPubkey"}}]}},{name:"star",docs:["`Star` account"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"name",docs:["The name of this `Star`"],type:{array:["u8",64]}},{name:"gameId",docs:["the game_id that this belongs to"],type:"publicKey"},{name:"sector",docs:["the sector that this belongs to"],type:{array:["i64",2]}},{name:"size",docs:["size"],type:"u64"},{name:"subCoordinates",docs:["sub_coordinates as [x, y]"],type:{array:["i64",2]}},{name:"starType",docs:["the star type"],type:"u8"}]}},{name:"starbase",docs:["Starbase"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this `Starbase` account."],type:"u8"},{name:"gameId",docs:["the game_id that this `Starbase` belongs to"],type:"publicKey"},{name:"sector",docs:["the sector that this `Starbase` belongs to"],type:{array:["i64",2]}},{name:"craftingFacility",docs:["the [`CraftingFacility`] to use for crafting at this `Starbase`"],type:"publicKey"},{name:"upgradeFacility",docs:["the [`CraftingFacility`] to use for upgrade jobs at this `Starbase`"],type:"publicKey"},{name:"name",docs:["The name of this `Starbase`"],type:{array:["u8",64]}},{name:"subCoordinates",docs:["coordinates as [x, y]"],type:{array:["i64",2]}},{name:"faction",docs:["The faction of the `Starbase`."],type:"u8"},{name:"bump",docs:["bump for PDA"],type:"u8"},{name:"seqId",docs:["The sequence id for the `Starbase`"],type:"u16"},{name:"state",docs:["The state of the `Starbase`. Is a [`StarbaseState`]."],type:"u8"},{name:"level",docs:["The level of the `Starbase`."],type:"u8"},{name:"hp",docs:["The `Starbase` health points."],type:"u64"},{name:"sp",docs:["The `Starbase` shield points."],type:"u64"},{name:"sectorRingAvailable",docs:["The planet position (`sector::state::Ring`) available for this `Starbase`"],type:"u8"},{name:"upgradeState",docs:["The `Starbase` upgrade state"],type:"u8"},{name:"upgradeIngredientsChecksum",docs:["used to check if expected upgrade ingredients have been supplied"],type:{array:["u8",16]}},{name:"numUpgradeIngredients",docs:["number of ingredients needed for starbase upgrade"],type:"u8"},{name:"upkeepAmmoBalance",docs:["The balance of ammo for upkeep"],type:"u64"},{name:"upkeepAmmoLastUpdate",docs:["The last time ammo for upkeep was updated (Local time)"],type:"i64"},{name:"upkeepAmmoGlobalLastUpdate",docs:["The last time ammo for upkeep was updated (Global time)"],type:"i64"},{name:"upkeepFoodBalance",docs:["The balance of food for upkeep"],type:"u64"},{name:"upkeepFoodLastUpdate",docs:["The last time food for upkeep was updated (Local time)"],type:"i64"},{name:"upkeepFoodGlobalLastUpdate",docs:["The last time food for upkeep was updated (Global time)"],type:"i64"},{name:"upkeepToolkitBalance",docs:["The balance of toolkits for upkeep"],type:"u64"},{name:"upkeepToolkitLastUpdate",docs:["The last time toolkits for upkeep was updated (Local time)"],type:"i64"},{name:"upkeepToolkitGlobalLastUpdate",docs:["The last time toolkits for upkeep was updated (Global time)"],type:"i64"},{name:"builtDestroyedTimestamp",docs:["The last time the starbase was built or destroyed"],type:"i64"}]}},{name:"starbasePlayer",docs:["The `SAGE` player info within a `Starbase`"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"playerProfile",docs:["The `Profile` key"],type:"publicKey"},{name:"gameId",docs:["The id of the `Game`"],type:"publicKey"},{name:"starbase",docs:["The `Starbase` key"],type:"publicKey"},{name:"sagePlayerProfile",docs:["The `SagePlayerProfile` key"],type:"publicKey"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"},{name:"shipEscrowCount",docs:["List length of `RemainingData`"],type:"u32"},{name:"oldTotalCrew",docs:["The old total crew members from the player's fleets at the `Starbase`","This is used BEFORE crew program features are turned ON"],type:"u32"},{name:"newTotalCrew",docs:["The new total crew members from the player's fleets at the `Starbase`","This is used AFTER crew program features are turned ON"],type:"u32"},{name:"busyCrew",docs:["The number of crew members that is engaged/busy and not available"],type:"u64"},{name:"updateId",docs:["The `Game` update id"],type:"u64"},{name:"updatedShipEscrowCount",docs:["Number of updated items in `RemainingData` list","This will be `ship_escrow_count` when all ships in escrow are up-to-date"],type:"u32"}]}},{name:"surveyDataUnitTracker",docs:["Survey Data Unit (SDU) Tracker"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["The game_id that this belongs to"],type:"publicKey"},{name:"sduMint",docs:["The Survey Data Unit Mint"],type:"publicKey"},{name:"resourceMint",docs:["The mint of the resource spent when scanning for SDUs"],type:"publicKey"},{name:"signer",docs:["The signer for this account"],type:"publicKey"},{name:"signerBump",docs:["The signer for this account"],type:"u8"},{name:"coordinatesRange",docs:["The valid coordinates range","e.g. a value of [-50, 50] means that coordinates from [-50, -50] to [50, 50] are valid for SDU scanning"],type:{array:["i64",2]}},{name:"cssCoordinates",docs:["The locations of the central space stations (CSS) of the three factions"],type:{array:[{array:["i64",2]},3]}},{name:"originCoordinates",docs:['The co-ordinates of the "origin"; used in calculating SDU probability'],type:{array:["i64",2]}},{name:"cssMaxDistance",docs:["The max distance from the nearest CSS; used in calculating SDU probability"],type:"u32"},{name:"originMaxDistance",docs:["The max distance from the `origin_coordinates`; used in calculating SDU probability"],type:"u32"},{name:"distanceWeighting",docs:["The distance weighting; used in calculating SDU probability"],type:"u32"},{name:"tMax",docs:["The maximum time before SDU probability at a location changes"],type:"i64"},{name:"xMul",docs:["Multiplier in the X dimension; used in noise function"],type:"u32"},{name:"yMul",docs:["Multiplier in the Y dimension; used in noise function"],type:"u32"},{name:"zMul",docs:["Multiplier in the Z dimension; used in noise function"],type:"u32"},{name:"sduMaxPerSector",docs:["The maximum number of SDUs that can be found per scan per sector"],type:"u32"},{name:"scanChanceRegenPeriod",docs:["The amount of time in seconds that it takes for a sector scan chance to fully regenerate"],type:"i16"}]}}],types:[{name:"AddCrewInput",docs:["Struct for data input for `AddCrew`"],type:{kind:"struct",fields:[{name:"items",docs:["inputs required to transfer crew cNFTs"],type:{vec:{defined:"CrewTransferInput"}}}]}},{name:"AddShipEscrowInput",docs:["Struct for data input for `AddShipEscrow`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Amount of `Ship` tokens to transfer to escrow"],type:"u64"},{name:"index",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`","Some index `WrappedShipEscrow`, or None for new `WrappedShipEscrow`"],type:{option:"u32"}}]}},{name:"AddShipToFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Number of ships to add to the fleet"],type:"u8"},{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"},{name:"fleetShipInfoIndex",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:{option:"u32"}},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"Cargo",docs:["Variables for the Cargo program"],type:{kind:"struct",fields:[{name:"statsDefinition",docs:["The cargo stats definition account"],type:"publicKey"}]}},{name:"CargoStats",docs:["A ship's cargo stats"],type:{kind:"struct",fields:[{name:"cargoCapacity",docs:["the capacity of the ship's cargo hold"],type:"u32"},{name:"fuelCapacity",docs:["the capacity of the ship's fuel tank"],type:"u32"},{name:"ammoCapacity",docs:["the capacity of the ship's ammo bank"],type:"u32"},{name:"ammoConsumptionRate",docs:["the amount of ammo consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"foodConsumptionRate",docs:["the amount of food consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"miningRate",docs:["the amount of resources that can be mined by a ship per second"],type:"u32"},{name:"upgradeRate",docs:["the amount of upgrade material that is consumed by a ship per second while upgrading a Starbase"],type:"u32"},{name:"cargoTransferRate",docs:["the amount of cargo that a ship can transfer per second to another ship outside of dock"],type:"u32"},{name:"tractorBeamGatherRate",docs:["the amount of cargo that the ship can gather per second using its tractor beam"],type:"u32"}]}},{name:"CargoStatsUnpacked",docs:["Unpacked version of [`CargoStats`]"],type:{kind:"struct",fields:[{name:"cargoCapacity",docs:["the capacity of the ship's cargo hold"],type:"u32"},{name:"fuelCapacity",docs:["the capacity of the ship's fuel tank"],type:"u32"},{name:"ammoCapacity",docs:["the capacity of the ship's ammo bank"],type:"u32"},{name:"ammoConsumptionRate",docs:["the amount of ammo consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"foodConsumptionRate",docs:["the amount of food consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"miningRate",docs:["the amount of resources that can be mined by a ship per second"],type:"u32"},{name:"upgradeRate",docs:["the amount of upgrade material that is consumed by a ship per second while upgrading a Starbase"],type:"u32"},{name:"cargoTransferRate",docs:["the amount of cargo that a ship can transfer per second to another ship outside of dock"],type:"u32"},{name:"tractorBeamGatherRate",docs:["the amount of cargo that the ship can gather per second using its tractor beam"],type:"u32"}]}},{name:"CargoToGameInput",docs:["Struct for data input to `DepositCargoToGame`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"CloseDisbandedFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"Crafting",docs:["Variables for the Crafting program"],type:{kind:"struct",fields:[{name:"domain",docs:["The crafting domain account"],type:"publicKey"}]}},{name:"CraftingInstanceType",docs:["Represents the type of `CraftingInstance`"],type:{kind:"enum",variants:[{name:"StarbaseCrafting"},{name:"StarbaseUpgradeMaterial"}]}},{name:"CreateFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Number of ships to add to the fleet"],type:"u8"},{name:"fleetLabel",docs:["the fleet label"],type:{array:["u8",32]}},{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"},{name:"cargoHoldSeeds",docs:["cargo hold seeds"],type:{array:["u8",32]}},{name:"fuelTankSeeds",docs:["fuel tank seeds"],type:{array:["u8",32]}},{name:"ammoBankSeeds",docs:["ammo bank seeds"],type:{array:["u8",32]}},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"CrewTransferInput",docs:["Struct for data input for crew cNFT transfer"],type:{kind:"struct",fields:[{name:"dataHash",docs:["The crew cNFT data hash"],type:{array:["u8",32]}},{name:"proofCount",docs:["The number of proofs for the crew cNFT"],type:"u8"},{name:"leafIndex",docs:["The crew cNFT index (index of the leaf node in the Merkle tree)"],type:"u32"}]}},{name:"DepositCargoToFleetInput",docs:["Struct for data input to `DepositCargoToFleet`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"DepositStarbaseUpkeepResourceInput",docs:["Submit starbase upkeep resource inputs"],type:{kind:"struct",fields:[{name:"pointsProgramPermissionsKeyIndex",docs:["the index of the points program permissions in the player profile"],type:"u16"},{name:"sagePermissionsKeyIndex",docs:["the index of the key in sage permissions in the player profile"],type:"u16"},{name:"resourceType",docs:["the resource type"],type:"u8"},{name:"resourceIndex",docs:["the index of the resource represented by `token_mint` in the `resource_recipe` ingredients list"],type:"u16"},{name:"amount",docs:["the amount"],type:"u64"},{name:"epochIndex",docs:["the index of the epoch in the `RedemptionConfig` account"],type:"u16"}]}},{name:"DeregisterSurveyDataUnitTrackerInput",docs:["Struct for data input that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"DevAddCrewInput",docs:["Struct for data input to Dev Add Crew"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the permissions profile"],type:"u16"},{name:"crewCount",docs:["The number of crew to add or remove"],type:"i32"}]}},{name:"DisbandFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"DisbandedFleetToEscrowInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Number of ships to add to the fleet"],type:"u16"},{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:{option:"u32"}},{name:"fleetShipInfoIndex",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:"u32"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"DiscoverSectorInput",docs:["Struct for data input for `DiscoverSector`"],type:{kind:"struct",fields:[{name:"coordinates",docs:["The coordinates of the new `Sector`"],type:{array:["i64",2]}},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"FactionsStarbaseLevelInfo",docs:["`Starbase` levels discriminated by faction"],type:{kind:"struct",fields:[{name:"mud",docs:["Mud Starbase Levels Info"],type:{array:[{defined:"StarbaseLevelInfo"},7]}},{name:"oni",docs:["Oni Starbase Levels Info"],type:{array:[{defined:"StarbaseLevelInfo"},7]}},{name:"ustur",docs:["Ustur Starbase Levels Info"],type:{array:[{defined:"StarbaseLevelInfo"},7]}}]}},{name:"FleetCrewInput",docs:["Struct for data input to `FleetCrew`"],type:{kind:"struct",fields:[{name:"count",docs:["passenger count"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"FleetInfo",docs:["Variables for the Fleet program"],type:{kind:"struct",fields:[{name:"starbaseLevels",docs:["`Starbase` levels discriminated by faction"],type:{defined:"FactionsStarbaseLevelInfo"}},{name:"upkeep",docs:["`Starbase` upkeep discriminated by level"],type:{defined:"StarbaseUpkeepLevels"}},{name:"maxFleetSize",docs:["Maximum `Fleet` size allowed"],type:"u32"}]}},{name:"FleetInput",docs:["Struct for data input to Update fleet settings"],type:{kind:"struct",fields:[{name:"starbaseLevelInfoArray",docs:["`Starbase` Level Info array"],type:{option:{vec:{defined:"StarbaseLevelInfoArrayInput"}}}},{name:"upkeepInfoArray",docs:["`Starbase` Level Info array"],type:{option:{vec:{defined:"StarbaseUpkeepInfoArrayInput"}}}},{name:"maxFleetSize",docs:["Maximum `Fleet` size allowed"],type:{option:"u32"}}]}},{name:"FleetShipsInfo",docs:["Struct that represents info on a single ship type in a fleet"],type:{kind:"struct",fields:[{name:"ship",docs:["The `Ship` account address"],type:"publicKey"},{name:"amount",docs:["The `Ship` token amount in escrow"],type:"u64"},{name:"updateId",docs:["The update id for the `Ship`"],type:"u64"}]}},{name:"ForcedDisbandFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"fleetShipInfoIndex",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:"u32"}]}},{name:"Idle",docs:["The data for the [`FleetStateData::Idle`](crate::state_machine::FleetStateData::Idle) state"],type:{kind:"struct",fields:[{name:"sector",docs:["The star system the fleet is in"],type:{array:["i64",2]}}]}},{name:"IdleToRespawnInput",docs:["Struct for data input to initialize an `IdleToRespawn` Ix"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["index of the key in the player profile"],type:"u16"}]}},{name:"IngredientIndexInput",docs:["Struct for data input that has `key_index`"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the recipe output"],type:"u16"}]}},{name:"InitGameStateInput",docs:["Struct for data input to `InitGameState`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"KeyIndexInput",docs:["Struct for data input that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"LocationType",docs:["Represents different types of locations that a `Resource` might be found"],type:{kind:"enum",variants:[{name:"Planet"}]}},{name:"ManageGameInput",docs:["Struct for data input to managing Game accounts"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"MineAsteroid",docs:["The data for the [`FleetStateData::MineAsteroid`](crate::state_machine::FleetStateData::MineAsteroid) state"],type:{kind:"struct",fields:[{name:"asteroid",docs:["The `Asteroid` the `Fleet` is mining (Must be an asteroid belt)"],type:"publicKey"},{name:"resource",docs:["The `Resource` being mined on the `Asteroid`"],type:"publicKey"},{name:"start",docs:["The timestamp at which mining activity started"],type:"i64"},{name:"end",docs:["The timestamp at which mining activity stops"],type:"i64"},{name:"amountMined",docs:["The cumulative amount mined"],type:"u64"},{name:"lastUpdate",docs:["The last time the `Fleet` was updated"],type:"i64"}]}},{name:"MineAsteroidToRespawnInput",docs:["Struct for data input for `MineAsteroidToRespawnInput`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"Mints",docs:["Token mints"],type:{kind:"struct",fields:[{name:"atlas",docs:["ATLAS token mint"],type:"publicKey"},{name:"polis",docs:["POLIS token mint"],type:"publicKey"},{name:"ammo",docs:["ammunition"],type:"publicKey"},{name:"food",docs:["food"],type:"publicKey"},{name:"fuel",docs:["fuel"],type:"publicKey"},{name:"repairKit",docs:["repair kit"],type:"publicKey"}]}},{name:"MiscStats",docs:["A ship's miscellaneous stats"],type:{kind:"struct",fields:[{name:"requiredCrew",docs:["Number of crew required to operate the ship"],type:"u16"},{name:"passengerCapacity",docs:["Number of crew that the ship can carry as passengers"],type:"u16"},{name:"crewCount",docs:["Total number of crew on the ship (required crew + passengers on board)","Will be zero until `CREW_FEATURE` is enabled"],type:"u16"},{name:"rentedCrew",docs:["Total number of crew that were rented out together with the fleet"],type:"u16"},{name:"respawnTime",docs:["the time it takes the ship to respawn"],type:"u16"},{name:"scanCoolDown",docs:["the time it takes the ship to be able to scan again after scanning"],type:"u16"},{name:"sduPerScan",docs:["The number of SDUs that can be found while scanning"],type:"u32"},{name:"scanCost",docs:["the amount of resource required to do a scan"],type:"u32"},{name:"placeholder",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"},{name:"placeholder2",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"},{name:"placeholder3",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"}]}},{name:"MiscStatsUnpacked",docs:["Unpacked version of [`MiscStats`]"],type:{kind:"struct",fields:[{name:"requiredCrew",docs:["Number of crew required to operate the ship"],type:"u16"},{name:"passengerCapacity",docs:["Number of crew that the ship can carry as passengers"],type:"u16"},{name:"crewCount",docs:["Total number of crew on the ship (required crew + passengers on board)","Will be zero until `CREW_FEATURE` is enabled"],type:"u16"},{name:"rentedCrew",docs:["Total number of crew that were rented out together with the fleet"],type:"u16"},{name:"respawnTime",docs:["the time it takes the ship to respawn"],type:"u16"},{name:"scanCoolDown",docs:["the time it takes the ship to be able to scan again after scanning"],type:"u16"},{name:"sduPerScan",docs:["The number of SDUs that can be found while scanning"],type:"u32"},{name:"scanCost",docs:["the amount of resource required to do a scan"],type:"u32"},{name:"placeholder",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"},{name:"placeholder2",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"},{name:"placeholder3",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"}]}},{name:"MiscVariables",docs:["Miscellaneous game state variables"],type:{kind:"struct",fields:[{name:"warpLaneFuelCostReduction",docs:['Percentage by which the "warp lane" movement type reduces warp fuel cost'],type:"i16"},{name:"respawnFee",docs:["Respawn fee; You cannot enter into the respawning state without paying this fee","Since ATLAS has 8 decimal places, units are in the smallest value of ATLAS possible."],type:"u64"},{name:"upkeepMiningEmissionsPenalty",docs:["Percentage by which to reduce the asteroid mining rate if a starbase ammo upkeep coffer is empty"],type:"i16"}]}},{name:"MiscVariablesInput",docs:["Struct for data input to update miscellaneous settings"],type:{kind:"struct",fields:[{name:"warpLaneFuelCostReduction",docs:['Percentage by which the "warp lane" movement type reduces warp fuel cost'],type:{option:"i16"}},{name:"upkeepMiningEmissionsPenalty",docs:["Percentage by which to reduce the asteroid mining rate if a starbase ammo upkeep coffer is empty"],type:{option:"i16"}},{name:"respawnFee",docs:["Respawn fee, charged in ATLAS"],type:{option:"u64"}}]}},{name:"MoveSubwarp",docs:["The data for the [`FleetStateData::MoveSubwarp`] state"],type:{kind:"struct",fields:[{name:"fromSector",docs:["The sector the fleet is coming from"],type:{array:["i64",2]}},{name:"toSector",docs:["The sector the fleet is going to"],type:{array:["i64",2]}},{name:"currentSector",docs:["The sector the fleet is currently in"],type:{array:["i64",2]}},{name:"departureTime",docs:["When the fleet started subwarp"],type:"i64"},{name:"arrivalTime",docs:["When the fleet will finish subwarp"],type:"i64"},{name:"fuelExpenditure",docs:["The fuel cost of the subwarp"],type:"u64"},{name:"lastUpdate",docs:["The last update time"],type:"i64"}]}},{name:"MoveWarp",docs:["The data for the [`FleetStateData::MoveWarp`] state"],type:{kind:"struct",fields:[{name:"fromSector",docs:["The star system the fleet is coming from"],type:{array:["i64",2]}},{name:"toSector",docs:["The star system the fleet is going to"],type:{array:["i64",2]}},{name:"warpStart",docs:["When the fleet started warping"],type:"i64"},{name:"warpFinish",docs:["When the warp will end"],type:"i64"}]}},{name:"MovementStats",docs:["A ship's movement stats"],type:{kind:"struct",fields:[{name:"subwarpSpeed",docs:["the amount of distance that the ship can cover in one second while sub-warping"],type:"u32"},{name:"warpSpeed",docs:["the amount of distance that the ship can cover in one second while warping"],type:"u32"},{name:"maxWarpDistance",docs:["the max distance that the ship can warp"],type:"u16"},{name:"warpCoolDown",docs:["the time it takes the ship to be able to warp again after a warp"],type:"u16"},{name:"subwarpFuelConsumptionRate",docs:["the amount of fuel consumed by the ship when sub-warp moving"],type:"u32"},{name:"warpFuelConsumptionRate",docs:["the amount of fuel consumed by the ship when warp moving"],type:"u32"},{name:"planetExitFuelAmount",docs:["the amount of fuel required to exit a planet"],type:"u32"}]}},{name:"MovementStatsUnpacked",docs:["Unpacked version of [`MovementStats`]"],type:{kind:"struct",fields:[{name:"subwarpSpeed",docs:["the amount of distance that the ship can cover in one second while sub-warping"],type:"u32"},{name:"warpSpeed",docs:["the amount of distance that the ship can cover in one second while warping"],type:"u32"},{name:"maxWarpDistance",docs:["the max distance that the ship can warp"],type:"u16"},{name:"warpCoolDown",docs:["the time it takes the ship to be able to warp again after a warp"],type:"u16"},{name:"subwarpFuelConsumptionRate",docs:["the amount of fuel consumed by the ship when sub-warp moving"],type:"u32"},{name:"warpFuelConsumptionRate",docs:["the amount of fuel consumed by the ship when warp moving"],type:"u32"},{name:"planetExitFuelAmount",docs:["the amount of fuel required to exit a planet"],type:"u32"}]}},{name:"OptionalNonSystemPubkey",docs:["A pubkey sized option that is none if set to the system program."],type:{kind:"struct",fields:[{name:"key",type:"publicKey"}]}},{name:"PlanetType",docs:["Represents different types a `Planet` could be"],type:{kind:"enum",variants:[{name:"Terrestrial"},{name:"Volcanic"},{name:"Barren"},{name:"AsteroidBelt"},{name:"GasGiant"},{name:"IceGiant"},{name:"Dark"}]}},{name:"Points",docs:["Variables for the Points program"],type:{kind:"struct",fields:[{name:"lpCategory",docs:["Represents the points category & modifier to use for Loyalty Points (LP)"],type:{defined:"SagePointsCategory"}},{name:"councilRankXpCategory",docs:["Represents the points category & modifier to use for Council Rank Experience Points (CRXP)"],type:{defined:"SagePointsCategory"}},{name:"pilotXpCategory",docs:["Represents the points category & modifier to use for Pilot License Experience Points (PXP)"],type:{defined:"SagePointsCategory"}},{name:"dataRunningXpCategory",docs:["Represents the points category & modifier to use for Data Running Experience Points (DRXP)"],type:{defined:"SagePointsCategory"}},{name:"miningXpCategory",docs:["Represents the points category & modifier to use for Mining Experience Points (MXP)"],type:{defined:"SagePointsCategory"}},{name:"craftingXpCategory",docs:["Represents the points category & modifier to use for Crafting Experience Points (CXP)"],type:{defined:"SagePointsCategory"}}]}},{name:"ProgressionItem",docs:["Progression Item"],type:{kind:"struct",fields:[{name:"value",docs:["The progression points value"],type:"u32"}]}},{name:"ProgressionItemInput",docs:["Progression Item for Data Input"],type:{kind:"struct",fields:[{name:"itemType",docs:["The type of progression item"],type:"u8"},{name:"item",docs:["The progression item"],type:{defined:"ProgressionItem"}}]}},{name:"ProgressionItemInputUnpacked",docs:["Unpacked version of [`ProgressionItemInput`]"],type:{kind:"struct",fields:[{name:"itemType",docs:["The type of progression item"],type:"u8"},{name:"item",docs:["The progression item"],type:{defined:"ProgressionItem"}}]}},{name:"ProgressionItemType",docs:["The different types of progression items"],type:{kind:"enum",variants:[{name:"Subwarp"},{name:"Warp"},{name:"WarpLane"},{name:"AsteroidExit"},{name:"ScanUnsuccessful"},{name:"ScanSuccessful"},{name:"Mining"},{name:"Crafting"},{name:"Upkeep"},{name:"Upgrade"}]}},{name:"ProgressionItemUnpacked",docs:["Unpacked version of [`ProgressionItem`]"],type:{kind:"struct",fields:[{name:"value",docs:["The progression points value"],type:"u32"}]}},{name:"RegisterMineItemInput",docs:["Struct for data input to Register a Resource"],type:{kind:"struct",fields:[{name:"name",docs:["The name of the `MineItem`"],type:{array:["u8",64]}},{name:"resourceHardness",docs:["How hard it is to mine this item"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterPlanetInput",docs:["Struct for data input to Register Planet"],type:{kind:"struct",fields:[{name:"name",docs:["`Planet` name"],type:{array:["u8",64]}},{name:"size",docs:["`Planet` size"],type:"u64"},{name:"maxHp",docs:["`Planet` max health"],type:"u64"},{name:"subCoordinates",docs:["`Planet` sub_coordinates"],type:{array:["i64",2]}},{name:"planetType",docs:["`Planet` type"],type:"u8"},{name:"position",docs:["`Planet` position"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RegisterProgressionConfigInput",docs:["Data input for RegisterProgressionConfig"],type:{kind:"struct",fields:[{name:"dailyLpLimit",docs:["the daily limit for Loyalty Points (LP)"],type:{option:"u64"}},{name:"dailyCouncilRankXpLimit",docs:["the daily limit for Council Rank Experience Points (CRXP)"],type:{option:"u64"}},{name:"dailyPilotXpLimit",docs:["the daily limit for Pilot License Experience Points (PXP)"],type:{option:"u64"}},{name:"dailyDataRunningXpLimit",docs:["the daily limit for Data Running Experience Points (DRXP)"],type:{option:"u64"}},{name:"dailyMiningXpLimit",docs:["the daily limit for Mining Experience Points (MXP)"],type:{option:"u64"}},{name:"dailyCraftingXpLimit",docs:["the daily limit for Crafting Experience Points (CXP)"],type:{option:"u64"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RegisterResourceInput",docs:["Struct for data input to Register a Resource"],type:{kind:"struct",fields:[{name:"locationType",docs:["`Resource` location type"],type:"u8"},{name:"systemRichness",docs:["`Resource` `system_richness`"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterSagePointsModifierInput",docs:["Struct for data input to register a points modifier for SAGE program"],type:{kind:"struct",fields:[{name:"pointsCategoryType",docs:["The points category type of the modifier"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"RegisterShipInput",docs:["Struct for data input to Register Ship"],type:{kind:"struct",fields:[{name:"name",docs:["The `Ship` name/label"],type:{array:["u8",64]}},{name:"sizeClass",docs:["the ship's size class"],type:{defined:"SizeClass"}},{name:"stats",docs:["The stats for the ship"],type:{defined:"ShipStatsUnpacked"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"},{name:"isActive",docs:["Whether the ship is initialized to active (`update_id == current_update_id`)"],type:"bool"}]}},{name:"RegisterStarInput",docs:["Struct for data input to Register Star"],type:{kind:"struct",fields:[{name:"name",docs:["`Star` name"],type:{array:["u8",64]}},{name:"size",docs:["`Star` size"],type:"u64"},{name:"subCoordinates",docs:["`Star` sub_coordinates"],type:{array:["i64",2]}},{name:"starType",docs:["`Star` type"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RegisterStarbaseInput",docs:["Struct for data input to Register `Starbase`"],type:{kind:"struct",fields:[{name:"name",docs:["`Starbase` name"],type:{array:["u8",64]}},{name:"subCoordinates",docs:["`Starbase` coordinates"],type:{array:["i64",2]}},{name:"starbaseLevelIndex",docs:["The index representing the level of the `Starbase` in the game variables."],type:"u8"},{name:"faction",docs:["The `Starbase` faction"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterStarbaseInputUnpacked",docs:["Unpacked version of [`RegisterStarbaseInput`]"],type:{kind:"struct",fields:[{name:"name",docs:["`Starbase` name"],type:{array:["u8",64]}},{name:"subCoordinates",docs:["`Starbase` coordinates"],type:{array:["i64",2]}},{name:"starbaseLevelIndex",docs:["The index representing the level of the `Starbase` in the game variables."],type:"u8"},{name:"faction",docs:["The `Starbase` faction"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterSurveyDataUnitTrackerInput",docs:["Struct for data input to Register SurveyDataUnitTracker"],type:{kind:"struct",fields:[{name:"coordinatesRange",docs:["The valid coordinates range","e.g. a value of [-50, 50] means that coordinates from [-50, -50] to [50, 50] are valid for SDU scanning"],type:{array:["i64",2]}},{name:"cssCoordinates",docs:["The locations of the central space stations (CSS) of the three factions"],type:{array:[{array:["i64",2]},3]}},{name:"originCoordinates",docs:['The co-ordinates of the "origin"; used in calculating SDU probability'],type:{array:["i64",2]}},{name:"cssMaxDistance",docs:["The max distance from the nearest CSS; used in calculating SDU probability"],type:"u32"},{name:"originMaxDistance",docs:["The max distance from the `origin_coordinates`; used in calculating SDU probability"],type:"u32"},{name:"distanceWeighting",docs:["The distance weighting; used in calculating SDU probability"],type:"u32"},{name:"tMax",docs:["The maximum time before SDU probability at a location changes"],type:"i64"},{name:"xMul",docs:["Multiplier in the X dimension; used in noise function"],type:"u32"},{name:"yMul",docs:["Multiplier in the Y dimension; used in noise function"],type:"u32"},{name:"zMul",docs:["Multiplier in the Z dimension; used in noise function"],type:"u32"},{name:"sduMaxPerSector",docs:["The maximum number of SDUs that can be found per scan per sector"],type:"u32"},{name:"scanChanceRegenPeriod",docs:["The amount of time in seconds that it takes for a sector scan chance to fully regenerate"],type:"i16"},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RemoveCrewInput",docs:["Accounts for Struct for data input for `RemoveCrew`"],type:{kind:"struct",fields:[{name:"items",docs:["inputs required to transfer crew cNFTs"],type:{vec:{defined:"CrewTransferInput"}}},{name:"keyIndex",docs:["the index of the `ProfileKey` in `Profile` with required permissions"],type:"u16"}]}},{name:"RemoveShipEscrowInput",docs:["Struct for data input for `RemoveShipEscrow`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Amount of `Ship` tokens to transfer from escrow"],type:"u64"},{name:"permissionKeyIndex",docs:["the index of the `ProfileKey` in `Profile` with required permissions"],type:"u16"},{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"}]}},{name:"Respawn",docs:["The data for the [`FleetStateData::Respawn`](crate::state_machine::FleetStateData::Respawn) state"],type:{kind:"struct",fields:[{name:"sector",docs:["The star system the fleet was in when it entered the `Respawn` state"],type:{array:["i64",2]}},{name:"start",docs:["The time `Respawn` started"],type:"i64"}]}},{name:"RespawnToLoadingBayInput",docs:["Struct for data input to `RespawnToLoadingBay`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"RiskZoneData",docs:["`RiskZone` center and radius"],type:{kind:"struct",fields:[{name:"center",docs:["Risk zone center"],type:{array:["i64",2]}},{name:"radius",docs:["Risk zone radius"],type:"u64"}]}},{name:"RiskZoneDataUnpacked",docs:["Unpacked version of [`RiskZoneData`]"],type:{kind:"struct",fields:[{name:"center",docs:["Risk zone center"],type:{array:["i64",2]}},{name:"radius",docs:["Risk zone radius"],type:"u64"}]}},{name:"RiskZonesData",docs:["[`RiskZoneData`] for [`RiskZones`]"],type:{kind:"struct",fields:[{name:"mudSecurityZone",docs:["Mud security zone"],type:{defined:"RiskZoneData"}},{name:"oniSecurityZone",docs:["Oni security zone"],type:{defined:"RiskZoneData"}},{name:"usturSecurityZone",docs:["Ustur security zone"],type:{defined:"RiskZoneData"}},{name:"highRiskZone",docs:["High risk zone"],type:{defined:"RiskZoneData"}},{name:"mediumRiskZone",docs:["Medium risk zone"],type:{defined:"RiskZoneData"}}]}},{name:"RiskZonesDataUnpacked",docs:["Unpacked version of [`RiskZonesData`]"],type:{kind:"struct",fields:[{name:"mudSecurityZone",docs:["Mud security zone"],type:{defined:"RiskZoneData"}},{name:"oniSecurityZone",docs:["Oni security zone"],type:{defined:"RiskZoneData"}},{name:"usturSecurityZone",docs:["Ustur security zone"],type:{defined:"RiskZoneData"}},{name:"highRiskZone",docs:["High risk zone"],type:{defined:"RiskZoneData"}},{name:"mediumRiskZone",docs:["Medium risk zone"],type:{defined:"RiskZoneData"}}]}},{name:"SagePointsCategory",docs:["Represents a points category & modifier as defined in the Points program"],type:{kind:"struct",fields:[{name:"category",docs:["The points category"],type:"publicKey"},{name:"modifier",docs:["The points category modifier"],type:"publicKey"},{name:"modifierBump",docs:["The points category modifier bump"],type:"u8"}]}},{name:"ScanForSurveyDataUnitsInput",docs:["Struct for data input to Scan For Survey Data Units"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"}]}},{name:"SectorConnection",docs:["Connection between sectors"],type:{kind:"struct",fields:[{name:"connectionSector",docs:["The sector connected to"],type:"publicKey"},{name:"subCoordinates",docs:["The location of the connection"],type:{array:["i64",2]}},{name:"flags",docs:["Connection flags"],type:"u8"}]}},{name:"SectorRing",docs:["Represents the orbital position of a `Planet` in the `Sector`"],type:{kind:"enum",variants:[{name:"Inner"},{name:"Mid"},{name:"Outer"}]}},{name:"ShipCounts",docs:["Ship counts for a fleet."],type:{kind:"struct",fields:[{name:"total",docs:["The total number of ships in the fleet."],type:"u32"},{name:"updated",docs:["Used when updating a fleet.","Value is 0 when fleet update is in progress"],type:"u32"},{name:"xxSmall",docs:["The number of xx small ships in the fleet."],type:"u16"},{name:"xSmall",docs:["The number of x small ships in the fleet."],type:"u16"},{name:"small",docs:["The number of small ships in the fleet."],type:"u16"},{name:"medium",docs:["The number of medium ships in the fleet."],type:"u16"},{name:"large",docs:["The number of large ships in the fleet."],type:"u16"},{name:"capital",docs:["The number of capital ships in the fleet."],type:"u16"},{name:"commander",docs:["The number of commander ships in the fleet."],type:"u16"},{name:"titan",docs:["The number of titan ships in the fleet."],type:"u16"}]}},{name:"ShipCountsUnpacked",docs:["Unpacked version of [`ShipCounts`]"],type:{kind:"struct",fields:[{name:"total",docs:["The total number of ships in the fleet."],type:"u32"},{name:"updated",docs:["Used when updating a fleet.","Value is 0 when fleet update is in progress"],type:"u32"},{name:"xxSmall",docs:["The number of xx small ships in the fleet."],type:"u16"},{name:"xSmall",docs:["The number of x small ships in the fleet."],type:"u16"},{name:"small",docs:["The number of small ships in the fleet."],type:"u16"},{name:"medium",docs:["The number of medium ships in the fleet."],type:"u16"},{name:"large",docs:["The number of large ships in the fleet."],type:"u16"},{name:"capital",docs:["The number of capital ships in the fleet."],type:"u16"},{name:"commander",docs:["The number of commander ships in the fleet."],type:"u16"},{name:"titan",docs:["The number of titan ships in the fleet."],type:"u16"}]}},{name:"ShipSizes",docs:["Ship sizes."],type:{kind:"struct",fields:[{name:"xxSmall",docs:["The size of xx small ships"],type:"u8"},{name:"xSmall",docs:["The size of x small ships"],type:"u8"},{name:"small",docs:["The size of small ships"],type:"u8"},{name:"medium",docs:["The size of medium ships"],type:"u8"},{name:"large",docs:["The size of large ships"],type:"u8"},{name:"capital",docs:["The size of capital ships"],type:"u8"},{name:"commander",docs:["The size of commander ships"],type:"u8"},{name:"titan",docs:["The size of titan ships"],type:"u8"}]}},{name:"ShipStats",docs:["A ship's stats"],type:{kind:"struct",fields:[{name:"movementStats",docs:["Movement stats for the ship"],type:{defined:"MovementStats"}},{name:"cargoStats",docs:["Cargo stats for the ship"],type:{defined:"CargoStats"}},{name:"miscStats",docs:["Miscellaneous stats for the ship"],type:{defined:"MiscStats"}}]}},{name:"ShipStatsUnpacked",docs:["Unpacked version of [`ShipStats`]"],type:{kind:"struct",fields:[{name:"movementStats",docs:["Movement stats for the ship"],type:{defined:"MovementStats"}},{name:"cargoStats",docs:["Cargo stats for the ship"],type:{defined:"CargoStats"}},{name:"miscStats",docs:["Miscellaneous stats for the ship"],type:{defined:"MiscStats"}}]}},{name:"SizeClass",docs:["Represents different types of Ships"],type:{kind:"enum",variants:[{name:"XxSmall"},{name:"XSmall"},{name:"Small"},{name:"Medium"},{name:"Large"},{name:"Capital"},{name:"Commander"},{name:"Titan"}]}},{name:"StarType",docs:["Represents different types of Stars"],type:{kind:"enum",variants:[{name:"WhiteDwarf"},{name:"RedDwarf"},{name:"Solar"},{name:"HotBlue"},{name:"RedGiant"}]}},{name:"StarbaseCreateCargoPodInput",docs:["Struct for data input to `StarbaseCreateCargoPod`"],type:{kind:"struct",fields:[{name:"podSeeds",docs:["cargo pod seeds"],type:{array:["u8",32]}},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseCreateCraftingProcessInput",docs:["Struct for data input to create a `CraftingProcess`"],type:{kind:"struct",fields:[{name:"craftingId",docs:["crafting id"],type:"u64"},{name:"recipeCategoryIndex",docs:["the index of the recipe's category"],type:"u16"},{name:"quantity",docs:["quantity of outputs to craft"],type:"u64"},{name:"numCrew",docs:["number of crew members to use for this crafting process"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseDepositCraftingIngredientInput",docs:["Struct for data input to deposit an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to deposit"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseLevelInfo",docs:["Information associated with `Starbase` levels"],type:{kind:"struct",fields:[{name:"recipeForUpgrade",docs:["The crafting recipe required to upgrade a `Starbase` to this level"],type:"publicKey"},{name:"recipeCategoryForLevel",docs:["The crafting recipe category enabled for crafting at a `Starbase` of this level."],type:"publicKey"},{name:"hp",docs:["The `Starbase` health points for this level."],type:"u64"},{name:"sp",docs:["The `Starbase` shield points for this level."],type:"u64"},{name:"sectorRingAvailable",docs:["The planet position `Ring` available for this level"],type:"u8"},{name:"warpLaneMovementFee",docs:['Fee charged for the "warp lane" movement type which is meant to be charged in ATLAS',"Since ATLAS has 8 decimal places, units are in the smallest value of ATLAS possible."],type:"u64"}]}},{name:"StarbaseLevelInfoArrayInput",docs:["Struct for data input to Update Starbase Level Settings"],type:{kind:"struct",fields:[{name:"level",docs:["The level of the `Starbase`."],type:"u8"},{name:"faction",docs:["The `Starbase` faction."],type:"u8"},{name:"hp",docs:["The `Starbase` health points for this level."],type:"u64"},{name:"sp",docs:["The `Starbase` shield points for this level."],type:"u64"},{name:"sectorRingAvailable",docs:["The planet position `Ring` available for this level"],type:{defined:"SectorRing"}},{name:"warpLaneMovementFee",docs:['Fee charged for the "warp lane" movement type which is meant to be charged in ATLAS'],type:"u64"}]}},{name:"StarbaseLoadingBay",docs:["The data for the [`FleetStateData::StarbaseLoadingBay`] state"],type:{kind:"struct",fields:[{name:"starbase",docs:["The `Starbase` is in the loading bay of"],type:"publicKey"},{name:"lastUpdate",docs:["The last time this fleet was updated"],type:"i64"}]}},{name:"StarbaseRemoveCargoPodInput",docs:["Struct for data input to `StarbaseRemoveCargoPod`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseState",docs:["The state of a `Starbase`."],type:{kind:"enum",variants:[{name:"Active"},{name:"Destroyed"}]}},{name:"StarbaseTransferCargoInput",docs:["Struct for data input to `DepositCargoToGame`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseUpgradeState",docs:["The state of a `Starbase`."],type:{kind:"enum",variants:[{name:"NotStarted"},{name:"Started"},{name:"Completed"}]}},{name:"StarbaseUpkeepInfo",docs:["Information associated with `Starbase` upkeep"],type:{kind:"struct",fields:[{name:"ammoReserve",docs:["The maximum amount of ammo that can be committed upkeep by players","If 0 (zero) then ammo upkeep is disabled"],type:"u64"},{name:"ammoDepletionRate",docs:["The per second rate at which the ammo reserve is emptied"],type:"u32"},{name:"foodReserve",docs:["The maximum amount of food that can be committed upkeep by players","If 0 (zero) then food upkeep is disabled"],type:"u64"},{name:"foodDepletionRate",docs:["The per second rate at which the food reserve is emptied"],type:"u32"},{name:"toolkitReserve",docs:["The maximum amount of toolkits that can be committed upkeep by players","If 0 (zero) then toolkit upkeep is disabled"],type:"u64"},{name:"toolkitDepletionRate",docs:["The per second rate at which the toolkit reserve is emptied"],type:"u32"}]}},{name:"StarbaseUpkeepInfoArrayInput",docs:["Struct for data input to Update Starbase Upkeep Settings"],type:{kind:"struct",fields:[{name:"level",docs:["The level of the `Starbase`."],type:"u8"},{name:"info",docs:["The stats for the ship"],type:{defined:"StarbaseUpkeepInfoUnpacked"}}]}},{name:"StarbaseUpkeepInfoUnpacked",docs:["Unpacked version of [`StarbaseUpkeepInfo`]"],type:{kind:"struct",fields:[{name:"ammoReserve",docs:["The maximum amount of ammo that can be committed upkeep by players","If 0 (zero) then ammo upkeep is disabled"],type:"u64"},{name:"ammoDepletionRate",docs:["The per second rate at which the ammo reserve is emptied"],type:"u32"},{name:"foodReserve",docs:["The maximum amount of food that can be committed upkeep by players","If 0 (zero) then food upkeep is disabled"],type:"u64"},{name:"foodDepletionRate",docs:["The per second rate at which the food reserve is emptied"],type:"u32"},{name:"toolkitReserve",docs:["The maximum amount of toolkits that can be committed upkeep by players","If 0 (zero) then toolkit upkeep is disabled"],type:"u64"},{name:"toolkitDepletionRate",docs:["The per second rate at which the toolkit reserve is emptied"],type:"u32"}]}},{name:"StarbaseUpkeepLevels",docs:["Information on `Starbase` upkeep by level"],type:{kind:"struct",fields:[{name:"level0",docs:["Upkeep info. for a level 0 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level1",docs:["Upkeep info. for a level 1 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level2",docs:["Upkeep info. for a level 2 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level3",docs:["Upkeep info. for a level 3 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level4",docs:["Upkeep info. for a level 4 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level5",docs:["Upkeep info. for a level 5 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level6",docs:["Upkeep info. for a level 6 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}}]}},{name:"StarbaseUpkeepLevelsUnpacked",docs:["Unpacked version of [`StarbaseUpkeepLevels`]"],type:{kind:"struct",fields:[{name:"level0",docs:["Upkeep info. for a level 0 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level1",docs:["Upkeep info. for a level 1 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level2",docs:["Upkeep info. for a level 2 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level3",docs:["Upkeep info. for a level 3 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level4",docs:["Upkeep info. for a level 4 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level5",docs:["Upkeep info. for a level 5 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level6",docs:["Upkeep info. for a level 6 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}}]}},{name:"StarbaseWithdrawCraftingIngredientInput",docs:["Struct for data input to withdraw an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to withdraw"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StartSubwarpInput",docs:["Struct for data input to initialize an `SubwarpMovement`"],type:{kind:"struct",fields:[{name:"toSector",docs:["The destination coordinates"],type:{array:["i64",2]}},{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"}]}},{name:"StopMiningAsteroidInput",docs:["Struct for data input for `StopMiningAsteroidInput`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StopSubwarpInput",docs:["Struct for data input to stop an `SubwarpMovement`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"}]}},{name:"SubmitStarbaseUpgradeResourceInput",docs:["Submit starbase upgrade resource inputs"],type:{kind:"struct",fields:[{name:"pointsProgramPermissionsKeyIndex",docs:["the index of the point program permissions in the player profile"],type:"u16"},{name:"sagePermissionsKeyIndex",docs:["the index of the key in sage permissions in the player profile"],type:"u16"},{name:"upgradeProcessRecipeInputIndex",docs:["the index of the resource in the upgrade_process_recipe ingredients list","The resource is a non-consumable in this recipe"],type:"u16"},{name:"starbaseUpgradeRecipeInputIndex",docs:["the index of the resource in the upgrade recipe","The resource is a consumable in this recipe"],type:"u16"},{name:"resourceRecipeOutputIndex",docs:["the index of the resource represented by `token_mint` in the `resource_recipe` ingredients list","The resource is an output in this recipe"],type:"u16"},{name:"epochIndex",docs:["the index of the epoch in the `RedemptionConfig` account"],type:"u16"}]}},{name:"TransferCargoWithinFleetInput",docs:["Struct for data input to `TransferCargoWithinFleet`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"UpdateGameInput",docs:["Struct for data input to Update instruction"],type:{kind:"struct",fields:[{name:"cargo",docs:["Cargo settings"],type:"u8"},{name:"crafting",docs:["Crafting settings"],type:"u8"},{name:"mints",docs:["Mints"],type:"u8"},{name:"vaults",docs:["Vaults"],type:"u8"},{name:"points",docs:["Points settings"],type:"u8"},{name:"riskZones",docs:["Data for risk zones"],type:{option:{defined:"RiskZonesDataUnpacked"}}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateGameStateInput",docs:["Struct for data input to Update instruction"],type:{kind:"struct",fields:[{name:"fleet",docs:["Fleet settings"],type:{option:{defined:"FleetInput"}}},{name:"misc",docs:["Miscellaneous settings"],type:{option:{defined:"MiscVariablesInput"}}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateMineItemInput",docs:["Struct for data input to Register a Resource"],type:{kind:"struct",fields:[{name:"name",docs:["The name of the `MineItem`"],type:{option:{array:["u8",64]}}},{name:"resourceHardness",docs:["How hard it is to mine this item"],type:{option:"u16"}},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"UpdatePlanetInput",docs:["Struct for data input to Update Planet"],type:{kind:"struct",fields:[{name:"name",docs:["`Planet` name"],type:{option:{array:["u8",64]}}},{name:"size",docs:["`Planet` size"],type:{option:"u64"}},{name:"maxHp",docs:["`Planet` max_hp"],type:{option:"u64"}},{name:"subCoordinates",docs:["`Planet` sub_coordinates"],type:{option:{array:["i64",2]}}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateProgressionConfigInput",docs:["Struct for data input for `UpdateProgressionConfig`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the permissions profile"],type:"u16"},{name:"dailyLpLimit",docs:["the daily limit for Loyalty Points (LP)"],type:{option:"u64"}},{name:"dailyCouncilRankXpLimit",docs:["the daily limit for Council Rank Experience Points (CRXP)"],type:{option:"u64"}},{name:"dailyPilotXpLimit",docs:["the daily limit for Pilot License Experience Points (PXP)"],type:{option:"u64"}},{name:"dailyDataRunningXpLimit",docs:["the daily limit for Data Running Experience Points (DRXP)"],type:{option:"u64"}},{name:"dailyMiningXpLimit",docs:["the daily limit for Mining Experience Points (MXP)"],type:{option:"u64"}},{name:"dailyCraftingXpLimit",docs:["the daily limit for Crafting Experience Points (CXP)"],type:{option:"u64"}},{name:"items",docs:["the progression items"],type:{option:{vec:{defined:"ProgressionItemInputUnpacked"}}}}]}},{name:"UpdateResourceInput",docs:["Struct for data input to Update Resource"],type:{kind:"struct",fields:[{name:"systemRichness",docs:["`Resource` richness"],type:{option:"u16"}},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"UpdateShipEscrowInput",docs:["Struct for data input for `UpdateShipEscrow`"],type:{kind:"struct",fields:[{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"}]}},{name:"UpdateShipFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Number of ships to add to the fleet"],type:"u16"},{name:"fleetShipInfoIndex",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:"u32"}]}},{name:"UpdateShipInput",docs:["Struct for data input to Update Ship"],type:{kind:"struct",fields:[{name:"name",docs:["The `Ship` name/label"],type:{array:["u8",64]}},{name:"sizeClass",docs:["the ship's size class"],type:{defined:"SizeClass"}},{name:"stats",docs:["The stats for the ship"],type:{defined:"ShipStatsUnpacked"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateStarInput",docs:["Struct for data input to Update Star"],type:{kind:"struct",fields:[{name:"name",docs:["`Star` name"],type:{option:{array:["u8",64]}}},{name:"size",docs:["`Star` size"],type:{option:"u64"}},{name:"starType",docs:["`Star` type"],type:{option:"u8"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateStarbaseInput",docs:["Struct for data input to Update `Starbase`"],type:{kind:"struct",fields:[{name:"name",docs:["`Starbase` name"],type:{option:{array:["u8",64]}}},{name:"subCoordinates",docs:["`Starbase` coordinates"],type:{option:{array:["i64",2]}}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateSurveyDataUnitTrackerInput",docs:["Struct for data input to Update SurveyDataUnitTracker"],type:{kind:"struct",fields:[{name:"coordinatesRange",docs:["The valid coordinates range","e.g. a value of [-50, 50] means that coordinates from [-50, -50] to [50, 50] are valid for SDU scanning"],type:{option:{array:["i64",2]}}},{name:"cssCoordinates",docs:["The locations of the central space stations (CSS) of the three factions"],type:{option:{array:[{array:["i64",2]},3]}}},{name:"originCoordinates",docs:['The co-ordinates of the "origin"; used in calculating SDU probability'],type:{option:{array:["i64",2]}}},{name:"cssMaxDistance",docs:["The max distance from the nearest CSS; used in calculating SDU probability"],type:{option:"u32"}},{name:"originMaxDistance",docs:["The max distance from the `origin_coordinates`; used in calculating SDU probability"],type:{option:"u32"}},{name:"distanceWeighting",docs:["The distance weighting; used in calculating SDU probability"],type:{option:"u32"}},{name:"tMax",docs:["The maximum time before SDU probability at a location changes"],type:{option:"i64"}},{name:"xMul",docs:["Multiplier in the X dimension; used in noise function"],type:{option:"u32"}},{name:"yMul",docs:["Multiplier in the Y dimension; used in noise function"],type:{option:"u32"}},{name:"zMul",docs:["Multiplier in the Z dimension; used in noise function"],type:{option:"u32"}},{name:"sduMaxPerSector",docs:["The maximum number of SDUs that can be found per scan per sector"],type:{option:"u32"}},{name:"scanChanceRegenPeriod",docs:["The amount of time in seconds that it takes for a sector scan chance to fully regenerate"],type:{option:"i16"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpkeepResourceType",docs:["The different types of upkeep resources"],type:{kind:"enum",variants:[{name:"Ammo"},{name:"Food"},{name:"Toolkit"}]}},{name:"Vaults",docs:["Token vaults"],type:{kind:"struct",fields:[{name:"atlas",docs:["ATLAS token mint"],type:"publicKey"},{name:"polis",docs:["POLIS token mint"],type:"publicKey"}]}},{name:"WarpLaneInput",docs:["Struct for data input to initialize a `WarpLane`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"},{name:"toSectorIndex",docs:["Index of the to_sector in `SectorConnections` of the from_sector"],type:"u16"},{name:"fromSectorIndex",docs:["Index of the from_sector in `SectorConnections` of the to_sector"],type:"u16"}]}},{name:"WarpToCoordinateInput",docs:["Struct for data input to initialize a `WarpToCoordinate`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"},{name:"toSector",docs:["The destination coordinates"],type:{array:["i64",2]}}]}},{name:"WithdrawCargoFromFleetInput",docs:["Struct for data input to `WithdrawCargoFromFleet`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"WrappedShipEscrow",docs:["Wrapped `Ship` escrow info"],type:{kind:"struct",fields:[{name:"ship",docs:["The `Ship` account address"],type:"publicKey"},{name:"amount",docs:["The `Ship` token amount in escrow"],type:"u64"},{name:"updateId",docs:["The update id for the `Ship`"],type:"u64"}]}}],errors:[{code:6e3,name:"IncorrectAdminAddress",msg:"Incorrect admin address."},{code:6001,name:"MissingRemainingAccount",msg:"An expected remaining account is missing."},{code:6002,name:"NoStargateConnectionsAvailable",msg:"No Stargate connections available."},{code:6003,name:"StargatesNotConnected",msg:"The provided Stargates are not connected."},{code:6004,name:"InvalidPlanetType",msg:"Invalid Planet Type."},{code:6005,name:"InvalidRingType",msg:"Invalid Ring Type."},{code:6006,name:"InvalidStarType",msg:"Invalid Star Type."},{code:6007,name:"InvalidOrInactiveGame",msg:"Invalid Or Inactive Game"},{code:6008,name:"InvalidShipSizeClass",msg:"Invalid Ship Size Class."},{code:6009,name:"IncorrectAccountSize",msg:"Incorrect Account Size."},{code:6010,name:"UpdateIdMismatch",msg:"The update_id is mismatched."},{code:6011,name:"AlreadyActive",msg:"The account is already active."},{code:6012,name:"InactiveAccount",msg:"The account is inactive."},{code:6013,name:"InvalidGame",msg:"The game account is invalid."},{code:6014,name:"InvalidGameState",msg:"The game state account is invalid."},{code:6015,name:"InvalidSector",msg:"The sector account is invalid."},{code:6016,name:"FleetCrewNotNormalized",msg:"Fleet Crew Not Normalized"},{code:6017,name:"InsufficientFuel",msg:"Insufficient Fuel to complete movement"},{code:6018,name:"DistanceGreaterThanMax",msg:"Distance of movement is greater than the allowed maximum"},{code:6019,name:"NumericOverflow",msg:"Numeric overflow"},{code:6020,name:"InvalidLocationType",msg:"Invalid Location Type."},{code:6021,name:"LocationTypeNotSupported",msg:"The provided location type is not supported."},{code:6022,name:"IncorrectMineItem",msg:"Incorrect mine item address."},{code:6023,name:"IncorrectAuthorityAddress",msg:"Incorrect authority address."},{code:6024,name:"IncorrectResourceAddress",msg:"Incorrect resource address."},{code:6025,name:"IncorrectMintAuthority",msg:"Incorrect mint authority."},{code:6026,name:"MintAuthorityIsNone",msg:"The mint authority should exist."},{code:6027,name:"InvalidCurrentFleetState",msg:"The current fleet state is not valid."},{code:6028,name:"InvalidCurrentStarbaseState",msg:"The current starbase state is not valid."},{code:6029,name:"AuthorityMismatch",msg:"Authority mismatch"},{code:6030,name:"MintMismatch",msg:"Mint mismatch"},{code:6031,name:"TokenMismatch",msg:"Incorrect token address."},{code:6032,name:"OwnerMismatch",msg:"Owner mismatch"},{code:6033,name:"GameMismatch",msg:"Game ID mismatch"},{code:6034,name:"ProfileMismatch",msg:"Profile mismatch"},{code:6035,name:"SagePlayerProfileMismatch",msg:"SagePlayerProfile mismatch"},{code:6036,name:"StarbaseMismatch",msg:"Starbase mismatch"},{code:6037,name:"FactionMismatch",msg:"Faction mismatch"},{code:6038,name:"SeqIdMismatch",msg:"Sequence id mismatch"},{code:6039,name:"ShipMismatch",msg:"Ship mismatch"},{code:6040,name:"CargoPodMismatch",msg:"Cargo Pod mismatch"},{code:6041,name:"PlanetMismatch",msg:"Planet mismatch"},{code:6042,name:"MineItemMismatch",msg:"MineItem mismatch"},{code:6043,name:"LocationMismatch",msg:"Location mismatch"},{code:6044,name:"InvalidEscrowKey",msg:"Escrow key not found in remaining data"},{code:6045,name:"InvalidShipAmount",msg:"Insufficient Ship token amount"},{code:6046,name:"InvalidShipHangarSpaceAmount",msg:"Insufficient Ship hangar space amount"},{code:6047,name:"InvalidCrewAmount",msg:"Invalid crew amount"},{code:6048,name:"InvalidState",msg:"Invalid state"},{code:6049,name:"InvalidDistance",msg:"Invalid distance"},{code:6050,name:"NotAtCentralSpaceStation",msg:"Not at central space station"},{code:6051,name:"ShipNotExpected",msg:"The instruction does not expect a ship account"},{code:6052,name:"AddressMismatch",msg:"Address mismatch"},{code:6053,name:"InvalidSectorConnection",msg:"Invalid sector connection"},{code:6054,name:"InvalidStarbaseLevel",msg:"Invalid Starbase level"},{code:6055,name:"InvalidStarbaseUpgradeRecipeCategory",msg:"Invalid Starbase upgrade recipe category"},{code:6056,name:"HangarUpgradeNotPossible",msg:"Hangar upgrade not Possible"},{code:6057,name:"DisbandedFleetNotEmpty",msg:"Disbanded fleet not empty"},{code:6058,name:"FaultyMovement",msg:"Faulty movement"},{code:6059,name:"IncorrectHandleRawAccount",msg:"Incorrect Account Type for Handle Raw"},{code:6060,name:"InsufficientShipCargoCapacity",msg:"Insufficient Ship Cargo Capacity"},{code:6061,name:"FleetDoesNotNeedUpdate",msg:"Fleet does not need update"},{code:6062,name:"MustDisbandFleet",msg:"Must disband fleet"},{code:6063,name:"CannotForceDisbandFleet",msg:"Cannot force-disband fleet"},{code:6064,name:"ShipMismatchOrAlreadyUpdated",msg:"Ship mismatch or already updated"},{code:6065,name:"ShipAlreadyUpdated",msg:"Ship already updated"},{code:6066,name:"InvalidNextShipAddress",msg:"Invalid next ship address"},{code:6067,name:"InvalidShipForForcedDisband",msg:"Ship is not valid for forced disband of fleet"},{code:6068,name:"InvalidWarpRange",msg:"Warp range exceeded"},{code:6069,name:"InvalidIngredient",msg:"Invalid Ingredient"},{code:6070,name:"StarbaseUpgradeNotInProgress",msg:"Starbase Upgrade Not in progress"},{code:6071,name:"MissingRentedCrew",msg:"Missing Rented Crew"},{code:6072,name:"NoPassengersAllowed",msg:"No Passengers Allowed"},{code:6073,name:"PlanetNotReachable",msg:"Planet Not Reachable"},{code:6074,name:"RespawnNotPossible",msg:"Respawn Not Possible"},{code:6075,name:"InvalidMovement",msg:"Cannot enter enemy faction's Security Zone"},{code:6076,name:"CargoAmountAboveZero",msg:"The Cargo Pod contains a non-zero amount of the Cargo Type"},{code:6077,name:"InvalidCargoPod",msg:"The Cargo Pod is invalid"},{code:6078,name:"InvalidZoneCoordinates",msg:"Invalid Zone Coordinates"},{code:6079,name:"RespawnTimeNotElapsed",msg:"Respawn time not elapsed"},{code:6080,name:"ActiveAccount",msg:"The Account is Active"},{code:6081,name:"StarbasePlayerMismatch",msg:"Starbase Player mismatch"},{code:6082,name:"AlreadyProcessed",msg:"The account has already been processed"},{code:6083,name:"InvalidAmount",msg:"The amount is invalid"},{code:6084,name:"WarpIsOnCooldown",msg:"Warp is on cooldown"},{code:6085,name:"ProgramMismatch",msg:"Program Mismatch"},{code:6086,name:"MustBeOnlyInstruction",msg:"Current Instruction Is Not Only Instruction"},{code:6087,name:"InvalidTime",msg:"Invalid Time"},{code:6088,name:"ScanIsOnCooldown",msg:"Scanning is on cooldown"},{code:6089,name:"InvalidFleetSize",msg:"Invalid Fleet Size"},{code:6090,name:"InactiveFeature",msg:"The feature is inactive"},{code:6091,name:"ZeroShipsAdded",msg:"Zero ships added to fleet"},{code:6092,name:"InvalidNoiseSeed",msg:"Invalid Noise Seed"},{code:6093,name:"InvalidType",msg:"Invalid type"},{code:6094,name:"RentedFleet",msg:"Rented Fleet"},{code:6095,name:"NoCrewItems",msg:"No Crew Items"},{code:6096,name:"GenericInvalid",msg:"Generic invalid data"}]};var Hp={},tl={},Nmt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Fmt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Umt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Fq;Object.defineProperty(tl,"__esModule",{value:!0});tl.SageCrewConfig=tl.sageCrewConfigDataEquals=tl.CREW_FEATURE=void 0;const Uq=qs,VEe=tr;tl.CREW_FEATURE=!0;function Vmt(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.config.equals(e.config)&&n.bump===e.bump}tl.sageCrewConfigDataEquals=Vmt;let lB=Fq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t){return Uq.PublicKey.findProgramAddressSync([Xe.Buffer.from("SageCrewConfig"),t.toBuffer()],e.programId)}static registerSageCrewConfig(e){const{program:t,key:r,profile:s,crewProgramConfig:i,gameId:o,input:a}=e;return c=>Umt(this,void 0,void 0,function*(){return[{instruction:yield t.methods.registerSageCrewConfig(a).accountsStrict({gameAndProfile:{key:r.publicKey(),profile:s,gameId:o},funder:c.publicKey(),sageCrewConfig:this.findAddress(t,o)[0],config:i,systemProgram:Uq.SystemProgram.programId}).instruction(),signers:[r,c]}]})}static decodeData(e,t){return(0,VEe.decodeAccount)(e,t,Fq)}};tl.SageCrewConfig=lB;lB.ACCOUNT_NAME="sageCrewConfig";lB.MIN_DATA_SIZE=8+1+32+32+1;tl.SageCrewConfig=lB=Fq=Nmt([(0,VEe.staticImplements)(),Fmt("design:paramtypes",[Object,Uq.PublicKey])],lB);var qmt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},jmt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Hmt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Vq;Object.defineProperty(Hp,"__esModule",{value:!0});Hp.PlayerCrewRecord=Hp.playerCrewRecordDataEquals=void 0;const qEe=qs,jEe=tr,Gmt=tl;function Ymt(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.playerProfile.equals(e.playerProfile)&&n.crewConfig.equals(e.crewConfig)&&n.count===e.count&&n.bump===e.bump}Hp.playerCrewRecordDataEquals=Ymt;let dB=Vq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return qEe.PublicKey.findProgramAddressSync([Xe.Buffer.from("PlayerCrewRecord"),t.toBuffer(),r.toBuffer()],e.programId)}static closePlayerCrewRecord(e){const{profile:t,profileFaction:r,key:s,fundsTo:i,program:o,starbase:a,starbasePlayer:c,gameId:u,input:l}=e;return d=>Hmt(this,void 0,void 0,function*(){return[{instruction:yield o.methods.closePlayerCrewRecord(l).accountsStrict({fundsTo:i==="funder"?d.publicKey():i,gameAndProfileAndFaction:{key:s.publicKey(),profile:t,profileFaction:r,gameId:u},starbaseAndStarbasePlayer:{starbase:a,starbasePlayer:c},crewRecord:this.findAddress(o,t,u)[0],crewConfig:Gmt.SageCrewConfig.findAddress(o,u)[0]}).instruction(),signers:[s]}]})}static decodeData(e,t){return(0,jEe.decodeAccount)(e,t,Vq)}};Hp.PlayerCrewRecord=dB;dB.ACCOUNT_NAME="playerCrewRecord";dB.MIN_DATA_SIZE=8+1+32+32+32+4+1;Hp.PlayerCrewRecord=dB=Vq=qmt([(0,jEe.staticImplements)(),jmt("design:paramtypes",[Object,qEe.PublicKey])],dB);var Rl={},YJ={},S6={},am={},uc={},pu={},yh={},_z={};Object.defineProperty(_z,"__esModule",{value:!0});_z.getChangeLogSerializer=void 0;const Tk=q,Zmt=n=>(0,Tk.struct)([["root",(0,Tk.publicKey)()],["pathNodes",(0,Tk.array)((0,Tk.publicKey)(),{size:n})],["index",(0,Tk.fixSerializer)((0,Tk.u32)(),8)]]);_z.getChangeLogSerializer=Zmt;var $S={},Ez={};Object.defineProperty(Ez,"__esModule",{value:!0});Ez.getPathSerializer=void 0;const jb=q;function Jmt(n){return(0,jb.mapSerializer)((0,jb.struct)([["proof",(0,jb.array)((0,jb.publicKey)(),{size:n})],["leaf",(0,jb.publicKey)()],["index",(0,jb.u32)()],["padding",(0,jb.u32)()]],{description:"Path"}),e=>({...e,padding:0}),e=>{const{padding:t,...r}=e;return r})}Ez.getPathSerializer=Jmt;Object.defineProperty($S,"__esModule",{value:!0});$S.getCurrentRoot=$S.getConcurrentMerkleTreeSerializer=void 0;const Xmt=Z,zR=q,Qmt=_z,eyt=Ez,tyt=(n,e)=>(0,zR.struct)([["sequenceNumber",(0,zR.u64)()],["activeIndex",(0,zR.u64)()],["bufferSize",(0,zR.u64)()],["changeLogs",(0,zR.array)((0,Qmt.getChangeLogSerializer)(n),{size:e})],["rightMostPath",(0,eyt.getPathSerializer)(n)]]);$S.getConcurrentMerkleTreeSerializer=tyt;const ryt=n=>(0,Xmt.publicKeyBytes)(n.changeLogs[Number(n.activeIndex)].root);$S.getCurrentRoot=ryt;var HEe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMerkleTreeSize=n.getMerkleTreeAccountDataV1Serializer=n.getMerkleTreeAccountDataSerializer=void 0;const e=q,t=am,r=$S,s=()=>{const a=(0,t.getConcurrentMerkleTreeHeaderSerializer)();return{description:"MerkleTreeAccountData",fixedSize:null,maxSize:null,serialize:c=>{switch(c.treeHeader.__kind){case"V1":return(0,n.getMerkleTreeAccountDataV1Serializer)(c.treeHeader.maxDepth,c.treeHeader.maxBufferSize).serialize(c);default:throw new Error(`Unknown MerkleTreeAccountData version: ${c.treeHeader.__kind}`)}},deserialize:(c,u=0)=>{const{header:l}=a.deserialize(c,u)[0];switch(l.__kind){case"V1":return(0,n.getMerkleTreeAccountDataV1Serializer)(l.maxDepth,l.maxBufferSize).deserialize(c,u);default:throw new Error(`Unknown MerkleTreeAccountData version: ${l.__kind}`)}}}};n.getMerkleTreeAccountDataSerializer=s;const i=(a,c)=>(0,e.mapSerializer)((0,e.struct)([["discriminator",(0,e.u8)()],["treeHeader",(0,t.getConcurrentMerkleTreeHeaderDataSerializer)()],["tree",(0,r.getConcurrentMerkleTreeSerializer)(a,c)],["canopy",(0,e.array)((0,e.publicKey)(),{size:"remainder"})]]),u=>({...u,discriminator:t.CompressionAccountType.ConcurrentMerkleTree}));n.getMerkleTreeAccountDataV1Serializer=i;const o=(a,c,u=0)=>{const d=(0,t.getConcurrentMerkleTreeHeaderDataSerializer)().fixedSize,y=(0,r.getConcurrentMerkleTreeSerializer)(a,c).fixedSize,h=32*Math.max((1<<u+1)-2,0);return 1+d+y+h};n.getMerkleTreeSize=o})(HEe);var k6={};Object.defineProperty(k6,"__esModule",{value:!0});k6.findMintAuthorityPda=void 0;const nyt=q,syt=am;function iyt(n,e){const t=n.programs.getPublicKey("mplBubblegum",syt.MPL_BUBBLEGUM_PROGRAM_ID);return n.eddsa.findPda(t,[(0,nyt.publicKey)().serialize(e.mint)])}k6.findMintAuthorityPda=iyt;var fw={},Yu={},GEe=Td(YDe),Zg={};Object.defineProperty(Zg,"__esModule",{value:!0});Zg.parseLeafFromMintToCollectionV1Transaction=Zg.parseLeafFromMintV1Transaction=Zg.findLeafAssetIdPda=void 0;const zN=q,ZJ=am;function oyt(n,e){const t=n.programs.getPublicKey("mplBubblegum",ZJ.MPL_BUBBLEGUM_PROGRAM_ID);return n.eddsa.findPda(t,[(0,zN.string)({size:"variable"}).serialize("asset"),(0,zN.publicKey)().serialize(e.merkleTree),(0,zN.u64)().serialize(e.leafIndex)])}Zg.findLeafAssetIdPda=oyt;async function ayt(n,e){const t=await n.rpc.getTransaction(e),r=t==null?void 0:t.meta.innerInstructions;if(r)return(0,ZJ.getLeafSchemaSerializer)().deserialize(r[0].instructions[0].data.slice(8))[0];throw new Error("Could not parse leaf from transaction")}Zg.parseLeafFromMintV1Transaction=ayt;async function cyt(n,e){const t=await n.rpc.getTransaction(e),r=t==null?void 0:t.meta.innerInstructions;if(r)return(0,ZJ.getLeafSchemaSerializer)().deserialize(r[0].instructions[0].data.slice(8))[0];throw new Error("Could not parse leaf from transaction")}Zg.parseLeafFromMintToCollectionV1Transaction=cyt;Object.defineProperty(Yu,"__esModule",{value:!0});Yu.hashMetadataCreators=Yu.hashMetadataData=Yu.hashMetadata=Yu.hashLeaf=Yu.hash=void 0;const Kg=q,uyt=GEe,YEe=am,lyt=Zg;function fB(n){return(0,uyt.keccak_256)(Array.isArray(n)?(0,Kg.mergeBytes)(n):n)}Yu.hash=fB;function dyt(n,e){const t=e.delegate??e.owner,r=e.nftVersion??1,[s]=(0,lyt.findLeafAssetIdPda)(n,{merkleTree:e.merkleTree,leafIndex:e.leafIndex});return fB([(0,Kg.u8)().serialize(r),(0,Kg.publicKey)().serialize(s),(0,Kg.publicKey)().serialize(e.owner),(0,Kg.publicKey)().serialize(t),(0,Kg.u64)().serialize(e.leafIndex),ZEe(e.metadata)])}Yu.hashLeaf=dyt;function ZEe(n){return(0,Kg.mergeBytes)([JEe(n),XEe(n.creators)])}Yu.hashMetadata=ZEe;function JEe(n){return fB([fB((0,YEe.getMetadataArgsSerializer)().serialize(n)),(0,Kg.u16)().serialize(n.sellerFeeBasisPoints)])}Yu.hashMetadataData=JEe;function XEe(n){return fB((0,Kg.array)((0,YEe.getCreatorSerializer)(),{size:"remainder"}).serialize(n))}Yu.hashMetadataCreators=XEe;Object.defineProperty(fw,"__esModule",{value:!0});fw.resolveCreatorHash=fw.resolveDataHash=void 0;const QEe=Yu,fyt=(n,e,t,r,s)=>(0,QEe.hashMetadataData)(t.metadata);fw.resolveDataHash=fyt;const hyt=(n,e,t,r,s)=>(0,QEe.hashMetadataCreators)(t.metadata.creators);fw.resolveCreatorHash=hyt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(_z,n),t($S,n),t(HEe,n),t(k6,n),t(Ez,n),t(fw,n)})(yh);var oa={},exe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBubblegumEventTypeSerializer=n.BubblegumEventType=void 0;const e=q;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.LeafSchemaEvent=1]="LeafSchemaEvent"})(t=n.BubblegumEventType||(n.BubblegumEventType={}));function r(){return(0,e.scalarEnum)(t,{description:"BubblegumEventType"})}n.getBubblegumEventTypeSerializer=r})(exe);var v6={};Object.defineProperty(v6,"__esModule",{value:!0});v6.getCollectionSerializer=void 0;const $N=q;function gyt(){return(0,$N.struct)([["verified",(0,$N.bool)()],["key",(0,$N.publicKey)()]],{description:"Collection"})}v6.getCollectionSerializer=gyt;var txe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCompressionAccountTypeSerializer=n.CompressionAccountType=void 0;const e=q;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.ConcurrentMerkleTree=1]="ConcurrentMerkleTree"})(t=n.CompressionAccountType||(n.CompressionAccountType={}));function r(){return(0,e.scalarEnum)(t,{description:"CompressionAccountType"})}n.getCompressionAccountTypeSerializer=r})(txe);var A6={};Object.defineProperty(A6,"__esModule",{value:!0});A6.getConcurrentMerkleTreeHeaderSerializer=void 0;const myt=q,mme=oa;function yyt(){return(0,myt.struct)([["accountType",(0,mme.getCompressionAccountTypeSerializer)()],["header",(0,mme.getConcurrentMerkleTreeHeaderDataSerializer)()]],{description:"ConcurrentMerkleTreeHeader"})}A6.getConcurrentMerkleTreeHeaderSerializer=yyt;var Gy={};Object.defineProperty(Gy,"__esModule",{value:!0});Gy.isConcurrentMerkleTreeHeaderData=Gy.concurrentMerkleTreeHeaderData=Gy.getConcurrentMerkleTreeHeaderDataSerializer=void 0;const Xm=q;function pyt(){return(0,Xm.dataEnum)([["V1",(0,Xm.struct)([["maxBufferSize",(0,Xm.u32)()],["maxDepth",(0,Xm.u32)()],["authority",(0,Xm.publicKey)()],["creationSlot",(0,Xm.u64)()],["padding",(0,Xm.array)((0,Xm.u8)(),{size:6})]])]],{description:"ConcurrentMerkleTreeHeaderData"})}Gy.getConcurrentMerkleTreeHeaderDataSerializer=pyt;function byt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Gy.concurrentMerkleTreeHeaderData=byt;function Syt(n,e){return e.__kind===n}Gy.isConcurrentMerkleTreeHeaderData=Syt;var w6={};Object.defineProperty(w6,"__esModule",{value:!0});w6.getCreatorSerializer=void 0;const B$=q;function kyt(){return(0,B$.struct)([["address",(0,B$.publicKey)()],["verified",(0,B$.bool)()],["share",(0,B$.u8)()]],{description:"Creator"})}w6.getCreatorSerializer=kyt;var rxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDecompressibleStateSerializer=n.DecompressibleState=void 0;const e=q;var t;(function(s){s[s.Enabled=0]="Enabled",s[s.Disabled=1]="Disabled"})(t=n.DecompressibleState||(n.DecompressibleState={}));function r(){return(0,e.scalarEnum)(t,{description:"DecompressibleState"})}n.getDecompressibleStateSerializer=r})(rxe);var Yy={};Object.defineProperty(Yy,"__esModule",{value:!0});Yy.isLeafSchema=Yy.leafSchema=Yy.getLeafSchemaSerializer=void 0;const Qm=q;function vyt(){return(0,Qm.dataEnum)([["V1",(0,Qm.struct)([["id",(0,Qm.publicKey)()],["owner",(0,Qm.publicKey)()],["delegate",(0,Qm.publicKey)()],["nonce",(0,Qm.u64)()],["dataHash",(0,Qm.bytes)({size:32})],["creatorHash",(0,Qm.bytes)({size:32})]])]],{description:"LeafSchema"})}Yy.getLeafSchemaSerializer=vyt;function Ayt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Yy.leafSchema=Ayt;function wyt(n,e){return e.__kind===n}Yy.isLeafSchema=wyt;var I6={};Object.defineProperty(I6,"__esModule",{value:!0});I6.getMetadataArgsSerializer=void 0;const DN=Z,Hc=q,Hb=oa;function Iyt(){return(0,Hc.mapSerializer)((0,Hc.struct)([["name",(0,Hc.string)()],["symbol",(0,Hc.string)()],["uri",(0,Hc.string)()],["sellerFeeBasisPoints",(0,Hc.u16)()],["primarySaleHappened",(0,Hc.bool)()],["isMutable",(0,Hc.bool)()],["editionNonce",(0,Hc.option)((0,Hc.u8)())],["tokenStandard",(0,Hc.option)((0,Hb.getTokenStandardSerializer)())],["collection",(0,Hc.option)((0,Hb.getCollectionSerializer)())],["uses",(0,Hc.option)((0,Hb.getUsesSerializer)())],["tokenProgramVersion",(0,Hb.getTokenProgramVersionSerializer)()],["creators",(0,Hc.array)((0,Hb.getCreatorSerializer)())]],{description:"MetadataArgs"}),n=>({...n,symbol:n.symbol??"",primarySaleHappened:n.primarySaleHappened??!1,isMutable:n.isMutable??!0,editionNonce:n.editionNonce??(0,DN.none)(),tokenStandard:n.tokenStandard??(0,DN.some)(Hb.TokenStandard.NonFungible),uses:n.uses??(0,DN.none)(),tokenProgramVersion:n.tokenProgramVersion??Hb.TokenProgramVersion.Original}))}I6.getMetadataArgsSerializer=Iyt;var nxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenProgramVersionSerializer=n.TokenProgramVersion=void 0;const e=q;var t;(function(s){s[s.Original=0]="Original",s[s.Token2022=1]="Token2022"})(t=n.TokenProgramVersion||(n.TokenProgramVersion={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenProgramVersion"})}n.getTokenProgramVersionSerializer=r})(nxe);var sxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStandardSerializer=n.TokenStandard=void 0;const e=q;var t;(function(s){s[s.NonFungible=0]="NonFungible",s[s.FungibleAsset=1]="FungibleAsset",s[s.Fungible=2]="Fungible",s[s.NonFungibleEdition=3]="NonFungibleEdition"})(t=n.TokenStandard||(n.TokenStandard={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenStandard"})}n.getTokenStandardSerializer=r})(sxe);var P6={};Object.defineProperty(P6,"__esModule",{value:!0});P6.getUpdateArgsSerializer=void 0;const Gb=Z,dc=q,Pyt=oa;function _yt(){return(0,dc.mapSerializer)((0,dc.struct)([["name",(0,dc.option)((0,dc.string)())],["symbol",(0,dc.option)((0,dc.string)())],["uri",(0,dc.option)((0,dc.string)())],["creators",(0,dc.option)((0,dc.array)((0,Pyt.getCreatorSerializer)()))],["sellerFeeBasisPoints",(0,dc.option)((0,dc.u16)())],["primarySaleHappened",(0,dc.option)((0,dc.bool)())],["isMutable",(0,dc.option)((0,dc.bool)())]],{description:"UpdateArgs"}),n=>({...n,name:n.name??(0,Gb.none)(),symbol:n.symbol??(0,Gb.none)(),uri:n.uri??(0,Gb.none)(),creators:n.creators??(0,Gb.none)(),sellerFeeBasisPoints:n.sellerFeeBasisPoints??(0,Gb.none)(),primarySaleHappened:n.primarySaleHappened??(0,Gb.none)(),isMutable:n.isMutable??(0,Gb.none)()}))}P6.getUpdateArgsSerializer=_yt;var ixe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getUseMethodSerializer=n.UseMethod=void 0;const e=q;var t;(function(s){s[s.Burn=0]="Burn",s[s.Multiple=1]="Multiple",s[s.Single=2]="Single"})(t=n.UseMethod||(n.UseMethod={}));function r(){return(0,e.scalarEnum)(t,{description:"UseMethod"})}n.getUseMethodSerializer=r})(ixe);var _6={};Object.defineProperty(_6,"__esModule",{value:!0});_6.getUsesSerializer=void 0;const ON=q,Eyt=oa;function xyt(){return(0,ON.struct)([["useMethod",(0,Eyt.getUseMethodSerializer)()],["remaining",(0,ON.u64)()],["total",(0,ON.u64)()]],{description:"Uses"})}_6.getUsesSerializer=xyt;var oxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getVersionSerializer=n.Version=void 0;const e=q;var t;(function(s){s[s.V1=0]="V1"})(t=n.Version||(n.Version={}));function r(){return(0,e.scalarEnum)(t,{description:"Version"})}n.getVersionSerializer=r})(oxe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(exe,n),t(v6,n),t(txe,n),t(A6,n),t(Gy,n),t(w6,n),t(rxe,n),t(Yy,n),t(I6,n),t(nxe,n),t(sxe,n),t(P6,n),t(ixe,n),t(_6,n),t(oxe,n)})(oa);Object.defineProperty(pu,"__esModule",{value:!0});pu.getMerkleTreeGpaBuilder=pu.safeFetchAllMerkleTree=pu.fetchAllMerkleTree=pu.safeFetchMerkleTree=pu.fetchMerkleTree=pu.deserializeMerkleTree=void 0;const Gp=Z,Tyt=q,Ryt=yh,yme=oa;function vT(n){return(0,Gp.deserializeAccount)(n,(0,Ryt.getMerkleTreeAccountDataSerializer)())}pu.deserializeMerkleTree=vT;async function Cyt(n,e,t){const r=await n.rpc.getAccount((0,Gp.publicKey)(e,!1),t);return(0,Gp.assertAccountExists)(r,"MerkleTree"),vT(r)}pu.fetchMerkleTree=Cyt;async function Myt(n,e,t){const r=await n.rpc.getAccount((0,Gp.publicKey)(e,!1),t);return r.exists?vT(r):null}pu.safeFetchMerkleTree=Myt;async function Byt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Gp.publicKey)(s,!1)),t)).map(s=>((0,Gp.assertAccountExists)(s,"MerkleTree"),vT(s)))}pu.fetchAllMerkleTree=Byt;async function zyt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Gp.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>vT(s))}pu.safeFetchAllMerkleTree=zyt;function $yt(n){const e=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK");return(0,Gp.gpaBuilder)(n,e).registerFields({discriminator:[0,(0,yme.getCompressionAccountTypeSerializer)()],treeHeader:[1,(0,yme.getConcurrentMerkleTreeHeaderDataSerializer)()],serializedTree:[56,(0,Tyt.bytes)()]}).deserializeUsing(t=>vT(t))}pu.getMerkleTreeGpaBuilder=$yt;var Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.safeFetchTreeConfigFromSeeds=Xs.fetchTreeConfigFromSeeds=Xs.findTreeConfigPda=Xs.getTreeConfigSize=Xs.getTreeConfigGpaBuilder=Xs.safeFetchAllTreeConfig=Xs.fetchAllTreeConfig=Xs.safeFetchTreeConfig=Xs.fetchTreeConfig=Xs.deserializeTreeConfig=Xs.getTreeConfigAccountDataSerializer=void 0;const Yp=Z,ic=q,axe=oa;function cxe(){return(0,ic.mapSerializer)((0,ic.struct)([["discriminator",(0,ic.array)((0,ic.u8)(),{size:8})],["treeCreator",(0,ic.publicKey)()],["treeDelegate",(0,ic.publicKey)()],["totalMintCapacity",(0,ic.u64)()],["numMinted",(0,ic.u64)()],["isPublic",(0,ic.bool)()],["isDecompressible",(0,axe.getDecompressibleStateSerializer)()]],{description:"TreeConfigAccountData"}),n=>({...n,discriminator:[122,245,175,248,171,34,0,207]}))}Xs.getTreeConfigAccountDataSerializer=cxe;function AT(n){return(0,Yp.deserializeAccount)(n,cxe())}Xs.deserializeTreeConfig=AT;async function uxe(n,e,t){const r=await n.rpc.getAccount((0,Yp.publicKey)(e,!1),t);return(0,Yp.assertAccountExists)(r,"TreeConfig"),AT(r)}Xs.fetchTreeConfig=uxe;async function lxe(n,e,t){const r=await n.rpc.getAccount((0,Yp.publicKey)(e,!1),t);return r.exists?AT(r):null}Xs.safeFetchTreeConfig=lxe;async function Dyt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Yp.publicKey)(s,!1)),t)).map(s=>((0,Yp.assertAccountExists)(s,"TreeConfig"),AT(s)))}Xs.fetchAllTreeConfig=Dyt;async function Oyt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Yp.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>AT(s))}Xs.safeFetchAllTreeConfig=Oyt;function Kyt(n){const e=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY");return(0,Yp.gpaBuilder)(n,e).registerFields({discriminator:[0,(0,ic.array)((0,ic.u8)(),{size:8})],treeCreator:[8,(0,ic.publicKey)()],treeDelegate:[40,(0,ic.publicKey)()],totalMintCapacity:[72,(0,ic.u64)()],numMinted:[80,(0,ic.u64)()],isPublic:[88,(0,ic.bool)()],isDecompressible:[89,(0,axe.getDecompressibleStateSerializer)()]}).deserializeUsing(t=>AT(t)).whereField("discriminator",[122,245,175,248,171,34,0,207])}Xs.getTreeConfigGpaBuilder=Kyt;function Lyt(){return 96}Xs.getTreeConfigSize=Lyt;function JJ(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY");return n.eddsa.findPda(t,[(0,ic.publicKey)().serialize(e.merkleTree)])}Xs.findTreeConfigPda=JJ;async function Wyt(n,e,t){return uxe(n,JJ(n,e),t)}Xs.fetchTreeConfigFromSeeds=Wyt;async function Nyt(n,e,t){return lxe(n,JJ(n,e),t)}Xs.safeFetchTreeConfigFromSeeds=Nyt;var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.safeFetchVoucherFromSeeds=Qs.fetchVoucherFromSeeds=Qs.findVoucherPda=Qs.getVoucherSize=Qs.getVoucherGpaBuilder=Qs.safeFetchAllVoucher=Qs.fetchAllVoucher=Qs.safeFetchVoucher=Qs.fetchVoucher=Qs.deserializeVoucher=Qs.getVoucherAccountDataSerializer=void 0;const Zp=Z,ju=q,dxe=oa;function fxe(){return(0,ju.mapSerializer)((0,ju.struct)([["discriminator",(0,ju.array)((0,ju.u8)(),{size:8})],["leafSchema",(0,dxe.getLeafSchemaSerializer)()],["index",(0,ju.u32)()],["merkleTree",(0,ju.publicKey)()]],{description:"VoucherAccountData"}),n=>({...n,discriminator:[191,204,149,234,213,165,13,65]}))}Qs.getVoucherAccountDataSerializer=fxe;function wT(n){return(0,Zp.deserializeAccount)(n,fxe())}Qs.deserializeVoucher=wT;async function hxe(n,e,t){const r=await n.rpc.getAccount((0,Zp.publicKey)(e,!1),t);return(0,Zp.assertAccountExists)(r,"Voucher"),wT(r)}Qs.fetchVoucher=hxe;async function gxe(n,e,t){const r=await n.rpc.getAccount((0,Zp.publicKey)(e,!1),t);return r.exists?wT(r):null}Qs.safeFetchVoucher=gxe;async function Fyt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Zp.publicKey)(s,!1)),t)).map(s=>((0,Zp.assertAccountExists)(s,"Voucher"),wT(s)))}Qs.fetchAllVoucher=Fyt;async function Uyt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Zp.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>wT(s))}Qs.safeFetchAllVoucher=Uyt;function Vyt(n){const e=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY");return(0,Zp.gpaBuilder)(n,e).registerFields({discriminator:[0,(0,ju.array)((0,ju.u8)(),{size:8})],leafSchema:[8,(0,dxe.getLeafSchemaSerializer)()],index:[177,(0,ju.u32)()],merkleTree:[181,(0,ju.publicKey)()]}).deserializeUsing(t=>wT(t)).whereField("discriminator",[191,204,149,234,213,165,13,65])}Qs.getVoucherGpaBuilder=Vyt;function qyt(){return 213}Qs.getVoucherSize=qyt;function XJ(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY");return n.eddsa.findPda(t,[(0,ju.string)({size:"variable"}).serialize("voucher"),(0,ju.publicKey)().serialize(e.merkleTree),(0,ju.u64)().serialize(e.nonce)])}Qs.findVoucherPda=XJ;async function jyt(n,e,t){return hxe(n,XJ(n,e),t)}Qs.fetchVoucherFromSeeds=jyt;async function Hyt(n,e,t){return gxe(n,XJ(n,e),t)}Qs.safeFetchVoucherFromSeeds=Hyt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(pu,n),t(Xs,n),t(Qs,n)})(uc);var xz={},Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.getMplBubblegumErrorFromName=Fe.getMplBubblegumErrorFromCode=Fe.InvalidCanopySizeError=Fe.InvalidTokenStandardError=Fe.CreatorDidNotUnverifyError=Fe.PrimarySaleCanOnlyBeFlippedToTrueError=Fe.MetadataImmutableError=Fe.CollectionMismatchError=Fe.MissingCollectionMetadataAccountError=Fe.MissingCollectionMintAccountError=Fe.DecompressionDisabledError=Fe.UnknownExternalErrorError=Fe.CollectionMustBeAUniqueMasterEditionError=Fe.CollectionMasterEditionAccountInvalidError=Fe.InvalidDelegateRecordError=Fe.InvalidCollectionAuthorityError=Fe.MetadataMintMismatchError=Fe.CollectionMustBeSizedError=Fe.LeafAuthorityMustSignError=Fe.UpdateAuthorityIncorrectError=Fe.AlreadyUnverifiedError=Fe.AlreadyVerifiedError=Fe.CollectionNotFoundError=Fe.CollectionCannotBeVerifiedInThisInstructionError=Fe.IncorrectOwnerError=Fe.NumericalOverflowErrorError=Fe.InsufficientMintCapacityError=Fe.TreeAuthorityIncorrectError=Fe.MetadataBasisPointsTooHighError=Fe.MetadataUriTooLongError=Fe.MetadataSymbolTooLongError=Fe.MetadataNameTooLongError=Fe.CreatorsTooLongError=Fe.DataHashMismatchError=Fe.CreatorHashMismatchError=Fe.NoCreatorsPresentError=Fe.CreatorNotFoundError=Fe.CreatorDidNotVerifyError=Fe.DuplicateCreatorAddressError=Fe.CreatorShareTotalMustBe100Error=Fe.UnsupportedSchemaVersionError=Fe.HashingMismatchError=Fe.PublicKeyMismatchError=Fe.AssetOwnerMismatchError=void 0;const Tr=Z,_r=new Map,Er=new Map;class QJ extends Tr.ProgramError{constructor(e,t){super("Asset Owner Does not match",e,t),this.name="AssetOwnerMismatch",this.code=6e3}}Fe.AssetOwnerMismatchError=QJ;_r.set(6e3,QJ);Er.set("AssetOwnerMismatch",QJ);class eX extends Tr.ProgramError{constructor(e,t){super("PublicKeyMismatch",e,t),this.name="PublicKeyMismatch",this.code=6001}}Fe.PublicKeyMismatchError=eX;_r.set(6001,eX);Er.set("PublicKeyMismatch",eX);class tX extends Tr.ProgramError{constructor(e,t){super("Hashing Mismatch Within Leaf Schema",e,t),this.name="HashingMismatch",this.code=6002}}Fe.HashingMismatchError=tX;_r.set(6002,tX);Er.set("HashingMismatch",tX);class rX extends Tr.ProgramError{constructor(e,t){super("Unsupported Schema Version",e,t),this.name="UnsupportedSchemaVersion",this.code=6003}}Fe.UnsupportedSchemaVersionError=rX;_r.set(6003,rX);Er.set("UnsupportedSchemaVersion",rX);class nX extends Tr.ProgramError{constructor(e,t){super("Creator shares must sum to 100",e,t),this.name="CreatorShareTotalMustBe100",this.code=6004}}Fe.CreatorShareTotalMustBe100Error=nX;_r.set(6004,nX);Er.set("CreatorShareTotalMustBe100",nX);class sX extends Tr.ProgramError{constructor(e,t){super("No duplicate creator addresses in metadata",e,t),this.name="DuplicateCreatorAddress",this.code=6005}}Fe.DuplicateCreatorAddressError=sX;_r.set(6005,sX);Er.set("DuplicateCreatorAddress",sX);class iX extends Tr.ProgramError{constructor(e,t){super("Creator did not verify the metadata",e,t),this.name="CreatorDidNotVerify",this.code=6006}}Fe.CreatorDidNotVerifyError=iX;_r.set(6006,iX);Er.set("CreatorDidNotVerify",iX);class oX extends Tr.ProgramError{constructor(e,t){super("Creator not found in creator Vec",e,t),this.name="CreatorNotFound",this.code=6007}}Fe.CreatorNotFoundError=oX;_r.set(6007,oX);Er.set("CreatorNotFound",oX);class aX extends Tr.ProgramError{constructor(e,t){super("No creators in creator Vec",e,t),this.name="NoCreatorsPresent",this.code=6008}}Fe.NoCreatorsPresentError=aX;_r.set(6008,aX);Er.set("NoCreatorsPresent",aX);class cX extends Tr.ProgramError{constructor(e,t){super("User-provided creator Vec must result in same user-provided creator hash",e,t),this.name="CreatorHashMismatch",this.code=6009}}Fe.CreatorHashMismatchError=cX;_r.set(6009,cX);Er.set("CreatorHashMismatch",cX);class uX extends Tr.ProgramError{constructor(e,t){super("User-provided metadata must result in same user-provided data hash",e,t),this.name="DataHashMismatch",this.code=6010}}Fe.DataHashMismatchError=uX;_r.set(6010,uX);Er.set("DataHashMismatch",uX);class lX extends Tr.ProgramError{constructor(e,t){super("Creators list too long",e,t),this.name="CreatorsTooLong",this.code=6011}}Fe.CreatorsTooLongError=lX;_r.set(6011,lX);Er.set("CreatorsTooLong",lX);class dX extends Tr.ProgramError{constructor(e,t){super("Name in metadata is too long",e,t),this.name="MetadataNameTooLong",this.code=6012}}Fe.MetadataNameTooLongError=dX;_r.set(6012,dX);Er.set("MetadataNameTooLong",dX);class fX extends Tr.ProgramError{constructor(e,t){super("Symbol in metadata is too long",e,t),this.name="MetadataSymbolTooLong",this.code=6013}}Fe.MetadataSymbolTooLongError=fX;_r.set(6013,fX);Er.set("MetadataSymbolTooLong",fX);class hX extends Tr.ProgramError{constructor(e,t){super("Uri in metadata is too long",e,t),this.name="MetadataUriTooLong",this.code=6014}}Fe.MetadataUriTooLongError=hX;_r.set(6014,hX);Er.set("MetadataUriTooLong",hX);class gX extends Tr.ProgramError{constructor(e,t){super("Basis points in metadata cannot exceed 10000",e,t),this.name="MetadataBasisPointsTooHigh",this.code=6015}}Fe.MetadataBasisPointsTooHighError=gX;_r.set(6015,gX);Er.set("MetadataBasisPointsTooHigh",gX);class mX extends Tr.ProgramError{constructor(e,t){super("Tree creator or tree delegate must sign.",e,t),this.name="TreeAuthorityIncorrect",this.code=6016}}Fe.TreeAuthorityIncorrectError=mX;_r.set(6016,mX);Er.set("TreeAuthorityIncorrect",mX);class yX extends Tr.ProgramError{constructor(e,t){super("Not enough unapproved mints left",e,t),this.name="InsufficientMintCapacity",this.code=6017}}Fe.InsufficientMintCapacityError=yX;_r.set(6017,yX);Er.set("InsufficientMintCapacity",yX);class pX extends Tr.ProgramError{constructor(e,t){super("NumericalOverflowError",e,t),this.name="NumericalOverflowError",this.code=6018}}Fe.NumericalOverflowErrorError=pX;_r.set(6018,pX);Er.set("NumericalOverflowError",pX);class bX extends Tr.ProgramError{constructor(e,t){super("Incorrect account owner",e,t),this.name="IncorrectOwner",this.code=6019}}Fe.IncorrectOwnerError=bX;_r.set(6019,bX);Er.set("IncorrectOwner",bX);class SX extends Tr.ProgramError{constructor(e,t){super("Cannot Verify Collection in this Instruction",e,t),this.name="CollectionCannotBeVerifiedInThisInstruction",this.code=6020}}Fe.CollectionCannotBeVerifiedInThisInstructionError=SX;_r.set(6020,SX);Er.set("CollectionCannotBeVerifiedInThisInstruction",SX);class kX extends Tr.ProgramError{constructor(e,t){super("Collection Not Found on Metadata",e,t),this.name="CollectionNotFound",this.code=6021}}Fe.CollectionNotFoundError=kX;_r.set(6021,kX);Er.set("CollectionNotFound",kX);class vX extends Tr.ProgramError{constructor(e,t){super("Collection item is already verified.",e,t),this.name="AlreadyVerified",this.code=6022}}Fe.AlreadyVerifiedError=vX;_r.set(6022,vX);Er.set("AlreadyVerified",vX);class AX extends Tr.ProgramError{constructor(e,t){super("Collection item is already unverified.",e,t),this.name="AlreadyUnverified",this.code=6023}}Fe.AlreadyUnverifiedError=AX;_r.set(6023,AX);Er.set("AlreadyUnverified",AX);class wX extends Tr.ProgramError{constructor(e,t){super("Incorrect leaf metadata update authority.",e,t),this.name="UpdateAuthorityIncorrect",this.code=6024}}Fe.UpdateAuthorityIncorrectError=wX;_r.set(6024,wX);Er.set("UpdateAuthorityIncorrect",wX);class IX extends Tr.ProgramError{constructor(e,t){super("This transaction must be signed by either the leaf owner or leaf delegate",e,t),this.name="LeafAuthorityMustSign",this.code=6025}}Fe.LeafAuthorityMustSignError=IX;_r.set(6025,IX);Er.set("LeafAuthorityMustSign",IX);class PX extends Tr.ProgramError{constructor(e,t){super("Collection Not Compatable with Compression, Must be Sized",e,t),this.name="CollectionMustBeSized",this.code=6026}}Fe.CollectionMustBeSizedError=PX;_r.set(6026,PX);Er.set("CollectionMustBeSized",PX);class _X extends Tr.ProgramError{constructor(e,t){super("Metadata mint does not match collection mint",e,t),this.name="MetadataMintMismatch",this.code=6027}}Fe.MetadataMintMismatchError=_X;_r.set(6027,_X);Er.set("MetadataMintMismatch",_X);class EX extends Tr.ProgramError{constructor(e,t){super("Invalid collection authority",e,t),this.name="InvalidCollectionAuthority",this.code=6028}}Fe.InvalidCollectionAuthorityError=EX;_r.set(6028,EX);Er.set("InvalidCollectionAuthority",EX);class xX extends Tr.ProgramError{constructor(e,t){super("Invalid delegate record pda derivation",e,t),this.name="InvalidDelegateRecord",this.code=6029}}Fe.InvalidDelegateRecordError=xX;_r.set(6029,xX);Er.set("InvalidDelegateRecord",xX);class TX extends Tr.ProgramError{constructor(e,t){super("Edition account doesnt match collection",e,t),this.name="CollectionMasterEditionAccountInvalid",this.code=6030}}Fe.CollectionMasterEditionAccountInvalidError=TX;_r.set(6030,TX);Er.set("CollectionMasterEditionAccountInvalid",TX);class RX extends Tr.ProgramError{constructor(e,t){super("Collection Must Be a Unique Master Edition v2",e,t),this.name="CollectionMustBeAUniqueMasterEdition",this.code=6031}}Fe.CollectionMustBeAUniqueMasterEditionError=RX;_r.set(6031,RX);Er.set("CollectionMustBeAUniqueMasterEdition",RX);class CX extends Tr.ProgramError{constructor(e,t){super("Could not convert external error to BubblegumError",e,t),this.name="UnknownExternalError",this.code=6032}}Fe.UnknownExternalErrorError=CX;_r.set(6032,CX);Er.set("UnknownExternalError",CX);class MX extends Tr.ProgramError{constructor(e,t){super("Decompression is disabled for this tree.",e,t),this.name="DecompressionDisabled",this.code=6033}}Fe.DecompressionDisabledError=MX;_r.set(6033,MX);Er.set("DecompressionDisabled",MX);class BX extends Tr.ProgramError{constructor(e,t){super("Missing collection mint account",e,t),this.name="MissingCollectionMintAccount",this.code=6034}}Fe.MissingCollectionMintAccountError=BX;_r.set(6034,BX);Er.set("MissingCollectionMintAccount",BX);class zX extends Tr.ProgramError{constructor(e,t){super("Missing collection metadata account",e,t),this.name="MissingCollectionMetadataAccount",this.code=6035}}Fe.MissingCollectionMetadataAccountError=zX;_r.set(6035,zX);Er.set("MissingCollectionMetadataAccount",zX);class $X extends Tr.ProgramError{constructor(e,t){super("Collection mismatch",e,t),this.name="CollectionMismatch",this.code=6036}}Fe.CollectionMismatchError=$X;_r.set(6036,$X);Er.set("CollectionMismatch",$X);class DX extends Tr.ProgramError{constructor(e,t){super("Metadata not mutable",e,t),this.name="MetadataImmutable",this.code=6037}}Fe.MetadataImmutableError=DX;_r.set(6037,DX);Er.set("MetadataImmutable",DX);class OX extends Tr.ProgramError{constructor(e,t){super("Can only update primary sale to true",e,t),this.name="PrimarySaleCanOnlyBeFlippedToTrue",this.code=6038}}Fe.PrimarySaleCanOnlyBeFlippedToTrueError=OX;_r.set(6038,OX);Er.set("PrimarySaleCanOnlyBeFlippedToTrue",OX);class KX extends Tr.ProgramError{constructor(e,t){super("Creator did not unverify the metadata",e,t),this.name="CreatorDidNotUnverify",this.code=6039}}Fe.CreatorDidNotUnverifyError=KX;_r.set(6039,KX);Er.set("CreatorDidNotUnverify",KX);class LX extends Tr.ProgramError{constructor(e,t){super("Only NonFungible standard is supported",e,t),this.name="InvalidTokenStandard",this.code=6040}}Fe.InvalidTokenStandardError=LX;_r.set(6040,LX);Er.set("InvalidTokenStandard",LX);class WX extends Tr.ProgramError{constructor(e,t){super("Canopy size should be set bigger for this tree",e,t),this.name="InvalidCanopySize",this.code=6041}}Fe.InvalidCanopySizeError=WX;_r.set(6041,WX);Er.set("InvalidCanopySize",WX);function Gyt(n,e,t){const r=_r.get(n);return r?new r(e,t):null}Fe.getMplBubblegumErrorFromCode=Gyt;function Yyt(n,e,t){const r=Er.get(n);return r?new r(e,t):null}Fe.getMplBubblegumErrorFromName=Yyt;var ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.getSplAccountCompressionErrorFromName=ei.getSplAccountCompressionErrorFromCode=ei.LeafIndexOutOfBoundsError=ei.IncorrectAccountTypeError=ei.IncorrectAccountOwnerError=ei.IncorrectAuthorityError=ei.CanopyLengthMismatchError=ei.ConcurrentMerkleTreeConstantsErrorError=ei.ZeroCopyErrorError=ei.ConcurrentMerkleTreeErrorError=ei.IncorrectLeafLengthError=void 0;const cm=Z,ph=new Map,bh=new Map;class NX extends cm.ProgramError{constructor(e,t){super("Incorrect leaf length. Expected vec of 32 bytes",e,t),this.name="IncorrectLeafLength",this.code=6e3}}ei.IncorrectLeafLengthError=NX;ph.set(6e3,NX);bh.set("IncorrectLeafLength",NX);class FX extends cm.ProgramError{constructor(e,t){super("Concurrent merkle tree error",e,t),this.name="ConcurrentMerkleTreeError",this.code=6001}}ei.ConcurrentMerkleTreeErrorError=FX;ph.set(6001,FX);bh.set("ConcurrentMerkleTreeError",FX);class UX extends cm.ProgramError{constructor(e,t){super("Issue zero copying concurrent merkle tree data",e,t),this.name="ZeroCopyError",this.code=6002}}ei.ZeroCopyErrorError=UX;ph.set(6002,UX);bh.set("ZeroCopyError",UX);class VX extends cm.ProgramError{constructor(e,t){super("An unsupported max depth or max buffer size constant was provided",e,t),this.name="ConcurrentMerkleTreeConstantsError",this.code=6003}}ei.ConcurrentMerkleTreeConstantsErrorError=VX;ph.set(6003,VX);bh.set("ConcurrentMerkleTreeConstantsError",VX);class qX extends cm.ProgramError{constructor(e,t){super("Expected a different byte length for the merkle tree canopy",e,t),this.name="CanopyLengthMismatch",this.code=6004}}ei.CanopyLengthMismatchError=qX;ph.set(6004,qX);bh.set("CanopyLengthMismatch",qX);class jX extends cm.ProgramError{constructor(e,t){super("Provided authority does not match expected tree authority",e,t),this.name="IncorrectAuthority",this.code=6005}}ei.IncorrectAuthorityError=jX;ph.set(6005,jX);bh.set("IncorrectAuthority",jX);class HX extends cm.ProgramError{constructor(e,t){super("Account is owned by a different program, expected it to be owned by this program",e,t),this.name="IncorrectAccountOwner",this.code=6006}}ei.IncorrectAccountOwnerError=HX;ph.set(6006,HX);bh.set("IncorrectAccountOwner",HX);class GX extends cm.ProgramError{constructor(e,t){super("Account provided has incorrect account type",e,t),this.name="IncorrectAccountType",this.code=6007}}ei.IncorrectAccountTypeError=GX;ph.set(6007,GX);bh.set("IncorrectAccountType",GX);class YX extends cm.ProgramError{constructor(e,t){super("Leaf index of concurrent merkle tree is out of bounds",e,t),this.name="LeafIndexOutOfBounds",this.code=6008}}ei.LeafIndexOutOfBoundsError=YX;ph.set(6008,YX);bh.set("LeafIndexOutOfBounds",YX);function Zyt(n,e,t){const r=ph.get(n);return r?new r(e,t):null}ei.getSplAccountCompressionErrorFromCode=Zyt;function Jyt(n,e,t){const r=bh.get(n);return r?new r(e,t):null}ei.getSplAccountCompressionErrorFromName=Jyt;var hw={};Object.defineProperty(hw,"__esModule",{value:!0});hw.getSplNoopErrorFromName=hw.getSplNoopErrorFromCode=void 0;const Xyt=new Map,Qyt=new Map;function ept(n,e,t){const r=Xyt.get(n);return r?new r(e,t):null}hw.getSplNoopErrorFromCode=ept;function tpt(n,e,t){const r=Qyt.get(n);return r?new r(e,t):null}hw.getSplNoopErrorFromName=tpt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Fe,n),t(ei,n),t(hw,n)})(xz);var mxe={},gw={},fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.getAccountMetasAndSigners=fs.expectPda=fs.expectPublicKey=fs.expectSome=void 0;const V2=Z;function rpt(n){if(n==null)throw new Error("Expected a value but received null or undefined.");return n}fs.expectSome=rpt;function npt(n){if(!n)throw new Error("Expected a PublicKey.");return(0,V2.publicKey)(n,!1)}fs.expectPublicKey=npt;function spt(n){if(!n||!Array.isArray(n)||!(0,V2.isPda)(n))throw new Error("Expected a PDA.");return n}fs.expectPda=spt;function ipt(n,e,t){const r=[],s=[];return n.forEach(i=>{if(!i.value){if(e==="omitted")return;r.push({pubkey:t,isSigner:!1,isWritable:!1});return}(0,V2.isSigner)(i.value)&&s.push(i.value),r.push({pubkey:(0,V2.publicKey)(i.value,!1),isSigner:(0,V2.isSigner)(i.value),isWritable:i.isWritable})}),[r,s]}fs.getAccountMetasAndSigners=ipt;Object.defineProperty(gw,"__esModule",{value:!0});gw.burn=gw.getBurnInstructionDataSerializer=void 0;const opt=Z,Mh=q,apt=uc,KN=fs;function yxe(){return(0,Mh.mapSerializer)((0,Mh.struct)([["discriminator",(0,Mh.array)((0,Mh.u8)(),{size:8})],["root",(0,Mh.bytes)({size:32})],["dataHash",(0,Mh.bytes)({size:32})],["creatorHash",(0,Mh.bytes)({size:32})],["nonce",(0,Mh.u64)()],["index",(0,Mh.u32)()]],{description:"BurnInstructionData"}),n=>({...n,discriminator:[116,110,29,56,107,219,42,93]}))}gw.getBurnInstructionDataSerializer=yxe;function cpt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:5,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,apt.findTreeConfigPda)(n,{merkleTree:(0,KN.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,KN.expectSome)(r.leafOwner.value)),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,KN.getAccountMetasAndSigners)(i,"programId",t),u=yxe().serialize(s),l=0;return(0,opt.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}gw.burn=cpt;var mw={};Object.defineProperty(mw,"__esModule",{value:!0});mw.cancelRedeem=mw.getCancelRedeemInstructionDataSerializer=void 0;const upt=Z,$R=q,lpt=uc,pme=fs;function pxe(){return(0,$R.mapSerializer)((0,$R.struct)([["discriminator",(0,$R.array)((0,$R.u8)(),{size:8})],["root",(0,$R.bytes)({size:32})]],{description:"CancelRedeemInstructionData"}),n=>({...n,discriminator:[111,76,232,50,39,175,48,242]}))}mw.getCancelRedeemInstructionDataSerializer=pxe;function dpt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!0,value:e.leafOwner??null},merkleTree:{index:2,isWritable:!0,value:e.merkleTree??null},voucher:{index:3,isWritable:!0,value:e.voucher??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:5,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,lpt.findTreeConfigPda)(n,{merkleTree:(0,pme.expectPublicKey)(r.merkleTree.value)})),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,pme.getAccountMetasAndSigners)(i,"programId",t),c=pxe().serialize(s),u=0;return(0,upt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}mw.cancelRedeem=dpt;var yw={};Object.defineProperty(yw,"__esModule",{value:!0});yw.createTreeConfig=yw.getCreateTreeConfigInstructionDataSerializer=void 0;const qq=Z,ey=q,bme=uc,Sme=fs;function bxe(){return(0,ey.mapSerializer)((0,ey.struct)([["discriminator",(0,ey.array)((0,ey.u8)(),{size:8})],["maxDepth",(0,ey.u32)()],["maxBufferSize",(0,ey.u32)()],["public",(0,ey.option)((0,ey.bool)())]],{description:"CreateTreeConfigInstructionData"}),n=>({...n,discriminator:[165,83,136,142,89,202,47,220],public:n.public??(0,qq.none)()}))}yw.getCreateTreeConfigInstructionDataSerializer=bxe;function fpt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!0,value:e.treeConfig??null},merkleTree:{index:1,isWritable:!0,value:e.merkleTree??null},payer:{index:2,isWritable:!0,value:e.payer??null},treeCreator:{index:3,isWritable:!1,value:e.treeCreator??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:5,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,bme.findTreeConfigPda)(n,{merkleTree:(0,Sme.expectPublicKey)(r.merkleTree.value)})),r.payer.value||(r.payer.value=n.payer),r.treeCreator.value||(r.treeCreator.value=n.identity),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Sme.getAccountMetasAndSigners)(i,"programId",t),c=bxe().serialize(s),u=(0,bme.getTreeConfigSize)()+qq.ACCOUNT_HEADER_SIZE;return(0,qq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}yw.createTreeConfig=fpt;var pw={},bk={},Db={},Ut={},yo={},ut={},Sxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAuthorityTypeSerializer=n.AuthorityType=void 0;const e=q;var t;(function(s){s[s.None=0]="None",s[s.Metadata=1]="Metadata",s[s.Holder=2]="Holder",s[s.MetadataDelegate=3]="MetadataDelegate",s[s.TokenDelegate=4]="TokenDelegate"})(t=n.AuthorityType||(n.AuthorityType={}));function r(){return(0,e.scalarEnum)(t,{description:"AuthorityType"})}n.getAuthorityTypeSerializer=r})(Sxe);var E6={};Object.defineProperty(E6,"__esModule",{value:!0});E6.getAuthorizationDataSerializer=void 0;const hpt=q,gpt=ut;function mpt(){return(0,hpt.struct)([["payload",(0,gpt.getPayloadSerializer)()]],{description:"AuthorizationData"})}E6.getAuthorizationDataSerializer=mpt;var Zy={};Object.defineProperty(Zy,"__esModule",{value:!0});Zy.isBurnArgs=Zy.burnArgs=Zy.getBurnArgsSerializer=void 0;const z$=q;function ypt(){return(0,z$.dataEnum)([["V1",(0,z$.mapSerializer)((0,z$.struct)([["amount",(0,z$.u64)()]]),n=>({...n,amount:n.amount??1}))]],{description:"BurnArgs"})}Zy.getBurnArgsSerializer=ypt;function ppt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Zy.burnArgs=ppt;function bpt(n,e){return e.__kind===n}Zy.isBurnArgs=bpt;var x6={};Object.defineProperty(x6,"__esModule",{value:!0});x6.getCollectionSerializer=void 0;const LN=q;function Spt(){return(0,LN.struct)([["verified",(0,LN.bool)()],["key",(0,LN.publicKey)()]],{description:"Collection"})}x6.getCollectionSerializer=Spt;var Jy={};Object.defineProperty(Jy,"__esModule",{value:!0});Jy.isCollectionDetails=Jy.collectionDetails=Jy.getCollectionDetailsSerializer=void 0;const Rk=q;function kpt(){return(0,Rk.dataEnum)([["V1",(0,Rk.struct)([["size",(0,Rk.u64)()]])],["V2",(0,Rk.struct)([["padding",(0,Rk.array)((0,Rk.u8)(),{size:8})]])]],{description:"CollectionDetails"})}Jy.getCollectionDetailsSerializer=kpt;function vpt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Jy.collectionDetails=vpt;function Apt(n,e){return e.__kind===n}Jy.isCollectionDetails=Apt;var Xy={};Object.defineProperty(Xy,"__esModule",{value:!0});Xy.isCollectionDetailsToggle=Xy.collectionDetailsToggle=Xy.getCollectionDetailsToggleSerializer=void 0;const DR=q,wpt=ut;function Ipt(){return(0,DR.dataEnum)([["None",(0,DR.unit)()],["Clear",(0,DR.unit)()],["Set",(0,DR.struct)([["fields",(0,DR.tuple)([(0,wpt.getCollectionDetailsSerializer)()])]])]],{description:"CollectionDetailsToggle"})}Xy.getCollectionDetailsToggleSerializer=Ipt;function Ppt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Xy.collectionDetailsToggle=Ppt;function _pt(n,e){return e.__kind===n}Xy.isCollectionDetailsToggle=_pt;var Qy={};Object.defineProperty(Qy,"__esModule",{value:!0});Qy.isCollectionToggle=Qy.collectionToggle=Qy.getCollectionToggleSerializer=void 0;const OR=q,Ept=ut;function xpt(){return(0,OR.dataEnum)([["None",(0,OR.unit)()],["Clear",(0,OR.unit)()],["Set",(0,OR.struct)([["fields",(0,OR.tuple)([(0,Ept.getCollectionSerializer)()])]])]],{description:"CollectionToggle"})}Qy.getCollectionToggleSerializer=xpt;function Tpt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Qy.collectionToggle=Tpt;function Rpt(n,e){return e.__kind===n}Qy.isCollectionToggle=Rpt;var ep={};Object.defineProperty(ep,"__esModule",{value:!0});ep.isCreateArgs=ep.createArgs=ep.getCreateArgsSerializer=void 0;const Yb=Z,jo=q,Ck=ut;function Cpt(){return(0,jo.dataEnum)([["V1",(0,jo.mapSerializer)((0,jo.struct)([["name",(0,jo.string)()],["symbol",(0,jo.string)()],["uri",(0,jo.string)()],["sellerFeeBasisPoints",(0,Yb.mapAmountSerializer)((0,jo.u16)(),"%",2)],["creators",(0,jo.option)((0,jo.array)((0,Ck.getCreatorSerializer)()))],["primarySaleHappened",(0,jo.bool)()],["isMutable",(0,jo.bool)()],["tokenStandard",(0,Ck.getTokenStandardSerializer)()],["collection",(0,jo.option)((0,Ck.getCollectionSerializer)())],["uses",(0,jo.option)((0,Ck.getUsesSerializer)())],["collectionDetails",(0,jo.option)((0,Ck.getCollectionDetailsSerializer)())],["ruleSet",(0,jo.option)((0,jo.publicKey)())],["decimals",(0,jo.option)((0,jo.u8)())],["printSupply",(0,jo.option)((0,Ck.getPrintSupplySerializer)())]]),n=>({...n,symbol:n.symbol??"",primarySaleHappened:n.primarySaleHappened??!1,isMutable:n.isMutable??!0,collection:n.collection??(0,Yb.none)(),uses:n.uses??(0,Yb.none)(),collectionDetails:n.collectionDetails??(0,Yb.none)(),ruleSet:n.ruleSet??(0,Yb.none)(),decimals:n.decimals??(0,Yb.none)(),printSupply:n.printSupply??(0,Yb.none)()}))]],{description:"CreateArgs"})}ep.getCreateArgsSerializer=Cpt;function Mpt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}ep.createArgs=Mpt;function Bpt(n,e){return e.__kind===n}ep.isCreateArgs=Bpt;var T6={};Object.defineProperty(T6,"__esModule",{value:!0});T6.getCreatorSerializer=void 0;const $$=q;function zpt(){return(0,$$.struct)([["address",(0,$$.publicKey)()],["verified",(0,$$.bool)()],["share",(0,$$.u8)()]],{description:"Creator"})}T6.getCreatorSerializer=zpt;var R6={};Object.defineProperty(R6,"__esModule",{value:!0});R6.getDataSerializer=void 0;const Zb=q,$pt=ut;function Dpt(){return(0,Zb.struct)([["name",(0,Zb.string)()],["symbol",(0,Zb.string)()],["uri",(0,Zb.string)()],["sellerFeeBasisPoints",(0,Zb.u16)()],["creators",(0,Zb.option)((0,Zb.array)((0,$pt.getCreatorSerializer)()))]],{description:"Data"})}R6.getDataSerializer=Dpt;var C6={};Object.defineProperty(C6,"__esModule",{value:!0});C6.getDataV2Serializer=void 0;const Bh=q,WN=ut;function Opt(){return(0,Bh.struct)([["name",(0,Bh.string)()],["symbol",(0,Bh.string)()],["uri",(0,Bh.string)()],["sellerFeeBasisPoints",(0,Bh.u16)()],["creators",(0,Bh.option)((0,Bh.array)((0,WN.getCreatorSerializer)()))],["collection",(0,Bh.option)((0,WN.getCollectionSerializer)())],["uses",(0,Bh.option)((0,WN.getUsesSerializer)())]],{description:"DataV2"})}C6.getDataV2Serializer=Opt;var tp={};Object.defineProperty(tp,"__esModule",{value:!0});tp.isDelegateArgs=tp.delegateArgs=tp.getDelegateArgsSerializer=void 0;const xu=Z,br=q,Tu=ut;function Kpt(){return(0,br.dataEnum)([["CollectionV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,xu.none)()}))],["SaleV1",(0,br.mapSerializer)((0,br.struct)([["amount",(0,br.u64)()],["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,xu.none)()}))],["TransferV1",(0,br.mapSerializer)((0,br.struct)([["amount",(0,br.u64)()],["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,xu.none)()}))],["DataV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,xu.none)()}))],["UtilityV1",(0,br.mapSerializer)((0,br.struct)([["amount",(0,br.u64)()],["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,xu.none)()}))],["StakingV1",(0,br.mapSerializer)((0,br.struct)([["amount",(0,br.u64)()],["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,xu.none)()}))],["StandardV1",(0,br.mapSerializer)((0,br.struct)([["amount",(0,br.u64)()]]),n=>({...n,amount:n.amount??1}))],["LockedTransferV1",(0,br.mapSerializer)((0,br.struct)([["amount",(0,br.u64)()],["lockedAddress",(0,br.publicKey)()],["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,xu.none)()}))],["ProgrammableConfigV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,xu.none)()}))],["AuthorityItemV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,xu.none)()}))],["DataItemV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,xu.none)()}))],["CollectionItemV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,xu.none)()}))],["ProgrammableConfigItemV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,xu.none)()}))],["PrintDelegateV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,xu.none)()}))]],{description:"DelegateArgs"})}tp.getDelegateArgsSerializer=Kpt;function Lpt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}tp.delegateArgs=Lpt;function Wpt(n,e){return e.__kind===n}tp.isDelegateArgs=Wpt;var rp={};Object.defineProperty(rp,"__esModule",{value:!0});rp.isEscrowAuthority=rp.escrowAuthority=rp.getEscrowAuthoritySerializer=void 0;const KR=q;function Npt(){return(0,KR.dataEnum)([["TokenOwner",(0,KR.unit)()],["Creator",(0,KR.struct)([["fields",(0,KR.tuple)([(0,KR.publicKey)()])]])]],{description:"EscrowAuthority"})}rp.getEscrowAuthoritySerializer=Npt;function Fpt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}rp.escrowAuthority=Fpt;function Upt(n,e){return e.__kind===n}rp.isEscrowAuthority=Upt;var ZX={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getHolderDelegateRoleSerializer=n.HolderDelegateRole=void 0;const e=q;var t;(function(s){s[s.PrintDelegate=0]="PrintDelegate"})(t=n.HolderDelegateRole||(n.HolderDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"HolderDelegateRole"})}n.getHolderDelegateRoleSerializer=r})(ZX);var kxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getKeySerializer=n.Key=void 0;const e=q;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.EditionV1=1]="EditionV1",s[s.MasterEditionV1=2]="MasterEditionV1",s[s.ReservationListV1=3]="ReservationListV1",s[s.MetadataV1=4]="MetadataV1",s[s.ReservationListV2=5]="ReservationListV2",s[s.MasterEditionV2=6]="MasterEditionV2",s[s.EditionMarker=7]="EditionMarker",s[s.UseAuthorityRecord=8]="UseAuthorityRecord",s[s.CollectionAuthorityRecord=9]="CollectionAuthorityRecord",s[s.TokenOwnedEscrow=10]="TokenOwnedEscrow",s[s.TokenRecord=11]="TokenRecord",s[s.MetadataDelegate=12]="MetadataDelegate",s[s.EditionMarkerV2=13]="EditionMarkerV2",s[s.HolderDelegate=14]="HolderDelegate"})(t=n.Key||(n.Key={}));function r(){return(0,e.scalarEnum)(t,{description:"Key"})}n.getKeySerializer=r})(kxe);var np={};Object.defineProperty(np,"__esModule",{value:!0});np.isLockArgs=np.lockArgs=np.getLockArgsSerializer=void 0;const Vpt=Z,D$=q,qpt=ut;function jpt(){return(0,D$.dataEnum)([["V1",(0,D$.mapSerializer)((0,D$.struct)([["authorizationData",(0,D$.option)((0,qpt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Vpt.none)()}))]],{description:"LockArgs"})}np.getLockArgsSerializer=jpt;function Hpt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}np.lockArgs=Hpt;function Gpt(n,e){return e.__kind===n}np.isLockArgs=Gpt;var JX={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMetadataDelegateRoleSerializer=n.MetadataDelegateRole=void 0;const e=q;var t;(function(s){s[s.AuthorityItem=0]="AuthorityItem",s[s.Collection=1]="Collection",s[s.Use=2]="Use",s[s.Data=3]="Data",s[s.ProgrammableConfig=4]="ProgrammableConfig",s[s.DataItem=5]="DataItem",s[s.CollectionItem=6]="CollectionItem",s[s.ProgrammableConfigItem=7]="ProgrammableConfigItem"})(t=n.MetadataDelegateRole||(n.MetadataDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"MetadataDelegateRole"})}n.getMetadataDelegateRoleSerializer=r})(JX);var vxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMigrationTypeSerializer=n.MigrationType=void 0;const e=q;var t;(function(s){s[s.CollectionV1=0]="CollectionV1",s[s.ProgrammableV1=1]="ProgrammableV1"})(t=n.MigrationType||(n.MigrationType={}));function r(){return(0,e.scalarEnum)(t,{description:"MigrationType"})}n.getMigrationTypeSerializer=r})(vxe);var sp={};Object.defineProperty(sp,"__esModule",{value:!0});sp.isMintArgs=sp.mintArgs=sp.getMintArgsSerializer=void 0;const Ypt=Z,LR=q,Zpt=ut;function Jpt(){return(0,LR.dataEnum)([["V1",(0,LR.mapSerializer)((0,LR.struct)([["amount",(0,LR.u64)()],["authorizationData",(0,LR.option)((0,Zpt.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Ypt.none)()}))]],{description:"MintArgs"})}sp.getMintArgsSerializer=Jpt;function Xpt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}sp.mintArgs=Xpt;function Qpt(n,e){return e.__kind===n}sp.isMintArgs=Qpt;var M6={};Object.defineProperty(M6,"__esModule",{value:!0});M6.getMintNewEditionFromMasterEditionViaTokenArgsSerializer=void 0;const kme=q;function ebt(){return(0,kme.struct)([["edition",(0,kme.u64)()]],{description:"MintNewEditionFromMasterEditionViaTokenArgs"})}M6.getMintNewEditionFromMasterEditionViaTokenArgsSerializer=ebt;var B6={};Object.defineProperty(B6,"__esModule",{value:!0});B6.getPayloadSerializer=void 0;const NN=q,tbt=ut;function rbt(){return(0,NN.struct)([["map",(0,NN.map)((0,NN.string)(),(0,tbt.getPayloadTypeSerializer)())]],{description:"Payload"})}B6.getPayloadSerializer=rbt;var Axe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPayloadKeySerializer=n.PayloadKey=void 0;const e=q;var t;(function(s){s[s.Amount=0]="Amount",s[s.Authority=1]="Authority",s[s.AuthoritySeeds=2]="AuthoritySeeds",s[s.Delegate=3]="Delegate",s[s.DelegateSeeds=4]="DelegateSeeds",s[s.Destination=5]="Destination",s[s.DestinationSeeds=6]="DestinationSeeds",s[s.Holder=7]="Holder",s[s.Source=8]="Source",s[s.SourceSeeds=9]="SourceSeeds"})(t=n.PayloadKey||(n.PayloadKey={}));function r(){return(0,e.scalarEnum)(t,{description:"PayloadKey"})}n.getPayloadKeySerializer=r})(Axe);var ip={};Object.defineProperty(ip,"__esModule",{value:!0});ip.isPayloadType=ip.payloadType=ip.getPayloadTypeSerializer=void 0;const Fl=q,vme=ut;function nbt(){return(0,Fl.dataEnum)([["Pubkey",(0,Fl.struct)([["fields",(0,Fl.tuple)([(0,Fl.publicKey)()])]])],["Seeds",(0,Fl.struct)([["fields",(0,Fl.tuple)([(0,vme.getSeedsVecSerializer)()])]])],["MerkleProof",(0,Fl.struct)([["fields",(0,Fl.tuple)([(0,vme.getProofInfoSerializer)()])]])],["Number",(0,Fl.struct)([["fields",(0,Fl.tuple)([(0,Fl.u64)()])]])]],{description:"PayloadType"})}ip.getPayloadTypeSerializer=nbt;function sbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}ip.payloadType=sbt;function ibt(n,e){return e.__kind===n}ip.isPayloadType=ibt;var op={};Object.defineProperty(op,"__esModule",{value:!0});op.isPrintArgs=op.printArgs=op.getPrintArgsSerializer=void 0;const WR=q;function obt(){return(0,WR.dataEnum)([["V1",(0,WR.struct)([["edition",(0,WR.u64)()]])],["V2",(0,WR.struct)([["edition",(0,WR.u64)()]])]],{description:"PrintArgs"})}op.getPrintArgsSerializer=obt;function abt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}op.printArgs=abt;function cbt(n,e){return e.__kind===n}op.isPrintArgs=cbt;var ap={};Object.defineProperty(ap,"__esModule",{value:!0});ap.isPrintSupply=ap.printSupply=ap.getPrintSupplySerializer=void 0;const Mk=q;function ubt(){return(0,Mk.dataEnum)([["Zero",(0,Mk.unit)()],["Limited",(0,Mk.struct)([["fields",(0,Mk.tuple)([(0,Mk.u64)()])]])],["Unlimited",(0,Mk.unit)()]],{description:"PrintSupply"})}ap.getPrintSupplySerializer=ubt;function lbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}ap.printSupply=lbt;function dbt(n,e){return e.__kind===n}ap.isPrintSupply=dbt;var cp={};Object.defineProperty(cp,"__esModule",{value:!0});cp.isProgrammableConfig=cp.programmableConfig=cp.getProgrammableConfigSerializer=void 0;const O$=q;function fbt(){return(0,O$.dataEnum)([["V1",(0,O$.struct)([["ruleSet",(0,O$.option)((0,O$.publicKey)())]])]],{description:"ProgrammableConfig"})}cp.getProgrammableConfigSerializer=fbt;function hbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}cp.programmableConfig=hbt;function gbt(n,e){return e.__kind===n}cp.isProgrammableConfig=gbt;var z6={};Object.defineProperty(z6,"__esModule",{value:!0});z6.getProofInfoSerializer=void 0;const FN=q;function mbt(){return(0,FN.struct)([["proof",(0,FN.array)((0,FN.bytes)({size:32}))]],{description:"ProofInfo"})}z6.getProofInfoSerializer=mbt;var $6={};Object.defineProperty($6,"__esModule",{value:!0});$6.getReservationSerializer=void 0;const K$=q;function ybt(){return(0,K$.struct)([["address",(0,K$.publicKey)()],["spotsRemaining",(0,K$.u64)()],["totalSpots",(0,K$.u64)()]],{description:"Reservation"})}$6.getReservationSerializer=ybt;var D6={};Object.defineProperty(D6,"__esModule",{value:!0});D6.getReservationV1Serializer=void 0;const L$=q;function pbt(){return(0,L$.struct)([["address",(0,L$.publicKey)()],["spotsRemaining",(0,L$.u8)()],["totalSpots",(0,L$.u8)()]],{description:"ReservationV1"})}D6.getReservationV1Serializer=pbt;var wxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRevokeArgsSerializer=n.RevokeArgs=void 0;const e=q;var t;(function(s){s[s.CollectionV1=0]="CollectionV1",s[s.SaleV1=1]="SaleV1",s[s.TransferV1=2]="TransferV1",s[s.DataV1=3]="DataV1",s[s.UtilityV1=4]="UtilityV1",s[s.StakingV1=5]="StakingV1",s[s.StandardV1=6]="StandardV1",s[s.LockedTransferV1=7]="LockedTransferV1",s[s.ProgrammableConfigV1=8]="ProgrammableConfigV1",s[s.MigrationV1=9]="MigrationV1",s[s.AuthorityItemV1=10]="AuthorityItemV1",s[s.DataItemV1=11]="DataItemV1",s[s.CollectionItemV1=12]="CollectionItemV1",s[s.ProgrammableConfigItemV1=13]="ProgrammableConfigItemV1",s[s.PrintDelegateV1=14]="PrintDelegateV1"})(t=n.RevokeArgs||(n.RevokeArgs={}));function r(){return(0,e.scalarEnum)(t,{description:"RevokeArgs"})}n.getRevokeArgsSerializer=r})(wxe);var up={};Object.defineProperty(up,"__esModule",{value:!0});up.isRuleSetToggle=up.ruleSetToggle=up.getRuleSetToggleSerializer=void 0;const Bk=q;function bbt(){return(0,Bk.dataEnum)([["None",(0,Bk.unit)()],["Clear",(0,Bk.unit)()],["Set",(0,Bk.struct)([["fields",(0,Bk.tuple)([(0,Bk.publicKey)()])]])]],{description:"RuleSetToggle"})}up.getRuleSetToggleSerializer=bbt;function Sbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}up.ruleSetToggle=Sbt;function kbt(n,e){return e.__kind===n}up.isRuleSetToggle=kbt;var O6={};Object.defineProperty(O6,"__esModule",{value:!0});O6.getSeedsVecSerializer=void 0;const W$=q;function vbt(){return(0,W$.struct)([["seeds",(0,W$.array)((0,W$.bytes)({size:(0,W$.u32)()}))]],{description:"SeedsVec"})}O6.getSeedsVecSerializer=vbt;var K6={};Object.defineProperty(K6,"__esModule",{value:!0});K6.getSetCollectionSizeArgsSerializer=void 0;const Ame=q;function Abt(){return(0,Ame.struct)([["size",(0,Ame.u64)()]],{description:"SetCollectionSizeArgs"})}K6.getSetCollectionSizeArgsSerializer=Abt;var Ixe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenDelegateRoleSerializer=n.TokenDelegateRole=void 0;const e=q;var t;(function(s){s[s.Sale=0]="Sale",s[s.Transfer=1]="Transfer",s[s.Utility=2]="Utility",s[s.Staking=3]="Staking",s[s.Standard=4]="Standard",s[s.LockedTransfer=5]="LockedTransfer",s[s.Migration=6]="Migration"})(t=n.TokenDelegateRole||(n.TokenDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenDelegateRole"})}n.getTokenDelegateRoleSerializer=r})(Ixe);var Pxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStandardSerializer=n.TokenStandard=void 0;const e=q;var t;(function(s){s[s.NonFungible=0]="NonFungible",s[s.FungibleAsset=1]="FungibleAsset",s[s.Fungible=2]="Fungible",s[s.NonFungibleEdition=3]="NonFungibleEdition",s[s.ProgrammableNonFungible=4]="ProgrammableNonFungible",s[s.ProgrammableNonFungibleEdition=5]="ProgrammableNonFungibleEdition"})(t=n.TokenStandard||(n.TokenStandard={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenStandard"})}n.getTokenStandardSerializer=r})(Pxe);var _xe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStateSerializer=n.TokenState=void 0;const e=q;var t;(function(s){s[s.Unlocked=0]="Unlocked",s[s.Locked=1]="Locked",s[s.Listed=2]="Listed"})(t=n.TokenState||(n.TokenState={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenState"})}n.getTokenStateSerializer=r})(_xe);var lp={};Object.defineProperty(lp,"__esModule",{value:!0});lp.isTransferArgs=lp.transferArgs=lp.getTransferArgsSerializer=void 0;const wbt=Z,NR=q,Ibt=ut;function Pbt(){return(0,NR.dataEnum)([["V1",(0,NR.mapSerializer)((0,NR.struct)([["amount",(0,NR.u64)()],["authorizationData",(0,NR.option)((0,Ibt.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,wbt.none)()}))]],{description:"TransferArgs"})}lp.getTransferArgsSerializer=Pbt;function _bt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}lp.transferArgs=_bt;function Ebt(n,e){return e.__kind===n}lp.isTransferArgs=Ebt;var dp={};Object.defineProperty(dp,"__esModule",{value:!0});dp.isUnlockArgs=dp.unlockArgs=dp.getUnlockArgsSerializer=void 0;const xbt=Z,N$=q,Tbt=ut;function Rbt(){return(0,N$.dataEnum)([["V1",(0,N$.mapSerializer)((0,N$.struct)([["authorizationData",(0,N$.option)((0,Tbt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,xbt.none)()}))]],{description:"UnlockArgs"})}dp.getUnlockArgsSerializer=Rbt;function Cbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}dp.unlockArgs=Cbt;function Mbt(n,e){return e.__kind===n}dp.isUnlockArgs=Mbt;var fp={};Object.defineProperty(fp,"__esModule",{value:!0});fp.isUpdateArgs=fp.updateArgs=fp.getUpdateArgsSerializer=void 0;const Zs=Z,ar=q,cn=ut;function Bbt(){return(0,ar.dataEnum)([["V1",(0,ar.mapSerializer)((0,ar.struct)([["newUpdateAuthority",(0,ar.option)((0,ar.publicKey)())],["data",(0,ar.option)((0,cn.getDataSerializer)())],["primarySaleHappened",(0,ar.option)((0,ar.bool)())],["isMutable",(0,ar.option)((0,ar.bool)())],["collection",(0,cn.getCollectionToggleSerializer)()],["collectionDetails",(0,cn.getCollectionDetailsToggleSerializer)()],["uses",(0,cn.getUsesToggleSerializer)()],["ruleSet",(0,cn.getRuleSetToggleSerializer)()],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,Zs.none)(),data:n.data??(0,Zs.none)(),primarySaleHappened:n.primarySaleHappened??(0,Zs.none)(),isMutable:n.isMutable??(0,Zs.none)(),collection:n.collection??(0,cn.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,cn.collectionDetailsToggle)("None"),uses:n.uses??(0,cn.usesToggle)("None"),ruleSet:n.ruleSet??(0,cn.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsUpdateAuthorityV2",(0,ar.mapSerializer)((0,ar.struct)([["newUpdateAuthority",(0,ar.option)((0,ar.publicKey)())],["data",(0,ar.option)((0,cn.getDataSerializer)())],["primarySaleHappened",(0,ar.option)((0,ar.bool)())],["isMutable",(0,ar.option)((0,ar.bool)())],["collection",(0,cn.getCollectionToggleSerializer)()],["collectionDetails",(0,cn.getCollectionDetailsToggleSerializer)()],["uses",(0,cn.getUsesToggleSerializer)()],["ruleSet",(0,cn.getRuleSetToggleSerializer)()],["tokenStandard",(0,ar.option)((0,cn.getTokenStandardSerializer)())],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,Zs.none)(),data:n.data??(0,Zs.none)(),primarySaleHappened:n.primarySaleHappened??(0,Zs.none)(),isMutable:n.isMutable??(0,Zs.none)(),collection:n.collection??(0,cn.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,cn.collectionDetailsToggle)("None"),uses:n.uses??(0,cn.usesToggle)("None"),ruleSet:n.ruleSet??(0,cn.ruleSetToggle)("None"),tokenStandard:n.tokenStandard??(0,Zs.none)(),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsAuthorityItemDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["newUpdateAuthority",(0,ar.option)((0,ar.publicKey)())],["primarySaleHappened",(0,ar.option)((0,ar.bool)())],["isMutable",(0,ar.option)((0,ar.bool)())],["tokenStandard",(0,ar.option)((0,cn.getTokenStandardSerializer)())],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,Zs.none)(),primarySaleHappened:n.primarySaleHappened??(0,Zs.none)(),isMutable:n.isMutable??(0,Zs.none)(),tokenStandard:n.tokenStandard??(0,Zs.none)(),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsCollectionDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["collection",(0,cn.getCollectionToggleSerializer)()],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,collection:n.collection??(0,cn.collectionToggle)("None"),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsDataDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["data",(0,ar.option)((0,cn.getDataSerializer)())],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,data:n.data??(0,Zs.none)(),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsProgrammableConfigDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["ruleSet",(0,cn.getRuleSetToggleSerializer)()],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,ruleSet:n.ruleSet??(0,cn.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsDataItemDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["data",(0,ar.option)((0,cn.getDataSerializer)())],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,data:n.data??(0,Zs.none)(),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsCollectionItemDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["collection",(0,cn.getCollectionToggleSerializer)()],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,collection:n.collection??(0,cn.collectionToggle)("None"),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsProgrammableConfigItemDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["ruleSet",(0,cn.getRuleSetToggleSerializer)()],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,ruleSet:n.ruleSet??(0,cn.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,Zs.none)()}))]],{description:"UpdateArgs"})}fp.getUpdateArgsSerializer=Bbt;function zbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}fp.updateArgs=zbt;function $bt(n,e){return e.__kind===n}fp.isUpdateArgs=$bt;var hp={};Object.defineProperty(hp,"__esModule",{value:!0});hp.isUseArgs=hp.useArgs=hp.getUseArgsSerializer=void 0;const Dbt=Z,F$=q,Obt=ut;function Kbt(){return(0,F$.dataEnum)([["V1",(0,F$.mapSerializer)((0,F$.struct)([["authorizationData",(0,F$.option)((0,Obt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Dbt.none)()}))]],{description:"UseArgs"})}hp.getUseArgsSerializer=Kbt;function Lbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}hp.useArgs=Lbt;function Wbt(n,e){return e.__kind===n}hp.isUseArgs=Wbt;var Exe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getUseMethodSerializer=n.UseMethod=void 0;const e=q;var t;(function(s){s[s.Burn=0]="Burn",s[s.Multiple=1]="Multiple",s[s.Single=2]="Single"})(t=n.UseMethod||(n.UseMethod={}));function r(){return(0,e.scalarEnum)(t,{description:"UseMethod"})}n.getUseMethodSerializer=r})(Exe);var L6={};Object.defineProperty(L6,"__esModule",{value:!0});L6.getUsesSerializer=void 0;const UN=q,Nbt=ut;function Fbt(){return(0,UN.struct)([["useMethod",(0,Nbt.getUseMethodSerializer)()],["remaining",(0,UN.u64)()],["total",(0,UN.u64)()]],{description:"Uses"})}L6.getUsesSerializer=Fbt;var gp={};Object.defineProperty(gp,"__esModule",{value:!0});gp.isUsesToggle=gp.usesToggle=gp.getUsesToggleSerializer=void 0;const FR=q,Ubt=ut;function Vbt(){return(0,FR.dataEnum)([["None",(0,FR.unit)()],["Clear",(0,FR.unit)()],["Set",(0,FR.struct)([["fields",(0,FR.tuple)([(0,Ubt.getUsesSerializer)()])]])]],{description:"UsesToggle"})}gp.getUsesToggleSerializer=Vbt;function qbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}gp.usesToggle=qbt;function jbt(n,e){return e.__kind===n}gp.isUsesToggle=jbt;var xxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getVerificationArgsSerializer=n.VerificationArgs=void 0;const e=q;var t;(function(s){s[s.CreatorV1=0]="CreatorV1",s[s.CollectionV1=1]="CollectionV1"})(t=n.VerificationArgs||(n.VerificationArgs={}));function r(){return(0,e.scalarEnum)(t,{description:"VerificationArgs"})}n.getVerificationArgsSerializer=r})(xxe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Sxe,n),t(E6,n),t(Zy,n),t(x6,n),t(Jy,n),t(Xy,n),t(Qy,n),t(ep,n),t(T6,n),t(R6,n),t(C6,n),t(tp,n),t(rp,n),t(ZX,n),t(kxe,n),t(np,n),t(JX,n),t(vxe,n),t(sp,n),t(M6,n),t(B6,n),t(Axe,n),t(ip,n),t(op,n),t(ap,n),t(cp,n),t(z6,n),t($6,n),t(D6,n),t(wxe,n),t(up,n),t(O6,n),t(K6,n),t(Ixe,n),t(Pxe,n),t(_xe,n),t(lp,n),t(dp,n),t(fp,n),t(hp,n),t(Exe,n),t(L6,n),t(gp,n),t(xxe,n)})(ut);Object.defineProperty(yo,"__esModule",{value:!0});yo.safeFetchCollectionAuthorityRecordFromSeeds=yo.fetchCollectionAuthorityRecordFromSeeds=yo.findCollectionAuthorityRecordPda=yo.getCollectionAuthorityRecordGpaBuilder=yo.safeFetchAllCollectionAuthorityRecord=yo.fetchAllCollectionAuthorityRecord=yo.safeFetchCollectionAuthorityRecord=yo.fetchCollectionAuthorityRecord=yo.deserializeCollectionAuthorityRecord=yo.getCollectionAuthorityRecordAccountDataSerializer=void 0;const Jp=Z,Zu=q,OO=ut;function Txe(){return(0,Zu.mapSerializer)((0,Zu.struct)([["key",(0,OO.getKeySerializer)()],["bump",(0,Zu.u8)()],["updateAuthority",(0,Zu.option)((0,Zu.publicKey)())]],{description:"CollectionAuthorityRecordAccountData"}),n=>({...n,key:OO.Key.CollectionAuthorityRecord}))}yo.getCollectionAuthorityRecordAccountDataSerializer=Txe;function IT(n){return(0,Jp.deserializeAccount)(n,Txe())}yo.deserializeCollectionAuthorityRecord=IT;async function Rxe(n,e,t){const r=await n.rpc.getAccount((0,Jp.publicKey)(e,!1),t);return(0,Jp.assertAccountExists)(r,"CollectionAuthorityRecord"),IT(r)}yo.fetchCollectionAuthorityRecord=Rxe;async function Cxe(n,e,t){const r=await n.rpc.getAccount((0,Jp.publicKey)(e,!1),t);return r.exists?IT(r):null}yo.safeFetchCollectionAuthorityRecord=Cxe;async function Hbt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Jp.publicKey)(s,!1)),t)).map(s=>((0,Jp.assertAccountExists)(s,"CollectionAuthorityRecord"),IT(s)))}yo.fetchAllCollectionAuthorityRecord=Hbt;async function Gbt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Jp.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>IT(s))}yo.safeFetchAllCollectionAuthorityRecord=Gbt;function Ybt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Jp.gpaBuilder)(n,e).registerFields({key:[0,(0,OO.getKeySerializer)()],bump:[1,(0,Zu.u8)()],updateAuthority:[2,(0,Zu.option)((0,Zu.publicKey)())]}).deserializeUsing(t=>IT(t)).whereField("key",OO.Key.CollectionAuthorityRecord)}yo.getCollectionAuthorityRecordGpaBuilder=Ybt;function XX(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Zu.string)({size:"variable"}).serialize("metadata"),(0,Zu.publicKey)().serialize(t),(0,Zu.publicKey)().serialize(e.mint),(0,Zu.string)({size:"variable"}).serialize("collection_authority"),(0,Zu.publicKey)().serialize(e.collectionAuthority)])}yo.findCollectionAuthorityRecordPda=XX;async function Zbt(n,e,t){return Rxe(n,XX(n,e),t)}yo.fetchCollectionAuthorityRecordFromSeeds=Zbt;async function Jbt(n,e,t){return Cxe(n,XX(n,e),t)}yo.safeFetchCollectionAuthorityRecordFromSeeds=Jbt;var po={};Object.defineProperty(po,"__esModule",{value:!0});po.safeFetchDeprecatedMasterEditionV1FromSeeds=po.fetchDeprecatedMasterEditionV1FromSeeds=po.findDeprecatedMasterEditionV1Pda=po.getDeprecatedMasterEditionV1GpaBuilder=po.safeFetchAllDeprecatedMasterEditionV1=po.fetchAllDeprecatedMasterEditionV1=po.safeFetchDeprecatedMasterEditionV1=po.fetchDeprecatedMasterEditionV1=po.deserializeDeprecatedMasterEditionV1=po.getDeprecatedMasterEditionV1AccountDataSerializer=void 0;const Xp=Z,kc=q,KO=ut;function Mxe(){return(0,kc.mapSerializer)((0,kc.struct)([["key",(0,KO.getKeySerializer)()],["supply",(0,kc.u64)()],["maxSupply",(0,kc.option)((0,kc.u64)())],["printingMint",(0,kc.publicKey)()],["oneTimePrintingAuthorizationMint",(0,kc.publicKey)()]],{description:"DeprecatedMasterEditionV1AccountData"}),n=>({...n,key:KO.Key.MasterEditionV1}))}po.getDeprecatedMasterEditionV1AccountDataSerializer=Mxe;function PT(n){return(0,Xp.deserializeAccount)(n,Mxe())}po.deserializeDeprecatedMasterEditionV1=PT;async function Bxe(n,e,t){const r=await n.rpc.getAccount((0,Xp.publicKey)(e,!1),t);return(0,Xp.assertAccountExists)(r,"DeprecatedMasterEditionV1"),PT(r)}po.fetchDeprecatedMasterEditionV1=Bxe;async function zxe(n,e,t){const r=await n.rpc.getAccount((0,Xp.publicKey)(e,!1),t);return r.exists?PT(r):null}po.safeFetchDeprecatedMasterEditionV1=zxe;async function Xbt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Xp.publicKey)(s,!1)),t)).map(s=>((0,Xp.assertAccountExists)(s,"DeprecatedMasterEditionV1"),PT(s)))}po.fetchAllDeprecatedMasterEditionV1=Xbt;async function Qbt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Xp.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>PT(s))}po.safeFetchAllDeprecatedMasterEditionV1=Qbt;function e0t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Xp.gpaBuilder)(n,e).registerFields({key:[0,(0,KO.getKeySerializer)()],supply:[1,(0,kc.u64)()],maxSupply:[9,(0,kc.option)((0,kc.u64)())],printingMint:[null,(0,kc.publicKey)()],oneTimePrintingAuthorizationMint:[null,(0,kc.publicKey)()]}).deserializeUsing(t=>PT(t)).whereField("key",KO.Key.MasterEditionV1)}po.getDeprecatedMasterEditionV1GpaBuilder=e0t;function QX(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,kc.string)({size:"variable"}).serialize("metadata"),(0,kc.publicKey)().serialize(t),(0,kc.publicKey)().serialize(e.mint),(0,kc.string)({size:"variable"}).serialize("edition")])}po.findDeprecatedMasterEditionV1Pda=QX;async function t0t(n,e,t){return Bxe(n,QX(n,e),t)}po.fetchDeprecatedMasterEditionV1FromSeeds=t0t;async function r0t(n,e,t){return zxe(n,QX(n,e),t)}po.safeFetchDeprecatedMasterEditionV1FromSeeds=r0t;var xa={};Object.defineProperty(xa,"__esModule",{value:!0});xa.getEditionSize=xa.getEditionGpaBuilder=xa.safeFetchAllEdition=xa.fetchAllEdition=xa.safeFetchEdition=xa.fetchEdition=xa.deserializeEdition=xa.getEditionAccountDataSerializer=void 0;const Qp=Z,Mv=q,LO=ut;function $xe(){return(0,Mv.mapSerializer)((0,Mv.struct)([["key",(0,LO.getKeySerializer)()],["parent",(0,Mv.publicKey)()],["edition",(0,Mv.u64)()]],{description:"EditionAccountData"}),n=>({...n,key:LO.Key.EditionV1}))}xa.getEditionAccountDataSerializer=$xe;function _T(n){return(0,Qp.deserializeAccount)(n,$xe())}xa.deserializeEdition=_T;async function n0t(n,e,t){const r=await n.rpc.getAccount((0,Qp.publicKey)(e,!1),t);return(0,Qp.assertAccountExists)(r,"Edition"),_T(r)}xa.fetchEdition=n0t;async function s0t(n,e,t){const r=await n.rpc.getAccount((0,Qp.publicKey)(e,!1),t);return r.exists?_T(r):null}xa.safeFetchEdition=s0t;async function i0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Qp.publicKey)(s,!1)),t)).map(s=>((0,Qp.assertAccountExists)(s,"Edition"),_T(s)))}xa.fetchAllEdition=i0t;async function o0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Qp.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>_T(s))}xa.safeFetchAllEdition=o0t;function a0t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Qp.gpaBuilder)(n,e).registerFields({key:[0,(0,LO.getKeySerializer)()],parent:[1,(0,Mv.publicKey)()],edition:[33,(0,Mv.u64)()]}).deserializeUsing(t=>_T(t)).whereField("key",LO.Key.EditionV1)}xa.getEditionGpaBuilder=a0t;function c0t(){return 41}xa.getEditionSize=c0t;var ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.safeFetchEditionMarkerFromSeeds=ti.fetchEditionMarkerFromSeeds=ti.findEditionMarkerPda=ti.getEditionMarkerSize=ti.getEditionMarkerGpaBuilder=ti.safeFetchAllEditionMarker=ti.fetchAllEditionMarker=ti.safeFetchEditionMarker=ti.fetchEditionMarker=ti.deserializeEditionMarker=ti.getEditionMarkerAccountDataSerializer=void 0;const eb=Z,ed=q,WO=ut;function Dxe(){return(0,ed.mapSerializer)((0,ed.struct)([["key",(0,WO.getKeySerializer)()],["ledger",(0,ed.array)((0,ed.u8)(),{size:31})]],{description:"EditionMarkerAccountData"}),n=>({...n,key:WO.Key.EditionMarker}))}ti.getEditionMarkerAccountDataSerializer=Dxe;function ET(n){return(0,eb.deserializeAccount)(n,Dxe())}ti.deserializeEditionMarker=ET;async function Oxe(n,e,t){const r=await n.rpc.getAccount((0,eb.publicKey)(e,!1),t);return(0,eb.assertAccountExists)(r,"EditionMarker"),ET(r)}ti.fetchEditionMarker=Oxe;async function Kxe(n,e,t){const r=await n.rpc.getAccount((0,eb.publicKey)(e,!1),t);return r.exists?ET(r):null}ti.safeFetchEditionMarker=Kxe;async function u0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,eb.publicKey)(s,!1)),t)).map(s=>((0,eb.assertAccountExists)(s,"EditionMarker"),ET(s)))}ti.fetchAllEditionMarker=u0t;async function l0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,eb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>ET(s))}ti.safeFetchAllEditionMarker=l0t;function d0t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,eb.gpaBuilder)(n,e).registerFields({key:[0,(0,WO.getKeySerializer)()],ledger:[1,(0,ed.array)((0,ed.u8)(),{size:31})]}).deserializeUsing(t=>ET(t)).whereField("key",WO.Key.EditionMarker)}ti.getEditionMarkerGpaBuilder=d0t;function f0t(){return 32}ti.getEditionMarkerSize=f0t;function eQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,ed.string)({size:"variable"}).serialize("metadata"),(0,ed.publicKey)().serialize(t),(0,ed.publicKey)().serialize(e.mint),(0,ed.string)({size:"variable"}).serialize("edition"),(0,ed.string)({size:"variable"}).serialize(e.editionMarker)])}ti.findEditionMarkerPda=eQ;async function h0t(n,e,t){return Oxe(n,eQ(n,e),t)}ti.fetchEditionMarkerFromSeeds=h0t;async function g0t(n,e,t){return Kxe(n,eQ(n,e),t)}ti.safeFetchEditionMarkerFromSeeds=g0t;var bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.safeFetchEditionMarkerV2FromSeeds=bo.fetchEditionMarkerV2FromSeeds=bo.findEditionMarkerV2Pda=bo.getEditionMarkerV2GpaBuilder=bo.safeFetchAllEditionMarkerV2=bo.fetchAllEditionMarkerV2=bo.safeFetchEditionMarkerV2=bo.fetchEditionMarkerV2=bo.deserializeEditionMarkerV2=bo.getEditionMarkerV2AccountDataSerializer=void 0;const tb=Z,Mf=q,Lxe=ut;function Wxe(){return(0,Mf.struct)([["key",(0,Lxe.getKeySerializer)()],["ledger",(0,Mf.bytes)({size:(0,Mf.u32)()})]],{description:"EditionMarkerV2AccountData"})}bo.getEditionMarkerV2AccountDataSerializer=Wxe;function xT(n){return(0,tb.deserializeAccount)(n,Wxe())}bo.deserializeEditionMarkerV2=xT;async function Nxe(n,e,t){const r=await n.rpc.getAccount((0,tb.publicKey)(e,!1),t);return(0,tb.assertAccountExists)(r,"EditionMarkerV2"),xT(r)}bo.fetchEditionMarkerV2=Nxe;async function Fxe(n,e,t){const r=await n.rpc.getAccount((0,tb.publicKey)(e,!1),t);return r.exists?xT(r):null}bo.safeFetchEditionMarkerV2=Fxe;async function m0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,tb.publicKey)(s,!1)),t)).map(s=>((0,tb.assertAccountExists)(s,"EditionMarkerV2"),xT(s)))}bo.fetchAllEditionMarkerV2=m0t;async function y0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,tb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>xT(s))}bo.safeFetchAllEditionMarkerV2=y0t;function p0t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,tb.gpaBuilder)(n,e).registerFields({key:[0,(0,Lxe.getKeySerializer)()],ledger:[1,(0,Mf.bytes)({size:(0,Mf.u32)()})]}).deserializeUsing(t=>xT(t))}bo.getEditionMarkerV2GpaBuilder=p0t;function tQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Mf.string)({size:"variable"}).serialize("metadata"),(0,Mf.publicKey)().serialize(t),(0,Mf.publicKey)().serialize(e.mint),(0,Mf.string)({size:"variable"}).serialize("edition"),(0,Mf.string)({size:"variable"}).serialize("marker")])}bo.findEditionMarkerV2Pda=tQ;async function b0t(n,e,t){return Nxe(n,tQ(n,e),t)}bo.fetchEditionMarkerV2FromSeeds=b0t;async function S0t(n,e,t){return Fxe(n,tQ(n,e),t)}bo.safeFetchEditionMarkerV2FromSeeds=S0t;var ri={},on={},W6={};Object.defineProperty(W6,"__esModule",{value:!0});W6.findEditionMarkerFromEditionNumberPda=void 0;const k0t=Db;function v0t(n,e){return(0,k0t.findEditionMarkerPda)(n,{mint:e.mint,editionMarker:(BigInt(e.editionNumber)/248n).toString(10)})}W6.findEditionMarkerFromEditionNumberPda=v0t;var N6={},Ob={};Object.defineProperty(Ob,"__esModule",{value:!0});Ob.TokenMetadataError=void 0;const A0t=Z;class w0t extends A0t.UmiError{constructor(e,t){super(e,"plugin","Token Metadata",t),this.name="TokenMetadataError"}}Ob.TokenMetadataError=w0t;Object.defineProperty(N6,"__esModule",{value:!0});N6.getMetadataDelegateRoleSeedSerializer=void 0;const wme=q,I0t=Ob,ty=JX;function P0t(){return(0,wme.mapSerializer)((0,wme.string)({size:"variable"}),n=>{if(typeof n=="string")return n;switch(n){case ty.MetadataDelegateRole.AuthorityItem:return"authority_item_delegate";case ty.MetadataDelegateRole.Collection:return"collection_delegate";case ty.MetadataDelegateRole.Use:return"use_delegate";case ty.MetadataDelegateRole.Data:return"data_delegate";case ty.MetadataDelegateRole.ProgrammableConfig:return"programmable_config_delegate";case ty.MetadataDelegateRole.DataItem:return"data_item_delegate";case ty.MetadataDelegateRole.CollectionItem:return"collection_item_delegate";case ty.MetadataDelegateRole.ProgrammableConfigItem:return"prog_config_item_delegate";default:throw new I0t.TokenMetadataError(`Invalid MetadataDelegateRoleArgs ${n}`)}},n=>n)}N6.getMetadataDelegateRoleSeedSerializer=P0t;var F6={};Object.defineProperty(F6,"__esModule",{value:!0});F6.getHolderDelegateRoleSeedSerializer=void 0;const Ime=q,_0t=Ob,E0t=ZX;function x0t(){return(0,Ime.mapSerializer)((0,Ime.string)({size:"variable"}),n=>{if(typeof n=="string")return n;switch(n){case E0t.HolderDelegateRole.PrintDelegate:return"print_delegate";default:throw new _0t.TokenMetadataError(`Invalid PrintDelegateRoleArgs ${n}`)}},n=>n)}F6.getHolderDelegateRoleSeedSerializer=x0t;var Ta={},Hs={},um={},U6={},So={};Object.defineProperty(So,"__esModule",{value:!0});So.safeFetchAddressLookupTableFromSeeds=So.fetchAddressLookupTableFromSeeds=So.findAddressLookupTablePda=So.getAddressLookupTableGpaBuilder=So.safeFetchAllAddressLookupTable=So.fetchAllAddressLookupTable=So.safeFetchAddressLookupTable=So.fetchAddressLookupTable=So.deserializeAddressLookupTable=So.getAddressLookupTableAccountDataSerializer=void 0;const rb=Z,io=q;function Uxe(){return(0,io.mapSerializer)((0,io.struct)([["discriminator",(0,io.u32)()],["deactivationSlot",(0,io.u64)()],["lastExtendedSlot",(0,io.u64)()],["lastExtendedStartIndex",(0,io.u8)()],["authority",(0,io.option)((0,io.publicKey)(),{fixed:!0})],["padding",(0,io.u16)()],["addresses",(0,io.array)((0,io.publicKey)(),{size:"remainder"})]],{description:"AddressLookupTableAccountData"}),n=>({...n,discriminator:1,padding:0}))}So.getAddressLookupTableAccountDataSerializer=Uxe;function TT(n){return(0,rb.deserializeAccount)(n,Uxe())}So.deserializeAddressLookupTable=TT;async function Vxe(n,e,t){const r=await n.rpc.getAccount((0,rb.publicKey)(e,!1),t);return(0,rb.assertAccountExists)(r,"AddressLookupTable"),TT(r)}So.fetchAddressLookupTable=Vxe;async function qxe(n,e,t){const r=await n.rpc.getAccount((0,rb.publicKey)(e,!1),t);return r.exists?TT(r):null}So.safeFetchAddressLookupTable=qxe;async function T0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,rb.publicKey)(s,!1)),t)).map(s=>((0,rb.assertAccountExists)(s,"AddressLookupTable"),TT(s)))}So.fetchAllAddressLookupTable=T0t;async function R0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,rb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>TT(s))}So.safeFetchAllAddressLookupTable=R0t;function C0t(n){const e=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111");return(0,rb.gpaBuilder)(n,e).registerFields({discriminator:[0,(0,io.u32)()],deactivationSlot:[4,(0,io.u64)()],lastExtendedSlot:[12,(0,io.u64)()],lastExtendedStartIndex:[20,(0,io.u8)()],authority:[21,(0,io.option)((0,io.publicKey)(),{fixed:!0})],padding:[54,(0,io.u16)()],addresses:[56,(0,io.array)((0,io.publicKey)(),{size:"remainder"})]}).deserializeUsing(t=>TT(t)).whereField("discriminator",1)}So.getAddressLookupTableGpaBuilder=C0t;function rQ(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111");return n.eddsa.findPda(t,[(0,io.publicKey)().serialize(e.authority),(0,io.u64)().serialize(e.recentSlot)])}So.findAddressLookupTablePda=rQ;async function M0t(n,e,t){return Vxe(n,rQ(n,e),t)}So.fetchAddressLookupTableFromSeeds=M0t;async function B0t(n,e,t){return qxe(n,rQ(n,e),t)}So.safeFetchAddressLookupTableFromSeeds=B0t;var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});Ra.getMintSize=Ra.getMintGpaBuilder=Ra.safeFetchAllMint=Ra.fetchAllMint=Ra.safeFetchMint=Ra.fetchMint=Ra.deserializeMint=Ra.getMintAccountDataSerializer=void 0;const nb=Z,Yo=q;function jxe(){return(0,Yo.struct)([["mintAuthority",(0,Yo.option)((0,Yo.publicKey)(),{prefix:(0,Yo.u32)(),fixed:!0})],["supply",(0,Yo.u64)()],["decimals",(0,Yo.u8)()],["isInitialized",(0,Yo.bool)()],["freezeAuthority",(0,Yo.option)((0,Yo.publicKey)(),{prefix:(0,Yo.u32)(),fixed:!0})]],{description:"MintAccountData"})}Ra.getMintAccountDataSerializer=jxe;function RT(n){return(0,nb.deserializeAccount)(n,jxe())}Ra.deserializeMint=RT;async function z0t(n,e,t){const r=await n.rpc.getAccount((0,nb.publicKey)(e,!1),t);return(0,nb.assertAccountExists)(r,"Mint"),RT(r)}Ra.fetchMint=z0t;async function $0t(n,e,t){const r=await n.rpc.getAccount((0,nb.publicKey)(e,!1),t);return r.exists?RT(r):null}Ra.safeFetchMint=$0t;async function D0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,nb.publicKey)(s,!1)),t)).map(s=>((0,nb.assertAccountExists)(s,"Mint"),RT(s)))}Ra.fetchAllMint=D0t;async function O0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,nb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>RT(s))}Ra.safeFetchAllMint=O0t;function K0t(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,nb.gpaBuilder)(n,e).registerFields({mintAuthority:[0,(0,Yo.option)((0,Yo.publicKey)(),{prefix:(0,Yo.u32)(),fixed:!0})],supply:[36,(0,Yo.u64)()],decimals:[44,(0,Yo.u8)()],isInitialized:[45,(0,Yo.bool)()],freezeAuthority:[46,(0,Yo.option)((0,Yo.publicKey)(),{prefix:(0,Yo.u32)(),fixed:!0})]}).deserializeUsing(t=>RT(t)).whereSize(82)}Ra.getMintGpaBuilder=K0t;function L0t(){return 82}Ra.getMintSize=L0t;var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.getMultisigSize=Ca.getMultisigGpaBuilder=Ca.safeFetchAllMultisig=Ca.fetchAllMultisig=Ca.safeFetchMultisig=Ca.fetchMultisig=Ca.deserializeMultisig=Ca.getMultisigAccountDataSerializer=void 0;const sb=Z,Xl=q;function Hxe(){return(0,Xl.struct)([["m",(0,Xl.u8)()],["n",(0,Xl.u8)()],["isInitialized",(0,Xl.bool)()],["signers",(0,Xl.array)((0,Xl.publicKey)(),{size:11})]],{description:"MultisigAccountData"})}Ca.getMultisigAccountDataSerializer=Hxe;function CT(n){return(0,sb.deserializeAccount)(n,Hxe())}Ca.deserializeMultisig=CT;async function W0t(n,e,t){const r=await n.rpc.getAccount((0,sb.publicKey)(e,!1),t);return(0,sb.assertAccountExists)(r,"Multisig"),CT(r)}Ca.fetchMultisig=W0t;async function N0t(n,e,t){const r=await n.rpc.getAccount((0,sb.publicKey)(e,!1),t);return r.exists?CT(r):null}Ca.safeFetchMultisig=N0t;async function F0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,sb.publicKey)(s,!1)),t)).map(s=>((0,sb.assertAccountExists)(s,"Multisig"),CT(s)))}Ca.fetchAllMultisig=F0t;async function U0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,sb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>CT(s))}Ca.safeFetchAllMultisig=U0t;function V0t(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,sb.gpaBuilder)(n,e).registerFields({m:[0,(0,Xl.u8)()],n:[1,(0,Xl.u8)()],isInitialized:[2,(0,Xl.bool)()],signers:[3,(0,Xl.array)((0,Xl.publicKey)(),{size:11})]}).deserializeUsing(t=>CT(t)).whereSize(355)}Ca.getMultisigGpaBuilder=V0t;function q0t(){return 355}Ca.getMultisigSize=q0t;var Ma={},V6={},Gxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAuthorityTypeSerializer=n.AuthorityType=void 0;const e=q;var t;(function(s){s[s.MintTokens=0]="MintTokens",s[s.FreezeAccount=1]="FreezeAccount",s[s.AccountOwner=2]="AccountOwner",s[s.CloseAccount=3]="CloseAccount"})(t=n.AuthorityType||(n.AuthorityType={}));function r(){return(0,e.scalarEnum)(t,{description:"AuthorityType"})}n.getAuthorityTypeSerializer=r})(Gxe);var Yxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStateSerializer=n.TokenState=void 0;const e=q;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.Initialized=1]="Initialized",s[s.Frozen=2]="Frozen"})(t=n.TokenState||(n.TokenState={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenState"})}n.getTokenStateSerializer=r})(Yxe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Gxe,n),t(Yxe,n)})(V6);Object.defineProperty(Ma,"__esModule",{value:!0});Ma.getTokenSize=Ma.getTokenGpaBuilder=Ma.safeFetchAllToken=Ma.fetchAllToken=Ma.safeFetchToken=Ma.fetchToken=Ma.deserializeToken=Ma.getTokenAccountDataSerializer=void 0;const ib=Z,ms=q,Zxe=V6;function Jxe(){return(0,ms.struct)([["mint",(0,ms.publicKey)()],["owner",(0,ms.publicKey)()],["amount",(0,ms.u64)()],["delegate",(0,ms.option)((0,ms.publicKey)(),{prefix:(0,ms.u32)(),fixed:!0})],["state",(0,Zxe.getTokenStateSerializer)()],["isNative",(0,ms.option)((0,ms.u64)(),{prefix:(0,ms.u32)(),fixed:!0})],["delegatedAmount",(0,ms.u64)()],["closeAuthority",(0,ms.option)((0,ms.publicKey)(),{prefix:(0,ms.u32)(),fixed:!0})]],{description:"TokenAccountData"})}Ma.getTokenAccountDataSerializer=Jxe;function MT(n){return(0,ib.deserializeAccount)(n,Jxe())}Ma.deserializeToken=MT;async function j0t(n,e,t){const r=await n.rpc.getAccount((0,ib.publicKey)(e,!1),t);return(0,ib.assertAccountExists)(r,"Token"),MT(r)}Ma.fetchToken=j0t;async function H0t(n,e,t){const r=await n.rpc.getAccount((0,ib.publicKey)(e,!1),t);return r.exists?MT(r):null}Ma.safeFetchToken=H0t;async function G0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ib.publicKey)(s,!1)),t)).map(s=>((0,ib.assertAccountExists)(s,"Token"),MT(s)))}Ma.fetchAllToken=G0t;async function Y0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ib.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>MT(s))}Ma.safeFetchAllToken=Y0t;function Z0t(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,ib.gpaBuilder)(n,e).registerFields({mint:[0,(0,ms.publicKey)()],owner:[32,(0,ms.publicKey)()],amount:[64,(0,ms.u64)()],delegate:[72,(0,ms.option)((0,ms.publicKey)(),{prefix:(0,ms.u32)(),fixed:!0})],state:[108,(0,Zxe.getTokenStateSerializer)()],isNative:[109,(0,ms.option)((0,ms.u64)(),{prefix:(0,ms.u32)(),fixed:!0})],delegatedAmount:[121,(0,ms.u64)()],closeAuthority:[129,(0,ms.option)((0,ms.publicKey)(),{prefix:(0,ms.u32)(),fixed:!0})]}).deserializeUsing(t=>MT(t)).whereSize(165)}Ma.getTokenGpaBuilder=Z0t;function J0t(){return 165}Ma.getTokenSize=J0t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(So,n),t(Ra,n),t(Ca,n),t(Ma,n)})(U6);var Sh={},Of={};Object.defineProperty(Of,"__esModule",{value:!0});Of.getMplSystemExtrasErrorFromName=Of.getMplSystemExtrasErrorFromCode=Of.SysExInvalidOwnerForSourceError=Of.SysExInvalidSystemProgramError=void 0;const Xxe=Z,nQ=new Map,sQ=new Map;class iQ extends Xxe.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=0}}Of.SysExInvalidSystemProgramError=iQ;nQ.set(0,iQ);sQ.set("InvalidSystemProgram",iQ);class oQ extends Xxe.ProgramError{constructor(e,t){super("Invalid Program Owner For The Source Account",e,t),this.name="InvalidOwnerForSource",this.code=1}}Of.SysExInvalidOwnerForSourceError=oQ;nQ.set(1,oQ);sQ.set("InvalidOwnerForSource",oQ);function X0t(n,e,t){const r=nQ.get(n);return r?new r(e,t):null}Of.getMplSystemExtrasErrorFromCode=X0t;function Q0t(n,e,t){const r=sQ.get(n);return r?new r(e,t):null}Of.getMplSystemExtrasErrorFromName=Q0t;var ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.getMplTokenExtrasErrorFromName=ko.getMplTokenExtrasErrorFromCode=ko.TokExCannotCreateNonAssociatedTokenError=ko.TokExInvalidTokenOwnerError=ko.TokExInvalidTokenMintError=ko.TokExInvalidProgramOwnerError=ko.TokExInvalidAssociatedTokenAccountError=ko.TokExInvalidAssociatedTokenProgramError=ko.TokExInvalidTokenProgramError=ko.TokExInvalidSystemProgramError=void 0;const Kb=Z,lm=new Map,dm=new Map;class aQ extends Kb.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=0}}ko.TokExInvalidSystemProgramError=aQ;lm.set(0,aQ);dm.set("InvalidSystemProgram",aQ);class cQ extends Kb.ProgramError{constructor(e,t){super("Invalid Token Program",e,t),this.name="InvalidTokenProgram",this.code=1}}ko.TokExInvalidTokenProgramError=cQ;lm.set(1,cQ);dm.set("InvalidTokenProgram",cQ);class uQ extends Kb.ProgramError{constructor(e,t){super("Invalid Associated Token Program",e,t),this.name="InvalidAssociatedTokenProgram",this.code=2}}ko.TokExInvalidAssociatedTokenProgramError=uQ;lm.set(2,uQ);dm.set("InvalidAssociatedTokenProgram",uQ);class lQ extends Kb.ProgramError{constructor(e,t){super("Invalid Associated Token Account: it should derive from the provided mint and owner",e,t),this.name="InvalidAssociatedTokenAccount",this.code=3}}ko.TokExInvalidAssociatedTokenAccountError=lQ;lm.set(3,lQ);dm.set("InvalidAssociatedTokenAccount",lQ);class dQ extends Kb.ProgramError{constructor(e,t){super("Invalid Program Owner",e,t),this.name="InvalidProgramOwner",this.code=4}}ko.TokExInvalidProgramOwnerError=dQ;lm.set(4,dQ);dm.set("InvalidProgramOwner",dQ);class fQ extends Kb.ProgramError{constructor(e,t){super("Invalid Token Mint: it should be the same as the provided mint account",e,t),this.name="InvalidTokenMint",this.code=5}}ko.TokExInvalidTokenMintError=fQ;lm.set(5,fQ);dm.set("InvalidTokenMint",fQ);class hQ extends Kb.ProgramError{constructor(e,t){super("Invalid Program Owner: it should be the same as the provided owner account",e,t),this.name="InvalidTokenOwner",this.code=6}}ko.TokExInvalidTokenOwnerError=hQ;lm.set(6,hQ);dm.set("InvalidTokenOwner",hQ);class gQ extends Kb.ProgramError{constructor(e,t){super("Cannot create non-associated token accounts as they would need to sign the transaction. Please provide an associated token account instead",e,t),this.name="CannotCreateNonAssociatedToken",this.code=7}}ko.TokExCannotCreateNonAssociatedTokenError=gQ;lm.set(7,gQ);dm.set("CannotCreateNonAssociatedToken",gQ);function e1t(n,e,t){const r=lm.get(n);return r?new r(e,t):null}ko.getMplTokenExtrasErrorFromCode=e1t;function t1t(n,e,t){const r=dm.get(n);return r?new r(e,t):null}ko.getMplTokenExtrasErrorFromName=t1t;var bw={};Object.defineProperty(bw,"__esModule",{value:!0});bw.getSplAddressLookupTableErrorFromName=bw.getSplAddressLookupTableErrorFromCode=void 0;const r1t=new Map,n1t=new Map;function s1t(n,e,t){const r=r1t.get(n);return r?new r(e,t):null}bw.getSplAddressLookupTableErrorFromCode=s1t;function i1t(n,e,t){const r=n1t.get(n);return r?new r(e,t):null}bw.getSplAddressLookupTableErrorFromName=i1t;var mp={};Object.defineProperty(mp,"__esModule",{value:!0});mp.getSplAssociatedTokenErrorFromName=mp.getSplAssociatedTokenErrorFromCode=mp.AtaInvalidOwnerError=void 0;const o1t=Z,Qxe=new Map,eTe=new Map;class mQ extends o1t.ProgramError{constructor(e,t){super("Associated token account owner does not match address derivation",e,t),this.name="InvalidOwner",this.code=0}}mp.AtaInvalidOwnerError=mQ;Qxe.set(0,mQ);eTe.set("InvalidOwner",mQ);function a1t(n,e,t){const r=Qxe.get(n);return r?new r(e,t):null}mp.getSplAssociatedTokenErrorFromCode=a1t;function c1t(n,e,t){const r=eTe.get(n);return r?new r(e,t):null}mp.getSplAssociatedTokenErrorFromName=c1t;var Sw={};Object.defineProperty(Sw,"__esModule",{value:!0});Sw.getSplComputeBudgetErrorFromName=Sw.getSplComputeBudgetErrorFromCode=void 0;const u1t=new Map,l1t=new Map;function d1t(n,e,t){const r=u1t.get(n);return r?new r(e,t):null}Sw.getSplComputeBudgetErrorFromCode=d1t;function f1t(n,e,t){const r=l1t.get(n);return r?new r(e,t):null}Sw.getSplComputeBudgetErrorFromName=f1t;var kw={};Object.defineProperty(kw,"__esModule",{value:!0});kw.getSplMemoErrorFromName=kw.getSplMemoErrorFromCode=void 0;const h1t=new Map,g1t=new Map;function m1t(n,e,t){const r=h1t.get(n);return r?new r(e,t):null}kw.getSplMemoErrorFromCode=m1t;function y1t(n,e,t){const r=g1t.get(n);return r?new r(e,t):null}kw.getSplMemoErrorFromName=y1t;var vw={};Object.defineProperty(vw,"__esModule",{value:!0});vw.getSplSystemErrorFromName=vw.getSplSystemErrorFromCode=void 0;const p1t=new Map,b1t=new Map;function S1t(n,e,t){const r=p1t.get(n);return r?new r(e,t):null}vw.getSplSystemErrorFromCode=S1t;function k1t(n,e,t){const r=b1t.get(n);return r?new r(e,t):null}vw.getSplSystemErrorFromName=k1t;var vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.getSplTokenErrorFromName=vr.getSplTokenErrorFromCode=vr.TokNonNativeNotSupportedError=vr.TokMintDecimalsMismatchError=vr.TokAccountFrozenError=vr.TokMintCannotFreezeError=vr.TokAuthorityTypeNotSupportedError=vr.TokOverflowError=vr.TokInvalidStateError=vr.TokInvalidInstructionError=vr.TokNonNativeHasBalanceError=vr.TokNativeNotSupportedError=vr.TokUninitializedStateError=vr.TokInvalidNumberOfRequiredSignersError=vr.TokInvalidNumberOfProvidedSignersError=vr.TokAlreadyInUseError=vr.TokFixedSupplyError=vr.TokOwnerMismatchError=vr.TokMintMismatchError=vr.TokInvalidMintError=vr.TokInsufficientFundsError=vr.TokNotRentExemptError=void 0;const Vo=Z,Do=new Map,Oo=new Map;class yQ extends Vo.ProgramError{constructor(e,t){super("Lamport balance below rent-exempt threshold",e,t),this.name="NotRentExempt",this.code=0}}vr.TokNotRentExemptError=yQ;Do.set(0,yQ);Oo.set("NotRentExempt",yQ);class pQ extends Vo.ProgramError{constructor(e,t){super("Insufficient funds",e,t),this.name="InsufficientFunds",this.code=1}}vr.TokInsufficientFundsError=pQ;Do.set(1,pQ);Oo.set("InsufficientFunds",pQ);class bQ extends Vo.ProgramError{constructor(e,t){super("Invalid Mint",e,t),this.name="InvalidMint",this.code=2}}vr.TokInvalidMintError=bQ;Do.set(2,bQ);Oo.set("InvalidMint",bQ);class SQ extends Vo.ProgramError{constructor(e,t){super("Account not associated with this Mint",e,t),this.name="MintMismatch",this.code=3}}vr.TokMintMismatchError=SQ;Do.set(3,SQ);Oo.set("MintMismatch",SQ);class kQ extends Vo.ProgramError{constructor(e,t){super("Owner does not match",e,t),this.name="OwnerMismatch",this.code=4}}vr.TokOwnerMismatchError=kQ;Do.set(4,kQ);Oo.set("OwnerMismatch",kQ);class vQ extends Vo.ProgramError{constructor(e,t){super("Fixed supply",e,t),this.name="FixedSupply",this.code=5}}vr.TokFixedSupplyError=vQ;Do.set(5,vQ);Oo.set("FixedSupply",vQ);class AQ extends Vo.ProgramError{constructor(e,t){super("Already in use",e,t),this.name="AlreadyInUse",this.code=6}}vr.TokAlreadyInUseError=AQ;Do.set(6,AQ);Oo.set("AlreadyInUse",AQ);class wQ extends Vo.ProgramError{constructor(e,t){super("Invalid number of provided signers",e,t),this.name="InvalidNumberOfProvidedSigners",this.code=7}}vr.TokInvalidNumberOfProvidedSignersError=wQ;Do.set(7,wQ);Oo.set("InvalidNumberOfProvidedSigners",wQ);class IQ extends Vo.ProgramError{constructor(e,t){super("Invalid number of required signers",e,t),this.name="InvalidNumberOfRequiredSigners",this.code=8}}vr.TokInvalidNumberOfRequiredSignersError=IQ;Do.set(8,IQ);Oo.set("InvalidNumberOfRequiredSigners",IQ);class PQ extends Vo.ProgramError{constructor(e,t){super("State is unititialized",e,t),this.name="UninitializedState",this.code=9}}vr.TokUninitializedStateError=PQ;Do.set(9,PQ);Oo.set("UninitializedState",PQ);class _Q extends Vo.ProgramError{constructor(e,t){super("Instruction does not support native tokens",e,t),this.name="NativeNotSupported",this.code=10}}vr.TokNativeNotSupportedError=_Q;Do.set(10,_Q);Oo.set("NativeNotSupported",_Q);class EQ extends Vo.ProgramError{constructor(e,t){super("Non-native account can only be closed if its balance is zero",e,t),this.name="NonNativeHasBalance",this.code=11}}vr.TokNonNativeHasBalanceError=EQ;Do.set(11,EQ);Oo.set("NonNativeHasBalance",EQ);class xQ extends Vo.ProgramError{constructor(e,t){super("Invalid instruction",e,t),this.name="InvalidInstruction",this.code=12}}vr.TokInvalidInstructionError=xQ;Do.set(12,xQ);Oo.set("InvalidInstruction",xQ);class TQ extends Vo.ProgramError{constructor(e,t){super("State is invalid for requested operation",e,t),this.name="InvalidState",this.code=13}}vr.TokInvalidStateError=TQ;Do.set(13,TQ);Oo.set("InvalidState",TQ);class RQ extends Vo.ProgramError{constructor(e,t){super("Operation overflowed",e,t),this.name="Overflow",this.code=14}}vr.TokOverflowError=RQ;Do.set(14,RQ);Oo.set("Overflow",RQ);class CQ extends Vo.ProgramError{constructor(e,t){super("Account does not support specified authority type",e,t),this.name="AuthorityTypeNotSupported",this.code=15}}vr.TokAuthorityTypeNotSupportedError=CQ;Do.set(15,CQ);Oo.set("AuthorityTypeNotSupported",CQ);class MQ extends Vo.ProgramError{constructor(e,t){super("This token mint cannot freeze accounts",e,t),this.name="MintCannotFreeze",this.code=16}}vr.TokMintCannotFreezeError=MQ;Do.set(16,MQ);Oo.set("MintCannotFreeze",MQ);class BQ extends Vo.ProgramError{constructor(e,t){super("Account is frozen",e,t),this.name="AccountFrozen",this.code=17}}vr.TokAccountFrozenError=BQ;Do.set(17,BQ);Oo.set("AccountFrozen",BQ);class zQ extends Vo.ProgramError{constructor(e,t){super("The provided decimals value different from the Mint decimals",e,t),this.name="MintDecimalsMismatch",this.code=18}}vr.TokMintDecimalsMismatchError=zQ;Do.set(18,zQ);Oo.set("MintDecimalsMismatch",zQ);class $Q extends Vo.ProgramError{constructor(e,t){super("Instruction does not support non-native tokens",e,t),this.name="NonNativeNotSupported",this.code=19}}vr.TokNonNativeNotSupportedError=$Q;Do.set(19,$Q);Oo.set("NonNativeNotSupported",$Q);function v1t(n,e,t){const r=Do.get(n);return r?new r(e,t):null}vr.getSplTokenErrorFromCode=v1t;function A1t(n,e,t){const r=Oo.get(n);return r?new r(e,t):null}vr.getSplTokenErrorFromName=A1t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Of,n),t(ko,n),t(bw,n),t(mp,n),t(Sw,n),t(kw,n),t(vw,n),t(vr,n)})(Sh);var tTe={},Aw={},ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.getAccountMetasAndSigners=ir.expectPda=ir.expectPublicKey=ir.expectSome=void 0;const q2=Z;function w1t(n){if(n==null)throw new Error("Expected a value but received null or undefined.");return n}ir.expectSome=w1t;function I1t(n){if(!n)throw new Error("Expected a PublicKey.");return(0,q2.publicKey)(n,!1)}ir.expectPublicKey=I1t;function P1t(n){if(!n||!Array.isArray(n)||!(0,q2.isPda)(n))throw new Error("Expected a PDA.");return n}ir.expectPda=P1t;function _1t(n,e,t){const r=[],s=[];return n.forEach(i=>{if(!i.value){if(e==="omitted")return;r.push({pubkey:t,isSigner:!1,isWritable:!1});return}(0,q2.isSigner)(i.value)&&s.push(i.value),r.push({pubkey:(0,q2.publicKey)(i.value,!1),isSigner:(0,q2.isSigner)(i.value),isWritable:i.isWritable})}),[r,s]}ir.getAccountMetasAndSigners=_1t;Object.defineProperty(Aw,"__esModule",{value:!0});Aw.addMemo=Aw.getAddMemoInstructionDataSerializer=void 0;const E1t=Z,Pme=q,x1t=ir;function rTe(){return(0,Pme.struct)([["memo",(0,Pme.string)()]],{description:"AddMemoInstructionData"})}Aw.getAddMemoInstructionDataSerializer=rTe;function T1t(n,e){const t=n.programs.getPublicKey("splMemo","Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,x1t.getAccountMetasAndSigners)(i,"programId",t),c=rTe().serialize(s),u=0;return(0,E1t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Aw.addMemo=T1t;var ww={};Object.defineProperty(ww,"__esModule",{value:!0});ww.amountToUiAmount=ww.getAmountToUiAmountInstructionDataSerializer=void 0;const R1t=Z,U$=q,C1t=ir;function nTe(){return(0,U$.mapSerializer)((0,U$.struct)([["discriminator",(0,U$.u8)()],["amount",(0,U$.u64)()]],{description:"AmountToUiAmountInstructionData"}),n=>({...n,discriminator:23}))}ww.getAmountToUiAmountInstructionDataSerializer=nTe;function M1t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,C1t.getAccountMetasAndSigners)(i,"programId",t),c=nTe().serialize(s),u=0;return(0,R1t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ww.amountToUiAmount=M1t;var Iw={};Object.defineProperty(Iw,"__esModule",{value:!0});Iw.approveTokenDelegate=Iw.getApproveTokenDelegateInstructionDataSerializer=void 0;const B1t=Z,V$=q,z1t=ir;function sTe(){return(0,V$.mapSerializer)((0,V$.struct)([["discriminator",(0,V$.u8)()],["amount",(0,V$.u64)()]],{description:"ApproveTokenDelegateInstructionData"}),n=>({...n,discriminator:4}))}Iw.getApproveTokenDelegateInstructionDataSerializer=sTe;function $1t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,z1t.getAccountMetasAndSigners)(i,"programId",t),c=sTe().serialize(s),u=0;return(0,B1t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Iw.approveTokenDelegate=$1t;var Pw={};Object.defineProperty(Pw,"__esModule",{value:!0});Pw.approveTokenDelegateChecked=Pw.getApproveTokenDelegateCheckedInstructionDataSerializer=void 0;const D1t=Z,UR=q,O1t=ir;function iTe(){return(0,UR.mapSerializer)((0,UR.struct)([["discriminator",(0,UR.u8)()],["amount",(0,UR.u64)()],["decimals",(0,UR.u8)()]],{description:"ApproveTokenDelegateCheckedInstructionData"}),n=>({...n,discriminator:13}))}Pw.getApproveTokenDelegateCheckedInstructionDataSerializer=iTe;function K1t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},mint:{index:1,isWritable:!1,value:e.mint??null},delegate:{index:2,isWritable:!1,value:e.delegate??null},owner:{index:3,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,O1t.getAccountMetasAndSigners)(i,"programId",t),c=iTe().serialize(s),u=0;return(0,D1t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Pw.approveTokenDelegateChecked=K1t;var _w={};Object.defineProperty(_w,"__esModule",{value:!0});_w.burnToken=_w.getBurnTokenInstructionDataSerializer=void 0;const L1t=Z,q$=q,W1t=ir;function oTe(){return(0,q$.mapSerializer)((0,q$.struct)([["discriminator",(0,q$.u8)()],["amount",(0,q$.u64)()]],{description:"BurnTokenInstructionData"}),n=>({...n,discriminator:8}))}_w.getBurnTokenInstructionDataSerializer=oTe;function N1t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!0,value:e.mint??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,W1t.getAccountMetasAndSigners)(i,"programId",t),c=oTe().serialize(s),u=0;return(0,L1t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}_w.burnToken=N1t;var Ew={};Object.defineProperty(Ew,"__esModule",{value:!0});Ew.burnTokenChecked=Ew.getBurnTokenCheckedInstructionDataSerializer=void 0;const F1t=Z,VR=q,U1t=ir;function aTe(){return(0,VR.mapSerializer)((0,VR.struct)([["discriminator",(0,VR.u8)()],["amount",(0,VR.u64)()],["decimals",(0,VR.u8)()]],{description:"BurnTokenCheckedInstructionData"}),n=>({...n,discriminator:15}))}Ew.getBurnTokenCheckedInstructionDataSerializer=aTe;function V1t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!0,value:e.mint??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,U1t.getAccountMetasAndSigners)(i,"programId",t),c=aTe().serialize(s),u=0;return(0,F1t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Ew.burnTokenChecked=V1t;var xw={};Object.defineProperty(xw,"__esModule",{value:!0});xw.closeLut=xw.getCloseLutInstructionDataSerializer=void 0;const q1t=Z,VN=q,j1t=ir;function cTe(){return(0,VN.mapSerializer)((0,VN.struct)([["discriminator",(0,VN.u32)()]],{description:"CloseLutInstructionData"}),n=>({...n,discriminator:4}))}xw.getCloseLutInstructionDataSerializer=cTe;function H1t(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},recipient:{index:2,isWritable:!0,value:e.recipient??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,j1t.getAccountMetasAndSigners)(s,"programId",t),a=cTe().serialize({}),c=0;return(0,q1t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}xw.closeLut=H1t;var Tw={};Object.defineProperty(Tw,"__esModule",{value:!0});Tw.closeToken=Tw.getCloseTokenInstructionDataSerializer=void 0;const G1t=Z,qN=q,Y1t=ir;function uTe(){return(0,qN.mapSerializer)((0,qN.struct)([["discriminator",(0,qN.u8)()]],{description:"CloseTokenInstructionData"}),n=>({...n,discriminator:9}))}Tw.getCloseTokenInstructionDataSerializer=uTe;function Z1t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},destination:{index:1,isWritable:!0,value:e.destination??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Y1t.getAccountMetasAndSigners)(s,"programId",t),a=uTe().serialize({}),c=0;return(0,G1t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Tw.closeToken=Z1t;var Rw={};Object.defineProperty(Rw,"__esModule",{value:!0});Rw.createAccount=Rw.getCreateAccountInstructionDataSerializer=void 0;const jq=Z,zk=q,J1t=ir;function lTe(){return(0,zk.mapSerializer)((0,zk.struct)([["discriminator",(0,zk.u32)()],["lamports",(0,jq.mapAmountSerializer)((0,zk.u64)(),"SOL",9)],["space",(0,zk.u64)()],["programId",(0,zk.publicKey)()]],{description:"CreateAccountInstructionData"}),n=>({...n,discriminator:0}))}Rw.getCreateAccountInstructionDataSerializer=lTe;function X1t(n,e){const t=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r={payer:{index:0,isWritable:!0,value:e.payer??null},newAccount:{index:1,isWritable:!0,value:e.newAccount??null}},s={...e};r.payer.value||(r.payer.value=n.payer);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,J1t.getAccountMetasAndSigners)(i,"programId",t),c=lTe().serialize(s),u=Number(e.space)+jq.ACCOUNT_HEADER_SIZE;return(0,jq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Rw.createAccount=X1t;var Cw={};Object.defineProperty(Cw,"__esModule",{value:!0});Cw.createAccountWithRent=Cw.getCreateAccountWithRentInstructionDataSerializer=void 0;const _me=Z,qR=q,Q1t=ir;function dTe(){return(0,qR.mapSerializer)((0,qR.struct)([["discriminator",(0,qR.u8)()],["space",(0,qR.u64)()],["programId",(0,qR.publicKey)()]],{description:"CreateAccountWithRentInstructionData"}),n=>({...n,discriminator:0}))}Cw.getCreateAccountWithRentInstructionDataSerializer=dTe;function eSt(n,e){const t=n.programs.getPublicKey("mplSystemExtras","SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG"),r={payer:{index:0,isWritable:!0,value:e.payer??null},newAccount:{index:1,isWritable:!0,value:e.newAccount??null},systemProgram:{index:2,isWritable:!1,value:e.systemProgram??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Q1t.getAccountMetasAndSigners)(i,"programId",t),c=dTe().serialize(s),u=Number(e.space)+_me.ACCOUNT_HEADER_SIZE;return(0,_me.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Cw.createAccountWithRent=eSt;var q6={},BT={},j6={};Object.defineProperty(j6,"__esModule",{value:!0});j6.findAssociatedTokenPda=void 0;const jN=q;function tSt(n,e){const t=n.programs.getPublicKey("splAssociatedToken"),r=e.tokenProgramId??n.programs.getPublicKey("splToken");return n.eddsa.findPda(t,[(0,jN.publicKey)().serialize(e.owner),(0,jN.publicKey)().serialize(r),(0,jN.publicKey)().serialize(e.mint)])}j6.findAssociatedTokenPda=tSt;var H6={};Object.defineProperty(H6,"__esModule",{value:!0});H6.resolveExtendLutBytes=void 0;const rSt=(n,e,t,r)=>32*t.addresses.length;H6.resolveExtendLutBytes=rSt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(j6,n),t(H6,n)})(BT);Object.defineProperty(q6,"__esModule",{value:!0});q6.createAssociatedToken=void 0;const Eme=Z,nSt=BT,sSt=U6,j$=ir;function iSt(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={payer:{index:0,isWritable:!0,value:e.payer??null},ata:{index:1,isWritable:!0,value:e.ata??null},owner:{index:2,isWritable:!1,value:e.owner??null},mint:{index:3,isWritable:!1,value:e.mint??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null}};r.payer.value||(r.payer.value=n.payer),r.owner.value||(r.owner.value=n.identity.publicKey),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ata.value||(r.ata.value=(0,nSt.findAssociatedTokenPda)(n,{owner:(0,j$.expectPublicKey)(r.owner.value),mint:(0,j$.expectPublicKey)(r.mint.value),tokenProgramId:(0,j$.expectPublicKey)(r.tokenProgram.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,j$.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=(0,sSt.getTokenSize)()+Eme.ACCOUNT_HEADER_SIZE;return(0,Eme.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}q6.createAssociatedToken=iSt;var Mw={};Object.defineProperty(Mw,"__esModule",{value:!0});Mw.createEmptyLut=Mw.getCreateEmptyLutInstructionDataSerializer=void 0;const xme=Z,jR=q,oSt=U6,H$=ir;function fTe(){return(0,jR.mapSerializer)((0,jR.struct)([["discriminator",(0,jR.u32)()],["recentSlot",(0,jR.u64)()],["bump",(0,jR.u8)()]],{description:"CreateEmptyLutInstructionData"}),n=>({...n,discriminator:0}))}Mw.getCreateEmptyLutInstructionDataSerializer=fTe;function aSt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},payer:{index:2,isWritable:!0,value:e.payer??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.address.value||(r.address.value=(0,oSt.findAddressLookupTablePda)(n,{authority:(0,H$.expectPublicKey)(r.authority.value),recentSlot:(0,H$.expectSome)(s.recentSlot)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.bump||(s.bump=(0,H$.expectPda)(r.address.value)[1]);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,H$.getAccountMetasAndSigners)(i,"programId",t),c=fTe().serialize(s),u=56+xme.ACCOUNT_HEADER_SIZE;return(0,xme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Mw.createEmptyLut=aSt;var G6={};Object.defineProperty(G6,"__esModule",{value:!0});G6.createIdempotentAssociatedToken=void 0;const cSt=Z,uSt=ir;function lSt(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={payer:{index:0,isWritable:!0,value:e.payer??null},ata:{index:1,isWritable:!0,value:e.ata??null},owner:{index:2,isWritable:!1,value:e.owner??null},mint:{index:3,isWritable:!1,value:e.mint??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null}};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,uSt.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=0;return(0,cSt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}G6.createIdempotentAssociatedToken=lSt;var Bw={};Object.defineProperty(Bw,"__esModule",{value:!0});Bw.createTokenIfMissing=Bw.getCreateTokenIfMissingInstructionDataSerializer=void 0;const dSt=Z,HN=q,fSt=BT,HR=ir;function hTe(){return(0,HN.mapSerializer)((0,HN.struct)([["discriminator",(0,HN.u8)()]],{description:"CreateTokenIfMissingInstructionData"}),n=>({...n,discriminator:0}))}Bw.getCreateTokenIfMissingInstructionDataSerializer=hTe;function hSt(n,e){const t=n.programs.getPublicKey("mplTokenExtras","TokExjvjJmhKaRBShsBAsbSvEWMA1AgUNK7ps4SAc2p"),r={payer:{index:0,isWritable:!0,value:e.payer??null},token:{index:1,isWritable:!1,value:e.token??null},mint:{index:2,isWritable:!1,value:e.mint??null},owner:{index:3,isWritable:!1,value:e.owner??null},ata:{index:4,isWritable:!0,value:e.ata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},ataProgram:{index:7,isWritable:!1,value:e.ataProgram??null}};r.payer.value||(r.payer.value=n.payer),r.owner.value||(r.owner.value=n.identity.publicKey),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ata.value||(r.ata.value=(0,fSt.findAssociatedTokenPda)(n,{owner:(0,HR.expectPublicKey)(r.owner.value),mint:(0,HR.expectPublicKey)(r.mint.value),tokenProgramId:(0,HR.expectPublicKey)(r.tokenProgram.value)})),r.token.value||(r.token.value=(0,HR.expectSome)(r.ata.value)),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,HR.getAccountMetasAndSigners)(s,"programId",t),a=hTe().serialize({}),c=0;return(0,dSt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Bw.createTokenIfMissing=hSt;var zw={};Object.defineProperty(zw,"__esModule",{value:!0});zw.deactivateLut=zw.getDeactivateLutInstructionDataSerializer=void 0;const gSt=Z,GN=q,mSt=ir;function gTe(){return(0,GN.mapSerializer)((0,GN.struct)([["discriminator",(0,GN.u32)()]],{description:"DeactivateLutInstructionData"}),n=>({...n,discriminator:3}))}zw.getDeactivateLutInstructionDataSerializer=gTe;function ySt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,mSt.getAccountMetasAndSigners)(s,"programId",t),a=gTe().serialize({}),c=0;return(0,gSt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}zw.deactivateLut=ySt;var $w={};Object.defineProperty($w,"__esModule",{value:!0});$w.extendLut=$w.getExtendLutInstructionDataSerializer=void 0;const pSt=Z,$k=q,bSt=BT,SSt=ir;function mTe(){return(0,$k.mapSerializer)((0,$k.struct)([["discriminator",(0,$k.u32)()],["addresses",(0,$k.array)((0,$k.publicKey)(),{size:(0,$k.u64)()})]],{description:"ExtendLutInstructionData"}),n=>({...n,discriminator:2}))}$w.getExtendLutInstructionDataSerializer=mTe;function kSt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},payer:{index:2,isWritable:!0,value:e.payer??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,SSt.getAccountMetasAndSigners)(i,"programId",t),c=mTe().serialize(s),u=(0,bSt.resolveExtendLutBytes)(n,r,s,t);return(0,pSt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}$w.extendLut=kSt;var Dw={};Object.defineProperty(Dw,"__esModule",{value:!0});Dw.freezeLut=Dw.getFreezeLutInstructionDataSerializer=void 0;const vSt=Z,YN=q,ASt=ir;function yTe(){return(0,YN.mapSerializer)((0,YN.struct)([["discriminator",(0,YN.u32)()]],{description:"FreezeLutInstructionData"}),n=>({...n,discriminator:1}))}Dw.getFreezeLutInstructionDataSerializer=yTe;function wSt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,ASt.getAccountMetasAndSigners)(s,"programId",t),a=yTe().serialize({}),c=0;return(0,vSt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Dw.freezeLut=wSt;var Ow={};Object.defineProperty(Ow,"__esModule",{value:!0});Ow.freezeToken=Ow.getFreezeTokenInstructionDataSerializer=void 0;const ISt=Z,ZN=q,PSt=ir;function pTe(){return(0,ZN.mapSerializer)((0,ZN.struct)([["discriminator",(0,ZN.u8)()]],{description:"FreezeTokenInstructionData"}),n=>({...n,discriminator:10}))}Ow.getFreezeTokenInstructionDataSerializer=pTe;function _St(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,PSt.getAccountMetasAndSigners)(s,"programId",t),a=pTe().serialize({}),c=0;return(0,ISt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Ow.freezeToken=_St;var Kw={};Object.defineProperty(Kw,"__esModule",{value:!0});Kw.getTokenDataSize=Kw.getGetTokenDataSizeInstructionDataSerializer=void 0;const ESt=Z,JN=q,xSt=ir;function bTe(){return(0,JN.mapSerializer)((0,JN.struct)([["discriminator",(0,JN.u8)()]],{description:"GetTokenDataSizeInstructionData"}),n=>({...n,discriminator:21}))}Kw.getGetTokenDataSizeInstructionDataSerializer=bTe;function TSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,xSt.getAccountMetasAndSigners)(s,"programId",t),a=bTe().serialize({}),c=0;return(0,ESt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Kw.getTokenDataSize=TSt;var Lw={};Object.defineProperty(Lw,"__esModule",{value:!0});Lw.initializeImmutableOwner=Lw.getInitializeImmutableOwnerInstructionDataSerializer=void 0;const RSt=Z,XN=q,CSt=ir;function STe(){return(0,XN.mapSerializer)((0,XN.struct)([["discriminator",(0,XN.u8)()]],{description:"InitializeImmutableOwnerInstructionData"}),n=>({...n,discriminator:22}))}Lw.getInitializeImmutableOwnerInstructionDataSerializer=STe;function MSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,CSt.getAccountMetasAndSigners)(s,"programId",t),a=STe().serialize({}),c=0;return(0,RSt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Lw.initializeImmutableOwner=MSt;var Ww={};Object.defineProperty(Ww,"__esModule",{value:!0});Ww.initializeMint=Ww.getInitializeMintInstructionDataSerializer=void 0;const Tme=Z,Jb=q,BSt=ir;function kTe(){return(0,Jb.mapSerializer)((0,Jb.struct)([["discriminator",(0,Jb.u8)()],["decimals",(0,Jb.u8)()],["mintAuthority",(0,Jb.publicKey)()],["freezeAuthority",(0,Jb.option)((0,Jb.publicKey)())]],{description:"InitializeMintInstructionData"}),n=>({...n,discriminator:0}))}Ww.getInitializeMintInstructionDataSerializer=kTe;function zSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},rent:{index:1,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,Tme.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,BSt.getAccountMetasAndSigners)(i,"programId",t),c=kTe().serialize(s),u=0;return(0,Tme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Ww.initializeMint=zSt;var Nw={};Object.defineProperty(Nw,"__esModule",{value:!0});Nw.initializeMint2=Nw.getInitializeMint2InstructionDataSerializer=void 0;const $St=Z,Xb=q,DSt=ir;function vTe(){return(0,Xb.mapSerializer)((0,Xb.struct)([["discriminator",(0,Xb.u8)()],["decimals",(0,Xb.u8)()],["mintAuthority",(0,Xb.publicKey)()],["freezeAuthority",(0,Xb.option)((0,Xb.publicKey)())]],{description:"InitializeMint2InstructionData"}),n=>({...n,discriminator:20}))}Nw.getInitializeMint2InstructionDataSerializer=vTe;function OSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,DSt.getAccountMetasAndSigners)(i,"programId",t),c=vTe().serialize(s),u=0;return(0,$St.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Nw.initializeMint2=OSt;var Fw={};Object.defineProperty(Fw,"__esModule",{value:!0});Fw.initializeMultisig=Fw.getInitializeMultisigInstructionDataSerializer=void 0;const Rme=Z,G$=q,KSt=ir;function ATe(){return(0,G$.mapSerializer)((0,G$.struct)([["discriminator",(0,G$.u8)()],["m",(0,G$.u8)()]],{description:"InitializeMultisigInstructionData"}),n=>({...n,discriminator:2}))}Fw.getInitializeMultisigInstructionDataSerializer=ATe;function LSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={multisig:{index:0,isWritable:!0,value:e.multisig??null},rent:{index:1,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,Rme.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,KSt.getAccountMetasAndSigners)(i,"programId",t),c=ATe().serialize(s),u=0;return(0,Rme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Fw.initializeMultisig=LSt;var Uw={};Object.defineProperty(Uw,"__esModule",{value:!0});Uw.initializeMultisig2=Uw.getInitializeMultisig2InstructionDataSerializer=void 0;const WSt=Z,Y$=q,NSt=ir;function wTe(){return(0,Y$.mapSerializer)((0,Y$.struct)([["discriminator",(0,Y$.u8)()],["m",(0,Y$.u8)()]],{description:"InitializeMultisig2InstructionData"}),n=>({...n,discriminator:19}))}Uw.getInitializeMultisig2InstructionDataSerializer=wTe;function FSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={multisig:{index:0,isWritable:!0,value:e.multisig??null},signer:{index:1,isWritable:!1,value:e.signer??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,NSt.getAccountMetasAndSigners)(i,"programId",t),c=wTe().serialize(s),u=0;return(0,WSt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Uw.initializeMultisig2=FSt;var Vw={};Object.defineProperty(Vw,"__esModule",{value:!0});Vw.initializeToken=Vw.getInitializeTokenInstructionDataSerializer=void 0;const Cme=Z,QN=q,USt=ir;function ITe(){return(0,QN.mapSerializer)((0,QN.struct)([["discriminator",(0,QN.u8)()]],{description:"InitializeTokenInstructionData"}),n=>({...n,discriminator:1}))}Vw.getInitializeTokenInstructionDataSerializer=ITe;function VSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null},rent:{index:3,isWritable:!1,value:e.rent??null}};r.rent.value||(r.rent.value=(0,Cme.publicKey)("SysvarRent111111111111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,USt.getAccountMetasAndSigners)(s,"programId",t),a=ITe().serialize({}),c=0;return(0,Cme.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Vw.initializeToken=VSt;var qw={};Object.defineProperty(qw,"__esModule",{value:!0});qw.initializeToken2=qw.getInitializeToken2InstructionDataSerializer=void 0;const Mme=Z,Z$=q,qSt=ir;function PTe(){return(0,Z$.mapSerializer)((0,Z$.struct)([["discriminator",(0,Z$.u8)()],["owner",(0,Z$.publicKey)()]],{description:"InitializeToken2InstructionData"}),n=>({...n,discriminator:16}))}qw.getInitializeToken2InstructionDataSerializer=PTe;function jSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},rent:{index:2,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,Mme.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,qSt.getAccountMetasAndSigners)(i,"programId",t),c=PTe().serialize(s),u=0;return(0,Mme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}qw.initializeToken2=jSt;var jw={};Object.defineProperty(jw,"__esModule",{value:!0});jw.initializeToken3=jw.getInitializeToken3InstructionDataSerializer=void 0;const HSt=Z,J$=q,GSt=ir;function _Te(){return(0,J$.mapSerializer)((0,J$.struct)([["discriminator",(0,J$.u8)()],["owner",(0,J$.publicKey)()]],{description:"InitializeToken3InstructionData"}),n=>({...n,discriminator:18}))}jw.getInitializeToken3InstructionDataSerializer=_Te;function YSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,GSt.getAccountMetasAndSigners)(i,"programId",t),c=_Te().serialize(s),u=0;return(0,HSt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}jw.initializeToken3=YSt;var Hw={};Object.defineProperty(Hw,"__esModule",{value:!0});Hw.mintTokensTo=Hw.getMintTokensToInstructionDataSerializer=void 0;const ZSt=Z,X$=q,JSt=ir;function ETe(){return(0,X$.mapSerializer)((0,X$.struct)([["discriminator",(0,X$.u8)()],["amount",(0,X$.u64)()]],{description:"MintTokensToInstructionData"}),n=>({...n,discriminator:7}))}Hw.getMintTokensToInstructionDataSerializer=ETe;function XSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},token:{index:1,isWritable:!0,value:e.token??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null}},s={...e};r.mintAuthority.value||(r.mintAuthority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,JSt.getAccountMetasAndSigners)(i,"programId",t),c=ETe().serialize(s),u=0;return(0,ZSt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Hw.mintTokensTo=XSt;var Gw={};Object.defineProperty(Gw,"__esModule",{value:!0});Gw.mintTokensToChecked=Gw.getMintTokensToCheckedInstructionDataSerializer=void 0;const QSt=Z,GR=q,ekt=ir;function xTe(){return(0,GR.mapSerializer)((0,GR.struct)([["discriminator",(0,GR.u8)()],["amount",(0,GR.u64)()],["decimals",(0,GR.u8)()]],{description:"MintTokensToCheckedInstructionData"}),n=>({...n,discriminator:14}))}Gw.getMintTokensToCheckedInstructionDataSerializer=xTe;function tkt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},token:{index:1,isWritable:!0,value:e.token??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ekt.getAccountMetasAndSigners)(i,"programId",t),c=xTe().serialize(s),u=0;return(0,QSt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Gw.mintTokensToChecked=tkt;var Y6={};Object.defineProperty(Y6,"__esModule",{value:!0});Y6.recoverNestedAssociatedToken=void 0;const rkt=Z,nkt=ir;function skt(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={nestedAssociatedAccountAddress:{index:0,isWritable:!0,value:e.nestedAssociatedAccountAddress??null},nestedTokenMintAddress:{index:1,isWritable:!1,value:e.nestedTokenMintAddress??null},destinationAssociatedAccountAddress:{index:2,isWritable:!0,value:e.destinationAssociatedAccountAddress??null},ownerAssociatedAccountAddress:{index:3,isWritable:!1,value:e.ownerAssociatedAccountAddress??null},ownerTokenMintAddress:{index:4,isWritable:!1,value:e.ownerTokenMintAddress??null},walletAddress:{index:5,isWritable:!0,value:e.walletAddress??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null}};r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,nkt.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=0;return(0,rkt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Y6.recoverNestedAssociatedToken=skt;var Yw={};Object.defineProperty(Yw,"__esModule",{value:!0});Yw.requestHeapFrame=Yw.getRequestHeapFrameInstructionDataSerializer=void 0;const ikt=Z,Q$=q,okt=ir;function TTe(){return(0,Q$.mapSerializer)((0,Q$.struct)([["discriminator",(0,Q$.u8)()],["bytes",(0,Q$.u32)()]],{description:"RequestHeapFrameInstructionData"}),n=>({...n,discriminator:1}))}Yw.getRequestHeapFrameInstructionDataSerializer=TTe;function akt(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,okt.getAccountMetasAndSigners)(i,"programId",t),c=TTe().serialize(s),u=0;return(0,ikt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Yw.requestHeapFrame=akt;var Zw={};Object.defineProperty(Zw,"__esModule",{value:!0});Zw.requestUnits=Zw.getRequestUnitsInstructionDataSerializer=void 0;const ckt=Z,YR=q,ukt=ir;function RTe(){return(0,YR.mapSerializer)((0,YR.struct)([["discriminator",(0,YR.u8)()],["units",(0,YR.u32)()],["additionalFee",(0,YR.u32)()]],{description:"RequestUnitsInstructionData"}),n=>({...n,discriminator:0}))}Zw.getRequestUnitsInstructionDataSerializer=RTe;function lkt(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ukt.getAccountMetasAndSigners)(i,"programId",t),c=RTe().serialize(s),u=0;return(0,ckt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Zw.requestUnits=lkt;var Jw={};Object.defineProperty(Jw,"__esModule",{value:!0});Jw.revokeTokenDelegate=Jw.getRevokeTokenDelegateInstructionDataSerializer=void 0;const dkt=Z,eF=q,fkt=ir;function CTe(){return(0,eF.mapSerializer)((0,eF.struct)([["discriminator",(0,eF.u8)()]],{description:"RevokeTokenDelegateInstructionData"}),n=>({...n,discriminator:5}))}Jw.getRevokeTokenDelegateInstructionDataSerializer=CTe;function hkt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},owner:{index:1,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,fkt.getAccountMetasAndSigners)(s,"programId",t),a=CTe().serialize({}),c=0;return(0,dkt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Jw.revokeTokenDelegate=hkt;var Xw={};Object.defineProperty(Xw,"__esModule",{value:!0});Xw.setAuthority=Xw.getSetAuthorityInstructionDataSerializer=void 0;const gkt=Z,ZR=q,mkt=ir,ykt=V6;function MTe(){return(0,ZR.mapSerializer)((0,ZR.struct)([["discriminator",(0,ZR.u8)()],["authorityType",(0,ykt.getAuthorityTypeSerializer)()],["newAuthority",(0,ZR.option)((0,ZR.publicKey)())]],{description:"SetAuthorityInstructionData"}),n=>({...n,discriminator:6}))}Xw.getSetAuthorityInstructionDataSerializer=MTe;function pkt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={owned:{index:0,isWritable:!0,value:e.owned??null},owner:{index:1,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,mkt.getAccountMetasAndSigners)(i,"programId",t),c=MTe().serialize(s),u=0;return(0,gkt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Xw.setAuthority=pkt;var Qw={};Object.defineProperty(Qw,"__esModule",{value:!0});Qw.setComputeUnitLimit=Qw.getSetComputeUnitLimitInstructionDataSerializer=void 0;const bkt=Z,e8=q,Skt=ir;function BTe(){return(0,e8.mapSerializer)((0,e8.struct)([["discriminator",(0,e8.u8)()],["units",(0,e8.u32)()]],{description:"SetComputeUnitLimitInstructionData"}),n=>({...n,discriminator:2}))}Qw.getSetComputeUnitLimitInstructionDataSerializer=BTe;function kkt(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Skt.getAccountMetasAndSigners)(i,"programId",t),c=BTe().serialize(s),u=0;return(0,bkt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Qw.setComputeUnitLimit=kkt;var eI={};Object.defineProperty(eI,"__esModule",{value:!0});eI.setComputeUnitPrice=eI.getSetComputeUnitPriceInstructionDataSerializer=void 0;const vkt=Z,t8=q,Akt=ir;function zTe(){return(0,t8.mapSerializer)((0,t8.struct)([["discriminator",(0,t8.u8)()],["microLamports",(0,t8.u64)()]],{description:"SetComputeUnitPriceInstructionData"}),n=>({...n,discriminator:3}))}eI.getSetComputeUnitPriceInstructionDataSerializer=zTe;function wkt(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Akt.getAccountMetasAndSigners)(i,"programId",t),c=zTe().serialize(s),u=0;return(0,vkt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}eI.setComputeUnitPrice=wkt;var tI={};Object.defineProperty(tI,"__esModule",{value:!0});tI.syncNative=tI.getSyncNativeInstructionDataSerializer=void 0;const Ikt=Z,tF=q,Pkt=ir;function $Te(){return(0,tF.mapSerializer)((0,tF.struct)([["discriminator",(0,tF.u8)()]],{description:"SyncNativeInstructionData"}),n=>({...n,discriminator:17}))}tI.getSyncNativeInstructionDataSerializer=$Te;function _kt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Pkt.getAccountMetasAndSigners)(s,"programId",t),a=$Te().serialize({}),c=0;return(0,Ikt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}tI.syncNative=_kt;var rI={};Object.defineProperty(rI,"__esModule",{value:!0});rI.thawToken=rI.getThawTokenInstructionDataSerializer=void 0;const Ekt=Z,rF=q,xkt=ir;function DTe(){return(0,rF.mapSerializer)((0,rF.struct)([["discriminator",(0,rF.u8)()]],{description:"ThawTokenInstructionData"}),n=>({...n,discriminator:11}))}rI.getThawTokenInstructionDataSerializer=DTe;function Tkt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,xkt.getAccountMetasAndSigners)(s,"programId",t),a=DTe().serialize({}),c=0;return(0,Ekt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}rI.thawToken=Tkt;var nI={};Object.defineProperty(nI,"__esModule",{value:!0});nI.transferAllSol=nI.getTransferAllSolInstructionDataSerializer=void 0;const Rkt=Z,nF=q,Ckt=ir;function OTe(){return(0,nF.mapSerializer)((0,nF.struct)([["discriminator",(0,nF.u8)()]],{description:"TransferAllSolInstructionData"}),n=>({...n,discriminator:1}))}nI.getTransferAllSolInstructionDataSerializer=OTe;function Mkt(n,e){const t=n.programs.getPublicKey("mplSystemExtras","SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null},systemProgram:{index:2,isWritable:!1,value:e.systemProgram??null}};r.source.value||(r.source.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Ckt.getAccountMetasAndSigners)(s,"programId",t),a=OTe().serialize({}),c=0;return(0,Rkt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}nI.transferAllSol=Mkt;var sI={};Object.defineProperty(sI,"__esModule",{value:!0});sI.transferSol=sI.getTransferSolInstructionDataSerializer=void 0;const KTe=Z,r8=q,Bkt=ir;function LTe(){return(0,r8.mapSerializer)((0,r8.struct)([["discriminator",(0,r8.u32)()],["amount",(0,KTe.mapAmountSerializer)((0,r8.u64)(),"SOL",9)]],{description:"TransferSolInstructionData"}),n=>({...n,discriminator:2}))}sI.getTransferSolInstructionDataSerializer=LTe;function zkt(n,e){const t=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null}},s={...e};r.source.value||(r.source.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Bkt.getAccountMetasAndSigners)(i,"programId",t),c=LTe().serialize(s),u=0;return(0,KTe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}sI.transferSol=zkt;var iI={};Object.defineProperty(iI,"__esModule",{value:!0});iI.transferTokens=iI.getTransferTokensInstructionDataSerializer=void 0;const $kt=Z,n8=q,Dkt=ir;function WTe(){return(0,n8.mapSerializer)((0,n8.struct)([["discriminator",(0,n8.u8)()],["amount",(0,n8.u64)()]],{description:"TransferTokensInstructionData"}),n=>({...n,discriminator:3}))}iI.getTransferTokensInstructionDataSerializer=WTe;function Okt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Dkt.getAccountMetasAndSigners)(i,"programId",t),c=WTe().serialize(s),u=0;return(0,$kt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}iI.transferTokens=Okt;var oI={};Object.defineProperty(oI,"__esModule",{value:!0});oI.transferTokensChecked=oI.getTransferTokensCheckedInstructionDataSerializer=void 0;const Kkt=Z,JR=q,Lkt=ir;function NTe(){return(0,JR.mapSerializer)((0,JR.struct)([["discriminator",(0,JR.u8)()],["amount",(0,JR.u64)()],["decimals",(0,JR.u8)()]],{description:"TransferTokensCheckedInstructionData"}),n=>({...n,discriminator:12}))}oI.getTransferTokensCheckedInstructionDataSerializer=NTe;function Wkt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},mint:{index:1,isWritable:!1,value:e.mint??null},destination:{index:2,isWritable:!0,value:e.destination??null},authority:{index:3,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Lkt.getAccountMetasAndSigners)(i,"programId",t),c=NTe().serialize(s),u=0;return(0,Kkt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}oI.transferTokensChecked=Wkt;var aI={};Object.defineProperty(aI,"__esModule",{value:!0});aI.uiAmountToAmount=aI.getUiAmountToAmountInstructionDataSerializer=void 0;const Nkt=Z,s8=q,Fkt=ir;function FTe(){return(0,s8.mapSerializer)((0,s8.struct)([["discriminator",(0,s8.u8)()],["uiAmount",(0,s8.u64)()]],{description:"UiAmountToAmountInstructionData"}),n=>({...n,discriminator:24}))}aI.getUiAmountToAmountInstructionDataSerializer=FTe;function Ukt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Fkt.getAccountMetasAndSigners)(i,"programId",t),c=FTe().serialize(s),u=0;return(0,Nkt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}aI.uiAmountToAmount=Ukt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Aw,n),t(ww,n),t(Iw,n),t(Pw,n),t(_w,n),t(Ew,n),t(xw,n),t(Tw,n),t(Rw,n),t(Cw,n),t(q6,n),t(Mw,n),t(G6,n),t(Bw,n),t(zw,n),t($w,n),t(Dw,n),t(Ow,n),t(Kw,n),t(Lw,n),t(Ww,n),t(Nw,n),t(Fw,n),t(Uw,n),t(Vw,n),t(qw,n),t(jw,n),t(Hw,n),t(Gw,n),t(Y6,n),t(Yw,n),t(Zw,n),t(Jw,n),t(Xw,n),t(Qw,n),t(eI,n),t(tI,n),t(rI,n),t(nI,n),t(sI,n),t(iI,n),t(oI,n),t(aI,n)})(tTe);var UTe={},VTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplSystemExtrasProgramId=n.getMplSystemExtrasProgram=n.createMplSystemExtrasProgram=n.MPL_SYSTEM_EXTRAS_PROGRAM_ID=void 0;const e=Sh;n.MPL_SYSTEM_EXTRAS_PROGRAM_ID="SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG";function t(){return{name:"mplSystemExtras",publicKey:n.MPL_SYSTEM_EXTRAS_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplSystemExtrasErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplSystemExtrasErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplSystemExtrasProgram=t;function r(i,o){return i.programs.get("mplSystemExtras",o)}n.getMplSystemExtrasProgram=r;function s(i,o){return i.programs.getPublicKey("mplSystemExtras",n.MPL_SYSTEM_EXTRAS_PROGRAM_ID,o)}n.getMplSystemExtrasProgramId=s})(VTe);var qTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplTokenExtrasProgramId=n.getMplTokenExtrasProgram=n.createMplTokenExtrasProgram=n.MPL_TOKEN_EXTRAS_PROGRAM_ID=void 0;const e=Sh;n.MPL_TOKEN_EXTRAS_PROGRAM_ID="TokExjvjJmhKaRBShsBAsbSvEWMA1AgUNK7ps4SAc2p";function t(){return{name:"mplTokenExtras",publicKey:n.MPL_TOKEN_EXTRAS_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplTokenExtrasErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplTokenExtrasErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplTokenExtrasProgram=t;function r(i,o){return i.programs.get("mplTokenExtras",o)}n.getMplTokenExtrasProgram=r;function s(i,o){return i.programs.getPublicKey("mplTokenExtras",n.MPL_TOKEN_EXTRAS_PROGRAM_ID,o)}n.getMplTokenExtrasProgramId=s})(qTe);var jTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplAddressLookupTableProgramId=n.getSplAddressLookupTableProgram=n.createSplAddressLookupTableProgram=n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID=void 0;const e=Sh;n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID="AddressLookupTab1e1111111111111111111111111";function t(){return{name:"splAddressLookupTable",publicKey:n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplAddressLookupTableErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplAddressLookupTableErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplAddressLookupTableProgram=t;function r(i,o){return i.programs.get("splAddressLookupTable",o)}n.getSplAddressLookupTableProgram=r;function s(i,o){return i.programs.getPublicKey("splAddressLookupTable",n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID,o)}n.getSplAddressLookupTableProgramId=s})(jTe);var HTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplAssociatedTokenProgramId=n.getSplAssociatedTokenProgram=n.createSplAssociatedTokenProgram=n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID=void 0;const e=Sh;n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL";function t(){return{name:"splAssociatedToken",publicKey:n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplAssociatedTokenErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplAssociatedTokenErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplAssociatedTokenProgram=t;function r(i,o){return i.programs.get("splAssociatedToken",o)}n.getSplAssociatedTokenProgram=r;function s(i,o){return i.programs.getPublicKey("splAssociatedToken",n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID,o)}n.getSplAssociatedTokenProgramId=s})(HTe);var GTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplComputeBudgetProgramId=n.getSplComputeBudgetProgram=n.createSplComputeBudgetProgram=n.SPL_COMPUTE_BUDGET_PROGRAM_ID=void 0;const e=Sh;n.SPL_COMPUTE_BUDGET_PROGRAM_ID="ComputeBudget111111111111111111111111111111";function t(){return{name:"splComputeBudget",publicKey:n.SPL_COMPUTE_BUDGET_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplComputeBudgetErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplComputeBudgetErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplComputeBudgetProgram=t;function r(i,o){return i.programs.get("splComputeBudget",o)}n.getSplComputeBudgetProgram=r;function s(i,o){return i.programs.getPublicKey("splComputeBudget",n.SPL_COMPUTE_BUDGET_PROGRAM_ID,o)}n.getSplComputeBudgetProgramId=s})(GTe);var YTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplMemoProgramId=n.getSplMemoProgram=n.createSplMemoProgram=n.SPL_MEMO_PROGRAM_ID=void 0;const e=Sh;n.SPL_MEMO_PROGRAM_ID="Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo";function t(){return{name:"splMemo",publicKey:n.SPL_MEMO_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplMemoErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplMemoErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplMemoProgram=t;function r(i,o){return i.programs.get("splMemo",o)}n.getSplMemoProgram=r;function s(i,o){return i.programs.getPublicKey("splMemo",n.SPL_MEMO_PROGRAM_ID,o)}n.getSplMemoProgramId=s})(YTe);var ZTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplSystemProgramId=n.getSplSystemProgram=n.createSplSystemProgram=n.SPL_SYSTEM_PROGRAM_ID=void 0;const e=Sh;n.SPL_SYSTEM_PROGRAM_ID="11111111111111111111111111111111";function t(){return{name:"splSystem",publicKey:n.SPL_SYSTEM_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplSystemErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplSystemErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplSystemProgram=t;function r(i,o){return i.programs.get("splSystem",o)}n.getSplSystemProgram=r;function s(i,o){return i.programs.getPublicKey("splSystem",n.SPL_SYSTEM_PROGRAM_ID,o)}n.getSplSystemProgramId=s})(ZTe);var JTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplTokenProgramId=n.getSplTokenProgram=n.createSplTokenProgram=n.SPL_TOKEN_PROGRAM_ID=void 0;const e=Sh;n.SPL_TOKEN_PROGRAM_ID="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";function t(){return{name:"splToken",publicKey:n.SPL_TOKEN_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplTokenErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplTokenErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplTokenProgram=t;function r(i,o){return i.programs.get("splToken",o)}n.getSplTokenProgram=r;function s(i,o){return i.programs.getPublicKey("splToken",n.SPL_TOKEN_PROGRAM_ID,o)}n.getSplTokenProgramId=s})(JTe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(VTe,n),t(qTe,n),t(jTe,n),t(HTe,n),t(GTe,n),t(YTe,n),t(ZTe,n),t(JTe,n)})(UTe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(U6,n),t(Sh,n),t(tTe,n),t(UTe,n),t(ir,n),t(V6,n)})(um);var Z6={};Object.defineProperty(Z6,"__esModule",{value:!0});Z6.createLut=void 0;const Vkt=Z,sF=um;function qkt(n,e){const{addresses:t,...r}=e,s=e.authority??n.identity,i=e.address??(0,sF.findAddressLookupTablePda)(n,{authority:s.publicKey,recentSlot:e.recentSlot});return[(0,Vkt.transactionBuilder)().add((0,sF.createEmptyLut)(n,r)).add((0,sF.extendLut)(n,{address:i,authority:s,addresses:t,payer:e.payer})),{publicKey:i[0],addresses:t}]}Z6.createLut=qkt;var J6={};Object.defineProperty(J6,"__esModule",{value:!0});J6.createLutForTransactionBuilder=void 0;const iF=Z,Hq=um,jkt=(n,e,t,r)=>{const s=r??n.identity,i=(0,iF.uniquePublicKeys)([e.getFeePayer(n).publicKey,...e.items.flatMap(({instruction:u})=>u.keys.filter(l=>l.isSigner).map(l=>l.pubkey))]),o=(0,iF.uniquePublicKeys)(e.items.flatMap(({instruction:u})=>[u.programId,...u.keys.map(l=>l.pubkey)])).filter(u=>!i.includes(u)),a=[],c=[];return(0,iF.chunk)(o,256).forEach((u,l)=>{const d=t-l,[y]=(0,Hq.findAddressLookupTablePda)(n,{authority:s.publicKey,recentSlot:d});a.push({publicKey:y,addresses:u}),c.push(...Hkt(n,(0,Hq.createEmptyLut)(n,{recentSlot:d}),y,s,u))}),[c,a]};J6.createLutForTransactionBuilder=jkt;function Hkt(n,e,t,r,s){const i=[];let o=[],a=e;return s.forEach(c=>{const u=e.add((0,Hq.extendLut)(n,{address:t,addresses:[...o,c],authority:r}));u.fitsInOneTransaction(n)?(o.push(c),a=u):(o=[c],i.push(a),e=e.empty(),a=e)}),o.length>0&&i.push(a),i}var Tz={};Object.defineProperty(Tz,"__esModule",{value:!0});Tz.createMint=void 0;const Bme=Z,oF=um;function Gkt(n,e){return(0,Bme.transactionBuilder)().add((0,oF.createAccountWithRent)(n,{newAccount:e.mint,space:(0,oF.getMintSize)(),programId:n.programs.get("splToken").publicKey})).add((0,oF.initializeMint2)(n,{mint:e.mint.publicKey,decimals:e.decimals??0,mintAuthority:e.mintAuthority??n.identity.publicKey,freezeAuthority:e.freezeAuthority===void 0?(0,Bme.some)(n.identity.publicKey):e.freezeAuthority}))}Tz.createMint=Gkt;var X6={};Object.defineProperty(X6,"__esModule",{value:!0});X6.createMintWithAssociatedToken=void 0;const aF=Z,Ykt=Tz,zme=um,Zkt=BT;function Jkt(n,e){const t={mint:e.mint.publicKey,owner:e.owner??n.identity.publicKey},r=e.amount??0;let s=(0,aF.transactionBuilder)().add((0,Ykt.createMint)(n,{...e,mintAuthority:e.mintAuthority?(0,aF.publicKey)(e.mintAuthority,!1):void 0})).add((0,zme.createAssociatedToken)(n,t));return r>0&&(s=s.add((0,zme.mintTokensTo)(n,{amount:r,mint:e.mint.publicKey,token:(0,Zkt.findAssociatedTokenPda)(n,t),mintAuthority:e.mintAuthority&&(0,aF.isSigner)(e.mintAuthority)?e.mintAuthority:void 0}))),s}X6.createMintWithAssociatedToken=Jkt;var Q6={};Object.defineProperty(Q6,"__esModule",{value:!0});Q6.createToken=void 0;const Xkt=Z,cF=um;function Qkt(n,e){return(0,Xkt.transactionBuilder)().add((0,cF.createAccountWithRent)(n,{newAccount:e.token,space:(0,cF.getTokenSize)(),programId:n.programs.get("splToken").publicKey})).add((0,cF.initializeToken3)(n,{account:e.token.publicKey,mint:e.mint,owner:e.owner??n.identity.publicKey}))}Q6.createToken=Qkt;var XTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchTokensByOwnerAndMint=n.fetchTokensByOwner=n.fetchAllMintByOwner=n.fetchAllMintPublicKeyByOwner=n.fetchAllTokenByOwnerAndMint=n.fetchAllTokenByOwner=void 0;const e=Z,t=q,r=um,s=async(u,l,d,y={})=>{const h=u.programs.get("splToken").publicKey,m=y.mint?{mint:y.mint}:{programId:h};return(await u.rpc.call("getTokenAccountsByOwner",[l,m],{...y,extra:{encoding:"base64"}})).value.filter(({account:g})=>{const b=t.base64.serialize(g.data[0]),S=(0,t.u64)().deserialize(b.slice(64,72))[0];return d(S)})},i=async(u,l,d={})=>{const{mint:y,tokenStrategy:h="getProgramAccounts",tokenAmountFilter:m=b=>b>0,...f}=d;if(h==="getTokenAccountsByOwner")return(await s(u,l,m,{mint:y,...f})).map(({pubkey:S,account:p})=>(0,r.deserializeToken)({...p,data:t.base64.serialize(p.data[0]),publicKey:(0,e.publicKey)(S),owner:(0,e.publicKey)(p.owner),lamports:(0,e.lamports)(p.lamports)}));let g=(0,r.getTokenGpaBuilder)(u).whereField("owner",l);return y&&(g=g.whereField("mint",y)),(await g.get()).filter(b=>{const S=(0,t.u64)().deserialize(b.data.slice(64,72))[0];return m(S)}).map(b=>(0,r.deserializeToken)(b))};n.fetchAllTokenByOwner=i;const o=(u,l,d,y={})=>(0,n.fetchAllTokenByOwner)(u,l,{...y,mint:d});n.fetchAllTokenByOwnerAndMint=o;const a=async(u,l,d={})=>{const{tokenStrategy:y="getProgramAccounts",tokenAmountFilter:h=f=>f>0,...m}=d;return y==="getTokenAccountsByOwner"?(await s(u,l,h,m)).map(({account:g})=>(0,e.publicKey)(t.base64.serialize(g.data[0]).slice(0,32))):(await(0,r.getTokenGpaBuilder)(u).slice(0,72).whereField("owner",l).get()).filter(f=>{const g=(0,t.u64)().deserialize(f.data.slice(64,72))[0];return h(g)}).map(f=>(0,e.publicKey)(f.data.slice(0,32)))};n.fetchAllMintPublicKeyByOwner=a;const c=async(u,l,d={})=>{const{tokenStrategy:y,tokenAmountFilter:h,...m}=d,f=await(0,n.fetchAllMintPublicKeyByOwner)(u,l,d);return(0,r.fetchAllMint)(u,f,m)};n.fetchAllMintByOwner=c,n.fetchTokensByOwner=n.fetchAllTokenByOwner,n.fetchTokensByOwnerAndMint=n.fetchAllTokenByOwnerAndMint})(XTe);var eL={};Object.defineProperty(eL,"__esModule",{value:!0});eL.findLargestTokensByMint=void 0;const $me=Z,evt=async(n,e,t={})=>(await n.rpc.call("getTokenLargestAccounts",[e],t)).value.map(({address:s,amount:i,decimals:o})=>({publicKey:(0,$me.publicKey)(s),amount:(0,$me.createAmount)(i,"splToken",o)}));eL.findLargestTokensByMint=evt;var QTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.mplEssentials=n.mplToolbox=void 0;const e=Z,t=um,r=()=>({install(s){s.programs.add((0,t.createSplSystemProgram)(),!1),s.programs.add((0,t.createSplMemoProgram)(),!1),s.programs.add((0,t.createSplTokenProgram)(),!1),s.programs.add((0,t.createSplAssociatedTokenProgram)(),!1),s.programs.add((0,t.createSplAddressLookupTableProgram)(),!1),s.programs.add((0,t.createMplSystemExtrasProgram)(),!1),s.programs.add((0,t.createMplTokenExtrasProgram)(),!1),s.programs.add({...(0,t.createSplTokenProgram)(),name:"splToken2022",publicKey:(0,e.publicKey)("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb")},!1)}});n.mplToolbox=r,n.mplEssentials=n.mplToolbox})(QTe);var tL={};Object.defineProperty(tL,"__esModule",{value:!0});tL.getSysvar=void 0;const Ud=Z,tvt=n=>{switch(n){case"clock":return(0,Ud.publicKey)("SysvarC1ock11111111111111111111111111111111");case"epochSchedule":return(0,Ud.publicKey)("SysvarEpochSchedu1e111111111111111111111111");case"instructions":return(0,Ud.publicKey)("Sysvar1nstructions1111111111111111111111111");case"recentBlockhashes":return(0,Ud.publicKey)("SysvarRecentB1ockHashes11111111111111111111");case"rent":return(0,Ud.publicKey)("SysvarRent111111111111111111111111111111111");case"rewards":return(0,Ud.publicKey)("SysvarRewards111111111111111111111111111111");case"slotHashes":return(0,Ud.publicKey)("SysvarS1otHashes111111111111111111111111111");case"slotHistory":return(0,Ud.publicKey)("SysvarS1otHistory11111111111111111111111111");case"stakeHistory":return(0,Ud.publicKey)("SysvarStakeHistory1111111111111111111111111");default:throw new Ud.SdkError(`Unknown sysvar: ${n}`)}};tL.getSysvar=tvt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(um,n),t(BT,n),t(Z6,n),t(J6,n),t(Tz,n),t(X6,n),t(Q6,n),t(XTe,n),t(eL,n),t(QTe,n),t(tL,n)})(Hs);var rL={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isProgrammable=n.isNonFungible=n.isFungible=n.deserializeDigitalAsset=n.fetchAllMetadataByOwner=n.fetchAllDigitalAssetByOwner=n.fetchAllDigitalAssetByUpdateAuthority=n.fetchAllDigitalAssetByVerifiedCollection=n.fetchAllDigitalAssetByCreator=n.fetchAllDigitalAsset=n.fetchDigitalAssetByMetadata=n.fetchDigitalAsset=void 0;const e=Hs,t=Z,r=Ob,s=Db,i=326,o=34,a=[366,400,434,468,502],c=1,u=2;async function l(A,_,E){const[M]=(0,s.findMetadataPda)(A,{mint:_}),[P]=(0,s.findMasterEditionPda)(A,{mint:_}),[R,$,z]=await A.rpc.getAccounts([_,M,P],E);return(0,t.assertAccountExists)(R,"Mint"),(0,t.assertAccountExists)($,"Metadata"),S(R,$,z.exists?z:void 0)}n.fetchDigitalAsset=l;async function d(A,_,E){const M=await(0,s.fetchMetadata)(A,_,E);return l(A,M.mint,E)}n.fetchDigitalAssetByMetadata=d;async function y(A,_,E){const M=_.flatMap(R=>[R,(0,s.findMetadataPda)(A,{mint:R})[0],(0,s.findMasterEditionPda)(A,{mint:R})[0]]),P=await A.rpc.getAccounts(M,E);return(0,t.chunk)(P,3).flatMap(([R,$,z])=>{try{return(0,t.assertAccountExists)(R,"Mint"),(0,t.assertAccountExists)($,"Metadata"),[S(R,$,z.exists?z:void 0)]}catch{return[]}})}n.fetchAllDigitalAsset=y;async function h(A,_,E){const M=((E==null?void 0:E.position)??1)-1,P=await(0,s.getMetadataGpaBuilder)(A).where(i+M*o,_).sliceField("mint").getDataAsPublicKeys();return y(A,P,E)}n.fetchAllDigitalAssetByCreator=h;async function m(A,_,E){const M=await Promise.all(a.map(async P=>(0,s.getMetadataGpaBuilder)(A).where(P,1).where(P+c,1).where(P+u,_).sliceField("mint").getDataAsPublicKeys()));return y(A,M.flat(),E)}n.fetchAllDigitalAssetByVerifiedCollection=m;async function f(A,_,E){const M=await(0,s.getMetadataGpaBuilder)(A).whereField("updateAuthority",_).sliceField("mint").getDataAsPublicKeys();return y(A,M,E)}n.fetchAllDigitalAssetByUpdateAuthority=f;async function g(A,_,E){const M=await(0,e.fetchAllMintPublicKeyByOwner)(A,_,E);return y(A,M,E)}n.fetchAllDigitalAssetByOwner=g;async function b(A,_,E){const P=(await(0,e.fetchAllMintPublicKeyByOwner)(A,_,E)).map($=>(0,s.findMetadataPda)(A,{mint:$})[0]);return(await A.rpc.getAccounts(P,E)).flatMap($=>{try{return(0,t.assertAccountExists)($,"Metadata"),[(0,s.deserializeMetadata)($)]}catch{return[]}})}n.fetchAllMetadataByOwner=b;function S(A,_,E){const M=(0,e.deserializeMint)(A),P=(0,s.deserializeMetadata)(_),R=(0,t.unwrapOption)(P.tokenStandard);if(R&&(0,n.isNonFungible)(R)&&!E)throw new Error("Edition account must be provided for non-fungible assets.");const $={publicKey:M.publicKey,mint:M,metadata:P};if(!E)return $;const z=(0,s.getKeySerializer)().deserialize(E.data)[0];let T;if(z===s.Key.MasterEditionV1||z===s.Key.MasterEditionV2)T={isOriginal:!0,...(0,s.deserializeMasterEdition)(E)};else if(z===s.Key.EditionV1)T={isOriginal:!1,...(0,s.deserializeEdition)(E)};else throw new r.TokenMetadataError(`Invalid key "${z}" for edition account.`);return{...$,edition:T}}n.deserializeDigitalAsset=S;const p=A=>A===s.TokenStandard.Fungible||A===s.TokenStandard.FungibleAsset;n.isFungible=p;const I=A=>!(0,n.isFungible)(A);n.isNonFungible=I;const w=A=>A===s.TokenStandard.ProgrammableNonFungible;n.isProgrammable=w})(rL);Object.defineProperty(Ta,"__esModule",{value:!0});Ta.resolveIsNonFungibleOrIsMintSigner=Ta.resolveOptionalTokenOwner=Ta.resolveCreateV1Bytes=Ta.resolveCreators=Ta.resolvePrintSupply=Ta.resolveDecimals=Ta.resolveIsNonFungible=Ta.resolveCollectionDetails=void 0;const rvt=Hs,sh=Z,Rz=rL,tm=Db,nvt=679,svt=282,ivt=(n,e,t,...r)=>t.isCollection?(0,sh.some)((0,tm.collectionDetails)("V1",{size:0})):(0,sh.none)();Ta.resolveCollectionDetails=ivt;const ovt=(n,e,t,...r)=>(0,Rz.isNonFungible)((0,tm.expectSome)(t.tokenStandard));Ta.resolveIsNonFungible=ovt;const avt=(n,e,t,...r)=>(0,Rz.isNonFungible)((0,tm.expectSome)(t.tokenStandard))?(0,sh.none)():(0,sh.some)(0);Ta.resolveDecimals=avt;const cvt=(n,e,t,...r)=>(0,Rz.isNonFungible)((0,tm.expectSome)(t.tokenStandard))?(0,sh.some)((0,tm.printSupply)("Zero")):(0,sh.none)();Ta.resolvePrintSupply=cvt;const uvt=(n,e,...t)=>(0,sh.some)([{address:(0,tm.expectPublicKey)(e.authority.value),share:100,verified:!0}]);Ta.resolveCreators=uvt;const lvt=(n,e,t,...r)=>{const s=(0,rvt.getMintSize)()+nvt+2*sh.ACCOUNT_HEADER_SIZE;return(0,Rz.isNonFungible)((0,tm.expectSome)(t.tokenStandard))?s+svt+sh.ACCOUNT_HEADER_SIZE:s};Ta.resolveCreateV1Bytes=lvt;const dvt=(n,e,...t)=>e.token.value?{value:null}:{value:n.identity.publicKey};Ta.resolveOptionalTokenOwner=dvt;const fvt=(n,e,t,...r)=>(0,Rz.isNonFungible)((0,tm.expectSome)(t.tokenStandard))||(0,sh.isSigner)((0,tm.expectSome)(e.mint.value));Ta.resolveIsNonFungibleOrIsMintSigner=fvt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(W6,n),t(N6,n),t(F6,n),t(Ta,n)})(on);Object.defineProperty(ri,"__esModule",{value:!0});ri.safeFetchHolderDelegateRecordFromSeeds=ri.fetchHolderDelegateRecordFromSeeds=ri.findHolderDelegateRecordPda=ri.getHolderDelegateRecordSize=ri.getHolderDelegateRecordGpaBuilder=ri.safeFetchAllHolderDelegateRecord=ri.fetchAllHolderDelegateRecord=ri.safeFetchHolderDelegateRecord=ri.fetchHolderDelegateRecord=ri.deserializeHolderDelegateRecord=ri.getHolderDelegateRecordAccountDataSerializer=void 0;const ob=Z,bu=q,hvt=on,eRe=ut;function tRe(){return(0,bu.struct)([["key",(0,eRe.getKeySerializer)()],["bump",(0,bu.u8)()],["mint",(0,bu.publicKey)()],["delegate",(0,bu.publicKey)()],["updateAuthority",(0,bu.publicKey)()]],{description:"HolderDelegateRecordAccountData"})}ri.getHolderDelegateRecordAccountDataSerializer=tRe;function zT(n){return(0,ob.deserializeAccount)(n,tRe())}ri.deserializeHolderDelegateRecord=zT;async function rRe(n,e,t){const r=await n.rpc.getAccount((0,ob.publicKey)(e,!1),t);return(0,ob.assertAccountExists)(r,"HolderDelegateRecord"),zT(r)}ri.fetchHolderDelegateRecord=rRe;async function nRe(n,e,t){const r=await n.rpc.getAccount((0,ob.publicKey)(e,!1),t);return r.exists?zT(r):null}ri.safeFetchHolderDelegateRecord=nRe;async function gvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ob.publicKey)(s,!1)),t)).map(s=>((0,ob.assertAccountExists)(s,"HolderDelegateRecord"),zT(s)))}ri.fetchAllHolderDelegateRecord=gvt;async function mvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ob.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>zT(s))}ri.safeFetchAllHolderDelegateRecord=mvt;function yvt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,ob.gpaBuilder)(n,e).registerFields({key:[0,(0,eRe.getKeySerializer)()],bump:[1,(0,bu.u8)()],mint:[2,(0,bu.publicKey)()],delegate:[34,(0,bu.publicKey)()],updateAuthority:[66,(0,bu.publicKey)()]}).deserializeUsing(t=>zT(t))}ri.getHolderDelegateRecordGpaBuilder=yvt;function pvt(){return 98}ri.getHolderDelegateRecordSize=pvt;function DQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,bu.string)({size:"variable"}).serialize("metadata"),(0,bu.publicKey)().serialize(t),(0,bu.publicKey)().serialize(e.mint),(0,hvt.getHolderDelegateRoleSeedSerializer)().serialize(e.delegateRole),(0,bu.publicKey)().serialize(e.owner),(0,bu.publicKey)().serialize(e.delegate)])}ri.findHolderDelegateRecordPda=DQ;async function bvt(n,e,t){return rRe(n,DQ(n,e),t)}ri.fetchHolderDelegateRecordFromSeeds=bvt;async function Svt(n,e,t){return nRe(n,DQ(n,e),t)}ri.safeFetchHolderDelegateRecordFromSeeds=Svt;var vo={};Object.defineProperty(vo,"__esModule",{value:!0});vo.safeFetchMasterEditionFromSeeds=vo.fetchMasterEditionFromSeeds=vo.findMasterEditionPda=vo.getMasterEditionGpaBuilder=vo.safeFetchAllMasterEdition=vo.fetchAllMasterEdition=vo.safeFetchMasterEdition=vo.fetchMasterEdition=vo.deserializeMasterEdition=vo.getMasterEditionAccountDataSerializer=void 0;const ab=Z,_l=q,NO=ut;function sRe(){return(0,_l.mapSerializer)((0,_l.struct)([["key",(0,NO.getKeySerializer)()],["supply",(0,_l.u64)()],["maxSupply",(0,_l.option)((0,_l.u64)())]],{description:"MasterEditionAccountData"}),n=>({...n,key:NO.Key.MasterEditionV2}))}vo.getMasterEditionAccountDataSerializer=sRe;function $T(n){return(0,ab.deserializeAccount)(n,sRe())}vo.deserializeMasterEdition=$T;async function iRe(n,e,t){const r=await n.rpc.getAccount((0,ab.publicKey)(e,!1),t);return(0,ab.assertAccountExists)(r,"MasterEdition"),$T(r)}vo.fetchMasterEdition=iRe;async function oRe(n,e,t){const r=await n.rpc.getAccount((0,ab.publicKey)(e,!1),t);return r.exists?$T(r):null}vo.safeFetchMasterEdition=oRe;async function kvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ab.publicKey)(s,!1)),t)).map(s=>((0,ab.assertAccountExists)(s,"MasterEdition"),$T(s)))}vo.fetchAllMasterEdition=kvt;async function vvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ab.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>$T(s))}vo.safeFetchAllMasterEdition=vvt;function Avt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,ab.gpaBuilder)(n,e).registerFields({key:[0,(0,NO.getKeySerializer)()],supply:[1,(0,_l.u64)()],maxSupply:[9,(0,_l.option)((0,_l.u64)())]}).deserializeUsing(t=>$T(t)).whereField("key",NO.Key.MasterEditionV2)}vo.getMasterEditionGpaBuilder=Avt;function OQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,_l.string)({size:"variable"}).serialize("metadata"),(0,_l.publicKey)().serialize(t),(0,_l.publicKey)().serialize(e.mint),(0,_l.string)({size:"variable"}).serialize("edition")])}vo.findMasterEditionPda=OQ;async function wvt(n,e,t){return iRe(n,OQ(n,e),t)}vo.fetchMasterEditionFromSeeds=wvt;async function Ivt(n,e,t){return oRe(n,OQ(n,e),t)}vo.safeFetchMasterEditionFromSeeds=Ivt;var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.safeFetchMetadataFromSeeds=Ao.fetchMetadataFromSeeds=Ao.findMetadataPda=Ao.getMetadataGpaBuilder=Ao.safeFetchAllMetadata=Ao.fetchAllMetadata=Ao.safeFetchMetadata=Ao.fetchMetadata=Ao.deserializeMetadata=Ao.getMetadataAccountDataSerializer=void 0;const cb=Z,ln=q,bc=ut;function aRe(){return(0,ln.mapSerializer)((0,ln.struct)([["key",(0,bc.getKeySerializer)()],["updateAuthority",(0,ln.publicKey)()],["mint",(0,ln.publicKey)()],["name",(0,ln.string)()],["symbol",(0,ln.string)()],["uri",(0,ln.string)()],["sellerFeeBasisPoints",(0,ln.u16)()],["creators",(0,ln.option)((0,ln.array)((0,bc.getCreatorSerializer)()))],["primarySaleHappened",(0,ln.bool)()],["isMutable",(0,ln.bool)()],["editionNonce",(0,ln.option)((0,ln.u8)())],["tokenStandard",(0,ln.option)((0,bc.getTokenStandardSerializer)())],["collection",(0,ln.option)((0,bc.getCollectionSerializer)())],["uses",(0,ln.option)((0,bc.getUsesSerializer)())],["collectionDetails",(0,ln.option)((0,bc.getCollectionDetailsSerializer)())],["programmableConfig",(0,ln.option)((0,bc.getProgrammableConfigSerializer)())]],{description:"MetadataAccountData"}),n=>({...n,key:bc.Key.MetadataV1}))}Ao.getMetadataAccountDataSerializer=aRe;function DT(n){return(0,cb.deserializeAccount)(n,aRe())}Ao.deserializeMetadata=DT;async function cRe(n,e,t){const r=await n.rpc.getAccount((0,cb.publicKey)(e,!1),t);return(0,cb.assertAccountExists)(r,"Metadata"),DT(r)}Ao.fetchMetadata=cRe;async function uRe(n,e,t){const r=await n.rpc.getAccount((0,cb.publicKey)(e,!1),t);return r.exists?DT(r):null}Ao.safeFetchMetadata=uRe;async function Pvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,cb.publicKey)(s,!1)),t)).map(s=>((0,cb.assertAccountExists)(s,"Metadata"),DT(s)))}Ao.fetchAllMetadata=Pvt;async function _vt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,cb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>DT(s))}Ao.safeFetchAllMetadata=_vt;function Evt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,cb.gpaBuilder)(n,e).registerFields({key:[0,(0,bc.getKeySerializer)()],updateAuthority:[1,(0,ln.publicKey)()],mint:[33,(0,ln.publicKey)()],name:[65,(0,ln.string)()],symbol:[null,(0,ln.string)()],uri:[null,(0,ln.string)()],sellerFeeBasisPoints:[null,(0,ln.u16)()],creators:[null,(0,ln.option)((0,ln.array)((0,bc.getCreatorSerializer)()))],primarySaleHappened:[null,(0,ln.bool)()],isMutable:[null,(0,ln.bool)()],editionNonce:[null,(0,ln.option)((0,ln.u8)())],tokenStandard:[null,(0,ln.option)((0,bc.getTokenStandardSerializer)())],collection:[null,(0,ln.option)((0,bc.getCollectionSerializer)())],uses:[null,(0,ln.option)((0,bc.getUsesSerializer)())],collectionDetails:[null,(0,ln.option)((0,bc.getCollectionDetailsSerializer)())],programmableConfig:[null,(0,ln.option)((0,bc.getProgrammableConfigSerializer)())]}).deserializeUsing(t=>DT(t)).whereField("key",bc.Key.MetadataV1)}Ao.getMetadataGpaBuilder=Evt;function KQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,ln.string)({size:"variable"}).serialize("metadata"),(0,ln.publicKey)().serialize(t),(0,ln.publicKey)().serialize(e.mint)])}Ao.findMetadataPda=KQ;async function xvt(n,e,t){return cRe(n,KQ(n,e),t)}Ao.fetchMetadataFromSeeds=xvt;async function Tvt(n,e,t){return uRe(n,KQ(n,e),t)}Ao.safeFetchMetadataFromSeeds=Tvt;var ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.safeFetchMetadataDelegateRecordFromSeeds=ni.fetchMetadataDelegateRecordFromSeeds=ni.findMetadataDelegateRecordPda=ni.getMetadataDelegateRecordSize=ni.getMetadataDelegateRecordGpaBuilder=ni.safeFetchAllMetadataDelegateRecord=ni.fetchAllMetadataDelegateRecord=ni.safeFetchMetadataDelegateRecord=ni.fetchMetadataDelegateRecord=ni.deserializeMetadataDelegateRecord=ni.getMetadataDelegateRecordAccountDataSerializer=void 0;const ub=Z,Su=q,Rvt=on,lRe=ut;function dRe(){return(0,Su.struct)([["key",(0,lRe.getKeySerializer)()],["bump",(0,Su.u8)()],["mint",(0,Su.publicKey)()],["delegate",(0,Su.publicKey)()],["updateAuthority",(0,Su.publicKey)()]],{description:"MetadataDelegateRecordAccountData"})}ni.getMetadataDelegateRecordAccountDataSerializer=dRe;function OT(n){return(0,ub.deserializeAccount)(n,dRe())}ni.deserializeMetadataDelegateRecord=OT;async function fRe(n,e,t){const r=await n.rpc.getAccount((0,ub.publicKey)(e,!1),t);return(0,ub.assertAccountExists)(r,"MetadataDelegateRecord"),OT(r)}ni.fetchMetadataDelegateRecord=fRe;async function hRe(n,e,t){const r=await n.rpc.getAccount((0,ub.publicKey)(e,!1),t);return r.exists?OT(r):null}ni.safeFetchMetadataDelegateRecord=hRe;async function Cvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ub.publicKey)(s,!1)),t)).map(s=>((0,ub.assertAccountExists)(s,"MetadataDelegateRecord"),OT(s)))}ni.fetchAllMetadataDelegateRecord=Cvt;async function Mvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ub.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>OT(s))}ni.safeFetchAllMetadataDelegateRecord=Mvt;function Bvt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,ub.gpaBuilder)(n,e).registerFields({key:[0,(0,lRe.getKeySerializer)()],bump:[1,(0,Su.u8)()],mint:[2,(0,Su.publicKey)()],delegate:[34,(0,Su.publicKey)()],updateAuthority:[66,(0,Su.publicKey)()]}).deserializeUsing(t=>OT(t))}ni.getMetadataDelegateRecordGpaBuilder=Bvt;function zvt(){return 98}ni.getMetadataDelegateRecordSize=zvt;function LQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Su.string)({size:"variable"}).serialize("metadata"),(0,Su.publicKey)().serialize(t),(0,Su.publicKey)().serialize(e.mint),(0,Rvt.getMetadataDelegateRoleSeedSerializer)().serialize(e.delegateRole),(0,Su.publicKey)().serialize(e.updateAuthority),(0,Su.publicKey)().serialize(e.delegate)])}ni.findMetadataDelegateRecordPda=LQ;async function $vt(n,e,t){return fRe(n,LQ(n,e),t)}ni.fetchMetadataDelegateRecordFromSeeds=$vt;async function Dvt(n,e,t){return hRe(n,LQ(n,e),t)}ni.safeFetchMetadataDelegateRecordFromSeeds=Dvt;var vc={};Object.defineProperty(vc,"__esModule",{value:!0});vc.getTokenOwnedEscrowGpaBuilder=vc.safeFetchAllTokenOwnedEscrow=vc.fetchAllTokenOwnedEscrow=vc.safeFetchTokenOwnedEscrow=vc.fetchTokenOwnedEscrow=vc.deserializeTokenOwnedEscrow=vc.getTokenOwnedEscrowAccountDataSerializer=void 0;const lb=Z,Bv=q,fA=ut;function gRe(){return(0,Bv.mapSerializer)((0,Bv.struct)([["key",(0,fA.getKeySerializer)()],["baseToken",(0,Bv.publicKey)()],["authority",(0,fA.getEscrowAuthoritySerializer)()],["bump",(0,Bv.u8)()]],{description:"TokenOwnedEscrowAccountData"}),n=>({...n,key:fA.Key.TokenOwnedEscrow}))}vc.getTokenOwnedEscrowAccountDataSerializer=gRe;function KT(n){return(0,lb.deserializeAccount)(n,gRe())}vc.deserializeTokenOwnedEscrow=KT;async function Ovt(n,e,t){const r=await n.rpc.getAccount((0,lb.publicKey)(e,!1),t);return(0,lb.assertAccountExists)(r,"TokenOwnedEscrow"),KT(r)}vc.fetchTokenOwnedEscrow=Ovt;async function Kvt(n,e,t){const r=await n.rpc.getAccount((0,lb.publicKey)(e,!1),t);return r.exists?KT(r):null}vc.safeFetchTokenOwnedEscrow=Kvt;async function Lvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,lb.publicKey)(s,!1)),t)).map(s=>((0,lb.assertAccountExists)(s,"TokenOwnedEscrow"),KT(s)))}vc.fetchAllTokenOwnedEscrow=Lvt;async function Wvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,lb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>KT(s))}vc.safeFetchAllTokenOwnedEscrow=Wvt;function Nvt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,lb.gpaBuilder)(n,e).registerFields({key:[0,(0,fA.getKeySerializer)()],baseToken:[1,(0,Bv.publicKey)()],authority:[33,(0,fA.getEscrowAuthoritySerializer)()],bump:[null,(0,Bv.u8)()]}).deserializeUsing(t=>KT(t)).whereField("key",fA.Key.TokenOwnedEscrow)}vc.getTokenOwnedEscrowGpaBuilder=Nvt;var si={};Object.defineProperty(si,"__esModule",{value:!0});si.safeFetchTokenRecordFromSeeds=si.fetchTokenRecordFromSeeds=si.findTokenRecordPda=si.getTokenRecordSize=si.getTokenRecordGpaBuilder=si.safeFetchAllTokenRecord=si.fetchAllTokenRecord=si.safeFetchTokenRecord=si.fetchTokenRecord=si.deserializeTokenRecord=si.getTokenRecordAccountDataSerializer=void 0;const db=Z,vi=q,$y=ut;function mRe(){return(0,vi.mapSerializer)((0,vi.struct)([["key",(0,$y.getKeySerializer)()],["bump",(0,vi.u8)()],["state",(0,$y.getTokenStateSerializer)()],["ruleSetRevision",(0,vi.option)((0,vi.u64)())],["delegate",(0,vi.option)((0,vi.publicKey)())],["delegateRole",(0,vi.option)((0,$y.getTokenDelegateRoleSerializer)())],["lockedTransfer",(0,vi.option)((0,vi.publicKey)())]],{description:"TokenRecordAccountData"}),n=>({...n,key:$y.Key.TokenRecord}))}si.getTokenRecordAccountDataSerializer=mRe;function LT(n){return(0,db.deserializeAccount)(n,mRe())}si.deserializeTokenRecord=LT;async function yRe(n,e,t){const r=await n.rpc.getAccount((0,db.publicKey)(e,!1),t);return(0,db.assertAccountExists)(r,"TokenRecord"),LT(r)}si.fetchTokenRecord=yRe;async function pRe(n,e,t){const r=await n.rpc.getAccount((0,db.publicKey)(e,!1),t);return r.exists?LT(r):null}si.safeFetchTokenRecord=pRe;async function Fvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,db.publicKey)(s,!1)),t)).map(s=>((0,db.assertAccountExists)(s,"TokenRecord"),LT(s)))}si.fetchAllTokenRecord=Fvt;async function Uvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,db.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>LT(s))}si.safeFetchAllTokenRecord=Uvt;function Vvt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,db.gpaBuilder)(n,e).registerFields({key:[0,(0,$y.getKeySerializer)()],bump:[1,(0,vi.u8)()],state:[2,(0,$y.getTokenStateSerializer)()],ruleSetRevision:[3,(0,vi.option)((0,vi.u64)())],delegate:[null,(0,vi.option)((0,vi.publicKey)())],delegateRole:[null,(0,vi.option)((0,$y.getTokenDelegateRoleSerializer)())],lockedTransfer:[null,(0,vi.option)((0,vi.publicKey)())]}).deserializeUsing(t=>LT(t)).whereField("key",$y.Key.TokenRecord)}si.getTokenRecordGpaBuilder=Vvt;function qvt(){return 80}si.getTokenRecordSize=qvt;function WQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,vi.string)({size:"variable"}).serialize("metadata"),(0,vi.publicKey)().serialize(t),(0,vi.publicKey)().serialize(e.mint),(0,vi.string)({size:"variable"}).serialize("token_record"),(0,vi.publicKey)().serialize(e.token)])}si.findTokenRecordPda=WQ;async function jvt(n,e,t){return yRe(n,WQ(n,e),t)}si.fetchTokenRecordFromSeeds=jvt;async function Hvt(n,e,t){return pRe(n,WQ(n,e),t)}si.safeFetchTokenRecordFromSeeds=Hvt;var ii={};Object.defineProperty(ii,"__esModule",{value:!0});ii.safeFetchUseAuthorityRecordFromSeeds=ii.fetchUseAuthorityRecordFromSeeds=ii.findUseAuthorityRecordPda=ii.getUseAuthorityRecordSize=ii.getUseAuthorityRecordGpaBuilder=ii.safeFetchAllUseAuthorityRecord=ii.fetchAllUseAuthorityRecord=ii.safeFetchUseAuthorityRecord=ii.fetchUseAuthorityRecord=ii.deserializeUseAuthorityRecord=ii.getUseAuthorityRecordAccountDataSerializer=void 0;const fb=Z,td=q,FO=ut;function bRe(){return(0,td.mapSerializer)((0,td.struct)([["key",(0,FO.getKeySerializer)()],["allowedUses",(0,td.u64)()],["bump",(0,td.u8)()]],{description:"UseAuthorityRecordAccountData"}),n=>({...n,key:FO.Key.UseAuthorityRecord}))}ii.getUseAuthorityRecordAccountDataSerializer=bRe;function WT(n){return(0,fb.deserializeAccount)(n,bRe())}ii.deserializeUseAuthorityRecord=WT;async function SRe(n,e,t){const r=await n.rpc.getAccount((0,fb.publicKey)(e,!1),t);return(0,fb.assertAccountExists)(r,"UseAuthorityRecord"),WT(r)}ii.fetchUseAuthorityRecord=SRe;async function kRe(n,e,t){const r=await n.rpc.getAccount((0,fb.publicKey)(e,!1),t);return r.exists?WT(r):null}ii.safeFetchUseAuthorityRecord=kRe;async function Gvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,fb.publicKey)(s,!1)),t)).map(s=>((0,fb.assertAccountExists)(s,"UseAuthorityRecord"),WT(s)))}ii.fetchAllUseAuthorityRecord=Gvt;async function Yvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,fb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>WT(s))}ii.safeFetchAllUseAuthorityRecord=Yvt;function Zvt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,fb.gpaBuilder)(n,e).registerFields({key:[0,(0,FO.getKeySerializer)()],allowedUses:[1,(0,td.u64)()],bump:[9,(0,td.u8)()]}).deserializeUsing(t=>WT(t)).whereField("key",FO.Key.UseAuthorityRecord)}ii.getUseAuthorityRecordGpaBuilder=Zvt;function Jvt(){return 10}ii.getUseAuthorityRecordSize=Jvt;function NQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,td.string)({size:"variable"}).serialize("metadata"),(0,td.publicKey)().serialize(t),(0,td.publicKey)().serialize(e.mint),(0,td.string)({size:"variable"}).serialize("user"),(0,td.publicKey)().serialize(e.useAuthority)])}ii.findUseAuthorityRecordPda=NQ;async function Xvt(n,e,t){return SRe(n,NQ(n,e),t)}ii.fetchUseAuthorityRecordFromSeeds=Xvt;async function Qvt(n,e,t){return kRe(n,NQ(n,e),t)}ii.safeFetchUseAuthorityRecordFromSeeds=Qvt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(yo,n),t(po,n),t(xa,n),t(ti,n),t(bo,n),t(ri,n),t(vo,n),t(Ao,n),t(ni,n),t(vc,n),t(si,n),t(ii,n)})(Ut);var FQ={},G={};Object.defineProperty(G,"__esModule",{value:!0});G.ReservationAlreadyMadeError=G.ReservationNotSetError=G.ReservationDoesNotExistError=G.ReservationExistsError=G.ShareTotalMustBe100Error=G.NoBalanceInAccountForAuthorizationError=G.OwnerMismatchError=G.PrimarySaleCanOnlyBeFlippedToTrueError=G.InvalidBasisPointsError=G.CreatorNotFoundError=G.NoCreatorsPresentOnMetadataError=G.MustBeOneOfCreatorsError=G.CreatorsMustBeAtleastOneError=G.CreatorsTooLongError=G.DisabledError=G.AuthorizationTokenAccountOwnerMismatchError=G.PrintingMintAuthorizationAccountMismatchError=G.NotEnoughTokensError=G.TokenAccountMintMismatchV2Error=G.TokenAccountMintMismatchError=G.OneTimePrintingAuthMintMismatchError=G.PrintingMintMismatchError=G.DerivedKeyInvalidError=G.TokenAccountOneTimeAuthMintMismatchError=G.TokenBurnFailedError=G.EditionMintDecimalsShouldBeZeroError=G.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=G.PrintingMintDecimalsShouldBeZeroError=G.EditionAlreadyMintedError=G.DestinationMintMismatchError=G.MasterRecordMismatchError=G.TokenMintToFailedError=G.MaxEditionsMintedAlreadyError=G.EditionsMustHaveExactlyOneTokenError=G.MintMismatchError=G.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=G.UriTooLongError=G.SymbolTooLongError=G.NameTooLongError=G.InvalidMintAuthorityError=G.NotMintAuthorityError=G.UpdateAuthorityIsNotSignerError=G.UpdateAuthorityIncorrectError=G.InvalidEditionKeyError=G.InvalidMetadataKeyError=G.UninitializedError=G.AlreadyInitializedError=G.NotRentExemptError=G.InstructionPackErrorError=G.InstructionUnpackErrorError=void 0;G.RevokeCollectionAuthoritySignerIncorrectError=G.InvalidUserError=G.EditionOverrideCannotBeZeroError=G.NotAllowedToChangeSellerFeeBasisPointsError=G.CannotWipeVerifiedCreatorsError=G.CannotRemoveVerifiedCreatorError=G.CannotAdjustVerifiedCreatorError=G.InvalidDelegateError=G.InvalidFreezeAuthorityError=G.InvalidCollectionAuthorityRecordError=G.InvalidUseAuthorityRecordError=G.CollectionAuthorityDoesNotExistError=G.CollectionAuthorityRecordAlreadyExistsError=G.NotEnoughUsesError=G.UnusableError=G.UseAuthorityRecordAlreadyRevokedError=G.UseAuthorityRecordAlreadyExistsError=G.CollectionMustBeAUniqueMasterEditionError=G.InvalidCollectionUpdateAuthorityError=G.CollectionNotFoundError=G.CannotChangeUsesAfterFirstUseError=G.CannotChangeUseMethodAfterFirstUseError=G.InvalidUseMethodError=G.MustBeBurnedError=G.RemovedError=G.CollectionCannotBeVerifiedInThisInstructionError=G.IsMutableCanOnlyBeFlippedToFalseError=G.ReservationArrayShouldBeSizeOneError=G.InvalidEditionIndexError=G.OneTimeAuthMintSupplyMustBeZeroForConversionError=G.PrintingMintSupplyMustBeZeroForConversionError=G.InvalidOwnerError=G.InvalidOperationError=G.TriedToReplaceAnExistingReservationError=G.ReservationNotCompleteError=G.BeyondAlottedAddressSizeError=G.DataTypeMismatchError=G.InvalidTokenProgramError=G.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=G.DuplicateCreatorAddressError=G.DataIsImmutableError=G.PrintingWouldBreachMaximumSupplyError=G.IncorrectOwnerError=G.SpotMismatchError=G.CannotUnverifyAnotherCreatorError=G.CannotVerifyAnotherCreatorError=G.AddressNotInReservationError=G.ReservationBreachesMaximumSupplyError=G.NumericalOverflowErrorError=G.BeyondMaxAddressSizeError=void 0;G.MissingSplTokenProgramError=G.MissingTokenAccountError=G.OnlySaleDelegateCanTransferError=G.InvalidSystemWalletError=G.FeatureNotSupportedError=G.MissingArgumentInBuilderError=G.MissingAccountInBuilderError=G.DelegateNotFoundError=G.DelegateAlreadyExistsError=G.InvalidProgrammableConfigError=G.MissingProgrammableConfigError=G.MissingAuthorizationRulesError=G.InvalidAuthorizationRulesError=G.InvalidMintForTokenStandardError=G.InvalidTokenStandardError=G.MintIsNotSignerError=G.EscrowParentHasDelegateError=G.InvalidBubblegumSignerError=G.InvalidCollectionSizeChangeError=G.NoFreezeAuthoritySetError=G.BorshSerializationErrorError=G.InsufficientTokensError=G.MustBeNonFungibleError=G.InvalidSystemProgramError=G.MustBeEscrowAuthorityError=G.InvalidEscrowBumpSeedError=G.MustUnverifyError=G.EditionNumberGreaterThanMaxSupplyError=G.PrintEditionDoesNotMatchMasterEditionError=G.ReservationListDeprecatedError=G.InvalidEditionMarkerError=G.InvalidPrintEditionError=G.InvalidMasterEditionError=G.NotAPrintEditionError=G.AlreadyUnverifiedError=G.AlreadyVerifiedError=G.CollectionMasterEditionAccountInvalidError=G.CannotUpdateVerifiedCollectionError=G.BorshDeserializationErrorError=G.MasterEditionHasPrintsError=G.NotAMasterEditionError=G.MissingEditionAccountError=G.CouldNotDetermineTokenStandardError=G.NotACollectionParentError=G.NotVerifiedMemberOfCollectionError=G.NotAMemberOfCollectionError=G.MissingCollectionMetadataError=G.SizedCollectionError=G.UnsizedCollectionError=G.TokenCloseFailedError=void 0;G.getMplTokenMetadataErrorFromCode=G.MissingImmutableOwnerExtensionError=G.InvalidTokenExtensionTypeError=G.InvalidMetadataPointerError=G.InvalidMintCloseAuthorityError=G.InvalidMintExtensionTypeError=G.CannotChangeUpdateAuthorityWithDelegateError=G.InvalidMetadataFlagsError=G.InvalidFeeAccountError=G.MissingDelegateRecordError=G.InvalidInstructionError=G.InvalidCloseAuthorityError=G.InvalidTokenRecordError=G.MissingCollectionMasterEditionError=G.MissingCollectionMintError=G.InsufficientTokenBalanceError=G.InvalidUpdateArgsError=G.InvalidParentAccountsError=G.InvalidInstructionsSysvarError=G.InvalidAssociatedTokenAccountProgramError=G.MissingEditionError=G.CannotBurnWithDelegateError=G.MissingEditionMarkerAccountError=G.MissingMasterEditionTokenAccountError=G.MissingMasterEditionMintAccountError=G.InvalidAmountError=G.CannotUpdateAssetWithDelegateError=G.DataIncrementLimitExceededError=G.InvalidLockedTransferAddressError=G.MissingLockedTransferAddressError=G.InvalidDelegateArgsError=G.AmountMustBeGreaterThanZeroError=G.MissingMasterEditionAccountError=G.MissingPrintSupplyError=G.InvalidDelegateRoleError=G.IncorrectTokenStateError=G.InvalidMasterEditionAccountLengthError=G.MissingTokenOwnerAccountError=G.DataIsEmptyOrZeroedError=G.MintSupplyMustBeZeroError=G.MissingTokenRecordError=G.InvalidAuthorityTypeError=G.MissingDelegateRoleError=G.UnlockedTokenError=G.LockedTokenError=G.KeyMismatchError=G.InstructionNotSupportedError=G.InvalidTransferAuthorityError=G.InvalidDelegateRoleForTransferError=G.MissingAuthorizationRulesProgramError=void 0;G.getMplTokenMetadataErrorFromName=void 0;const de=Z,ue=new Map,le=new Map;class UQ extends de.ProgramError{constructor(e,t){super("",e,t),this.name="InstructionUnpackError",this.code=0}}G.InstructionUnpackErrorError=UQ;ue.set(0,UQ);le.set("InstructionUnpackError",UQ);class VQ extends de.ProgramError{constructor(e,t){super("",e,t),this.name="InstructionPackError",this.code=1}}G.InstructionPackErrorError=VQ;ue.set(1,VQ);le.set("InstructionPackError",VQ);class qQ extends de.ProgramError{constructor(e,t){super("Lamport balance below rent-exempt threshold",e,t),this.name="NotRentExempt",this.code=2}}G.NotRentExemptError=qQ;ue.set(2,qQ);le.set("NotRentExempt",qQ);class jQ extends de.ProgramError{constructor(e,t){super("Already initialized",e,t),this.name="AlreadyInitialized",this.code=3}}G.AlreadyInitializedError=jQ;ue.set(3,jQ);le.set("AlreadyInitialized",jQ);class HQ extends de.ProgramError{constructor(e,t){super("Uninitialized",e,t),this.name="Uninitialized",this.code=4}}G.UninitializedError=HQ;ue.set(4,HQ);le.set("Uninitialized",HQ);class GQ extends de.ProgramError{constructor(e,t){super(" Metadata's key must match seed of ['metadata', program id, mint] provided",e,t),this.name="InvalidMetadataKey",this.code=5}}G.InvalidMetadataKeyError=GQ;ue.set(5,GQ);le.set("InvalidMetadataKey",GQ);class YQ extends de.ProgramError{constructor(e,t){super("Edition's key must match seed of ['metadata', program id, name, 'edition'] provided",e,t),this.name="InvalidEditionKey",this.code=6}}G.InvalidEditionKeyError=YQ;ue.set(6,YQ);le.set("InvalidEditionKey",YQ);class ZQ extends de.ProgramError{constructor(e,t){super("Update Authority given does not match",e,t),this.name="UpdateAuthorityIncorrect",this.code=7}}G.UpdateAuthorityIncorrectError=ZQ;ue.set(7,ZQ);le.set("UpdateAuthorityIncorrect",ZQ);class JQ extends de.ProgramError{constructor(e,t){super("Update Authority needs to be signer to update metadata",e,t),this.name="UpdateAuthorityIsNotSigner",this.code=8}}G.UpdateAuthorityIsNotSignerError=JQ;ue.set(8,JQ);le.set("UpdateAuthorityIsNotSigner",JQ);class XQ extends de.ProgramError{constructor(e,t){super("You must be the mint authority and signer on this transaction",e,t),this.name="NotMintAuthority",this.code=9}}G.NotMintAuthorityError=XQ;ue.set(9,XQ);le.set("NotMintAuthority",XQ);class QQ extends de.ProgramError{constructor(e,t){super("Mint authority provided does not match the authority on the mint",e,t),this.name="InvalidMintAuthority",this.code=10}}G.InvalidMintAuthorityError=QQ;ue.set(10,QQ);le.set("InvalidMintAuthority",QQ);class eee extends de.ProgramError{constructor(e,t){super("Name too long",e,t),this.name="NameTooLong",this.code=11}}G.NameTooLongError=eee;ue.set(11,eee);le.set("NameTooLong",eee);class tee extends de.ProgramError{constructor(e,t){super("Symbol too long",e,t),this.name="SymbolTooLong",this.code=12}}G.SymbolTooLongError=tee;ue.set(12,tee);le.set("SymbolTooLong",tee);class ree extends de.ProgramError{constructor(e,t){super("URI too long",e,t),this.name="UriTooLong",this.code=13}}G.UriTooLongError=ree;ue.set(13,ree);le.set("UriTooLong",ree);class nee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",this.code=14}}G.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=nee;ue.set(14,nee);le.set("UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",nee);class see extends de.ProgramError{constructor(e,t){super("Mint given does not match mint on Metadata",e,t),this.name="MintMismatch",this.code=15}}G.MintMismatchError=see;ue.set(15,see);le.set("MintMismatch",see);class iee extends de.ProgramError{constructor(e,t){super("Editions must have exactly one token",e,t),this.name="EditionsMustHaveExactlyOneToken",this.code=16}}G.EditionsMustHaveExactlyOneTokenError=iee;ue.set(16,iee);le.set("EditionsMustHaveExactlyOneToken",iee);class oee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="MaxEditionsMintedAlready",this.code=17}}G.MaxEditionsMintedAlreadyError=oee;ue.set(17,oee);le.set("MaxEditionsMintedAlready",oee);class aee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="TokenMintToFailed",this.code=18}}G.TokenMintToFailedError=aee;ue.set(18,aee);le.set("TokenMintToFailed",aee);class cee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="MasterRecordMismatch",this.code=19}}G.MasterRecordMismatchError=cee;ue.set(19,cee);le.set("MasterRecordMismatch",cee);class uee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="DestinationMintMismatch",this.code=20}}G.DestinationMintMismatchError=uee;ue.set(20,uee);le.set("DestinationMintMismatch",uee);class lee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="EditionAlreadyMinted",this.code=21}}G.EditionAlreadyMintedError=lee;ue.set(21,lee);le.set("EditionAlreadyMinted",lee);class dee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingMintDecimalsShouldBeZero",this.code=22}}G.PrintingMintDecimalsShouldBeZeroError=dee;ue.set(22,dee);le.set("PrintingMintDecimalsShouldBeZero",dee);class fee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="OneTimePrintingAuthorizationMintDecimalsShouldBeZero",this.code=23}}G.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=fee;ue.set(23,fee);le.set("OneTimePrintingAuthorizationMintDecimalsShouldBeZero",fee);class hee extends de.ProgramError{constructor(e,t){super("EditionMintDecimalsShouldBeZero",e,t),this.name="EditionMintDecimalsShouldBeZero",this.code=24}}G.EditionMintDecimalsShouldBeZeroError=hee;ue.set(24,hee);le.set("EditionMintDecimalsShouldBeZero",hee);class gee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="TokenBurnFailed",this.code=25}}G.TokenBurnFailedError=gee;ue.set(25,gee);le.set("TokenBurnFailed",gee);class mee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="TokenAccountOneTimeAuthMintMismatch",this.code=26}}G.TokenAccountOneTimeAuthMintMismatchError=mee;ue.set(26,mee);le.set("TokenAccountOneTimeAuthMintMismatch",mee);class yee extends de.ProgramError{constructor(e,t){super("Derived key invalid",e,t),this.name="DerivedKeyInvalid",this.code=27}}G.DerivedKeyInvalidError=yee;ue.set(27,yee);le.set("DerivedKeyInvalid",yee);class pee extends de.ProgramError{constructor(e,t){super("The Printing mint does not match that on the master edition!",e,t),this.name="PrintingMintMismatch",this.code=28}}G.PrintingMintMismatchError=pee;ue.set(28,pee);le.set("PrintingMintMismatch",pee);class bee extends de.ProgramError{constructor(e,t){super("The One Time Printing Auth mint does not match that on the master edition!",e,t),this.name="OneTimePrintingAuthMintMismatch",this.code=29}}G.OneTimePrintingAuthMintMismatchError=bee;ue.set(29,bee);le.set("OneTimePrintingAuthMintMismatch",bee);class See extends de.ProgramError{constructor(e,t){super("The mint of the token account does not match the Printing mint!",e,t),this.name="TokenAccountMintMismatch",this.code=30}}G.TokenAccountMintMismatchError=See;ue.set(30,See);le.set("TokenAccountMintMismatch",See);class kee extends de.ProgramError{constructor(e,t){super("The mint of the token account does not match the master metadata mint!",e,t),this.name="TokenAccountMintMismatchV2",this.code=31}}G.TokenAccountMintMismatchV2Error=kee;ue.set(31,kee);le.set("TokenAccountMintMismatchV2",kee);class vee extends de.ProgramError{constructor(e,t){super("Not enough tokens to mint a limited edition",e,t),this.name="NotEnoughTokens",this.code=32}}G.NotEnoughTokensError=vee;ue.set(32,vee);le.set("NotEnoughTokens",vee);class Aee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingMintAuthorizationAccountMismatch",this.code=33}}G.PrintingMintAuthorizationAccountMismatchError=Aee;ue.set(33,Aee);le.set("PrintingMintAuthorizationAccountMismatch",Aee);class wee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="AuthorizationTokenAccountOwnerMismatch",this.code=34}}G.AuthorizationTokenAccountOwnerMismatchError=wee;ue.set(34,wee);le.set("AuthorizationTokenAccountOwnerMismatch",wee);class Iee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="Disabled",this.code=35}}G.DisabledError=Iee;ue.set(35,Iee);le.set("Disabled",Iee);class Pee extends de.ProgramError{constructor(e,t){super("Creators list too long",e,t),this.name="CreatorsTooLong",this.code=36}}G.CreatorsTooLongError=Pee;ue.set(36,Pee);le.set("CreatorsTooLong",Pee);class _ee extends de.ProgramError{constructor(e,t){super("Creators must be at least one if set",e,t),this.name="CreatorsMustBeAtleastOne",this.code=37}}G.CreatorsMustBeAtleastOneError=_ee;ue.set(37,_ee);le.set("CreatorsMustBeAtleastOne",_ee);class Eee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="MustBeOneOfCreators",this.code=38}}G.MustBeOneOfCreatorsError=Eee;ue.set(38,Eee);le.set("MustBeOneOfCreators",Eee);class xee extends de.ProgramError{constructor(e,t){super("This metadata does not have creators",e,t),this.name="NoCreatorsPresentOnMetadata",this.code=39}}G.NoCreatorsPresentOnMetadataError=xee;ue.set(39,xee);le.set("NoCreatorsPresentOnMetadata",xee);class Tee extends de.ProgramError{constructor(e,t){super("This creator address was not found",e,t),this.name="CreatorNotFound",this.code=40}}G.CreatorNotFoundError=Tee;ue.set(40,Tee);le.set("CreatorNotFound",Tee);class Ree extends de.ProgramError{constructor(e,t){super("Basis points cannot be more than 10000",e,t),this.name="InvalidBasisPoints",this.code=41}}G.InvalidBasisPointsError=Ree;ue.set(41,Ree);le.set("InvalidBasisPoints",Ree);class Cee extends de.ProgramError{constructor(e,t){super("Primary sale can only be flipped to true and is immutable",e,t),this.name="PrimarySaleCanOnlyBeFlippedToTrue",this.code=42}}G.PrimarySaleCanOnlyBeFlippedToTrueError=Cee;ue.set(42,Cee);le.set("PrimarySaleCanOnlyBeFlippedToTrue",Cee);class Mee extends de.ProgramError{constructor(e,t){super("Owner does not match that on the account given",e,t),this.name="OwnerMismatch",this.code=43}}G.OwnerMismatchError=Mee;ue.set(43,Mee);le.set("OwnerMismatch",Mee);class Bee extends de.ProgramError{constructor(e,t){super("This account has no tokens to be used for authorization",e,t),this.name="NoBalanceInAccountForAuthorization",this.code=44}}G.NoBalanceInAccountForAuthorizationError=Bee;ue.set(44,Bee);le.set("NoBalanceInAccountForAuthorization",Bee);class zee extends de.ProgramError{constructor(e,t){super("Share total must equal 100 for creator array",e,t),this.name="ShareTotalMustBe100",this.code=45}}G.ShareTotalMustBe100Error=zee;ue.set(45,zee);le.set("ShareTotalMustBe100",zee);class $ee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationExists",this.code=46}}G.ReservationExistsError=$ee;ue.set(46,$ee);le.set("ReservationExists",$ee);class Dee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationDoesNotExist",this.code=47}}G.ReservationDoesNotExistError=Dee;ue.set(47,Dee);le.set("ReservationDoesNotExist",Dee);class Oee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationNotSet",this.code=48}}G.ReservationNotSetError=Oee;ue.set(48,Oee);le.set("ReservationNotSet",Oee);class Kee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationAlreadyMade",this.code=49}}G.ReservationAlreadyMadeError=Kee;ue.set(49,Kee);le.set("ReservationAlreadyMade",Kee);class Lee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="BeyondMaxAddressSize",this.code=50}}G.BeyondMaxAddressSizeError=Lee;ue.set(50,Lee);le.set("BeyondMaxAddressSize",Lee);class Wee extends de.ProgramError{constructor(e,t){super("NumericalOverflowError",e,t),this.name="NumericalOverflowError",this.code=51}}G.NumericalOverflowErrorError=Wee;ue.set(51,Wee);le.set("NumericalOverflowError",Wee);class Nee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationBreachesMaximumSupply",this.code=52}}G.ReservationBreachesMaximumSupplyError=Nee;ue.set(52,Nee);le.set("ReservationBreachesMaximumSupply",Nee);class Fee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="AddressNotInReservation",this.code=53}}G.AddressNotInReservationError=Fee;ue.set(53,Fee);le.set("AddressNotInReservation",Fee);class Uee extends de.ProgramError{constructor(e,t){super("You cannot unilaterally verify another creator, they must sign",e,t),this.name="CannotVerifyAnotherCreator",this.code=54}}G.CannotVerifyAnotherCreatorError=Uee;ue.set(54,Uee);le.set("CannotVerifyAnotherCreator",Uee);class Vee extends de.ProgramError{constructor(e,t){super("You cannot unilaterally unverify another creator",e,t),this.name="CannotUnverifyAnotherCreator",this.code=55}}G.CannotUnverifyAnotherCreatorError=Vee;ue.set(55,Vee);le.set("CannotUnverifyAnotherCreator",Vee);class qee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="SpotMismatch",this.code=56}}G.SpotMismatchError=qee;ue.set(56,qee);le.set("SpotMismatch",qee);class jee extends de.ProgramError{constructor(e,t){super("Incorrect account owner",e,t),this.name="IncorrectOwner",this.code=57}}G.IncorrectOwnerError=jee;ue.set(57,jee);le.set("IncorrectOwner",jee);class Hee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingWouldBreachMaximumSupply",this.code=58}}G.PrintingWouldBreachMaximumSupplyError=Hee;ue.set(58,Hee);le.set("PrintingWouldBreachMaximumSupply",Hee);class Gee extends de.ProgramError{constructor(e,t){super("Data is immutable",e,t),this.name="DataIsImmutable",this.code=59}}G.DataIsImmutableError=Gee;ue.set(59,Gee);le.set("DataIsImmutable",Gee);class Yee extends de.ProgramError{constructor(e,t){super("No duplicate creator addresses",e,t),this.name="DuplicateCreatorAddress",this.code=60}}G.DuplicateCreatorAddressError=Yee;ue.set(60,Yee);le.set("DuplicateCreatorAddress",Yee);class Zee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",this.code=61}}G.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=Zee;ue.set(61,Zee);le.set("ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",Zee);class Jee extends de.ProgramError{constructor(e,t){super("Invalid token program",e,t),this.name="InvalidTokenProgram",this.code=62}}G.InvalidTokenProgramError=Jee;ue.set(62,Jee);le.set("InvalidTokenProgram",Jee);class Xee extends de.ProgramError{constructor(e,t){super("Data type mismatch",e,t),this.name="DataTypeMismatch",this.code=63}}G.DataTypeMismatchError=Xee;ue.set(63,Xee);le.set("DataTypeMismatch",Xee);class Qee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="BeyondAlottedAddressSize",this.code=64}}G.BeyondAlottedAddressSizeError=Qee;ue.set(64,Qee);le.set("BeyondAlottedAddressSize",Qee);class ete extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationNotComplete",this.code=65}}G.ReservationNotCompleteError=ete;ue.set(65,ete);le.set("ReservationNotComplete",ete);class tte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="TriedToReplaceAnExistingReservation",this.code=66}}G.TriedToReplaceAnExistingReservationError=tte;ue.set(66,tte);le.set("TriedToReplaceAnExistingReservation",tte);class rte extends de.ProgramError{constructor(e,t){super("Invalid operation",e,t),this.name="InvalidOperation",this.code=67}}G.InvalidOperationError=rte;ue.set(67,rte);le.set("InvalidOperation",rte);class nte extends de.ProgramError{constructor(e,t){super("Invalid Owner",e,t),this.name="InvalidOwner",this.code=68}}G.InvalidOwnerError=nte;ue.set(68,nte);le.set("InvalidOwner",nte);class ste extends de.ProgramError{constructor(e,t){super("Printing mint supply must be zero for conversion",e,t),this.name="PrintingMintSupplyMustBeZeroForConversion",this.code=69}}G.PrintingMintSupplyMustBeZeroForConversionError=ste;ue.set(69,ste);le.set("PrintingMintSupplyMustBeZeroForConversion",ste);class ite extends de.ProgramError{constructor(e,t){super("One Time Auth mint supply must be zero for conversion",e,t),this.name="OneTimeAuthMintSupplyMustBeZeroForConversion",this.code=70}}G.OneTimeAuthMintSupplyMustBeZeroForConversionError=ite;ue.set(70,ite);le.set("OneTimeAuthMintSupplyMustBeZeroForConversion",ite);class ote extends de.ProgramError{constructor(e,t){super("You tried to insert one edition too many into an edition mark pda",e,t),this.name="InvalidEditionIndex",this.code=71}}G.InvalidEditionIndexError=ote;ue.set(71,ote);le.set("InvalidEditionIndex",ote);class ate extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationArrayShouldBeSizeOne",this.code=72}}G.ReservationArrayShouldBeSizeOneError=ate;ue.set(72,ate);le.set("ReservationArrayShouldBeSizeOne",ate);class cte extends de.ProgramError{constructor(e,t){super("Is Mutable can only be flipped to false",e,t),this.name="IsMutableCanOnlyBeFlippedToFalse",this.code=73}}G.IsMutableCanOnlyBeFlippedToFalseError=cte;ue.set(73,cte);le.set("IsMutableCanOnlyBeFlippedToFalse",cte);class ute extends de.ProgramError{constructor(e,t){super("Collection cannot be verified in this instruction",e,t),this.name="CollectionCannotBeVerifiedInThisInstruction",this.code=74}}G.CollectionCannotBeVerifiedInThisInstructionError=ute;ue.set(74,ute);le.set("CollectionCannotBeVerifiedInThisInstruction",ute);class lte extends de.ProgramError{constructor(e,t){super("This instruction was deprecated in a previous release and is now removed",e,t),this.name="Removed",this.code=75}}G.RemovedError=lte;ue.set(75,lte);le.set("Removed",lte);class dte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="MustBeBurned",this.code=76}}G.MustBeBurnedError=dte;ue.set(76,dte);le.set("MustBeBurned",dte);class fte extends de.ProgramError{constructor(e,t){super("This use method is invalid",e,t),this.name="InvalidUseMethod",this.code=77}}G.InvalidUseMethodError=fte;ue.set(77,fte);le.set("InvalidUseMethod",fte);class hte extends de.ProgramError{constructor(e,t){super("Cannot Change Use Method after the first use",e,t),this.name="CannotChangeUseMethodAfterFirstUse",this.code=78}}G.CannotChangeUseMethodAfterFirstUseError=hte;ue.set(78,hte);le.set("CannotChangeUseMethodAfterFirstUse",hte);class gte extends de.ProgramError{constructor(e,t){super("Cannot Change Remaining or Available uses after the first use",e,t),this.name="CannotChangeUsesAfterFirstUse",this.code=79}}G.CannotChangeUsesAfterFirstUseError=gte;ue.set(79,gte);le.set("CannotChangeUsesAfterFirstUse",gte);class mte extends de.ProgramError{constructor(e,t){super("Collection Not Found on Metadata",e,t),this.name="CollectionNotFound",this.code=80}}G.CollectionNotFoundError=mte;ue.set(80,mte);le.set("CollectionNotFound",mte);class yte extends de.ProgramError{constructor(e,t){super("Collection Update Authority is invalid",e,t),this.name="InvalidCollectionUpdateAuthority",this.code=81}}G.InvalidCollectionUpdateAuthorityError=yte;ue.set(81,yte);le.set("InvalidCollectionUpdateAuthority",yte);class pte extends de.ProgramError{constructor(e,t){super("Collection Must Be a Unique Master Edition v2",e,t),this.name="CollectionMustBeAUniqueMasterEdition",this.code=82}}G.CollectionMustBeAUniqueMasterEditionError=pte;ue.set(82,pte);le.set("CollectionMustBeAUniqueMasterEdition",pte);class bte extends de.ProgramError{constructor(e,t){super("The Use Authority Record Already Exists, to modify it Revoke, then Approve",e,t),this.name="UseAuthorityRecordAlreadyExists",this.code=83}}G.UseAuthorityRecordAlreadyExistsError=bte;ue.set(83,bte);le.set("UseAuthorityRecordAlreadyExists",bte);class Ste extends de.ProgramError{constructor(e,t){super("The Use Authority Record is empty or already revoked",e,t),this.name="UseAuthorityRecordAlreadyRevoked",this.code=84}}G.UseAuthorityRecordAlreadyRevokedError=Ste;ue.set(84,Ste);le.set("UseAuthorityRecordAlreadyRevoked",Ste);class kte extends de.ProgramError{constructor(e,t){super("This token has no uses",e,t),this.name="Unusable",this.code=85}}G.UnusableError=kte;ue.set(85,kte);le.set("Unusable",kte);class vte extends de.ProgramError{constructor(e,t){super("There are not enough Uses left on this token.",e,t),this.name="NotEnoughUses",this.code=86}}G.NotEnoughUsesError=vte;ue.set(86,vte);le.set("NotEnoughUses",vte);class Ate extends de.ProgramError{constructor(e,t){super("This Collection Authority Record Already Exists.",e,t),this.name="CollectionAuthorityRecordAlreadyExists",this.code=87}}G.CollectionAuthorityRecordAlreadyExistsError=Ate;ue.set(87,Ate);le.set("CollectionAuthorityRecordAlreadyExists",Ate);class wte extends de.ProgramError{constructor(e,t){super("This Collection Authority Record Does Not Exist.",e,t),this.name="CollectionAuthorityDoesNotExist",this.code=88}}G.CollectionAuthorityDoesNotExistError=wte;ue.set(88,wte);le.set("CollectionAuthorityDoesNotExist",wte);class Ite extends de.ProgramError{constructor(e,t){super("This Use Authority Record is invalid.",e,t),this.name="InvalidUseAuthorityRecord",this.code=89}}G.InvalidUseAuthorityRecordError=Ite;ue.set(89,Ite);le.set("InvalidUseAuthorityRecord",Ite);class Pte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidCollectionAuthorityRecord",this.code=90}}G.InvalidCollectionAuthorityRecordError=Pte;ue.set(90,Pte);le.set("InvalidCollectionAuthorityRecord",Pte);class _te extends de.ProgramError{constructor(e,t){super("Metadata does not match the freeze authority on the mint",e,t),this.name="InvalidFreezeAuthority",this.code=91}}G.InvalidFreezeAuthorityError=_te;ue.set(91,_te);le.set("InvalidFreezeAuthority",_te);class Ete extends de.ProgramError{constructor(e,t){super("All tokens in this account have not been delegated to this user.",e,t),this.name="InvalidDelegate",this.code=92}}G.InvalidDelegateError=Ete;ue.set(92,Ete);le.set("InvalidDelegate",Ete);class xte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="CannotAdjustVerifiedCreator",this.code=93}}G.CannotAdjustVerifiedCreatorError=xte;ue.set(93,xte);le.set("CannotAdjustVerifiedCreator",xte);class Tte extends de.ProgramError{constructor(e,t){super("Verified creators cannot be removed.",e,t),this.name="CannotRemoveVerifiedCreator",this.code=94}}G.CannotRemoveVerifiedCreatorError=Tte;ue.set(94,Tte);le.set("CannotRemoveVerifiedCreator",Tte);class Rte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="CannotWipeVerifiedCreators",this.code=95}}G.CannotWipeVerifiedCreatorsError=Rte;ue.set(95,Rte);le.set("CannotWipeVerifiedCreators",Rte);class Cte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="NotAllowedToChangeSellerFeeBasisPoints",this.code=96}}G.NotAllowedToChangeSellerFeeBasisPointsError=Cte;ue.set(96,Cte);le.set("NotAllowedToChangeSellerFeeBasisPoints",Cte);class Mte extends de.ProgramError{constructor(e,t){super("Edition override cannot be zero",e,t),this.name="EditionOverrideCannotBeZero",this.code=97}}G.EditionOverrideCannotBeZeroError=Mte;ue.set(97,Mte);le.set("EditionOverrideCannotBeZero",Mte);class Bte extends de.ProgramError{constructor(e,t){super("Invalid User",e,t),this.name="InvalidUser",this.code=98}}G.InvalidUserError=Bte;ue.set(98,Bte);le.set("InvalidUser",Bte);class zte extends de.ProgramError{constructor(e,t){super("Revoke Collection Authority signer is incorrect",e,t),this.name="RevokeCollectionAuthoritySignerIncorrect",this.code=99}}G.RevokeCollectionAuthoritySignerIncorrectError=zte;ue.set(99,zte);le.set("RevokeCollectionAuthoritySignerIncorrect",zte);class $te extends de.ProgramError{constructor(e,t){super("",e,t),this.name="TokenCloseFailed",this.code=100}}G.TokenCloseFailedError=$te;ue.set(100,$te);le.set("TokenCloseFailed",$te);class Dte extends de.ProgramError{constructor(e,t){super("Can't use this function on unsized collection",e,t),this.name="UnsizedCollection",this.code=101}}G.UnsizedCollectionError=Dte;ue.set(101,Dte);le.set("UnsizedCollection",Dte);class Ote extends de.ProgramError{constructor(e,t){super("Can't use this function on a sized collection",e,t),this.name="SizedCollection",this.code=102}}G.SizedCollectionError=Ote;ue.set(102,Ote);le.set("SizedCollection",Ote);class Kte extends de.ProgramError{constructor(e,t){super("Missing collection metadata account",e,t),this.name="MissingCollectionMetadata",this.code=103}}G.MissingCollectionMetadataError=Kte;ue.set(103,Kte);le.set("MissingCollectionMetadata",Kte);class Lte extends de.ProgramError{constructor(e,t){super("This NFT is not a member of the specified collection.",e,t),this.name="NotAMemberOfCollection",this.code=104}}G.NotAMemberOfCollectionError=Lte;ue.set(104,Lte);le.set("NotAMemberOfCollection",Lte);class Wte extends de.ProgramError{constructor(e,t){super("This NFT is not a verified member of the specified collection.",e,t),this.name="NotVerifiedMemberOfCollection",this.code=105}}G.NotVerifiedMemberOfCollectionError=Wte;ue.set(105,Wte);le.set("NotVerifiedMemberOfCollection",Wte);class Nte extends de.ProgramError{constructor(e,t){super("This NFT is not a collection parent NFT.",e,t),this.name="NotACollectionParent",this.code=106}}G.NotACollectionParentError=Nte;ue.set(106,Nte);le.set("NotACollectionParent",Nte);class Fte extends de.ProgramError{constructor(e,t){super("Could not determine a TokenStandard type.",e,t),this.name="CouldNotDetermineTokenStandard",this.code=107}}G.CouldNotDetermineTokenStandardError=Fte;ue.set(107,Fte);le.set("CouldNotDetermineTokenStandard",Fte);class Ute extends de.ProgramError{constructor(e,t){super("This mint account has an edition but none was provided.",e,t),this.name="MissingEditionAccount",this.code=108}}G.MissingEditionAccountError=Ute;ue.set(108,Ute);le.set("MissingEditionAccount",Ute);class Vte extends de.ProgramError{constructor(e,t){super("This edition is not a Master Edition",e,t),this.name="NotAMasterEdition",this.code=109}}G.NotAMasterEditionError=Vte;ue.set(109,Vte);le.set("NotAMasterEdition",Vte);class qte extends de.ProgramError{constructor(e,t){super("This Master Edition has existing prints",e,t),this.name="MasterEditionHasPrints",this.code=110}}G.MasterEditionHasPrintsError=qte;ue.set(110,qte);le.set("MasterEditionHasPrints",qte);class jte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="BorshDeserializationError",this.code=111}}G.BorshDeserializationErrorError=jte;ue.set(111,jte);le.set("BorshDeserializationError",jte);class Hte extends de.ProgramError{constructor(e,t){super("Cannot update a verified collection in this command",e,t),this.name="CannotUpdateVerifiedCollection",this.code=112}}G.CannotUpdateVerifiedCollectionError=Hte;ue.set(112,Hte);le.set("CannotUpdateVerifiedCollection",Hte);class Gte extends de.ProgramError{constructor(e,t){super("Edition account doesnt match collection ",e,t),this.name="CollectionMasterEditionAccountInvalid",this.code=113}}G.CollectionMasterEditionAccountInvalidError=Gte;ue.set(113,Gte);le.set("CollectionMasterEditionAccountInvalid",Gte);class Yte extends de.ProgramError{constructor(e,t){super("Item is already verified.",e,t),this.name="AlreadyVerified",this.code=114}}G.AlreadyVerifiedError=Yte;ue.set(114,Yte);le.set("AlreadyVerified",Yte);class Zte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="AlreadyUnverified",this.code=115}}G.AlreadyUnverifiedError=Zte;ue.set(115,Zte);le.set("AlreadyUnverified",Zte);class Jte extends de.ProgramError{constructor(e,t){super("This edition is not a Print Edition",e,t),this.name="NotAPrintEdition",this.code=116}}G.NotAPrintEditionError=Jte;ue.set(116,Jte);le.set("NotAPrintEdition",Jte);class Xte extends de.ProgramError{constructor(e,t){super("Invalid Master Edition",e,t),this.name="InvalidMasterEdition",this.code=117}}G.InvalidMasterEditionError=Xte;ue.set(117,Xte);le.set("InvalidMasterEdition",Xte);class Qte extends de.ProgramError{constructor(e,t){super("Invalid Print Edition",e,t),this.name="InvalidPrintEdition",this.code=118}}G.InvalidPrintEditionError=Qte;ue.set(118,Qte);le.set("InvalidPrintEdition",Qte);class ere extends de.ProgramError{constructor(e,t){super("Invalid Edition Marker",e,t),this.name="InvalidEditionMarker",this.code=119}}G.InvalidEditionMarkerError=ere;ue.set(119,ere);le.set("InvalidEditionMarker",ere);class tre extends de.ProgramError{constructor(e,t){super("Reservation List is Deprecated",e,t),this.name="ReservationListDeprecated",this.code=120}}G.ReservationListDeprecatedError=tre;ue.set(120,tre);le.set("ReservationListDeprecated",tre);class rre extends de.ProgramError{constructor(e,t){super("Print Edition does not match Master Edition",e,t),this.name="PrintEditionDoesNotMatchMasterEdition",this.code=121}}G.PrintEditionDoesNotMatchMasterEditionError=rre;ue.set(121,rre);le.set("PrintEditionDoesNotMatchMasterEdition",rre);class nre extends de.ProgramError{constructor(e,t){super("Edition Number greater than max supply",e,t),this.name="EditionNumberGreaterThanMaxSupply",this.code=122}}G.EditionNumberGreaterThanMaxSupplyError=nre;ue.set(122,nre);le.set("EditionNumberGreaterThanMaxSupply",nre);class sre extends de.ProgramError{constructor(e,t){super("Must unverify before migrating collections.",e,t),this.name="MustUnverify",this.code=123}}G.MustUnverifyError=sre;ue.set(123,sre);le.set("MustUnverify",sre);class ire extends de.ProgramError{constructor(e,t){super("Invalid Escrow Account Bump Seed",e,t),this.name="InvalidEscrowBumpSeed",this.code=124}}G.InvalidEscrowBumpSeedError=ire;ue.set(124,ire);le.set("InvalidEscrowBumpSeed",ire);class ore extends de.ProgramError{constructor(e,t){super("Must Escrow Authority",e,t),this.name="MustBeEscrowAuthority",this.code=125}}G.MustBeEscrowAuthorityError=ore;ue.set(125,ore);le.set("MustBeEscrowAuthority",ore);class are extends de.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=126}}G.InvalidSystemProgramError=are;ue.set(126,are);le.set("InvalidSystemProgram",are);class cre extends de.ProgramError{constructor(e,t){super("Must be a Non Fungible Token",e,t),this.name="MustBeNonFungible",this.code=127}}G.MustBeNonFungibleError=cre;ue.set(127,cre);le.set("MustBeNonFungible",cre);class ure extends de.ProgramError{constructor(e,t){super("Insufficient tokens for transfer",e,t),this.name="InsufficientTokens",this.code=128}}G.InsufficientTokensError=ure;ue.set(128,ure);le.set("InsufficientTokens",ure);class lre extends de.ProgramError{constructor(e,t){super("Borsh Serialization Error",e,t),this.name="BorshSerializationError",this.code=129}}G.BorshSerializationErrorError=lre;ue.set(129,lre);le.set("BorshSerializationError",lre);class dre extends de.ProgramError{constructor(e,t){super("Cannot create NFT with no Freeze Authority.",e,t),this.name="NoFreezeAuthoritySet",this.code=130}}G.NoFreezeAuthoritySetError=dre;ue.set(130,dre);le.set("NoFreezeAuthoritySet",dre);class fre extends de.ProgramError{constructor(e,t){super("Invalid collection size change",e,t),this.name="InvalidCollectionSizeChange",this.code=131}}G.InvalidCollectionSizeChangeError=fre;ue.set(131,fre);le.set("InvalidCollectionSizeChange",fre);class hre extends de.ProgramError{constructor(e,t){super("Invalid bubblegum signer",e,t),this.name="InvalidBubblegumSigner",this.code=132}}G.InvalidBubblegumSignerError=hre;ue.set(132,hre);le.set("InvalidBubblegumSigner",hre);class gre extends de.ProgramError{constructor(e,t){super("Escrow parent cannot have a delegate",e,t),this.name="EscrowParentHasDelegate",this.code=133}}G.EscrowParentHasDelegateError=gre;ue.set(133,gre);le.set("EscrowParentHasDelegate",gre);class mre extends de.ProgramError{constructor(e,t){super("Mint needs to be signer to initialize the account",e,t),this.name="MintIsNotSigner",this.code=134}}G.MintIsNotSignerError=mre;ue.set(134,mre);le.set("MintIsNotSigner",mre);class yre extends de.ProgramError{constructor(e,t){super("Invalid token standard",e,t),this.name="InvalidTokenStandard",this.code=135}}G.InvalidTokenStandardError=yre;ue.set(135,yre);le.set("InvalidTokenStandard",yre);class pre extends de.ProgramError{constructor(e,t){super("Invalid mint account for specified token standard",e,t),this.name="InvalidMintForTokenStandard",this.code=136}}G.InvalidMintForTokenStandardError=pre;ue.set(136,pre);le.set("InvalidMintForTokenStandard",pre);class bre extends de.ProgramError{constructor(e,t){super("Invalid authorization rules account",e,t),this.name="InvalidAuthorizationRules",this.code=137}}G.InvalidAuthorizationRulesError=bre;ue.set(137,bre);le.set("InvalidAuthorizationRules",bre);class Sre extends de.ProgramError{constructor(e,t){super("Missing authorization rules account",e,t),this.name="MissingAuthorizationRules",this.code=138}}G.MissingAuthorizationRulesError=Sre;ue.set(138,Sre);le.set("MissingAuthorizationRules",Sre);class kre extends de.ProgramError{constructor(e,t){super("Missing programmable configuration",e,t),this.name="MissingProgrammableConfig",this.code=139}}G.MissingProgrammableConfigError=kre;ue.set(139,kre);le.set("MissingProgrammableConfig",kre);class vre extends de.ProgramError{constructor(e,t){super("Invalid programmable configuration",e,t),this.name="InvalidProgrammableConfig",this.code=140}}G.InvalidProgrammableConfigError=vre;ue.set(140,vre);le.set("InvalidProgrammableConfig",vre);class Are extends de.ProgramError{constructor(e,t){super("Delegate already exists",e,t),this.name="DelegateAlreadyExists",this.code=141}}G.DelegateAlreadyExistsError=Are;ue.set(141,Are);le.set("DelegateAlreadyExists",Are);class wre extends de.ProgramError{constructor(e,t){super("Delegate not found",e,t),this.name="DelegateNotFound",this.code=142}}G.DelegateNotFoundError=wre;ue.set(142,wre);le.set("DelegateNotFound",wre);class Ire extends de.ProgramError{constructor(e,t){super("Required account not set in instruction builder",e,t),this.name="MissingAccountInBuilder",this.code=143}}G.MissingAccountInBuilderError=Ire;ue.set(143,Ire);le.set("MissingAccountInBuilder",Ire);class Pre extends de.ProgramError{constructor(e,t){super("Required argument not set in instruction builder",e,t),this.name="MissingArgumentInBuilder",this.code=144}}G.MissingArgumentInBuilderError=Pre;ue.set(144,Pre);le.set("MissingArgumentInBuilder",Pre);class _re extends de.ProgramError{constructor(e,t){super("Feature not supported currently",e,t),this.name="FeatureNotSupported",this.code=145}}G.FeatureNotSupportedError=_re;ue.set(145,_re);le.set("FeatureNotSupported",_re);class Ere extends de.ProgramError{constructor(e,t){super("Invalid system wallet",e,t),this.name="InvalidSystemWallet",this.code=146}}G.InvalidSystemWalletError=Ere;ue.set(146,Ere);le.set("InvalidSystemWallet",Ere);class xre extends de.ProgramError{constructor(e,t){super("Only the sale delegate can transfer while its set",e,t),this.name="OnlySaleDelegateCanTransfer",this.code=147}}G.OnlySaleDelegateCanTransferError=xre;ue.set(147,xre);le.set("OnlySaleDelegateCanTransfer",xre);class Tre extends de.ProgramError{constructor(e,t){super("Missing token account",e,t),this.name="MissingTokenAccount",this.code=148}}G.MissingTokenAccountError=Tre;ue.set(148,Tre);le.set("MissingTokenAccount",Tre);class Rre extends de.ProgramError{constructor(e,t){super("Missing SPL token program",e,t),this.name="MissingSplTokenProgram",this.code=149}}G.MissingSplTokenProgramError=Rre;ue.set(149,Rre);le.set("MissingSplTokenProgram",Rre);class Cre extends de.ProgramError{constructor(e,t){super("Missing authorization rules program",e,t),this.name="MissingAuthorizationRulesProgram",this.code=150}}G.MissingAuthorizationRulesProgramError=Cre;ue.set(150,Cre);le.set("MissingAuthorizationRulesProgram",Cre);class Mre extends de.ProgramError{constructor(e,t){super("Invalid delegate role for transfer",e,t),this.name="InvalidDelegateRoleForTransfer",this.code=151}}G.InvalidDelegateRoleForTransferError=Mre;ue.set(151,Mre);le.set("InvalidDelegateRoleForTransfer",Mre);class Bre extends de.ProgramError{constructor(e,t){super("Invalid transfer authority",e,t),this.name="InvalidTransferAuthority",this.code=152}}G.InvalidTransferAuthorityError=Bre;ue.set(152,Bre);le.set("InvalidTransferAuthority",Bre);class zre extends de.ProgramError{constructor(e,t){super("Instruction not supported for ProgrammableNonFungible assets",e,t),this.name="InstructionNotSupported",this.code=153}}G.InstructionNotSupportedError=zre;ue.set(153,zre);le.set("InstructionNotSupported",zre);class $re extends de.ProgramError{constructor(e,t){super("Public key does not match expected value",e,t),this.name="KeyMismatch",this.code=154}}G.KeyMismatchError=$re;ue.set(154,$re);le.set("KeyMismatch",$re);class Dre extends de.ProgramError{constructor(e,t){super("Token is locked",e,t),this.name="LockedToken",this.code=155}}G.LockedTokenError=Dre;ue.set(155,Dre);le.set("LockedToken",Dre);class Ore extends de.ProgramError{constructor(e,t){super("Token is unlocked",e,t),this.name="UnlockedToken",this.code=156}}G.UnlockedTokenError=Ore;ue.set(156,Ore);le.set("UnlockedToken",Ore);class Kre extends de.ProgramError{constructor(e,t){super("Missing delegate role",e,t),this.name="MissingDelegateRole",this.code=157}}G.MissingDelegateRoleError=Kre;ue.set(157,Kre);le.set("MissingDelegateRole",Kre);class Lre extends de.ProgramError{constructor(e,t){super("Invalid authority type",e,t),this.name="InvalidAuthorityType",this.code=158}}G.InvalidAuthorityTypeError=Lre;ue.set(158,Lre);le.set("InvalidAuthorityType",Lre);class Wre extends de.ProgramError{constructor(e,t){super("Missing token record account",e,t),this.name="MissingTokenRecord",this.code=159}}G.MissingTokenRecordError=Wre;ue.set(159,Wre);le.set("MissingTokenRecord",Wre);class Nre extends de.ProgramError{constructor(e,t){super("Mint supply must be zero for programmable assets",e,t),this.name="MintSupplyMustBeZero",this.code=160}}G.MintSupplyMustBeZeroError=Nre;ue.set(160,Nre);le.set("MintSupplyMustBeZero",Nre);class Fre extends de.ProgramError{constructor(e,t){super("Data is empty or zeroed",e,t),this.name="DataIsEmptyOrZeroed",this.code=161}}G.DataIsEmptyOrZeroedError=Fre;ue.set(161,Fre);le.set("DataIsEmptyOrZeroed",Fre);class Ure extends de.ProgramError{constructor(e,t){super("Missing token owner",e,t),this.name="MissingTokenOwnerAccount",this.code=162}}G.MissingTokenOwnerAccountError=Ure;ue.set(162,Ure);le.set("MissingTokenOwnerAccount",Ure);class Vre extends de.ProgramError{constructor(e,t){super("Master edition account has an invalid length",e,t),this.name="InvalidMasterEditionAccountLength",this.code=163}}G.InvalidMasterEditionAccountLengthError=Vre;ue.set(163,Vre);le.set("InvalidMasterEditionAccountLength",Vre);class qre extends de.ProgramError{constructor(e,t){super("Incorrect token state",e,t),this.name="IncorrectTokenState",this.code=164}}G.IncorrectTokenStateError=qre;ue.set(164,qre);le.set("IncorrectTokenState",qre);class jre extends de.ProgramError{constructor(e,t){super("Invalid delegate role",e,t),this.name="InvalidDelegateRole",this.code=165}}G.InvalidDelegateRoleError=jre;ue.set(165,jre);le.set("InvalidDelegateRole",jre);class Hre extends de.ProgramError{constructor(e,t){super("Print supply is required for non-fungibles",e,t),this.name="MissingPrintSupply",this.code=166}}G.MissingPrintSupplyError=Hre;ue.set(166,Hre);le.set("MissingPrintSupply",Hre);class Gre extends de.ProgramError{constructor(e,t){super("Missing master edition account",e,t),this.name="MissingMasterEditionAccount",this.code=167}}G.MissingMasterEditionAccountError=Gre;ue.set(167,Gre);le.set("MissingMasterEditionAccount",Gre);class Yre extends de.ProgramError{constructor(e,t){super("Amount must be greater than zero",e,t),this.name="AmountMustBeGreaterThanZero",this.code=168}}G.AmountMustBeGreaterThanZeroError=Yre;ue.set(168,Yre);le.set("AmountMustBeGreaterThanZero",Yre);class Zre extends de.ProgramError{constructor(e,t){super("Invalid delegate args",e,t),this.name="InvalidDelegateArgs",this.code=169}}G.InvalidDelegateArgsError=Zre;ue.set(169,Zre);le.set("InvalidDelegateArgs",Zre);class Jre extends de.ProgramError{constructor(e,t){super("Missing address for locked transfer",e,t),this.name="MissingLockedTransferAddress",this.code=170}}G.MissingLockedTransferAddressError=Jre;ue.set(170,Jre);le.set("MissingLockedTransferAddress",Jre);class Xre extends de.ProgramError{constructor(e,t){super("Invalid destination address for locked transfer",e,t),this.name="InvalidLockedTransferAddress",this.code=171}}G.InvalidLockedTransferAddressError=Xre;ue.set(171,Xre);le.set("InvalidLockedTransferAddress",Xre);class Qre extends de.ProgramError{constructor(e,t){super("Exceeded account realloc increase limit",e,t),this.name="DataIncrementLimitExceeded",this.code=172}}G.DataIncrementLimitExceededError=Qre;ue.set(172,Qre);le.set("DataIncrementLimitExceeded",Qre);class ene extends de.ProgramError{constructor(e,t){super("Cannot update the rule set of a programmable asset that has a delegate",e,t),this.name="CannotUpdateAssetWithDelegate",this.code=173}}G.CannotUpdateAssetWithDelegateError=ene;ue.set(173,ene);le.set("CannotUpdateAssetWithDelegate",ene);class tne extends de.ProgramError{constructor(e,t){super("Invalid token amount for this operation or token standard",e,t),this.name="InvalidAmount",this.code=174}}G.InvalidAmountError=tne;ue.set(174,tne);le.set("InvalidAmount",tne);class rne extends de.ProgramError{constructor(e,t){super("Missing master edition mint account",e,t),this.name="MissingMasterEditionMintAccount",this.code=175}}G.MissingMasterEditionMintAccountError=rne;ue.set(175,rne);le.set("MissingMasterEditionMintAccount",rne);class nne extends de.ProgramError{constructor(e,t){super("Missing master edition token account",e,t),this.name="MissingMasterEditionTokenAccount",this.code=176}}G.MissingMasterEditionTokenAccountError=nne;ue.set(176,nne);le.set("MissingMasterEditionTokenAccount",nne);class sne extends de.ProgramError{constructor(e,t){super("Missing edition marker account",e,t),this.name="MissingEditionMarkerAccount",this.code=177}}G.MissingEditionMarkerAccountError=sne;ue.set(177,sne);le.set("MissingEditionMarkerAccount",sne);class ine extends de.ProgramError{constructor(e,t){super("Cannot burn while persistent delegate is set",e,t),this.name="CannotBurnWithDelegate",this.code=178}}G.CannotBurnWithDelegateError=ine;ue.set(178,ine);le.set("CannotBurnWithDelegate",ine);class one extends de.ProgramError{constructor(e,t){super("Missing edition account",e,t),this.name="MissingEdition",this.code=179}}G.MissingEditionError=one;ue.set(179,one);le.set("MissingEdition",one);class ane extends de.ProgramError{constructor(e,t){super("Invalid Associated Token Account Program",e,t),this.name="InvalidAssociatedTokenAccountProgram",this.code=180}}G.InvalidAssociatedTokenAccountProgramError=ane;ue.set(180,ane);le.set("InvalidAssociatedTokenAccountProgram",ane);class cne extends de.ProgramError{constructor(e,t){super("Invalid InstructionsSysvar",e,t),this.name="InvalidInstructionsSysvar",this.code=181}}G.InvalidInstructionsSysvarError=cne;ue.set(181,cne);le.set("InvalidInstructionsSysvar",cne);class une extends de.ProgramError{constructor(e,t){super("Invalid or Unneeded parent accounts",e,t),this.name="InvalidParentAccounts",this.code=182}}G.InvalidParentAccountsError=une;ue.set(182,une);le.set("InvalidParentAccounts",une);class lne extends de.ProgramError{constructor(e,t){super("Authority cannot apply all update args",e,t),this.name="InvalidUpdateArgs",this.code=183}}G.InvalidUpdateArgsError=lne;ue.set(183,lne);le.set("InvalidUpdateArgs",lne);class dne extends de.ProgramError{constructor(e,t){super("Token account does not have enough tokens",e,t),this.name="InsufficientTokenBalance",this.code=184}}G.InsufficientTokenBalanceError=dne;ue.set(184,dne);le.set("InsufficientTokenBalance",dne);class fne extends de.ProgramError{constructor(e,t){super("Missing collection account",e,t),this.name="MissingCollectionMint",this.code=185}}G.MissingCollectionMintError=fne;ue.set(185,fne);le.set("MissingCollectionMint",fne);class hne extends de.ProgramError{constructor(e,t){super("Missing collection master edition account",e,t),this.name="MissingCollectionMasterEdition",this.code=186}}G.MissingCollectionMasterEditionError=hne;ue.set(186,hne);le.set("MissingCollectionMasterEdition",hne);class gne extends de.ProgramError{constructor(e,t){super("Invalid token record account",e,t),this.name="InvalidTokenRecord",this.code=187}}G.InvalidTokenRecordError=gne;ue.set(187,gne);le.set("InvalidTokenRecord",gne);class mne extends de.ProgramError{constructor(e,t){super("The close authority needs to be revoked by the Utility Delegate",e,t),this.name="InvalidCloseAuthority",this.code=188}}G.InvalidCloseAuthorityError=mne;ue.set(188,mne);le.set("InvalidCloseAuthority",mne);class yne extends de.ProgramError{constructor(e,t){super("Invalid or removed instruction",e,t),this.name="InvalidInstruction",this.code=189}}G.InvalidInstructionError=yne;ue.set(189,yne);le.set("InvalidInstruction",yne);class pne extends de.ProgramError{constructor(e,t){super("Missing delegate record",e,t),this.name="MissingDelegateRecord",this.code=190}}G.MissingDelegateRecordError=pne;ue.set(190,pne);le.set("MissingDelegateRecord",pne);class bne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidFeeAccount",this.code=191}}G.InvalidFeeAccountError=bne;ue.set(191,bne);le.set("InvalidFeeAccount",bne);class Sne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidMetadataFlags",this.code=192}}G.InvalidMetadataFlagsError=Sne;ue.set(192,Sne);le.set("InvalidMetadataFlags",Sne);class kne extends de.ProgramError{constructor(e,t){super("Cannot change the update authority with a delegate",e,t),this.name="CannotChangeUpdateAuthorityWithDelegate",this.code=193}}G.CannotChangeUpdateAuthorityWithDelegateError=kne;ue.set(193,kne);le.set("CannotChangeUpdateAuthorityWithDelegate",kne);class vne extends de.ProgramError{constructor(e,t){super("Invalid mint extension type",e,t),this.name="InvalidMintExtensionType",this.code=194}}G.InvalidMintExtensionTypeError=vne;ue.set(194,vne);le.set("InvalidMintExtensionType",vne);class Ane extends de.ProgramError{constructor(e,t){super("Invalid mint close authority",e,t),this.name="InvalidMintCloseAuthority",this.code=195}}G.InvalidMintCloseAuthorityError=Ane;ue.set(195,Ane);le.set("InvalidMintCloseAuthority",Ane);class wne extends de.ProgramError{constructor(e,t){super("Invalid metadata pointer",e,t),this.name="InvalidMetadataPointer",this.code=196}}G.InvalidMetadataPointerError=wne;ue.set(196,wne);le.set("InvalidMetadataPointer",wne);class Ine extends de.ProgramError{constructor(e,t){super("Invalid token extension type",e,t),this.name="InvalidTokenExtensionType",this.code=197}}G.InvalidTokenExtensionTypeError=Ine;ue.set(197,Ine);le.set("InvalidTokenExtensionType",Ine);class Pne extends de.ProgramError{constructor(e,t){super("Missing immutable owner extension",e,t),this.name="MissingImmutableOwnerExtension",this.code=198}}G.MissingImmutableOwnerExtensionError=Pne;ue.set(198,Pne);le.set("MissingImmutableOwnerExtension",Pne);function eAt(n,e,t){const r=ue.get(n);return r?new r(e,t):null}G.getMplTokenMetadataErrorFromCode=eAt;function tAt(n,e,t){const r=le.get(n);return r?new r(e,t):null}G.getMplTokenMetadataErrorFromName=tAt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(G,n)})(FQ);var vRe={},cI={},Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.getAccountMetasAndSigners=Ne.expectPda=Ne.expectPublicKey=Ne.expectSome=void 0;const j2=Z;function rAt(n){if(n==null)throw new Error("Expected a value but received null or undefined.");return n}Ne.expectSome=rAt;function nAt(n){if(!n)throw new Error("Expected a PublicKey.");return(0,j2.publicKey)(n,!1)}Ne.expectPublicKey=nAt;function sAt(n){if(!n||!Array.isArray(n)||!(0,j2.isPda)(n))throw new Error("Expected a PDA.");return n}Ne.expectPda=sAt;function iAt(n,e,t){const r=[],s=[];return n.forEach(i=>{if(!i.value){if(e==="omitted")return;r.push({pubkey:t,isSigner:!1,isWritable:!1});return}(0,j2.isSigner)(i.value)&&s.push(i.value),r.push({pubkey:(0,j2.publicKey)(i.value,!1),isSigner:(0,j2.isSigner)(i.value),isWritable:i.isWritable})}),[r,s]}Ne.getAccountMetasAndSigners=iAt;Object.defineProperty(cI,"__esModule",{value:!0});cI.approveCollectionAuthority=cI.getApproveCollectionAuthorityInstructionDataSerializer=void 0;const oAt=Z,uF=q,aAt=Ut,Dme=Ne;function ARe(){return(0,uF.mapSerializer)((0,uF.struct)([["discriminator",(0,uF.u8)()]],{description:"ApproveCollectionAuthorityInstructionData"}),n=>({...n,discriminator:23}))}cI.getApproveCollectionAuthorityInstructionDataSerializer=ARe;function cAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionAuthorityRecord:{index:0,isWritable:!0,value:e.collectionAuthorityRecord??null},newCollectionAuthority:{index:1,isWritable:!1,value:e.newCollectionAuthority??null},updateAuthority:{index:2,isWritable:!0,value:e.updateAuthority??null},payer:{index:3,isWritable:!0,value:e.payer??null},metadata:{index:4,isWritable:!1,value:e.metadata??null},mint:{index:5,isWritable:!1,value:e.mint??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},rent:{index:7,isWritable:!1,value:e.rent??null}};r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,aAt.findMetadataPda)(n,{mint:(0,Dme.expectPublicKey)(r.mint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Dme.getAccountMetasAndSigners)(s,"omitted",t),a=ARe().serialize({}),c=0;return(0,oAt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}cI.approveCollectionAuthority=cAt;var uI={};Object.defineProperty(uI,"__esModule",{value:!0});uI.approveUseAuthority=uI.getApproveUseAuthorityInstructionDataSerializer=void 0;const uAt=Z,i8=q,lAt=Ut,Ome=Ne;function wRe(){return(0,i8.mapSerializer)((0,i8.struct)([["discriminator",(0,i8.u8)()],["numberOfUses",(0,i8.u64)()]],{description:"ApproveUseAuthorityInstructionData"}),n=>({...n,discriminator:20}))}uI.getApproveUseAuthorityInstructionDataSerializer=wRe;function dAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={useAuthorityRecord:{index:0,isWritable:!0,value:e.useAuthorityRecord??null},owner:{index:1,isWritable:!0,value:e.owner??null},payer:{index:2,isWritable:!0,value:e.payer??null},user:{index:3,isWritable:!1,value:e.user??null},ownerTokenAccount:{index:4,isWritable:!0,value:e.ownerTokenAccount??null},metadata:{index:5,isWritable:!1,value:e.metadata??null},mint:{index:6,isWritable:!1,value:e.mint??null},burner:{index:7,isWritable:!1,value:e.burner??null},tokenProgram:{index:8,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},rent:{index:10,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,lAt.findMetadataPda)(n,{mint:(0,Ome.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Ome.getAccountMetasAndSigners)(i,"omitted",t),c=wRe().serialize(s),u=0;return(0,uAt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}uI.approveUseAuthority=dAt;var lI={};Object.defineProperty(lI,"__esModule",{value:!0});lI.bubblegumSetCollectionSize=lI.getBubblegumSetCollectionSizeInstructionDataSerializer=void 0;const fAt=Z,lF=q,hAt=Ne,gAt=ut;function IRe(){return(0,lF.mapSerializer)((0,lF.struct)([["discriminator",(0,lF.u8)()],["setCollectionSizeArgs",(0,gAt.getSetCollectionSizeArgsSerializer)()]],{description:"BubblegumSetCollectionSizeInstructionData"}),n=>({...n,discriminator:36}))}lI.getBubblegumSetCollectionSizeInstructionDataSerializer=IRe;function mAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionMetadata:{index:0,isWritable:!0,value:e.collectionMetadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},bubblegumSigner:{index:3,isWritable:!1,value:e.bubblegumSigner??null},collectionAuthorityRecord:{index:4,isWritable:!1,value:e.collectionAuthorityRecord??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,hAt.getAccountMetasAndSigners)(i,"omitted",t),c=IRe().serialize(s),u=0;return(0,fAt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}lI.bubblegumSetCollectionSize=mAt;var dI={};Object.defineProperty(dI,"__esModule",{value:!0});dI.burnEditionNft=dI.getBurnEditionNftInstructionDataSerializer=void 0;const yAt=Z,dF=q,pAt=Ne;function PRe(){return(0,dF.mapSerializer)((0,dF.struct)([["discriminator",(0,dF.u8)()]],{description:"BurnEditionNftInstructionData"}),n=>({...n,discriminator:37}))}dI.getBurnEditionNftInstructionDataSerializer=PRe;function bAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!0,value:e.owner??null},printEditionMint:{index:2,isWritable:!0,value:e.printEditionMint??null},masterEditionMint:{index:3,isWritable:!1,value:e.masterEditionMint??null},printEditionTokenAccount:{index:4,isWritable:!0,value:e.printEditionTokenAccount??null},masterEditionTokenAccount:{index:5,isWritable:!1,value:e.masterEditionTokenAccount??null},masterEditionAccount:{index:6,isWritable:!0,value:e.masterEditionAccount??null},printEditionAccount:{index:7,isWritable:!0,value:e.printEditionAccount??null},editionMarkerAccount:{index:8,isWritable:!0,value:e.editionMarkerAccount??null},splTokenProgram:{index:9,isWritable:!1,value:e.splTokenProgram??null}};r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,pAt.getAccountMetasAndSigners)(s,"programId",t),a=PRe().serialize({}),c=0;return(0,yAt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}dI.burnEditionNft=bAt;var fI={};Object.defineProperty(fI,"__esModule",{value:!0});fI.burnNft=fI.getBurnNftInstructionDataSerializer=void 0;const SAt=Z,fF=q,kAt=Ut,Kme=Ne;function _Re(){return(0,fF.mapSerializer)((0,fF.struct)([["discriminator",(0,fF.u8)()]],{description:"BurnNftInstructionData"}),n=>({...n,discriminator:29}))}fI.getBurnNftInstructionDataSerializer=_Re;function vAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!0,value:e.owner??null},mint:{index:2,isWritable:!0,value:e.mint??null},tokenAccount:{index:3,isWritable:!0,value:e.tokenAccount??null},masterEditionAccount:{index:4,isWritable:!0,value:e.masterEditionAccount??null},splTokenProgram:{index:5,isWritable:!1,value:e.splTokenProgram??null},collectionMetadata:{index:6,isWritable:!0,value:e.collectionMetadata??null}};r.metadata.value||(r.metadata.value=(0,kAt.findMetadataPda)(n,{mint:(0,Kme.expectPublicKey)(r.mint.value)})),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Kme.getAccountMetasAndSigners)(s,"omitted",t),a=_Re().serialize({}),c=0;return(0,SAt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}fI.burnNft=vAt;var hI={};Object.defineProperty(hI,"__esModule",{value:!0});hI.burnV1=hI.getBurnV1InstructionDataSerializer=void 0;const AAt=Hs,Lme=Z,XR=q,wAt=on,o8=Ut,ry=Ne,IAt=ut;function ERe(){return(0,XR.mapSerializer)((0,XR.struct)([["discriminator",(0,XR.u8)()],["burnV1Discriminator",(0,XR.u8)()],["amount",(0,XR.u64)()]],{description:"BurnV1InstructionData"}),n=>({...n,discriminator:41,burnV1Discriminator:0,amount:n.amount??1}))}hI.getBurnV1InstructionDataSerializer=ERe;function PAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!0,value:e.authority??null},collectionMetadata:{index:1,isWritable:!0,value:e.collectionMetadata??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},edition:{index:3,isWritable:!0,value:e.edition??null},mint:{index:4,isWritable:!0,value:e.mint??null},token:{index:5,isWritable:!0,value:e.token??null},masterEdition:{index:6,isWritable:!0,value:e.masterEdition??null},masterEditionMint:{index:7,isWritable:!1,value:e.masterEditionMint??null},masterEditionToken:{index:8,isWritable:!1,value:e.masterEditionToken??null},editionMarker:{index:9,isWritable:!0,value:e.editionMarker??null},tokenRecord:{index:10,isWritable:!0,value:e.tokenRecord??null},systemProgram:{index:11,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:12,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:13,isWritable:!1,value:e.splTokenProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,o8.findMetadataPda)(n,{mint:(0,ry.expectPublicKey)(r.mint.value)})),r.edition.value||(0,wAt.resolveIsNonFungible)(n,r,s,t,!0)&&(r.edition.value=(0,o8.findMasterEditionPda)(n,{mint:(0,ry.expectPublicKey)(r.mint.value)})),s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,AAt.findAssociatedTokenPda)(n,{mint:(0,ry.expectPublicKey)(r.mint.value),owner:(0,ry.expectSome)(s.tokenOwner)})),r.masterEdition.value||r.masterEditionMint.value&&(r.masterEdition.value=(0,o8.findMasterEditionPda)(n,{mint:(0,ry.expectPublicKey)(r.masterEditionMint.value)})),r.tokenRecord.value||s.tokenStandard===IAt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,o8.findTokenRecordPda)(n,{mint:(0,ry.expectPublicKey)(r.mint.value),token:(0,ry.expectPublicKey)(r.token.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Lme.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ry.getAccountMetasAndSigners)(i,"programId",t),c=ERe().serialize(s),u=0;return(0,Lme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}hI.burnV1=PAt;var gI={};Object.defineProperty(gI,"__esModule",{value:!0});gI.closeEscrowAccount=gI.getCloseEscrowAccountInstructionDataSerializer=void 0;const Wme=Z,hF=q,Nme=Ut,gF=Ne;function xRe(){return(0,hF.mapSerializer)((0,hF.struct)([["discriminator",(0,hF.u8)()]],{description:"CloseEscrowAccountInstructionData"}),n=>({...n,discriminator:39}))}gI.getCloseEscrowAccountInstructionDataSerializer=xRe;function _At(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!0,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},mint:{index:2,isWritable:!1,value:e.mint??null},tokenAccount:{index:3,isWritable:!1,value:e.tokenAccount??null},edition:{index:4,isWritable:!1,value:e.edition??null},payer:{index:5,isWritable:!0,value:e.payer??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.metadata.value||(r.metadata.value=(0,Nme.findMetadataPda)(n,{mint:(0,gF.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,Nme.findMasterEditionPda)(n,{mint:(0,gF.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Wme.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,gF.getAccountMetasAndSigners)(s,"programId",t),a=xRe().serialize({}),c=0;return(0,Wme.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}gI.closeEscrowAccount=_At;var mI={};Object.defineProperty(mI,"__esModule",{value:!0});mI.collect=mI.getCollectInstructionDataSerializer=void 0;const EAt=Z,mF=q,xAt=Ne;function TRe(){return(0,mF.mapSerializer)((0,mF.struct)([["discriminator",(0,mF.u8)()]],{description:"CollectInstructionData"}),n=>({...n,discriminator:54}))}mI.getCollectInstructionDataSerializer=TRe;function TAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},recipient:{index:1,isWritable:!1,value:e.recipient??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,xAt.getAccountMetasAndSigners)(s,"programId",t),a=TRe().serialize({}),c=0;return(0,EAt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}mI.collect=TAt;var yI={};Object.defineProperty(yI,"__esModule",{value:!0});yI.convertMasterEditionV1ToV2=yI.getConvertMasterEditionV1ToV2InstructionDataSerializer=void 0;const RAt=Z,yF=q,CAt=Ne;function RRe(){return(0,yF.mapSerializer)((0,yF.struct)([["discriminator",(0,yF.u8)()]],{description:"ConvertMasterEditionV1ToV2InstructionData"}),n=>({...n,discriminator:12}))}yI.getConvertMasterEditionV1ToV2InstructionDataSerializer=RRe;function MAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={masterEdition:{index:0,isWritable:!0,value:e.masterEdition??null},oneTimeAuth:{index:1,isWritable:!0,value:e.oneTimeAuth??null},printingMint:{index:2,isWritable:!0,value:e.printingMint??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,CAt.getAccountMetasAndSigners)(s,"programId",t),a=RRe().serialize({}),c=0;return(0,RAt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}yI.convertMasterEditionV1ToV2=MAt;var pI={};Object.defineProperty(pI,"__esModule",{value:!0});pI.createEscrowAccount=pI.getCreateEscrowAccountInstructionDataSerializer=void 0;const Fme=Z,pF=q,Ume=Ut,bF=Ne;function CRe(){return(0,pF.mapSerializer)((0,pF.struct)([["discriminator",(0,pF.u8)()]],{description:"CreateEscrowAccountInstructionData"}),n=>({...n,discriminator:38}))}pI.getCreateEscrowAccountInstructionDataSerializer=CRe;function BAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!0,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},mint:{index:2,isWritable:!1,value:e.mint??null},tokenAccount:{index:3,isWritable:!1,value:e.tokenAccount??null},edition:{index:4,isWritable:!1,value:e.edition??null},payer:{index:5,isWritable:!0,value:e.payer??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null},authority:{index:8,isWritable:!1,value:e.authority??null}};r.metadata.value||(r.metadata.value=(0,Ume.findMetadataPda)(n,{mint:(0,bF.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,Ume.findMasterEditionPda)(n,{mint:(0,bF.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Fme.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,bF.getAccountMetasAndSigners)(s,"omitted",t),a=CRe().serialize({}),c=0;return(0,Fme.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}pI.createEscrowAccount=BAt;var bI={};Object.defineProperty(bI,"__esModule",{value:!0});bI.createMasterEditionV3=bI.getCreateMasterEditionV3InstructionDataSerializer=void 0;const zAt=Z,QR=q,Vme=Ut,SF=Ne;function MRe(){return(0,QR.mapSerializer)((0,QR.struct)([["discriminator",(0,QR.u8)()],["maxSupply",(0,QR.option)((0,QR.u64)())]],{description:"CreateMasterEditionV3InstructionData"}),n=>({...n,discriminator:17}))}bI.getCreateMasterEditionV3InstructionDataSerializer=MRe;function $At(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={edition:{index:0,isWritable:!0,value:e.edition??null},mint:{index:1,isWritable:!0,value:e.mint??null},updateAuthority:{index:2,isWritable:!1,value:e.updateAuthority??null},mintAuthority:{index:3,isWritable:!1,value:e.mintAuthority??null},payer:{index:4,isWritable:!0,value:e.payer??null},metadata:{index:5,isWritable:!0,value:e.metadata??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null}},s={...e};r.edition.value||(r.edition.value=(0,Vme.findMasterEditionPda)(n,{mint:(0,SF.expectPublicKey)(r.mint.value)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,Vme.findMetadataPda)(n,{mint:(0,SF.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,SF.getAccountMetasAndSigners)(i,"omitted",t),c=MRe().serialize(s),u=0;return(0,zAt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}bI.createMasterEditionV3=$At;var SI={};Object.defineProperty(SI,"__esModule",{value:!0});SI.createMetadataAccountV3=SI.getCreateMetadataAccountV3InstructionDataSerializer=void 0;const DAt=Z,eC=q,OAt=Ut,qme=Ne,jme=ut;function BRe(){return(0,eC.mapSerializer)((0,eC.struct)([["discriminator",(0,eC.u8)()],["data",(0,jme.getDataV2Serializer)()],["isMutable",(0,eC.bool)()],["collectionDetails",(0,eC.option)((0,jme.getCollectionDetailsSerializer)())]],{description:"CreateMetadataAccountV3InstructionData"}),n=>({...n,discriminator:33}))}SI.getCreateMetadataAccountV3InstructionDataSerializer=BRe;function KAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},mint:{index:1,isWritable:!1,value:e.mint??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null},payer:{index:3,isWritable:!0,value:e.payer??null},updateAuthority:{index:4,isWritable:!1,value:e.updateAuthority??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},rent:{index:6,isWritable:!1,value:e.rent??null}},s={...e};r.metadata.value||(r.metadata.value=(0,OAt.findMetadataPda)(n,{mint:(0,qme.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,qme.getAccountMetasAndSigners)(i,"omitted",t),c=BRe().serialize(s),u=0;return(0,DAt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}SI.createMetadataAccountV3=KAt;var kI={};Object.defineProperty(kI,"__esModule",{value:!0});kI.createV1=kI.getCreateV1InstructionDataSerializer=void 0;const zv=Z,Wo=q,Qb=on,Hme=Ut,a8=Ne,my=ut;function zRe(){return(0,Wo.mapSerializer)((0,Wo.struct)([["discriminator",(0,Wo.u8)()],["createV1Discriminator",(0,Wo.u8)()],["name",(0,Wo.string)()],["symbol",(0,Wo.string)()],["uri",(0,Wo.string)()],["sellerFeeBasisPoints",(0,zv.mapAmountSerializer)((0,Wo.u16)(),"%",2)],["creators",(0,Wo.option)((0,Wo.array)((0,my.getCreatorSerializer)()))],["primarySaleHappened",(0,Wo.bool)()],["isMutable",(0,Wo.bool)()],["tokenStandard",(0,my.getTokenStandardSerializer)()],["collection",(0,Wo.option)((0,my.getCollectionSerializer)())],["uses",(0,Wo.option)((0,my.getUsesSerializer)())],["collectionDetails",(0,Wo.option)((0,my.getCollectionDetailsSerializer)())],["ruleSet",(0,Wo.option)((0,Wo.publicKey)())],["decimals",(0,Wo.option)((0,Wo.u8)())],["printSupply",(0,Wo.option)((0,my.getPrintSupplySerializer)())]],{description:"CreateV1InstructionData"}),n=>({...n,discriminator:42,createV1Discriminator:0,symbol:n.symbol??"",primarySaleHappened:n.primarySaleHappened??!1,isMutable:n.isMutable??!0,tokenStandard:n.tokenStandard??my.TokenStandard.NonFungible,collection:n.collection??(0,zv.none)(),uses:n.uses??(0,zv.none)(),ruleSet:n.ruleSet??(0,zv.none)()}))}kI.getCreateV1InstructionDataSerializer=zRe;function LAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},masterEdition:{index:1,isWritable:!0,value:e.masterEdition??null},mint:{index:2,isWritable:!0,value:e.mint??null},authority:{index:3,isWritable:!1,value:e.authority??null},payer:{index:4,isWritable:!0,value:e.payer??null},updateAuthority:{index:5,isWritable:!1,value:e.updateAuthority??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:8,isWritable:!1,value:e.splTokenProgram??null}},s={...e};r.metadata.value||(r.metadata.value=(0,Hme.findMetadataPda)(n,{mint:(0,a8.expectPublicKey)(r.mint.value)})),s.tokenStandard||(s.tokenStandard=my.TokenStandard.NonFungible),r.masterEdition.value||(0,Qb.resolveIsNonFungible)(n,r,s,t,!0)&&(r.masterEdition.value=(0,Hme.findMasterEditionPda)(n,{mint:(0,a8.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=(0,a8.expectSome)(r.authority.value)),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,zv.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(0,Qb.resolveIsNonFungibleOrIsMintSigner)(n,r,s,t,!1)&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),s.creators||(s.creators=(0,Qb.resolveCreators)(n,r,s,t,!1)),s.isCollection||(s.isCollection=!1),s.collectionDetails||(s.collectionDetails=(0,Qb.resolveCollectionDetails)(n,r,s,t,!1)),s.decimals||(s.decimals=(0,Qb.resolveDecimals)(n,r,s,t,!1)),s.printSupply||(s.printSupply=(0,Qb.resolvePrintSupply)(n,r,s,t,!1));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,a8.getAccountMetasAndSigners)(i,"programId",t),c=zRe().serialize(s),u=(0,Qb.resolveCreateV1Bytes)(n,r,s,t);return(0,zv.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}kI.createV1=LAt;var vI={};Object.defineProperty(vI,"__esModule",{value:!0});vI.delegateAuthorityItemV1=vI.getDelegateAuthorityItemV1InstructionDataSerializer=void 0;const Gq=Z,tC=q,WAt=on,kF=Ut,e0=Ne,$Re=ut;function DRe(){return(0,tC.mapSerializer)((0,tC.struct)([["discriminator",(0,tC.u8)()],["delegateAuthorityItemV1Discriminator",(0,tC.u8)()],["authorizationData",(0,tC.option)((0,$Re.getAuthorizationDataSerializer)())]],{description:"DelegateAuthorityItemV1InstructionData"}),n=>({...n,discriminator:44,delegateAuthorityItemV1Discriminator:9,authorizationData:n.authorizationData??(0,Gq.none)()}))}vI.getDelegateAuthorityItemV1InstructionDataSerializer=DRe;function NAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,e0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,kF.findMetadataDelegateRecordPda)(n,{delegateRole:$Re.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,e0.expectSome)(s.updateAuthority),mint:(0,e0.expectPublicKey)(r.mint.value),delegate:(0,e0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,kF.findMetadataPda)(n,{mint:(0,e0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,WAt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,kF.findMasterEditionPda)(n,{mint:(0,e0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Gq.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,e0.getAccountMetasAndSigners)(i,"programId",t),c=DRe().serialize(s),u=0;return(0,Gq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}vI.delegateAuthorityItemV1=NAt;var AI={};Object.defineProperty(AI,"__esModule",{value:!0});AI.delegateCollectionItemV1=AI.getDelegateCollectionItemV1InstructionDataSerializer=void 0;const Yq=Z,rC=q,FAt=on,vF=Ut,t0=Ne,ORe=ut;function KRe(){return(0,rC.mapSerializer)((0,rC.struct)([["discriminator",(0,rC.u8)()],["delegateCollectionItemV1Discriminator",(0,rC.u8)()],["authorizationData",(0,rC.option)((0,ORe.getAuthorizationDataSerializer)())]],{description:"DelegateCollectionItemV1InstructionData"}),n=>({...n,discriminator:44,delegateCollectionItemV1Discriminator:11,authorizationData:n.authorizationData??(0,Yq.none)()}))}AI.getDelegateCollectionItemV1InstructionDataSerializer=KRe;function UAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,t0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,vF.findMetadataDelegateRecordPda)(n,{delegateRole:ORe.MetadataDelegateRole.CollectionItem,updateAuthority:(0,t0.expectSome)(s.updateAuthority),mint:(0,t0.expectPublicKey)(r.mint.value),delegate:(0,t0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,vF.findMetadataPda)(n,{mint:(0,t0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,FAt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,vF.findMasterEditionPda)(n,{mint:(0,t0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Yq.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,t0.getAccountMetasAndSigners)(i,"programId",t),c=KRe().serialize(s),u=0;return(0,Yq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}AI.delegateCollectionItemV1=UAt;var wI={};Object.defineProperty(wI,"__esModule",{value:!0});wI.delegateCollectionV1=wI.getDelegateCollectionV1InstructionDataSerializer=void 0;const Zq=Z,nC=q,VAt=on,AF=Ut,r0=Ne,LRe=ut;function WRe(){return(0,nC.mapSerializer)((0,nC.struct)([["discriminator",(0,nC.u8)()],["delegateCollectionV1Discriminator",(0,nC.u8)()],["authorizationData",(0,nC.option)((0,LRe.getAuthorizationDataSerializer)())]],{description:"DelegateCollectionV1InstructionData"}),n=>({...n,discriminator:44,delegateCollectionV1Discriminator:0,authorizationData:n.authorizationData??(0,Zq.none)()}))}wI.getDelegateCollectionV1InstructionDataSerializer=WRe;function qAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,r0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,AF.findMetadataDelegateRecordPda)(n,{delegateRole:LRe.MetadataDelegateRole.Collection,updateAuthority:(0,r0.expectSome)(s.updateAuthority),mint:(0,r0.expectPublicKey)(r.mint.value),delegate:(0,r0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,AF.findMetadataPda)(n,{mint:(0,r0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,VAt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,AF.findMasterEditionPda)(n,{mint:(0,r0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Zq.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,r0.getAccountMetasAndSigners)(i,"programId",t),c=WRe().serialize(s),u=0;return(0,Zq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}wI.delegateCollectionV1=qAt;var II={};Object.defineProperty(II,"__esModule",{value:!0});II.delegateDataItemV1=II.getDelegateDataItemV1InstructionDataSerializer=void 0;const Jq=Z,sC=q,jAt=on,wF=Ut,n0=Ne,NRe=ut;function FRe(){return(0,sC.mapSerializer)((0,sC.struct)([["discriminator",(0,sC.u8)()],["delegateDataItemV1Discriminator",(0,sC.u8)()],["authorizationData",(0,sC.option)((0,NRe.getAuthorizationDataSerializer)())]],{description:"DelegateDataItemV1InstructionData"}),n=>({...n,discriminator:44,delegateDataItemV1Discriminator:10,authorizationData:n.authorizationData??(0,Jq.none)()}))}II.getDelegateDataItemV1InstructionDataSerializer=FRe;function HAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,n0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,wF.findMetadataDelegateRecordPda)(n,{delegateRole:NRe.MetadataDelegateRole.DataItem,updateAuthority:(0,n0.expectSome)(s.updateAuthority),mint:(0,n0.expectPublicKey)(r.mint.value),delegate:(0,n0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,wF.findMetadataPda)(n,{mint:(0,n0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,jAt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,wF.findMasterEditionPda)(n,{mint:(0,n0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Jq.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,n0.getAccountMetasAndSigners)(i,"programId",t),c=FRe().serialize(s),u=0;return(0,Jq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}II.delegateDataItemV1=HAt;var PI={};Object.defineProperty(PI,"__esModule",{value:!0});PI.delegateDataV1=PI.getDelegateDataV1InstructionDataSerializer=void 0;const Xq=Z,iC=q,GAt=on,IF=Ut,s0=Ne,URe=ut;function VRe(){return(0,iC.mapSerializer)((0,iC.struct)([["discriminator",(0,iC.u8)()],["delegateDataV1Discriminator",(0,iC.u8)()],["authorizationData",(0,iC.option)((0,URe.getAuthorizationDataSerializer)())]],{description:"DelegateDataV1InstructionData"}),n=>({...n,discriminator:44,delegateDataV1Discriminator:3,authorizationData:n.authorizationData??(0,Xq.none)()}))}PI.getDelegateDataV1InstructionDataSerializer=VRe;function YAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,s0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,IF.findMetadataDelegateRecordPda)(n,{delegateRole:URe.MetadataDelegateRole.Data,updateAuthority:(0,s0.expectSome)(s.updateAuthority),mint:(0,s0.expectPublicKey)(r.mint.value),delegate:(0,s0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,IF.findMetadataPda)(n,{mint:(0,s0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,GAt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,IF.findMasterEditionPda)(n,{mint:(0,s0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Xq.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,s0.getAccountMetasAndSigners)(i,"programId",t),c=VRe().serialize(s),u=0;return(0,Xq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}PI.delegateDataV1=YAt;var _I={};Object.defineProperty(_I,"__esModule",{value:!0});_I.delegateLockedTransferV1=_I.getDelegateLockedTransferV1InstructionDataSerializer=void 0;const ZAt=Hs,Qq=Z,i0=q,JAt=on,c8=Ut,zh=Ne,qRe=ut;function jRe(){return(0,i0.mapSerializer)((0,i0.struct)([["discriminator",(0,i0.u8)()],["delegateLockedTransferV1Discriminator",(0,i0.u8)()],["amount",(0,i0.u64)()],["lockedAddress",(0,i0.publicKey)()],["authorizationData",(0,i0.option)((0,qRe.getAuthorizationDataSerializer)())]],{description:"DelegateLockedTransferV1InstructionData"}),n=>({...n,discriminator:44,delegateLockedTransferV1Discriminator:7,amount:n.amount??1,authorizationData:n.authorizationData??(0,Qq.none)()}))}_I.getDelegateLockedTransferV1InstructionDataSerializer=jRe;function XAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,ZAt.findAssociatedTokenPda)(n,{mint:(0,zh.expectPublicKey)(r.mint.value),owner:(0,zh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,c8.findTokenRecordPda)(n,{mint:(0,zh.expectPublicKey)(r.mint.value),token:(0,zh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,c8.findMetadataPda)(n,{mint:(0,zh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,JAt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,c8.findMasterEditionPda)(n,{mint:(0,zh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===qRe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,c8.findTokenRecordPda)(n,{mint:(0,zh.expectPublicKey)(r.mint.value),token:(0,zh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Qq.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,zh.getAccountMetasAndSigners)(i,"programId",t),c=jRe().serialize(s),u=0;return(0,Qq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}_I.delegateLockedTransferV1=XAt;var EI={};Object.defineProperty(EI,"__esModule",{value:!0});EI.delegatePrintDelegateV1=EI.getDelegatePrintDelegateV1InstructionDataSerializer=void 0;const ej=Z,oC=q,QAt=on,Gme=Ut,PF=Ne,ewt=ut;function HRe(){return(0,oC.mapSerializer)((0,oC.struct)([["discriminator",(0,oC.u8)()],["delegatePrintDelegateV1Discriminator",(0,oC.u8)()],["authorizationData",(0,oC.option)((0,ewt.getAuthorizationDataSerializer)())]],{description:"DelegatePrintDelegateV1InstructionData"}),n=>({...n,discriminator:44,delegatePrintDelegateV1Discriminator:13,authorizationData:n.authorizationData??(0,ej.none)()}))}EI.getDelegatePrintDelegateV1InstructionDataSerializer=HRe;function twt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.metadata.value||(r.metadata.value=(0,Gme.findMetadataPda)(n,{mint:(0,PF.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,QAt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,Gme.findMasterEditionPda)(n,{mint:(0,PF.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,ej.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,PF.getAccountMetasAndSigners)(i,"programId",t),c=HRe().serialize(s),u=0;return(0,ej.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}EI.delegatePrintDelegateV1=twt;var xI={};Object.defineProperty(xI,"__esModule",{value:!0});xI.delegateProgrammableConfigItemV1=xI.getDelegateProgrammableConfigItemV1InstructionDataSerializer=void 0;const tj=Z,aC=q,rwt=on,_F=Ut,o0=Ne,GRe=ut;function YRe(){return(0,aC.mapSerializer)((0,aC.struct)([["discriminator",(0,aC.u8)()],["delegateProgrammableConfigItemV1Discriminator",(0,aC.u8)()],["authorizationData",(0,aC.option)((0,GRe.getAuthorizationDataSerializer)())]],{description:"DelegateProgrammableConfigItemV1InstructionData"}),n=>({...n,discriminator:44,delegateProgrammableConfigItemV1Discriminator:12,authorizationData:n.authorizationData??(0,tj.none)()}))}xI.getDelegateProgrammableConfigItemV1InstructionDataSerializer=YRe;function nwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,o0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,_F.findMetadataDelegateRecordPda)(n,{delegateRole:GRe.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,o0.expectSome)(s.updateAuthority),mint:(0,o0.expectPublicKey)(r.mint.value),delegate:(0,o0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,_F.findMetadataPda)(n,{mint:(0,o0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,rwt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,_F.findMasterEditionPda)(n,{mint:(0,o0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,tj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,o0.getAccountMetasAndSigners)(i,"programId",t),c=YRe().serialize(s),u=0;return(0,tj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}xI.delegateProgrammableConfigItemV1=nwt;var TI={};Object.defineProperty(TI,"__esModule",{value:!0});TI.delegateProgrammableConfigV1=TI.getDelegateProgrammableConfigV1InstructionDataSerializer=void 0;const rj=Z,cC=q,swt=on,EF=Ut,a0=Ne,ZRe=ut;function JRe(){return(0,cC.mapSerializer)((0,cC.struct)([["discriminator",(0,cC.u8)()],["delegateProgrammableConfigV1Discriminator",(0,cC.u8)()],["authorizationData",(0,cC.option)((0,ZRe.getAuthorizationDataSerializer)())]],{description:"DelegateProgrammableConfigV1InstructionData"}),n=>({...n,discriminator:44,delegateProgrammableConfigV1Discriminator:8,authorizationData:n.authorizationData??(0,rj.none)()}))}TI.getDelegateProgrammableConfigV1InstructionDataSerializer=JRe;function iwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,a0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,EF.findMetadataDelegateRecordPda)(n,{delegateRole:ZRe.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,a0.expectSome)(s.updateAuthority),mint:(0,a0.expectPublicKey)(r.mint.value),delegate:(0,a0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,EF.findMetadataPda)(n,{mint:(0,a0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,swt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,EF.findMasterEditionPda)(n,{mint:(0,a0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,rj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,a0.getAccountMetasAndSigners)(i,"programId",t),c=JRe().serialize(s),u=0;return(0,rj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}TI.delegateProgrammableConfigV1=iwt;var RI={};Object.defineProperty(RI,"__esModule",{value:!0});RI.delegateSaleV1=RI.getDelegateSaleV1InstructionDataSerializer=void 0;const owt=Hs,nj=Z,Dk=q,awt=on,u8=Ut,$h=Ne,XRe=ut;function QRe(){return(0,Dk.mapSerializer)((0,Dk.struct)([["discriminator",(0,Dk.u8)()],["delegateSaleV1Discriminator",(0,Dk.u8)()],["amount",(0,Dk.u64)()],["authorizationData",(0,Dk.option)((0,XRe.getAuthorizationDataSerializer)())]],{description:"DelegateSaleV1InstructionData"}),n=>({...n,discriminator:44,delegateSaleV1Discriminator:1,amount:n.amount??1,authorizationData:n.authorizationData??(0,nj.none)()}))}RI.getDelegateSaleV1InstructionDataSerializer=QRe;function cwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,owt.findAssociatedTokenPda)(n,{mint:(0,$h.expectPublicKey)(r.mint.value),owner:(0,$h.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,u8.findTokenRecordPda)(n,{mint:(0,$h.expectPublicKey)(r.mint.value),token:(0,$h.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,u8.findMetadataPda)(n,{mint:(0,$h.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,awt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,u8.findMasterEditionPda)(n,{mint:(0,$h.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===XRe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,u8.findTokenRecordPda)(n,{mint:(0,$h.expectPublicKey)(r.mint.value),token:(0,$h.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,nj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,$h.getAccountMetasAndSigners)(i,"programId",t),c=QRe().serialize(s),u=0;return(0,nj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}RI.delegateSaleV1=cwt;var CI={};Object.defineProperty(CI,"__esModule",{value:!0});CI.delegateStakingV1=CI.getDelegateStakingV1InstructionDataSerializer=void 0;const uwt=Hs,sj=Z,Ok=q,lwt=on,l8=Ut,Dh=Ne,eCe=ut;function tCe(){return(0,Ok.mapSerializer)((0,Ok.struct)([["discriminator",(0,Ok.u8)()],["delegateStakingV1Discriminator",(0,Ok.u8)()],["amount",(0,Ok.u64)()],["authorizationData",(0,Ok.option)((0,eCe.getAuthorizationDataSerializer)())]],{description:"DelegateStakingV1InstructionData"}),n=>({...n,discriminator:44,delegateStakingV1Discriminator:5,amount:n.amount??1,authorizationData:n.authorizationData??(0,sj.none)()}))}CI.getDelegateStakingV1InstructionDataSerializer=tCe;function dwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,uwt.findAssociatedTokenPda)(n,{mint:(0,Dh.expectPublicKey)(r.mint.value),owner:(0,Dh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,l8.findTokenRecordPda)(n,{mint:(0,Dh.expectPublicKey)(r.mint.value),token:(0,Dh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,l8.findMetadataPda)(n,{mint:(0,Dh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,lwt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,l8.findMasterEditionPda)(n,{mint:(0,Dh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===eCe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,l8.findTokenRecordPda)(n,{mint:(0,Dh.expectPublicKey)(r.mint.value),token:(0,Dh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,sj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Dh.getAccountMetasAndSigners)(i,"programId",t),c=tCe().serialize(s),u=0;return(0,sj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}CI.delegateStakingV1=dwt;var MI={};Object.defineProperty(MI,"__esModule",{value:!0});MI.delegateStandardV1=MI.getDelegateStandardV1InstructionDataSerializer=void 0;const fwt=Hs,Yme=Z,uC=q,hwt=on,xF=Ut,c0=Ne;function rCe(){return(0,uC.mapSerializer)((0,uC.struct)([["discriminator",(0,uC.u8)()],["delegateStandardV1Discriminator",(0,uC.u8)()],["amount",(0,uC.u64)()]],{description:"DelegateStandardV1InstructionData"}),n=>({...n,discriminator:44,delegateStandardV1Discriminator:6,amount:n.amount??1}))}MI.getDelegateStandardV1InstructionDataSerializer=rCe;function gwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,fwt.findAssociatedTokenPda)(n,{mint:(0,c0.expectPublicKey)(r.mint.value),owner:(0,c0.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,xF.findTokenRecordPda)(n,{mint:(0,c0.expectPublicKey)(r.mint.value),token:(0,c0.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,xF.findMetadataPda)(n,{mint:(0,c0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,hwt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,xF.findMasterEditionPda)(n,{mint:(0,c0.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Yme.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,c0.getAccountMetasAndSigners)(i,"programId",t),c=rCe().serialize(s),u=0;return(0,Yme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}MI.delegateStandardV1=gwt;var BI={};Object.defineProperty(BI,"__esModule",{value:!0});BI.delegateTransferV1=BI.getDelegateTransferV1InstructionDataSerializer=void 0;const mwt=Hs,ij=Z,Kk=q,ywt=on,d8=Ut,Oh=Ne,nCe=ut;function sCe(){return(0,Kk.mapSerializer)((0,Kk.struct)([["discriminator",(0,Kk.u8)()],["delegateTransferV1Discriminator",(0,Kk.u8)()],["amount",(0,Kk.u64)()],["authorizationData",(0,Kk.option)((0,nCe.getAuthorizationDataSerializer)())]],{description:"DelegateTransferV1InstructionData"}),n=>({...n,discriminator:44,delegateTransferV1Discriminator:2,amount:n.amount??1,authorizationData:n.authorizationData??(0,ij.none)()}))}BI.getDelegateTransferV1InstructionDataSerializer=sCe;function pwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,mwt.findAssociatedTokenPda)(n,{mint:(0,Oh.expectPublicKey)(r.mint.value),owner:(0,Oh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,d8.findTokenRecordPda)(n,{mint:(0,Oh.expectPublicKey)(r.mint.value),token:(0,Oh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,d8.findMetadataPda)(n,{mint:(0,Oh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,ywt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,d8.findMasterEditionPda)(n,{mint:(0,Oh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===nCe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,d8.findTokenRecordPda)(n,{mint:(0,Oh.expectPublicKey)(r.mint.value),token:(0,Oh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,ij.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Oh.getAccountMetasAndSigners)(i,"programId",t),c=sCe().serialize(s),u=0;return(0,ij.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}BI.delegateTransferV1=pwt;var zI={};Object.defineProperty(zI,"__esModule",{value:!0});zI.delegateUtilityV1=zI.getDelegateUtilityV1InstructionDataSerializer=void 0;const bwt=Hs,oj=Z,Lk=q,Swt=on,f8=Ut,Kh=Ne,iCe=ut;function oCe(){return(0,Lk.mapSerializer)((0,Lk.struct)([["discriminator",(0,Lk.u8)()],["delegateUtilityV1Discriminator",(0,Lk.u8)()],["amount",(0,Lk.u64)()],["authorizationData",(0,Lk.option)((0,iCe.getAuthorizationDataSerializer)())]],{description:"DelegateUtilityV1InstructionData"}),n=>({...n,discriminator:44,delegateUtilityV1Discriminator:4,amount:n.amount??1,authorizationData:n.authorizationData??(0,oj.none)()}))}zI.getDelegateUtilityV1InstructionDataSerializer=oCe;function kwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,bwt.findAssociatedTokenPda)(n,{mint:(0,Kh.expectPublicKey)(r.mint.value),owner:(0,Kh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,f8.findTokenRecordPda)(n,{mint:(0,Kh.expectPublicKey)(r.mint.value),token:(0,Kh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,f8.findMetadataPda)(n,{mint:(0,Kh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,Swt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,f8.findMasterEditionPda)(n,{mint:(0,Kh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===iCe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,f8.findTokenRecordPda)(n,{mint:(0,Kh.expectPublicKey)(r.mint.value),token:(0,Kh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,oj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Kh.getAccountMetasAndSigners)(i,"programId",t),c=oCe().serialize(s),u=0;return(0,oj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}zI.delegateUtilityV1=kwt;var $I={};Object.defineProperty($I,"__esModule",{value:!0});$I.deprecatedMintNewEditionFromMasterEditionViaPrintingToken=$I.getDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDataSerializer=void 0;const Zme=Z,TF=q,h8=Ut,lC=Ne;function aCe(){return(0,TF.mapSerializer)((0,TF.struct)([["discriminator",(0,TF.u8)()]],{description:"DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionData"}),n=>({...n,discriminator:3}))}$I.getDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDataSerializer=aCe;function vwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},mint:{index:3,isWritable:!0,value:e.mint??null},mintAuthority:{index:4,isWritable:!1,value:e.mintAuthority??null},printingMint:{index:5,isWritable:!0,value:e.printingMint??null},masterTokenAccount:{index:6,isWritable:!0,value:e.masterTokenAccount??null},editionMarker:{index:7,isWritable:!0,value:e.editionMarker??null},burnAuthority:{index:8,isWritable:!1,value:e.burnAuthority??null},payer:{index:9,isWritable:!1,value:e.payer??null},masterUpdateAuthority:{index:10,isWritable:!1,value:e.masterUpdateAuthority??null},masterMetadata:{index:11,isWritable:!1,value:e.masterMetadata??null},tokenProgram:{index:12,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:13,isWritable:!1,value:e.systemProgram??null},rent:{index:14,isWritable:!1,value:e.rent??null},reservationList:{index:15,isWritable:!0,value:e.reservationList??null}};r.metadata.value||(r.metadata.value=(0,h8.findMetadataPda)(n,{mint:(0,lC.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,h8.findMasterEditionPda)(n,{mint:(0,lC.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(r.masterEdition.value=(0,h8.findMasterEditionPda)(n,{mint:(0,lC.expectPublicKey)(r.mint.value)})),r.editionMarker.value||(r.editionMarker.value=(0,h8.findMasterEditionPda)(n,{mint:(0,lC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.rent.value||(r.rent.value=(0,Zme.publicKey)("SysvarRent111111111111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,lC.getAccountMetasAndSigners)(s,"omitted",t),a=aCe().serialize({}),c=0;return(0,Zme.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}$I.deprecatedMintNewEditionFromMasterEditionViaPrintingToken=vwt;var DI={};Object.defineProperty(DI,"__esModule",{value:!0});DI.freezeDelegatedAccount=DI.getFreezeDelegatedAccountInstructionDataSerializer=void 0;const Awt=Z,RF=q,wwt=Ut,Jme=Ne;function cCe(){return(0,RF.mapSerializer)((0,RF.struct)([["discriminator",(0,RF.u8)()]],{description:"FreezeDelegatedAccountInstructionData"}),n=>({...n,discriminator:26}))}DI.getFreezeDelegatedAccountInstructionDataSerializer=cCe;function Iwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegate:{index:0,isWritable:!0,value:e.delegate??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},edition:{index:2,isWritable:!1,value:e.edition??null},mint:{index:3,isWritable:!1,value:e.mint??null},tokenProgram:{index:4,isWritable:!1,value:e.tokenProgram??null}};r.edition.value||(r.edition.value=(0,wwt.findMasterEditionPda)(n,{mint:(0,Jme.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Jme.getAccountMetasAndSigners)(s,"programId",t),a=cCe().serialize({}),c=0;return(0,Awt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}DI.freezeDelegatedAccount=Iwt;var OI={};Object.defineProperty(OI,"__esModule",{value:!0});OI.lockV1=OI.getLockV1InstructionDataSerializer=void 0;const Pwt=Hs,aj=Z,dC=q,Xme=on,CF=Ut,u0=Ne,cj=ut;function uCe(){return(0,dC.mapSerializer)((0,dC.struct)([["discriminator",(0,dC.u8)()],["lockV1Discriminator",(0,dC.u8)()],["authorizationData",(0,dC.option)((0,cj.getAuthorizationDataSerializer)())]],{description:"LockV1InstructionData"}),n=>({...n,discriminator:46,lockV1Discriminator:0,authorizationData:n.authorizationData??(0,aj.none)()}))}OI.getLockV1InstructionDataSerializer=uCe;function _wt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},tokenRecord:{index:6,isWritable:!0,value:e.tokenRecord??null},payer:{index:7,isWritable:!0,value:e.payer??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:9,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:10,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:11,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:12,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,Xme.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,Pwt.findAssociatedTokenPda)(n,{mint:(0,u0.expectPublicKey)(r.mint.value),owner:(0,u0.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,CF.findMetadataPda)(n,{mint:(0,u0.expectPublicKey)(r.mint.value)})),r.edition.value||(0,Xme.resolveIsNonFungible)(n,r,s,t,!1)&&(r.edition.value=(0,CF.findMasterEditionPda)(n,{mint:(0,u0.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===cj.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,CF.findTokenRecordPda)(n,{mint:(0,u0.expectPublicKey)(r.mint.value),token:(0,u0.expectPublicKey)(r.token.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,aj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||s.tokenStandard!==cj.TokenStandard.ProgrammableNonFungible&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,u0.getAccountMetasAndSigners)(i,"programId",t),c=uCe().serialize(s),u=0;return(0,aj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}OI.lockV1=_wt;var KI={};Object.defineProperty(KI,"__esModule",{value:!0});KI.migrate=KI.getMigrateInstructionDataSerializer=void 0;const Qme=Z,MF=q,BF=Ut,fC=Ne;function lCe(){return(0,MF.mapSerializer)((0,MF.struct)([["discriminator",(0,MF.u8)()]],{description:"MigrateInstructionData"}),n=>({...n,discriminator:48}))}KI.getMigrateInstructionDataSerializer=lCe;function Ewt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},token:{index:2,isWritable:!0,value:e.token??null},tokenOwner:{index:3,isWritable:!1,value:e.tokenOwner??null},mint:{index:4,isWritable:!1,value:e.mint??null},payer:{index:5,isWritable:!0,value:e.payer??null},authority:{index:6,isWritable:!1,value:e.authority??null},collectionMetadata:{index:7,isWritable:!1,value:e.collectionMetadata??null},delegateRecord:{index:8,isWritable:!1,value:e.delegateRecord??null},tokenRecord:{index:9,isWritable:!0,value:e.tokenRecord??null},systemProgram:{index:10,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:11,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:12,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:13,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:14,isWritable:!1,value:e.authorizationRules??null}};r.metadata.value||(r.metadata.value=(0,BF.findMetadataPda)(n,{mint:(0,fC.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,BF.findMasterEditionPda)(n,{mint:(0,fC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.authority.value||(r.authority.value=n.identity),r.tokenRecord.value||(r.tokenRecord.value=(0,BF.findTokenRecordPda)(n,{mint:(0,fC.expectPublicKey)(r.mint.value),token:(0,fC.expectPublicKey)(r.token.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Qme.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,fC.getAccountMetasAndSigners)(s,"programId",t),a=lCe().serialize({}),c=0;return(0,Qme.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}KI.migrate=Ewt;var LI={};Object.defineProperty(LI,"__esModule",{value:!0});LI.mintNewEditionFromMasterEditionViaToken=LI.getMintNewEditionFromMasterEditionViaTokenInstructionDataSerializer=void 0;const xwt=Z,zF=q,Twt=Ne,Rwt=ut;function dCe(){return(0,zF.mapSerializer)((0,zF.struct)([["discriminator",(0,zF.u8)()],["mintNewEditionFromMasterEditionViaTokenArgs",(0,Rwt.getMintNewEditionFromMasterEditionViaTokenArgsSerializer)()]],{description:"MintNewEditionFromMasterEditionViaTokenInstructionData"}),n=>({...n,discriminator:11}))}LI.getMintNewEditionFromMasterEditionViaTokenInstructionDataSerializer=dCe;function Cwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={newMetadata:{index:0,isWritable:!0,value:e.newMetadata??null},newEdition:{index:1,isWritable:!0,value:e.newEdition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},newMint:{index:3,isWritable:!0,value:e.newMint??null},editionMarkPda:{index:4,isWritable:!0,value:e.editionMarkPda??null},newMintAuthority:{index:5,isWritable:!1,value:e.newMintAuthority??null},payer:{index:6,isWritable:!0,value:e.payer??null},tokenAccountOwner:{index:7,isWritable:!1,value:e.tokenAccountOwner??null},tokenAccount:{index:8,isWritable:!1,value:e.tokenAccount??null},newMetadataUpdateAuthority:{index:9,isWritable:!1,value:e.newMetadataUpdateAuthority??null},metadata:{index:10,isWritable:!1,value:e.metadata??null},tokenProgram:{index:11,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:12,isWritable:!1,value:e.systemProgram??null},rent:{index:13,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Twt.getAccountMetasAndSigners)(i,"omitted",t),c=dCe().serialize(s),u=0;return(0,xwt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}LI.mintNewEditionFromMasterEditionViaToken=Cwt;var WI={};Object.defineProperty(WI,"__esModule",{value:!0});WI.mintNewEditionFromMasterEditionViaVaultProxy=WI.getMintNewEditionFromMasterEditionViaVaultProxyInstructionDataSerializer=void 0;const Mwt=Z,$F=q,Bwt=Ne,zwt=ut;function fCe(){return(0,$F.mapSerializer)((0,$F.struct)([["discriminator",(0,$F.u8)()],["mintNewEditionFromMasterEditionViaTokenArgs",(0,zwt.getMintNewEditionFromMasterEditionViaTokenArgsSerializer)()]],{description:"MintNewEditionFromMasterEditionViaVaultProxyInstructionData"}),n=>({...n,discriminator:13}))}WI.getMintNewEditionFromMasterEditionViaVaultProxyInstructionDataSerializer=fCe;function $wt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={newMetadata:{index:0,isWritable:!0,value:e.newMetadata??null},newEdition:{index:1,isWritable:!0,value:e.newEdition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},newMint:{index:3,isWritable:!0,value:e.newMint??null},editionMarkPda:{index:4,isWritable:!0,value:e.editionMarkPda??null},newMintAuthority:{index:5,isWritable:!1,value:e.newMintAuthority??null},payer:{index:6,isWritable:!0,value:e.payer??null},vaultAuthority:{index:7,isWritable:!1,value:e.vaultAuthority??null},safetyDepositStore:{index:8,isWritable:!1,value:e.safetyDepositStore??null},safetyDepositBox:{index:9,isWritable:!1,value:e.safetyDepositBox??null},vault:{index:10,isWritable:!1,value:e.vault??null},newMetadataUpdateAuthority:{index:11,isWritable:!1,value:e.newMetadataUpdateAuthority??null},metadata:{index:12,isWritable:!1,value:e.metadata??null},tokenProgram:{index:13,isWritable:!1,value:e.tokenProgram??null},tokenVaultProgram:{index:14,isWritable:!1,value:e.tokenVaultProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null},rent:{index:16,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Bwt.getAccountMetasAndSigners)(i,"omitted",t),c=fCe().serialize(s),u=0;return(0,Mwt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}WI.mintNewEditionFromMasterEditionViaVaultProxy=$wt;var NI={};Object.defineProperty(NI,"__esModule",{value:!0});NI.mintV1=NI.getMintV1InstructionDataSerializer=void 0;const Dwt=Hs,uj=Z,Wk=q,eye=on,DF=Ut,l0=Ne,hCe=ut;function gCe(){return(0,Wk.mapSerializer)((0,Wk.struct)([["discriminator",(0,Wk.u8)()],["mintV1Discriminator",(0,Wk.u8)()],["amount",(0,Wk.u64)()],["authorizationData",(0,Wk.option)((0,hCe.getAuthorizationDataSerializer)())]],{description:"MintV1InstructionData"}),n=>({...n,discriminator:43,mintV1Discriminator:0,amount:n.amount??1,authorizationData:n.authorizationData??(0,uj.none)()}))}NI.getMintV1InstructionDataSerializer=gCe;function Owt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={token:{index:0,isWritable:!0,value:e.token??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},metadata:{index:2,isWritable:!1,value:e.metadata??null},masterEdition:{index:3,isWritable:!0,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!0,value:e.mint??null},authority:{index:6,isWritable:!1,value:e.authority??null},delegateRecord:{index:7,isWritable:!1,value:e.delegateRecord??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:12,isWritable:!1,value:e.splAtaProgram??null},authorizationRulesProgram:{index:13,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:14,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,eye.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,Dwt.findAssociatedTokenPda)(n,{mint:(0,l0.expectPublicKey)(r.mint.value),owner:(0,l0.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,DF.findMetadataPda)(n,{mint:(0,l0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,eye.resolveIsNonFungible)(n,r,s,t,!0)&&(r.masterEdition.value=(0,DF.findMasterEditionPda)(n,{mint:(0,l0.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===hCe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,DF.findTokenRecordPda)(n,{mint:(0,l0.expectPublicKey)(r.mint.value),token:(0,l0.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,uj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,l0.getAccountMetasAndSigners)(i,"programId",t),c=gCe().serialize(s),u=468;return(0,uj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}NI.mintV1=Owt;var FI={};Object.defineProperty(FI,"__esModule",{value:!0});FI.printV1=FI.getPrintV1InstructionDataSerializer=void 0;const tye=Hs,rye=Z,hC=q,Kwt=on,Nk=Ut,Ec=Ne,nye=ut;function mCe(){return(0,hC.mapSerializer)((0,hC.struct)([["discriminator",(0,hC.u8)()],["printV1Discriminator",(0,hC.u8)()],["editionNumber",(0,hC.u64)()]],{description:"PrintV1InstructionData"}),n=>({...n,discriminator:55,printV1Discriminator:0}))}FI.getPrintV1InstructionDataSerializer=mCe;function Lwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={editionMetadata:{index:0,isWritable:!0,value:e.editionMetadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},editionMint:{index:2,isWritable:!0,value:e.editionMint??null},editionTokenAccountOwner:{index:3,isWritable:!1,value:e.editionTokenAccountOwner??null},editionTokenAccount:{index:4,isWritable:!0,value:e.editionTokenAccount??null},editionMintAuthority:{index:5,isWritable:!1,value:e.editionMintAuthority??null},editionTokenRecord:{index:6,isWritable:!0,value:e.editionTokenRecord??null},masterEdition:{index:7,isWritable:!0,value:e.masterEdition??null},editionMarkerPda:{index:8,isWritable:!0,value:e.editionMarkerPda??null},payer:{index:9,isWritable:!0,value:e.payer??null},masterTokenAccountOwner:{index:10,isWritable:!1,value:e.masterTokenAccountOwner??null},masterTokenAccount:{index:11,isWritable:!1,value:e.masterTokenAccount??null},masterMetadata:{index:12,isWritable:!1,value:e.masterMetadata??null},updateAuthority:{index:13,isWritable:!1,value:e.updateAuthority??null},splTokenProgram:{index:14,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:15,isWritable:!1,value:e.splAtaProgram??null},sysvarInstructions:{index:16,isWritable:!1,value:e.sysvarInstructions??null},systemProgram:{index:17,isWritable:!1,value:e.systemProgram??null}},s={...e};r.editionMetadata.value||(r.editionMetadata.value=(0,Nk.findMetadataPda)(n,{mint:(0,Ec.expectPublicKey)(r.editionMint.value)})),r.edition.value||(r.edition.value=(0,Nk.findMasterEditionPda)(n,{mint:(0,Ec.expectPublicKey)(r.editionMint.value)})),r.editionTokenAccountOwner.value||(r.editionTokenAccountOwner.value=n.identity.publicKey),r.editionTokenAccount.value||(r.editionTokenAccount.value=(0,tye.findAssociatedTokenPda)(n,{mint:(0,Ec.expectPublicKey)(r.editionMint.value),owner:(0,Ec.expectPublicKey)(r.editionTokenAccountOwner.value)})),r.masterTokenAccountOwner.value||(r.masterTokenAccountOwner.value=n.identity),r.editionMintAuthority.value||(r.editionMintAuthority.value=(0,Ec.expectSome)(r.masterTokenAccountOwner.value)),r.editionTokenRecord.value||s.tokenStandard===nye.TokenStandard.ProgrammableNonFungible&&(r.editionTokenRecord.value=(0,Nk.findTokenRecordPda)(n,{mint:(0,Ec.expectPublicKey)(r.editionMint.value),token:(0,Ec.expectPublicKey)(r.editionTokenAccount.value)})),r.masterEdition.value||(r.masterEdition.value=(0,Nk.findMasterEditionPda)(n,{mint:(0,Ec.expectSome)(s.masterEditionMint)})),r.editionMarkerPda.value||(s.tokenStandard===nye.TokenStandard.ProgrammableNonFungible?r.editionMarkerPda.value=(0,Nk.findEditionMarkerV2Pda)(n,{mint:(0,Ec.expectSome)(s.masterEditionMint)}):r.editionMarkerPda.value=(0,Kwt.findEditionMarkerFromEditionNumberPda)(n,{mint:(0,Ec.expectSome)(s.masterEditionMint),editionNumber:(0,Ec.expectSome)(s.editionNumber)})),r.payer.value||(r.payer.value=n.payer),r.masterTokenAccount.value||(r.masterTokenAccount.value=(0,tye.findAssociatedTokenPda)(n,{mint:(0,Ec.expectSome)(s.masterEditionMint),owner:(0,Ec.expectPublicKey)(r.masterTokenAccountOwner.value)})),r.masterMetadata.value||(r.masterMetadata.value=(0,Nk.findMetadataPda)(n,{mint:(0,Ec.expectSome)(s.masterEditionMint)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,rye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Ec.getAccountMetasAndSigners)(i,"programId",t),c=mCe().serialize(s),u=0;return(0,rye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}FI.printV1=Lwt;var UI={};Object.defineProperty(UI,"__esModule",{value:!0});UI.printV2=UI.getPrintV2InstructionDataSerializer=void 0;const sye=Hs,iye=Z,gC=q,Wwt=on,Fk=Ut,fc=Ne,oye=ut;function yCe(){return(0,gC.mapSerializer)((0,gC.struct)([["discriminator",(0,gC.u8)()],["printV2Discriminator",(0,gC.u8)()],["editionNumber",(0,gC.u64)()]],{description:"PrintV2InstructionData"}),n=>({...n,discriminator:55,printV2Discriminator:1}))}UI.getPrintV2InstructionDataSerializer=yCe;function Nwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={editionMetadata:{index:0,isWritable:!0,value:e.editionMetadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},editionMint:{index:2,isWritable:!0,value:e.editionMint??null},editionTokenAccountOwner:{index:3,isWritable:!1,value:e.editionTokenAccountOwner??null},editionTokenAccount:{index:4,isWritable:!0,value:e.editionTokenAccount??null},editionMintAuthority:{index:5,isWritable:!1,value:e.editionMintAuthority??null},editionTokenRecord:{index:6,isWritable:!0,value:e.editionTokenRecord??null},masterEdition:{index:7,isWritable:!0,value:e.masterEdition??null},editionMarkerPda:{index:8,isWritable:!0,value:e.editionMarkerPda??null},payer:{index:9,isWritable:!0,value:e.payer??null},masterTokenAccountOwner:{index:10,isWritable:!1,value:e.masterTokenAccountOwner??null},masterTokenAccount:{index:11,isWritable:!1,value:e.masterTokenAccount??null},masterMetadata:{index:12,isWritable:!1,value:e.masterMetadata??null},updateAuthority:{index:13,isWritable:!1,value:e.updateAuthority??null},splTokenProgram:{index:14,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:15,isWritable:!1,value:e.splAtaProgram??null},sysvarInstructions:{index:16,isWritable:!1,value:e.sysvarInstructions??null},systemProgram:{index:17,isWritable:!1,value:e.systemProgram??null},holderDelegateRecord:{index:18,isWritable:!1,value:e.holderDelegateRecord??null},delegate:{index:19,isWritable:!1,value:e.delegate??null}},s={...e};r.editionMetadata.value||(r.editionMetadata.value=(0,Fk.findMetadataPda)(n,{mint:(0,fc.expectPublicKey)(r.editionMint.value)})),r.edition.value||(r.edition.value=(0,Fk.findMasterEditionPda)(n,{mint:(0,fc.expectPublicKey)(r.editionMint.value)})),r.editionTokenAccountOwner.value||(r.editionTokenAccountOwner.value=n.identity.publicKey),r.editionTokenAccount.value||(r.editionTokenAccount.value=(0,sye.findAssociatedTokenPda)(n,{mint:(0,fc.expectPublicKey)(r.editionMint.value),owner:(0,fc.expectPublicKey)(r.editionTokenAccountOwner.value)})),r.payer.value||(r.payer.value=n.payer),r.editionMintAuthority.value||(r.holderDelegateRecord.value?r.delegate.value?r.editionMintAuthority.value=(0,fc.expectSome)(r.delegate.value):r.editionMintAuthority.value=(0,fc.expectSome)(r.payer.value):r.editionMintAuthority.value=n.identity),r.editionTokenRecord.value||s.tokenStandard===oye.TokenStandard.ProgrammableNonFungible&&(r.editionTokenRecord.value=(0,Fk.findTokenRecordPda)(n,{mint:(0,fc.expectPublicKey)(r.editionMint.value),token:(0,fc.expectPublicKey)(r.editionTokenAccount.value)})),r.masterEdition.value||(r.masterEdition.value=(0,Fk.findMasterEditionPda)(n,{mint:(0,fc.expectSome)(s.masterEditionMint)})),r.editionMarkerPda.value||(s.tokenStandard===oye.TokenStandard.ProgrammableNonFungible?r.editionMarkerPda.value=(0,Fk.findEditionMarkerV2Pda)(n,{mint:(0,fc.expectSome)(s.masterEditionMint)}):r.editionMarkerPda.value=(0,Wwt.findEditionMarkerFromEditionNumberPda)(n,{mint:(0,fc.expectSome)(s.masterEditionMint),editionNumber:(0,fc.expectSome)(s.editionNumber)})),r.masterTokenAccountOwner.value||r.holderDelegateRecord.value||(r.masterTokenAccountOwner.value=n.identity),r.masterTokenAccount.value||(r.masterTokenAccount.value=(0,sye.findAssociatedTokenPda)(n,{mint:(0,fc.expectSome)(s.masterEditionMint),owner:(0,fc.expectPublicKey)(r.masterTokenAccountOwner.value)})),r.masterMetadata.value||(r.masterMetadata.value=(0,Fk.findMetadataPda)(n,{mint:(0,fc.expectSome)(s.masterEditionMint)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,iye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,fc.getAccountMetasAndSigners)(i,"programId",t),c=yCe().serialize(s),u=0;return(0,iye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}UI.printV2=Nwt;var VI={};Object.defineProperty(VI,"__esModule",{value:!0});VI.puffMetadata=VI.getPuffMetadataInstructionDataSerializer=void 0;const Fwt=Z,OF=q,Uwt=Ne;function pCe(){return(0,OF.mapSerializer)((0,OF.struct)([["discriminator",(0,OF.u8)()]],{description:"PuffMetadataInstructionData"}),n=>({...n,discriminator:14}))}VI.getPuffMetadataInstructionDataSerializer=pCe;function Vwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Uwt.getAccountMetasAndSigners)(s,"programId",t),a=pCe().serialize({}),c=0;return(0,Fwt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}VI.puffMetadata=Vwt;var qI={};Object.defineProperty(qI,"__esModule",{value:!0});qI.removeCreatorVerification=qI.getRemoveCreatorVerificationInstructionDataSerializer=void 0;const qwt=Z,KF=q,jwt=Ne;function bCe(){return(0,KF.mapSerializer)((0,KF.struct)([["discriminator",(0,KF.u8)()]],{description:"RemoveCreatorVerificationInstructionData"}),n=>({...n,discriminator:28}))}qI.getRemoveCreatorVerificationInstructionDataSerializer=bCe;function Hwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},creator:{index:1,isWritable:!1,value:e.creator??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,jwt.getAccountMetasAndSigners)(s,"programId",t),a=bCe().serialize({}),c=0;return(0,qwt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}qI.removeCreatorVerification=Hwt;var jI={};Object.defineProperty(jI,"__esModule",{value:!0});jI.revokeAuthorityItemV1=jI.getRevokeAuthorityItemV1InstructionDataSerializer=void 0;const aye=Z,g8=q,Gwt=on,LF=Ut,d0=Ne,Ywt=ut;function SCe(){return(0,g8.mapSerializer)((0,g8.struct)([["discriminator",(0,g8.u8)()],["revokeAuthorityItemV1Discriminator",(0,g8.u8)()]],{description:"RevokeAuthorityItemV1InstructionData"}),n=>({...n,discriminator:45,revokeAuthorityItemV1Discriminator:10}))}jI.getRevokeAuthorityItemV1InstructionDataSerializer=SCe;function Zwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,d0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,LF.findMetadataDelegateRecordPda)(n,{delegateRole:Ywt.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,d0.expectSome)(s.updateAuthority),mint:(0,d0.expectPublicKey)(r.mint.value),delegate:(0,d0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,LF.findMetadataPda)(n,{mint:(0,d0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,Gwt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,LF.findMasterEditionPda)(n,{mint:(0,d0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,aye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,d0.getAccountMetasAndSigners)(i,"programId",t),c=SCe().serialize({}),u=0;return(0,aye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}jI.revokeAuthorityItemV1=Zwt;var HI={};Object.defineProperty(HI,"__esModule",{value:!0});HI.revokeCollectionAuthority=HI.getRevokeCollectionAuthorityInstructionDataSerializer=void 0;const Jwt=Z,WF=q,Xwt=Ut,cye=Ne;function kCe(){return(0,WF.mapSerializer)((0,WF.struct)([["discriminator",(0,WF.u8)()]],{description:"RevokeCollectionAuthorityInstructionData"}),n=>({...n,discriminator:24}))}HI.getRevokeCollectionAuthorityInstructionDataSerializer=kCe;function Qwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionAuthorityRecord:{index:0,isWritable:!0,value:e.collectionAuthorityRecord??null},delegateAuthority:{index:1,isWritable:!0,value:e.delegateAuthority??null},revokeAuthority:{index:2,isWritable:!0,value:e.revokeAuthority??null},metadata:{index:3,isWritable:!1,value:e.metadata??null},mint:{index:4,isWritable:!1,value:e.mint??null}};r.metadata.value||(r.metadata.value=(0,Xwt.findMetadataPda)(n,{mint:(0,cye.expectPublicKey)(r.mint.value)}));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,cye.getAccountMetasAndSigners)(s,"programId",t),a=kCe().serialize({}),c=0;return(0,Jwt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}HI.revokeCollectionAuthority=Qwt;var GI={};Object.defineProperty(GI,"__esModule",{value:!0});GI.revokeCollectionItemV1=GI.getRevokeCollectionItemV1InstructionDataSerializer=void 0;const uye=Z,m8=q,eIt=on,NF=Ut,f0=Ne,tIt=ut;function vCe(){return(0,m8.mapSerializer)((0,m8.struct)([["discriminator",(0,m8.u8)()],["revokeCollectionItemV1Discriminator",(0,m8.u8)()]],{description:"RevokeCollectionItemV1InstructionData"}),n=>({...n,discriminator:45,revokeCollectionItemV1Discriminator:12}))}GI.getRevokeCollectionItemV1InstructionDataSerializer=vCe;function rIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,f0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,NF.findMetadataDelegateRecordPda)(n,{delegateRole:tIt.MetadataDelegateRole.CollectionItem,updateAuthority:(0,f0.expectSome)(s.updateAuthority),mint:(0,f0.expectPublicKey)(r.mint.value),delegate:(0,f0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,NF.findMetadataPda)(n,{mint:(0,f0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,eIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,NF.findMasterEditionPda)(n,{mint:(0,f0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,uye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,f0.getAccountMetasAndSigners)(i,"programId",t),c=vCe().serialize({}),u=0;return(0,uye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}GI.revokeCollectionItemV1=rIt;var YI={};Object.defineProperty(YI,"__esModule",{value:!0});YI.revokeCollectionV1=YI.getRevokeCollectionV1InstructionDataSerializer=void 0;const lye=Z,y8=q,nIt=on,FF=Ut,h0=Ne,sIt=ut;function ACe(){return(0,y8.mapSerializer)((0,y8.struct)([["discriminator",(0,y8.u8)()],["revokeCollectionV1Discriminator",(0,y8.u8)()]],{description:"RevokeCollectionV1InstructionData"}),n=>({...n,discriminator:45,revokeCollectionV1Discriminator:0}))}YI.getRevokeCollectionV1InstructionDataSerializer=ACe;function iIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,h0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,FF.findMetadataDelegateRecordPda)(n,{delegateRole:sIt.MetadataDelegateRole.Collection,updateAuthority:(0,h0.expectSome)(s.updateAuthority),mint:(0,h0.expectPublicKey)(r.mint.value),delegate:(0,h0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,FF.findMetadataPda)(n,{mint:(0,h0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,nIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,FF.findMasterEditionPda)(n,{mint:(0,h0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,lye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,h0.getAccountMetasAndSigners)(i,"programId",t),c=ACe().serialize({}),u=0;return(0,lye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}YI.revokeCollectionV1=iIt;var ZI={};Object.defineProperty(ZI,"__esModule",{value:!0});ZI.revokeDataItemV1=ZI.getRevokeDataItemV1InstructionDataSerializer=void 0;const dye=Z,p8=q,oIt=on,UF=Ut,g0=Ne,aIt=ut;function wCe(){return(0,p8.mapSerializer)((0,p8.struct)([["discriminator",(0,p8.u8)()],["revokeDataItemV1Discriminator",(0,p8.u8)()]],{description:"RevokeDataItemV1InstructionData"}),n=>({...n,discriminator:45,revokeDataItemV1Discriminator:11}))}ZI.getRevokeDataItemV1InstructionDataSerializer=wCe;function cIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,g0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,UF.findMetadataDelegateRecordPda)(n,{delegateRole:aIt.MetadataDelegateRole.DataItem,updateAuthority:(0,g0.expectSome)(s.updateAuthority),mint:(0,g0.expectPublicKey)(r.mint.value),delegate:(0,g0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,UF.findMetadataPda)(n,{mint:(0,g0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,oIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,UF.findMasterEditionPda)(n,{mint:(0,g0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,dye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,g0.getAccountMetasAndSigners)(i,"programId",t),c=wCe().serialize({}),u=0;return(0,dye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ZI.revokeDataItemV1=cIt;var JI={};Object.defineProperty(JI,"__esModule",{value:!0});JI.revokeDataV1=JI.getRevokeDataV1InstructionDataSerializer=void 0;const fye=Z,b8=q,uIt=on,VF=Ut,m0=Ne,lIt=ut;function ICe(){return(0,b8.mapSerializer)((0,b8.struct)([["discriminator",(0,b8.u8)()],["revokeDataV1Discriminator",(0,b8.u8)()]],{description:"RevokeDataV1InstructionData"}),n=>({...n,discriminator:45,revokeDataV1Discriminator:3}))}JI.getRevokeDataV1InstructionDataSerializer=ICe;function dIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,m0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,VF.findMetadataDelegateRecordPda)(n,{delegateRole:lIt.MetadataDelegateRole.Data,updateAuthority:(0,m0.expectSome)(s.updateAuthority),mint:(0,m0.expectPublicKey)(r.mint.value),delegate:(0,m0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,VF.findMetadataPda)(n,{mint:(0,m0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,uIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,VF.findMasterEditionPda)(n,{mint:(0,m0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,fye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,m0.getAccountMetasAndSigners)(i,"programId",t),c=ICe().serialize({}),u=0;return(0,fye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}JI.revokeDataV1=dIt;var XI={};Object.defineProperty(XI,"__esModule",{value:!0});XI.revokeLockedTransferV1=XI.getRevokeLockedTransferV1InstructionDataSerializer=void 0;const fIt=Hs,hye=Z,S8=q,hIt=on,k8=Ut,Lh=Ne,gIt=ut;function PCe(){return(0,S8.mapSerializer)((0,S8.struct)([["discriminator",(0,S8.u8)()],["revokeLockedTransferV1Discriminator",(0,S8.u8)()]],{description:"RevokeLockedTransferV1InstructionData"}),n=>({...n,discriminator:45,revokeLockedTransferV1Discriminator:7}))}XI.getRevokeLockedTransferV1InstructionDataSerializer=PCe;function mIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,fIt.findAssociatedTokenPda)(n,{mint:(0,Lh.expectPublicKey)(r.mint.value),owner:(0,Lh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,k8.findTokenRecordPda)(n,{mint:(0,Lh.expectPublicKey)(r.mint.value),token:(0,Lh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,k8.findMetadataPda)(n,{mint:(0,Lh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,hIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,k8.findMasterEditionPda)(n,{mint:(0,Lh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===gIt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,k8.findTokenRecordPda)(n,{mint:(0,Lh.expectPublicKey)(r.mint.value),token:(0,Lh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,hye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Lh.getAccountMetasAndSigners)(i,"programId",t),c=PCe().serialize({}),u=0;return(0,hye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}XI.revokeLockedTransferV1=mIt;var QI={};Object.defineProperty(QI,"__esModule",{value:!0});QI.revokeMigrationV1=QI.getRevokeMigrationV1InstructionDataSerializer=void 0;const yIt=Hs,gye=Z,v8=q,pIt=on,A8=Ut,Wh=Ne,bIt=ut;function _Ce(){return(0,v8.mapSerializer)((0,v8.struct)([["discriminator",(0,v8.u8)()],["revokeMigrationV1Discriminator",(0,v8.u8)()]],{description:"RevokeMigrationV1InstructionData"}),n=>({...n,discriminator:45,revokeMigrationV1Discriminator:9}))}QI.getRevokeMigrationV1InstructionDataSerializer=_Ce;function SIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,yIt.findAssociatedTokenPda)(n,{mint:(0,Wh.expectPublicKey)(r.mint.value),owner:(0,Wh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,A8.findTokenRecordPda)(n,{mint:(0,Wh.expectPublicKey)(r.mint.value),token:(0,Wh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,A8.findMetadataPda)(n,{mint:(0,Wh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,pIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,A8.findMasterEditionPda)(n,{mint:(0,Wh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===bIt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,A8.findTokenRecordPda)(n,{mint:(0,Wh.expectPublicKey)(r.mint.value),token:(0,Wh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,gye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Wh.getAccountMetasAndSigners)(i,"programId",t),c=_Ce().serialize({}),u=0;return(0,gye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}QI.revokeMigrationV1=SIt;var eP={};Object.defineProperty(eP,"__esModule",{value:!0});eP.revokePrintDelegateV1=eP.getRevokePrintDelegateV1InstructionDataSerializer=void 0;const mye=Z,w8=q,kIt=on,yye=Ut,qF=Ne;function ECe(){return(0,w8.mapSerializer)((0,w8.struct)([["discriminator",(0,w8.u8)()],["revokePrintDelegateV1Discriminator",(0,w8.u8)()]],{description:"RevokePrintDelegateV1InstructionData"}),n=>({...n,discriminator:45,revokePrintDelegateV1Discriminator:14}))}eP.getRevokePrintDelegateV1InstructionDataSerializer=ECe;function vIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}};r.metadata.value||(r.metadata.value=(0,yye.findMetadataPda)(n,{mint:(0,qF.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,kIt.resolveIsNonFungible)(n,r,e,t,!1)&&(r.masterEdition.value=(0,yye.findMasterEditionPda)(n,{mint:(0,qF.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,mye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,qF.getAccountMetasAndSigners)(s,"programId",t),a=ECe().serialize({}),c=0;return(0,mye.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}eP.revokePrintDelegateV1=vIt;var tP={};Object.defineProperty(tP,"__esModule",{value:!0});tP.revokeProgrammableConfigItemV1=tP.getRevokeProgrammableConfigItemV1InstructionDataSerializer=void 0;const pye=Z,I8=q,AIt=on,jF=Ut,y0=Ne,wIt=ut;function xCe(){return(0,I8.mapSerializer)((0,I8.struct)([["discriminator",(0,I8.u8)()],["revokeProgrammableConfigItemV1Discriminator",(0,I8.u8)()]],{description:"RevokeProgrammableConfigItemV1InstructionData"}),n=>({...n,discriminator:45,revokeProgrammableConfigItemV1Discriminator:13}))}tP.getRevokeProgrammableConfigItemV1InstructionDataSerializer=xCe;function IIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,y0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,jF.findMetadataDelegateRecordPda)(n,{delegateRole:wIt.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,y0.expectSome)(s.updateAuthority),mint:(0,y0.expectPublicKey)(r.mint.value),delegate:(0,y0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,jF.findMetadataPda)(n,{mint:(0,y0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,AIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,jF.findMasterEditionPda)(n,{mint:(0,y0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,pye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,y0.getAccountMetasAndSigners)(i,"programId",t),c=xCe().serialize({}),u=0;return(0,pye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}tP.revokeProgrammableConfigItemV1=IIt;var rP={};Object.defineProperty(rP,"__esModule",{value:!0});rP.revokeProgrammableConfigV1=rP.getRevokeProgrammableConfigV1InstructionDataSerializer=void 0;const bye=Z,P8=q,PIt=on,HF=Ut,p0=Ne,_It=ut;function TCe(){return(0,P8.mapSerializer)((0,P8.struct)([["discriminator",(0,P8.u8)()],["revokeProgrammableConfigV1Discriminator",(0,P8.u8)()]],{description:"RevokeProgrammableConfigV1InstructionData"}),n=>({...n,discriminator:45,revokeProgrammableConfigV1Discriminator:8}))}rP.getRevokeProgrammableConfigV1InstructionDataSerializer=TCe;function EIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,p0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,HF.findMetadataDelegateRecordPda)(n,{delegateRole:_It.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,p0.expectSome)(s.updateAuthority),mint:(0,p0.expectPublicKey)(r.mint.value),delegate:(0,p0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,HF.findMetadataPda)(n,{mint:(0,p0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,PIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,HF.findMasterEditionPda)(n,{mint:(0,p0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,bye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,p0.getAccountMetasAndSigners)(i,"programId",t),c=TCe().serialize({}),u=0;return(0,bye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}rP.revokeProgrammableConfigV1=EIt;var nP={};Object.defineProperty(nP,"__esModule",{value:!0});nP.revokeSaleV1=nP.getRevokeSaleV1InstructionDataSerializer=void 0;const xIt=Hs,Sye=Z,_8=q,TIt=on,E8=Ut,Nh=Ne,RIt=ut;function RCe(){return(0,_8.mapSerializer)((0,_8.struct)([["discriminator",(0,_8.u8)()],["revokeSaleV1Discriminator",(0,_8.u8)()]],{description:"RevokeSaleV1InstructionData"}),n=>({...n,discriminator:45,revokeSaleV1Discriminator:1}))}nP.getRevokeSaleV1InstructionDataSerializer=RCe;function CIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,xIt.findAssociatedTokenPda)(n,{mint:(0,Nh.expectPublicKey)(r.mint.value),owner:(0,Nh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,E8.findTokenRecordPda)(n,{mint:(0,Nh.expectPublicKey)(r.mint.value),token:(0,Nh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,E8.findMetadataPda)(n,{mint:(0,Nh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,TIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,E8.findMasterEditionPda)(n,{mint:(0,Nh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===RIt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,E8.findTokenRecordPda)(n,{mint:(0,Nh.expectPublicKey)(r.mint.value),token:(0,Nh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Sye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Nh.getAccountMetasAndSigners)(i,"programId",t),c=RCe().serialize({}),u=0;return(0,Sye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}nP.revokeSaleV1=CIt;var sP={};Object.defineProperty(sP,"__esModule",{value:!0});sP.revokeStakingV1=sP.getRevokeStakingV1InstructionDataSerializer=void 0;const MIt=Hs,kye=Z,x8=q,BIt=on,T8=Ut,Fh=Ne,zIt=ut;function CCe(){return(0,x8.mapSerializer)((0,x8.struct)([["discriminator",(0,x8.u8)()],["revokeStakingV1Discriminator",(0,x8.u8)()]],{description:"RevokeStakingV1InstructionData"}),n=>({...n,discriminator:45,revokeStakingV1Discriminator:5}))}sP.getRevokeStakingV1InstructionDataSerializer=CCe;function $It(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,MIt.findAssociatedTokenPda)(n,{mint:(0,Fh.expectPublicKey)(r.mint.value),owner:(0,Fh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,T8.findTokenRecordPda)(n,{mint:(0,Fh.expectPublicKey)(r.mint.value),token:(0,Fh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,T8.findMetadataPda)(n,{mint:(0,Fh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,BIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,T8.findMasterEditionPda)(n,{mint:(0,Fh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===zIt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,T8.findTokenRecordPda)(n,{mint:(0,Fh.expectPublicKey)(r.mint.value),token:(0,Fh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,kye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Fh.getAccountMetasAndSigners)(i,"programId",t),c=CCe().serialize({}),u=0;return(0,kye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}sP.revokeStakingV1=$It;var iP={};Object.defineProperty(iP,"__esModule",{value:!0});iP.revokeStandardV1=iP.getRevokeStandardV1InstructionDataSerializer=void 0;const DIt=Hs,vye=Z,R8=q,OIt=on,GF=Ut,b0=Ne;function MCe(){return(0,R8.mapSerializer)((0,R8.struct)([["discriminator",(0,R8.u8)()],["revokeStandardV1Discriminator",(0,R8.u8)()]],{description:"RevokeStandardV1InstructionData"}),n=>({...n,discriminator:45,revokeStandardV1Discriminator:6}))}iP.getRevokeStandardV1InstructionDataSerializer=MCe;function KIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,DIt.findAssociatedTokenPda)(n,{mint:(0,b0.expectPublicKey)(r.mint.value),owner:(0,b0.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,GF.findTokenRecordPda)(n,{mint:(0,b0.expectPublicKey)(r.mint.value),token:(0,b0.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,GF.findMetadataPda)(n,{mint:(0,b0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,OIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,GF.findMasterEditionPda)(n,{mint:(0,b0.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,vye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,b0.getAccountMetasAndSigners)(i,"programId",t),c=MCe().serialize({}),u=0;return(0,vye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}iP.revokeStandardV1=KIt;var oP={};Object.defineProperty(oP,"__esModule",{value:!0});oP.revokeTransferV1=oP.getRevokeTransferV1InstructionDataSerializer=void 0;const LIt=Hs,Aye=Z,C8=q,WIt=on,M8=Ut,Uh=Ne,NIt=ut;function BCe(){return(0,C8.mapSerializer)((0,C8.struct)([["discriminator",(0,C8.u8)()],["revokeTransferV1Discriminator",(0,C8.u8)()]],{description:"RevokeTransferV1InstructionData"}),n=>({...n,discriminator:45,revokeTransferV1Discriminator:2}))}oP.getRevokeTransferV1InstructionDataSerializer=BCe;function FIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,LIt.findAssociatedTokenPda)(n,{mint:(0,Uh.expectPublicKey)(r.mint.value),owner:(0,Uh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,M8.findTokenRecordPda)(n,{mint:(0,Uh.expectPublicKey)(r.mint.value),token:(0,Uh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,M8.findMetadataPda)(n,{mint:(0,Uh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,WIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,M8.findMasterEditionPda)(n,{mint:(0,Uh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===NIt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,M8.findTokenRecordPda)(n,{mint:(0,Uh.expectPublicKey)(r.mint.value),token:(0,Uh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Aye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Uh.getAccountMetasAndSigners)(i,"programId",t),c=BCe().serialize({}),u=0;return(0,Aye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}oP.revokeTransferV1=FIt;var aP={};Object.defineProperty(aP,"__esModule",{value:!0});aP.revokeUseAuthority=aP.getRevokeUseAuthorityInstructionDataSerializer=void 0;const UIt=Z,YF=q,VIt=Ut,wye=Ne;function zCe(){return(0,YF.mapSerializer)((0,YF.struct)([["discriminator",(0,YF.u8)()]],{description:"RevokeUseAuthorityInstructionData"}),n=>({...n,discriminator:21}))}aP.getRevokeUseAuthorityInstructionDataSerializer=zCe;function qIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={useAuthorityRecord:{index:0,isWritable:!0,value:e.useAuthorityRecord??null},owner:{index:1,isWritable:!0,value:e.owner??null},user:{index:2,isWritable:!1,value:e.user??null},ownerTokenAccount:{index:3,isWritable:!0,value:e.ownerTokenAccount??null},mint:{index:4,isWritable:!1,value:e.mint??null},metadata:{index:5,isWritable:!1,value:e.metadata??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null}};r.metadata.value||(r.metadata.value=(0,VIt.findMetadataPda)(n,{mint:(0,wye.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,wye.getAccountMetasAndSigners)(s,"omitted",t),a=zCe().serialize({}),c=0;return(0,UIt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}aP.revokeUseAuthority=qIt;var cP={};Object.defineProperty(cP,"__esModule",{value:!0});cP.revokeUtilityV1=cP.getRevokeUtilityV1InstructionDataSerializer=void 0;const jIt=Hs,Iye=Z,B8=q,HIt=on,z8=Ut,Vh=Ne,GIt=ut;function $Ce(){return(0,B8.mapSerializer)((0,B8.struct)([["discriminator",(0,B8.u8)()],["revokeUtilityV1Discriminator",(0,B8.u8)()]],{description:"RevokeUtilityV1InstructionData"}),n=>({...n,discriminator:45,revokeUtilityV1Discriminator:4}))}cP.getRevokeUtilityV1InstructionDataSerializer=$Ce;function YIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,jIt.findAssociatedTokenPda)(n,{mint:(0,Vh.expectPublicKey)(r.mint.value),owner:(0,Vh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,z8.findTokenRecordPda)(n,{mint:(0,Vh.expectPublicKey)(r.mint.value),token:(0,Vh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,z8.findMetadataPda)(n,{mint:(0,Vh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,HIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,z8.findMasterEditionPda)(n,{mint:(0,Vh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===GIt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,z8.findTokenRecordPda)(n,{mint:(0,Vh.expectPublicKey)(r.mint.value),token:(0,Vh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Iye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Vh.getAccountMetasAndSigners)(i,"programId",t),c=$Ce().serialize({}),u=0;return(0,Iye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}cP.revokeUtilityV1=YIt;var uP={};Object.defineProperty(uP,"__esModule",{value:!0});uP.setAndVerifyCollection=uP.getSetAndVerifyCollectionInstructionDataSerializer=void 0;const ZIt=Z,ZF=q,JIt=Ne;function DCe(){return(0,ZF.mapSerializer)((0,ZF.struct)([["discriminator",(0,ZF.u8)()]],{description:"SetAndVerifyCollectionInstructionData"}),n=>({...n,discriminator:25}))}uP.getSetAndVerifyCollectionInstructionDataSerializer=DCe;function XIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},updateAuthority:{index:3,isWritable:!1,value:e.updateAuthority??null},collectionMint:{index:4,isWritable:!1,value:e.collectionMint??null},collection:{index:5,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:6,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:7,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,JIt.getAccountMetasAndSigners)(s,"omitted",t),a=DCe().serialize({}),c=0;return(0,ZIt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}uP.setAndVerifyCollection=XIt;var lP={};Object.defineProperty(lP,"__esModule",{value:!0});lP.setAndVerifySizedCollectionItem=lP.getSetAndVerifySizedCollectionItemInstructionDataSerializer=void 0;const QIt=Z,JF=q,ePt=Ne;function OCe(){return(0,JF.mapSerializer)((0,JF.struct)([["discriminator",(0,JF.u8)()]],{description:"SetAndVerifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:32}))}lP.getSetAndVerifySizedCollectionItemInstructionDataSerializer=OCe;function tPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},updateAuthority:{index:3,isWritable:!1,value:e.updateAuthority??null},collectionMint:{index:4,isWritable:!1,value:e.collectionMint??null},collection:{index:5,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:6,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:7,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,ePt.getAccountMetasAndSigners)(s,"omitted",t),a=OCe().serialize({}),c=0;return(0,QIt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}lP.setAndVerifySizedCollectionItem=tPt;var dP={};Object.defineProperty(dP,"__esModule",{value:!0});dP.setCollectionSize=dP.getSetCollectionSizeInstructionDataSerializer=void 0;const rPt=Z,XF=q,nPt=Ne,sPt=ut;function KCe(){return(0,XF.mapSerializer)((0,XF.struct)([["discriminator",(0,XF.u8)()],["setCollectionSizeArgs",(0,sPt.getSetCollectionSizeArgsSerializer)()]],{description:"SetCollectionSizeInstructionData"}),n=>({...n,discriminator:34}))}dP.getSetCollectionSizeInstructionDataSerializer=KCe;function iPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionMetadata:{index:0,isWritable:!0,value:e.collectionMetadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},collectionAuthorityRecord:{index:3,isWritable:!1,value:e.collectionAuthorityRecord??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,nPt.getAccountMetasAndSigners)(i,"omitted",t),c=KCe().serialize(s),u=0;return(0,rPt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}dP.setCollectionSize=iPt;var fP={};Object.defineProperty(fP,"__esModule",{value:!0});fP.setTokenStandard=fP.getSetTokenStandardInstructionDataSerializer=void 0;const oPt=Z,QF=q,aPt=Ut,Pye=Ne;function LCe(){return(0,QF.mapSerializer)((0,QF.struct)([["discriminator",(0,QF.u8)()]],{description:"SetTokenStandardInstructionData"}),n=>({...n,discriminator:35}))}fP.getSetTokenStandardInstructionDataSerializer=LCe;function cPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},updateAuthority:{index:1,isWritable:!1,value:e.updateAuthority??null},mint:{index:2,isWritable:!1,value:e.mint??null},edition:{index:3,isWritable:!1,value:e.edition??null}};r.metadata.value||(r.metadata.value=(0,aPt.findMetadataPda)(n,{mint:(0,Pye.expectPublicKey)(r.mint.value)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Pye.getAccountMetasAndSigners)(s,"omitted",t),a=LCe().serialize({}),c=0;return(0,oPt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}fP.setTokenStandard=cPt;var hP={};Object.defineProperty(hP,"__esModule",{value:!0});hP.signMetadata=hP.getSignMetadataInstructionDataSerializer=void 0;const uPt=Z,eU=q,lPt=Ne;function WCe(){return(0,eU.mapSerializer)((0,eU.struct)([["discriminator",(0,eU.u8)()]],{description:"SignMetadataInstructionData"}),n=>({...n,discriminator:7}))}hP.getSignMetadataInstructionDataSerializer=WCe;function dPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},creator:{index:1,isWritable:!1,value:e.creator??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,lPt.getAccountMetasAndSigners)(s,"programId",t),a=WCe().serialize({}),c=0;return(0,uPt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}hP.signMetadata=dPt;var gP={};Object.defineProperty(gP,"__esModule",{value:!0});gP.thawDelegatedAccount=gP.getThawDelegatedAccountInstructionDataSerializer=void 0;const fPt=Z,tU=q,hPt=Ut,_ye=Ne;function NCe(){return(0,tU.mapSerializer)((0,tU.struct)([["discriminator",(0,tU.u8)()]],{description:"ThawDelegatedAccountInstructionData"}),n=>({...n,discriminator:27}))}gP.getThawDelegatedAccountInstructionDataSerializer=NCe;function gPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegate:{index:0,isWritable:!0,value:e.delegate??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},edition:{index:2,isWritable:!1,value:e.edition??null},mint:{index:3,isWritable:!1,value:e.mint??null},tokenProgram:{index:4,isWritable:!1,value:e.tokenProgram??null}};r.edition.value||(r.edition.value=(0,hPt.findMasterEditionPda)(n,{mint:(0,_ye.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,_ye.getAccountMetasAndSigners)(s,"programId",t),a=NCe().serialize({}),c=0;return(0,fPt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}gP.thawDelegatedAccount=gPt;var mP={};Object.defineProperty(mP,"__esModule",{value:!0});mP.transferOutOfEscrow=mP.getTransferOutOfEscrowInstructionDataSerializer=void 0;const Eye=Z,$8=q,mPt=Ne;function FCe(){return(0,$8.mapSerializer)((0,$8.struct)([["discriminator",(0,$8.u8)()],["amount",(0,$8.u64)()]],{description:"TransferOutOfEscrowInstructionData"}),n=>({...n,discriminator:40,amount:n.amount??1}))}mP.getTransferOutOfEscrowInstructionDataSerializer=FCe;function yPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!1,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},payer:{index:2,isWritable:!0,value:e.payer??null},attributeMint:{index:3,isWritable:!1,value:e.attributeMint??null},attributeSrc:{index:4,isWritable:!0,value:e.attributeSrc??null},attributeDst:{index:5,isWritable:!0,value:e.attributeDst??null},escrowMint:{index:6,isWritable:!1,value:e.escrowMint??null},escrowAccount:{index:7,isWritable:!1,value:e.escrowAccount??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},ataProgram:{index:9,isWritable:!1,value:e.ataProgram??null},tokenProgram:{index:10,isWritable:!1,value:e.tokenProgram??null},sysvarInstructions:{index:11,isWritable:!1,value:e.sysvarInstructions??null},authority:{index:12,isWritable:!1,value:e.authority??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Eye.publicKey)("Sysvar1nstructions1111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,mPt.getAccountMetasAndSigners)(i,"omitted",t),c=FCe().serialize(s),u=0;return(0,Eye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}mP.transferOutOfEscrow=yPt;var yP={};Object.defineProperty(yP,"__esModule",{value:!0});yP.transferV1=yP.getTransferV1InstructionDataSerializer=void 0;const xye=Hs,lj=Z,Uk=q,D8=Ut,Ul=Ne,zD=ut;function UCe(){return(0,Uk.mapSerializer)((0,Uk.struct)([["discriminator",(0,Uk.u8)()],["transferV1Discriminator",(0,Uk.u8)()],["amount",(0,Uk.u64)()],["authorizationData",(0,Uk.option)((0,zD.getAuthorizationDataSerializer)())]],{description:"TransferV1InstructionData"}),n=>({...n,discriminator:49,transferV1Discriminator:0,amount:n.amount??1,authorizationData:n.authorizationData??(0,lj.none)()}))}yP.getTransferV1InstructionDataSerializer=UCe;function pPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={token:{index:0,isWritable:!0,value:e.token??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},destinationToken:{index:2,isWritable:!0,value:e.destinationToken??null},destinationOwner:{index:3,isWritable:!1,value:e.destinationOwner??null},mint:{index:4,isWritable:!1,value:e.mint??null},metadata:{index:5,isWritable:!0,value:e.metadata??null},edition:{index:6,isWritable:!1,value:e.edition??null},tokenRecord:{index:7,isWritable:!0,value:e.tokenRecord??null},destinationTokenRecord:{index:8,isWritable:!0,value:e.destinationTokenRecord??null},authority:{index:9,isWritable:!1,value:e.authority??null},payer:{index:10,isWritable:!0,value:e.payer??null},systemProgram:{index:11,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:12,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:13,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:14,isWritable:!1,value:e.splAtaProgram??null},authorizationRulesProgram:{index:15,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:16,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.tokenOwner.value||(r.tokenOwner.value=n.identity.publicKey),r.token.value||(r.token.value=(0,xye.findAssociatedTokenPda)(n,{mint:(0,Ul.expectPublicKey)(r.mint.value),owner:(0,Ul.expectPublicKey)(r.tokenOwner.value)})),r.destinationToken.value||(r.destinationToken.value=(0,xye.findAssociatedTokenPda)(n,{mint:(0,Ul.expectPublicKey)(r.mint.value),owner:(0,Ul.expectPublicKey)(r.destinationOwner.value)})),r.metadata.value||(r.metadata.value=(0,D8.findMetadataPda)(n,{mint:(0,Ul.expectPublicKey)(r.mint.value)})),r.edition.value||s.tokenStandard===zD.TokenStandard.ProgrammableNonFungible&&(r.edition.value=(0,D8.findMasterEditionPda)(n,{mint:(0,Ul.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===zD.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,D8.findTokenRecordPda)(n,{mint:(0,Ul.expectPublicKey)(r.mint.value),token:(0,Ul.expectPublicKey)(r.token.value)})),r.destinationTokenRecord.value||s.tokenStandard===zD.TokenStandard.ProgrammableNonFungible&&(r.destinationTokenRecord.value=(0,D8.findTokenRecordPda)(n,{token:(0,Ul.expectPublicKey)(r.destinationToken.value),mint:(0,Ul.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,lj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Ul.getAccountMetasAndSigners)(i,"programId",t),c=UCe().serialize(s),u=0;return(0,lj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}yP.transferV1=pPt;var pP={};Object.defineProperty(pP,"__esModule",{value:!0});pP.unlockV1=pP.getUnlockV1InstructionDataSerializer=void 0;const bPt=Hs,dj=Z,mC=q,Tye=on,rU=Ut,S0=Ne,fj=ut;function VCe(){return(0,mC.mapSerializer)((0,mC.struct)([["discriminator",(0,mC.u8)()],["unlockV1Discriminator",(0,mC.u8)()],["authorizationData",(0,mC.option)((0,fj.getAuthorizationDataSerializer)())]],{description:"UnlockV1InstructionData"}),n=>({...n,discriminator:47,unlockV1Discriminator:0,authorizationData:n.authorizationData??(0,dj.none)()}))}pP.getUnlockV1InstructionDataSerializer=VCe;function SPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},tokenRecord:{index:6,isWritable:!0,value:e.tokenRecord??null},payer:{index:7,isWritable:!0,value:e.payer??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:9,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:10,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:11,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:12,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,Tye.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,bPt.findAssociatedTokenPda)(n,{mint:(0,S0.expectPublicKey)(r.mint.value),owner:(0,S0.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,rU.findMetadataPda)(n,{mint:(0,S0.expectPublicKey)(r.mint.value)})),r.edition.value||(0,Tye.resolveIsNonFungible)(n,r,s,t,!1)&&(r.edition.value=(0,rU.findMasterEditionPda)(n,{mint:(0,S0.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===fj.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,rU.findTokenRecordPda)(n,{mint:(0,S0.expectPublicKey)(r.mint.value),token:(0,S0.expectPublicKey)(r.token.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,dj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||s.tokenStandard!==fj.TokenStandard.ProgrammableNonFungible&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,S0.getAccountMetasAndSigners)(i,"programId",t),c=VCe().serialize(s),u=0;return(0,dj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}pP.unlockV1=SPt;var bP={};Object.defineProperty(bP,"__esModule",{value:!0});bP.unverifyCollection=bP.getUnverifyCollectionInstructionDataSerializer=void 0;const kPt=Z,nU=q,vPt=Ne;function qCe(){return(0,nU.mapSerializer)((0,nU.struct)([["discriminator",(0,nU.u8)()]],{description:"UnverifyCollectionInstructionData"}),n=>({...n,discriminator:22}))}bP.getUnverifyCollectionInstructionDataSerializer=qCe;function APt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},collection:{index:3,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:4,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:5,isWritable:!1,value:e.collectionAuthorityRecord??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,vPt.getAccountMetasAndSigners)(s,"omitted",t),a=qCe().serialize({}),c=0;return(0,kPt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}bP.unverifyCollection=APt;var SP={};Object.defineProperty(SP,"__esModule",{value:!0});SP.unverifyCollectionV1=SP.getUnverifyCollectionV1InstructionDataSerializer=void 0;const Rye=Z,O8=q,wPt=Ut,Cye=Ne;function jCe(){return(0,O8.mapSerializer)((0,O8.struct)([["discriminator",(0,O8.u8)()],["unverifyCollectionV1Discriminator",(0,O8.u8)()]],{description:"UnverifyCollectionV1InstructionData"}),n=>({...n,discriminator:53,unverifyCollectionV1Discriminator:1}))}SP.getUnverifyCollectionV1InstructionDataSerializer=jCe;function IPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:6,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,wPt.findMetadataPda)(n,{mint:(0,Cye.expectPublicKey)(r.collectionMint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Rye.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Cye.getAccountMetasAndSigners)(s,"programId",t),a=jCe().serialize({}),c=0;return(0,Rye.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}SP.unverifyCollectionV1=IPt;var kP={};Object.defineProperty(kP,"__esModule",{value:!0});kP.unverifyCreatorV1=kP.getUnverifyCreatorV1InstructionDataSerializer=void 0;const Mye=Z,K8=q,PPt=Ne;function HCe(){return(0,K8.mapSerializer)((0,K8.struct)([["discriminator",(0,K8.u8)()],["unverifyCreatorV1Discriminator",(0,K8.u8)()]],{description:"UnverifyCreatorV1InstructionData"}),n=>({...n,discriminator:53,unverifyCreatorV1Discriminator:0}))}kP.getUnverifyCreatorV1InstructionDataSerializer=HCe;function _Pt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:6,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Mye.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,PPt.getAccountMetasAndSigners)(s,"programId",t),a=HCe().serialize({}),c=0;return(0,Mye.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}kP.unverifyCreatorV1=_Pt;var vP={};Object.defineProperty(vP,"__esModule",{value:!0});vP.unverifySizedCollectionItem=vP.getUnverifySizedCollectionItemInstructionDataSerializer=void 0;const EPt=Z,sU=q,xPt=Ne;function GCe(){return(0,sU.mapSerializer)((0,sU.struct)([["discriminator",(0,sU.u8)()]],{description:"UnverifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:31}))}vP.getUnverifySizedCollectionItemInstructionDataSerializer=GCe;function TPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,xPt.getAccountMetasAndSigners)(s,"omitted",t),a=GCe().serialize({}),c=0;return(0,EPt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}vP.unverifySizedCollectionItem=TPt;var AP={};Object.defineProperty(AP,"__esModule",{value:!0});AP.updateAsAuthorityItemDelegateV2=AP.getUpdateAsAuthorityItemDelegateV2InstructionDataSerializer=void 0;const d1=Z,cl=q,Bye=Ut,yC=Ne,hj=ut;function YCe(){return(0,cl.mapSerializer)((0,cl.struct)([["discriminator",(0,cl.u8)()],["updateAsAuthorityItemDelegateV2Discriminator",(0,cl.u8)()],["newUpdateAuthority",(0,cl.option)((0,cl.publicKey)())],["primarySaleHappened",(0,cl.option)((0,cl.bool)())],["isMutable",(0,cl.option)((0,cl.bool)())],["tokenStandard",(0,cl.option)((0,hj.getTokenStandardSerializer)())],["authorizationData",(0,cl.option)((0,hj.getAuthorizationDataSerializer)())]],{description:"UpdateAsAuthorityItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsAuthorityItemDelegateV2Discriminator:2,newUpdateAuthority:n.newUpdateAuthority??(0,d1.none)(),primarySaleHappened:n.primarySaleHappened??(0,d1.none)(),isMutable:n.isMutable??(0,d1.none)(),tokenStandard:n.tokenStandard??(0,d1.none)(),authorizationData:n.authorizationData??(0,d1.none)()}))}AP.getUpdateAsAuthorityItemDelegateV2InstructionDataSerializer=YCe;function RPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Bye.findMetadataDelegateRecordPda)(n,{delegateRole:hj.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,yC.expectSome)(s.updateAuthority),delegate:(0,yC.expectPublicKey)(r.authority.value),mint:(0,yC.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,Bye.findMetadataPda)(n,{mint:(0,yC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,d1.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,yC.getAccountMetasAndSigners)(i,"programId",t),c=YCe().serialize(s),u=0;return(0,d1.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}AP.updateAsAuthorityItemDelegateV2=RPt;var wP={};Object.defineProperty(wP,"__esModule",{value:!0});wP.updateAsCollectionDelegateV2=wP.getUpdateAsCollectionDelegateV2InstructionDataSerializer=void 0;const gj=Z,pC=q,zye=Ut,Vk=Ne,$D=ut;function ZCe(){return(0,pC.mapSerializer)((0,pC.struct)([["discriminator",(0,pC.u8)()],["updateAsCollectionDelegateV2Discriminator",(0,pC.u8)()],["collection",(0,$D.getCollectionToggleSerializer)()],["authorizationData",(0,pC.option)((0,$D.getAuthorizationDataSerializer)())]],{description:"UpdateAsCollectionDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsCollectionDelegateV2Discriminator:3,collection:n.collection??(0,$D.collectionToggle)("None"),authorizationData:n.authorizationData??(0,gj.none)()}))}wP.getUpdateAsCollectionDelegateV2InstructionDataSerializer=ZCe;function CPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,Vk.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,zye.findMetadataDelegateRecordPda)(n,{mint:(0,Vk.expectSome)(s.delegateMint),delegateRole:$D.MetadataDelegateRole.Collection,updateAuthority:(0,Vk.expectSome)(s.delegateUpdateAuthority),delegate:(0,Vk.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,zye.findMetadataPda)(n,{mint:(0,Vk.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,gj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Vk.getAccountMetasAndSigners)(i,"programId",t),c=ZCe().serialize(s),u=0;return(0,gj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}wP.updateAsCollectionDelegateV2=CPt;var IP={};Object.defineProperty(IP,"__esModule",{value:!0});IP.updateAsCollectionItemDelegateV2=IP.getUpdateAsCollectionItemDelegateV2InstructionDataSerializer=void 0;const mj=Z,bC=q,$ye=Ut,SC=Ne,DD=ut;function JCe(){return(0,bC.mapSerializer)((0,bC.struct)([["discriminator",(0,bC.u8)()],["updateAsCollectionItemDelegateV2Discriminator",(0,bC.u8)()],["collection",(0,DD.getCollectionToggleSerializer)()],["authorizationData",(0,bC.option)((0,DD.getAuthorizationDataSerializer)())]],{description:"UpdateAsCollectionItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsCollectionItemDelegateV2Discriminator:7,collection:n.collection??(0,DD.collectionToggle)("None"),authorizationData:n.authorizationData??(0,mj.none)()}))}IP.getUpdateAsCollectionItemDelegateV2InstructionDataSerializer=JCe;function MPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,$ye.findMetadataDelegateRecordPda)(n,{delegateRole:DD.MetadataDelegateRole.CollectionItem,updateAuthority:(0,SC.expectSome)(s.updateAuthority),delegate:(0,SC.expectPublicKey)(r.authority.value),mint:(0,SC.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,$ye.findMetadataPda)(n,{mint:(0,SC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,mj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,SC.getAccountMetasAndSigners)(i,"programId",t),c=JCe().serialize(s),u=0;return(0,mj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}IP.updateAsCollectionItemDelegateV2=MPt;var PP={};Object.defineProperty(PP,"__esModule",{value:!0});PP.updateAsDataDelegateV2=PP.getUpdateAsDataDelegateV2InstructionDataSerializer=void 0;const UO=Z,qk=q,Dye=Ut,jk=Ne,yj=ut;function XCe(){return(0,qk.mapSerializer)((0,qk.struct)([["discriminator",(0,qk.u8)()],["updateAsDataDelegateV2Discriminator",(0,qk.u8)()],["data",(0,qk.option)((0,yj.getDataSerializer)())],["authorizationData",(0,qk.option)((0,yj.getAuthorizationDataSerializer)())]],{description:"UpdateAsDataDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsDataDelegateV2Discriminator:4,data:n.data??(0,UO.none)(),authorizationData:n.authorizationData??(0,UO.none)()}))}PP.getUpdateAsDataDelegateV2InstructionDataSerializer=XCe;function BPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,jk.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Dye.findMetadataDelegateRecordPda)(n,{mint:(0,jk.expectSome)(s.delegateMint),delegateRole:yj.MetadataDelegateRole.Data,updateAuthority:(0,jk.expectSome)(s.delegateUpdateAuthority),delegate:(0,jk.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,Dye.findMetadataPda)(n,{mint:(0,jk.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,UO.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,jk.getAccountMetasAndSigners)(i,"programId",t),c=XCe().serialize(s),u=0;return(0,UO.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}PP.updateAsDataDelegateV2=BPt;var _P={};Object.defineProperty(_P,"__esModule",{value:!0});_P.updateAsDataItemDelegateV2=_P.getUpdateAsDataItemDelegateV2InstructionDataSerializer=void 0;const VO=Z,Hk=q,Oye=Ut,kC=Ne,pj=ut;function QCe(){return(0,Hk.mapSerializer)((0,Hk.struct)([["discriminator",(0,Hk.u8)()],["updateAsDataItemDelegateV2Discriminator",(0,Hk.u8)()],["data",(0,Hk.option)((0,pj.getDataSerializer)())],["authorizationData",(0,Hk.option)((0,pj.getAuthorizationDataSerializer)())]],{description:"UpdateAsDataItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsDataItemDelegateV2Discriminator:6,data:n.data??(0,VO.none)(),authorizationData:n.authorizationData??(0,VO.none)()}))}_P.getUpdateAsDataItemDelegateV2InstructionDataSerializer=QCe;function zPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Oye.findMetadataDelegateRecordPda)(n,{delegateRole:pj.MetadataDelegateRole.DataItem,updateAuthority:(0,kC.expectSome)(s.updateAuthority),delegate:(0,kC.expectPublicKey)(r.authority.value),mint:(0,kC.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,Oye.findMetadataPda)(n,{mint:(0,kC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,VO.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,kC.getAccountMetasAndSigners)(i,"programId",t),c=QCe().serialize(s),u=0;return(0,VO.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}_P.updateAsDataItemDelegateV2=zPt;var EP={};Object.defineProperty(EP,"__esModule",{value:!0});EP.updateAsProgrammableConfigDelegateV2=EP.getUpdateAsProgrammableConfigDelegateV2InstructionDataSerializer=void 0;const bj=Z,vC=q,Kye=Ut,Gk=Ne,OD=ut;function e2e(){return(0,vC.mapSerializer)((0,vC.struct)([["discriminator",(0,vC.u8)()],["updateAsProgrammableConfigDelegateV2Discriminator",(0,vC.u8)()],["ruleSet",(0,OD.getRuleSetToggleSerializer)()],["authorizationData",(0,vC.option)((0,OD.getAuthorizationDataSerializer)())]],{description:"UpdateAsProgrammableConfigDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsProgrammableConfigDelegateV2Discriminator:5,ruleSet:n.ruleSet??(0,OD.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,bj.none)()}))}EP.getUpdateAsProgrammableConfigDelegateV2InstructionDataSerializer=e2e;function $Pt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,Gk.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Kye.findMetadataDelegateRecordPda)(n,{mint:(0,Gk.expectSome)(s.delegateMint),delegateRole:OD.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,Gk.expectSome)(s.delegateUpdateAuthority),delegate:(0,Gk.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,Kye.findMetadataPda)(n,{mint:(0,Gk.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,bj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Gk.getAccountMetasAndSigners)(i,"programId",t),c=e2e().serialize(s),u=0;return(0,bj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}EP.updateAsProgrammableConfigDelegateV2=$Pt;var xP={};Object.defineProperty(xP,"__esModule",{value:!0});xP.updateAsProgrammableConfigItemDelegateV2=xP.getUpdateAsProgrammableConfigItemDelegateV2InstructionDataSerializer=void 0;const Sj=Z,AC=q,Lye=Ut,wC=Ne,KD=ut;function t2e(){return(0,AC.mapSerializer)((0,AC.struct)([["discriminator",(0,AC.u8)()],["updateAsProgrammableConfigItemDelegateV2Discriminator",(0,AC.u8)()],["ruleSet",(0,KD.getRuleSetToggleSerializer)()],["authorizationData",(0,AC.option)((0,KD.getAuthorizationDataSerializer)())]],{description:"UpdateAsProgrammableConfigItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsProgrammableConfigItemDelegateV2Discriminator:8,ruleSet:n.ruleSet??(0,KD.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,Sj.none)()}))}xP.getUpdateAsProgrammableConfigItemDelegateV2InstructionDataSerializer=t2e;function DPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Lye.findMetadataDelegateRecordPda)(n,{delegateRole:KD.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,wC.expectSome)(s.updateAuthority),delegate:(0,wC.expectPublicKey)(r.authority.value),mint:(0,wC.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,Lye.findMetadataPda)(n,{mint:(0,wC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Sj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,wC.getAccountMetasAndSigners)(i,"programId",t),c=t2e().serialize(s),u=0;return(0,Sj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}xP.updateAsProgrammableConfigItemDelegateV2=DPt;var TP={};Object.defineProperty(TP,"__esModule",{value:!0});TP.updateAsUpdateAuthorityV2=TP.getUpdateAsUpdateAuthorityV2InstructionDataSerializer=void 0;const Sy=Z,Ru=q,OPt=Ut,Wye=Ne,Vl=ut;function r2e(){return(0,Ru.mapSerializer)((0,Ru.struct)([["discriminator",(0,Ru.u8)()],["updateAsUpdateAuthorityV2Discriminator",(0,Ru.u8)()],["newUpdateAuthority",(0,Ru.option)((0,Ru.publicKey)())],["data",(0,Ru.option)((0,Vl.getDataSerializer)())],["primarySaleHappened",(0,Ru.option)((0,Ru.bool)())],["isMutable",(0,Ru.option)((0,Ru.bool)())],["collection",(0,Vl.getCollectionToggleSerializer)()],["collectionDetails",(0,Vl.getCollectionDetailsToggleSerializer)()],["uses",(0,Vl.getUsesToggleSerializer)()],["ruleSet",(0,Vl.getRuleSetToggleSerializer)()],["tokenStandard",(0,Ru.option)((0,Vl.getTokenStandardSerializer)())],["authorizationData",(0,Ru.option)((0,Vl.getAuthorizationDataSerializer)())]],{description:"UpdateAsUpdateAuthorityV2InstructionData"}),n=>({...n,discriminator:50,updateAsUpdateAuthorityV2Discriminator:1,newUpdateAuthority:n.newUpdateAuthority??(0,Sy.none)(),data:n.data??(0,Sy.none)(),primarySaleHappened:n.primarySaleHappened??(0,Sy.none)(),isMutable:n.isMutable??(0,Sy.none)(),collection:n.collection??(0,Vl.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,Vl.collectionDetailsToggle)("None"),uses:n.uses??(0,Vl.usesToggle)("None"),ruleSet:n.ruleSet??(0,Vl.ruleSetToggle)("None"),tokenStandard:n.tokenStandard??(0,Sy.none)(),authorizationData:n.authorizationData??(0,Sy.none)()}))}TP.getUpdateAsUpdateAuthorityV2InstructionDataSerializer=r2e;function KPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,OPt.findMetadataPda)(n,{mint:(0,Wye.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Sy.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Wye.getAccountMetasAndSigners)(i,"programId",t),c=r2e().serialize(s),u=0;return(0,Sy.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}TP.updateAsUpdateAuthorityV2=KPt;var RP={};Object.defineProperty(RP,"__esModule",{value:!0});RP.updateMetadataAccountV2=RP.getUpdateMetadataAccountV2InstructionDataSerializer=void 0;const E2=Z,Vd=q,LPt=Ne,WPt=ut;function n2e(){return(0,Vd.mapSerializer)((0,Vd.struct)([["discriminator",(0,Vd.u8)()],["data",(0,Vd.option)((0,WPt.getDataV2Serializer)())],["newUpdateAuthority",(0,Vd.option)((0,Vd.publicKey)())],["primarySaleHappened",(0,Vd.option)((0,Vd.bool)())],["isMutable",(0,Vd.option)((0,Vd.bool)())]],{description:"UpdateMetadataAccountV2InstructionData"}),n=>({...n,discriminator:15,data:n.data??(0,E2.none)(),newUpdateAuthority:n.newUpdateAuthority??(0,E2.none)(),primarySaleHappened:n.primarySaleHappened??(0,E2.none)(),isMutable:n.isMutable??(0,E2.none)()}))}RP.getUpdateMetadataAccountV2InstructionDataSerializer=n2e;function NPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},updateAuthority:{index:1,isWritable:!1,value:e.updateAuthority??null}},s={...e};r.updateAuthority.value||(r.updateAuthority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,LPt.getAccountMetasAndSigners)(i,"programId",t),c=n2e().serialize(s),u=0;return(0,E2.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}RP.updateMetadataAccountV2=NPt;var CP={};Object.defineProperty(CP,"__esModule",{value:!0});CP.updatePrimarySaleHappenedViaToken=CP.getUpdatePrimarySaleHappenedViaTokenInstructionDataSerializer=void 0;const FPt=Z,iU=q,UPt=Ne;function s2e(){return(0,iU.mapSerializer)((0,iU.struct)([["discriminator",(0,iU.u8)()]],{description:"UpdatePrimarySaleHappenedViaTokenInstructionData"}),n=>({...n,discriminator:4}))}CP.getUpdatePrimarySaleHappenedViaTokenInstructionDataSerializer=s2e;function VPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!1,value:e.owner??null},token:{index:2,isWritable:!1,value:e.token??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,UPt.getAccountMetasAndSigners)(s,"programId",t),a=s2e().serialize({}),c=0;return(0,FPt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}CP.updatePrimarySaleHappenedViaToken=VPt;var MP={};Object.defineProperty(MP,"__esModule",{value:!0});MP.updateV1=MP.getUpdateV1InstructionDataSerializer=void 0;const f1=Z,ul=q,qPt=Ut,Nye=Ne,qd=ut;function i2e(){return(0,ul.mapSerializer)((0,ul.struct)([["discriminator",(0,ul.u8)()],["updateV1Discriminator",(0,ul.u8)()],["newUpdateAuthority",(0,ul.option)((0,ul.publicKey)())],["data",(0,ul.option)((0,qd.getDataSerializer)())],["primarySaleHappened",(0,ul.option)((0,ul.bool)())],["isMutable",(0,ul.option)((0,ul.bool)())],["collection",(0,qd.getCollectionToggleSerializer)()],["collectionDetails",(0,qd.getCollectionDetailsToggleSerializer)()],["uses",(0,qd.getUsesToggleSerializer)()],["ruleSet",(0,qd.getRuleSetToggleSerializer)()],["authorizationData",(0,ul.option)((0,qd.getAuthorizationDataSerializer)())]],{description:"UpdateV1InstructionData"}),n=>({...n,discriminator:50,updateV1Discriminator:0,newUpdateAuthority:n.newUpdateAuthority??(0,f1.none)(),data:n.data??(0,f1.none)(),primarySaleHappened:n.primarySaleHappened??(0,f1.none)(),isMutable:n.isMutable??(0,f1.none)(),collection:n.collection??(0,qd.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,qd.collectionDetailsToggle)("None"),uses:n.uses??(0,qd.usesToggle)("None"),ruleSet:n.ruleSet??(0,qd.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,f1.none)()}))}MP.getUpdateV1InstructionDataSerializer=i2e;function jPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,qPt.findMetadataPda)(n,{mint:(0,Nye.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,f1.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Nye.getAccountMetasAndSigners)(i,"programId",t),c=i2e().serialize(s),u=0;return(0,f1.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}MP.updateV1=jPt;var BP={};Object.defineProperty(BP,"__esModule",{value:!0});BP.useV1=BP.getUseV1InstructionDataSerializer=void 0;const kj=Z,IC=q,HPt=Ut,Fye=Ne,GPt=ut;function o2e(){return(0,IC.mapSerializer)((0,IC.struct)([["discriminator",(0,IC.u8)()],["useV1Discriminator",(0,IC.u8)()],["authorizationData",(0,IC.option)((0,GPt.getAuthorizationDataSerializer)())]],{description:"UseV1InstructionData"}),n=>({...n,discriminator:51,useV1Discriminator:0,authorizationData:n.authorizationData??(0,kj.none)()}))}BP.getUseV1InstructionDataSerializer=o2e;function YPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!0,value:e.delegateRecord??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!0,value:e.edition??null},payer:{index:6,isWritable:!1,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:9,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:10,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:11,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,HPt.findMetadataPda)(n,{mint:(0,Fye.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,kj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Fye.getAccountMetasAndSigners)(i,"programId",t),c=o2e().serialize(s),u=0;return(0,kj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}BP.useV1=YPt;var zP={};Object.defineProperty(zP,"__esModule",{value:!0});zP.utilize=zP.getUtilizeInstructionDataSerializer=void 0;const Uye=Z,L8=q,ZPt=Ut,Vye=Ne;function a2e(){return(0,L8.mapSerializer)((0,L8.struct)([["discriminator",(0,L8.u8)()],["numberOfUses",(0,L8.u64)()]],{description:"UtilizeInstructionData"}),n=>({...n,discriminator:19}))}zP.getUtilizeInstructionDataSerializer=a2e;function JPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},mint:{index:2,isWritable:!0,value:e.mint??null},useAuthority:{index:3,isWritable:!0,value:e.useAuthority??null},owner:{index:4,isWritable:!1,value:e.owner??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null},ataProgram:{index:6,isWritable:!1,value:e.ataProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null},useAuthorityRecord:{index:9,isWritable:!0,value:e.useAuthorityRecord??null},burner:{index:10,isWritable:!1,value:e.burner??null}},s={...e};r.metadata.value||(r.metadata.value=(0,ZPt.findMetadataPda)(n,{mint:(0,Vye.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.rent.value||(r.rent.value=(0,Uye.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Vye.getAccountMetasAndSigners)(i,"omitted",t),c=a2e().serialize(s),u=0;return(0,Uye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}zP.utilize=JPt;var $P={};Object.defineProperty($P,"__esModule",{value:!0});$P.verifyCollection=$P.getVerifyCollectionInstructionDataSerializer=void 0;const XPt=Z,oU=q,QPt=Ne;function c2e(){return(0,oU.mapSerializer)((0,oU.struct)([["discriminator",(0,oU.u8)()]],{description:"VerifyCollectionInstructionData"}),n=>({...n,discriminator:18}))}$P.getVerifyCollectionInstructionDataSerializer=c2e;function e_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,QPt.getAccountMetasAndSigners)(s,"omitted",t),a=c2e().serialize({}),c=0;return(0,XPt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}$P.verifyCollection=e_t;var DP={};Object.defineProperty(DP,"__esModule",{value:!0});DP.verifyCollectionV1=DP.getVerifyCollectionV1InstructionDataSerializer=void 0;const qye=Z,W8=q,jye=Ut,aU=Ne;function u2e(){return(0,W8.mapSerializer)((0,W8.struct)([["discriminator",(0,W8.u8)()],["verifyCollectionV1Discriminator",(0,W8.u8)()]],{description:"VerifyCollectionV1InstructionData"}),n=>({...n,discriminator:52,verifyCollectionV1Discriminator:1}))}DP.getVerifyCollectionV1InstructionDataSerializer=u2e;function t_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},collectionMasterEdition:{index:5,isWritable:!1,value:e.collectionMasterEdition??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,jye.findMetadataPda)(n,{mint:(0,aU.expectPublicKey)(r.collectionMint.value)})),r.collectionMasterEdition.value||(r.collectionMasterEdition.value=(0,jye.findMasterEditionPda)(n,{mint:(0,aU.expectPublicKey)(r.collectionMint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,qye.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,aU.getAccountMetasAndSigners)(s,"programId",t),a=u2e().serialize({}),c=0;return(0,qye.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}DP.verifyCollectionV1=t_t;var OP={};Object.defineProperty(OP,"__esModule",{value:!0});OP.verifyCreatorV1=OP.getVerifyCreatorV1InstructionDataSerializer=void 0;const Hye=Z,N8=q,r_t=Ne;function l2e(){return(0,N8.mapSerializer)((0,N8.struct)([["discriminator",(0,N8.u8)()],["verifyCreatorV1Discriminator",(0,N8.u8)()]],{description:"VerifyCreatorV1InstructionData"}),n=>({...n,discriminator:52,verifyCreatorV1Discriminator:0}))}OP.getVerifyCreatorV1InstructionDataSerializer=l2e;function n_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},collectionMasterEdition:{index:5,isWritable:!1,value:e.collectionMasterEdition??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Hye.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,r_t.getAccountMetasAndSigners)(s,"programId",t),a=l2e().serialize({}),c=0;return(0,Hye.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}OP.verifyCreatorV1=n_t;var KP={};Object.defineProperty(KP,"__esModule",{value:!0});KP.verifySizedCollectionItem=KP.getVerifySizedCollectionItemInstructionDataSerializer=void 0;const s_t=Z,cU=q,i_t=Ne;function d2e(){return(0,cU.mapSerializer)((0,cU.struct)([["discriminator",(0,cU.u8)()]],{description:"VerifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:30}))}KP.getVerifySizedCollectionItemInstructionDataSerializer=d2e;function o_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,i_t.getAccountMetasAndSigners)(s,"omitted",t),a=d2e().serialize({}),c=0;return(0,s_t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}KP.verifySizedCollectionItem=o_t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(cI,n),t(uI,n),t(lI,n),t(dI,n),t(fI,n),t(hI,n),t(gI,n),t(mI,n),t(yI,n),t(pI,n),t(bI,n),t(SI,n),t(kI,n),t(vI,n),t(AI,n),t(wI,n),t(II,n),t(PI,n),t(_I,n),t(EI,n),t(xI,n),t(TI,n),t(RI,n),t(CI,n),t(MI,n),t(BI,n),t(zI,n),t($I,n),t(DI,n),t(OI,n),t(KI,n),t(LI,n),t(WI,n),t(NI,n),t(FI,n),t(UI,n),t(VI,n),t(qI,n),t(jI,n),t(HI,n),t(GI,n),t(YI,n),t(ZI,n),t(JI,n),t(XI,n),t(QI,n),t(eP,n),t(tP,n),t(rP,n),t(nP,n),t(sP,n),t(iP,n),t(oP,n),t(aP,n),t(cP,n),t(uP,n),t(lP,n),t(dP,n),t(fP,n),t(hP,n),t(gP,n),t(mP,n),t(yP,n),t(pP,n),t(bP,n),t(SP,n),t(kP,n),t(vP,n),t(AP,n),t(wP,n),t(IP,n),t(PP,n),t(_P,n),t(EP,n),t(xP,n),t(TP,n),t(RP,n),t(CP,n),t(MP,n),t(BP,n),t(zP,n),t($P,n),t(DP,n),t(OP,n),t(KP,n)})(vRe);var f2e={},h2e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplTokenMetadataProgramId=n.getMplTokenMetadataProgram=n.createMplTokenMetadataProgram=n.MPL_TOKEN_METADATA_PROGRAM_ID=void 0;const e=FQ;n.MPL_TOKEN_METADATA_PROGRAM_ID="metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s";function t(){return{name:"mplTokenMetadata",publicKey:n.MPL_TOKEN_METADATA_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplTokenMetadataErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplTokenMetadataErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplTokenMetadataProgram=t;function r(i,o){return i.programs.get("mplTokenMetadata",o)}n.getMplTokenMetadataProgram=r;function s(i,o){return i.programs.getPublicKey("mplTokenMetadata",n.MPL_TOKEN_METADATA_PROGRAM_ID,o)}n.getMplTokenMetadataProgramId=s})(h2e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(h2e,n)})(f2e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Ut,n),t(FQ,n),t(vRe,n),t(f2e,n),t(Ne,n),t(ut,n)})(Db);var g2e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFungibleAsset=n.createFungible=n.createProgrammableNft=n.createNft=n.createAndMint=void 0;const e=Z,t=Db,r=(c,u)=>(0,e.transactionBuilder)().add((0,t.createV1)(c,u)).add((0,t.mintV1)(c,{...u,mint:(0,e.publicKey)(u.mint)}));n.createAndMint=r;const s=(c,u)=>(0,n.createAndMint)(c,{...u,tokenStandard:t.TokenStandard.NonFungible,amount:1});n.createNft=s;const i=(c,u)=>(0,n.createAndMint)(c,{...u,tokenStandard:t.TokenStandard.ProgrammableNonFungible,amount:1});n.createProgrammableNft=i;const o=(c,u)=>(0,t.createV1)(c,{...u,tokenStandard:t.TokenStandard.Fungible});n.createFungible=o;const a=(c,u)=>(0,t.createV1)(c,{...u,tokenStandard:t.TokenStandard.FungibleAsset});n.createFungibleAsset=a})(g2e);var Ac={};Object.defineProperty(Ac,"__esModule",{value:!0});Ac.deserializeDigitalAssetWithToken=Ac.fetchAllDigitalAssetWithTokenByMint=Ac.fetchAllDigitalAssetWithTokenByOwnerAndMint=Ac.fetchAllDigitalAssetWithTokenByOwner=Ac.fetchDigitalAssetWithTokenByMint=Ac.fetchDigitalAssetWithAssociatedToken=Ac.fetchDigitalAssetWithToken=void 0;const yp=Z,nL=Hs,m2e=rL,sd=Db;async function y2e(n,e,t,r){const[s,i,o,a,c]=await n.rpc.getAccounts([e,(0,sd.findMetadataPda)(n,{mint:e})[0],(0,sd.findMasterEditionPda)(n,{mint:e})[0],t,(0,sd.findTokenRecordPda)(n,{mint:e,token:t})[0]],r);return(0,yp.assertAccountExists)(s,"Mint"),(0,yp.assertAccountExists)(i,"Metadata"),(0,yp.assertAccountExists)(a,"Token"),_ne(s,i,a,o.exists?o:void 0,c.exists?c:void 0)}Ac.fetchDigitalAssetWithToken=y2e;async function a_t(n,e,t,r){const[s]=(0,nL.findAssociatedTokenPda)(n,{mint:e,owner:t});return y2e(n,e,s,r)}Ac.fetchDigitalAssetWithAssociatedToken=a_t;async function c_t(n,e,t){const r=await b2e(n,e,t);if(r.length===0)throw new Error("No valid token accounts found for the provided mint");if(r.length>1)throw new Error("Multiple valid token accounts found for the provided mintuse `fetchAllDigitalAssetWithTokenByMint` instead to retrieve them all.");return r[0]}Ac.fetchDigitalAssetWithTokenByMint=c_t;async function p2e(n,e,t){const r=await(0,nL.fetchAllTokenByOwner)(n,e,t),s=r.flatMap(o=>[o.mint,(0,sd.findMetadataPda)(n,{mint:o.mint})[0],(0,sd.findMasterEditionPda)(n,{mint:o.mint})[0],(0,sd.findTokenRecordPda)(n,{mint:o.mint,token:o.publicKey})[0]]),i=await n.rpc.getAccounts(s,t);return(0,yp.zipMap)(r,(0,yp.chunk)(i,4),(o,a)=>{if(!a||a.length!==4)return[];const[c,u,l,d]=a;if(!c.exists||!u.exists)return[];try{return[{...(0,m2e.deserializeDigitalAsset)(c,u,l.exists?l:void 0),token:o,tokenRecord:d.exists?(0,sd.deserializeTokenRecord)(d):void 0}]}catch{return[]}}).flat()}Ac.fetchAllDigitalAssetWithTokenByOwner=p2e;function u_t(n,e,t,r){return p2e(n,e,{...r,mint:t})}Ac.fetchAllDigitalAssetWithTokenByOwnerAndMint=u_t;async function b2e(n,e,t){const s=(await(0,nL.findLargestTokensByMint)(n,e,t)).filter(d=>d.amount.basisPoints>0).map(d=>d.publicKey),i=[e,(0,sd.findMetadataPda)(n,{mint:e})[0],(0,sd.findMasterEditionPda)(n,{mint:e})[0]];i.push(...s.flatMap(d=>[d,(0,sd.findTokenRecordPda)(n,{mint:e,token:d})[0]]));const o=await n.rpc.getAccounts(i,t),[a,c,u,...l]=o;return(0,yp.assertAccountExists)(a,"Mint"),(0,yp.assertAccountExists)(c,"Metadata"),(0,yp.chunk)(l,2).flatMap(([d,y])=>d.exists?[_ne(a,c,d,u.exists?u:void 0,y.exists?y:void 0)]:[])}Ac.fetchAllDigitalAssetWithTokenByMint=b2e;function _ne(n,e,t,r,s){return{...(0,m2e.deserializeDigitalAsset)(n,e,r),token:(0,nL.deserializeToken)(t),tokenRecord:s?(0,sd.deserializeTokenRecord)(s):void 0}}Ac.deserializeDigitalAssetWithToken=_ne;var sL={};Object.defineProperty(sL,"__esModule",{value:!0});sL.fetchJsonMetadata=void 0;const l_t=Ob,d_t=async(n,e)=>{try{return await n.downloader.downloadJson(e)}catch(t){throw new l_t.TokenMetadataError(`Failed to fetch JSON metadata from ${e}`,t)}};sL.fetchJsonMetadata=d_t;var iL={};Object.defineProperty(iL,"__esModule",{value:!0});iL.mplTokenMetadata=void 0;const f_t=Hs,h_t=Db,g_t=()=>({install(n){n.use((0,f_t.mplToolbox)()),n.programs.add((0,h_t.createMplTokenMetadataProgram)(),!1)}});iL.mplTokenMetadata=g_t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Db,n),t(on,n),t(g2e,n),t(rL,n),t(Ac,n),t(Ob,n),t(sL,n),t(iL,n)})(bk);Object.defineProperty(pw,"__esModule",{value:!0});pw.decompressV1=pw.getDecompressV1InstructionDataSerializer=void 0;const Gye=bk,m_t=G0e,Yye=Z,F8=q,y_t=yh,Yk=fs,p_t=oa;function S2e(){return(0,F8.mapSerializer)((0,F8.struct)([["discriminator",(0,F8.array)((0,F8.u8)(),{size:8})],["metadata",(0,p_t.getMetadataArgsSerializer)()]],{description:"DecompressV1InstructionData"}),n=>({...n,discriminator:[54,85,76,70,228,250,164,81]}))}pw.getDecompressV1InstructionDataSerializer=S2e;function b_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={voucher:{index:0,isWritable:!0,value:e.voucher??null},leafOwner:{index:1,isWritable:!0,value:e.leafOwner??null},tokenAccount:{index:2,isWritable:!0,value:e.tokenAccount??null},mint:{index:3,isWritable:!0,value:e.mint??null},mintAuthority:{index:4,isWritable:!0,value:e.mintAuthority??null},metadataAccount:{index:5,isWritable:!0,value:e.metadataAccount??null},masterEdition:{index:6,isWritable:!0,value:e.masterEdition??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarRent:{index:8,isWritable:!1,value:e.sysvarRent??null},tokenMetadataProgram:{index:9,isWritable:!1,value:e.tokenMetadataProgram??null},tokenProgram:{index:10,isWritable:!1,value:e.tokenProgram??null},associatedTokenProgram:{index:11,isWritable:!1,value:e.associatedTokenProgram??null},logWrapper:{index:12,isWritable:!1,value:e.logWrapper??null}},s={...e};r.tokenAccount.value||(r.tokenAccount.value=(0,m_t.findAssociatedTokenPda)(n,{mint:(0,Yk.expectPublicKey)(r.mint.value),owner:(0,Yk.expectPublicKey)(r.leafOwner.value)})),r.mintAuthority.value||(r.mintAuthority.value=(0,y_t.findMintAuthorityPda)(n,{mint:(0,Yk.expectPublicKey)(r.mint.value)})),r.metadataAccount.value||(r.metadataAccount.value=(0,Gye.findMetadataPda)(n,{mint:(0,Yk.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(r.masterEdition.value=(0,Gye.findMasterEditionPda)(n,{mint:(0,Yk.expectPublicKey)(r.mint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarRent.value||(r.sysvarRent.value=(0,Yye.publicKey)("SysvarRent111111111111111111111111111111111")),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r.tokenMetadataProgram.isWritable=!1),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.associatedTokenProgram.value||(r.associatedTokenProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.associatedTokenProgram.isWritable=!1),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Yk.getAccountMetasAndSigners)(i,"programId",t),c=S2e().serialize(s),u=0;return(0,Yye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}pw.decompressV1=b_t;var LP={};Object.defineProperty(LP,"__esModule",{value:!0});LP.delegate=LP.getDelegateInstructionDataSerializer=void 0;const S_t=Z,qh=q,k_t=uc,Zye=fs;function k2e(){return(0,qh.mapSerializer)((0,qh.struct)([["discriminator",(0,qh.array)((0,qh.u8)(),{size:8})],["root",(0,qh.bytes)({size:32})],["dataHash",(0,qh.bytes)({size:32})],["creatorHash",(0,qh.bytes)({size:32})],["nonce",(0,qh.u64)()],["index",(0,qh.u32)()]],{description:"DelegateInstructionData"}),n=>({...n,discriminator:[90,147,75,178,85,88,4,137]}))}LP.getDelegateInstructionDataSerializer=k2e;function v_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},previousLeafDelegate:{index:2,isWritable:!1,value:e.previousLeafDelegate??null},newLeafDelegate:{index:3,isWritable:!1,value:e.newLeafDelegate??null},merkleTree:{index:4,isWritable:!0,value:e.merkleTree??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:6,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,k_t.findTreeConfigPda)(n,{merkleTree:(0,Zye.expectPublicKey)(r.merkleTree.value)})),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,Zye.getAccountMetasAndSigners)(i,"programId",t),u=k2e().serialize(s),l=0;return(0,S_t.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}LP.delegate=v_t;var WP={};Object.defineProperty(WP,"__esModule",{value:!0});WP.mintToCollectionV1=WP.getMintToCollectionV1InstructionDataSerializer=void 0;const Jye=bk,uU=Z,U8=q,A_t=uc,PC=fs,w_t=oa;function v2e(){return(0,U8.mapSerializer)((0,U8.struct)([["discriminator",(0,U8.array)((0,U8.u8)(),{size:8})],["metadata",(0,w_t.getMetadataArgsSerializer)()]],{description:"MintToCollectionV1InstructionData"}),n=>({...n,discriminator:[153,18,178,47,197,158,86,15]}))}WP.getMintToCollectionV1InstructionDataSerializer=v2e;function I_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!0,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},treeCreatorOrDelegate:{index:5,isWritable:!1,value:e.treeCreatorOrDelegate??null},collectionAuthority:{index:6,isWritable:!1,value:e.collectionAuthority??null},collectionAuthorityRecordPda:{index:7,isWritable:!1,value:e.collectionAuthorityRecordPda??null},collectionMint:{index:8,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:9,isWritable:!0,value:e.collectionMetadata??null},collectionEdition:{index:10,isWritable:!1,value:e.collectionEdition??null},bubblegumSigner:{index:11,isWritable:!1,value:e.bubblegumSigner??null},logWrapper:{index:12,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:13,isWritable:!1,value:e.compressionProgram??null},tokenMetadataProgram:{index:14,isWritable:!1,value:e.tokenMetadataProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,A_t.findTreeConfigPda)(n,{merkleTree:(0,PC.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,PC.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.treeCreatorOrDelegate.value||(r.treeCreatorOrDelegate.value=n.identity),r.collectionAuthority.value||(r.collectionAuthority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,Jye.findMetadataPda)(n,{mint:(0,PC.expectPublicKey)(r.collectionMint.value)})),r.collectionEdition.value||(r.collectionEdition.value=(0,Jye.findMasterEditionPda)(n,{mint:(0,PC.expectPublicKey)(r.collectionMint.value)})),r.bubblegumSigner.value||(r.bubblegumSigner.value=(0,uU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=(0,uU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,PC.getAccountMetasAndSigners)(i,"programId",t),c=v2e().serialize(s),u=0;return(0,uU.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}WP.mintToCollectionV1=I_t;var NP={};Object.defineProperty(NP,"__esModule",{value:!0});NP.mintV1=NP.getMintV1InstructionDataSerializer=void 0;const P_t=Z,V8=q,__t=uc,lU=fs,E_t=oa;function A2e(){return(0,V8.mapSerializer)((0,V8.struct)([["discriminator",(0,V8.array)((0,V8.u8)(),{size:8})],["metadata",(0,E_t.getMetadataArgsSerializer)()]],{description:"MintV1InstructionData"}),n=>({...n,discriminator:[145,98,192,118,184,147,118,104]}))}NP.getMintV1InstructionDataSerializer=A2e;function x_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!0,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},treeCreatorOrDelegate:{index:5,isWritable:!1,value:e.treeCreatorOrDelegate??null},logWrapper:{index:6,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:7,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,__t.findTreeConfigPda)(n,{merkleTree:(0,lU.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,lU.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.treeCreatorOrDelegate.value||(r.treeCreatorOrDelegate.value=n.identity),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,lU.getAccountMetasAndSigners)(i,"programId",t),c=A2e().serialize(s),u=0;return(0,P_t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}NP.mintV1=x_t;var FP={};Object.defineProperty(FP,"__esModule",{value:!0});FP.redeem=FP.getRedeemInstructionDataSerializer=void 0;const T_t=Z,jh=q,Xye=uc,_C=fs;function w2e(){return(0,jh.mapSerializer)((0,jh.struct)([["discriminator",(0,jh.array)((0,jh.u8)(),{size:8})],["root",(0,jh.bytes)({size:32})],["dataHash",(0,jh.bytes)({size:32})],["creatorHash",(0,jh.bytes)({size:32})],["nonce",(0,jh.u64)()],["index",(0,jh.u32)()]],{description:"RedeemInstructionData"}),n=>({...n,discriminator:[184,12,86,149,70,196,97,225]}))}FP.getRedeemInstructionDataSerializer=w2e;function R_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!0,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},voucher:{index:4,isWritable:!0,value:e.voucher??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:6,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,Xye.findTreeConfigPda)(n,{merkleTree:(0,_C.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,_C.expectSome)(r.leafOwner.value)),r.voucher.value||(r.voucher.value=(0,Xye.findVoucherPda)(n,{merkleTree:(0,_C.expectPublicKey)(r.merkleTree.value),nonce:(0,_C.expectSome)(s.nonce)})),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,_C.getAccountMetasAndSigners)(i,"programId",t),u=w2e().serialize(s),l=0;return(0,T_t.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}FP.redeem=R_t;var UP={};Object.defineProperty(UP,"__esModule",{value:!0});UP.setAndVerifyCollection=UP.getSetAndVerifyCollectionInstructionDataSerializer=void 0;const Qye=bk,dU=Z,jd=q,epe=yh,C_t=uc,Zk=fs,M_t=oa;function I2e(){return(0,jd.mapSerializer)((0,jd.struct)([["discriminator",(0,jd.array)((0,jd.u8)(),{size:8})],["root",(0,jd.bytes)({size:32})],["dataHash",(0,jd.bytes)({size:32})],["creatorHash",(0,jd.bytes)({size:32})],["nonce",(0,jd.u64)()],["index",(0,jd.u32)()],["metadata",(0,M_t.getMetadataArgsSerializer)()],["collection",(0,jd.publicKey)()]],{description:"SetAndVerifyCollectionInstructionData"}),n=>({...n,discriminator:[235,242,121,216,158,234,180,234]}))}UP.getSetAndVerifyCollectionInstructionDataSerializer=I2e;function B_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},treeCreatorOrDelegate:{index:5,isWritable:!1,value:e.treeCreatorOrDelegate??null},collectionAuthority:{index:6,isWritable:!1,value:e.collectionAuthority??null},collectionAuthorityRecordPda:{index:7,isWritable:!1,value:e.collectionAuthorityRecordPda??null},collectionMint:{index:8,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:9,isWritable:!0,value:e.collectionMetadata??null},collectionEdition:{index:10,isWritable:!1,value:e.collectionEdition??null},bubblegumSigner:{index:11,isWritable:!1,value:e.bubblegumSigner??null},logWrapper:{index:12,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:13,isWritable:!1,value:e.compressionProgram??null},tokenMetadataProgram:{index:14,isWritable:!1,value:e.tokenMetadataProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,C_t.findTreeConfigPda)(n,{merkleTree:(0,Zk.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,Zk.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.treeCreatorOrDelegate.value||(r.treeCreatorOrDelegate.value=n.identity),r.collectionAuthority.value||(r.collectionAuthority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,Qye.findMetadataPda)(n,{mint:(0,Zk.expectPublicKey)(r.collectionMint.value)})),r.collectionEdition.value||(r.collectionEdition.value=(0,Qye.findMasterEditionPda)(n,{mint:(0,Zk.expectPublicKey)(r.collectionMint.value)})),r.bubblegumSigner.value||(r.bubblegumSigner.value=(0,dU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=(0,dU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.dataHash||(s.dataHash=(0,epe.resolveDataHash)(n,r,s,t,!1)),s.creatorHash||(s.creatorHash=(0,epe.resolveCreatorHash)(n,r,s,t,!1)),s.collection||(s.collection=(0,Zk.expectPublicKey)(r.collectionMint.value)),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,Zk.getAccountMetasAndSigners)(i,"programId",t),u=I2e().serialize(s),l=0;return(0,dU.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}UP.setAndVerifyCollection=B_t;var VP={};Object.defineProperty(VP,"__esModule",{value:!0});VP.setDecompressibleState=VP.getSetDecompressibleStateInstructionDataSerializer=void 0;const z_t=Z,q8=q,$_t=fs,D_t=oa;function P2e(){return(0,q8.mapSerializer)((0,q8.struct)([["discriminator",(0,q8.array)((0,q8.u8)(),{size:8})],["decompressableState",(0,D_t.getDecompressibleStateSerializer)()]],{description:"SetDecompressibleStateInstructionData"}),n=>({...n,discriminator:[82,104,152,6,149,111,100,13]}))}VP.getSetDecompressibleStateInstructionDataSerializer=P2e;function O_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!0,value:e.treeConfig??null},treeCreator:{index:1,isWritable:!1,value:e.treeCreator??null}},s={...e};r.treeCreator.value||(r.treeCreator.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,$_t.getAccountMetasAndSigners)(i,"programId",t),c=P2e().serialize(s),u=0;return(0,z_t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}VP.setDecompressibleState=O_t;var qP={};Object.defineProperty(qP,"__esModule",{value:!0});qP.setTreeDelegate=qP.getSetTreeDelegateInstructionDataSerializer=void 0;const K_t=Z,j8=q,L_t=uc,tpe=fs;function _2e(){return(0,j8.mapSerializer)((0,j8.struct)([["discriminator",(0,j8.array)((0,j8.u8)(),{size:8})]],{description:"SetTreeDelegateInstructionData"}),n=>({...n,discriminator:[253,118,66,37,190,49,154,102]}))}qP.getSetTreeDelegateInstructionDataSerializer=_2e;function W_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!0,value:e.treeConfig??null},treeCreator:{index:1,isWritable:!1,value:e.treeCreator??null},newTreeDelegate:{index:2,isWritable:!1,value:e.newTreeDelegate??null},merkleTree:{index:3,isWritable:!1,value:e.merkleTree??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null}};r.treeConfig.value||(r.treeConfig.value=(0,L_t.findTreeConfigPda)(n,{merkleTree:(0,tpe.expectPublicKey)(r.merkleTree.value)})),r.treeCreator.value||(r.treeCreator.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,tpe.getAccountMetasAndSigners)(s,"programId",t),a=_2e().serialize({}),c=0;return(0,K_t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}qP.setTreeDelegate=W_t;var jP={};Object.defineProperty(jP,"__esModule",{value:!0});jP.transfer=jP.getTransferInstructionDataSerializer=void 0;const N_t=Z,Hh=q,F_t=uc,fU=fs;function E2e(){return(0,Hh.mapSerializer)((0,Hh.struct)([["discriminator",(0,Hh.array)((0,Hh.u8)(),{size:8})],["root",(0,Hh.bytes)({size:32})],["dataHash",(0,Hh.bytes)({size:32})],["creatorHash",(0,Hh.bytes)({size:32})],["nonce",(0,Hh.u64)()],["index",(0,Hh.u32)()]],{description:"TransferInstructionData"}),n=>({...n,discriminator:[163,52,200,231,140,3,69,186]}))}jP.getTransferInstructionDataSerializer=E2e;function U_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},newLeafOwner:{index:3,isWritable:!1,value:e.newLeafOwner??null},merkleTree:{index:4,isWritable:!0,value:e.merkleTree??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:6,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,F_t.findTreeConfigPda)(n,{merkleTree:(0,fU.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,fU.expectSome)(r.leafOwner.value)),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,fU.getAccountMetasAndSigners)(i,"programId",t),u=E2e().serialize(s),l=0;return(0,N_t.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}jP.transfer=U_t;var HP={};Object.defineProperty(HP,"__esModule",{value:!0});HP.unverifyCollection=HP.getUnverifyCollectionInstructionDataSerializer=void 0;const rpe=bk,hU=Z,Gh=q,npe=yh,V_t=uc,EC=fs,q_t=oa;function x2e(){return(0,Gh.mapSerializer)((0,Gh.struct)([["discriminator",(0,Gh.array)((0,Gh.u8)(),{size:8})],["root",(0,Gh.bytes)({size:32})],["dataHash",(0,Gh.bytes)({size:32})],["creatorHash",(0,Gh.bytes)({size:32})],["nonce",(0,Gh.u64)()],["index",(0,Gh.u32)()],["metadata",(0,q_t.getMetadataArgsSerializer)()]],{description:"UnverifyCollectionInstructionData"}),n=>({...n,discriminator:[250,251,42,106,41,137,186,168]}))}HP.getUnverifyCollectionInstructionDataSerializer=x2e;function j_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},treeCreatorOrDelegate:{index:5,isWritable:!1,value:e.treeCreatorOrDelegate??null},collectionAuthority:{index:6,isWritable:!1,value:e.collectionAuthority??null},collectionAuthorityRecordPda:{index:7,isWritable:!1,value:e.collectionAuthorityRecordPda??null},collectionMint:{index:8,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:9,isWritable:!0,value:e.collectionMetadata??null},collectionEdition:{index:10,isWritable:!1,value:e.collectionEdition??null},bubblegumSigner:{index:11,isWritable:!1,value:e.bubblegumSigner??null},logWrapper:{index:12,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:13,isWritable:!1,value:e.compressionProgram??null},tokenMetadataProgram:{index:14,isWritable:!1,value:e.tokenMetadataProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,V_t.findTreeConfigPda)(n,{merkleTree:(0,EC.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,EC.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.treeCreatorOrDelegate.value||(r.treeCreatorOrDelegate.value=n.identity.publicKey),r.collectionAuthority.value||(r.collectionAuthority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,rpe.findMetadataPda)(n,{mint:(0,EC.expectPublicKey)(r.collectionMint.value)})),r.collectionEdition.value||(r.collectionEdition.value=(0,rpe.findMasterEditionPda)(n,{mint:(0,EC.expectPublicKey)(r.collectionMint.value)})),r.bubblegumSigner.value||(r.bubblegumSigner.value=(0,hU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=(0,hU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.dataHash||(s.dataHash=(0,npe.resolveDataHash)(n,r,s,t,!1)),s.creatorHash||(s.creatorHash=(0,npe.resolveCreatorHash)(n,r,s,t,!1)),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,EC.getAccountMetasAndSigners)(i,"programId",t),u=x2e().serialize(s),l=0;return(0,hU.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}HP.unverifyCollection=j_t;var GP={};Object.defineProperty(GP,"__esModule",{value:!0});GP.unverifyCreator=GP.getUnverifyCreatorInstructionDataSerializer=void 0;const H_t=Z,Yh=q,spe=yh,G_t=uc,gU=fs,Y_t=oa;function T2e(){return(0,Yh.mapSerializer)((0,Yh.struct)([["discriminator",(0,Yh.array)((0,Yh.u8)(),{size:8})],["root",(0,Yh.bytes)({size:32})],["dataHash",(0,Yh.bytes)({size:32})],["creatorHash",(0,Yh.bytes)({size:32})],["nonce",(0,Yh.u64)()],["index",(0,Yh.u32)()],["metadata",(0,Y_t.getMetadataArgsSerializer)()]],{description:"UnverifyCreatorInstructionData"}),n=>({...n,discriminator:[107,178,57,39,105,115,112,152]}))}GP.getUnverifyCreatorInstructionDataSerializer=T2e;function Z_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},creator:{index:5,isWritable:!1,value:e.creator??null},logWrapper:{index:6,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:7,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,G_t.findTreeConfigPda)(n,{merkleTree:(0,gU.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,gU.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.dataHash||(s.dataHash=(0,spe.resolveDataHash)(n,r,s,t,!1)),s.creatorHash||(s.creatorHash=(0,spe.resolveCreatorHash)(n,r,s,t,!1)),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,gU.getAccountMetasAndSigners)(i,"programId",t),u=T2e().serialize(s),l=0;return(0,H_t.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}GP.unverifyCreator=Z_t;var YP={};Object.defineProperty(YP,"__esModule",{value:!0});YP.updateMetadata=YP.getUpdateMetadataInstructionDataSerializer=void 0;const J_t=bk,ipe=Z,k0=q,X_t=uc,H8=fs,ope=oa;function R2e(){return(0,k0.mapSerializer)((0,k0.struct)([["discriminator",(0,k0.array)((0,k0.u8)(),{size:8})],["root",(0,k0.bytes)({size:32})],["nonce",(0,k0.u64)()],["index",(0,k0.u32)()],["currentMetadata",(0,ope.getMetadataArgsSerializer)()],["updateArgs",(0,ope.getUpdateArgsSerializer)()]],{description:"UpdateMetadataInstructionData"}),n=>({...n,discriminator:[170,182,43,239,97,78,225,186]}))}YP.getUpdateMetadataInstructionDataSerializer=R2e;function Q_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},authority:{index:1,isWritable:!1,value:e.authority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:3,isWritable:!1,value:e.collectionMetadata??null},collectionAuthorityRecordPda:{index:4,isWritable:!1,value:e.collectionAuthorityRecordPda??null},leafOwner:{index:5,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:6,isWritable:!1,value:e.leafDelegate??null},payer:{index:7,isWritable:!1,value:e.payer??null},merkleTree:{index:8,isWritable:!0,value:e.merkleTree??null},logWrapper:{index:9,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:10,isWritable:!1,value:e.compressionProgram??null},tokenMetadataProgram:{index:11,isWritable:!1,value:e.tokenMetadataProgram??null},systemProgram:{index:12,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,X_t.findTreeConfigPda)(n,{merkleTree:(0,H8.expectPublicKey)(r.merkleTree.value)})),r.authority.value||(r.authority.value=n.identity),r.collectionMetadata.value||r.collectionMint.value&&(r.collectionMetadata.value=(0,J_t.findMetadataPda)(n,{mint:(0,H8.expectPublicKey)(r.collectionMint.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,H8.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=(0,ipe.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,H8.getAccountMetasAndSigners)(i,"programId",t),u=R2e().serialize(s),l=0;return(0,ipe.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}YP.updateMetadata=Q_t;var ZP={};Object.defineProperty(ZP,"__esModule",{value:!0});ZP.verifyCollection=ZP.getVerifyCollectionInstructionDataSerializer=void 0;const ape=bk,mU=Z,Zh=q,cpe=yh,eEt=uc,xC=fs,tEt=oa;function C2e(){return(0,Zh.mapSerializer)((0,Zh.struct)([["discriminator",(0,Zh.array)((0,Zh.u8)(),{size:8})],["root",(0,Zh.bytes)({size:32})],["dataHash",(0,Zh.bytes)({size:32})],["creatorHash",(0,Zh.bytes)({size:32})],["nonce",(0,Zh.u64)()],["index",(0,Zh.u32)()],["metadata",(0,tEt.getMetadataArgsSerializer)()]],{description:"VerifyCollectionInstructionData"}),n=>({...n,discriminator:[56,113,101,253,79,55,122,169]}))}ZP.getVerifyCollectionInstructionDataSerializer=C2e;function rEt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},treeCreatorOrDelegate:{index:5,isWritable:!1,value:e.treeCreatorOrDelegate??null},collectionAuthority:{index:6,isWritable:!1,value:e.collectionAuthority??null},collectionAuthorityRecordPda:{index:7,isWritable:!1,value:e.collectionAuthorityRecordPda??null},collectionMint:{index:8,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:9,isWritable:!0,value:e.collectionMetadata??null},collectionEdition:{index:10,isWritable:!1,value:e.collectionEdition??null},bubblegumSigner:{index:11,isWritable:!1,value:e.bubblegumSigner??null},logWrapper:{index:12,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:13,isWritable:!1,value:e.compressionProgram??null},tokenMetadataProgram:{index:14,isWritable:!1,value:e.tokenMetadataProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,eEt.findTreeConfigPda)(n,{merkleTree:(0,xC.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,xC.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.treeCreatorOrDelegate.value||(r.treeCreatorOrDelegate.value=n.identity.publicKey),r.collectionAuthority.value||(r.collectionAuthority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,ape.findMetadataPda)(n,{mint:(0,xC.expectPublicKey)(r.collectionMint.value)})),r.collectionEdition.value||(r.collectionEdition.value=(0,ape.findMasterEditionPda)(n,{mint:(0,xC.expectPublicKey)(r.collectionMint.value)})),r.bubblegumSigner.value||(r.bubblegumSigner.value=(0,mU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=(0,mU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.dataHash||(s.dataHash=(0,cpe.resolveDataHash)(n,r,s,t,!1)),s.creatorHash||(s.creatorHash=(0,cpe.resolveCreatorHash)(n,r,s,t,!1)),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,xC.getAccountMetasAndSigners)(i,"programId",t),u=C2e().serialize(s),l=0;return(0,mU.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}ZP.verifyCollection=rEt;var JP={};Object.defineProperty(JP,"__esModule",{value:!0});JP.verifyCreator=JP.getVerifyCreatorInstructionDataSerializer=void 0;const nEt=Z,Jh=q,upe=yh,sEt=uc,yU=fs,iEt=oa;function M2e(){return(0,Jh.mapSerializer)((0,Jh.struct)([["discriminator",(0,Jh.array)((0,Jh.u8)(),{size:8})],["root",(0,Jh.bytes)({size:32})],["dataHash",(0,Jh.bytes)({size:32})],["creatorHash",(0,Jh.bytes)({size:32})],["nonce",(0,Jh.u64)()],["index",(0,Jh.u32)()],["metadata",(0,iEt.getMetadataArgsSerializer)()]],{description:"VerifyCreatorInstructionData"}),n=>({...n,discriminator:[52,17,96,132,71,4,85,194]}))}JP.getVerifyCreatorInstructionDataSerializer=M2e;function oEt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},creator:{index:5,isWritable:!1,value:e.creator??null},logWrapper:{index:6,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:7,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,sEt.findTreeConfigPda)(n,{merkleTree:(0,yU.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,yU.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.dataHash||(s.dataHash=(0,upe.resolveDataHash)(n,r,s,t,!1)),s.creatorHash||(s.creatorHash=(0,upe.resolveCreatorHash)(n,r,s,t,!1)),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,yU.getAccountMetasAndSigners)(i,"programId",t),u=M2e().serialize(s),l=0;return(0,nEt.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}JP.verifyCreator=oEt;var XP={};Object.defineProperty(XP,"__esModule",{value:!0});XP.verifyLeaf=XP.getVerifyLeafInstructionDataSerializer=void 0;const aEt=Z,v0=q,cEt=fs;function B2e(){return(0,v0.mapSerializer)((0,v0.struct)([["discriminator",(0,v0.array)((0,v0.u8)(),{size:8})],["root",(0,v0.bytes)({size:32})],["leaf",(0,v0.bytes)({size:32})],["index",(0,v0.u32)()]],{description:"VerifyLeafInstructionData"}),n=>({...n,discriminator:[124,220,22,223,104,10,250,224]}))}XP.getVerifyLeafInstructionDataSerializer=B2e;function uEt(n,e){const t=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r={merkleTree:{index:0,isWritable:!1,value:e.merkleTree??null}},s={...e};s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,cEt.getAccountMetasAndSigners)(i,"programId",t),u=B2e().serialize(s),l=0;return(0,aEt.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}XP.verifyLeaf=uEt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(gw,n),t(mw,n),t(yw,n),t(pw,n),t(LP,n),t(WP,n),t(NP,n),t(FP,n),t(UP,n),t(VP,n),t(qP,n),t(jP,n),t(HP,n),t(GP,n),t(YP,n),t(ZP,n),t(JP,n),t(XP,n)})(mxe);var z2e={},$2e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplBubblegumProgramId=n.getMplBubblegumProgram=n.createMplBubblegumProgram=n.MPL_BUBBLEGUM_PROGRAM_ID=void 0;const e=xz;n.MPL_BUBBLEGUM_PROGRAM_ID="BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY";function t(){return{name:"mplBubblegum",publicKey:n.MPL_BUBBLEGUM_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplBubblegumErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplBubblegumErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplBubblegumProgram=t;function r(i,o){return i.programs.get("mplBubblegum",o)}n.getMplBubblegumProgram=r;function s(i,o){return i.programs.getPublicKey("mplBubblegum",n.MPL_BUBBLEGUM_PROGRAM_ID,o)}n.getMplBubblegumProgramId=s})($2e);var D2e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplAccountCompressionProgramId=n.getSplAccountCompressionProgram=n.createSplAccountCompressionProgram=n.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID=void 0;const e=xz;n.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID="cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK";function t(){return{name:"splAccountCompression",publicKey:n.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplAccountCompressionErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplAccountCompressionErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplAccountCompressionProgram=t;function r(i,o){return i.programs.get("splAccountCompression",o)}n.getSplAccountCompressionProgram=r;function s(i,o){return i.programs.getPublicKey("splAccountCompression",n.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,o)}n.getSplAccountCompressionProgramId=s})(D2e);var O2e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplNoopProgramId=n.getSplNoopProgram=n.createSplNoopProgram=n.SPL_NOOP_PROGRAM_ID=void 0;const e=xz;n.SPL_NOOP_PROGRAM_ID="noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV";function t(){return{name:"splNoop",publicKey:n.SPL_NOOP_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplNoopErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplNoopErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplNoopProgram=t;function r(i,o){return i.programs.get("splNoop",o)}n.getSplNoopProgram=r;function s(i,o){return i.programs.getPublicKey("splNoop",n.SPL_NOOP_PROGRAM_ID,o)}n.getSplNoopProgramId=s})(O2e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t($2e,n),t(D2e,n),t(O2e,n)})(z2e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(uc,n),t(xz,n),t(mxe,n),t(z2e,n),t(fs,n),t(oa,n)})(am);Object.defineProperty(S6,"__esModule",{value:!0});S6.createTree=void 0;const lEt=G0e,dEt=Z,lpe=am,fEt=yh,hEt=async(n,e)=>{const t=e.merkleTreeSize??(0,fEt.getMerkleTreeSize)(e.maxDepth,e.maxBufferSize,e.canopyDepth),r=await n.rpc.getRent(t);return(0,dEt.transactionBuilder)().add((0,lEt.createAccount)(n,{payer:e.payer??n.payer,newAccount:e.merkleTree,lamports:r,space:t,programId:n.programs.getPublicKey("splAccountCompression",lpe.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID)})).add((0,lpe.createTreeConfig)(n,{...e,merkleTree:e.merkleTree.publicKey}))};S6.createTree=hEt;var oL={};Object.defineProperty(oL,"__esModule",{value:!0});oL.ReadApiError=void 0;class gEt extends Error{constructor(){super(...arguments),this.name="ReadApiError"}}oL.ReadApiError=gEt;var aL={};Object.defineProperty(aL,"__esModule",{value:!0});aL.getAssetWithProof=void 0;const Xh=Z,pU=am,mEt=async(n,e,t)=>{var c,u,l,d,y,h,m,f,g;const[r,s]=await Promise.all([n.rpc.getAsset(e),n.rpc.getAssetProof(e)]);let{proof:i}=s;if(t!=null&&t.truncateCanopy){const b=await(0,pU.fetchMerkleTree)(n,s.tree_id),S=Math.log2(b.canopy.length+2)-1;i=s.proof.slice(0,S===0?void 0:-S)}const o=(c=(r.grouping??[]).find(b=>b.group_key==="collection"))==null?void 0:c.group_value,a={name:((l=(u=r.content)==null?void 0:u.metadata)==null?void 0:l.name)??"",symbol:((y=(d=r.content)==null?void 0:d.metadata)==null?void 0:y.symbol)??"",uri:(h=r.content)==null?void 0:h.json_uri,sellerFeeBasisPoints:(m=r.royalty)==null?void 0:m.basis_points,primarySaleHappened:(f=r.royalty)==null?void 0:f.primary_sale_happened,isMutable:r.mutable,editionNonce:(0,Xh.wrapNullable)((g=r.supply)==null?void 0:g.edition_nonce),tokenStandard:(0,Xh.some)(pU.TokenStandard.NonFungible),collection:o?(0,Xh.some)({key:(0,Xh.publicKey)(o),verified:!0}):(0,Xh.none)(),uses:(0,Xh.none)(),tokenProgramVersion:pU.TokenProgramVersion.Original,creators:r.creators};return{leafOwner:r.ownership.owner,leafDelegate:r.ownership.delegate?r.ownership.delegate:r.ownership.owner,merkleTree:s.tree_id,root:(0,Xh.publicKeyBytes)(s.root),dataHash:(0,Xh.publicKeyBytes)(r.compression.data_hash),creatorHash:(0,Xh.publicKeyBytes)(r.compression.creator_hash),nonce:r.compression.leaf_id,index:s.node_index-2**s.proof.length,proof:i,metadata:a,rpcAsset:r,rpcAssetProof:s}};aL.getAssetWithProof=mEt;var K2e={},L2e={},Cz={},yEt=function(e){for(var t=new Xe.Buffer(e.length),r=0,s=e.length-1;r<=s;++r,--s)t[r]=e[s],t[s]=e[r];return t},NT={exports:{}},_n={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(K,function(){var t=t||function(r,s){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof K<"u"&&K.crypto&&(i=K.crypto),!i&&typeof ZDe=="function")try{i=require("crypto")}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function S(){}return function(p){var I;return S.prototype=p,I=new S,S.prototype=null,I}}(),c={},u=c.lib={},l=u.Base=function(){return{extend:function(S){var p=a(this);return S&&p.mixIn(S),(!p.hasOwnProperty("init")||this.init===p.init)&&(p.init=function(){p.$super.init.apply(this,arguments)}),p.init.prototype=p,p.$super=this,p},create:function(){var S=this.extend();return S.init.apply(S,arguments),S},init:function(){},mixIn:function(S){for(var p in S)S.hasOwnProperty(p)&&(this[p]=S[p]);S.hasOwnProperty("toString")&&(this.toString=S.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=u.WordArray=l.extend({init:function(S,p){S=this.words=S||[],p!=s?this.sigBytes=p:this.sigBytes=S.length*4},toString:function(S){return(S||h).stringify(this)},concat:function(S){var p=this.words,I=S.words,w=this.sigBytes,A=S.sigBytes;if(this.clamp(),w%4)for(var _=0;_<A;_++){var E=I[_>>>2]>>>24-_%4*8&255;p[w+_>>>2]|=E<<24-(w+_)%4*8}else for(var M=0;M<A;M+=4)p[w+M>>>2]=I[M>>>2];return this.sigBytes+=A,this},clamp:function(){var S=this.words,p=this.sigBytes;S[p>>>2]&=4294967295<<32-p%4*8,S.length=r.ceil(p/4)},clone:function(){var S=l.clone.call(this);return S.words=this.words.slice(0),S},random:function(S){for(var p=[],I=0;I<S;I+=4)p.push(o());return new d.init(p,S)}}),y=c.enc={},h=y.Hex={stringify:function(S){for(var p=S.words,I=S.sigBytes,w=[],A=0;A<I;A++){var _=p[A>>>2]>>>24-A%4*8&255;w.push((_>>>4).toString(16)),w.push((_&15).toString(16))}return w.join("")},parse:function(S){for(var p=S.length,I=[],w=0;w<p;w+=2)I[w>>>3]|=parseInt(S.substr(w,2),16)<<24-w%8*4;return new d.init(I,p/2)}},m=y.Latin1={stringify:function(S){for(var p=S.words,I=S.sigBytes,w=[],A=0;A<I;A++){var _=p[A>>>2]>>>24-A%4*8&255;w.push(String.fromCharCode(_))}return w.join("")},parse:function(S){for(var p=S.length,I=[],w=0;w<p;w++)I[w>>>2]|=(S.charCodeAt(w)&255)<<24-w%4*8;return new d.init(I,p)}},f=y.Utf8={stringify:function(S){try{return decodeURIComponent(escape(m.stringify(S)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(S){return m.parse(unescape(encodeURIComponent(S)))}},g=u.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(S){typeof S=="string"&&(S=f.parse(S)),this._data.concat(S),this._nDataBytes+=S.sigBytes},_process:function(S){var p,I=this._data,w=I.words,A=I.sigBytes,_=this.blockSize,E=_*4,M=A/E;S?M=r.ceil(M):M=r.max((M|0)-this._minBufferSize,0);var P=M*_,R=r.min(P*4,A);if(P){for(var $=0;$<P;$+=_)this._doProcessBlock(w,$);p=w.splice(0,P),I.sigBytes-=R}return new d.init(p,R)},clone:function(){var S=l.clone.call(this);return S._data=this._data.clone(),S},_minBufferSize:0});u.Hasher=g.extend({cfg:l.extend(),init:function(S){this.cfg=this.cfg.extend(S),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(S){return this._append(S),this._process(),this},finalize:function(S){S&&this._append(S);var p=this._doFinalize();return p},blockSize:16,_createHelper:function(S){return function(p,I){return new S.init(I).finalize(p)}},_createHmacHelper:function(S){return function(p,I){return new b.HMAC.init(S,I).finalize(p)}}});var b=c.algo={};return c}(Math);return t})})(_n);(function(n,e){(function(t,r){n.exports=r(_n.exports)})(K,function(t){return function(r){var s=t,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,u=[],l=[];(function(){function h(b){for(var S=r.sqrt(b),p=2;p<=S;p++)if(!(b%p))return!1;return!0}function m(b){return(b-(b|0))*4294967296|0}for(var f=2,g=0;g<64;)h(f)&&(g<8&&(u[g]=m(r.pow(f,1/2))),l[g]=m(r.pow(f,1/3)),g++),f++})();var d=[],y=c.SHA256=a.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(h,m){for(var f=this._hash.words,g=f[0],b=f[1],S=f[2],p=f[3],I=f[4],w=f[5],A=f[6],_=f[7],E=0;E<64;E++){if(E<16)d[E]=h[m+E]|0;else{var M=d[E-15],P=(M<<25|M>>>7)^(M<<14|M>>>18)^M>>>3,R=d[E-2],$=(R<<15|R>>>17)^(R<<13|R>>>19)^R>>>10;d[E]=P+d[E-7]+$+d[E-16]}var z=I&w^~I&A,T=g&b^g&S^b&S,v=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),k=(I<<26|I>>>6)^(I<<21|I>>>11)^(I<<7|I>>>25),x=_+k+z+l[E]+d[E],C=v+T;_=A,A=w,w=I,I=p+x|0,p=S,S=b,b=g,g=x+C|0}f[0]=f[0]+g|0,f[1]=f[1]+b|0,f[2]=f[2]+S|0,f[3]=f[3]+p|0,f[4]=f[4]+I|0,f[5]=f[5]+w|0,f[6]=f[6]+A|0,f[7]=f[7]+_|0},_doFinalize:function(){var h=this._data,m=h.words,f=this._nDataBytes*8,g=h.sigBytes*8;return m[g>>>5]|=128<<24-g%32,m[(g+64>>>9<<4)+14]=r.floor(f/4294967296),m[(g+64>>>9<<4)+15]=f,h.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var h=a.clone.call(this);return h._hash=this._hash.clone(),h}});s.SHA256=a._createHelper(y),s.HmacSHA256=a._createHmacHelper(y)}(Math),t.SHA256})})(NT);var Ene={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(K,function(){function t(o,a){var c=a?"\u2514":"\u251C";return o?c+="\u2500 ":c+="\u2500\u2500\u2510",c}function r(o,a){var c=[];for(var u in o)!o.hasOwnProperty(u)||a&&typeof o[u]=="function"||c.push(u);return c}function s(o,a,c,u,l,d,y){var h="",m=0,f,g,b=u.slice(0);if(b.push([a,c])&&u.length>0&&(u.forEach(function(p,I){I>0&&(h+=(p[1]?" ":"\u2502")+"  "),!g&&p[0]===a&&(g=!0)}),h+=t(o,c)+o,l&&(typeof a!="object"||a instanceof Date)&&(h+=": "+a),g&&(h+=" (circular ref.)"),y(h)),!g&&typeof a=="object"){var S=r(a,d);S.forEach(function(p){f=++m===S.length,s(p,a[p],f,b,l,d,y)})}}var i={};return i.asLines=function(o,a,c,u){var l=typeof c!="function"?c:!1;s(".",o,!1,[],a,l,u||c)},i.asTree=function(o,a,c){var u="";return s(".",o,!1,[],a,c,function(l){u+=l+`
`}),u},i})})(Ene);var Lb={},W2e={exports:{}},Mz={exports:{}};(function(n,e){(function(t,r){n.exports=r(_n.exports)})(K,function(t){return function(r){var s=t,i=s.lib,o=i.Base,a=i.WordArray,c=s.x64={};c.Word=o.extend({init:function(u,l){this.high=u,this.low=l}}),c.WordArray=o.extend({init:function(u,l){u=this.words=u||[],l!=r?this.sigBytes=l:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,l=u.length,d=[],y=0;y<l;y++){var h=u[y];d.push(h.high),d.push(h.low)}return a.create(d,this.sigBytes)},clone:function(){for(var u=o.clone.call(this),l=u.words=this.words.slice(0),d=l.length,y=0;y<d;y++)l[y]=l[y].clone();return u}})}(),t})})(Mz);var N2e={exports:{}};(function(n,e){(function(t,r){n.exports=r(_n.exports)})(K,function(t){return function(){if(typeof ArrayBuffer=="function"){var r=t,s=r.lib,i=s.WordArray,o=i.init,a=i.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var u=c.byteLength,l=[],d=0;d<u;d++)l[d>>>2]|=c[d]<<24-d%4*8;o.call(this,l,u)}else o.apply(this,arguments)};a.prototype=i}}(),t.lib.WordArray})})(N2e);var F2e={exports:{}};(function(n,e){(function(t,r){n.exports=r(_n.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var u=c.words,l=c.sigBytes,d=[],y=0;y<l;y+=2){var h=u[y>>>2]>>>16-y%4*8&65535;d.push(String.fromCharCode(h))}return d.join("")},parse:function(c){for(var u=c.length,l=[],d=0;d<u;d++)l[d>>>1]|=c.charCodeAt(d)<<16-d%2*16;return i.create(l,u*2)}},o.Utf16LE={stringify:function(c){for(var u=c.words,l=c.sigBytes,d=[],y=0;y<l;y+=2){var h=a(u[y>>>2]>>>16-y%4*8&65535);d.push(String.fromCharCode(h))}return d.join("")},parse:function(c){for(var u=c.length,l=[],d=0;d<u;d++)l[d>>>1]|=a(c.charCodeAt(d)<<16-d%2*16);return i.create(l,u*2)}};function a(c){return c<<8&4278255360|c>>>8&16711935}}(),t.enc.Utf16})})(F2e);var Wb={exports:{}};(function(n,e){(function(t,r){n.exports=r(_n.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=r.enc;o.Base64={stringify:function(c){var u=c.words,l=c.sigBytes,d=this._map;c.clamp();for(var y=[],h=0;h<l;h+=3)for(var m=u[h>>>2]>>>24-h%4*8&255,f=u[h+1>>>2]>>>24-(h+1)%4*8&255,g=u[h+2>>>2]>>>24-(h+2)%4*8&255,b=m<<16|f<<8|g,S=0;S<4&&h+S*.75<l;S++)y.push(d.charAt(b>>>6*(3-S)&63));var p=d.charAt(64);if(p)for(;y.length%4;)y.push(p);return y.join("")},parse:function(c){var u=c.length,l=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var y=0;y<l.length;y++)d[l.charCodeAt(y)]=y}var h=l.charAt(64);if(h){var m=c.indexOf(h);m!==-1&&(u=m)}return a(c,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(c,u,l){for(var d=[],y=0,h=0;h<u;h++)if(h%4){var m=l[c.charCodeAt(h-1)]<<h%4*2,f=l[c.charCodeAt(h)]>>>6-h%4*2,g=m|f;d[y>>>2]|=g<<24-y%4*8,y++}return i.create(d,y)}}(),t.enc.Base64})})(Wb);var U2e={exports:{}};(function(n,e){(function(t,r){n.exports=r(_n.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=r.enc;o.Base64url={stringify:function(c,u){u===void 0&&(u=!0);var l=c.words,d=c.sigBytes,y=u?this._safe_map:this._map;c.clamp();for(var h=[],m=0;m<d;m+=3)for(var f=l[m>>>2]>>>24-m%4*8&255,g=l[m+1>>>2]>>>24-(m+1)%4*8&255,b=l[m+2>>>2]>>>24-(m+2)%4*8&255,S=f<<16|g<<8|b,p=0;p<4&&m+p*.75<d;p++)h.push(y.charAt(S>>>6*(3-p)&63));var I=y.charAt(64);if(I)for(;h.length%4;)h.push(I);return h.join("")},parse:function(c,u){u===void 0&&(u=!0);var l=c.length,d=u?this._safe_map:this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var h=0;h<d.length;h++)y[d.charCodeAt(h)]=h}var m=d.charAt(64);if(m){var f=c.indexOf(m);f!==-1&&(l=f)}return a(c,l,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(c,u,l){for(var d=[],y=0,h=0;h<u;h++)if(h%4){var m=l[c.charCodeAt(h-1)]<<h%4*2,f=l[c.charCodeAt(h)]>>>6-h%4*2,g=m|f;d[y>>>2]|=g<<24-y%4*8,y++}return i.create(d,y)}}(),t.enc.Base64url})})(U2e);var Nb={exports:{}};(function(n,e){(function(t,r){n.exports=r(_n.exports)})(K,function(t){return function(r){var s=t,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,u=[];(function(){for(var f=0;f<64;f++)u[f]=r.abs(r.sin(f+1))*4294967296|0})();var l=c.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(f,g){for(var b=0;b<16;b++){var S=g+b,p=f[S];f[S]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360}var I=this._hash.words,w=f[g+0],A=f[g+1],_=f[g+2],E=f[g+3],M=f[g+4],P=f[g+5],R=f[g+6],$=f[g+7],z=f[g+8],T=f[g+9],v=f[g+10],k=f[g+11],x=f[g+12],C=f[g+13],B=f[g+14],O=f[g+15],D=I[0],W=I[1],L=I[2],N=I[3];D=d(D,W,L,N,w,7,u[0]),N=d(N,D,W,L,A,12,u[1]),L=d(L,N,D,W,_,17,u[2]),W=d(W,L,N,D,E,22,u[3]),D=d(D,W,L,N,M,7,u[4]),N=d(N,D,W,L,P,12,u[5]),L=d(L,N,D,W,R,17,u[6]),W=d(W,L,N,D,$,22,u[7]),D=d(D,W,L,N,z,7,u[8]),N=d(N,D,W,L,T,12,u[9]),L=d(L,N,D,W,v,17,u[10]),W=d(W,L,N,D,k,22,u[11]),D=d(D,W,L,N,x,7,u[12]),N=d(N,D,W,L,C,12,u[13]),L=d(L,N,D,W,B,17,u[14]),W=d(W,L,N,D,O,22,u[15]),D=y(D,W,L,N,A,5,u[16]),N=y(N,D,W,L,R,9,u[17]),L=y(L,N,D,W,k,14,u[18]),W=y(W,L,N,D,w,20,u[19]),D=y(D,W,L,N,P,5,u[20]),N=y(N,D,W,L,v,9,u[21]),L=y(L,N,D,W,O,14,u[22]),W=y(W,L,N,D,M,20,u[23]),D=y(D,W,L,N,T,5,u[24]),N=y(N,D,W,L,B,9,u[25]),L=y(L,N,D,W,E,14,u[26]),W=y(W,L,N,D,z,20,u[27]),D=y(D,W,L,N,C,5,u[28]),N=y(N,D,W,L,_,9,u[29]),L=y(L,N,D,W,$,14,u[30]),W=y(W,L,N,D,x,20,u[31]),D=h(D,W,L,N,P,4,u[32]),N=h(N,D,W,L,z,11,u[33]),L=h(L,N,D,W,k,16,u[34]),W=h(W,L,N,D,B,23,u[35]),D=h(D,W,L,N,A,4,u[36]),N=h(N,D,W,L,M,11,u[37]),L=h(L,N,D,W,$,16,u[38]),W=h(W,L,N,D,v,23,u[39]),D=h(D,W,L,N,C,4,u[40]),N=h(N,D,W,L,w,11,u[41]),L=h(L,N,D,W,E,16,u[42]),W=h(W,L,N,D,R,23,u[43]),D=h(D,W,L,N,T,4,u[44]),N=h(N,D,W,L,x,11,u[45]),L=h(L,N,D,W,O,16,u[46]),W=h(W,L,N,D,_,23,u[47]),D=m(D,W,L,N,w,6,u[48]),N=m(N,D,W,L,$,10,u[49]),L=m(L,N,D,W,B,15,u[50]),W=m(W,L,N,D,P,21,u[51]),D=m(D,W,L,N,x,6,u[52]),N=m(N,D,W,L,E,10,u[53]),L=m(L,N,D,W,v,15,u[54]),W=m(W,L,N,D,A,21,u[55]),D=m(D,W,L,N,z,6,u[56]),N=m(N,D,W,L,O,10,u[57]),L=m(L,N,D,W,R,15,u[58]),W=m(W,L,N,D,C,21,u[59]),D=m(D,W,L,N,M,6,u[60]),N=m(N,D,W,L,k,10,u[61]),L=m(L,N,D,W,_,15,u[62]),W=m(W,L,N,D,T,21,u[63]),I[0]=I[0]+D|0,I[1]=I[1]+W|0,I[2]=I[2]+L|0,I[3]=I[3]+N|0},_doFinalize:function(){var f=this._data,g=f.words,b=this._nDataBytes*8,S=f.sigBytes*8;g[S>>>5]|=128<<24-S%32;var p=r.floor(b/4294967296),I=b;g[(S+64>>>9<<4)+15]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,g[(S+64>>>9<<4)+14]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,f.sigBytes=(g.length+1)*4,this._process();for(var w=this._hash,A=w.words,_=0;_<4;_++){var E=A[_];A[_]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}return w},clone:function(){var f=a.clone.call(this);return f._hash=this._hash.clone(),f}});function d(f,g,b,S,p,I,w){var A=f+(g&b|~g&S)+p+w;return(A<<I|A>>>32-I)+g}function y(f,g,b,S,p,I,w){var A=f+(g&S|b&~S)+p+w;return(A<<I|A>>>32-I)+g}function h(f,g,b,S,p,I,w){var A=f+(g^b^S)+p+w;return(A<<I|A>>>32-I)+g}function m(f,g,b,S,p,I,w){var A=f+(b^(g|~S))+p+w;return(A<<I|A>>>32-I)+g}s.MD5=a._createHelper(l),s.HmacMD5=a._createHmacHelper(l)}(Math),t.MD5})})(Nb);var xne={exports:{}};(function(n,e){(function(t,r){n.exports=r(_n.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=s.Hasher,a=r.algo,c=[],u=a.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(l,d){for(var y=this._hash.words,h=y[0],m=y[1],f=y[2],g=y[3],b=y[4],S=0;S<80;S++){if(S<16)c[S]=l[d+S]|0;else{var p=c[S-3]^c[S-8]^c[S-14]^c[S-16];c[S]=p<<1|p>>>31}var I=(h<<5|h>>>27)+b+c[S];S<20?I+=(m&f|~m&g)+1518500249:S<40?I+=(m^f^g)+1859775393:S<60?I+=(m&f|m&g|f&g)-1894007588:I+=(m^f^g)-899497514,b=g,g=f,f=m<<30|m>>>2,m=h,h=I}y[0]=y[0]+h|0,y[1]=y[1]+m|0,y[2]=y[2]+f|0,y[3]=y[3]+g|0,y[4]=y[4]+b|0},_doFinalize:function(){var l=this._data,d=l.words,y=this._nDataBytes*8,h=l.sigBytes*8;return d[h>>>5]|=128<<24-h%32,d[(h+64>>>9<<4)+14]=Math.floor(y/4294967296),d[(h+64>>>9<<4)+15]=y,l.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var l=o.clone.call(this);return l._hash=this._hash.clone(),l}});r.SHA1=o._createHelper(u),r.HmacSHA1=o._createHmacHelper(u)}(),t.SHA1})})(xne);var V2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,NT.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=r.algo,a=o.SHA256,c=o.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=a._doFinalize.call(this);return u.sigBytes-=4,u}});r.SHA224=a._createHelper(c),r.HmacSHA224=a._createHmacHelper(c)}(),t.SHA224})})(V2e);var Tne={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Mz.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.Hasher,o=r.x64,a=o.Word,c=o.WordArray,u=r.algo;function l(){return a.create.apply(a,arguments)}var d=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)],y=[];(function(){for(var m=0;m<80;m++)y[m]=l()})();var h=u.SHA512=i.extend({_doReset:function(){this._hash=new c.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(m,f){for(var g=this._hash.words,b=g[0],S=g[1],p=g[2],I=g[3],w=g[4],A=g[5],_=g[6],E=g[7],M=b.high,P=b.low,R=S.high,$=S.low,z=p.high,T=p.low,v=I.high,k=I.low,x=w.high,C=w.low,B=A.high,O=A.low,D=_.high,W=_.low,L=E.high,N=E.low,H=M,J=P,Q=R,Y=$,X=z,re=T,se=v,ee=k,ne=x,ve=C,Pe=B,Le=O,We=D,Ft=W,Lt=L,Dt=N,et=0;et<80;et++){var Ue,Wt,sr=y[et];if(et<16)Wt=sr.high=m[f+et*2]|0,Ue=sr.low=m[f+et*2+1]|0;else{var rr=y[et-15],pr=rr.high,wr=rr.low,ls=(pr>>>1|wr<<31)^(pr>>>8|wr<<24)^pr>>>7,gn=(wr>>>1|pr<<31)^(wr>>>8|pr<<24)^(wr>>>7|pr<<25),ds=y[et-2],il=ds.high,qb=ds.low,M5=(il>>>19|qb<<13)^(il<<3|qb>>>29)^il>>>6,iue=(qb>>>19|il<<13)^(qb<<3|il>>>29)^(qb>>>6|il<<26),oue=y[et-7],BDe=oue.high,zDe=oue.low,aue=y[et-16],$De=aue.high,cue=aue.low;Ue=gn+zDe,Wt=ls+BDe+(Ue>>>0<gn>>>0?1:0),Ue=Ue+iue,Wt=Wt+M5+(Ue>>>0<iue>>>0?1:0),Ue=Ue+cue,Wt=Wt+$De+(Ue>>>0<cue>>>0?1:0),sr.high=Wt,sr.low=Ue}var DDe=ne&Pe^~ne&We,uue=ve&Le^~ve&Ft,ODe=H&Q^H&X^Q&X,KDe=J&Y^J&re^Y&re,LDe=(H>>>28|J<<4)^(H<<30|J>>>2)^(H<<25|J>>>7),lue=(J>>>28|H<<4)^(J<<30|H>>>2)^(J<<25|H>>>7),WDe=(ne>>>14|ve<<18)^(ne>>>18|ve<<14)^(ne<<23|ve>>>9),NDe=(ve>>>14|ne<<18)^(ve>>>18|ne<<14)^(ve<<23|ne>>>9),due=d[et],FDe=due.high,fue=due.low,Pu=Dt+NDe,ym=Lt+WDe+(Pu>>>0<Dt>>>0?1:0),Pu=Pu+uue,ym=ym+DDe+(Pu>>>0<uue>>>0?1:0),Pu=Pu+fue,ym=ym+FDe+(Pu>>>0<fue>>>0?1:0),Pu=Pu+Ue,ym=ym+Wt+(Pu>>>0<Ue>>>0?1:0),hue=lue+KDe,UDe=LDe+ODe+(hue>>>0<lue>>>0?1:0);Lt=We,Dt=Ft,We=Pe,Ft=Le,Pe=ne,Le=ve,ve=ee+Pu|0,ne=se+ym+(ve>>>0<ee>>>0?1:0)|0,se=X,ee=re,X=Q,re=Y,Q=H,Y=J,J=Pu+hue|0,H=ym+UDe+(J>>>0<Pu>>>0?1:0)|0}P=b.low=P+J,b.high=M+H+(P>>>0<J>>>0?1:0),$=S.low=$+Y,S.high=R+Q+($>>>0<Y>>>0?1:0),T=p.low=T+re,p.high=z+X+(T>>>0<re>>>0?1:0),k=I.low=k+ee,I.high=v+se+(k>>>0<ee>>>0?1:0),C=w.low=C+ve,w.high=x+ne+(C>>>0<ve>>>0?1:0),O=A.low=O+Le,A.high=B+Pe+(O>>>0<Le>>>0?1:0),W=_.low=W+Ft,_.high=D+We+(W>>>0<Ft>>>0?1:0),N=E.low=N+Dt,E.high=L+Lt+(N>>>0<Dt>>>0?1:0)},_doFinalize:function(){var m=this._data,f=m.words,g=this._nDataBytes*8,b=m.sigBytes*8;f[b>>>5]|=128<<24-b%32,f[(b+128>>>10<<5)+30]=Math.floor(g/4294967296),f[(b+128>>>10<<5)+31]=g,m.sigBytes=f.length*4,this._process();var S=this._hash.toX32();return S},clone:function(){var m=i.clone.call(this);return m._hash=this._hash.clone(),m},blockSize:1024/32});r.SHA512=i._createHelper(h),r.HmacSHA512=i._createHmacHelper(h)}(),t.SHA512})})(Tne);var q2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Mz.exports,Tne.exports)})(K,function(t){return function(){var r=t,s=r.x64,i=s.Word,o=s.WordArray,a=r.algo,c=a.SHA512,u=a.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var l=c._doFinalize.call(this);return l.sigBytes-=16,l}});r.SHA384=c._createHelper(u),r.HmacSHA384=c._createHmacHelper(u)}(),t.SHA384})})(q2e);var j2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Mz.exports)})(K,function(t){return function(r){var s=t,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.x64,u=c.Word,l=s.algo,d=[],y=[],h=[];(function(){for(var g=1,b=0,S=0;S<24;S++){d[g+5*b]=(S+1)*(S+2)/2%64;var p=b%5,I=(2*g+3*b)%5;g=p,b=I}for(var g=0;g<5;g++)for(var b=0;b<5;b++)y[g+5*b]=b+(2*g+3*b)%5*5;for(var w=1,A=0;A<24;A++){for(var _=0,E=0,M=0;M<7;M++){if(w&1){var P=(1<<M)-1;P<32?E^=1<<P:_^=1<<P-32}w&128?w=w<<1^113:w<<=1}h[A]=u.create(_,E)}})();var m=[];(function(){for(var g=0;g<25;g++)m[g]=u.create()})();var f=l.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],b=0;b<25;b++)g[b]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,b){for(var S=this._state,p=this.blockSize/2,I=0;I<p;I++){var w=g[b+2*I],A=g[b+2*I+1];w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360;var _=S[I];_.high^=A,_.low^=w}for(var E=0;E<24;E++){for(var M=0;M<5;M++){for(var P=0,R=0,$=0;$<5;$++){var _=S[M+5*$];P^=_.high,R^=_.low}var z=m[M];z.high=P,z.low=R}for(var M=0;M<5;M++)for(var T=m[(M+4)%5],v=m[(M+1)%5],k=v.high,x=v.low,P=T.high^(k<<1|x>>>31),R=T.low^(x<<1|k>>>31),$=0;$<5;$++){var _=S[M+5*$];_.high^=P,_.low^=R}for(var C=1;C<25;C++){var P,R,_=S[C],B=_.high,O=_.low,D=d[C];D<32?(P=B<<D|O>>>32-D,R=O<<D|B>>>32-D):(P=O<<D-32|B>>>64-D,R=B<<D-32|O>>>64-D);var W=m[y[C]];W.high=P,W.low=R}var L=m[0],N=S[0];L.high=N.high,L.low=N.low;for(var M=0;M<5;M++)for(var $=0;$<5;$++){var C=M+5*$,_=S[C],H=m[C],J=m[(M+1)%5+5*$],Q=m[(M+2)%5+5*$];_.high=H.high^~J.high&Q.high,_.low=H.low^~J.low&Q.low}var _=S[0],Y=h[E];_.high^=Y.high,_.low^=Y.low}},_doFinalize:function(){var g=this._data,b=g.words;this._nDataBytes*8;var S=g.sigBytes*8,p=this.blockSize*32;b[S>>>5]|=1<<24-S%32,b[(r.ceil((S+1)/p)*p>>>5)-1]|=128,g.sigBytes=b.length*4,this._process();for(var I=this._state,w=this.cfg.outputLength/8,A=w/8,_=[],E=0;E<A;E++){var M=I[E],P=M.high,R=M.low;P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,_.push(R),_.push(P)}return new o.init(_,w)},clone:function(){for(var g=a.clone.call(this),b=g._state=this._state.slice(0),S=0;S<25;S++)b[S]=b[S].clone();return g}});s.SHA3=a._createHelper(f),s.HmacSHA3=a._createHmacHelper(f)}(Math),t.SHA3})})(j2e);var H2e={exports:{}};(function(n,e){(function(t,r){n.exports=r(_n.exports)})(K,function(t){/** @preserve
	(c) 2012 by Cdric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/return function(r){var s=t,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,u=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),y=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=o.create([0,1518500249,1859775393,2400959708,2840853838]),m=o.create([1352829926,1548603684,1836072691,2053994217,0]),f=c.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(A,_){for(var E=0;E<16;E++){var M=_+E,P=A[M];A[M]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}var R=this._hash.words,$=h.words,z=m.words,T=u.words,v=l.words,k=d.words,x=y.words,C,B,O,D,W,L,N,H,J,Q;L=C=R[0],N=B=R[1],H=O=R[2],J=D=R[3],Q=W=R[4];for(var Y,E=0;E<80;E+=1)Y=C+A[_+T[E]]|0,E<16?Y+=g(B,O,D)+$[0]:E<32?Y+=b(B,O,D)+$[1]:E<48?Y+=S(B,O,D)+$[2]:E<64?Y+=p(B,O,D)+$[3]:Y+=I(B,O,D)+$[4],Y=Y|0,Y=w(Y,k[E]),Y=Y+W|0,C=W,W=D,D=w(O,10),O=B,B=Y,Y=L+A[_+v[E]]|0,E<16?Y+=I(N,H,J)+z[0]:E<32?Y+=p(N,H,J)+z[1]:E<48?Y+=S(N,H,J)+z[2]:E<64?Y+=b(N,H,J)+z[3]:Y+=g(N,H,J)+z[4],Y=Y|0,Y=w(Y,x[E]),Y=Y+Q|0,L=Q,Q=J,J=w(H,10),H=N,N=Y;Y=R[1]+O+J|0,R[1]=R[2]+D+Q|0,R[2]=R[3]+W+L|0,R[3]=R[4]+C+N|0,R[4]=R[0]+B+H|0,R[0]=Y},_doFinalize:function(){var A=this._data,_=A.words,E=this._nDataBytes*8,M=A.sigBytes*8;_[M>>>5]|=128<<24-M%32,_[(M+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,A.sigBytes=(_.length+1)*4,this._process();for(var P=this._hash,R=P.words,$=0;$<5;$++){var z=R[$];R[$]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360}return P},clone:function(){var A=a.clone.call(this);return A._hash=this._hash.clone(),A}});function g(A,_,E){return A^_^E}function b(A,_,E){return A&_|~A&E}function S(A,_,E){return(A|~_)^E}function p(A,_,E){return A&E|_&~E}function I(A,_,E){return A^(_|~E)}function w(A,_){return A<<_|A>>>32-_}s.RIPEMD160=a._createHelper(f),s.HmacRIPEMD160=a._createHmacHelper(f)}(),t.RIPEMD160})})(H2e);var cL={exports:{}};(function(n,e){(function(t,r){n.exports=r(_n.exports)})(K,function(t){(function(){var r=t,s=r.lib,i=s.Base,o=r.enc,a=o.Utf8,c=r.algo;c.HMAC=i.extend({init:function(u,l){u=this._hasher=new u.init,typeof l=="string"&&(l=a.parse(l));var d=u.blockSize,y=d*4;l.sigBytes>y&&(l=u.finalize(l)),l.clamp();for(var h=this._oKey=l.clone(),m=this._iKey=l.clone(),f=h.words,g=m.words,b=0;b<d;b++)f[b]^=1549556828,g[b]^=909522486;h.sigBytes=m.sigBytes=y,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var l=this._hasher,d=l.finalize(u);l.reset();var y=l.finalize(this._oKey.clone().concat(d));return y}})})()})})(cL);var G2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,NT.exports,cL.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.Base,o=s.WordArray,a=r.algo,c=a.SHA256,u=a.HMAC,l=a.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,y){for(var h=this.cfg,m=u.create(h.hasher,d),f=o.create(),g=o.create([1]),b=f.words,S=g.words,p=h.keySize,I=h.iterations;b.length<p;){var w=m.update(y).finalize(g);m.reset();for(var A=w.words,_=A.length,E=w,M=1;M<I;M++){E=m.finalize(E),m.reset();for(var P=E.words,R=0;R<_;R++)A[R]^=P[R]}f.concat(w),S[0]++}return f.sigBytes=p*4,f}});r.PBKDF2=function(d,y,h){return l.create(h).compute(d,y)}}(),t.PBKDF2})})(G2e);var fm={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,xne.exports,cL.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.Base,o=s.WordArray,a=r.algo,c=a.MD5,u=a.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:1}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,d){for(var y,h=this.cfg,m=h.hasher.create(),f=o.create(),g=f.words,b=h.keySize,S=h.iterations;g.length<b;){y&&m.update(y),y=m.update(l).finalize(d),m.reset();for(var p=1;p<S;p++)y=m.finalize(y),m.reset();f.concat(y)}return f.sigBytes=b*4,f}});r.EvpKDF=function(l,d,y){return u.create(y).compute(l,d)}}(),t.EvpKDF})})(fm);var aa={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,fm.exports)})(K,function(t){t.lib.Cipher||function(r){var s=t,i=s.lib,o=i.Base,a=i.WordArray,c=i.BufferedBlockAlgorithm,u=s.enc;u.Utf8;var l=u.Base64,d=s.algo,y=d.EvpKDF,h=i.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(P,R){return this.create(this._ENC_XFORM_MODE,P,R)},createDecryptor:function(P,R){return this.create(this._DEC_XFORM_MODE,P,R)},init:function(P,R,$){this.cfg=this.cfg.extend($),this._xformMode=P,this._key=R,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(P){return this._append(P),this._process()},finalize:function(P){P&&this._append(P);var R=this._doFinalize();return R},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function P(R){return typeof R=="string"?M:A}return function(R){return{encrypt:function($,z,T){return P(z).encrypt(R,$,z,T)},decrypt:function($,z,T){return P(z).decrypt(R,$,z,T)}}}}()});i.StreamCipher=h.extend({_doFinalize:function(){var P=this._process(!0);return P},blockSize:1});var m=s.mode={},f=i.BlockCipherMode=o.extend({createEncryptor:function(P,R){return this.Encryptor.create(P,R)},createDecryptor:function(P,R){return this.Decryptor.create(P,R)},init:function(P,R){this._cipher=P,this._iv=R}}),g=m.CBC=function(){var P=f.extend();P.Encryptor=P.extend({processBlock:function($,z){var T=this._cipher,v=T.blockSize;R.call(this,$,z,v),T.encryptBlock($,z),this._prevBlock=$.slice(z,z+v)}}),P.Decryptor=P.extend({processBlock:function($,z){var T=this._cipher,v=T.blockSize,k=$.slice(z,z+v);T.decryptBlock($,z),R.call(this,$,z,v),this._prevBlock=k}});function R($,z,T){var v,k=this._iv;k?(v=k,this._iv=r):v=this._prevBlock;for(var x=0;x<T;x++)$[z+x]^=v[x]}return P}(),b=s.pad={},S=b.Pkcs7={pad:function(P,R){for(var $=R*4,z=$-P.sigBytes%$,T=z<<24|z<<16|z<<8|z,v=[],k=0;k<z;k+=4)v.push(T);var x=a.create(v,z);P.concat(x)},unpad:function(P){var R=P.words[P.sigBytes-1>>>2]&255;P.sigBytes-=R}};i.BlockCipher=h.extend({cfg:h.cfg.extend({mode:g,padding:S}),reset:function(){var P;h.reset.call(this);var R=this.cfg,$=R.iv,z=R.mode;this._xformMode==this._ENC_XFORM_MODE?P=z.createEncryptor:(P=z.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==P?this._mode.init(this,$&&$.words):(this._mode=P.call(z,this,$&&$.words),this._mode.__creator=P)},_doProcessBlock:function(P,R){this._mode.processBlock(P,R)},_doFinalize:function(){var P,R=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(R.pad(this._data,this.blockSize),P=this._process(!0)):(P=this._process(!0),R.unpad(P)),P},blockSize:128/32});var p=i.CipherParams=o.extend({init:function(P){this.mixIn(P)},toString:function(P){return(P||this.formatter).stringify(this)}}),I=s.format={},w=I.OpenSSL={stringify:function(P){var R,$=P.ciphertext,z=P.salt;return z?R=a.create([1398893684,1701076831]).concat(z).concat($):R=$,R.toString(l)},parse:function(P){var R,$=l.parse(P),z=$.words;return z[0]==1398893684&&z[1]==1701076831&&(R=a.create(z.slice(2,4)),z.splice(0,4),$.sigBytes-=16),p.create({ciphertext:$,salt:R})}},A=i.SerializableCipher=o.extend({cfg:o.extend({format:w}),encrypt:function(P,R,$,z){z=this.cfg.extend(z);var T=P.createEncryptor($,z),v=T.finalize(R),k=T.cfg;return p.create({ciphertext:v,key:$,iv:k.iv,algorithm:P,mode:k.mode,padding:k.padding,blockSize:P.blockSize,formatter:z.format})},decrypt:function(P,R,$,z){z=this.cfg.extend(z),R=this._parse(R,z.format);var T=P.createDecryptor($,z).finalize(R.ciphertext);return T},_parse:function(P,R){return typeof P=="string"?R.parse(P,this):P}}),_=s.kdf={},E=_.OpenSSL={execute:function(P,R,$,z,T){if(z||(z=a.random(64/8)),T)var v=y.create({keySize:R+$,hasher:T}).compute(P,z);else var v=y.create({keySize:R+$}).compute(P,z);var k=a.create(v.words.slice(R),$*4);return v.sigBytes=R*4,p.create({key:v,iv:k,salt:z})}},M=i.PasswordBasedCipher=A.extend({cfg:A.cfg.extend({kdf:E}),encrypt:function(P,R,$,z){z=this.cfg.extend(z);var T=z.kdf.execute($,P.keySize,P.ivSize,z.salt,z.hasher);z.iv=T.iv;var v=A.encrypt.call(this,P,R,T.key,z);return v.mixIn(T),v},decrypt:function(P,R,$,z){z=this.cfg.extend(z),R=this._parse(R,z.format);var T=z.kdf.execute($,P.keySize,P.ivSize,R.salt,z.hasher);z.iv=T.iv;var v=A.decrypt.call(this,P,R,T.key,z);return v}})}()})})(aa);var Y2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){return t.mode.CFB=function(){var r=t.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize;s.call(this,i,o,c,a),this._prevBlock=i.slice(o,o+c)}}),r.Decryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,u=i.slice(o,o+c);s.call(this,i,o,c,a),this._prevBlock=u}});function s(i,o,a,c){var u,l=this._iv;l?(u=l.slice(0),this._iv=void 0):u=this._prevBlock,c.encryptBlock(u,0);for(var d=0;d<a;d++)i[o+d]^=u[d]}return r}(),t.mode.CFB})})(Y2e);var Z2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){return t.mode.CTR=function(){var r=t.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,u=this._iv,l=this._counter;u&&(l=this._counter=u.slice(0),this._iv=void 0);var d=l.slice(0);a.encryptBlock(d,0),l[c-1]=l[c-1]+1|0;for(var y=0;y<c;y++)i[o+y]^=d[y]}});return r.Decryptor=s,r}(),t.mode.CTR})})(Z2e);var J2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return t.mode.CTRGladman=function(){var r=t.lib.BlockCipherMode.extend();function s(a){if((a>>24&255)===255){var c=a>>16&255,u=a>>8&255,l=a&255;c===255?(c=0,u===255?(u=0,l===255?l=0:++l):++u):++c,a=0,a+=c<<16,a+=u<<8,a+=l}else a+=1<<24;return a}function i(a){return(a[0]=s(a[0]))===0&&(a[1]=s(a[1])),a}var o=r.Encryptor=r.extend({processBlock:function(a,c){var u=this._cipher,l=u.blockSize,d=this._iv,y=this._counter;d&&(y=this._counter=d.slice(0),this._iv=void 0),i(y);var h=y.slice(0);u.encryptBlock(h,0);for(var m=0;m<l;m++)a[c+m]^=h[m]}});return r.Decryptor=o,r}(),t.mode.CTRGladman})})(J2e);var X2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){return t.mode.OFB=function(){var r=t.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,u=this._iv,l=this._keystream;u&&(l=this._keystream=u.slice(0),this._iv=void 0),a.encryptBlock(l,0);for(var d=0;d<c;d++)i[o+d]^=l[d]}});return r.Decryptor=s,r}(),t.mode.OFB})})(X2e);var Q2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){return t.mode.ECB=function(){var r=t.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(s,i){this._cipher.encryptBlock(s,i)}}),r.Decryptor=r.extend({processBlock:function(s,i){this._cipher.decryptBlock(s,i)}}),r}(),t.mode.ECB})})(Q2e);var eMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){return t.pad.AnsiX923={pad:function(r,s){var i=r.sigBytes,o=s*4,a=o-i%o,c=i+a-1;r.clamp(),r.words[c>>>2]|=a<<24-c%4*8,r.sigBytes+=a},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},t.pad.Ansix923})})(eMe);var tMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){return t.pad.Iso10126={pad:function(r,s){var i=s*4,o=i-r.sigBytes%i;r.concat(t.lib.WordArray.random(o-1)).concat(t.lib.WordArray.create([o<<24],1))},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},t.pad.Iso10126})})(tMe);var rMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){return t.pad.Iso97971={pad:function(r,s){r.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(r,s)},unpad:function(r){t.pad.ZeroPadding.unpad(r),r.sigBytes--}},t.pad.Iso97971})})(rMe);var nMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){return t.pad.ZeroPadding={pad:function(r,s){var i=s*4;r.clamp(),r.sigBytes+=i-(r.sigBytes%i||i)},unpad:function(r){for(var s=r.words,i=r.sigBytes-1,i=r.sigBytes-1;i>=0;i--)if(s[i>>>2]>>>24-i%4*8&255){r.sigBytes=i+1;break}}},t.pad.ZeroPadding})})(nMe);var sMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})})(sMe);var iMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){return function(r){var s=t,i=s.lib,o=i.CipherParams,a=s.enc,c=a.Hex,u=s.format;u.Hex={stringify:function(l){return l.ciphertext.toString(c)},parse:function(l){var d=c.parse(l);return o.create({ciphertext:d})}}}(),t.format.Hex})})(iMe);var oMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Wb.exports,Nb.exports,fm.exports,aa.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.BlockCipher,o=r.algo,a=[],c=[],u=[],l=[],d=[],y=[],h=[],m=[],f=[],g=[];(function(){for(var p=[],I=0;I<256;I++)I<128?p[I]=I<<1:p[I]=I<<1^283;for(var w=0,A=0,I=0;I<256;I++){var _=A^A<<1^A<<2^A<<3^A<<4;_=_>>>8^_&255^99,a[w]=_,c[_]=w;var E=p[w],M=p[E],P=p[M],R=p[_]*257^_*16843008;u[w]=R<<24|R>>>8,l[w]=R<<16|R>>>16,d[w]=R<<8|R>>>24,y[w]=R;var R=P*16843009^M*65537^E*257^w*16843008;h[_]=R<<24|R>>>8,m[_]=R<<16|R>>>16,f[_]=R<<8|R>>>24,g[_]=R,w?(w=E^p[p[p[P^E]]],A^=p[p[A]]):w=A=1}})();var b=[0,1,2,4,8,16,32,64,128,27,54],S=o.AES=i.extend({_doReset:function(){var p;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var I=this._keyPriorReset=this._key,w=I.words,A=I.sigBytes/4,_=this._nRounds=A+6,E=(_+1)*4,M=this._keySchedule=[],P=0;P<E;P++)P<A?M[P]=w[P]:(p=M[P-1],P%A?A>6&&P%A==4&&(p=a[p>>>24]<<24|a[p>>>16&255]<<16|a[p>>>8&255]<<8|a[p&255]):(p=p<<8|p>>>24,p=a[p>>>24]<<24|a[p>>>16&255]<<16|a[p>>>8&255]<<8|a[p&255],p^=b[P/A|0]<<24),M[P]=M[P-A]^p);for(var R=this._invKeySchedule=[],$=0;$<E;$++){var P=E-$;if($%4)var p=M[P];else var p=M[P-4];$<4||P<=4?R[$]=p:R[$]=h[a[p>>>24]]^m[a[p>>>16&255]]^f[a[p>>>8&255]]^g[a[p&255]]}}},encryptBlock:function(p,I){this._doCryptBlock(p,I,this._keySchedule,u,l,d,y,a)},decryptBlock:function(p,I){var w=p[I+1];p[I+1]=p[I+3],p[I+3]=w,this._doCryptBlock(p,I,this._invKeySchedule,h,m,f,g,c);var w=p[I+1];p[I+1]=p[I+3],p[I+3]=w},_doCryptBlock:function(p,I,w,A,_,E,M,P){for(var R=this._nRounds,$=p[I]^w[0],z=p[I+1]^w[1],T=p[I+2]^w[2],v=p[I+3]^w[3],k=4,x=1;x<R;x++){var C=A[$>>>24]^_[z>>>16&255]^E[T>>>8&255]^M[v&255]^w[k++],B=A[z>>>24]^_[T>>>16&255]^E[v>>>8&255]^M[$&255]^w[k++],O=A[T>>>24]^_[v>>>16&255]^E[$>>>8&255]^M[z&255]^w[k++],D=A[v>>>24]^_[$>>>16&255]^E[z>>>8&255]^M[T&255]^w[k++];$=C,z=B,T=O,v=D}var C=(P[$>>>24]<<24|P[z>>>16&255]<<16|P[T>>>8&255]<<8|P[v&255])^w[k++],B=(P[z>>>24]<<24|P[T>>>16&255]<<16|P[v>>>8&255]<<8|P[$&255])^w[k++],O=(P[T>>>24]<<24|P[v>>>16&255]<<16|P[$>>>8&255]<<8|P[z&255])^w[k++],D=(P[v>>>24]<<24|P[$>>>16&255]<<16|P[z>>>8&255]<<8|P[T&255])^w[k++];p[I]=C,p[I+1]=B,p[I+2]=O,p[I+3]=D},keySize:256/32});r.AES=i._createHelper(S)}(),t.AES})})(oMe);var aMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Wb.exports,Nb.exports,fm.exports,aa.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=s.BlockCipher,a=r.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],y=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=a.DES=o.extend({_doReset:function(){for(var b=this._key,S=b.words,p=[],I=0;I<56;I++){var w=c[I]-1;p[I]=S[w>>>5]>>>31-w%32&1}for(var A=this._subKeys=[],_=0;_<16;_++){for(var E=A[_]=[],M=l[_],I=0;I<24;I++)E[I/6|0]|=p[(u[I]-1+M)%28]<<31-I%6,E[4+(I/6|0)]|=p[28+(u[I+24]-1+M)%28]<<31-I%6;E[0]=E[0]<<1|E[0]>>>31;for(var I=1;I<7;I++)E[I]=E[I]>>>(I-1)*4+3;E[7]=E[7]<<5|E[7]>>>27}for(var P=this._invSubKeys=[],I=0;I<16;I++)P[I]=A[15-I]},encryptBlock:function(b,S){this._doCryptBlock(b,S,this._subKeys)},decryptBlock:function(b,S){this._doCryptBlock(b,S,this._invSubKeys)},_doCryptBlock:function(b,S,p){this._lBlock=b[S],this._rBlock=b[S+1],m.call(this,4,252645135),m.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),m.call(this,1,1431655765);for(var I=0;I<16;I++){for(var w=p[I],A=this._lBlock,_=this._rBlock,E=0,M=0;M<8;M++)E|=d[M][((_^w[M])&y[M])>>>0];this._lBlock=_,this._rBlock=A^E}var P=this._lBlock;this._lBlock=this._rBlock,this._rBlock=P,m.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),m.call(this,16,65535),m.call(this,4,252645135),b[S]=this._lBlock,b[S+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function m(b,S){var p=(this._lBlock>>>b^this._rBlock)&S;this._rBlock^=p,this._lBlock^=p<<b}function f(b,S){var p=(this._rBlock>>>b^this._lBlock)&S;this._lBlock^=p,this._rBlock^=p<<b}r.DES=o._createHelper(h);var g=a.TripleDES=o.extend({_doReset:function(){var b=this._key,S=b.words;if(S.length!==2&&S.length!==4&&S.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var p=S.slice(0,2),I=S.length<4?S.slice(0,2):S.slice(2,4),w=S.length<6?S.slice(0,2):S.slice(4,6);this._des1=h.createEncryptor(i.create(p)),this._des2=h.createEncryptor(i.create(I)),this._des3=h.createEncryptor(i.create(w))},encryptBlock:function(b,S){this._des1.encryptBlock(b,S),this._des2.decryptBlock(b,S),this._des3.encryptBlock(b,S)},decryptBlock:function(b,S){this._des3.decryptBlock(b,S),this._des2.encryptBlock(b,S),this._des1.decryptBlock(b,S)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(g)}(),t.TripleDES})})(aMe);var cMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Wb.exports,Nb.exports,fm.exports,aa.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.StreamCipher,o=r.algo,a=o.RC4=i.extend({_doReset:function(){for(var l=this._key,d=l.words,y=l.sigBytes,h=this._S=[],m=0;m<256;m++)h[m]=m;for(var m=0,f=0;m<256;m++){var g=m%y,b=d[g>>>2]>>>24-g%4*8&255;f=(f+h[m]+b)%256;var S=h[m];h[m]=h[f],h[f]=S}this._i=this._j=0},_doProcessBlock:function(l,d){l[d]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var l=this._S,d=this._i,y=this._j,h=0,m=0;m<4;m++){d=(d+1)%256,y=(y+l[d])%256;var f=l[d];l[d]=l[y],l[y]=f,h|=l[(l[d]+l[y])%256]<<24-m*8}return this._i=d,this._j=y,h}r.RC4=i._createHelper(a);var u=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var l=this.cfg.drop;l>0;l--)c.call(this)}});r.RC4Drop=i._createHelper(u)}(),t.RC4})})(cMe);var uMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Wb.exports,Nb.exports,fm.exports,aa.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.StreamCipher,o=r.algo,a=[],c=[],u=[],l=o.Rabbit=i.extend({_doReset:function(){for(var y=this._key.words,h=this.cfg.iv,m=0;m<4;m++)y[m]=(y[m]<<8|y[m]>>>24)&16711935|(y[m]<<24|y[m]>>>8)&4278255360;var f=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],g=this._C=[y[2]<<16|y[2]>>>16,y[0]&4294901760|y[1]&65535,y[3]<<16|y[3]>>>16,y[1]&4294901760|y[2]&65535,y[0]<<16|y[0]>>>16,y[2]&4294901760|y[3]&65535,y[1]<<16|y[1]>>>16,y[3]&4294901760|y[0]&65535];this._b=0;for(var m=0;m<4;m++)d.call(this);for(var m=0;m<8;m++)g[m]^=f[m+4&7];if(h){var b=h.words,S=b[0],p=b[1],I=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,w=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,A=I>>>16|w&4294901760,_=w<<16|I&65535;g[0]^=I,g[1]^=A,g[2]^=w,g[3]^=_,g[4]^=I,g[5]^=A,g[6]^=w,g[7]^=_;for(var m=0;m<4;m++)d.call(this)}},_doProcessBlock:function(y,h){var m=this._X;d.call(this),a[0]=m[0]^m[5]>>>16^m[3]<<16,a[1]=m[2]^m[7]>>>16^m[5]<<16,a[2]=m[4]^m[1]>>>16^m[7]<<16,a[3]=m[6]^m[3]>>>16^m[1]<<16;for(var f=0;f<4;f++)a[f]=(a[f]<<8|a[f]>>>24)&16711935|(a[f]<<24|a[f]>>>8)&4278255360,y[h+f]^=a[f]},blockSize:128/32,ivSize:64/32});function d(){for(var y=this._X,h=this._C,m=0;m<8;m++)c[m]=h[m];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<c[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<c[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<c[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<c[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<c[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<c[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<c[6]>>>0?1:0)|0,this._b=h[7]>>>0<c[7]>>>0?1:0;for(var m=0;m<8;m++){var f=y[m]+h[m],g=f&65535,b=f>>>16,S=((g*g>>>17)+g*b>>>15)+b*b,p=((f&4294901760)*f|0)+((f&65535)*f|0);u[m]=S^p}y[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,y[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,y[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,y[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,y[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,y[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,y[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,y[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.Rabbit=i._createHelper(l)}(),t.Rabbit})})(uMe);var lMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Wb.exports,Nb.exports,fm.exports,aa.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.StreamCipher,o=r.algo,a=[],c=[],u=[],l=o.RabbitLegacy=i.extend({_doReset:function(){var y=this._key.words,h=this.cfg.iv,m=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],f=this._C=[y[2]<<16|y[2]>>>16,y[0]&4294901760|y[1]&65535,y[3]<<16|y[3]>>>16,y[1]&4294901760|y[2]&65535,y[0]<<16|y[0]>>>16,y[2]&4294901760|y[3]&65535,y[1]<<16|y[1]>>>16,y[3]&4294901760|y[0]&65535];this._b=0;for(var g=0;g<4;g++)d.call(this);for(var g=0;g<8;g++)f[g]^=m[g+4&7];if(h){var b=h.words,S=b[0],p=b[1],I=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,w=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,A=I>>>16|w&4294901760,_=w<<16|I&65535;f[0]^=I,f[1]^=A,f[2]^=w,f[3]^=_,f[4]^=I,f[5]^=A,f[6]^=w,f[7]^=_;for(var g=0;g<4;g++)d.call(this)}},_doProcessBlock:function(y,h){var m=this._X;d.call(this),a[0]=m[0]^m[5]>>>16^m[3]<<16,a[1]=m[2]^m[7]>>>16^m[5]<<16,a[2]=m[4]^m[1]>>>16^m[7]<<16,a[3]=m[6]^m[3]>>>16^m[1]<<16;for(var f=0;f<4;f++)a[f]=(a[f]<<8|a[f]>>>24)&16711935|(a[f]<<24|a[f]>>>8)&4278255360,y[h+f]^=a[f]},blockSize:128/32,ivSize:64/32});function d(){for(var y=this._X,h=this._C,m=0;m<8;m++)c[m]=h[m];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<c[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<c[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<c[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<c[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<c[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<c[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<c[6]>>>0?1:0)|0,this._b=h[7]>>>0<c[7]>>>0?1:0;for(var m=0;m<8;m++){var f=y[m]+h[m],g=f&65535,b=f>>>16,S=((g*g>>>17)+g*b>>>15)+b*b,p=((f&4294901760)*f|0)+((f&65535)*f|0);u[m]=S^p}y[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,y[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,y[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,y[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,y[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,y[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,y[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,y[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.RabbitLegacy=i._createHelper(l)}(),t.RabbitLegacy})})(lMe);var dMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Wb.exports,Nb.exports,fm.exports,aa.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.BlockCipher,o=r.algo;const a=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var l={pbox:[],sbox:[]};function d(g,b){let S=b>>24&255,p=b>>16&255,I=b>>8&255,w=b&255,A=g.sbox[0][S]+g.sbox[1][p];return A=A^g.sbox[2][I],A=A+g.sbox[3][w],A}function y(g,b,S){let p=b,I=S,w;for(let A=0;A<a;++A)p=p^g.pbox[A],I=d(g,p)^I,w=p,p=I,I=w;return w=p,p=I,I=w,I=I^g.pbox[a],p=p^g.pbox[a+1],{left:p,right:I}}function h(g,b,S){let p=b,I=S,w;for(let A=a+1;A>1;--A)p=p^g.pbox[A],I=d(g,p)^I,w=p,p=I,I=w;return w=p,p=I,I=w,I=I^g.pbox[1],p=p^g.pbox[0],{left:p,right:I}}function m(g,b,S){for(let _=0;_<4;_++){g.sbox[_]=[];for(let E=0;E<256;E++)g.sbox[_][E]=u[_][E]}let p=0;for(let _=0;_<a+2;_++)g.pbox[_]=c[_]^b[p],p++,p>=S&&(p=0);let I=0,w=0,A=0;for(let _=0;_<a+2;_+=2)A=y(g,I,w),I=A.left,w=A.right,g.pbox[_]=I,g.pbox[_+1]=w;for(let _=0;_<4;_++)for(let E=0;E<256;E+=2)A=y(g,I,w),I=A.left,w=A.right,g.sbox[_][E]=I,g.sbox[_][E+1]=w;return!0}var f=o.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,b=g.words,S=g.sigBytes/4;m(l,b,S)}},encryptBlock:function(g,b){var S=y(l,g[b],g[b+1]);g[b]=S.left,g[b+1]=S.right},decryptBlock:function(g,b){var S=h(l,g[b],g[b+1]);g[b]=S.left,g[b+1]=S.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=i._createHelper(f)}(),t.Blowfish})})(dMe);(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Mz.exports,N2e.exports,F2e.exports,Wb.exports,U2e.exports,Nb.exports,xne.exports,NT.exports,V2e.exports,Tne.exports,q2e.exports,j2e.exports,H2e.exports,cL.exports,G2e.exports,fm.exports,aa.exports,Y2e.exports,Z2e.exports,J2e.exports,X2e.exports,Q2e.exports,eMe.exports,tMe.exports,rMe.exports,nMe.exports,sMe.exports,iMe.exports,oMe.exports,aMe.exports,cMe.exports,uMe.exports,lMe.exports,dMe.exports)})(K,function(t){return t})})(W2e);var pEt=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Lb,"__esModule",{value:!0});Lb.Base=void 0;const sc=V,bU=pEt(W2e.exports);class gl{print(){gl.print(this)}bufferIndexOf(e,t,r=!1){if(r)return this.binarySearch(e,t,sc.Buffer.compare);const s=(i,o)=>i.equals(o);return this.linearSearch(e,t,s)}static binarySearch(e,t,r){let s=0,i=e.length-1;for(;s<=i;){const o=Math.floor((s+i)/2),a=r(e[o],t);if(a===0){for(let c=o-1;c>=0;c--)if(r(e[c],t)!==0)return c+1;return 0}else a<0?s=o+1:i=o-1}return-1}binarySearch(e,t,r){return gl.binarySearch(e,t,r)}static linearSearch(e,t,r){for(let s=0;s<e.length;s++)if(r(e[s],t))return s;return-1}linearSearch(e,t,r){return gl.linearSearch(e,t,r)}static bufferify(e){if(!sc.Buffer.isBuffer(e)){if(typeof e=="object"&&e.words)return sc.Buffer.from(e.toString(bU.default.enc.Hex),"hex");if(gl.isHexString(e))return sc.Buffer.from(e.replace(/^0x/,""),"hex");if(typeof e=="string")return sc.Buffer.from(e);if(typeof e=="bigint")return sc.Buffer.from(e.toString(16),"hex");if(e instanceof Uint8Array)return sc.Buffer.from(e.buffer);if(typeof e=="number"){let t=e.toString();return t.length%2&&(t=`0${t}`),sc.Buffer.from(t,"hex")}else if(ArrayBuffer.isView(e))return sc.Buffer.from(e.buffer,e.byteOffset,e.byteLength)}return e}bigNumberify(e){return gl.bigNumberify(e)}static bigNumberify(e){if(typeof e=="bigint")return e;if(typeof e=="string")return e.startsWith("0x")&&gl.isHexString(e)?BigInt("0x"+e.replace("0x","").toString()):BigInt(e);if(sc.Buffer.isBuffer(e))return BigInt("0x"+e.toString("hex"));if(e instanceof Uint8Array||typeof e=="number")return BigInt(e);throw new Error("cannot bigNumberify")}static isHexString(e){return typeof e=="string"&&/^(0x)?[0-9A-Fa-f]*$/.test(e)}static print(e){console.log(e.toString())}bufferToHex(e,t=!0){return gl.bufferToHex(e,t)}static bufferToHex(e,t=!0){return`${t?"0x":""}${(e||sc.Buffer.alloc(0)).toString("hex")}`}bufferify(e){return gl.bufferify(e)}bufferifyFn(e){return t=>{const r=e(t);return sc.Buffer.isBuffer(r)?r:this.isHexString(r)?sc.Buffer.from(r.replace("0x",""),"hex"):typeof r=="string"?sc.Buffer.from(r):typeof r=="bigint"?sc.Buffer.from(t.toString(16),"hex"):ArrayBuffer.isView(r)?sc.Buffer.from(r.buffer,r.byteOffset,r.byteLength):sc.Buffer.from(e(bU.default.enc.Hex.parse(t.toString("hex"))).toString(bU.default.enc.Hex),"hex")}}isHexString(e){return gl.isHexString(e)}log2(e){return e===1?0:1+this.log2(e/2|0)}zip(e,t){return e.map((r,s)=>[r,t[s]])}static hexZeroPad(e,t){return"0x"+e.replace("0x","").padStart(t,"0")}}Lb.Base=gl;Lb.default=gl;var uL=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Cz,"__esModule",{value:!0});Cz.MerkleTree=void 0;const ca=V,Qh=uL(yEt),SU=uL(NT.exports),bEt=uL(Ene.exports),SEt=uL(Lb);class Xc extends SEt.default{constructor(e,t=SU.default,r={}){if(super(),this.duplicateOdd=!1,this.concatenator=ca.Buffer.concat,this.hashLeaves=!1,this.isBitcoinTree=!1,this.leaves=[],this.layers=[],this.sortLeaves=!1,this.sortPairs=!1,this.sort=!1,this.fillDefaultHash=null,this.complete=!1,r.complete){if(r.isBitcoinTree)throw new Error('option "complete" is incompatible with "isBitcoinTree"');if(r.duplicateOdd)throw new Error('option "complete" is incompatible with "duplicateOdd"')}if(this.isBitcoinTree=!!r.isBitcoinTree,this.hashLeaves=!!r.hashLeaves,this.sortLeaves=!!r.sortLeaves,this.sortPairs=!!r.sortPairs,this.complete=!!r.complete,r.fillDefaultHash)if(typeof r.fillDefaultHash=="function")this.fillDefaultHash=r.fillDefaultHash;else if(ca.Buffer.isBuffer(r.fillDefaultHash)||typeof r.fillDefaultHash=="string")this.fillDefaultHash=(s,i)=>r.fillDefaultHash;else throw new Error('method "fillDefaultHash" must be a function, Buffer, or string');this.sort=!!r.sort,this.sort&&(this.sortLeaves=!0,this.sortPairs=!0),this.duplicateOdd=!!r.duplicateOdd,r.concatenator&&(this.concatenator=r.concatenator),this.hashFn=this.bufferifyFn(t),this.processLeaves(e)}getOptions(){var e,t;return{complete:this.complete,isBitcoinTree:this.isBitcoinTree,hashLeaves:this.hashLeaves,sortLeaves:this.sortLeaves,sortPairs:this.sortPairs,sort:this.sort,fillDefaultHash:(t=(e=this.fillDefaultHash)===null||e===void 0?void 0:e.toString())!==null&&t!==void 0?t:null,duplicateOdd:this.duplicateOdd}}processLeaves(e){if(this.hashLeaves&&(e=e.map(this.hashFn)),this.leaves=e.map(this.bufferify),this.sortLeaves&&(this.leaves=this.leaves.sort(ca.Buffer.compare)),this.fillDefaultHash)for(let t=this.leaves.length;t<Math.pow(2,Math.ceil(Math.log2(this.leaves.length)));t++)this.leaves.push(this.bufferify(this.fillDefaultHash(t,this.hashFn)));this.createHashes(this.leaves)}createHashes(e){for(this.layers=[e];e.length>1;){const t=this.layers.length;this.layers.push([]);const r=this.complete&&t===1&&!Number.isInteger(Math.log2(e.length))?2*e.length-Math.pow(2,Math.ceil(Math.log2(e.length))):e.length;for(let s=0;s<e.length;s+=2){if(s>=r){this.layers[t].push(...e.slice(r));break}else if(s+1===e.length&&e.length%2===1){const u=e[e.length-1];let l=u;if(this.isBitcoinTree){l=this.hashFn(this.concatenator([Qh.default(u),Qh.default(u)])),l=Qh.default(this.hashFn(l)),this.layers[t].push(l);continue}else if(!this.duplicateOdd){this.layers[t].push(e[s]);continue}}const i=e[s],o=s+1===e.length?i:e[s+1];let a=null;this.isBitcoinTree?a=[Qh.default(i),Qh.default(o)]:a=[i,o],this.sortPairs&&a.sort(ca.Buffer.compare);let c=this.hashFn(this.concatenator(a));this.isBitcoinTree&&(c=Qh.default(this.hashFn(c))),this.layers[t].push(c)}e=this.layers[t]}}addLeaf(e,t=!1){t&&(e=this.hashFn(e)),this.processLeaves(this.leaves.concat(e))}addLeaves(e,t=!1){t&&(e=e.map(this.hashFn)),this.processLeaves(this.leaves.concat(e))}getLeaves(e){return Array.isArray(e)?(this.hashLeaves&&(e=e.map(this.hashFn),this.sortLeaves&&(e=e.sort(ca.Buffer.compare))),this.leaves.filter(t=>this.bufferIndexOf(e,t,this.sortLeaves)!==-1)):this.leaves}getLeaf(e){return e<0||e>this.leaves.length-1?ca.Buffer.from([]):this.leaves[e]}getLeafIndex(e){e=this.bufferify(e);const t=this.getLeaves();for(let r=0;r<t.length;r++)if(t[r].equals(e))return r;return-1}getLeafCount(){return this.leaves.length}getHexLeaves(){return this.leaves.map(e=>this.bufferToHex(e))}static marshalLeaves(e){return JSON.stringify(e.map(t=>Xc.bufferToHex(t)),null,2)}static unmarshalLeaves(e){let t=null;if(typeof e=="string")t=JSON.parse(e);else if(e instanceof Object)t=e;else throw new Error("Expected type of string or object");if(!t)return[];if(!Array.isArray(t))throw new Error("Expected JSON string to be array");return t.map(Xc.bufferify)}getLayers(){return this.layers}getHexLayers(){return this.layers.reduce((e,t)=>(Array.isArray(t)?e.push(t.map(r=>this.bufferToHex(r))):e.push(t),e),[])}getLayersFlat(){const e=this.layers.reduce((t,r)=>(Array.isArray(r)?t.unshift(...r):t.unshift(r),t),[]);return e.unshift(ca.Buffer.from([0])),e}getHexLayersFlat(){return this.getLayersFlat().map(e=>this.bufferToHex(e))}getLayerCount(){return this.getLayers().length}getRoot(){return this.layers.length===0?ca.Buffer.from([]):this.layers[this.layers.length-1][0]||ca.Buffer.from([])}getHexRoot(){return this.bufferToHex(this.getRoot())}getProof(e,t){if(typeof e>"u")throw new Error("leaf is required");e=this.bufferify(e);const r=[];if(!Number.isInteger(t)){t=-1;for(let s=0;s<this.leaves.length;s++)ca.Buffer.compare(e,this.leaves[s])===0&&(t=s)}if(t<=-1)return[];for(let s=0;s<this.layers.length;s++){const i=this.layers[s],o=t%2,a=o?t-1:this.isBitcoinTree&&t===i.length-1&&s<this.layers.length-1?t:t+1;a<i.length&&r.push({position:o?"left":"right",data:i[a]}),t=t/2|0}return r}getHexProof(e,t){return this.getProof(e,t).map(r=>this.bufferToHex(r.data))}getProofs(){const e=[],t=[];return this.getProofsDFS(this.layers.length-1,0,e,t),t}getProofsDFS(e,t,r,s){const i=t%2;if(e===-1){i||s.push([...r].reverse());return}if(t>=this.layers[e].length)return;const o=this.layers[e],a=i?t-1:t+1;let c=!1;a<o.length&&(c=!0,r.push({position:i?"left":"right",data:o[a]}));const u=t*2,l=t*2+1;this.getProofsDFS(e-1,u,r,s),this.getProofsDFS(e-1,l,r,s),c&&r.splice(r.length-1,1)}getHexProofs(){return this.getProofs().map(e=>this.bufferToHex(e.data))}getPositionalHexProof(e,t){return this.getProof(e,t).map(r=>[r.position==="left"?0:1,this.bufferToHex(r.data)])}static marshalProof(e){const t=e.map(r=>typeof r=="string"?r:ca.Buffer.isBuffer(r)?Xc.bufferToHex(r):{position:r.position,data:Xc.bufferToHex(r.data)});return JSON.stringify(t,null,2)}static unmarshalProof(e){let t=null;if(typeof e=="string")t=JSON.parse(e);else if(e instanceof Object)t=e;else throw new Error("Expected type of string or object");if(!t)return[];if(!Array.isArray(t))throw new Error("Expected JSON string to be array");return t.map(r=>{if(typeof r=="string")return Xc.bufferify(r);if(r instanceof Object)return{position:r.position,data:Xc.bufferify(r.data)};throw new Error("Expected item to be of type string or object")})}static marshalTree(e){const t=e.getHexRoot(),r=e.leaves.map(o=>Xc.bufferToHex(o)),s=e.getHexLayers(),i=e.getOptions();return JSON.stringify({options:i,root:t,layers:s,leaves:r},null,2)}static unmarshalTree(e,t=SU.default,r={}){let s=null;if(typeof e=="string")s=JSON.parse(e);else if(e instanceof Object)s=e;else throw new Error("Expected type of string or object");if(!s)throw new Error("could not parse json");return r=Object.assign({},s.options||{},r),new Xc(s.leaves,t,r)}getProofIndices(e,t){const r=Math.pow(2,t);let s=new Set;for(const u of e){let l=r+u;for(;l>1;)s.add(l^1),l=l/2|0}const i=e.map(u=>r+u),o=Array.from(s).sort((u,l)=>u-l).reverse();s=i.concat(o);const a=new Set,c=[];for(let u of s)if(!a.has(u))for(c.push(u);u>1&&(a.add(u),!!a.has(u^1));)u=u/2|0;return c.filter(u=>!e.includes(u-r))}getProofIndicesForUnevenTree(e,t){const r=Math.ceil(Math.log2(t)),s=[];for(let a=0;a<r;a++)t%2!==0&&s.push({index:a,leavesCount:t}),t=Math.ceil(t/2);const i=[];let o=e;for(let a=0;a<r;a++){let u=o.map(d=>d%2===0?d+1:d-1).filter(d=>!o.includes(d));const l=s.find(({index:d})=>d===a);l&&o.includes(l.leavesCount-1)&&(u=u.slice(0,-1)),i.push(u),o=[...new Set(o.map(d=>d%2===0?d/2:d%2===0?(d+1)/2:(d-1)/2))]}return i}getMultiProof(e,t){if(this.complete||console.warn("Warning: For correct multiProofs it's strongly recommended to set complete: true"),t||(t=e,e=this.getLayersFlat()),this.isUnevenTree()&&t.every(Number.isInteger))return this.getMultiProofForUnevenTree(t);if(!t.every(Number.isInteger)){let s=t;this.sortPairs&&(s=s.sort(ca.Buffer.compare));let i=s.map(u=>this.bufferIndexOf(this.leaves,u,this.sortLeaves)).sort((u,l)=>u===l?0:u>l?1:-1);if(!i.every(u=>u!==-1))throw new Error("Element does not exist in Merkle tree");const o=[],a=[];let c=[];for(let u=0;u<this.layers.length;u++){const l=this.layers[u];for(let d=0;d<i.length;d++){const y=i[d],h=this.getPairNode(l,y);o.push(l[y]),h&&a.push(h),c.push(y/2|0)}i=c.filter((d,y,h)=>h.indexOf(d)===y),c=[]}return a.filter(u=>!o.includes(u))}return this.getProofIndices(t,Math.log2(e.length/2|0)).map(s=>e[s])}getMultiProofForUnevenTree(e,t){t||(t=e,e=this.getLayers());let r=[],s=t;for(const i of e){const o=[];for(const c of s){if(c%2===0){const l=c+1;if(!s.includes(l)&&i[l]){o.push(i[l]);continue}}const u=c-1;if(!s.includes(u)&&i[u]){o.push(i[u]);continue}}r=r.concat(o);const a=new Set;for(const c of s){if(c%2===0){a.add(c/2);continue}if(c%2===0){a.add((c+1)/2);continue}a.add((c-1)/2)}s=Array.from(a)}return r}getHexMultiProof(e,t){return this.getMultiProof(e,t).map(r=>this.bufferToHex(r))}getProofFlags(e,t){if(!Array.isArray(e)||e.length<=0)throw new Error("Invalid Inputs!");let r;if(e.every(Number.isInteger)?r=[...e].sort((a,c)=>a===c?0:a>c?1:-1):r=e.map(a=>this.bufferIndexOf(this.leaves,a,this.sortLeaves)).sort((a,c)=>a===c?0:a>c?1:-1),!r.every(a=>a!==-1))throw new Error("Element does not exist in Merkle tree");const s=t.map(a=>this.bufferify(a)),i=[],o=[];for(let a=0;a<this.layers.length;a++){const c=this.layers[a];r=r.reduce((u,l)=>{if(!i.includes(c[l])){const y=this.getPairNode(c,l),h=s.includes(c[l])||s.includes(y);y&&o.push(!h),i.push(c[l]),i.push(y)}return u.push(l/2|0),u},[])}return o}verify(e,t,r){let s=this.bufferify(t);if(r=this.bufferify(r),!Array.isArray(e)||!t||!r)return!1;for(let i=0;i<e.length;i++){const o=e[i];let a=null,c=null;if(typeof o=="string")a=this.bufferify(o),c=!0;else if(Array.isArray(o))c=o[0]===0,a=this.bufferify(o[1]);else if(ca.Buffer.isBuffer(o))a=o,c=!0;else if(o instanceof Object)a=this.bufferify(o.data),c=o.position==="left";else throw new Error("Expected node to be of type string or object");const u=[];this.isBitcoinTree?(u.push(Qh.default(s)),u[c?"unshift":"push"](Qh.default(a)),s=this.hashFn(this.concatenator(u)),s=Qh.default(this.hashFn(s))):this.sortPairs?ca.Buffer.compare(s,a)===-1?(u.push(s,a),s=this.hashFn(this.concatenator(u))):(u.push(a,s),s=this.hashFn(this.concatenator(u))):(u.push(s),u[c?"unshift":"push"](a),s=this.hashFn(this.concatenator(u)))}return ca.Buffer.compare(s,r)===0}verifyMultiProof(e,t,r,s,i){if(this.isUnevenTree())return this.verifyMultiProofForUnevenTree(e,t,r,s,i);const a=Math.ceil(Math.log2(s));e=this.bufferify(e),r=r.map(d=>this.bufferify(d)),i=i.map(d=>this.bufferify(d));const c={};for(const[d,y]of this.zip(t,r))c[Math.pow(2,a)+d]=y;for(const[d,y]of this.zip(this.getProofIndices(t,a),i))c[d]=y;let u=Object.keys(c).map(d=>+d).sort((d,y)=>d-y);u=u.slice(0,u.length-1);let l=0;for(;l<u.length;){const d=u[l];if(d>=2&&{}.hasOwnProperty.call(c,d^1)){let y=[c[d-d%2],c[d-d%2+1]];this.sortPairs&&(y=y.sort(ca.Buffer.compare));const h=y[1]?this.hashFn(this.concatenator(y)):y[0];c[d/2|0]=h,u.push(d/2|0)}l+=1}return!t.length||{}.hasOwnProperty.call(c,1)&&c[1].equals(e)}verifyMultiProofWithFlags(e,t,r,s){e=this.bufferify(e),t=t.map(this.bufferify),r=r.map(this.bufferify);const i=t.length,o=s.length,a=[];let c=0,u=0,l=0;for(let d=0;d<o;d++){const y=s[d]?c<i?t[c++]:a[u++]:r[l++],h=c<i?t[c++]:a[u++],m=[y,h].sort(ca.Buffer.compare);a[d]=this.hashFn(this.concatenator(m))}return ca.Buffer.compare(a[o-1],e)===0}verifyMultiProofForUnevenTree(e,t,r,s,i){e=this.bufferify(e),r=r.map(a=>this.bufferify(a)),i=i.map(a=>this.bufferify(a));const o=this.calculateRootForUnevenTree(t,r,s,i);return e.equals(o)}getDepth(){return this.getLayers().length-1}getLayersAsObject(){const e=this.getLayers().map(r=>r.map(s=>this.bufferToHex(s,!1))),t=[];for(let r=0;r<e.length;r++){const s=[];for(let i=0;i<e[r].length;i++){const o={[e[r][i]]:null};if(t.length){o[e[r][i]]={};const a=t.shift(),c=Object.keys(a)[0];if(o[e[r][i]][c]=a[c],t.length){const u=t.shift(),l=Object.keys(u)[0];o[e[r][i]][l]=u[l]}}s.push(o)}t.push(...s)}return t[0]}static verify(e,t,r,s=SU.default,i={}){return new Xc([],s,i).verify(e,t,r)}static getMultiProof(e,t){return new Xc([]).getMultiProof(e,t)}resetTree(){this.leaves=[],this.layers=[]}getPairNode(e,t){const r=t%2===0?t+1:t-1;return r<e.length?e[r]:null}toTreeString(){const e=this.getLayersAsObject();return bEt.default.asTree(e,!0)}toString(){return this.toTreeString()}isUnevenTree(e){const t=(e==null?void 0:e.length)||this.getDepth();return!this.isPowOf2(t)}isPowOf2(e){return e&&!(e&e-1)}calculateRootForUnevenTree(e,t,r,s){const i=this.zip(e,t).sort(([d],[y])=>d-y),o=i.map(([d])=>d),a=this.getProofIndicesForUnevenTree(o,r);let c=0;const u=[];for(let d=0;d<a.length;d++){const y=a[d],h=c;c+=y.length,u[d]=this.zip(y,s.slice(h,c))}const l=[i];for(let d=0;d<u.length;d++){const y=u[d].concat(l[d]).sort(([g],[b])=>g-b).map(([,g])=>g),h=l[d].map(([g])=>g),m=[...new Set(h.map(g=>g%2===0?g/2:g%2===0?(g+1)/2:(g-1)/2))],f=[];for(let g=0;g<m.length;g++){const b=m[g],S=y[g*2],p=y[g*2+1],I=p?this.hashFn(this.concatenator([S,p])):S;f.push([b,I])}l.push(f)}return l[l.length-1][0][1]}}Cz.MerkleTree=Xc;typeof window<"u"&&(window.MerkleTree=Xc);Cz.default=Xc;var Bz={},fMe=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Bz,"__esModule",{value:!0});Bz.MerkleMountainRange=void 0;const TC=V,kEt=fMe(NT.exports),vEt=fMe(Lb);class Rne extends vEt.default{constructor(e=kEt.default,t=[],r,s,i){super(),this.root=TC.Buffer.alloc(0),this.size=0,this.width=0,this.hashes={},this.data={},t=t.map(this.bufferify),this.hashFn=this.bufferifyFn(e),this.hashLeafFn=r,this.peakBaggingFn=s,this.hashBranchFn=i;for(const o of t)this.append(o)}append(e){e=this.bufferify(e);const t=this.hashFn(e),r=this.bufferToHex(t);(!this.data[r]||this.bufferToHex(this.hashFn(this.data[r]))!==r)&&(this.data[r]=e);const s=this.hashLeaf(this.size+1,t);this.hashes[this.size+1]=s,this.width+=1;const i=this.getPeakIndexes(this.width);this.size=this.getSize(this.width);const o=[];for(let a=0;a<i.length;a++)o[a]=this._getOrCreateNode(i[a]);this.root=this.peakBagging(this.width,o)}hashLeaf(e,t){return t=this.bufferify(t),this.hashLeafFn?this.bufferify(this.hashLeafFn(e,t)):this.hashFn(TC.Buffer.concat([this.bufferify(e),t]))}hashBranch(e,t,r){return this.hashBranchFn?this.bufferify(this.hashBranchFn(e,t,r)):this.hashFn(TC.Buffer.concat([this.bufferify(e),this.bufferify(t),this.bufferify(r)]))}getPeaks(){const e=this.getPeakIndexes(this.width),t=[];for(let r=0;r<e.length;r++)t[r]=this.hashes[e[r]];return t}getLeafIndex(e){return e%2===1?this.getSize(e):this.getSize(e-1)+1}getPeakIndexes(e){const t=this.numOfPeaks(e),r=[];let s=0,i=0;for(let o=255;o>0&&!((e&1<<o-1)!==0&&(i=i+(1<<o)-1,r[s++]=i,r.length>=t));o--);if(s!==r.length)throw new Error("invalid bit calculation");return r}numOfPeaks(e){let t=e,r=0;for(;t>0;)t%2===1&&r++,t=t>>1;return r}peakBagging(e,t){const r=this.getSize(e);if(this.numOfPeaks(e)!==t.length)throw new Error("received invalid number of peaks");return e===0&&!t.length?TC.Buffer.alloc(0):this.peakBaggingFn?this.bufferify(this.peakBaggingFn(r,t)):this.hashFn(TC.Buffer.concat([this.bufferify(r),...t.map(this.bufferify)]))}getSize(e){return(e<<1)-this.numOfPeaks(e)}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.getRoot())}getNode(e){return this.hashes[e]}mountainHeight(e){let t=1;for(;1<<t<=e+t;)t++;return t-1}heightAt(e){let t=e,r=0,s=0;for(;t>r;)t-=(1<<s)-1,s=this.mountainHeight(t),r=(1<<s)-1;return s-(r-t)}isLeaf(e){return this.heightAt(e)===1}getChildren(e){const t=e-(1<<this.heightAt(e)-1),r=e-1;if(t===r)throw new Error("not a parent");return[t,r]}getMerkleProof(e){if(e>this.size)throw new Error("out of range");if(!this.isLeaf(e))throw new Error("not a leaf");const t=this.root,r=this.width,s=this.getPeakIndexes(this.width),i=[];let o=0;for(let d=0;d<s.length;d++)i[d]=this.hashes[s[d]],s[d]>=e&&o===0&&(o=s[d]);let a=0,c=0,u=this.heightAt(o);const l=[];for(;o!==e;)u--,[a,c]=this.getChildren(o),o=e<=a?a:c,l[u-1]=this.hashes[e<=a?c:a];return{root:t,width:r,peakBagging:i,siblings:l}}verify(e,t,r,s,i,o){if(s=this.bufferify(s),this.getSize(t)<r)throw new Error("index is out of range");if(!e.equals(this.peakBagging(t,i)))throw new Error("invalid root hash from the peaks");let c=0,u;const l=this.getPeakIndexes(t);for(let g=0;g<l.length;g++)if(l[g]>=r){u=i[g],c=l[g];break}if(!u)throw new Error("target not found");let d=o.length+1;const y=new Array(d);let h=0,m=0;for(;d>0&&(y[--d]=c,c!==r);)[h,m]=this.getChildren(c),c=r>h?m:h;let f;for(;d<y.length;)c=y[d],d===0?f=this.hashLeaf(c,this.hashFn(s)):c-1===y[d-1]?f=this.hashBranch(c,o[d-1],f):f=this.hashBranch(c,f,o[d-1]),d++;if(!f.equals(u))throw new Error("hashed peak is invalid");return!0}peaksToPeakMap(e,t){const r={};let s=0,i=0,o=t.length;for(let a=1;a<=32;a++)s=32-a,i=1<<a-1,(e&i)!==0?r[s]=t[--o]:r[s]=0;if(o!==0)throw new Error("invalid number of peaks");return r}peakMapToPeaks(e,t){const r=this.numOfPeaks(e),s=new Array(r);let i=0;for(let o=0;o<32;o++)t[o]!==0&&(s[i++]=t[o]);if(i!==r)throw new Error("invalid number of peaks");return s}peakUpdate(e,t,r){const s={},i=e+1;let o=this.getLeafIndex(i),a=this.hashLeaf(o,r),c=0,u=0,l=!1,d=!1,y=!1;for(let h=1;h<=32;h++)c=32-h,y?s[c]=t[c]:(u=1<<h-1,l=(e&u)!==0,d=(i&u)!==0,o++,l&&(a=this.hashBranch(o,t[c],a)),d?(l?s[c]=t[c]:s[c]=a,y=!0):s[c]=0);return s}rollUp(e,t,r,s){if(!e.equals(this.peakBagging(t,r)))throw new Error("invalid root hash from the peaks");let i=t,o=this.peaksToPeakMap(t,r);for(let a=0;a<s.length;a++)o=this.peakUpdate(i,o,s[a]),i++;return this.peakBagging(i,this.peakMapToPeaks(i,o))}_getOrCreateNode(e){if(e>this.size)throw new Error("out of range");if(!this.hashes[e]){const[t,r]=this.getChildren(e),s=this._getOrCreateNode(t),i=this._getOrCreateNode(r);this.hashes[e]=this.hashBranch(e,s,i)}return this.hashes[e]}}Bz.MerkleMountainRange=Rne;typeof window<"u"&&(window.MerkleMountainRange=Rne);Bz.default=Rne;var zz={},hMe=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(zz,"__esModule",{value:!0});zz.IncrementalMerkleTree=void 0;const AEt=hMe(Lb),wEt=hMe(Ene.exports);class Cne extends AEt.default{constructor(e,t){if(super(),this.hashFn=e,t.depth&&(this.depth=t.depth),t.arity&&(this.arity=t.arity),this.depth<1)throw new Error("depth must be greater than 0");if(this.arity<1)throw new Error("arity must be greater than 0");const r=[];let s=t.zeroValue;if(this.zeroValue=s,this.zeroes=[],this.depth)for(let i=0;i<this.depth;i++)this.zeroes.push(s),r[i]=[],s=this.hashFn(Array(this.arity).fill(s));this.nodes=r,this.root=s}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.bufferify(this.getRoot()))}insert(e){if(this.depth&&this.arity&&this.nodes[0].length>=this.getMaxLeaves())throw new Error("tree is full");let t=e,r=this.nodes[0].length;for(let s=0;s<this.depth;s+=1){const i=r%this.arity,o=r-i,a=o+this.arity,c=[];this.nodes[s][r]=t;for(let u=o;u<a;u+=1)u<this.nodes[s].length?c.push(this.nodes[s][u]):c.push(this.zeroes[s]);t=this.hashFn(c),r=Math.floor(r/this.arity)}this.root=t}delete(e){this.update(e,this.zeroValue)}update(e,t){if(e<0||e>=this.nodes[0].length)throw new Error("out of bounds");let r=t;for(let s=0;s<this.depth;s+=1){const i=e%this.arity,o=e-i,a=o+this.arity,c=[];this.nodes[s][e]=r;for(let u=o;u<a;u+=1)u<this.nodes[s].length?c.push(this.nodes[s][u]):c.push(this.zeroes[s]);r=this.hashFn(c),e=Math.floor(e/this.arity)}this.root=r}getDepth(){return this.depth}getArity(){return this.arity}getMaxLeaves(){return Math.pow(this.depth,this.arity)}indexOf(e){return this.nodes[0].indexOf(e)}getLeaves(){const e=this.copyList(this.nodes[0]),t=this.nodes[0].length;for(let r=t;r<this.getMaxLeaves();r++)e[r]=this.zeroValue;return e}copyList(e){return e.map(t=>BigInt(t))}getLayers(){const e=[];for(const t of this.nodes)e.push(this.copyList(t));if(e[0].length<this.getMaxLeaves()){let t=e[0].length;for(let r=t;r<this.getMaxLeaves();r++)e[0][r]=this.zeroValue;for(let r=0;r<this.depth;r++){const s=t%this.arity,i=t-s,o=i+this.arity;for(let a=i;a<o;a++)a>=e[r].length&&(e[r][a]=this.zeroes[r]);t=Math.floor(t/this.arity)}}return e.push([this.root]),e}getHexLayers(){return this.getLayers().reduce((e,t)=>(Array.isArray(t)?e.push(t.map(r=>this.bufferToHex(this.bufferify(r)))):e.push(t),e),[])}getLayersAsObject(){const e=this.getLayers().map(r=>r.map(s=>this.bufferToHex(this.bufferify(s),!1))),t=[];for(let r=0;r<e.length;r++){const s=[];for(let i=0;i<e[r].length;i++){const o={[e[r][i]]:null};if(t.length){o[e[r][i]]={};const a=t.shift(),c=Object.keys(a)[0];if(o[e[r][i]][c]=a[c],t.length){const u=t.shift(),l=Object.keys(u)[0];o[e[r][i]][l]=u[l]}}s.push(o)}t.push(...s)}return t[0]}computeRoot(){let e,t=this.nodes[0].length;for(let r=0;r<this.depth;r+=1){const s=t%this.arity,i=t-s,o=i+this.arity,a=[];for(let c=i;c<o;c+=1)c<this.nodes[r].length?a.push(this.nodes[r][c]):a.push(this.zeroes[r]);e=this.hashFn(a),t=Math.floor(t/this.arity)}return e}getProof(e){if(e<0||e>=this.nodes[0].length)throw new Error("The leaf does not exist in this tree");const t=[],r=[],s=e;for(let i=0;i<this.depth;i+=1){const o=e%this.arity,a=e-o,c=a+this.arity;r[i]=o,t[i]=[];for(let u=a;u<c;u+=1)u!==e&&(u<this.nodes[i].length?t[i].push(this.nodes[i][u]):t[i].push(this.zeroes[i]));e=Math.floor(e/this.arity)}return{root:this.root,leaf:this.nodes[0][s],pathIndices:r,siblings:t}}verify(e){let t=e.leaf;for(let r=0;r<e.siblings.length;r+=1){const s=e.siblings[r].slice();s.splice(e.pathIndices[r],0,t),t=this.hashFn(s)}return e.root===t}toString(){return this.toTreeString()}toTreeString(){const e=this.getLayersAsObject();return wEt.default.asTree(e,!0)}}zz.IncrementalMerkleTree=Cne;typeof window<"u"&&(window.IncrementalMerkleTree=Cne);zz.default=Cne;var id={};Object.defineProperty(id,"__esModule",{value:!0});id.MerkleSumTree=id.ProofStep=id.Leaf=id.Bucket=void 0;const IEt=Lb;class qO{constructor(e,t){this.size=BigInt(e),this.hashed=t,this.parent=null,this.left=null,this.right=null}}id.Bucket=qO;class PEt{constructor(e,t,r){this.hashFn=e,this.rng=t.map(s=>BigInt(s)),this.data=r}getBucket(){let e;return this.data?e=this.hashFn(this.data):e=Xe.Buffer.alloc(32),new qO(BigInt(this.rng[1])-BigInt(this.rng[0]),e)}}id.Leaf=PEt;class gMe{constructor(e,t){this.bucket=e,this.right=t}}id.ProofStep=gMe;class $z extends IEt.Base{constructor(e,t){super(),this.leaves=e,this.hashFn=t,$z.checkConsecutive(e),this.buckets=[];for(const s of e)this.buckets.push(s.getBucket());let r=[];for(const s of this.buckets)r.push(s);for(;r.length!==1;){const s=[];for(;r.length;)if(r.length>=2){const i=r.shift(),o=r.shift(),a=i.size+o.size,c=this.hashFn(Xe.Buffer.concat([this.sizeToBuffer(i.size),this.bufferify(i.hashed),this.sizeToBuffer(o.size),this.bufferify(o.hashed)])),u=new qO(a,c);o.parent=u,i.parent=o.parent,i.right=o,o.left=i,s.push(u)}else s.push(r.shift());r=s}this.root=r[0]}sizeToBuffer(e){const t=Xe.Buffer.alloc(8);return new DataView(t.buffer).setBigInt64(0,BigInt(e),!1),t}static checkConsecutive(e){let t=BigInt(0);for(const r of e){if(r.rng[0]!==t)throw new Error("leaf ranges are invalid");t=BigInt(r.rng[1])}}getProof(e){let t=this.buckets[Number(e)];const r=[];for(;t&&t.parent;){const s=!!t.right,i=t.right?t.right:t.left;t=t.parent,r.push(new gMe(i,s))}return r}sum(e){let t=BigInt(0);for(const r of e)t+=BigInt(r);return t}verifyProof(e,t,r){const s=[this.sum(r.filter(a=>!a.right).map(a=>a.bucket.size)),BigInt(e.size)-this.sum(r.filter(a=>a.right).map(a=>a.bucket.size))];if(!(s[0]===t.rng[0]&&s[1]===t.rng[1]))return!1;let i=t.getBucket(),o;for(const a of r)a.right?o=this.hashFn(Xe.Buffer.concat([this.sizeToBuffer(i.size),this.bufferify(i.hashed),this.sizeToBuffer(a.bucket.size),this.bufferify(a.bucket.hashed)])):o=this.hashFn(Xe.Buffer.concat([this.sizeToBuffer(a.bucket.size),this.bufferify(a.bucket.hashed),this.sizeToBuffer(i.size),this.bufferify(i.hashed)])),i=new qO(BigInt(i.size)+BigInt(a.bucket.size),o);return i.size===e.size&&i.hashed.toString("hex")===e.hashed.toString("hex")}}id.MerkleSumTree=$z;typeof window<"u"&&(window.MerkleSumTree=$z);id.default=$z;(function(n){var e=K&&K.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(n,"__esModule",{value:!0}),n.MerkleTree=void 0;const t=e(Cz);n.MerkleTree=t.default;var r=Bz;Object.defineProperty(n,"MerkleMountainRange",{enumerable:!0,get:function(){return r.MerkleMountainRange}});var s=zz;Object.defineProperty(n,"IncrementalMerkleTree",{enumerable:!0,get:function(){return s.IncrementalMerkleTree}});var i=id;Object.defineProperty(n,"MerkleSumTree",{enumerable:!0,get:function(){return i.MerkleSumTree}}),n.default=t.default})(L2e);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMerkleProofAtIndex=n.getMerkleProof=n.getMerkleRoot=void 0;const e=Z,t=GEe,r=L2e,s=(c,u)=>new r.MerkleTree([...c.map(l=>(0,e.publicKeyBytes)(l)),...Array(2**u-c.length).fill(0).map(()=>new Uint8Array(32).fill(0))],t.keccak_256),i=(c,u)=>(0,e.publicKey)(s(c,u).getRoot());n.getMerkleRoot=i;const o=(c,u,l,d)=>s(c,u).getProof(Xe.Buffer.from((0,e.publicKeyBytes)(l)),d).map(y=>(0,e.publicKey)(y.data));n.getMerkleProof=o;const a=(c,u,l)=>(0,n.getMerkleProof)(c,u,c[l],l);n.getMerkleProofAtIndex=a})(K2e);var lL={},mMe={},Dz={},Oz={};Object.defineProperty(Oz,"__esModule",{value:!0});Oz.DasApiError=void 0;class _Et extends Error{constructor(){super(...arguments),this.name="DasApiError"}}Oz.DasApiError=_Et;Object.defineProperty(Dz,"__esModule",{value:!0});Dz.createDasApiDecorator=void 0;const ll=Oz,EEt=n=>({...n,getAsset:async e=>{const t=await n.call("getAsset",[e]);if(!t)throw new ll.DasApiError(`Asset not found: ${e}`);return t},getAssetProof:async e=>{const t=await n.call("getAssetProof",[e]);if(!t)throw new ll.DasApiError(`No proof found for asset: ${e}`);return t},getAssetsByAuthority:async e=>{if(typeof e.page=="number"&&(e.before||e.after))throw new ll.DasApiError("Pagination Error. Please use either page or before/after, but not both.");const t=await n.call("getAssetsByAuthority",[e.authority,e.sortBy??null,e.limit??null,e.page??1,e.before??null,e.after??null]);if(!t)throw new ll.DasApiError(`No assets found for authority: ${e.authority}`);return t},getAssetsByCreator:async e=>{if(typeof e.page=="number"&&(e.before||e.after))throw new ll.DasApiError("Pagination Error. Please use either page or before/after, but not both.");const t=await n.call("getAssetsByCreator",[e.creator,e.onlyVerified,e.sortBy??null,e.limit??null,e.page??1,e.before??null,e.after??null]);if(!t)throw new ll.DasApiError(`No assets found for creator: ${e.creator}`);return t},getAssetsByGroup:async e=>{if(typeof e.page=="number"&&(e.before||e.after))throw new ll.DasApiError("Pagination Error. Please use either page or before/after, but not both.");const t=await n.call("getAssetsByGroup",[e.groupKey,e.groupValue,e.sortBy??null,e.limit??null,e.page??1,e.before??null,e.after??null]);if(!t)throw new ll.DasApiError(`No assets found for group: ${e.groupKey} => ${e.groupValue}`);return t},getAssetsByOwner:async e=>{if(typeof e.page=="number"&&(e.before||e.after))throw new ll.DasApiError("Pagination Error. Please use either page or before/after, but not both.");const t=await n.call("getAssetsByOwner",[e.owner,e.sortBy??null,e.limit??null,e.page??1,e.before??null,e.after??null]);if(!t)throw new ll.DasApiError(`No assets found for owner: ${e.owner}`);return t},searchAssets:async e=>{if(typeof e.page=="number"&&(e.before||e.after))throw new ll.DasApiError("Pagination Error. Please use either page or before/after, but not both.");const t=await n.call("searchAssets",[e.negate??null,e.conditionType??null,e.interface??null,e.owner??null,e.ownerType??null,e.creator??null,e.creatorVerified??null,e.authority??null,e.grouping??null,e.delegate??null,e.frozen??null,e.supply??null,e.supplyMint??null,e.compressed??null,e.compressible??null,e.royaltyModel??null,e.royaltyTarget??null,e.royaltyAmount??null,e.burnt??null,e.sortBy??null,e.limit??null,e.page??1,e.before??null,e.after??null,e.jsonUri??null]);if(!t)throw new ll.DasApiError("No assets found for the given search criteria");return t}});Dz.createDasApiDecorator=EEt;var dL={};Object.defineProperty(dL,"__esModule",{value:!0});dL.dasApi=void 0;const xEt=Dz,TEt=()=>({install(n){n.rpc=(0,xEt.createDasApiDecorator)(n.rpc)}});dL.dasApi=TEt;var yMe={};Object.defineProperty(yMe,"__esModule",{value:!0});(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Dz,n),t(Oz,n),t(dL,n),t(yMe,n)})(mMe);Object.defineProperty(lL,"__esModule",{value:!0});lL.mplBubblegum=void 0;const REt=mMe,kU=am,CEt=()=>({install(n){n.use((0,REt.dasApi)()),n.programs.add((0,kU.createMplBubblegumProgram)(),!1),n.programs.add((0,kU.createSplAccountCompressionProgram)(),!1),n.programs.add((0,kU.createSplNoopProgram)(),!1)}});lL.mplBubblegum=CEt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(S6,n),t(oL,n),t(am,n),t(aL,n),t(Yu,n),t(yh,n),t(Zg,n),t(K2e,n),t(lL,n)})(YJ);var Oc={},Kz={},Sk={};Object.defineProperty(Sk,"__esModule",{value:!0});var MEt=qs;function BEt(n){return n.toBase58()}function zEt(n){return new MEt.PublicKey(n)}Sk.fromWeb3JsPublicKey=BEt;Sk.toWeb3JsPublicKey=zEt;Object.defineProperty(Kz,"__esModule",{value:!0});var $Et=qs,DEt=V,jO=Sk;function OEt(n){return{keys:n.keys.map(e=>({...e,pubkey:jO.fromWeb3JsPublicKey(e.pubkey)})),programId:jO.fromWeb3JsPublicKey(n.programId),data:new Uint8Array(n.data)}}function KEt(n){return new $Et.TransactionInstruction({keys:n.keys.map(e=>({...e,pubkey:jO.toWeb3JsPublicKey(e.pubkey)})),programId:jO.toWeb3JsPublicKey(n.programId),data:DEt.Buffer.from(n.data)})}Kz.fromWeb3JsInstruction=OEt;Kz.toWeb3JsInstruction=KEt;var fL={};Object.defineProperty(fL,"__esModule",{value:!0});var LEt=Z,WEt=qs,NEt=Sk;function FEt(n){return{publicKey:NEt.fromWeb3JsPublicKey(n.publicKey),secretKey:n.secretKey}}function UEt(n){return new WEt.Keypair({publicKey:LEt.publicKeyBytes(n.publicKey),secretKey:n.secretKey})}fL.fromWeb3JsKeypair=FEt;fL.toWeb3JsKeypair=UEt;var FT={},UT={};Object.defineProperty(UT,"__esModule",{value:!0});var VEt=Z,H2=qs,dpe=Kz,Wg=Sk;function qEt(n){return{version:n.version,header:n.header,accounts:n.staticAccountKeys.map(Wg.fromWeb3JsPublicKey),blockhash:n.recentBlockhash,instructions:n.compiledInstructions.map(e=>({programIndex:e.programIdIndex,accountIndexes:e.accountKeyIndexes,data:new Uint8Array(e.data)})),addressLookupTables:n.addressTableLookups.map(e=>({publicKey:Wg.fromWeb3JsPublicKey(e.accountKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))}}function jEt(n){return n.version==="legacy"?new H2.Message({header:n.header,accountKeys:n.accounts.map(Wg.toWeb3JsPublicKey),recentBlockhash:n.blockhash,instructions:n.instructions.map(e=>({programIdIndex:e.programIndex,accounts:e.accountIndexes,data:VEt.base58.deserialize(e.data)[0]}))}):new H2.MessageV0({header:n.header,staticAccountKeys:n.accounts.map(Wg.toWeb3JsPublicKey),recentBlockhash:n.blockhash,compiledInstructions:n.instructions.map(e=>({programIdIndex:e.programIndex,accountKeyIndexes:e.accountIndexes,data:e.data})),addressTableLookups:n.addressLookupTables.map(e=>({accountKey:Wg.toWeb3JsPublicKey(e.publicKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))})}function HEt(n){var e;return n.version==="legacy"?H2.Message.compile({payerKey:Wg.toWeb3JsPublicKey(n.payer),instructions:n.instructions.map(dpe.toWeb3JsInstruction),recentBlockhash:n.blockhash}):H2.MessageV0.compile({payerKey:Wg.toWeb3JsPublicKey(n.payer),instructions:n.instructions.map(dpe.toWeb3JsInstruction),recentBlockhash:n.blockhash,addressLookupTableAccounts:(e=n.addressLookupTables)==null?void 0:e.map(t=>new H2.AddressLookupTableAccount({key:Wg.toWeb3JsPublicKey(t.publicKey),state:{addresses:t.addresses.map(Wg.toWeb3JsPublicKey),authority:void 0,deactivationSlot:BigInt(`0x${"ff".repeat(8)}`),lastExtendedSlot:0,lastExtendedSlotStartIndex:0}}))})}UT.fromWeb3JsMessage=qEt;UT.toWeb3JsMessage=jEt;UT.toWeb3JsMessageFromInput=HEt;Object.defineProperty(FT,"__esModule",{value:!0});var GEt=Z,Mne=qs,Bne=UT;function YEt(n){return{message:Bne.fromWeb3JsMessage(n.message),serializedMessage:n.message.serialize(),signatures:n.signatures}}function pMe(n){return new Mne.VersionedTransaction(Bne.toWeb3JsMessage(n.message),n.signatures)}function ZEt(n){const e=n.compileMessage(),t=n.signatures.reduce((s,i)=>(s[i.publicKey.toBase58()]=i.signature?new Uint8Array(i.signature):null,s),{}),r=[];for(let s=0;s<e.header.numRequiredSignatures;s+=1){const i=e.accountKeys[s].toBase58(),o=t[i]??null;r.push(o??new Uint8Array(Mne.SIGNATURE_LENGTH_IN_BYTES))}return{message:Bne.fromWeb3JsMessage(e),serializedMessage:e.serialize(),signatures:r}}function JEt(n){const e=pMe({...n,message:{...n.message,version:"legacy"}});return Mne.Transaction.populate(e.message,e.signatures.map(t=>GEt.base58.deserialize(t)[0]))}FT.fromWeb3JsLegacyTransaction=ZEt;FT.fromWeb3JsTransaction=YEt;FT.toWeb3JsLegacyTransaction=JEt;FT.toWeb3JsTransaction=pMe;Object.defineProperty(Oc,"__esModule",{value:!0});var bMe=Kz,SMe=fL,kMe=Sk,hL=FT,zne=UT;Oc.fromWeb3JsInstruction=bMe.fromWeb3JsInstruction;Oc.toWeb3JsInstruction=bMe.toWeb3JsInstruction;Oc.fromWeb3JsKeypair=SMe.fromWeb3JsKeypair;Oc.toWeb3JsKeypair=SMe.toWeb3JsKeypair;Oc.fromWeb3JsPublicKey=kMe.fromWeb3JsPublicKey;Oc.toWeb3JsPublicKey=kMe.toWeb3JsPublicKey;Oc.fromWeb3JsLegacyTransaction=hL.fromWeb3JsLegacyTransaction;Oc.fromWeb3JsTransaction=hL.fromWeb3JsTransaction;Oc.toWeb3JsLegacyTransaction=hL.toWeb3JsLegacyTransaction;Oc.toWeb3JsTransaction=hL.toWeb3JsTransaction;Oc.fromWeb3JsMessage=zne.fromWeb3JsMessage;Oc.toWeb3JsMessage=zne.toWeb3JsMessage;Oc.toWeb3JsMessageFromInput=zne.toWeb3JsMessageFromInput;var gL={},mL={};(function(n){var e=K&&K.__decorate||function(y,h,m,f){var g=arguments.length,b=g<3?h:f===null?f=Object.getOwnPropertyDescriptor(h,m):f,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(y,h,m,f);else for(var p=y.length-1;p>=0;p--)(S=y[p])&&(b=(g<3?S(b):g>3?S(h,m,b):S(h,m))||b);return g>3&&b&&Object.defineProperty(h,m,b),b},t=K&&K.__metadata||function(y,h){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(y,h)},r=K&&K.__awaiter||function(y,h,m,f){function g(b){return b instanceof m?b:new m(function(S){S(b)})}return new(m||(m=Promise))(function(b,S){function p(A){try{w(f.next(A))}catch(_){S(_)}}function I(A){try{w(f.throw(A))}catch(_){S(_)}}function w(A){A.done?b(A.value):g(A.value).then(p,I)}w((f=f.apply(y,h||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.StarbasePlayer=n.starbasePlayerDataEquals=n.STAR_BASE_PLAYER_MIN_DATA_SIZE=void 0;const i=nl,o=qs,a=qK,c=tr,u=tl;n.STAR_BASE_PLAYER_MIN_DATA_SIZE=8+1+32+32+32+32+1+4+4+8+8+4+4;function l(y,h){return y.version===h.version&&y.playerProfile.equals(h.playerProfile)&&y.gameId.equals(h.gameId)&&y.starbase.equals(h.starbase)&&y.sagePlayerProfile.equals(h.sagePlayerProfile)&&y.bump===h.bump&&y.shipEscrowCount==h.shipEscrowCount&&y.updatedShipEscrowCount==h.updatedShipEscrowCount&&y.updateId.eq(h.updateId)&&y.oldTotalCrew==h.oldTotalCrew&&y.newTotalCrew==h.newTotalCrew&&y.busyCrew.eq(h.busyCrew)}n.starbasePlayerDataEquals=l;let d=s=class{constructor(h,m,f){this._data=h,this._key=m,this._wrappedShipEscrows=f}get data(){return this._data}get key(){return this._key}get wrappedShipEscrows(){return this._wrappedShipEscrows||[]}totalCrew(h=u.CREW_FEATURE){return h?this.data.newTotalCrew:this.data.oldTotalCrew}static findAddress(h,m,f,g){const b=new ArrayBuffer(2),S=new DataView(b);S.setUint16(0,g,!0);const p=new Uint8Array(S.buffer);return o.PublicKey.findProgramAddressSync([Xe.Buffer.from("starbase_player"),m.toBuffer(),f.toBuffer(),p],h.programId)}static registerStarbasePlayer(h,m,f,g,b,S,p){return I=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.registerStarbasePlayer().accountsStrict({profileFaction:m,funder:I.publicKey(),gameAccounts:{gameId:b,gameState:S},sagePlayerProfile:f,starbase:g,starbasePlayer:this.findAddress(h,g,f,p)[0],systemProgram:o.SystemProgram.programId}).instruction(),signers:[I]}]})}static syncStarbasePlayer(h,m,f,g,b){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.syncStarbasePlayer().accountsStrict({starbaseAndStarbasePlayer:{starbase:f,starbasePlayer:m},gameAccounts:{gameId:g,gameState:b}}).instruction(),signers:[]}]})}static createCargoPod(h,m,f,g,b,S,p,I,w,A,_){const E=a.CargoPod.findAddress(m,Xe.Buffer.from(_.podSeeds))[0];return M=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.createCargoPod(_).accountsStrict({funder:M.publicKey(),starbaseAndStarbasePlayer:{starbase:p,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:b,profileFaction:S,gameId:w},gameState:A},cargoPod:E,cargoStatsDefinition:I,cargoProgram:m.programId,systemProgram:o.SystemProgram.programId}).instruction(),signers:[g,M]}]})}static depositCargoToGame(h,m,f,g,b,S,p,I,w,A,_,E,M,P,R){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.depositCargoToGame(R).accountsStrict({starbaseAndStarbasePlayer:{starbase:p,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:b,profileFaction:S,gameId:M},gameState:P},cargoPod:I,cargoType:w,cargoStatsDefinition:A,tokenFrom:_,tokenTo:E,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[g]}]})}static withdrawCargoFromGame(h,m,f,g,b,S,p,I,w,A,_,E,M,P,R,$,z){return T=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.withdrawCargoFromGame(z).accountsStrict({fundsTo:b==="funder"?T.publicKey():b,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:S,profileFaction:p,gameId:R},gameState:$},cargoPod:w,cargoType:A,cargoStatsDefinition:_,tokenFrom:E,tokenTo:M,tokenMint:P,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[g]}]})}static transferCargoAtStarbase(h,m,f,g,b,S,p,I,w,A,_,E,M,P,R,$,z,T){return v=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.transferCargoAtStarbase(T).accountsStrict({fundsTo:b==="funder"?v.publicKey():b,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:S,profileFaction:p,gameId:$},gameState:z},cargoPodFrom:w,cargoPodTo:A,cargoType:_,cargoStatsDefinition:E,tokenFrom:M,tokenTo:P,tokenMint:R,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[g]}]})}static closeStarbaseCargoTokenAccount(h,m,f,g,b,S,p,I,w,A,_,E,M,P,R,$){return z=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.closeStarbaseCargoTokenAccount($).accountsStrict({fundsTo:b==="funder"?z.publicKey():b,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:S,profileFaction:p,gameId:P},gameState:R},cargoPod:w,cargoType:A,cargoStatsDefinition:_,token:E,tokenMint:M,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[g]}]})}static removeCargoPod(h,m,f,g,b,S,p,I,w,A,_,E){return M=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.removeCargoPod(E).accountsStrict({fundsTo:p==="funder"?M.publicKey():p,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:b,profileFaction:S,gameId:A},gameState:_},cargoPod:w,cargoProgram:m.programId,systemProgram:o.SystemProgram.programId}).instruction(),signers:[g]}]})}static mintCertificate(h,m,f,g,b,S,p,I,w,A,_,E,M,P,R,$,z,T){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.mintCertificate(T.keyIndex,T.amount).accountsStrict({starbaseAndStarbasePlayer:{starbase:p,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:b,profileFaction:S,gameId:$},gameState:z},certificateTokenTo:_,certificateMint:E,cargoTokenFrom:M,cargoTokenTo:P,cargoMint:R,cargoPod:I,cargoType:w,cargoStatsDefinition:A,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID,token2022Program:i.TOKEN_2022_PROGRAM_ID}).instruction(),signers:[g]}]})}static redeemCertificate(h,m,f,g,b,S,p,I,w,A,_,E,M,P,R,$,z,T,v,k){return x=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.redeemCertificate(k.keyIndex,k.amount).accountsStrict({certificateOwnerAuthority:M.publicKey(),fundsTo:p==="funder"?x.publicKey():p,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:b,profileFaction:S,gameId:T},gameState:v},certificateTokenFrom:E,certificateMint:P,cargoTokenFrom:R,cargoTokenTo:$,cargoMint:z,cargoPod:w,cargoType:A,cargoStatsDefinition:_,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID,token2022Program:i.TOKEN_2022_PROGRAM_ID}).instruction(),signers:[g,M]}]})}static decodeData(h,m){return(0,c.decodeAccountWithRemaining)(h,m,s,(g,b)=>Array(b.shipEscrowCount).fill(0).map((S,p)=>m.coder.types.decode("WrappedShipEscrow",g.subarray(48*p).subarray(0,48))))}};n.StarbasePlayer=d,d.ACCOUNT_NAME="starbasePlayer",d.MIN_DATA_SIZE=n.STAR_BASE_PLAYER_MIN_DATA_SIZE,n.StarbasePlayer=d=s=e([(0,c.staticImplements)(),t("design:paramtypes",[Object,o.PublicKey,Array])],d)})(mL);(function(n){var e=K&&K.__awaiter||function(w,A,_,E){function M(P){return P instanceof _?P:new _(function(R){R(P)})}return new(_||(_=Promise))(function(P,R){function $(v){try{T(E.next(v))}catch(k){R(k)}}function z(v){try{T(E.throw(v))}catch(k){R(k)}}function T(v){v.done?P(v.value):M(v.value).then($,z)}T((E=E.apply(w,A||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.divideIntoParts=n.normalizePublicKey=n.findExtraAccountMetaListAddress=n.findCertificateMintAddress=n.cleanUpStarbaseCargoPods=n.getPodCleanupInstructions=n.getCleanPodsByStarbasePlayerAccounts=n.cleanCargoPodsByStarbasePlayer=n.getCargoPodsByAuthority=n.getStarbasePlayersByProfile=n.getTokenAmountToReachTargetStat=n.getCargoSpaceUsedByTokenAmount=n.getUsedCargoSpace=n.SAGE_CARGO_STAT_VALUE_INDEX=void 0;const t=nl,r=qs,s=cc,i=qK,o=tr,a=mL;n.SAGE_CARGO_STAT_VALUE_INDEX=0;const c=w=>w.stats[n.SAGE_CARGO_STAT_VALUE_INDEX];n.getUsedCargoSpace=c;const u=(w,A)=>A.mul(w.stats[n.SAGE_CARGO_STAT_VALUE_INDEX]);n.getCargoSpaceUsedByTokenAmount=u;const l=(w,A)=>{const _=w.stats[n.SAGE_CARGO_STAT_VALUE_INDEX];return _.gt(new s.BN(0))?A.div(_):A};n.getTokenAmountToReachTargetStat=l;const d=(w,A,_,E)=>e(void 0,void 0,void 0,function*(){return yield(0,o.readAllFromRPC)(w,A,a.StarbasePlayer,"processed",[{memcmp:{offset:8+1,bytes:_.toBase58()}},{memcmp:{offset:8+1+32,bytes:E.toBase58()}}])});n.getStarbasePlayersByProfile=d;const y=(w,A,_)=>e(void 0,void 0,void 0,function*(){return yield(0,o.readAllFromRPC)(w,A,i.CargoPod,"processed",[{memcmp:{offset:8+1+32,bytes:_.toBase58()}}])});n.getCargoPodsByAuthority=y;const h=(w,A,_,E,M,P,R,$,z,T,v,k)=>e(void 0,void 0,void 0,function*(){const x=[],C=[],B=yield(0,n.getCargoPodsByAuthority)(w,_,E);if(B.length>1){let O=B.map(W=>{if(W.type==="error")throw new Error("Error reading CargoPod account");return W.data});const D=O.reduce(function(W,L){return W.data.openTokenAccounts>L.data.openTokenAccounts?W:L});O=O.filter(W=>!W.key.equals(D.key));for(let W=0;W<O.length;W++){const L=O[W],N=yield(0,o.getParsedTokenAccountsByOwner)(w,L.key);if(N.length>0)for(let H=0;H<N.length;H++){const J=N[H],Q=i.CargoType.findAddress(_,$,J.mint,L.data.seqId)[0];if(Number(J.delegatedAmount)>0){const Y=(0,o.createAssociatedTokenAccountIdempotent)(J.mint,D.key,!0,t.TOKEN_PROGRAM_ID),X=Y.address.toBase58();C.includes(X)||(C.push(X),x.push(Y.instructions));const re=a.StarbasePlayer.transferCargoAtStarbase(A,_,E,v,"funder",P,R,M,L.key,D.key,Q,$,J.address,Y.address,J.mint,z,T,{amount:new s.BN(J.delegatedAmount.toString()),keyIndex:k});x.push(re)}else{const Y=a.StarbasePlayer.closeStarbaseCargoTokenAccount(A,_,E,v,"funder",P,R,M,L.key,Q,$,J.address,J.mint,z,T,{keyIndex:k});x.push(Y)}}x.push(a.StarbasePlayer.removeCargoPod(A,_,E,v,P,R,"funder",M,L.key,z,T,{keyIndex:k}))}}return x});n.cleanCargoPodsByStarbasePlayer=h;const m=(w,A,_)=>e(void 0,void 0,void 0,function*(){const E=yield(0,n.getCargoPodsByAuthority)(w,A,_);if(E.length>1){let M=E.map($=>{if($.type==="error")throw new Error("Error reading CargoPod account");return $.data});const P=M.reduce(function($,z){return $.data.openTokenAccounts>z.data.openTokenAccounts?$:z});M=M.filter($=>!$.key.equals(P.key));const R=[];for(let $=0;$<M.length;$++){const z=M[$],T=yield(0,o.getParsedTokenAccountsByOwner)(w,z.key),v=[z.key,T];R.push(v)}return{mainPod:P.key,podsAndTokensToClean:R,cargoSeqId:P.data.seqId}}});n.getCleanPodsByStarbasePlayerAccounts=m;const f=(w,A,_,E,M,P,R,$,z,T,v,k)=>{const x=[],C=[];if(w.podsAndTokensToClean.length>1)for(let B=0;B<w.podsAndTokensToClean.length;B++){const O=w.podsAndTokensToClean[B],D=O[0],W=O[1];if(W.length>0)for(let L=0;L<W.length;L++){const N=W[L],H=i.CargoType.findAddress(_,$,N.mint,w.cargoSeqId)[0];if(Number(N.delegatedAmount)>0){const J=(0,o.createAssociatedTokenAccountIdempotent)(N.mint,w.mainPod,!0,t.TOKEN_PROGRAM_ID),Q=J.address.toBase58();C.includes(Q)||(C.push(Q),x.push(J.instructions));const Y=a.StarbasePlayer.transferCargoAtStarbase(A,_,E,v,"funder",P,R,M,D,w.mainPod,H,$,N.address,J.address,N.mint,z,T,{amount:new s.BN(N.delegatedAmount.toString()),keyIndex:k});x.push(Y)}else{const J=a.StarbasePlayer.closeStarbaseCargoTokenAccount(A,_,E,v,"funder",P,R,M,D,H,$,N.address,N.mint,z,T,{keyIndex:k});x.push(J)}}x.push(a.StarbasePlayer.removeCargoPod(A,_,E,v,P,R,"funder",M,D,z,T,{keyIndex:k}))}return x};n.getPodCleanupInstructions=f;const g=(w,A,_,E,M,P,R,$,z,T)=>e(void 0,void 0,void 0,function*(){const v=[],k=yield(0,n.getStarbasePlayersByProfile)(w,A,E,R);if(k.length>0)for(let x=0;x<k.length;x++){const C=k[x];if(!C||C.type==="error")throw new Error("Error reading StarbasePlayer account");const B=yield(0,n.getCleanPodsByStarbasePlayerAccounts)(w,_,C.key),O=B?(0,n.getPodCleanupInstructions)(B,A,_,C.key,C.data.data.starbase,E,M,P,R,$,z,T):[];O.length>0&&v.push(...O)}else console.log("No StarbasePlayer accounts");return v});n.cleanUpStarbaseCargoPods=g;const b=(w,A,_,E)=>{const M=new ArrayBuffer(2),P=new DataView(M);P.setUint16(0,E,!0);const R=new Uint8Array(P.buffer);return r.PublicKey.findProgramAddressSync([Xe.Buffer.from("CertificateMint"),_.toBuffer(),A.toBuffer(),R],w.programId)};n.findCertificateMintAddress=b;const S=(w,A)=>r.PublicKey.findProgramAddressSync([Xe.Buffer.from("extra-account-metas"),A.toBuffer()],w);n.findExtraAccountMetaListAddress=S;const p=w=>Array.isArray(w)?new r.PublicKey(w):w;n.normalizePublicKey=p;function I(w,A){const _=Math.floor(w/A),E=w%A,M=Array(A).fill(_);for(let P=0;P<E;P++)M[P]+=1;return M}n.divideIntoParts=I})(gL);var XEt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},QEt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},A0=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},vj;Object.defineProperty(Rl,"__esModule",{value:!0});Rl.SagePlayerProfile=Rl.crewTransferRemainingAccounts=Rl.crewTransferIxData=Rl.sppDataEquals=void 0;const G0=YJ,ext=Oc,vU=nl,Pg=qs,vMe=tr,fpe=tl,Aj=gL;function txt(n,e){return n.version===e.version&&n.playerProfile.equals(e.playerProfile)&&n.gameId.equals(e.gameId)&&n.bump===e.bump}Rl.sppDataEquals=txt;function wj(n){const e=(0,Aj.normalizePublicKey)(n.dataHash).toBytes();return{dataHash:Array.from(e),leafIndex:n.leafIndex,proofCount:n.proof.length}}Rl.crewTransferIxData=wj;function Ij(n){const e=Pg.PublicKey.findProgramAddressSync([n.merkleTree.toBuffer()],(0,ext.toWeb3JsPublicKey)(G0.MPL_BUBBLEGUM_PROGRAM_ID))[0],t=[{pubkey:n.merkleTree,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:(0,Aj.normalizePublicKey)(n.root),isSigner:!1,isWritable:!1},{pubkey:(0,Aj.normalizePublicKey)(n.creatorHash),isSigner:!1,isWritable:!1}];for(const r of n.proof)t.push({pubkey:r,isSigner:!1,isWritable:!1});return t}Rl.crewTransferRemainingAccounts=Ij;let hB=vj=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return Pg.PublicKey.findProgramAddressSync([Xe.Buffer.from("sage_player_profile"),t.toBuffer(),r.toBuffer()],e.programId)}static registerSagePlayerProfile(e,t,r,s){return i=>A0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerSagePlayerProfile().accountsStrict({profile:t,funder:i.publicKey(),sagePlayerProfile:this.findAddress(e,t,r)[0],gameAccounts:{gameId:r,gameState:s},systemProgram:Pg.SystemProgram.programId}).instruction(),signers:[i]}]})}static addShipEscrow(e,t,r,s,i,o,a,c,u,l,d,y,h){return m=>A0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.addShipEscrow(h).accountsStrict({funder:m.publicKey(),sagePlayerProfile:s,originTokenAccount:o,ship:a,shipEscrowTokenAccount:c,starbaseAndStarbasePlayer:{starbase:l,starbasePlayer:u},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:i.publicKey(),profile:t,profileFaction:r,gameId:d},gameState:y},tokenProgram:vU.TOKEN_PROGRAM_ID,systemProgram:Pg.SystemProgram.programId}).instruction(),signers:[i,m]}]})}static updateShipEscrow(e,t,r,s,i,o,a,c){return()=>A0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateShipEscrow(c).accountsStrict({oldShip:t,next:r,starbaseAndStarbasePlayer:{starbase:i,starbasePlayer:s},gameAccounts:{gameId:o,gameState:a}}).instruction(),signers:[]}]})}static removeShipEscrow(e,t,r,s,i,o,a,c,u,l,d,y,h){return m=>A0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.removeShipEscrow(h).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:t.publicKey(),profile:r,profileFaction:s,gameId:d},gameState:y},fundsTo:m.publicKey(),sagePlayerProfile:i,destinationTokenAccount:o,ship:a,shipEscrowTokenAccount:c,starbaseAndStarbasePlayer:{starbase:l,starbasePlayer:u},tokenProgram:vU.TOKEN_PROGRAM_ID,systemProgram:Pg.SystemProgram.programId}).instruction(),signers:[t]}]})}static removeInvalidShipEscrow(e,t,r,s,i,o,a,c,u,l,d,y,h){return m=>A0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.removeInvalidShipEscrow(h).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:t.publicKey(),profile:r,profileFaction:s,gameId:d},gameState:y},fundsTo:m.publicKey(),sagePlayerProfile:i,destinationTokenAccount:o,ship:a,shipEscrowTokenAccount:c,starbaseAndStarbasePlayer:{starbase:l,starbasePlayer:u},tokenProgram:vU.TOKEN_PROGRAM_ID,systemProgram:Pg.SystemProgram.programId}).instruction(),signers:[t]}]})}static addCrewToGame(e,t,r,s,i,o,a,c,u,l){const d=u.items.map(Ij).flat();return()=>A0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.addCrewToGame({items:u.items.map(wj)}).accountsStrict({sagePlayerProfile:this.findAddress(e,t,c)[0],starbaseAndStarbasePlayer:{starbase:o,starbasePlayer:i},sageCrewConfig:fpe.SageCrewConfig.findAddress(e,c)[0],gameAndProfileAndFaction:{key:s.publicKey(),profile:t,profileFaction:r,gameId:c},crewConfig:a,crewOwner:s.publicKey(),crewDelegate:l??s.publicKey(),compressionProgram:G0.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,bubblegumProgram:G0.MPL_BUBBLEGUM_PROGRAM_ID,logWrapper:G0.SPL_NOOP_PROGRAM_ID,systemProgram:Pg.SystemProgram.programId}).remainingAccounts(d).instruction(),signers:[s]}]})}static removeCrewFromGame(e,t,r,s,i,o,a,c,u,l,d){if(l.items.length===0)throw new Error("No crew members being removed!");const y=l.items.map(Ij).flat(),h=this.findAddress(e,r,u)[0];return()=>A0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.removeCrewFromGame({keyIndex:l.keyIndex,items:l.items.map(wj)}).accountsStrict({sagePlayerProfile:h,starbaseAndStarbasePlayer:{starbase:a,starbasePlayer:o},sageCrewConfig:fpe.SageCrewConfig.findAddress(e,u)[0],gameAndProfileAndFaction:{key:t.publicKey(),profile:r,profileFaction:s,gameId:u},crewConfig:c,newCrewOwner:i,crewDelegate:d??h,compressionProgram:G0.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,bubblegumProgram:G0.MPL_BUBBLEGUM_PROGRAM_ID,logWrapper:G0.SPL_NOOP_PROGRAM_ID,systemProgram:Pg.SystemProgram.programId}).remainingAccounts(y).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,vMe.decodeAccount)(e,t,vj)}};Rl.SagePlayerProfile=hB;hB.ACCOUNT_NAME="sagePlayerProfile";hB.MIN_DATA_SIZE=8+1+32+32+1;Rl.SagePlayerProfile=hB=vj=XEt([(0,vMe.staticImplements)(),QEt("design:paramtypes",[Object,Pg.PublicKey])],hB);var Gf={},rxt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},nxt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},hpe=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Pj;Object.defineProperty(Gf,"__esModule",{value:!0});Gf.Star=Gf.starDataEquals=Gf.StarType=void 0;const AMe=qs,Dy=tr;var gpe;(function(n){n[n.WhiteDwarf=0]="WhiteDwarf",n[n.RedDwarf=1]="RedDwarf",n[n.Solar=2]="Solar",n[n.HotBlue=3]="HotBlue",n[n.RedGiant=4]="RedGiant"})(gpe||(Gf.StarType=gpe={}));function sxt(n,e){return n.version===e.version&&(0,Dy.arrayDeepEquals)(n.sector,e.sector,(t,r)=>t.eq(r))&&n.gameId.equals(e.gameId)&&n.size.eq(e.size)&&(0,Dy.arrayDeepEquals)(n.name,e.name,(t,r)=>t===r)&&(0,Dy.arrayDeepEquals)(n.subCoordinates,e.subCoordinates,(t,r)=>t.eq(r))&&n.starType===e.starType}Gf.starDataEquals=sxt;let gB=Pj=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}get prettyName(){return(0,Dy.byteArrayToString)(this.data.name)}static registerStar(e){const{program:t,key:r,profile:s,star:i,sector:o,gameId:a,input:c}=e;return u=>hpe(this,void 0,void 0,function*(){return[{instruction:yield t.methods.registerStar(Object.assign(Object.assign({},c),{name:(0,Dy.stringToByteArray)(c.name,64),starType:c.starType})).accountsStrict({gameAndProfile:{key:r.publicKey(),profile:s,gameId:a},funder:u.publicKey(),star:i.publicKey(),sector:o,systemProgram:AMe.SystemProgram.programId}).instruction(),signers:[r,u,i]}]})}static updateStar(e){const{profile:t,key:r,program:s,star:i,gameId:o,input:a}=e;return()=>hpe(this,void 0,void 0,function*(){return[{instruction:yield s.methods.updateStar({keyIndex:a.keyIndex,name:a.name==null?null:(0,Dy.stringToByteArray)(a.name,64),size:a.size==null?null:a.size,starType:a.starType==null?null:a.starType}).accountsStrict({gameAndProfile:{key:r.publicKey(),profile:t,gameId:o},star:i}).instruction(),signers:[r]}]})}static decodeData(e,t){return(0,Dy.decodeAccount)(e,t,Pj)}};Gf.Star=gB;gB.ACCOUNT_NAME="star";gB.MIN_DATA_SIZE=8+1+64+32+8*2+8*2+1+8;Gf.Star=gB=Pj=rxt([(0,Dy.staticImplements)(),nxt("design:paramtypes",[Object,AMe.PublicKey])],gB);var $ne={};(function(n){var e=K&&K.__decorate||function(M,P,R,$){var z=arguments.length,T=z<3?P:$===null?$=Object.getOwnPropertyDescriptor(P,R):$,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(M,P,R,$);else for(var k=M.length-1;k>=0;k--)(v=M[k])&&(T=(z<3?v(T):z>3?v(P,R,T):v(P,R))||T);return z>3&&T&&Object.defineProperty(P,R,T),T},t=K&&K.__metadata||function(M,P){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(M,P)},r=K&&K.__awaiter||function(M,P,R,$){function z(T){return T instanceof R?T:new R(function(v){v(T)})}return new(R||(R=Promise))(function(T,v){function k(B){try{C($.next(B))}catch(O){v(O)}}function x(B){try{C($.throw(B))}catch(O){v(O)}}function C(B){B.done?T(B.value):z(B.value).then(k,x)}C(($=$.apply(M,P||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.Starbase=n.calculateCurrentResourceTimeStop=n.calculateCurrentResourceTimeSlow=n.calculateResourceExhaustionTime=n.starbaseDataEquals=n.MIN_CSS_LEVEL=n.UpkeepResourceType=n.StarbaseUpgradeState=n.StarbaseState=n.StarbaseFaction=void 0;const i=nl,o=qs,a=cc,c=vZ,u=tr,l=YY,d=ud,y=VK,h=Au,m=gL;var f;(function(M){M[M.Unaligned=0]="Unaligned",M[M.MUD=1]="MUD",M[M.ONI=2]="ONI",M[M.Ustur=3]="Ustur"})(f||(n.StarbaseFaction=f={}));var g;(function(M){M[M.Active=1]="Active",M[M.Destroyed=2]="Destroyed"})(g||(n.StarbaseState=g={}));var b;(function(M){M[M.NotStarted=1]="NotStarted",M[M.Started=2]="Started",M[M.Completed=3]="Completed"})(b||(n.StarbaseUpgradeState=b={}));var S;(function(M){M[M.Ammo=1]="Ammo",M[M.Food=2]="Food",M[M.Toolkit=3]="Toolkit"})(S||(n.UpkeepResourceType=S={})),n.MIN_CSS_LEVEL=6;function p(M,P,R){const $=M.version===P.version&&M.gameId.equals(P.gameId)&&(0,u.arrayDeepEquals)(M.sector,P.sector,(z,T)=>z.eq(T))&&M.craftingFacility.equals(P.craftingFacility)&&M.upgradeFacility.equals(P.upgradeFacility)&&(0,u.arrayDeepEquals)(M.name,P.name,(z,T)=>z===T)&&(0,u.arrayDeepEquals)(M.subCoordinates,P.subCoordinates,(z,T)=>z.eq(T))&&M.faction===P.faction&&M.bump===P.bump&&M.seqId===P.seqId&&M.state===P.state&&M.upgradeState===P.upgradeState&&M.level===P.level&&M.hp.eq(P.hp)&&M.sp.eq(P.sp)&&M.sectorRingAvailable===P.sectorRingAvailable&&(0,u.arrayDeepEquals)(M.upgradeIngredientsChecksum,P.upgradeIngredientsChecksum,(z,T)=>z===T)&&M.numUpgradeIngredients===P.numUpgradeIngredients&&M.upkeepAmmoBalance.eq(P.upkeepAmmoBalance)&&M.upkeepAmmoLastUpdate.eq(P.upkeepAmmoLastUpdate)&&M.upkeepAmmoGlobalLastUpdate.eq(P.upkeepAmmoGlobalLastUpdate)&&M.upkeepFoodBalance.eq(P.upkeepFoodBalance)&&M.upkeepFoodLastUpdate.eq(P.upkeepFoodLastUpdate)&&M.upkeepFoodGlobalLastUpdate.eq(P.upkeepFoodGlobalLastUpdate)&&M.upkeepToolkitBalance.eq(P.upkeepToolkitBalance)&&M.upkeepToolkitLastUpdate.eq(P.upkeepToolkitLastUpdate)&&M.upkeepToolkitGlobalLastUpdate.eq(P.upkeepToolkitGlobalLastUpdate)&&M.builtDestroyedTimestamp.eq(P.builtDestroyedTimestamp);return!$&&R==="printOnFalse"&&(console.log(`data1: ${JSON.stringify(M,null,2)}`),console.log(`data2: ${JSON.stringify(P,null,2)}`)),$}n.starbaseDataEquals=p;const I=(M,P,R)=>R>0?M.add(P.div(new a.BN(R))):M;n.calculateResourceExhaustionTime=I;const w=(M,P,R,$,z,T)=>{const{globalElapsedTime:v,adjustedLocalElapsedTime:k,maxElapsedTime:x,finalBalance:C}=_(M,P,R,$,z),B=a.BN.min(k,x),O=B.eq(x)?v.mul(new a.BN(100)).sub(B.mul(new a.BN(100))).mul(new a.BN(l.EMPTY_CRAFTING_SPEED_PER_TIER[T]*100)).div(new a.BN(100)):new a.BN(0);return{localTime:P.mul(new a.BN(100)).add(k.mul(new a.BN(100))).add(O).toNumber()/100,newBalance:C.toNumber()}};n.calculateCurrentResourceTimeSlow=w;const A=(M,P,R,$,z)=>{const{adjustedLocalElapsedTime:T,finalBalance:v}=_(M,P,R,$,z);return{localTime:P.add(T),newBalance:v}};n.calculateCurrentResourceTimeStop=A;const _=(M,P,R,$,z)=>{const T=M.gt(R)?M.sub(R):new a.BN(0),v=z>0?$.div(new a.BN(z)):new a.BN(0),k=a.BN.min(v,T),C=P.add(k).gt(M)?M.sub(P):k,B=C.mul(new a.BN(z)),O=$.sub(B),D=O.lt(new a.BN(0))?new a.BN(0):O;return{globalElapsedTime:T,adjustedLocalElapsedTime:C,maxElapsedTime:v,finalBalance:D}};let E=s=class{constructor(P,R,$){this._data=P,this._key=R,this._upgradeIngredientAmounts=$}get data(){return this._data}get key(){return this._key}get upgradeIngredientAmounts(){return this._upgradeIngredientAmounts||[]}isCentralSpaceStation(){return this.data.level>=n.MIN_CSS_LEVEL}getUpkeepInfo(P){const R=P.data.fleet.upkeep;let $;switch(this.data.level){case 0:$=R.level0;break;case 1:$=R.level1;break;case 2:$=R.level2;break;case 3:$=R.level3;break;case 4:$=R.level4;break;case 5:$=R.level5;break;case 6:$=R.level6;break;default:throw"Invalid Starbase level."}return $}getStarbaseTime(P,R,$){const z=this.getUpkeepInfo($);let T,v,k,x,C;switch(P){case S.Ammo:T=z.ammoReserve,v=z.ammoDepletionRate,k=this.data.upkeepAmmoBalance,x=this.data.upkeepAmmoLastUpdate,C=this.data.upkeepAmmoGlobalLastUpdate;break;case S.Food:T=z.foodReserve,v=z.foodDepletionRate,k=this.data.upkeepFoodBalance,x=this.data.upkeepFoodLastUpdate,C=this.data.upkeepFoodGlobalLastUpdate;break;case S.Toolkit:T=z.toolkitReserve,v=z.toolkitDepletionRate,k=this.data.upkeepToolkitBalance,x=this.data.upkeepToolkitLastUpdate,C=this.data.upkeepToolkitGlobalLastUpdate;break;default:throw"Invalid resource type."}return v=v/y.GLOBAL_SCALE_DECIMALS_2,T.eq(new a.BN(0))?R:new a.BN((0,n.calculateCurrentResourceTimeSlow)(R,x,C,k,v,this.data.level).localTime)}static findAddress(P,R,$){return o.PublicKey.findProgramAddressSync([Xe.Buffer.from("Starbase"),R.toBuffer(),$[0].toTwos(64).toArrayLike(Xe.Buffer,"le",8),$[1].toTwos(64).toArrayLike(Xe.Buffer,"le",8)],P.programId)}static registerStarbase(P,R,$,z,T,v,k){return x=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.registerStarbase(k).accountsStrict({funder:x.publicKey(),starbase:this.findAddress(P,T,k.sectorCoordinates)[0],sector:z,gameStateAndProfile:{gameAndProfile:{key:R.publicKey(),profile:$,gameId:T},gameState:v},systemProgram:o.SystemProgram.programId}).instruction(),signers:[R,x]}]})}static updateStarbase(P,R,$,z,T,v,k,x,C){const B=[];return[k,x,C].forEach(O=>O&&B.push({pubkey:O,isSigner:!1,isWritable:!1})),O=>r(this,void 0,void 0,function*(){var D,W;return[{instruction:yield P.methods.updateStarbase({name:(D=v.name)!==null&&D!==void 0?D:null,subCoordinates:(W=v.subCoordinates)!==null&&W!==void 0?W:null,keyIndex:v.keyIndex}).accountsStrict({gameAndProfile:{key:$.publicKey(),profile:z,gameId:T},funder:O.publicKey(),starbase:R,systemProgram:o.SystemProgram.programId}).remainingAccounts(B).instruction(),signers:[$,O]}]})}static createStarbaseUpgradeResourceProcess(P,R,$,z,T,v,k,x,C,B,O,D,W){const L=c.CraftingProcess.findAddress(R,B,O,W.craftingId),N=d.CraftingInstance.findAddress(P,v,L[0]);return{craftingProcessKey:L,craftingInstanceKey:N,instructions:H=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.createStarbaseUpgradeResourceProcess(W).accountsStrict({funder:H.publicKey(),starbaseAndStarbasePlayer:{starbase:k,starbasePlayer:v},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:x,key:$.publicKey(),profile:z,profileFaction:T},gameState:C},craftingInstance:N[0],craftingProcess:L[0],upgradeFacility:B,craftingRecipe:O,craftingDomain:D,craftingProgram:R.programId,systemProgram:o.SystemProgram.programId}).instruction(),signers:[$,H]}]})}}static depositStarbaseUpgradeResourceIngredient(P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H,J,Q,Y,X){return d.CraftingInstance.depositCraftingIngredient(P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H,J,Q,Y,X)}static withdrawStarbaseUpgradeResourceIngredient(P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H,J,Q,Y,X,re){return d.CraftingInstance.withdrawCraftingIngredient(P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H,J,Q,Y,X,re)}static startStarbaseUpgradeCraftingProcess(P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H,J,Q){return d.CraftingInstance.startCraftingProcess(P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H,J,Q)}static cancelStarbaseUpgradeCraftingProcess(P,R,$,z,T,v,k,x,C,B,O,D,W,L){return d.CraftingInstance.cancelCraftingProcess(P,R,$,z,T,v,k,x,C,B,O,D,W,L)}static stopStarbaseUpgradeCraftingProcess(P,R,$,z,T,v,k,x,C,B,O,D,W,L){return d.CraftingInstance.stopCraftingProcess(P,R,$,z,T,v,k,x,C,B,O,D,W,L)}static submitStarbaseUpgradeResource(P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H,J,Q,Y,X,re,se,ee,ne,ve,Pe,Le,We,Ft,Lt){const Dt=[T],et=[];let Ue=!1;const Wt=(0,u.isAsyncSigner)(Le),sr=Wt?Le.publicKey():Le;return et.push({pubkey:sr,isSigner:Wt,isWritable:!0},{pubkey:We,isSigner:!1,isWritable:!0},{pubkey:Ft.programId,isSigner:!1,isWritable:!1}),Wt&&(Dt.push(Le),et.push({pubkey:o.SystemProgram.programId,isSigner:!1,isWritable:!1})),Ue=Wt,rr=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.submitStarbaseUpgradeResource(Lt).accountsStrict({fundsTo:x==="funder"?rr.publicKey():x,starbaseAndStarbasePlayer:{starbase:B,starbasePlayer:C},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:O,key:T.publicKey(),profile:v,profileFaction:k},gameState:D},resourceCraftingInstance:d.CraftingInstance.findAddress(P,C,W)[0],resourceCraftingProcess:W,resourceCraftingFacility:L,upgradeProcessRecipe:N,starbaseUpgradeRecipe:H,resourceRecipe:J,cargoPodTo:Q,cargoType:Y,cargoStatsDefinition:X,tokenFrom:re,tokenTo:se,tokenMint:ee,loyaltyPointsAccounts:{userPointsAccount:ne,pointsCategory:ve,pointsModifierAccount:Pe},progressionConfig:h.ProgressionConfig.findAddress(P,O)[0],pointsProgram:z.programId,craftingProgram:$.programId,cargoProgram:R.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).remainingAccounts([...et,...Ue?[{pubkey:rr.publicKey(),isSigner:!0,isWritable:!0}]:[]]).instruction(),signers:[...Dt,...Ue?[rr]:[]]}]})}static startStarbaseUpgrade(P,R,$,z,T,v,k,x,C,B,O){return D=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.startStarbaseUpgrade(O).accountsStrict({funder:D.publicKey(),starbaseAndStarbasePlayer:{starbase:v,starbasePlayer:T},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:k,key:R.publicKey(),profile:$,profileFaction:z},gameState:x},upgradeFacility:C,upgradeRecipe:B,systemProgram:o.SystemProgram.programId}).instruction(),signers:[R,D]}]})}static closeStarbaseUpgradeCraftingProcess(P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H,J){const Q=[];return H&&J&&Q.push({pubkey:H,isSigner:!1,isWritable:!0},{pubkey:J,isSigner:!1,isWritable:!0},{pubkey:i.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}),Y=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.closeUpgradeProcess(N).accountsStrict({fundsTo:v==="funder"?Y.publicKey():v,starbaseAndStarbasePlayer:{starbase:x,starbasePlayer:k},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:W,key:$.publicKey(),profile:z,profileFaction:T},gameState:L},resourceCraftingInstance:C,resourceCraftingProcess:B,resourceRecipe:D,resourceCraftingFacility:O,craftingProgram:R.programId}).remainingAccounts(Q).instruction(),signers:[$]}]})}static completeStarbaseUpgrade(P,R,$,z,T,v,k,x,C,B,O,D,W,L,N){return H=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.completeStarbaseUpgrade(N).accountsStrict({funder:H.publicKey(),starbaseAndStarbasePlayer:{starbase:k,starbasePlayer:v},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:x,key:$.publicKey(),profile:z,profileFaction:T},gameState:C},craftingFacility:B,upgradeFacility:O,upgradeRecipe:W,newRecipeCategory:D,craftingDomain:L,craftingProgram:R.programId,systemProgram:o.SystemProgram.programId}).instruction(),signers:[$,H]}]})}static syncStarbaseUpgradeIngredients(P,R,$,z,T,v,k,x){return C=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.syncStarbaseUpgradeIngredients(x).accountsStrict({funder:C.publicKey(),starbase:z,gameAccountsAndProfile:{gameAndProfile:{gameId:T,key:R.publicKey(),profile:$},gameState:v},upgradeRecipe:k,systemProgram:o.SystemProgram.programId}).instruction(),signers:[R,C]}]})}static depositStarbaseUpkeepResource(P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H,J,Q,Y,X,re,se,ee,ne){const ve=[z],Pe=[];let Le=!1;const We=(0,u.isAsyncSigner)(re),Ft=We?re.publicKey():re;return Pe.push({pubkey:Ft,isSigner:We,isWritable:!0},{pubkey:se,isSigner:!1,isWritable:!0},{pubkey:ee.programId,isSigner:!1,isWritable:!1}),We&&(ve.push(re),Pe.push({pubkey:o.SystemProgram.programId,isSigner:!1,isWritable:!1})),Le=We,Lt=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.depositStarbaseUpkeepResource(ne).accountsStrict({fundsTo:k==="funder"?Lt.publicKey():k,starbaseAndStarbasePlayer:{starbase:C,starbasePlayer:x},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:B,key:z.publicKey(),profile:T,profileFaction:v},gameState:O},cargoPodFrom:D,cargoType:W,cargoStatsDefinition:L,resourceRecipe:N,tokenFrom:H,tokenMint:J,loyaltyPointsAccounts:{userPointsAccount:Q,pointsCategory:Y,pointsModifierAccount:X},progressionConfig:h.ProgressionConfig.findAddress(P,B)[0],pointsProgram:$.programId,cargoProgram:R.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).remainingAccounts([...Pe,...Le?[{pubkey:Lt.publicKey(),isSigner:!0,isWritable:!0}]:[]]).instruction(),signers:[...ve,...Le?[Lt]:[]]}]})}static createCertificateMint(P,R,$,z,T,v,k){return x=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.createCertificateMint().accountsStrict({funder:x.publicKey(),starbase:$,cargoMint:z,cargoType:v,certificateMint:T,gameId:k,transferHookProgram:R,transferHookExtraAccountMetaList:(0,m.findExtraAccountMetaListAddress)(R,T)[0],token2022Program:i.TOKEN_2022_PROGRAM_ID,systemProgram:o.SystemProgram.programId}).instruction(),signers:[x]}]})}static decodeData(P,R){return(0,u.decodeAccountWithRemaining)(P,R,s,($,z)=>Array(z.numUpgradeIngredients).fill(0).map((T,v)=>new a.BN($.subarray(8*v).subarray(0,8),10,"le")))}};n.Starbase=E,E.ACCOUNT_NAME="starbase",E.MIN_DATA_SIZE=8+1+32+8*2+32+32+64+8*2+1+1+2+1+1+8+8+1+1+1+16+8+8+8+8+8+8+8+8+8+8,n.Starbase=E=s=e([(0,u.staticImplements)(),t("design:paramtypes",[Object,o.PublicKey,Array])],E)})($ne);var hb={},ixt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},oxt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},RC=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},_j;Object.defineProperty(hb,"__esModule",{value:!0});hb.SurveyDataUnitTracker=hb.surveyDataUnitTrackerDataEquals=void 0;const AU=nl,x2=qs,QP=tr,axt=Au,cxt=(n,e)=>n.length!==e.length?!1:n.reduce((t,r,s)=>{const i=e[s];return i==null?!1:t&&(0,QP.arrayDeepEquals)(r,i,(o,a)=>o.eq(a))},!0);function uxt(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.sduMint.equals(e.sduMint)&&n.resourceMint.equals(e.resourceMint)&&n.signer.equals(e.signer)&&(0,QP.arrayDeepEquals)(n.coordinatesRange,e.coordinatesRange,(t,r)=>t.eq(r))&&n.sduMaxPerSector===e.sduMaxPerSector&&n.scanChanceRegenPeriod===e.scanChanceRegenPeriod&&cxt(n.cssCoordinates,e.cssCoordinates)&&(0,QP.arrayDeepEquals)(n.originCoordinates,e.originCoordinates,(t,r)=>t.eq(r))&&n.cssMaxDistance===e.cssMaxDistance&&n.originMaxDistance===e.originMaxDistance&&n.distanceWeighting===e.distanceWeighting&&n.tMax.eq(e.tMax)&&n.xMul===e.xMul&&n.yMul===e.yMul&&n.zMul===e.zMul}hb.surveyDataUnitTrackerDataEquals=uxt;let mB=_j=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findSignerAddress(e,t){return x2.PublicKey.findProgramAddressSync([Xe.Buffer.from("SurveyDataUnitTracker"),t.toBuffer()],e.programId)}static findSignerTokenAccountAddress(e){return(0,AU.getAssociatedTokenAddressSync)(e.sduMint,e.signer,!0)}static fundSurveyDataUnitTrackerBank(e,t,r,s){const i=this.findSignerTokenAccountAddress(e);return(0,QP.transferToTokenAccount)(t,r,i,s)}static registerSurveyDataUnitTracker(e,t,r,s,i,o,a,c){return u=>RC(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerSurveyDataUnitTracker(c).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:a},funder:u.publicKey(),surveyDataUnitTracker:s.publicKey(),sduMint:i,resourceMint:o,systemProgram:x2.SystemProgram.programId}).instruction(),signers:[t,u,s]}]})}static updateSurveyDataUnitTracker(e,t,r,s,i,o,a){var c,u,l,d,y,h,m,f,g,b,S,p;const I=a?[{pubkey:a.sduMint,isSigner:!1,isWritable:!1},{pubkey:a.resourceMint,isSigner:!1,isWritable:!1}]:[],w=Object.assign(Object.assign({},o),{coordinatesRange:(c=o.coordinatesRange)!==null&&c!==void 0?c:null,cssCoordinates:(u=o.cssCoordinates)!==null&&u!==void 0?u:null,originCoordinates:(l=o.originCoordinates)!==null&&l!==void 0?l:null,cssMaxDistance:(d=o.cssMaxDistance)!==null&&d!==void 0?d:null,originMaxDistance:(y=o.originMaxDistance)!==null&&y!==void 0?y:null,distanceWeighting:(h=o.distanceWeighting)!==null&&h!==void 0?h:null,tMax:(m=o.tMax)!==null&&m!==void 0?m:null,xMul:(f=o.xMul)!==null&&f!==void 0?f:null,yMul:(g=o.yMul)!==null&&g!==void 0?g:null,zMul:(b=o.zMul)!==null&&b!==void 0?b:null,scanChanceRegenPeriod:(S=o.scanChanceRegenPeriod)!==null&&S!==void 0?S:null,sduMaxPerSector:(p=o.sduMaxPerSector)!==null&&p!==void 0?p:null});return()=>RC(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateSurveyDataUnitTracker(w).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:i},surveyDataUnitTracker:s}).remainingAccounts(I).instruction(),signers:[t]}]})}static drainSurveyDataUnitsBank(e,t,r,s,i,o,a,c,u){return l=>RC(this,void 0,void 0,function*(){return[{instruction:yield e.methods.drainSurveyDataUnitsBank(u).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},fundsTo:s==="funder"?l.publicKey():s,surveyDataUnitTracker:i,surveyDataUnitTrackerSigner:this.findSignerAddress(e,i)[0],tokenFrom:a,tokenTo:c,tokenProgram:AU.TOKEN_PROGRAM_ID}).instruction(),signers:[t]}]})}static deregisterSurveyDataUnitTracker(e,t,r,s,i,o,a){return c=>RC(this,void 0,void 0,function*(){return[{instruction:yield e.methods.deregisterSurveyDataUnitTracker(a).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},surveyDataUnitTracker:s,fundsTo:i==="funder"?c.publicKey():i}).instruction(),signers:[t]}]})}static scanForSurveyDataUnits(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S,p,I,w,A,_,E,M,P){return()=>RC(this,void 0,void 0,function*(){return[{instruction:yield e.methods.scanForSurveyDataUnits(P).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:a,owningProfile:i,owningProfileFaction:o,key:s.publicKey()},gameId:E},gameState:M},sector:c,surveyDataUnitTracker:u,surveyDataUnitTrackerSigner:this.findSignerAddress(e,u)[0],cargoHold:l,sduCargoType:d,resourceCargoType:y,cargoStatsDefinition:h,sduTokenFrom:m,sduTokenTo:f,resourceTokenFrom:g,resourceMint:b,dataRunningXpAccounts:{userPointsAccount:S,pointsCategory:p,pointsModifierAccount:I},councilRankXpAccounts:{userPointsAccount:w,pointsCategory:A,pointsModifierAccount:_},progressionConfig:axt.ProgressionConfig.findAddress(e,E)[0],pointsProgram:r.programId,cargoProgram:t.programId,tokenProgram:AU.TOKEN_PROGRAM_ID,recentSlothashes:x2.SYSVAR_SLOT_HASHES_PUBKEY,instructionsSysvar:x2.SYSVAR_INSTRUCTIONS_PUBKEY}).instruction(),signers:[s]}]})}static decodeData(e,t){return(0,QP.decodeAccount)(e,t,_j)}};hb.SurveyDataUnitTracker=mB;mB.ACCOUNT_NAME="surveyDataUnitTracker";mB.MIN_DATA_SIZE=8+1+32+32+32+32+1+8*2+8*2*3+8*2+4+4+4+8+4+4+4+4+2;hb.SurveyDataUnitTracker=mB=_j=ixt([(0,QP.staticImplements)(),oxt("design:paramtypes",[Object,x2.PublicKey])],mB);(function(n){var e=K&&K.__decorate||function(R,$,z,T){var v=arguments.length,k=v<3?$:T===null?T=Object.getOwnPropertyDescriptor($,z):T,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(R,$,z,T);else for(var C=R.length-1;C>=0;C--)(x=R[C])&&(k=(v<3?x(k):v>3?x($,z,k):x($,z))||k);return v>3&&k&&Object.defineProperty($,z,k),k},t=K&&K.__metadata||function(R,$){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(R,$)};Object.defineProperty(n,"__esModule",{value:!0}),n.SageProgram=n.sageErrorMap=n.SAGE_IDL=n.EMPTY_CRAFTING_SPEED_PER_TIER=void 0;const r=cc,s=tr,i=ud,o=UK,a=VK,c=m6,u=b6,l=Tl,d=uB,y=em,h=el,m=Hp,f=Au,g=ld,b=tl,S=Rl,p=y6,I=p6,w=Gf,A=$ne,_=mL,E=hb;n.EMPTY_CRAFTING_SPEED_PER_TIER=[0,.2,.275,.35,.425,.5,.5];var M=uB;Object.defineProperty(n,"SAGE_IDL",{enumerable:!0,get:function(){return M.IDL}}),n.sageErrorMap=(0,s.generateErrorMap)(d.IDL);let P=class extends s.ListenProgram{constructor($){super($,{craftingInstance:i.CraftingInstance,disbandedFleet:o.DisbandedFleet,fleet:a.Fleet,fleetShips:c.FleetShips,game:u.Game,gameState:l.GameState,mineItem:y.MineItem,planet:h.Planet,playerCrewRecord:m.PlayerCrewRecord,progressionConfig:f.ProgressionConfig,resource:g.Resource,sageCrewConfig:b.SageCrewConfig,sagePlayerProfile:S.SagePlayerProfile,sector:p.Sector,ship:I.Ship,star:w.Star,starbase:A.Starbase,starbasePlayer:_.StarbasePlayer,surveyDataUnitTracker:E.SurveyDataUnitTracker})}static buildProgram($,z,T){return new r.Program(d.IDL,$,z,T)}};n.SageProgram=P,n.SageProgram=P=e([(0,s.staticImplements)(),t("design:paramtypes",[Object])],P)})(YY);var Lz={},lxt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},dxt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},fn;Object.defineProperty(Lz,"__esModule",{value:!0});Lz.SagePermissions=void 0;const wMe=tr;let Ej=fn=class{constructor(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S,p,I,w,A,_,E,M,P,R,$){this.manageGame=e,this.manageSector=t,this.manageStar=r,this.managePlanet=s,this.manageShip=i,this.manageSagePlayerProfile=o,this.manageStarbase=a,this.manageMineItem=c,this.manageResource=u,this.removeShipEscrow=l,this.moveFleet=d,this.transitionFromLoadingBay=y,this.transitionFromIdle=h,this.rentFleet=m,this.doCrafting=f,this.manageCargoPod=g,this.addRemoveCargo=b,this.doStarbaseUpgrades=S,this.manageFleet=p,this.manageFleetCargo=I,this.doMining=w,this.respawn=A,this.manageSurveyDataUnit=_,this.scanSurveyDataUnit=E,this.doStarbaseUpkeep=M,this.manageProgression=P,this.manageCrewConfig=R,this.manageCrew=$}contains(e){return this.and(e).eq(e)}getPermissions(){const e=(0,wMe.fixedSizeArray)(8,0);return e[0]=(this.manageGame?1<<0:0)|(this.manageSector?1<<1:0)|(this.manageStar?1<<2:0)|(this.managePlanet?1<<3:0)|(this.manageShip?1<<4:0)|(this.manageSagePlayerProfile?1<<5:0)|(this.manageStarbase?1<<6:0)|(this.manageMineItem?1<<7:0),e[1]=(this.manageResource?1<<0:0)|(this.removeShipEscrow?1<<1:0)|(this.moveFleet?1<<2:0)|(this.transitionFromLoadingBay?1<<3:0)|(this.transitionFromIdle?1<<4:0)|(this.rentFleet?1<<5:0)|(this.doCrafting?1<<6:0)|(this.manageCargoPod?1<<7:0),e[2]=(this.addRemoveCargo?1<<0:0)|(this.doStarbaseUpgrades?1<<1:0)|(this.manageFleet?1<<2:0)|(this.manageFleetCargo?1<<3:0)|(this.doMining?1<<4:0)|(this.respawn?1<<5:0)|(this.manageSurveyDataUnit?1<<6:0)|(this.scanSurveyDataUnit?1<<7:0),e[3]=(this.doStarbaseUpkeep?1<<0:0)|(this.manageProgression?1<<1:0)|(this.manageCrewConfig?1<<2:0)|(this.manageCrew?1<<3:0),e}static empty(){return new fn(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static all(){return new fn(!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0)}static manageGamePermissions(){return fn.permissionsBuilder("manageGame")}static manageSectorPermissions(){return fn.permissionsBuilder("manageSector")}static manageStarPermissions(){return fn.permissionsBuilder("manageStar")}static managePlanetPermissions(){return fn.permissionsBuilder("managePlanet")}static manageShipPermissions(){return fn.permissionsBuilder("manageShip")}static manageSagePlayerProfilePermissions(){return fn.permissionsBuilder("manageSagePlayerProfile")}static manageStarbasePermissions(){return fn.permissionsBuilder("manageStarbase")}static manageMineItemPermissions(){return fn.permissionsBuilder("manageMineItem")}static manageResourcePermissions(){return fn.permissionsBuilder("manageResource")}static removeShipEscrowPermissions(){return fn.permissionsBuilder("removeShipEscrow")}static moveFleetPermissions(){return fn.permissionsBuilder("moveFleet")}static transitionFromLoadingBayPermissions(){return fn.permissionsBuilder("transitionFromLoadingBay")}static transitionFromIdlePermissions(){return fn.permissionsBuilder("transitionFromIdle")}static rentFleetPermissions(){return fn.permissionsBuilder("rentFleet")}static doCraftingPermissions(){return fn.permissionsBuilder("doCrafting")}static manageCargoPodPermissions(){return fn.permissionsBuilder("manageCargoPod")}static addRemoveCargoPermissions(){return fn.permissionsBuilder("addRemoveCargo")}static doStarbaseUpgradesPermissions(){return fn.permissionsBuilder("doStarbaseUpgrades")}static manageFleetPermissions(){return fn.permissionsBuilder("manageFleet")}static manageFleetCargoPermissions(){return fn.permissionsBuilder("manageFleetCargo")}static doMiningPermissions(){return fn.permissionsBuilder("doMining")}static respawnPermissions(){return fn.permissionsBuilder("respawn")}static manageSurveyDataUnitPermissions(){return fn.permissionsBuilder("manageSurveyDataUnit")}static scanSurveyDataUnitPermissions(){return fn.permissionsBuilder("scanSurveyDataUnit")}static doStarbaseUpkeepPermissions(){return fn.permissionsBuilder("doStarbaseUpkeep")}static manageProgressionPermissions(){return fn.permissionsBuilder("manageProgression")}static manageCrewConfigPermissions(){return fn.permissionsBuilder("manageCrewConfig")}static manageCrewPermissions(){return fn.permissionsBuilder("manageCrew")}static fromPermissions(e){return new fn((e[0]&1<<0)!==0,(e[0]&1<<1)!==0,(e[0]&1<<2)!==0,(e[0]&1<<3)!==0,(e[0]&1<<4)!==0,(e[0]&1<<5)!==0,(e[0]&1<<6)!==0,(e[0]&1<<7)!==0,(e[1]&1<<0)!==0,(e[1]&1<<1)!==0,(e[1]&1<<2)!==0,(e[1]&1<<3)!==0,(e[1]&1<<4)!==0,(e[1]&1<<5)!==0,(e[1]&1<<6)!==0,(e[1]&1<<7)!==0,(e[2]&1<<0)!==0,(e[2]&1<<1)!==0,(e[2]&1<<2)!==0,(e[2]&1<<3)!==0,(e[2]&1<<4)!==0,(e[2]&1<<5)!==0,(e[2]&1<<6)!==0,(e[2]&1<<7)!==0,(e[3]&1<<0)!==0,(e[3]&1<<1)!==0,(e[3]&1<<2)!==0,(e[3]&1<<3)!==0)}and(e){return new fn(this.manageGame&&e.manageGame,this.manageSector&&e.manageSector,this.manageStar&&e.manageStar,this.managePlanet&&e.managePlanet,this.manageShip&&e.manageShip,this.manageSagePlayerProfile&&e.manageSagePlayerProfile,this.manageStarbase&&e.manageStarbase,this.manageMineItem&&e.manageMineItem,this.manageResource&&e.manageResource,this.removeShipEscrow&&e.removeShipEscrow,this.moveFleet&&e.moveFleet,this.transitionFromLoadingBay&&e.transitionFromLoadingBay,this.transitionFromIdle&&e.transitionFromIdle,this.rentFleet&&e.rentFleet,this.doCrafting&&e.doCrafting,this.manageCargoPod&&e.manageCargoPod,this.addRemoveCargo&&e.addRemoveCargo,this.doStarbaseUpgrades&&e.doStarbaseUpgrades,this.manageFleet&&e.manageFleet,this.manageFleetCargo&&e.manageFleetCargo,this.doMining&&e.doMining,this.respawn&&e.respawn,this.manageSurveyDataUnit&&e.manageSurveyDataUnit,this.scanSurveyDataUnit&&e.scanSurveyDataUnit,this.doStarbaseUpkeep&&e.doStarbaseUpkeep,this.manageProgression&&e.manageProgression,this.manageCrewConfig&&e.manageCrewConfig,this.manageCrew&&e.manageCrew)}or(e){return new fn(this.manageGame||e.manageGame,this.manageSector||e.manageSector,this.manageStar||e.manageStar,this.managePlanet||e.managePlanet,this.manageShip||e.manageShip,this.manageSagePlayerProfile||e.manageSagePlayerProfile,this.manageStarbase||e.manageStarbase,this.manageMineItem||e.manageMineItem,this.manageResource||e.manageResource,this.removeShipEscrow||e.removeShipEscrow,this.moveFleet||e.moveFleet,this.transitionFromLoadingBay||e.transitionFromLoadingBay,this.transitionFromIdle||e.transitionFromIdle,this.rentFleet||e.rentFleet,this.doCrafting||e.doCrafting,this.manageCargoPod||e.manageCargoPod,this.addRemoveCargo||e.addRemoveCargo,this.doStarbaseUpgrades||e.doStarbaseUpgrades,this.manageFleet||e.manageFleet,this.manageFleetCargo||e.manageFleetCargo,this.doMining||e.doMining,this.respawn||e.respawn,this.manageSurveyDataUnit||e.manageSurveyDataUnit,this.scanSurveyDataUnit||e.scanSurveyDataUnit,this.doStarbaseUpkeep||e.doStarbaseUpkeep,this.manageProgression||e.manageProgression,this.manageCrewConfig||e.manageCrewConfig,this.manageCrew||e.manageCrew)}eq(e){return this.manageGame===e.manageGame&&this.manageSector===e.manageSector&&this.manageStar===e.manageStar&&this.managePlanet===e.managePlanet&&this.manageShip===e.manageShip&&this.manageSagePlayerProfile===e.manageSagePlayerProfile&&this.manageStarbase===e.manageStarbase&&this.manageMineItem===e.manageMineItem&&this.manageResource===e.manageResource&&this.removeShipEscrow===e.removeShipEscrow&&this.moveFleet==e.moveFleet&&this.transitionFromLoadingBay===e.transitionFromLoadingBay&&this.transitionFromIdle===e.transitionFromIdle&&this.rentFleet===e.rentFleet&&this.doCrafting===e.doCrafting&&this.manageCargoPod===e.manageCargoPod&&this.addRemoveCargo===e.addRemoveCargo&&this.doStarbaseUpgrades===e.doStarbaseUpgrades&&this.manageFleet===e.manageFleet&&this.manageFleetCargo===e.manageFleetCargo&&this.doMining===e.doMining&&this.respawn===e.respawn&&this.manageSurveyDataUnit===e.manageSurveyDataUnit&&this.scanSurveyDataUnit===e.scanSurveyDataUnit&&this.doStarbaseUpkeep===e.doStarbaseUpkeep&&this.manageProgression===e.manageProgression&&this.manageCrewConfig===e.manageCrewConfig&&this.manageCrew===e.manageCrew}static permissionsBuilder(e){const t=Array.isArray(e)?e:[e],r=Object.keys(fn.empty()).map(s=>t.includes(s));if(r.length!=fn.length)throw"Incorrect permissions array";return new fn(...r)}};Lz.SagePermissions=Ej;Lz.SagePermissions=Ej=fn=lxt([(0,wMe.staticImplements)(),dxt("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean])],Ej);var yL={},Dne={},Cd={},pL={};function HO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function fxt(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Wz(n,...e){if(!fxt(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function hxt(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");HO(n.outputLen),HO(n.blockLen)}function e_(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function IMe(n,e){Wz(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const wU=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gxt=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),IU=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Hd=(n,e)=>n<<32-e|n>>>e,mpe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,mxt=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function ype(n){for(let e=0;e<n.length;e++)n[e]=mxt(n[e])}function yxt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function bL(n){return typeof n=="string"&&(n=yxt(n)),Wz(n),n}function pxt(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];Wz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class One{clone(){return this._cloneInto()}}function Kne(n){const e=r=>n().update(bL(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function PMe(n=32){if(wU&&typeof wU.getRandomValues=="function")return wU.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function bxt(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const Sxt=(n,e,t)=>n&e^~n&t,kxt=(n,e,t)=>n&e^n&t^e&t;class _Me extends One{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=IU(this.buffer)}update(e){e_(this);const{view:t,buffer:r,blockLen:s}=this;e=bL(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=IU(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){e_(this),IMe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;bxt(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=IU(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const G8=BigInt(2**32-1),xj=BigInt(32);function EMe(n,e=!1){return e?{h:Number(n&G8),l:Number(n>>xj&G8)}:{h:Number(n>>xj&G8)|0,l:Number(n&G8)|0}}function xMe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=EMe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const vxt=(n,e)=>BigInt(n>>>0)<<xj|BigInt(e>>>0),Axt=(n,e,t)=>n>>>t,wxt=(n,e,t)=>n<<32-t|e>>>t,Ixt=(n,e,t)=>n>>>t|e<<32-t,Pxt=(n,e,t)=>n<<32-t|e>>>t,_xt=(n,e,t)=>n<<64-t|e>>>t-32,Ext=(n,e,t)=>n>>>t-32|e<<64-t,xxt=(n,e)=>e,Txt=(n,e)=>n,TMe=(n,e,t)=>n<<t|e>>>32-t,RMe=(n,e,t)=>e<<t|n>>>32-t,CMe=(n,e,t)=>e<<t-32|n>>>64-t,MMe=(n,e,t)=>n<<t-32|e>>>64-t;function Rxt(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const Cxt=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),Mxt=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,Bxt=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),zxt=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,$xt=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),Dxt=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,Lr={fromBig:EMe,split:xMe,toBig:vxt,shrSH:Axt,shrSL:wxt,rotrSH:Ixt,rotrSL:Pxt,rotrBH:_xt,rotrBL:Ext,rotr32H:xxt,rotr32L:Txt,rotlSH:TMe,rotlSL:RMe,rotlBH:CMe,rotlBL:MMe,add:Rxt,add3L:Cxt,add3H:Mxt,add4L:Bxt,add4H:zxt,add5H:Dxt,add5L:$xt},[Oxt,Kxt]=(()=>Lr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),ny=new Uint32Array(80),sy=new Uint32Array(80);class Lxt extends _Me{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)ny[p]=e.getUint32(t),sy[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=ny[p-15]|0,w=sy[p-15]|0,A=Lr.rotrSH(I,w,1)^Lr.rotrSH(I,w,8)^Lr.shrSH(I,w,7),_=Lr.rotrSL(I,w,1)^Lr.rotrSL(I,w,8)^Lr.shrSL(I,w,7),E=ny[p-2]|0,M=sy[p-2]|0,P=Lr.rotrSH(E,M,19)^Lr.rotrBH(E,M,61)^Lr.shrSH(E,M,6),R=Lr.rotrSL(E,M,19)^Lr.rotrBL(E,M,61)^Lr.shrSL(E,M,6),$=Lr.add4L(_,R,sy[p-7],sy[p-16]),z=Lr.add4H($,A,P,ny[p-7],ny[p-16]);ny[p]=z|0,sy[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Lr.rotrSH(d,y,14)^Lr.rotrSH(d,y,18)^Lr.rotrBH(d,y,41),w=Lr.rotrSL(d,y,14)^Lr.rotrSL(d,y,18)^Lr.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=Lr.add5L(S,w,_,Kxt[p],sy[p]),M=Lr.add5H(E,b,I,A,Oxt[p],ny[p]),P=E|0,R=Lr.rotrSH(r,s,28)^Lr.rotrBH(r,s,34)^Lr.rotrBH(r,s,39),$=Lr.rotrSL(r,s,28)^Lr.rotrBL(r,s,34)^Lr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Lr.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Lr.add3L(P,$,T);r=Lr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Lr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Lr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Lr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Lr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Lr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Lr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Lr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Lr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){ny.fill(0),sy.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Wxt=Kne(()=>new Lxt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Lne=BigInt(0),SL=BigInt(1),Nxt=BigInt(2);function DS(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Nz(n){if(!DS(n))throw new Error("Uint8Array expected")}function Jg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const Fxt=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function OS(n){Nz(n);let e="";for(let t=0;t<n.length;t++)e+=Fxt[n[t]];return e}function BMe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function Wne(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const eg={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ppe(n){if(n>=eg._0&&n<=eg._9)return n-eg._0;if(n>=eg._A&&n<=eg._F)return n-(eg._A-10);if(n>=eg._a&&n<=eg._f)return n-(eg._a-10)}function t_(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=ppe(n.charCodeAt(i)),a=ppe(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function j1(n){return Wne(OS(n))}function hA(n){return Nz(n),Wne(OS(Uint8Array.from(n).reverse()))}function r_(n,e){return t_(n.toString(16).padStart(e*2,"0"))}function yB(n,e){return r_(n,e).reverse()}function Uxt(n){return t_(BMe(n))}function ia(n,e,t){let r;if(typeof e=="string")try{r=t_(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(DS(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function KS(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];Nz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function Vxt(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function qxt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const PU=n=>typeof n=="bigint"&&Lne<=n;function kL(n,e,t){return PU(n)&&PU(e)&&PU(t)&&e<=n&&n<t}function El(n,e,t,r){if(!kL(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function jxt(n){let e;for(e=0;n>Lne;n>>=SL,e+=1);return e}function Hxt(n,e){return n>>BigInt(e)&SL}function Gxt(n,e,t){return n|(t?SL:Lne)<<BigInt(e)}const Nne=n=>(Nxt<<BigInt(n-1))-SL,_U=n=>new Uint8Array(n),bpe=n=>Uint8Array.from(n);function zMe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=_U(n),s=_U(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=_U())=>{s=a(bpe([0]),d),r=a(),d.length!==0&&(s=a(bpe([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return KS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const Yxt={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||DS(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function VT(n,e,t={}){const r=(s,i,o)=>{const a=Yxt[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const Zxt=()=>{throw new Error("not implemented")};function pB(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var Jxt=Object.freeze(Object.defineProperty({__proto__:null,isBytes:DS,abytes:Nz,abool:Jg,bytesToHex:OS,numberToHexUnpadded:BMe,hexToNumber:Wne,hexToBytes:t_,bytesToNumberBE:j1,bytesToNumberLE:hA,numberToBytesBE:r_,numberToBytesLE:yB,numberToVarBytesBE:Uxt,ensureBytes:ia,concatBytes:KS,equalBytes:Vxt,utf8ToBytes:qxt,inRange:kL,aInRange:El,bitLen:jxt,bitGet:Hxt,bitSet:Gxt,bitMask:Nne,createHmacDrbg:zMe,validateObject:VT,notImplemented:Zxt,memoized:pB},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tc=BigInt(0),Wi=BigInt(1),h1=BigInt(2),Xxt=BigInt(3),Tj=BigInt(4),Spe=BigInt(5),kpe=BigInt(8);BigInt(9);BigInt(16);function Si(n,e){const t=n%e;return t>=tc?t:e+t}function Qxt(n,e,t){if(t<=tc||e<tc)throw new Error("Expected power/modulo > 0");if(t===Wi)return tc;let r=Wi;for(;e>tc;)e&Wi&&(r=r*n%t),n=n*n%t,e>>=Wi;return r}function so(n,e,t){let r=n;for(;e-- >tc;)r*=r,r%=t;return r}function Rj(n,e){if(n===tc||e<=tc)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=Si(n,e),r=e,s=tc,i=Wi;for(;t!==tc;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Wi)throw new Error("invert: does not exist");return Si(s,e)}function eTt(n){const e=(n-Wi)/h1;let t,r,s;for(t=n-Wi,r=0;t%h1===tc;t/=h1,r++);for(s=h1;s<n&&Qxt(s,e,n)!==n-Wi;s++);if(r===1){const o=(n+Wi)/Tj;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Wi)/h1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Wi<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function tTt(n){if(n%Tj===Xxt){const e=(n+Wi)/Tj;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%kpe===Spe){const e=(n-Spe)/kpe;return function(r,s){const i=r.mul(s,h1),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,h1),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return eTt(n)}const rTt=(n,e)=>(Si(n,e)&Wi)===Wi,nTt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sTt(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=nTt.reduce((r,s)=>(r[s]="function",r),e);return VT(n,t)}function iTt(n,e,t){if(t<tc)throw new Error("Expected power > 0");if(t===tc)return n.ONE;if(t===Wi)return e;let r=n.ONE,s=e;for(;t>tc;)t&Wi&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Wi;return r}function oTt(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function $Me(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function DMe(n,e,t=!1,r={}){if(n<=tc)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=$Me(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=tTt(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:Nne(s),ZERO:tc,ONE:Wi,create:c=>Si(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return tc<=c&&c<n},is0:c=>c===tc,isOdd:c=>(c&Wi)===Wi,neg:c=>Si(-c,n),eql:(c,u)=>c===u,sqr:c=>Si(c*c,n),add:(c,u)=>Si(c+u,n),sub:(c,u)=>Si(c-u,n),mul:(c,u)=>Si(c*u,n),pow:(c,u)=>iTt(a,c,u),div:(c,u)=>Si(c*Rj(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Rj(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>oTt(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?yB(c,i):r_(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?hA(c):j1(c)}});return Object.freeze(a)}function OMe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function KMe(n){const e=OMe(n);return e+Math.ceil(e/2)}function aTt(n,e,t=!1){const r=n.length,s=OMe(e),i=KMe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?j1(n):hA(n),a=Si(o,e-Wi)+Wi;return t?yB(a,s):r_(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cTt=BigInt(0),EU=BigInt(1),xU=new WeakMap,vpe=new WeakMap;function LMe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>cTt;)o&EU&&(a=a.add(c)),c=c.double(),o>>=EU;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=EU);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=vpe.get(i)||1;let u=xU.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&xU.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),vpe.set(i,o),xU.delete(i)}}}function Fne(n){return sTt(n.Fp),VT(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...$Me(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ql=BigInt(0),Gc=BigInt(1),Y8=BigInt(2),uTt=BigInt(8),lTt={zip215:!0};function dTt(n){const e=Fne(n);return VT(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function fTt(n){const e=dTt(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=Y8<<BigInt(a*8)-Gc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:ql}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(Jg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){El("coordinate "+v,k,ql,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=pB((v,k)=>{const{ex:x,ey:C,ez:B}=v,O=v.is0();k==null&&(k=O?uTt:t.inv(B));const D=l(x*k),W=l(C*k),L=l(B*k);if(O)return{x:ql,y:Gc};if(L!==Gc)throw new Error("invZ was invalid");return{x:D,y:W}}),b=pB(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:O,et:D}=v,W=l(C*C),L=l(B*B),N=l(O*O),H=l(N*N),J=l(W*k),Q=l(N*l(J+L)),Y=l(H+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,Gc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:O,ey:D,ez:W}=k,L=l(x*W),N=l(O*B),H=l(C*W),J=l(D*B);return L===N&&H===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,O=l(x*x),D=l(C*C),W=l(Y8*l(B*B)),L=l(k*O),N=x+C,H=l(l(N*N)-O-D),J=L+D,Q=J-W,Y=L-D,X=l(H*Q),re=l(J*Y),se=l(H*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:O,ez:D,et:W}=this,{ex:L,ey:N,ez:H,et:J}=k;if(x===BigInt(-1)){const Lt=l((O-B)*(N+L)),Dt=l((O+B)*(N-L)),et=l(Dt-Lt);if(et===ql)return this.double();const Ue=l(D*Y8*J),Wt=l(W*Y8*H),sr=Wt+Ue,rr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(rr*pr),gn=l(sr*pr),ds=l(et*rr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(O*N),X=l(W*C*J),re=l(D*H),se=l((B+O)*(L+N)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),Pe=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(Pe,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;El("scalar",x,Gc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return El("scalar",x,ql,r),x===ql?I:this.equals(I)||x===Gc?this:this.equals(p)?this.wNAF(x).p:w.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Gc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,O=t.BYTES;k=ia("pointHex",k,O),Jg("zip215",x);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=hA(D),N=x?u:t.ORDER;El("pointHex.y",L,ql,N);const H=l(L*L),J=l(H-Gc),Q=l(C*H-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Gc)===Gc,se=(W&128)!==0;if(!x&&X===ql&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=yB(x,t.BYTES);return C[C.length-1]|=k&Gc?128:0,C}toHex(){return OS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Gc,l(e.Gx*e.Gy)),S.ZERO=new S(ql,Gc,Gc,ql);const{BASE:p,ZERO:I}=S,w=LMe(S,a*8);function A(v){return Si(v,r)}function _(v){return A(hA(v))}function E(v){const k=a;v=ia("private key",v,k);const x=ia("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),O=_(C),D=p.multiply(O),W=D.toRawBytes();return{head:C,prefix:B,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function P(v=new Uint8Array,...k){const x=KS(...k);return _(i(h(x,ia("context",v),!!s)))}function R(v,k,x={}){v=ia("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:O}=E(k),D=P(x.context,C,v),W=p.multiply(D).toRawBytes(),L=P(x.context,W,O,v),N=A(D+L*B);El("signature.s",N,ql,r);const H=KS(W,yB(N,t.BYTES));return ia("result",H,a*2)}const $=lTt;function z(v,k,x,C=$){const{context:B,zip215:O}=C,D=t.BYTES;v=ia("signature",v,2*D),k=ia("message",k),O!==void 0&&Jg("zip215",O),s&&(k=s(k));const W=hA(v.slice(D,2*D));let L,N,H;try{L=S.fromHex(x,O),N=S.fromHex(v.slice(0,D),O),H=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=P(B,N.toRawBytes(),L.toRawBytes(),k);return N.add(L.multiplyUnsafe(J)).subtract(H).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Une=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Ape=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const hTt=BigInt(1),wpe=BigInt(2);BigInt(3);const gTt=BigInt(5),mTt=BigInt(8);function yTt(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=Une,a=n*n%i*n%i,c=so(a,wpe,i)*a%i,u=so(c,hTt,i)*n%i,l=so(u,gTt,i)*u%i,d=so(l,e,i)*l%i,y=so(d,t,i)*d%i,h=so(y,r,i)*y%i,m=so(h,s,i)*h%i,f=so(m,s,i)*h%i,g=so(f,e,i)*l%i;return{pow_p_5_8:so(g,wpe,i)*n%i,b2:a}}function pTt(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function bTt(n,e){const t=Une,r=Si(e*e*e,t),s=Si(r*r*e,t),i=yTt(n*s).pow_p_5_8;let o=Si(n*r*i,t);const a=Si(e*o*o,t),c=o,u=Si(o*Ape,t),l=a===n,d=a===Si(-n,t),y=a===Si(-n*Ape,t);return l&&(o=c),(d||y)&&(o=u),rTt(o,t)&&(o=Si(-o,t)),{isValid:l||d,value:o}}const STt=(()=>DMe(Une,void 0,!0))(),kTt=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:STt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:mTt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Wxt,randomBytes:PMe,adjustScalarBytes:pTt,uvRatio:bTt}))(),qT=(()=>fTt(kTt))(),vTt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),iy=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),oy=new Uint32Array(64);class ATt extends _Me{constructor(){super(64,32,8,!1),this.A=iy[0]|0,this.B=iy[1]|0,this.C=iy[2]|0,this.D=iy[3]|0,this.E=iy[4]|0,this.F=iy[5]|0,this.G=iy[6]|0,this.H=iy[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)oy[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=oy[d-15],h=oy[d-2],m=Hd(y,7)^Hd(y,18)^y>>>3,f=Hd(h,17)^Hd(h,19)^h>>>10;oy[d]=f+oy[d-7]+m+oy[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Hd(a,6)^Hd(a,11)^Hd(a,25),h=l+y+Sxt(a,c,u)+vTt[d]+oy[d]|0,f=(Hd(r,2)^Hd(r,13)^Hd(r,22))+kxt(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){oy.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Cj=Kne(()=>new ATt);class wTt extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function ITt(n){return Fz(n)&&typeof n[Symbol.iterator]=="function"}function Fz(n){return typeof n=="object"&&n!=null}function GO(n){return Fz(n)&&!Array.isArray(n)}function Ed(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function PTt(n){const{done:e,value:t}=n.next();return e?void 0:t}function _Tt(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Ed(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*Ipe(n,e,t,r){ITt(n)||(n=[n]);for(const s of n){const i=_Tt(s,e,t,r);i&&(yield i)}}function*Vne(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=Vne(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):Fz(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class kh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return Ipe(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return Ipe(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return WMe(e,this,t)}create(e,t){return St(e,this,t)}is(e){return NMe(e,this)}mask(e,t){return ETt(e,this,t)}validate(e,t={}){return Uz(e,this,t)}}function WMe(n,e,t){const r=Uz(n,e,{message:t});if(r[0])throw r[0]}function St(n,e,t){const r=Uz(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function ETt(n,e,t){const r=Uz(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function NMe(n,e){return!Uz(n,e)[0]}function Uz(n,e,t={}){const r=Vne(n,e,t),s=PTt(r);if(s[0])return[new wTt(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function kk(n,e){return new kh({type:n,schema:null,validator:e})}function xTt(){return kk("any",()=>!0)}function Et(n){return new kh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Ed(e)}`}})}function ih(){return kk("boolean",n=>typeof n=="boolean")}function qne(n){return kk("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${Ed(e)}`)}function Ci(n){const e=Ed(n),t=typeof n;return new kh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${Ed(r)}`}})}function TTt(){return kk("never",()=>!1)}function $t(n){return new kh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function Se(){return kk("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${Ed(n)}`)}function yr(n){return new kh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function FMe(n,e){return new kh({type:"record",schema:null,*entries(t){if(Fz(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return GO(t)||`Expected an object, but received: ${Ed(t)}`},coercer(t){return GO(t)?{...t}:t}})}function Je(){return kk("string",n=>typeof n=="string"||`Expected a string, but received: ${Ed(n)}`)}function jne(n){const e=TTt();return new kh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${Ed(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function $e(n){const e=Object.keys(n);return new kh({type:"type",schema:n,*entries(t){if(Fz(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return GO(t)||`Expected an object, but received: ${Ed(t)}`},coercer(t){return GO(t)?{...t}:t}})}function Dc(n){const e=n.map(t=>t.type).join(" | ");return new kh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=Vne(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Ed(t)}`,...s]}})}function jT(){return kk("unknown",()=>!0)}function Vz(n,e,t){return new kh({...n,coercer:(r,s)=>NMe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const UMe=[],VMe=[],qMe=[],RTt=BigInt(0),CC=BigInt(1),CTt=BigInt(2),MTt=BigInt(7),BTt=BigInt(256),zTt=BigInt(113);for(let n=0,e=CC,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],UMe.push(2*(5*r+t)),VMe.push((n+1)*(n+2)/2%64);let s=RTt;for(let i=0;i<7;i++)e=(e<<CC^(e>>MTt)*zTt)%BTt,e&CTt&&(s^=CC<<(CC<<BigInt(i))-CC);qMe.push(s)}const[$Tt,DTt]=xMe(qMe,!0),Ppe=(n,e,t)=>t>32?CMe(n,e,t):TMe(n,e,t),_pe=(n,e,t)=>t>32?MMe(n,e,t):RMe(n,e,t);function OTt(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=Ppe(u,l,1)^t[a],y=_pe(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=VMe[o],c=Ppe(s,i,a),u=_pe(s,i,a),l=UMe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=$Tt[r],n[1]^=DTt[r]}t.fill(0)}class Hne extends One{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,HO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=gxt(this.state)}keccak(){mpe||ype(this.state32),OTt(this.state32,this.rounds),mpe||ype(this.state32),this.posOut=0,this.pos=0}update(e){e_(this);const{blockLen:t,state:r}=this;e=bL(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){e_(this,!1),Wz(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return HO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(IMe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Hne(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const KTt=(n,e,t)=>Kne(()=>new Hne(e,n,t)),Epe=KTt(1,136,256/8);class jMe extends One{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,hxt(e);const r=bL(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return e_(this),this.iHash.update(e),this}digestInto(e){e_(this),Wz(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const HMe=(n,e,t)=>new jMe(n,e).update(t).digest();HMe.create=(n,e)=>new jMe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xpe(n){n.lowS!==void 0&&Jg("lowS",n.lowS),n.prehash!==void 0&&Jg("prehash",n.prehash)}function LTt(n){const e=Fne(n);VT(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:WTt,hexToBytes:NTt}=Jxt,$1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=$1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:WTt(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=$1,t=typeof n=="string"?NTt(n):n;Nz(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=$1._parseInt(t.subarray(2)),{d:o,l:a}=$1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Cy=BigInt(0),pa=BigInt(1);BigInt(2);const Tpe=BigInt(3);BigInt(4);function FTt(n){const e=LTt(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return KS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return kL(m,pa,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(DS(m)&&(m=OS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:j1(ia("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=Si(p,S)),El("private key",p,pa,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=pB((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=pB(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(ia("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),_=t.eql(t.mul(b,w),t.mul(I,S));return A&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,Tpe),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,_=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),P=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),_=t.mul(S,I),_=t.add(_,_),w=t.mul(f,_),A=t.mul(b,P),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),_=t.mul(b,_),P=t.mul(f,P),R=t.sub(E,P),R=t.mul(f,R),R=t.add(R,_),_=t.add(E,E),E=t.add(_,E),E=t.add(E,P),E=t.mul(E,R),A=t.add(A,E),P=t.mul(p,I),P=t.add(P,P),E=t.mul(P,R),w=t.sub(w,E),_=t.mul(P,M),_=t.add(_,_),_=t.add(_,_),new d(w,A,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,_=t.ZERO,E=t.ZERO;const M=e.a,P=t.mul(e.b,Tpe);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(P,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),_=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(P,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),_=t.add(_,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,_,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){El("scalar",f,Cy,e.n);const g=d.ZERO;if(f===Cy)return g;if(f===pa)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,_=g,E=this;for(;p>Cy||w>Cy;)p&pa&&(A=A.add(E)),w&pa&&(_=_.add(E)),E=E.double(),p>>=pa,w>>=pa;return S&&(A=A.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),A.add(_)}multiply(f){const{endo:g,n:b}=e;El("scalar",f,pa,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:_}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:P,f:R}=this.wNAF(_);E=h.constTimeNegate(I,E),P=h.constTimeNegate(A,P),P=new d(t.mul(P.px,g.beta),P.py,P.pz),S=E.add(P),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===Cy||A===pa||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===pa)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===pa?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Jg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Jg("isCompressed",f),OS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=LMe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function UTt(n){const e=Fne(n);return VT(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function VTt(n){const e=UTt(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return Si(T,r)}function a(T){return Rj(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=FTt({...e,toBytes(T,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=KS;return Jg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(T){const v=T.length,k=T[0],x=T.subarray(1);if(v===s&&(k===2||k===3)){const C=j1(x);if(!kL(C,pa,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let O;try{O=t.sqrt(B)}catch(L){const N=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+N)}const D=(O&pa)===pa;return(k&1)===1!==D&&(O=t.neg(O)),{x:C,y:O}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>OS(r_(T,e.nByteLength));function h(T){const v=r>>pa;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>j1(T.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=ia("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=$1.toSig(ia("DER",v));return new g(k,x)}assertValidity(){El("r",this.r,pa,r),El("s",this.s,pa,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=A(ia("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const O=C===2||C===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(C&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),N=o(-B*L),H=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,N,H);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return t_(this.toDERHex())}toDERHex(){return $1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return t_(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=KMe(e.n);return aTt(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=DS(T),k=typeof T=="string",x=(v||k)&&T.length;return v?x===s||x===i:k?x===2*s||x===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=j1(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},_=Nne(e.nBitLength);function E(T){return El(`num < 2^${e.nBitLength}`,T,Cy,_),r_(T,e.nByteLength)}function M(T,v,k=P){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:O,extraEntropy:D}=k;B==null&&(B=!0),T=ia("msgHash",T),xpe(k),O&&(T=ia("prehashed msgHash",x(T)));const W=A(T),L=u(v),N=[E(L),E(W)];if(D!=null&&D!==!1){const Y=D===!0?C(t.BYTES):D;N.push(ia("extraEntropy",Y))}const H=KS(...N),J=W;function Q(Y){const X=w(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Cy)return;const ne=o(re*o(J+ee*L));if(ne===Cy)return;let ve=(se.x===ee?0:2)|Number(se.y&pa),Pe=ne;return B&&h(ne)&&(Pe=m(ne),ve^=1),new g(ee,Pe,ve)}return{seed:H,k2sig:Q}}const P={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=P){const{seed:x,k2sig:C}=M(T,v,k),B=e;return zMe(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function z(T,v,k,x=R){var se;const C=T;if(v=ia("msgHash",v),k=ia("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");xpe(x);const{lowS:B,prehash:O}=x;let D,W;try{if(typeof C=="string"||DS(C))try{D=g.fromDER(C)}catch(ee){if(!(ee instanceof $1.Err))throw ee;D=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:N}=D,H=A(v),J=a(N),Q=o(H*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function qTt(n){return{hash:n,hmac:(e,...t)=>HMe(n,e,pxt(...t)),randomBytes:PMe}}function jTt(n,e){const t=r=>VTt({...n,...qTt(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const GMe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Rpe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),HTt=BigInt(1),Mj=BigInt(2),Cpe=(n,e)=>(n+e/Mj)/e;function GTt(n){const e=GMe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=so(l,t,e)*l%e,y=so(d,t,e)*l%e,h=so(y,Mj,e)*u%e,m=so(h,s,e)*h%e,f=so(m,i,e)*m%e,g=so(f,a,e)*f%e,b=so(g,c,e)*g%e,S=so(b,a,e)*f%e,p=so(S,t,e)*l%e,I=so(p,o,e)*m%e,w=so(I,r,e)*u%e,A=so(w,Mj,e);if(!Bj.eql(Bj.sqr(A),n))throw new Error("Cannot find square root");return A}const Bj=DMe(GMe,void 0,void 0,{sqrt:GTt}),vL=jTt({a:BigInt(0),b:BigInt(7),Fp:Bj,n:Rpe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Rpe,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-HTt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=Cpe(i*n,e),c=Cpe(-r*n,e);let u=Si(n-a*t-c*s,e),l=Si(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},Cj);BigInt(0);vL.ProjectivePoint;const YTt=qT.utils.randomPrivateKey,Mpe=()=>{const n=qT.utils.randomPrivateKey(),e=YO(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},YO=qT.getPublicKey;function Bpe(n){try{return qT.ExtendedPoint.fromHex(n),!0}catch{return!1}}const Gne=(n,e)=>qT.sign(n,e.slice(0,32)),ZTt=qT.verify,sn=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class Yne{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(nm(G2,this))}static decode(e){return sm(G2,this,e)}static decodeUnchecked(e){return im(G2,this,e)}}class JTt extends Yne{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const G2=new Map;var YMe;const ZMe=32,Yf=32;function XTt(n){return n._bn!==void 0}let zpe=1;class ct extends Yne{constructor(e){if(super({}),this._bn=void 0,XTt(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Yf)throw new Error("Invalid public key input");this._bn=new Co(t)}else this._bn=new Co(e);if(this._bn.byteLength()>Yf)throw new Error("Invalid public key input")}}static unique(){const e=new ct(zpe);return zpe+=1,new ct(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Yf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=Cj(s);return new ct(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>ZMe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,sn(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=Cj(r);if(Bpe(s))throw new Error("Invalid seeds, address must fall off the curve");return new ct(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new ct(e);return Bpe(t.toBytes())}}YMe=ct;ct.default=new YMe("11111111111111111111111111111111");G2.set(ct,{kind:"struct",fields:[["_bn","u256"]]});class QTt{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=sn(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=sn(YTt()),this._publicKey=sn(YO(this._secretKey))}get publicKey(){return new ct(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const eRt=new ct("BPFLoader1111111111111111111111111111111111"),pp=1280-40-8,AL=127,bB=64;class Zne extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Zne.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Jne extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Jne.prototype,"name",{value:"TransactionExpiredTimeoutError"});class $v extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty($v.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class SB{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const wn=(n="publicKey")=>ie(32,n),tRt=(n="signature")=>ie(64,n),D1=(n="string")=>{const e=F([U("length"),U("lengthPadding"),ie(Vt(U(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>U().span+U().span+V.Buffer.from(i,"utf8").length,s},rRt=(n="authorized")=>F([wn("staker"),wn("withdrawer")],n),nRt=(n="lockup")=>F([_e("unixTimestamp"),_e("epoch"),wn("custodian")],n),sRt=(n="voteInit")=>F([wn("nodePubkey"),wn("authorizedVoter"),wn("authorizedWithdrawer"),te("commission")],n),iRt=(n="voteAuthorizeWithSeedArgs")=>F([U("voteAuthorizationType"),wn("currentAuthorityDerivedKeyOwnerPubkey"),D1("currentAuthorityDerivedKeySeed"),wn("newAuthorized")],n);function JMe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return JMe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function gu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Vu(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function qn(n,e){if(!n)throw new Error(e||"Assertion failed")}class wL{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new wL(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];qn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{qn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];qn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new ct(c)),...r.map(([c])=>new ct(c)),...s.map(([c])=>new ct(c)),...i.map(([c])=>new ct(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new ct(i),c=e.findIndex(u=>u.equals(a));c>=0&&(qn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const XMe="Reached end of buffer unexpectedly";function Bf(n){if(n.length===0)throw new Error(XMe);return n.shift()}function mu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(XMe);return n.splice(...e)}class xd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ct(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new SB(this.staticAccountKeys)}static compile(e){const t=wL.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new SB(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new xd({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Vu(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];Vu(f,y.length);let g=[];return Vu(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Vu(s,r.length);let i=V.Buffer.alloc(pp);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=F([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=F([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(wn("key"),e,"keys"),wn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>sn(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=Bf(t);if(r!==(r&AL))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Bf(t),i=Bf(t),o=gu(t);let a=[];for(let y=0;y<o;y++){const h=mu(t,0,Yf);a.push(new ct(V.Buffer.from(h)))}const c=mu(t,0,Yf),u=gu(t);let l=[];for(let y=0;y<u;y++){const h=Bf(t),m=gu(t),f=mu(t,0,m),g=gu(t),b=mu(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new xd(d)}}class LS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new SB(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=wL.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new SB(a,s).compileInstructions(e.instructions);return new LS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Vu(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Vu(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Vu(i,this.addressTableLookups.length);const o=F([te("prefix"),F([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(wn(),this.staticAccountKeys.length,"staticAccountKeys"),wn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(pp),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(pp);for(const r of this.compiledInstructions){const s=Array();Vu(s,r.accountKeyIndexes.length);const i=Array();Vu(i,r.data.length),e+=F([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(pp);for(const r of this.addressTableLookups){const s=Array();Vu(s,r.writableIndexes.length);const i=Array();Vu(i,r.readonlyIndexes.length),e+=F([wn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Bf(t),s=r&AL;qn(r!==s,"Expected versioned message but received legacy message");const i=s;qn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:Bf(t),numReadonlySignedAccounts:Bf(t),numReadonlyUnsignedAccounts:Bf(t)},a=[],c=gu(t);for(let m=0;m<c;m++)a.push(new ct(mu(t,0,Yf)));const u=Ie.encode(mu(t,0,Yf)),l=gu(t),d=[];for(let m=0;m<l;m++){const f=Bf(t),g=gu(t),b=mu(t,0,g),S=gu(t),p=new Uint8Array(mu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=gu(t),h=[];for(let m=0;m<y;m++){const f=new ct(mu(t,0,Yf)),g=gu(t),b=mu(t,0,g),S=gu(t),p=mu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new LS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const Xne={deserializeMessageVersion(n){const e=n[0],t=e&AL;return t===e?"legacy":t},deserialize:n=>{const e=Xne.deserializeMessageVersion(n);if(e==="legacy")return xd.from(n);if(e===0)return LS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let wg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const oRt=V.Buffer.alloc(bB).fill(0);class Is{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Xn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Is(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new ct(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{qn(f.programIdIndex>=0),f.accounts.forEach(g=>qn(g>=0))}),new xd({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=Gne(r,s.secretKey);this._addSignature(s.publicKey,sn(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){qn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):ZTt(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Vu(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return qn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(qn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),qn(i.length<=pp,`Transaction too large: ${i.length} > ${pp}`),i}get keys(){return qn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return qn(this.instructions.length===1),this.instructions[0].programId}get data(){return qn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=gu(t);let s=[];for(let i=0;i<r;i++){const o=mu(t,0,bB);s.push(Ie.encode(V.Buffer.from(o)))}return Xn.populate(xd.from(t),s)}static populate(e,t=[]){const r=new Xn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(oRt)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Is({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Qne{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;qn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;qn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new Is({programId:g,data:sn(m.data),keys:f}))}return new Qne({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return xd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return LS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class ese{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)qn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(bB));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Vu(t,this.signatures.length);const r=F([ie(t.length,"encodedSignaturesLength"),we(tRt(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=gu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(mu(t,0,bB)));const i=Xne.deserialize(new Uint8Array(t));return new ese(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));qn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=Gne(t,s.secretKey)}}addSignature(e,t){qn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));qn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const aRt=160,cRt=64,uRt=aRt/cRt,QMe=1e3/uRt,cf=new ct("SysvarC1ock11111111111111111111111111111111"),lRt=new ct("SysvarEpochSchedu1e111111111111111111111111"),dRt=new ct("Sysvar1nstructions1111111111111111111111111"),LD=new ct("SysvarRecentB1ockHashes11111111111111111111"),n_=new ct("SysvarRent111111111111111111111111111111111"),fRt=new ct("SysvarRewards111111111111111111111111111111"),hRt=new ct("SysvarS1otHashes111111111111111111111111111"),gRt=new ct("SysvarS1otHistory11111111111111111111111111"),WD=new ct("SysvarStakeHistory1111111111111111111111111");class kB extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const mRt={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class er extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function zj(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new kB({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function g1(n){return new Promise(e=>setTimeout(e,n))}function zn(n,e){const t=n.layout.span>=0?n.layout.span:JMe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function as(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const eBe=Ae("lamportsPerSignature"),tBe=F([U("version"),U("state"),wn("authorizedPubkey"),wn("nonce"),F([eBe],"feeCalculator")]),$j=tBe.span;class IL{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=tBe.decode(sn(e),0);return new IL({authorizedPubkey:new ct(t.authorizedPubkey),nonce:new ct(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const yRt=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},pRt=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=yRt(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return om(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=nc(o,n);return r(u,a,c)},i},s_=pRt(8);class bRt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ns))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=as(Ns.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new ct(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=as(Ns.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=as(Ns.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new ct(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=as(Ns.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=as(Ns.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ct(t),seed:r,space:s,programId:new ct(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=as(Ns.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ct(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=as(Ns.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ct(t),seed:r,programId:new ct(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=as(Ns.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ct(t),seed:r,lamports:s,space:i,programId:new ct(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=as(Ns.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ct(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),as(Ns.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=as(Ns.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=as(Ns.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ct(t)}}static checkProgramId(e){if(!e.equals(qa.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ns=Object.freeze({Create:{index:0,layout:F([U("instruction"),_e("lamports"),_e("space"),wn("programId")])},Assign:{index:1,layout:F([U("instruction"),wn("programId")])},Transfer:{index:2,layout:F([U("instruction"),s_("lamports")])},CreateWithSeed:{index:3,layout:F([U("instruction"),wn("base"),D1("seed"),_e("lamports"),_e("space"),wn("programId")])},AdvanceNonceAccount:{index:4,layout:F([U("instruction")])},WithdrawNonceAccount:{index:5,layout:F([U("instruction"),_e("lamports")])},InitializeNonceAccount:{index:6,layout:F([U("instruction"),wn("authorized")])},AuthorizeNonceAccount:{index:7,layout:F([U("instruction"),wn("authorized")])},Allocate:{index:8,layout:F([U("instruction"),_e("space")])},AllocateWithSeed:{index:9,layout:F([U("instruction"),wn("base"),D1("seed"),_e("space"),wn("programId")])},AssignWithSeed:{index:10,layout:F([U("instruction"),wn("base"),D1("seed"),wn("programId")])},TransferWithSeed:{index:11,layout:F([U("instruction"),s_("lamports"),D1("seed"),wn("programId")])},UpgradeNonceAccount:{index:12,layout:F([U("instruction")])}});class qa{constructor(){}static createAccount(e){const t=Ns.Create,r=zn(t,{lamports:e.lamports,space:e.space,programId:sn(e.programId.toBuffer())});return new Is({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Ns.TransferWithSeed;t=zn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:sn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Ns.Transfer;t=zn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Is({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Ns.AssignWithSeed;t=zn(s,{base:sn(e.basePubkey.toBuffer()),seed:e.seed,programId:sn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ns.Assign;t=zn(s,{programId:sn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Is({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Ns.CreateWithSeed,r=zn(t,{base:sn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:sn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Is({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Xn;"basePubkey"in e&&"seed"in e?t.add(qa.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:$j,programId:this.programId})):t.add(qa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:$j,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Ns.InitializeNonceAccount,r=zn(t,{authorized:sn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:LD,isSigner:!1,isWritable:!1},{pubkey:n_,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Is(s)}static nonceAdvance(e){const t=Ns.AdvanceNonceAccount,r=zn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:LD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Is(s)}static nonceWithdraw(e){const t=Ns.WithdrawNonceAccount,r=zn(t,{lamports:e.lamports});return new Is({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:LD,isSigner:!1,isWritable:!1},{pubkey:n_,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Ns.AuthorizeNonceAccount,r=zn(t,{authorized:sn(e.newAuthorizedPubkey.toBuffer())});return new Is({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Ns.AllocateWithSeed;t=zn(s,{base:sn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:sn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ns.Allocate;t=zn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Is({keys:r,programId:this.programId,data:t})}}qa.programId=new ct("11111111111111111111111111111111");const SRt=pp-300;class WS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/WS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Xn,h.add(qa.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Xn,h.add(qa.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Xn,h.add(qa.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Xn().add(qa.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await zj(e,h,[t,r],{commitment:"confirmed"})}const o=F([U("instruction"),U("offset"),U("bytesLength"),U("bytesLengthPadding"),we(te("byte"),Vt(U(),-8),"bytes")]),a=WS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Xn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(zj(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await g1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=F([U("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Xn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:n_,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(QMe/2)))}}return!0}}WS.chunkSize=SRt;const kRt=new ct("BPFLoader2111111111111111111111111111111111");class vRt{static getMinNumSignatures(e){return WS.getMinNumSignatures(e)}static load(e,t,r,s,i){return WS.load(e,t,r,i,s)}}function ARt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var TU,$pe;function wRt(){if($pe)return TU;$pe=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return TU=function(r){var s=t(r,!1);if(s!==void 0)return""+s},TU}var IRt=wRt(),Dpe=ARt(IRt);const MC=32;function RU(n){let e=0;for(;n>1;)n/=2,e++;return e}function PRt(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class rBe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=RU(PRt(e+MC+1))-RU(MC)-1,r=this.getSlotsInEpoch(t),s=e-(r-MC);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*MC:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+RU(MC)):this.slotsPerEpoch}}var _Rt=globalThis.fetch;class ERt extends Rb{constructor(e,t,r){const s=i=>{const o=Mb(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function xRt(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Ope=56;class Dj{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=xRt(TRt,e),r=e.length-Ope;qn(r>=0,"lookup table is invalid"),qn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=F([we(wn(),s,"addresses")]).decode(e.slice(Ope));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new ct(t.authority[0]):void 0,addresses:i.map(o=>new ct(o))}}}const TRt={index:1,layout:F([U("typeIndex"),s_("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(wn(),Vt(te(),-1),"authority")])},RRt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function CRt(n){const e=n.match(RRt);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Gi=Vz(qne(ct),Je(),n=>new ct(n)),nBe=jne([Je(),Ci("base64")]),tse=Vz(qne(V.Buffer),nBe,n=>V.Buffer.from(n[0],"base64")),sBe=30*1e3;function MRt(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Ms(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function Kpe(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function iBe(n){return Dc([$e({jsonrpc:Ci("2.0"),id:Je(),result:n}),$e({jsonrpc:Ci("2.0"),id:Je(),error:$e({code:jT(),message:Je(),data:yr(xTt())})})])}const BRt=iBe(jT());function Yr(n){return Vz(iBe(n),BRt,e=>"error"in e?e:{...e,result:St(e.result,n)})}function wo(n){return Yr($e({context:$e({slot:Se()}),value:n}))}function PL(n){return $e({context:$e({slot:Se()}),value:n})}function CU(n,e){return n===0?new LS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new ct(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new xd(e)}const zRt=$e({foundation:Se(),foundationTerm:Se(),initial:Se(),taper:Se(),terminal:Se()}),$Rt=Yr(Et($t($e({epoch:Se(),effectiveSlot:Se(),amount:Se(),postBalance:Se(),commission:yr($t(Se()))})))),DRt=Et($e({slot:Se(),prioritizationFee:Se()})),ORt=$e({total:Se(),validator:Se(),foundation:Se(),epoch:Se()}),KRt=$e({epoch:Se(),slotIndex:Se(),slotsInEpoch:Se(),absoluteSlot:Se(),blockHeight:yr(Se()),transactionCount:yr(Se())}),LRt=$e({slotsPerEpoch:Se(),leaderScheduleSlotOffset:Se(),warmup:ih(),firstNormalEpoch:Se(),firstNormalSlot:Se()}),WRt=FMe(Je(),Et(Se())),vk=$t(Dc([$e({}),Je()])),NRt=$e({err:vk}),FRt=Ci("receivedSignature"),URt=$e({"solana-core":Je(),"feature-set":yr(Se())}),VRt=$e({program:Je(),programId:Gi,parsed:jT()}),qRt=$e({programId:Gi,accounts:Et(Gi),data:Je()}),Lpe=wo($e({err:$t(Dc([$e({}),Je()])),logs:$t(Et(Je())),accounts:yr($t(Et($t($e({executable:ih(),owner:Je(),lamports:Se(),data:Et(Je()),rentEpoch:yr(Se())}))))),unitsConsumed:yr(Se()),returnData:yr($t($e({programId:Je(),data:jne([Je(),Ci("base64")])}))),innerInstructions:yr($t(Et($e({index:Se(),instructions:Et(Dc([VRt,qRt]))}))))})),jRt=wo($e({byIdentity:FMe(Je(),Et(Se())),range:$e({firstSlot:Se(),lastSlot:Se()})}));function HRt(n,e,t,r,s,i){const o=t||_Rt;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new Cb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},GCt)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await g1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function GRt(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function YRt(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const ZRt=Yr(zRt),JRt=Yr(ORt),XRt=Yr(DRt),QRt=Yr(KRt),eCt=Yr(LRt),tCt=Yr(WRt),rCt=Yr(Se()),nCt=wo($e({total:Se(),circulating:Se(),nonCirculating:Se(),nonCirculatingAccounts:Et(Gi)})),Oj=$e({amount:Je(),uiAmount:$t(Se()),decimals:Se(),uiAmountString:yr(Je())}),sCt=wo(Et($e({address:Gi,amount:Je(),uiAmount:$t(Se()),decimals:Se(),uiAmountString:yr(Je())}))),iCt=wo(Et($e({pubkey:Gi,account:$e({executable:ih(),owner:Gi,lamports:Se(),data:tse,rentEpoch:Se()})}))),Kj=$e({program:Je(),parsed:jT(),space:Se()}),oCt=wo(Et($e({pubkey:Gi,account:$e({executable:ih(),owner:Gi,lamports:Se(),data:Kj,rentEpoch:Se()})}))),aCt=wo(Et($e({lamports:Se(),address:Gi}))),vB=$e({executable:ih(),owner:Gi,lamports:Se(),data:tse,rentEpoch:Se()}),cCt=$e({pubkey:Gi,account:vB}),uCt=Vz(Dc([qne(V.Buffer),Kj]),Dc([nBe,Kj]),n=>Array.isArray(n)?St(n,tse):n),Lj=$e({executable:ih(),owner:Gi,lamports:Se(),data:uCt,rentEpoch:Se()}),lCt=$e({pubkey:Gi,account:Lj}),dCt=$e({state:Dc([Ci("active"),Ci("inactive"),Ci("activating"),Ci("deactivating")]),active:Se(),inactive:Se()}),fCt=Yr(Et($e({signature:Je(),slot:Se(),err:vk,memo:$t(Je()),blockTime:yr($t(Se()))}))),hCt=Yr(Et($e({signature:Je(),slot:Se(),err:vk,memo:$t(Je()),blockTime:yr($t(Se()))}))),gCt=$e({subscription:Se(),result:PL(vB)}),mCt=$e({pubkey:Gi,account:vB}),yCt=$e({subscription:Se(),result:PL(mCt)}),pCt=$e({parent:Se(),slot:Se(),root:Se()}),bCt=$e({subscription:Se(),result:pCt}),SCt=Dc([$e({type:Dc([Ci("firstShredReceived"),Ci("completed"),Ci("optimisticConfirmation"),Ci("root")]),slot:Se(),timestamp:Se()}),$e({type:Ci("createdBank"),parent:Se(),slot:Se(),timestamp:Se()}),$e({type:Ci("frozen"),slot:Se(),timestamp:Se(),stats:$e({numTransactionEntries:Se(),numSuccessfulTransactions:Se(),numFailedTransactions:Se(),maxTransactionsPerEntry:Se()})}),$e({type:Ci("dead"),slot:Se(),timestamp:Se(),err:Je()})]),kCt=$e({subscription:Se(),result:SCt}),vCt=$e({subscription:Se(),result:PL(Dc([NRt,FRt]))}),ACt=$e({subscription:Se(),result:Se()}),wCt=$e({pubkey:Je(),gossip:$t(Je()),tpu:$t(Je()),rpc:$t(Je()),version:$t(Je())}),Wpe=$e({votePubkey:Je(),nodePubkey:Je(),activatedStake:Se(),epochVoteAccount:ih(),epochCredits:Et(jne([Se(),Se(),Se()])),commission:Se(),lastVote:Se(),rootSlot:$t(Se())}),ICt=Yr($e({current:Et(Wpe),delinquent:Et(Wpe)})),PCt=Dc([Ci("processed"),Ci("confirmed"),Ci("finalized")]),_Ct=$e({slot:Se(),confirmations:$t(Se()),err:vk,confirmationStatus:yr(PCt)}),ECt=wo(Et($t(_Ct))),xCt=Yr(Se()),oBe=$e({accountKey:Gi,writableIndexes:Et(Se()),readonlyIndexes:Et(Se())}),rse=$e({signatures:Et(Je()),message:$e({accountKeys:Et(Je()),header:$e({numRequiredSignatures:Se(),numReadonlySignedAccounts:Se(),numReadonlyUnsignedAccounts:Se()}),instructions:Et($e({accounts:Et(Se()),data:Je(),programIdIndex:Se()})),recentBlockhash:Je(),addressTableLookups:yr(Et(oBe))})}),aBe=$e({pubkey:Gi,signer:ih(),writable:ih(),source:yr(Dc([Ci("transaction"),Ci("lookupTable")]))}),cBe=$e({accountKeys:Et(aBe),signatures:Et(Je())}),uBe=$e({parsed:jT(),program:Je(),programId:Gi}),lBe=$e({accounts:Et(Gi),data:Je(),programId:Gi}),TCt=Dc([lBe,uBe]),RCt=Dc([$e({parsed:jT(),program:Je(),programId:Je()}),$e({accounts:Et(Je()),data:Je(),programId:Je()})]),dBe=Vz(TCt,RCt,n=>"accounts"in n?St(n,lBe):St(n,uBe)),fBe=$e({signatures:Et(Je()),message:$e({accountKeys:Et(aBe),instructions:Et(dBe),recentBlockhash:Je(),addressTableLookups:yr($t(Et(oBe)))})}),ZO=$e({accountIndex:Se(),mint:Je(),owner:yr(Je()),programId:yr(Je()),uiTokenAmount:Oj}),hBe=$e({writable:Et(Gi),readonly:Et(Gi)}),_L=$e({err:vk,fee:Se(),innerInstructions:yr($t(Et($e({index:Se(),instructions:Et($e({accounts:Et(Se()),data:Je(),programIdIndex:Se()}))})))),preBalances:Et(Se()),postBalances:Et(Se()),logMessages:yr($t(Et(Je()))),preTokenBalances:yr($t(Et(ZO))),postTokenBalances:yr($t(Et(ZO))),loadedAddresses:yr(hBe),computeUnitsConsumed:yr(Se())}),nse=$e({err:vk,fee:Se(),innerInstructions:yr($t(Et($e({index:Se(),instructions:Et(dBe)})))),preBalances:Et(Se()),postBalances:Et(Se()),logMessages:yr($t(Et(Je()))),preTokenBalances:yr($t(Et(ZO))),postTokenBalances:yr($t(Et(ZO))),loadedAddresses:yr(hBe),computeUnitsConsumed:yr(Se())}),HT=Dc([Ci(0),Ci("legacy")]),Ak=$e({pubkey:Je(),lamports:Se(),postBalance:$t(Se()),rewardType:$t(Je()),commission:yr($t(Se()))}),CCt=Yr($t($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:Se(),transactions:Et($e({transaction:rse,meta:$t(_L),version:yr(HT)})),rewards:yr(Et(Ak)),blockTime:$t(Se()),blockHeight:$t(Se())}))),MCt=Yr($t($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:Se(),rewards:yr(Et(Ak)),blockTime:$t(Se()),blockHeight:$t(Se())}))),BCt=Yr($t($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:Se(),transactions:Et($e({transaction:cBe,meta:$t(_L),version:yr(HT)})),rewards:yr(Et(Ak)),blockTime:$t(Se()),blockHeight:$t(Se())}))),zCt=Yr($t($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:Se(),transactions:Et($e({transaction:fBe,meta:$t(nse),version:yr(HT)})),rewards:yr(Et(Ak)),blockTime:$t(Se()),blockHeight:$t(Se())}))),$Ct=Yr($t($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:Se(),transactions:Et($e({transaction:cBe,meta:$t(nse),version:yr(HT)})),rewards:yr(Et(Ak)),blockTime:$t(Se()),blockHeight:$t(Se())}))),DCt=Yr($t($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:Se(),rewards:yr(Et(Ak)),blockTime:$t(Se()),blockHeight:$t(Se())}))),OCt=Yr($t($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:Se(),transactions:Et($e({transaction:rse,meta:$t(_L)})),rewards:yr(Et(Ak)),blockTime:$t(Se())}))),Npe=Yr($t($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:Se(),signatures:Et(Je()),blockTime:$t(Se())}))),MU=Yr($t($e({slot:Se(),meta:$t(_L),blockTime:yr($t(Se())),transaction:rse,version:yr(HT)}))),Z8=Yr($t($e({slot:Se(),transaction:fBe,meta:$t(nse),blockTime:yr($t(Se())),version:yr(HT)}))),KCt=wo($e({blockhash:Je(),feeCalculator:$e({lamportsPerSignature:Se()})})),LCt=wo($e({blockhash:Je(),lastValidBlockHeight:Se()})),WCt=wo(ih()),NCt=$e({slot:Se(),numTransactions:Se(),numSlots:Se(),samplePeriodSecs:Se()}),FCt=Yr(Et(NCt)),UCt=wo($t($e({feeCalculator:$e({lamportsPerSignature:Se()})}))),VCt=Yr(Je()),qCt=Yr(Je()),jCt=$e({err:vk,logs:Et(Je()),signature:Je()}),HCt=$e({result:PL(jCt),subscription:Se()}),GCt={"solana-client":"js/1.0.0-maintenance"};class YCt{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Ms(l),h=this._buildArgs([],d,void 0,y),m=Dpe(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=St(f,Yr(Se()));if("error"in g)throw new er(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=MRt(e),this._rpcWsEndpoint=r||CRt(e),this._rpcClient=HRt(e,s,i,o,a,c),this._rpcRequest=GRt(this._rpcClient),this._rpcBatchRequest=YRt(this._rpcClient),this._rpcWebSocket=new ERt(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=St(o,wo(Se()));if("error"in a)throw new er(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=St(t,Yr($t(Se())));if("error"in r)throw new er(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=St(e,Yr(Se()));if("error"in t)throw new er(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=St(e,rCt);if("error"in t)throw new er(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=St(r,nCt);if("error"in s)throw new er(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=St(s,wo(Oj));if("error"in i)throw new er(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=St(s,wo(Oj));if("error"in i)throw new er(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Ms(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=St(c,iCt);if("error"in u)throw new er(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=St(o,oCt);if("error"in a)throw new er(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=St(s,aCt);if("error"in i)throw new er(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=St(s,sCt);if("error"in i)throw new er(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=St(o,wo($t(vB)));if("error"in a)throw new er(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=St(o,wo($t(Lj)));if("error"in a)throw new er(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Ms(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=St(a,wo(Et($t(Lj))));if("error"in c)throw new er(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Ms(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=St(a,wo(Et($t(vB))));if("error"in c)throw new er(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Ms(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=St(a,Yr(dCt));if("error"in c)throw new er(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Ms(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:Kpe(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=Et(cCt),l=o.withContext===!0?St(c,wo(u)):St(c,Yr(u));if("error"in l)throw new er(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=St(o,Yr(Et(lCt)));if("error"in a)throw new er(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return qn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:wg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:wg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await g1(1e3),i||(h=await y(),i))return;d({__type:wg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===wg.PROCESSED)l=d.response;else throw new Zne(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:wg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await g1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===wg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await g1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new $v(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new $v(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new $v(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new $v(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:wg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===wg.PROCESSED)a=c.response;else throw new Jne(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=St(e,Yr(Et(wCt)));if("error"in t)throw new er(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=St(r,ICt);if("error"in s)throw new er(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Ms(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=St(i,Yr(Se()));if("error"in o)throw new er(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Ms(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=St(i,Yr(Je()));if("error"in o)throw new er(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=St(s,Yr(Et(Gi)));if("error"in i)throw new er(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);qn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=St(s,ECt);if("error"in i)throw new er(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Ms(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=St(i,Yr(Se()));if("error"in o)throw new er(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=St(r,ZRt);if("error"in s)throw new er(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Ms(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=St(a,$Rt);if("error"in c)throw new er(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=St(e,JRt);if("error"in t)throw new er(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Ms(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=St(i,QRt);if("error"in o)throw new er(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=St(e,eCt);if("error"in t)throw new er(t.error,"failed to get epoch schedule");const r=t.result;return new rBe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=St(e,tCt);if("error"in t)throw new er(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=St(s,xCt);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=St(r,KCt);if("error"in s)throw new er(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=St(t,FCt);if("error"in r)throw new er(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=St(s,UCt);if("error"in i)throw new er(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=sn(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=St(i,wo($t(Se())));if("error"in o)throw new er(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=St(s,XRt);if("error"in i)throw new er(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Ms(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=St(i,LCt);if("error"in o)throw new er(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=St(o,WCt);if("error"in a)throw new er(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=St(e,Yr(URt));if("error"in t)throw new er(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=St(e,Yr(Je()));if("error"in t)throw new er(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=St(o,BCt);if("error"in a)throw a.error;return a.result}case"none":{const a=St(o,MCt);if("error"in a)throw a.error;return a.result}default:{const a=St(o,CCt);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:CU(d,u.message)},version:d}))}:null}}}catch(a){throw new er(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=St(o,$Ct);if("error"in a)throw a.error;return a.result}case"none":{const a=St(o,DCt);if("error"in a)throw a.error;return a.result}default:{const a=St(o,zCt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new er(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=St(i,jRt);if("error"in o)throw new er(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=St(o,MU);if("error"in a)throw new er(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:CU(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=St(o,Z8);if("error"in a)throw new er(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Ms(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=St(c,Z8);if("error"in u)throw new er(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Ms(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=St(c,MU);if("error"in u)throw new er(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:CU(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=St(s,OCt);if("error"in i)throw new er(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new xd(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Xn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=St(i,Yr(Et(Se())));if("error"in o)throw new er(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=St(s,Npe);if("error"in i)throw new er(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=St(s,Npe);if("error"in i)throw new er(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=St(s,MU);if("error"in i)throw new er(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new xd(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Xn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=St(s,Z8);if("error"in i)throw new er(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=St(o,Z8);if("error"in a)throw new er(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=St(i,fCt);if("error"in o)throw new er(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=St(i,hCt);if("error"in o)throw new er(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new Dj({key:e,state:Dj.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=IL.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=St(r,VCt);if("error"in s)throw new er(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await g1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=sBe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await g1(QMe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Ms(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=St(i,wo(Se()));if("error"in o)throw new er(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=St(p,Lpe);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Xn){let m=e;s=new Xn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Xn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=St(y,Lpe);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new kB({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=sn(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=St(a,qCt);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new kB({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=St(e,gCt);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=Dpe([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];qn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Ms(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=St(e,yCt);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Ms(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:Kpe(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=St(e,HCt);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=St(e,bCt);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=St(e,kCt);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=St(e,vCt);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=St(e,ACt);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class gA{constructor(e){this._keypair=void 0,this._keypair=e??Mpe()}static generate(){return new gA(Mpe())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=YO(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new gA({publicKey:r,secretKey:e})}static fromSeed(e){const t=YO(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new gA({publicKey:t,secretKey:r})}get publicKey(){return new ct(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Lg=Object.freeze({CreateLookupTable:{index:0,layout:F([U("instruction"),s_("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:F([U("instruction")])},ExtendLookupTable:{index:2,layout:F([U("instruction"),s_(),we(wn(),Vt(U(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:F([U("instruction")])},CloseLookupTable:{index:4,layout:F([U("instruction")])}});class ZCt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Lg))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=as(Lg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=as(Lg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new ct(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(sse.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class sse{constructor(){}static createLookupTable(e){const[t,r]=ct.findProgramAddressSync([e.authority.toBuffer(),nc(BigInt(e.recentSlot),8)],this.programId),s=Lg.CreateLookupTable,i=zn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:qa.programId,isSigner:!1,isWritable:!1}];return[new Is({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Lg.FreezeLookupTable,r=zn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Is({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Lg.ExtendLookupTable,r=zn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:qa.programId,isSigner:!1,isWritable:!1}),new Is({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Lg.DeactivateLookupTable,r=zn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Is({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Lg.CloseLookupTable,r=zn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Is({programId:this.programId,keys:s,data:r})}}sse.programId=new ct("AddressLookupTab1e1111111111111111111111111");class JCt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(zf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=as(zf.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=as(zf.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=as(zf.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=as(zf.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(ise.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const zf=Object.freeze({RequestUnits:{index:0,layout:F([te("instruction"),U("units"),U("additionalFee")])},RequestHeapFrame:{index:1,layout:F([te("instruction"),U("bytes")])},SetComputeUnitLimit:{index:2,layout:F([te("instruction"),U("units")])},SetComputeUnitPrice:{index:3,layout:F([te("instruction"),s_("microLamports")])}});class ise{constructor(){}static requestUnits(e){const t=zf.RequestUnits,r=zn(t,e);return new Is({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=zf.RequestHeapFrame,r=zn(t,e);return new Is({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=zf.SetComputeUnitLimit,r=zn(t,e);return new Is({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=zf.SetComputeUnitPrice,r=zn(t,{microLamports:BigInt(e.microLamports)});return new Is({keys:[],programId:this.programId,data:r})}}ise.programId=new ct("ComputeBudget111111111111111111111111111111");const Fpe=64,Upe=32,Vpe=64,qpe=F([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class EL{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;qn(t.length===Upe,`Public Key must be ${Upe} bytes but received ${t.length} bytes`),qn(s.length===Vpe,`Signature must be ${Vpe} bytes but received ${s.length} bytes`);const o=qpe.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return qpe.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new Is({keys:[],programId:EL.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;qn(t.length===Fpe,`Private key must be ${Fpe} bytes but received ${t.length} bytes`);try{const i=gA.fromSecretKey(t),o=i.publicKey.toBytes(),a=Gne(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}EL.programId=new ct("Ed25519SigVerify111111111111111111111111111");const XCt=(n,e)=>{const t=vL.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};vL.utils.isValidPrivateKey;const QCt=vL.getPublicKey,jpe=32,BU=20,Hpe=64,e2t=11,zU=F([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class mA{constructor(){}static publicKeyToEthAddress(e){qn(e.length===Hpe,`Public key must be ${Hpe} bytes but received ${e.length} bytes`);try{return V.Buffer.from(Epe(sn(e))).slice(-BU)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return mA.createInstructionWithEthAddress({ethAddress:mA.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,qn(a.length===BU,`Address must be ${BU} bytes but received ${a.length} bytes`);const c=1+e2t,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(zU.span+r.length);return zU.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:sn(s),ethAddress:sn(a),recoveryId:i},h),h.fill(sn(r),zU.span),new Is({keys:[],programId:mA.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;qn(t.length===jpe,`Private key must be ${jpe} bytes but received ${t.length} bytes`);try{const i=sn(t),o=QCt(i,!1).slice(1),a=V.Buffer.from(Epe(sn(r))),[c,u]=XCt(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}mA.programId=new ct("KeccakSecp256k11111111111111111111111111111");var gBe;const mBe=new ct("StakeConfig11111111111111111111111111111111");class yBe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class qz{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}gBe=qz;qz.default=new gBe(0,0,ct.default);class t2t{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(_a))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=as(_a.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new yBe(new ct(t.staker),new ct(t.withdrawer)),lockup:new qz(r.unixTimestamp,r.epoch,new ct(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),as(_a.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=as(_a.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ct(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=as(_a.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new ct(i),newAuthorizedPubkey:new ct(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=as(_a.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),as(_a.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=as(_a.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),as(_a.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(xL.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const _a=Object.freeze({Initialize:{index:0,layout:F([U("instruction"),rRt(),nRt()])},Authorize:{index:1,layout:F([U("instruction"),wn("newAuthorized"),U("stakeAuthorizationType")])},Delegate:{index:2,layout:F([U("instruction")])},Split:{index:3,layout:F([U("instruction"),_e("lamports")])},Withdraw:{index:4,layout:F([U("instruction"),_e("lamports")])},Deactivate:{index:5,layout:F([U("instruction")])},Merge:{index:7,layout:F([U("instruction")])},AuthorizeWithSeed:{index:8,layout:F([U("instruction"),wn("newAuthorized"),U("stakeAuthorizationType"),D1("authoritySeed"),wn("authorityOwner")])}}),r2t=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class xL{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||qz.default,o=_a.Initialize,a=zn(o,{authorized:{staker:sn(r.staker.toBuffer()),withdrawer:sn(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:sn(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n_,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Is(c)}static createAccountWithSeed(e){const t=new Xn;t.add(qa.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Xn;t.add(qa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=_a.Delegate,o=zn(i);return new Xn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:cf,isSigner:!1,isWritable:!1},{pubkey:WD,isSigner:!1,isWritable:!1},{pubkey:mBe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=_a.Authorize,c=zn(a,{newAuthorized:sn(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Xn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=_a.AuthorizeWithSeed,l=zn(u,{newAuthorized:sn(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:sn(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:cf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Xn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=_a.Split,a=zn(o,{lamports:i});return new Is({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Xn;return r.add(qa.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Xn;return u.add(qa.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(qa.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=_a.Merge,o=zn(i);return new Xn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:cf,isSigner:!1,isWritable:!1},{pubkey:WD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=_a.Withdraw,c=zn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:cf,isSigner:!1,isWritable:!1},{pubkey:WD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Xn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=_a.Deactivate,i=zn(s);return new Xn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}xL.programId=new ct("Stake11111111111111111111111111111111111111");xL.space=200;class pBe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class n2t{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries($f))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=as($f.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new pBe(new ct(t.nodePubkey),new ct(t.authorizedVoter),new ct(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=as($f.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ct(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=as($f.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ct(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new ct(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=as($f.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(GT.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const $f=Object.freeze({InitializeAccount:{index:0,layout:F([U("instruction"),sRt()])},Authorize:{index:1,layout:F([U("instruction"),wn("newAuthorized"),U("voteAuthorizationType")])},Withdraw:{index:3,layout:F([U("instruction"),_e("lamports")])},UpdateValidatorIdentity:{index:4,layout:F([U("instruction")])},AuthorizeWithSeed:{index:10,layout:F([U("instruction"),iRt()])}}),s2t=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class GT{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=$f.InitializeAccount,o=zn(i,{voteInit:{nodePubkey:sn(s.nodePubkey.toBuffer()),authorizedVoter:sn(s.authorizedVoter.toBuffer()),authorizedWithdrawer:sn(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n_,isSigner:!1,isWritable:!1},{pubkey:cf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Is(a)}static createAccount(e){const t=new Xn;return t.add(qa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=$f.Authorize,a=zn(o,{newAuthorized:sn(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Xn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=$f.AuthorizeWithSeed,u=zn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:sn(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:sn(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:cf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Xn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=$f.Withdraw,a=zn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Xn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return GT.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=$f.UpdateValidatorIdentity,o=zn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Xn().add({keys:a,programId:this.programId,data:o})}}GT.programId=new ct("Vote111111111111111111111111111111111111111");GT.space=3762;const bBe=new ct("Va1idator1nfo111111111111111111111111111111"),i2t=$e({name:Je(),website:yr(Je()),details:yr(Je()),iconUrl:yr(Je()),keybaseUsername:yr(Je())});class ose{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(gu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new ct(mu(t,0,Yf)),a=Bf(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(bBe)&&s[1].isSigner){const i=D1().decode(V.Buffer.from(t)),o=JSON.parse(i);return WMe(o,i2t),new ose(s[1].publicKey,o)}return null}}const o2t=new ct("Vote111111111111111111111111111111111111111"),a2t=F([wn("nodePubkey"),wn("authorizedWithdrawer"),te("commission"),Ae(),we(F([Ae("slot"),U("confirmationCount")]),Vt(U(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(F([Ae("epoch"),wn("authorizedVoter")]),Vt(U(),-8),"authorizedVoters"),F([we(F([wn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(F([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(U(),-8),"epochCredits"),F([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class ase{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=a2t.decode(sn(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new ase({nodePubkey:new ct(r.nodePubkey),authorizedWithdrawer:new ct(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(c2t),priorVoters:u2t(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function c2t({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new ct(n)}}function Gpe({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new ct(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function u2t({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(Gpe),...n.slice(0,e).map(Gpe)]}const Ype={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function l2t(n,e){const t=e===!1?"http":"https";if(!n)return Ype[t].devnet;const r=Ype[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function d2t(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new kB({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const f2t=1e9;var h2t=Object.freeze(Object.defineProperty({__proto__:null,Account:QTt,AddressLookupTableAccount:Dj,AddressLookupTableInstruction:ZCt,AddressLookupTableProgram:sse,Authorized:yBe,BLOCKHASH_CACHE_TIMEOUT_MS:sBe,BPF_LOADER_DEPRECATED_PROGRAM_ID:eRt,BPF_LOADER_PROGRAM_ID:kRt,BpfLoader:vRt,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:zf,ComputeBudgetInstruction:JCt,ComputeBudgetProgram:ise,Connection:YCt,Ed25519Program:EL,Enum:JTt,EpochSchedule:rBe,FeeCalculatorLayout:eBe,Keypair:gA,LAMPORTS_PER_SOL:f2t,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Lg,Loader:WS,Lockup:qz,MAX_SEED_LENGTH:ZMe,Message:xd,MessageAccountKeys:SB,MessageV0:LS,NONCE_ACCOUNT_LENGTH:$j,NonceAccount:IL,PACKET_DATA_SIZE:pp,PUBLIC_KEY_LENGTH:Yf,PublicKey:ct,SIGNATURE_LENGTH_IN_BYTES:bB,SOLANA_SCHEMA:G2,STAKE_CONFIG_ID:mBe,STAKE_INSTRUCTION_LAYOUTS:_a,SYSTEM_INSTRUCTION_LAYOUTS:Ns,SYSVAR_CLOCK_PUBKEY:cf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:lRt,SYSVAR_INSTRUCTIONS_PUBKEY:dRt,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:LD,SYSVAR_RENT_PUBKEY:n_,SYSVAR_REWARDS_PUBKEY:fRt,SYSVAR_SLOT_HASHES_PUBKEY:hRt,SYSVAR_SLOT_HISTORY_PUBKEY:gRt,SYSVAR_STAKE_HISTORY_PUBKEY:WD,Secp256k1Program:mA,SendTransactionError:kB,SolanaJSONRPCError:er,SolanaJSONRPCErrorCode:mRt,StakeAuthorizationLayout:r2t,StakeInstruction:t2t,StakeProgram:xL,Struct:Yne,SystemInstruction:bRt,SystemProgram:qa,Transaction:Xn,TransactionExpiredBlockheightExceededError:Zne,TransactionExpiredNonceInvalidError:$v,TransactionExpiredTimeoutError:Jne,TransactionInstruction:Is,TransactionMessage:Qne,TransactionStatus:wg,VALIDATOR_INFO_KEY:bBe,VERSION_PREFIX_MASK:AL,VOTE_PROGRAM_ID:o2t,ValidatorInfo:ose,VersionedMessage:Xne,VersionedTransaction:ese,VoteAccount:ase,VoteAuthorizationLayout:s2t,VoteInit:pBe,VoteInstruction:n2t,VoteProgram:GT,clusterApiUrl:l2t,sendAndConfirmRawTransaction:d2t,sendAndConfirmTransaction:zj},Symbol.toStringTag,{value:"Module"})),lc=Td(h2t),js={},cse={},TL={};Object.defineProperty(TL,"__esModule",{value:!0});TL.IDL=void 0;TL.IDL={version:"0.1.0",name:"crew",instructions:[{name:"closeAccounts",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"recipient",isMut:!0,isSigner:!1,docs:["The recipient - receives the account rent",""]},{name:"crewConfig",isMut:!0,isSigner:!1,docs:["The crew config to potentially close. All remaining accounts must be dependent on this account",""]}],args:[{name:"input",type:{defined:"CloseAccountsInput"}}]},{name:"mintCrewMember",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The auth profile"]},{name:"rentRecipient",isMut:!0,isSigner:!1,docs:["The account to receive refunded rent if all crew have been minted"]},{name:"crewConfig",isMut:!0,isSigner:!1,docs:["The registered Crew Config for the deployed Crew program"]},{name:"owner",isMut:!0,isSigner:!1,docs:["The owner of the crew that will be minted. This is validated to be either the `owner` on the","[`UserRedemption`] account or the `sage_player_profile` if remaining accounts are provided.","Marked as mutable to allow being used for direct minting.",""]},{name:"userRedemption",isMut:!0,isSigner:!1,docs:["The user redemption account to be created which holds data about the crew to be minted"]},{name:"packType",isMut:!1,isSigner:!1,docs:["The pack type that is being redeemed."]},{name:"packTiers",isMut:!1,isSigner:!1,docs:["Account containing the probability tiers for the `PackType`"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]},{name:"collectionMint",isMut:!1,isSigner:!1,docs:["The collection mint"]},{name:"collectionMetadata",isMut:!0,isSigner:!1,docs:["The collection metadata"]},{name:"collectionEdition",isMut:!1,isSigner:!1,docs:["The collection edition"]},{name:"compressionProgram",isMut:!1,isSigner:!1,docs:["The compression program"]},{name:"bubblegumProgram",isMut:!1,isSigner:!1,docs:["The bubblegum program"]},{name:"logWrapper",isMut:!1,isSigner:!1,docs:["The log wrapper"]},{name:"treeConfig",isMut:!0,isSigner:!1,docs:["The tree config"]},{name:"merkleTree",isMut:!0,isSigner:!1,docs:["The merkle tree to place the crew member in"]},{name:"collectionAuthorityRecordPda",isMut:!1,isSigner:!1,docs:["The collection authority record PDA"]},{name:"serverHashPreimage",isMut:!1,isSigner:!1,docs:["The preimage bytes of the server hash in the user redemption."]}],args:[{name:"input",type:{defined:"MintCrewMemberInput"}}]},{name:"redeemCrewPack",accounts:[{name:"packSftAuthority",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew config's authority profile"]},{name:"profileKey",isMut:!1,isSigner:!0,docs:["The key authorized with PROVIDE_SERVER_HASH permissions"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the instruction and new accounts"]},{name:"owner",isMut:!1,isSigner:!1,docs:["The user's profile with permissions to redeem crew packs"]},{name:"userRedemption",isMut:!0,isSigner:!1,docs:["The user redemption account to be created which holds data about the crew to be minted"]},{name:"sftRedemption",isMut:!1,isSigner:!1,docs:["The `SftRedemption` account to be used"]},{name:"packType",isMut:!1,isSigner:!1,docs:["The pack type that is being redeemed."]},{name:"packTiers",isMut:!1,isSigner:!1,docs:["Account containing the probability tiers for the `PackType`"]},{name:"crewConfig",isMut:!0,isSigner:!1,docs:["The Crew Config account for the deployed Crew program"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The account that holds the user's Crew Pack SPL tokens."]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program."]},{name:"instructionsSysvar",isMut:!1,isSigner:!1,docs:["Solana Instructions Sysvar"]},{name:"recentSlothashes",isMut:!1,isSigner:!1,docs:["Solana recent slothashes"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]}],args:[{name:"input",type:{defined:"RedeemCrewPacksInput"}}]},{name:"registerCrewConfig",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"crewConfig",isMut:!0,isSigner:!1,docs:["The associated pack type which represents the pack type that is being registered."]},{name:"seedPubkey",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]}],args:[{name:"args",type:{defined:"RegisterCrewConfigArgs"}}]},{name:"registerPackTiers",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"packTiers",isMut:!0,isSigner:!1,docs:["The associated pack type which represents the pack type that is being registered."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The registered Crew Config for the deployed Crew program"]}],args:[{name:"input",type:{defined:"RegisterPackTiersInput"}}]},{name:"registerPackType",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"packType",isMut:!0,isSigner:!1,docs:["The associated pack type which represents the pack type that is being registered."]},{name:"packTiers",isMut:!1,isSigner:!1,docs:["Account defining the probability tiers for the new `PackType`"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The registered Crew Config for the deployed Crew program"]}],args:[{name:"input",type:{defined:"RegisterPackTypeInput"}}]},{name:"registerSftRedemption",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"sftRedemptionData",isMut:!0,isSigner:!1,docs:["The `SftRedemption` account to be created"]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The registered Crew Config for the deployed Crew program"]},{name:"packType",isMut:!1,isSigner:!1,docs:["The associated pack type which represents the pack that is being redeemed."]},{name:"sftMint",isMut:!1,isSigner:!1,docs:["The associated mint which represents the mint of the SFT that is being exchanged."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]}],args:[{name:"input",type:{defined:"RegisterSftRedemptionInput"}}]},{name:"updateCrewConfig",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"crewConfig",isMut:!0,isSigner:!1,docs:["The associated pack type which represents the pack type that is being registered."]}],args:[{name:"args",type:{defined:"UpdateCrewConfigArgs"}}]},{name:"updatePackTiers",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"packTiers",isMut:!0,isSigner:!1,docs:["The associated pack type which represents the pack type that is being updated."]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The registered Crew Config for the deployed Crew program"]}],args:[{name:"input",type:{defined:"UpdatePackTiersInput"}}]}],accounts:[{name:"crewConfig",docs:["`CrewConfig` is the main auth account that manages access to crew operations"],type:{kind:"struct",fields:[{name:"version",docs:["The data version"],type:"u8"},{name:"seedPubkey",docs:["Used as random bytes for the seed to allow for multiple CrewConfig accounts"],type:"publicKey"},{name:"bump",docs:["The bump seed"],type:"u8"},{name:"profile",docs:["auth profile"],type:"publicKey"},{name:"namePrefix",docs:["The name prefix"],type:{array:["u8",32]}},{name:"namePrefixLen",docs:["The length of the name prefix"],type:"u8"},{name:"symbol",docs:["The symbol"],type:{array:["u8",10]}},{name:"symbolLen",docs:["The length of the symbol"],type:"u8"},{name:"uriPrefix",docs:["The uri prefix"],type:{array:["u8",40]}},{name:"uriPrefixLen",docs:["The length of the uri prefix"],type:"u8"},{name:"sellerFeeBasisPoints",docs:["Royalty rate for the collection"],type:"u16"},{name:"collectionMint",docs:["The collection the crew belongs to"],type:"publicKey"},{name:"creators",docs:["The creators who will split any royalties"],type:{array:[{defined:"CrewCreator"},4]}},{name:"creatorCount",docs:["The number of creators"],type:"u8"},{name:"totalMinted",docs:["Total crew minted"],type:"u32"},{name:"totalAllocated",docs:["Total crew allocated to user redemption accounts"],type:"u32"}]}},{name:"packTiers",docs:["`PackTiers` is a data structure used for defining the odds of rolling each rarity of card in a pack."],type:{kind:"struct",fields:[{name:"version",docs:["The data version"],type:"u8"},{name:"crewConfig",type:"publicKey"},{name:"seedPubkey",docs:["The pubkey used as a PDA seed"],type:"publicKey"},{name:"tier",docs:["The tier of the pack"],type:"u8"},{name:"bump",docs:["The bump seed"],type:"u8"},{name:"common",docs:["The weight for rolling a common card"],type:"u32"},{name:"uncommon",docs:["The weight for rolling an uncommon card"],type:"u32"},{name:"rare",docs:["The weight for rolling a rare card"],type:"u32"},{name:"epic",docs:["The weight for rolling an epic card"],type:"u32"},{name:"legendary",docs:["The weight for rolling a legendary card"],type:"u32"},{name:"anomaly",docs:["The weight for rolling an anomaly card"],type:"u32"}]}},{name:"packType",docs:["`PackType` is a data structure used for defining the different types of packs that can be opened in the Crew program."],type:{kind:"struct",fields:[{name:"version",docs:["The data version"],type:"u8"},{name:"bump",docs:["The bump seed"],type:"u8"},{name:"crewConfig",docs:["The associated crew config account"],type:"publicKey"},{name:"packTiers",docs:["The tier of the pack"],type:"publicKey"},{name:"faction",docs:["The faction of the pack"],type:"u8"}]}},{name:"sftRedemption",docs:["`SftRedemption` is a data account used for handling the redemption of SFTs in the Crew program.","This account details the number and type of cNFTs that are to be minted in exchange for the given SFT."],type:{kind:"struct",fields:[{name:"version",docs:["The data version"],type:"u8"},{name:"bump",docs:["the bump seed"],type:"u8"},{name:"packType",docs:["The pack type that is being redeemed."],type:"publicKey"},{name:"sftMint",docs:["The mint of the SFT that is being exchanged."],type:"publicKey"},{name:"crewConfig",docs:["The registered Crew Config for the deployed Crew program"],type:"publicKey"},{name:"redemptionAmount",docs:["The number of cNFTs being received in exchange for the SFT"],type:"u32"}]}},{name:"userRedemption",docs:["`UserRedemption` is a data structure used for handling the redemption of cNFTs by users in the Crew program."],type:{kind:"struct",fields:[{name:"version",docs:["The data version"],type:"u8"},{name:"bump",docs:["The bump seed"],type:"u8"},{name:"crewConfig",docs:["The associated crew config account"],type:"publicKey"},{name:"seedPubkey",docs:["The pubkey used to derive the address of the UserRedemption account."],type:"publicKey"},{name:"owner",docs:["The account that recieves the minted cNFTs"],type:"publicKey"},{name:"mintOffset",docs:["The number of cNFTs that had already been allocated when this account was created. All","cNFTs minted from this account calculate their mint number (i.e. NFT #0, #100, etc.) from this offset."],type:"u32"},{name:"amount",docs:["Total number of CNFTs this account is responsible for."],type:"u32"},{name:"numberMinted",docs:["The number of `cNFTs` that have been minted."],type:"u32"},{name:"packType",docs:["The pack type that is being redeemed."],type:"publicKey"},{name:"userSeed",docs:["The user provided hash used to generate the pseudo-random data."],type:{array:["u8",32]}},{name:"serverHash",docs:["The system hash used to generate the pseudo-random data."],type:{array:["u8",32]}},{name:"sageProfile",docs:["Optional sage profile key for minting directly to sage"],type:"publicKey"}]}}],types:[{name:"CloseAccountsInput",type:{kind:"struct",fields:[{name:"keyIndex",type:"u16"},{name:"closeCrewConfig",type:"bool"}]}},{name:"CrewCreator",docs:["A creator on the crew collection"],type:{kind:"struct",fields:[{name:"key",docs:["The creator's key"],type:"publicKey"},{name:"share",docs:["The creator's share of royalties"],type:"u8"}]}},{name:"CrewCreatorUnpacked",docs:["Unpacked version of [`CrewCreator`]"],type:{kind:"struct",fields:[{name:"key",docs:["The creator's key"],type:"publicKey"},{name:"share",docs:["The creator's share of royalties"],type:"u8"}]}},{name:"MintCrewMemberInput",docs:["The input for the `redeem_crew_packs` instruction."],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the profile's permissions list"],type:"u16"},{name:"userRedemptionIndex",docs:["The index of the crew member in the `UserRedemption` account"],type:"u32"},{name:"dataHash",docs:["The hash of the off chain data"],type:{array:["u8",16]}}]}},{name:"RedeemCrewPacksInput",docs:["Input for redeeming crew packs via `RedeemCrewPacks`"],type:{kind:"struct",fields:[{name:"quantity",docs:["The number of crew pack SFTs to redeem"],type:"u32"},{name:"seedPubkey",docs:["A pubkey to use as a seed for the `UserRedemption` account"],type:"publicKey"},{name:"serverHash",docs:["Server provided sha256 hash of a random pubkey preimage used during minting"],type:{array:["u8",32]}},{name:"keyIndex",docs:["The index of the profile_key in the profile's permission list"],type:"u16"}]}},{name:"RegisterCrewConfigArgs",docs:["Arguments for the `register_crew_config` instruction."],type:{kind:"struct",fields:[{name:"namePrefix",docs:["The name prefix to use for all minted crew"],type:"string"},{name:"symbol",docs:["The symbol to use for all minted crew"],type:"string"},{name:"uriPrefix",docs:["The URI prefix to use for all minted crew"],type:"string"},{name:"sellerFeeBasisPoints",docs:["The fee basis points to charge for selling crew"],type:"u16"},{name:"collection",docs:["The mint that will be used for all crew"],type:"publicKey"},{name:"creators",docs:["The creators of the crew and their share of the royalties"],type:{vec:{defined:"CrewCreatorUnpacked"}}}]}},{name:"RegisterPackTiersInput",docs:["`RegisterPackTiersInput` is a data structure used for handling the input parameters","for the `register_pack_tiers` function in the Crew program."],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the authorizing key in the crew permissions profile"],type:"u16"},{name:"seedPubkey",docs:["The seed pubkey for the pack tiers"],type:"publicKey"},{name:"packTier",docs:["The tier of the pack to be registered"],type:"u8"},{name:"common",docs:["The weight for receiving a common card"],type:"u32"},{name:"uncommon",docs:["The weight for receiving an uncommon card"],type:"u32"},{name:"rare",docs:["The weight for receiving a rare card"],type:"u32"},{name:"epic",docs:["The weight for receiving an epic card"],type:"u32"},{name:"legendary",docs:["The weight for receiving a legendary card"],type:"u32"},{name:"anomaly",docs:["The weight for receiving an anomaly card"],type:"u32"}]}},{name:"RegisterPackTypeInput",docs:["`RegisterPackTypeInput` is a data structure used for handling the input parameters","for the `register_pack_type` function in the Crew program."],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the authorizing key in the crew permissions profile"],type:"u16"},{name:"faction",docs:["The faction of the pack"],type:"u8"}]}},{name:"RegisterSftRedemptionInput",docs:["`RegisterSftRedemptionInput` is a data structure used for handling the input parameters","for the `register_sft_redemption` function in the Crew program."],type:{kind:"struct",fields:[{name:"redemptionAmount",docs:["The number of cNFTs being received in exchange for the SFT"],type:"u32"},{name:"keyIndex",docs:["the index of the authorizing key in the crew permissions profile"],type:"u16"}]}},{name:"UpdateCrewConfigArgs",docs:["Arguments for the `update_crew_config` instruction."],type:{kind:"struct",fields:[{name:"keyIndex",type:"u16"},{name:"namePrefix",docs:["The name prefix to use for all minted crew"],type:{option:"string"}},{name:"symbol",docs:["The symbol to use for all minted crew"],type:{option:"string"}},{name:"uriPrefix",docs:["The URI prefix to use for all minted crew"],type:{option:"string"}},{name:"sellerFeeBasisPoints",docs:["The fee basis points to charge for selling crew"],type:{option:"u16"}},{name:"collection",docs:["The mint that will be used for all crew"],type:{option:"publicKey"}},{name:"creators",docs:["The creators of the crew and their share of the royalties"],type:{option:{vec:{defined:"CrewCreatorUnpacked"}}}}]}},{name:"UpdatePackTiersInput",docs:["`UpdatePackTiersInput` is a data structure used for handling the input parameters","for the `update_pack_tiers` function in the Crew program."],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the authorizing key in the crew permissions profile"],type:"u16"},{name:"common",docs:["The weight for receiving a common card"],type:{option:"u32"}},{name:"uncommon",docs:["The weight for receiving an uncommon card"],type:{option:"u32"}},{name:"rare",docs:["The weight for receiving a rare card"],type:{option:"u32"}},{name:"epic",docs:["The weight for receiving an epic card"],type:{option:"u32"}},{name:"legendary",docs:["The weight for receiving a legendary card"],type:{option:"u32"}},{name:"anomaly",docs:["The weight for receiving an anomaly card"],type:{option:"u32"}}]}}],errors:[{code:6e3,name:"AmountRequired",msg:"Amount Required"},{code:6001,name:"InvalidMint",msg:"Invalid Mint"},{code:6002,name:"AddressMismatch",msg:"Address Mismatch"},{code:6003,name:"PackTypeMismatch",msg:"Pack Type Mismatch"},{code:6004,name:"CrewConfigMismatch",msg:"Crew Config Mismatch"},{code:6005,name:"InvalidOdds",msg:"The provided odds do not sum to 100%"},{code:6006,name:"IndexOutOfBounds",msg:"Index Out of Bounds"},{code:6007,name:"RedemptionIndexOutOfBounds",msg:"Redemption index out of bounds"},{code:6008,name:"CrewAlreadyMinted",msg:"Crew at redemption index already minted"},{code:6009,name:"InvalidMerkleTree",msg:"Can only mint crew to trees listed in crew config"},{code:6010,name:"InvalidTransactionData",msg:"RedeemCrewPacks must be the only non compute budget ix in the transaction"},{code:6011,name:"NamePrefixTooLong",msg:"Name prefix must be 32 bytes or less"},{code:6012,name:"URIPrefixTooLong",msg:"URI prefix must be 40 bytes or less"},{code:6013,name:"SymbolTooLong",msg:"Symbol must be 10 bytes or less"},{code:6014,name:"TooManyCreators",msg:"Can't have more than 4 creators"},{code:6015,name:"InvalidCreatorShares",msg:"Shares must equal 100"},{code:6016,name:"ProfileMismatch",msg:"Profile mismatch"},{code:6017,name:"HashMismatch",msg:"Hash of provided preimage mismatch"},{code:6018,name:"NoSageProfile",msg:"Remaining accounts exist during minting with no sage profile set"},{code:6019,name:"InvalidMintingRemainingAccounts",msg:"Invalid number of remaining accounts for minting"}]};(function(n){var e=K&&K.__createBinding||(Object.create?function(y,h,m,f){f===void 0&&(f=m);var g=Object.getOwnPropertyDescriptor(h,m);(!g||("get"in g?!h.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return h[m]}}),Object.defineProperty(y,f,g)}:function(y,h,m,f){f===void 0&&(f=m),y[f]=h[m]}),t=K&&K.__setModuleDefault||(Object.create?function(y,h){Object.defineProperty(y,"default",{enumerable:!0,value:h})}:function(y,h){y.default=h}),r=K&&K.__decorate||function(y,h,m,f){var g=arguments.length,b=g<3?h:f===null?f=Object.getOwnPropertyDescriptor(h,m):f,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(y,h,m,f);else for(var p=y.length-1;p>=0;p--)(S=y[p])&&(b=(g<3?S(b):g>3?S(h,m,b):S(h,m))||b);return g>3&&b&&Object.defineProperty(h,m,b),b},s=K&&K.__importStar||function(y){if(y&&y.__esModule)return y;var h={};if(y!=null)for(var m in y)m!=="default"&&Object.prototype.hasOwnProperty.call(y,m)&&e(h,y,m);return t(h,y),h},i=K&&K.__metadata||function(y,h){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(y,h)};Object.defineProperty(n,"__esModule",{value:!0}),n.optionalEquals=n.CrewProgram=n.crewErrorMap=n.CREW_IDL=void 0;const o=s(cc),a=s(tr),c=TL;Object.defineProperty(n,"CREW_IDL",{enumerable:!0,get:function(){return c.IDL}});const u=Cd;n.crewErrorMap=a.generateErrorMap(c.IDL);let l=class extends a.ListenProgram{constructor(h){super(h,{crewConfig:u.CrewConfig,packTiers:u.PackTiers,packType:u.PackType,sftRedemption:u.SftRedemption,userRedemption:u.UserRedemption})}static buildProgram(h,m,f){return new o.Program(c.IDL,h,m,f)}};n.CrewProgram=l,n.CrewProgram=l=r([a.staticImplements(),i("design:paramtypes",[Object])],l);function d(y,h,m){return y===null&&h===null?!0:y===null||h===null?!1:m(y,h)}n.optionalEquals=d})(cse);var g2t=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),m2t=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),use=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&g2t(e,n,t);return m2t(e,n),e};Object.defineProperty(js,"__esModule",{value:!0});js.updatePackTiersInputEquals=js.updateCrewConfigArgsEquals=js.registerSftRedemptionInputEquals=js.registerPackTypeInputEquals=js.registerPackTiersInputEquals=js.registerCrewConfigArgsEquals=js.redeemCrewPacksInputEquals=js.mintCrewMemberInputEquals=js.crewCreatorUnpackedEquals=js.crewCreatorEquals=js.closeAccountInputEquals=void 0;const RL=use(tr),SBe=use(Dne),Hu=use(cse);function y2t(n,e){return n.keyIndex===e.keyIndex&&n.closeCrewConfig===e.closeCrewConfig}js.closeAccountInputEquals=y2t;function p2t(n,e){return n.key.equals(e.key)&&n.share===e.share}js.crewCreatorEquals=p2t;function b2t(n,e){return n.key.equals(e.key)&&n.share===e.share}js.crewCreatorUnpackedEquals=b2t;function S2t(n,e){return n.keyIndex===e.keyIndex&&n.userRedemptionIndex===e.userRedemptionIndex&&RL.arrayDeepEquals(n.dataHash,e.dataHash,(t,r)=>t===r)}js.mintCrewMemberInputEquals=S2t;function k2t(n,e){return n.quantity===e.quantity&&n.seedPubkey.equals(e.seedPubkey)&&RL.arrayDeepEquals(n.serverHash,e.serverHash,(t,r)=>t===r)&&n.keyIndex===e.keyIndex&&Hu.optionalEquals(n.sageProfile,e.sageProfile,(t,r)=>t.equals(r))}js.redeemCrewPacksInputEquals=k2t;function v2t(n,e){return n.namePrefix===e.namePrefix&&n.symbol===e.symbol&&n.uriPrefix===e.uriPrefix&&n.sellerFeeBasisPoints===e.sellerFeeBasisPoints&&n.collection.equals(e.collection)&&RL.arrayDeepEquals(n.creators,e.creators,(t,r)=>SBe.crewCreatorUnpackedEquals(t,r))}js.registerCrewConfigArgsEquals=v2t;function A2t(n,e){return n.keyIndex===e.keyIndex&&n.seedPubkey.equals(e.seedPubkey)&&n.packTier===e.packTier&&n.common===e.common&&n.uncommon===e.uncommon&&n.rare===e.rare&&n.epic===e.epic&&n.legendary===e.legendary&&n.anomaly===e.anomaly}js.registerPackTiersInputEquals=A2t;function w2t(n,e){return n.keyIndex===e.keyIndex&&n.faction===e.faction}js.registerPackTypeInputEquals=w2t;function I2t(n,e){return n.redemptionAmount===e.redemptionAmount&&n.keyIndex===e.keyIndex}js.registerSftRedemptionInputEquals=I2t;function P2t(n,e){return n.keyIndex===e.keyIndex&&Hu.optionalEquals(n.namePrefix,e.namePrefix,(t,r)=>t===r)&&Hu.optionalEquals(n.symbol,e.symbol,(t,r)=>t===r)&&Hu.optionalEquals(n.uriPrefix,e.uriPrefix,(t,r)=>t===r)&&Hu.optionalEquals(n.sellerFeeBasisPoints,e.sellerFeeBasisPoints,(t,r)=>t===r)&&Hu.optionalEquals(n.collection,e.collection,(t,r)=>t.equals(r))&&Hu.optionalEquals(n.creators,e.creators,(t,r)=>RL.arrayDeepEquals(t,r,(s,i)=>SBe.crewCreatorUnpackedEquals(s,i)))}js.updateCrewConfigArgsEquals=P2t;function _2t(n,e){return n.keyIndex===e.keyIndex&&Hu.optionalEquals(n.common,e.common,(t,r)=>t===r)&&Hu.optionalEquals(n.uncommon,e.uncommon,(t,r)=>t===r)&&Hu.optionalEquals(n.rare,e.rare,(t,r)=>t===r)&&Hu.optionalEquals(n.epic,e.epic,(t,r)=>t===r)&&Hu.optionalEquals(n.legendary,e.legendary,(t,r)=>t===r)&&Hu.optionalEquals(n.anomaly,e.anomaly,(t,r)=>t===r)}js.updatePackTiersInputEquals=_2t;(function(n){var e=K&&K.__createBinding||(Object.create?function(h,m,f,g){g===void 0&&(g=f);var b=Object.getOwnPropertyDescriptor(m,f);(!b||("get"in b?!m.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return m[f]}}),Object.defineProperty(h,g,b)}:function(h,m,f,g){g===void 0&&(g=f),h[g]=m[f]}),t=K&&K.__setModuleDefault||(Object.create?function(h,m){Object.defineProperty(h,"default",{enumerable:!0,value:m})}:function(h,m){h.default=m}),r=K&&K.__decorate||function(h,m,f,g){var b=arguments.length,S=b<3?m:g===null?g=Object.getOwnPropertyDescriptor(m,f):g,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(h,m,f,g);else for(var I=h.length-1;I>=0;I--)(p=h[I])&&(S=(b<3?p(S):b>3?p(m,f,S):p(m,f))||S);return b>3&&S&&Object.defineProperty(m,f,S),S},s=K&&K.__importStar||function(h){if(h&&h.__esModule)return h;var m={};if(h!=null)for(var f in h)f!=="default"&&Object.prototype.hasOwnProperty.call(h,f)&&e(m,h,f);return t(m,h),m},i=K&&K.__metadata||function(h,m){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(h,m)},o;Object.defineProperty(n,"__esModule",{value:!0}),n.CrewConfig=n.crewConfigEquals=n.DERFAULT_CREW_CONFIG_SEED=void 0;const a=s(lc),c=s(tr),u=s(js),l=tr;n.DERFAULT_CREW_CONFIG_SEED=a.PublicKey.default;function d(h,m){return h.version===m.version&&h.seedPubkey.equals(m.seedPubkey)&&h.bump===m.bump&&h.profile.equals(m.profile)&&c.arrayDeepEquals(h.namePrefix,m.namePrefix,(f,g)=>f===g)&&h.namePrefixLen===m.namePrefixLen&&c.arrayDeepEquals(h.symbol,m.symbol,(f,g)=>f===g)&&h.symbolLen===m.symbolLen&&c.arrayDeepEquals(h.uriPrefix,m.uriPrefix,(f,g)=>f===g)&&h.uriPrefixLen===m.uriPrefixLen&&h.sellerFeeBasisPoints===m.sellerFeeBasisPoints&&h.collectionMint.equals(m.collectionMint)&&c.arrayDeepEquals(h.creators,m.creators,(f,g)=>u.crewCreatorEquals(f,g))&&h.creatorCount===m.creatorCount&&h.totalMinted===m.totalMinted&&h.totalAllocated===m.totalAllocated}n.crewConfigEquals=d;let y=o=class{constructor(m,f,g){this._data=m,this._key=f,this._trees=g}get data(){return this._data}get key(){return this._key}static decodeData(m,f){return c.decodeAccountWithRemaining(m,f,o,g=>{const b=g.readUInt32LE(0),S=g.subarray(4);return Array(b).fill(0).map((p,I)=>{const w=S.subarray(32*I,32*I+32);return new a.PublicKey(w)})})}get merkleTrees(){return this._trees}static findAddress(m,f=n.DERFAULT_CREW_CONFIG_SEED){return a.PublicKey.findProgramAddressSync([Xe.Buffer.from("crew_config"),f.toBuffer()],m.programId)}static uriPrefixBuffer(m){const f=Xe.Buffer.from(m);if(f.length>32)throw new Error("Uri prefix can't be longer than 32 bytes");const g=new Uint8Array(40);g.set(f,0);const b=(0,l.fixedSizeArrayFromArray)(40,[...g]);if(b===null)throw new Error("Failed to create fixed size array! This should never happen");return b}static namePrefixBuffer(m){const f=Xe.Buffer.from(m);if(f.length>32)throw new Error("Name prefix can't be longer than 32 bytes");const g=new Uint8Array(32);g.set(f,0);const b=(0,l.fixedSizeArrayFromArray)(32,[...g]);if(b===null)throw new Error("Failed to create fixed size array! This should never happen");return b}static symbolBuffer(m){const f=Xe.Buffer.from(m);if(f.length>10)throw new Error("Symbol can't be longer than 10 bytes");const g=new Uint8Array(10);g.set(f,0);const b=(0,l.fixedSizeArrayFromArray)(10,[...g]);if(b===null)throw new Error("Failed to create fixed size array! This should never happen");return b}};n.CrewConfig=y,y.ACCOUNT_NAME="crewConfig",y.MIN_DATA_SIZE=8+1+32+1+32+32+1+10+1+40+1+2+32+132+1+4+4,n.CrewConfig=y=o=r([c.staticImplements(),i("design:paramtypes",[Object,a.PublicKey,Array])],y)})(pL);var NS={},E2t=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),x2t=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),T2t=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},kBe=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&E2t(e,n,t);return x2t(e,n),e},R2t=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Wj;Object.defineProperty(NS,"__esModule",{value:!0});NS.PackTiers=NS.packTiersEquals=void 0;const vBe=kBe(lc),ABe=kBe(tr);function C2t(n,e){return n.version===e.version&&n.crewConfig.equals(e.crewConfig)&&n.seedPubkey.equals(e.seedPubkey)&&n.tier===e.tier&&n.bump===e.bump&&n.common===e.common&&n.uncommon===e.uncommon&&n.rare===e.rare&&n.epic===e.epic&&n.legendary===e.legendary&&n.anomaly===e.anomaly}NS.packTiersEquals=C2t;let AB=Wj=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static decodeData(e,t){return ABe.decodeAccount(e,t,Wj)}static findAddress(e,t){return vBe.PublicKey.findProgramAddressSync([Xe.Buffer.from("pack_tiers"),t.seedPubkey.toBuffer(),Xe.Buffer.from([t.packTier])],e.programId)}};NS.PackTiers=AB;AB.ACCOUNT_NAME="packTiers";AB.MIN_DATA_SIZE=8+1+32+32+1+1+4+4+4+4+4+4;NS.PackTiers=AB=Wj=T2t([ABe.staticImplements(),R2t("design:paramtypes",[Object,vBe.PublicKey])],AB);var wBe={};(function(n){var e=K&&K.__createBinding||(Object.create?function(h,m,f,g){g===void 0&&(g=f);var b=Object.getOwnPropertyDescriptor(m,f);(!b||("get"in b?!m.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return m[f]}}),Object.defineProperty(h,g,b)}:function(h,m,f,g){g===void 0&&(g=f),h[g]=m[f]}),t=K&&K.__setModuleDefault||(Object.create?function(h,m){Object.defineProperty(h,"default",{enumerable:!0,value:m})}:function(h,m){h.default=m}),r=K&&K.__decorate||function(h,m,f,g){var b=arguments.length,S=b<3?m:g===null?g=Object.getOwnPropertyDescriptor(m,f):g,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(h,m,f,g);else for(var I=h.length-1;I>=0;I--)(p=h[I])&&(S=(b<3?p(S):b>3?p(m,f,S):p(m,f))||S);return b>3&&S&&Object.defineProperty(m,f,S),S},s=K&&K.__importStar||function(h){if(h&&h.__esModule)return h;var m={};if(h!=null)for(var f in h)f!=="default"&&Object.prototype.hasOwnProperty.call(h,f)&&e(m,h,f);return t(m,h),m},i=K&&K.__metadata||function(h,m){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(h,m)},o;Object.defineProperty(n,"__esModule",{value:!0}),n.PackType=n.packTypeEquals=n.Faction=void 0;const a=s(lc),c=s(tr),u=pL;var l=n6;Object.defineProperty(n,"Faction",{enumerable:!0,get:function(){return l.Faction}});function d(h,m){return h.version===m.version&&h.bump===m.bump&&h.crewConfig.equals(m.crewConfig)&&h.packTiers.equals(m.packTiers)&&h.faction===m.faction}n.packTypeEquals=d;let y=o=class{constructor(m,f){this._data=m,this._key=f}get data(){return this._data}get key(){return this._key}static decodeData(m,f){return c.decodeAccount(m,f,o)}static findAddress(m,f){var g;const b=(g=f.crewConfig)!==null&&g!==void 0?g:u.CrewConfig.findAddress(m)[0];return a.PublicKey.findProgramAddressSync([Xe.Buffer.from("pack_type"),b.toBuffer(),f.packTiers.toBuffer(),Xe.Buffer.from([f.faction])],m.programId)}};n.PackType=y,y.ACCOUNT_NAME="packType",y.MIN_DATA_SIZE=8+1+1+32+32+1,n.PackType=y=o=r([c.staticImplements(),i("design:paramtypes",[Object,a.PublicKey])],y)})(wBe);var FS={},M2t=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),B2t=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),z2t=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},IBe=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&M2t(e,n,t);return B2t(e,n),e},$2t=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Nj;Object.defineProperty(FS,"__esModule",{value:!0});FS.SftRedemption=FS.sftRedemptionEquals=void 0;const PBe=IBe(lc),_Be=IBe(tr),D2t=pL;function O2t(n,e){return n.version===e.version&&n.bump===e.bump&&n.packType.equals(e.packType)&&n.sftMint.equals(e.sftMint)&&n.crewConfig.equals(e.crewConfig)&&n.redemptionAmount===e.redemptionAmount}FS.sftRedemptionEquals=O2t;let wB=Nj=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static decodeData(e,t){return _Be.decodeAccount(e,t,Nj)}static findAddress(e,t){var r;const s=Xe.Buffer.alloc(4);s.writeInt32LE(t.redemptionAmount,0);const i=(r=t.crewConfig)!==null&&r!==void 0?r:D2t.CrewConfig.findAddress(e)[0];return PBe.PublicKey.findProgramAddressSync([Xe.Buffer.from("sft_redemption"),i.toBuffer(),t.sftMint.toBuffer(),t.packType.toBuffer(),s],e.programId)}};FS.SftRedemption=wB;wB.ACCOUNT_NAME="sftRedemption";wB.MIN_DATA_SIZE=8+1+1+32+32+32+4;FS.SftRedemption=wB=Nj=z2t([_Be.staticImplements(),$2t("design:paramtypes",[Object,PBe.PublicKey])],wB);var US={},jz={};Object.defineProperty(jz,"__esModule",{value:!0});jz.BitViewer=void 0;class K2t{constructor(e,t=e.length*8){this.buffer=e,this.bitLength=t,this.buffer=e.subarray(0,Math.ceil(t/8))}get(e){const t=Math.floor(e/8),r=e%8;if(t>=this.buffer.length)return!1;const s=this.buffer.readUint8(t),i=1<<r;return(s&i)!==0}firstUnsetIndex(){const e=this.buffer.findIndex(s=>s!==255);if(e===-1)return null;const t=this.buffer[e];let r=1;for(let s=0;s<8;s++){if((t&r)===0)return e*8+s;r<<=1}throw new Error("Couldn't find an unset bit in the non max byte. This shouldn't happen")}}jz.BitViewer=K2t;var L2t=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),W2t=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),N2t=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},EBe=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&L2t(e,n,t);return W2t(e,n),e},F2t=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Fj;Object.defineProperty(US,"__esModule",{value:!0});US.UserRedemption=US.userRedemptionEquals=void 0;const xBe=EBe(lc),JO=EBe(tr),TBe=jz;function U2t(n,e){return n.version===e.version&&n.bump===e.bump&&n.crewConfig.equals(e.crewConfig)&&n.seedPubkey.equals(e.seedPubkey)&&n.owner.equals(e.owner)&&n.mintOffset===e.mintOffset&&n.amount===e.amount&&n.numberMinted===e.numberMinted&&n.packType.equals(e.packType)&&JO.arrayDeepEquals(n.userSeed,e.userSeed,(t,r)=>t===r)&&JO.arrayDeepEquals(n.serverHash,e.serverHash,(t,r)=>t===r)&&n.sageProfile.equals(e.sageProfile)}US.userRedemptionEquals=U2t;let IB=Fj=class{constructor(e,t,r){this._data=e,this._key=t,this.mintBits=r}get data(){return this._data}get key(){return this._key}static decodeData(e,t){return JO.decodeAccountWithRemaining(e,t,Fj,r=>new TBe.BitViewer(r))}static findAddress(e,t){return xBe.PublicKey.findProgramAddressSync([Xe.Buffer.from("user_redemption"),t.seedPubkey.toBuffer(),t.packType.toBuffer(),t.owner.toBuffer()],e.programId)}};US.UserRedemption=IB;IB.ACCOUNT_NAME="userRedemption";IB.MIN_DATA_SIZE=8+1+1+32+32+32+4+4+4+32+32+32+32;US.UserRedemption=IB=Fj=N2t([JO.staticImplements(),F2t("design:paramtypes",[Object,xBe.PublicKey,TBe.BitViewer])],IB);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(pL,n),t(NS,n),t(wBe,n),t(FS,n),t(US,n)})(Cd);var RBe={},CL={},V2t=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(CL,"__esModule",{value:!0});CL.closeAccounts=void 0;const q2t=Cd;function j2t(n,e,t,r,s,i,o=q2t.CrewConfig.findAddress(n)[0]){const a=[e];return()=>V2t(this,void 0,void 0,function*(){return{instruction:yield n.methods.closeAccounts(i).accountsStrict({key:e.publicKey(),profile:t,recipient:r,crewConfig:o}).remainingAccounts(s.map(c=>({pubkey:c,isSigner:!1,isWritable:!0}))).instruction(),signers:a}})}CL.closeAccounts=j2t;var i_={},CBe={},Fb={},Nt={},Io={},lt={},MBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAuthorityTypeSerializer=n.AuthorityType=void 0;const e=q;var t;(function(s){s[s.None=0]="None",s[s.Metadata=1]="Metadata",s[s.Holder=2]="Holder",s[s.MetadataDelegate=3]="MetadataDelegate",s[s.TokenDelegate=4]="TokenDelegate"})(t=n.AuthorityType||(n.AuthorityType={}));function r(){return(0,e.scalarEnum)(t,{description:"AuthorityType"})}n.getAuthorityTypeSerializer=r})(MBe);var ML={};Object.defineProperty(ML,"__esModule",{value:!0});ML.getAuthorizationDataSerializer=void 0;const H2t=q,G2t=lt;function Y2t(){return(0,H2t.struct)([["payload",(0,G2t.getPayloadSerializer)()]],{description:"AuthorizationData"})}ML.getAuthorizationDataSerializer=Y2t;var bp={};Object.defineProperty(bp,"__esModule",{value:!0});bp.isBurnArgs=bp.burnArgs=bp.getBurnArgsSerializer=void 0;const J8=q;function Z2t(){return(0,J8.dataEnum)([["V1",(0,J8.mapSerializer)((0,J8.struct)([["amount",(0,J8.u64)()]]),n=>({...n,amount:n.amount??1}))]],{description:"BurnArgs"})}bp.getBurnArgsSerializer=Z2t;function J2t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}bp.burnArgs=J2t;function X2t(n,e){return e.__kind===n}bp.isBurnArgs=X2t;var BL={};Object.defineProperty(BL,"__esModule",{value:!0});BL.getCollectionSerializer=void 0;const $U=q;function Q2t(){return(0,$U.struct)([["verified",(0,$U.bool)()],["key",(0,$U.publicKey)()]],{description:"Collection"})}BL.getCollectionSerializer=Q2t;var Sp={};Object.defineProperty(Sp,"__esModule",{value:!0});Sp.isCollectionDetails=Sp.collectionDetails=Sp.getCollectionDetailsSerializer=void 0;const Jk=q;function eMt(){return(0,Jk.dataEnum)([["V1",(0,Jk.struct)([["size",(0,Jk.u64)()]])],["V2",(0,Jk.struct)([["padding",(0,Jk.array)((0,Jk.u8)(),{size:8})]])]],{description:"CollectionDetails"})}Sp.getCollectionDetailsSerializer=eMt;function tMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Sp.collectionDetails=tMt;function rMt(n,e){return e.__kind===n}Sp.isCollectionDetails=rMt;var kp={};Object.defineProperty(kp,"__esModule",{value:!0});kp.isCollectionDetailsToggle=kp.collectionDetailsToggle=kp.getCollectionDetailsToggleSerializer=void 0;const BC=q,nMt=lt;function sMt(){return(0,BC.dataEnum)([["None",(0,BC.unit)()],["Clear",(0,BC.unit)()],["Set",(0,BC.struct)([["fields",(0,BC.tuple)([(0,nMt.getCollectionDetailsSerializer)()])]])]],{description:"CollectionDetailsToggle"})}kp.getCollectionDetailsToggleSerializer=sMt;function iMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}kp.collectionDetailsToggle=iMt;function oMt(n,e){return e.__kind===n}kp.isCollectionDetailsToggle=oMt;var vp={};Object.defineProperty(vp,"__esModule",{value:!0});vp.isCollectionToggle=vp.collectionToggle=vp.getCollectionToggleSerializer=void 0;const zC=q,aMt=lt;function cMt(){return(0,zC.dataEnum)([["None",(0,zC.unit)()],["Clear",(0,zC.unit)()],["Set",(0,zC.struct)([["fields",(0,zC.tuple)([(0,aMt.getCollectionSerializer)()])]])]],{description:"CollectionToggle"})}vp.getCollectionToggleSerializer=cMt;function uMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}vp.collectionToggle=uMt;function lMt(n,e){return e.__kind===n}vp.isCollectionToggle=lMt;var Ap={};Object.defineProperty(Ap,"__esModule",{value:!0});Ap.isCreateArgs=Ap.createArgs=Ap.getCreateArgsSerializer=void 0;const w0=Z,Ho=q,Xk=lt;function dMt(){return(0,Ho.dataEnum)([["V1",(0,Ho.mapSerializer)((0,Ho.struct)([["name",(0,Ho.string)()],["symbol",(0,Ho.string)()],["uri",(0,Ho.string)()],["sellerFeeBasisPoints",(0,w0.mapAmountSerializer)((0,Ho.u16)(),"%",2)],["creators",(0,Ho.option)((0,Ho.array)((0,Xk.getCreatorSerializer)()))],["primarySaleHappened",(0,Ho.bool)()],["isMutable",(0,Ho.bool)()],["tokenStandard",(0,Xk.getTokenStandardSerializer)()],["collection",(0,Ho.option)((0,Xk.getCollectionSerializer)())],["uses",(0,Ho.option)((0,Xk.getUsesSerializer)())],["collectionDetails",(0,Ho.option)((0,Xk.getCollectionDetailsSerializer)())],["ruleSet",(0,Ho.option)((0,Ho.publicKey)())],["decimals",(0,Ho.option)((0,Ho.u8)())],["printSupply",(0,Ho.option)((0,Xk.getPrintSupplySerializer)())]]),n=>({...n,symbol:n.symbol??"",primarySaleHappened:n.primarySaleHappened??!1,isMutable:n.isMutable??!0,collection:n.collection??(0,w0.none)(),uses:n.uses??(0,w0.none)(),collectionDetails:n.collectionDetails??(0,w0.none)(),ruleSet:n.ruleSet??(0,w0.none)(),decimals:n.decimals??(0,w0.none)(),printSupply:n.printSupply??(0,w0.none)()}))]],{description:"CreateArgs"})}Ap.getCreateArgsSerializer=dMt;function fMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Ap.createArgs=fMt;function hMt(n,e){return e.__kind===n}Ap.isCreateArgs=hMt;var zL={};Object.defineProperty(zL,"__esModule",{value:!0});zL.getCreatorSerializer=void 0;const X8=q;function gMt(){return(0,X8.struct)([["address",(0,X8.publicKey)()],["verified",(0,X8.bool)()],["share",(0,X8.u8)()]],{description:"Creator"})}zL.getCreatorSerializer=gMt;var $L={};Object.defineProperty($L,"__esModule",{value:!0});$L.getDataSerializer=void 0;const I0=q,mMt=lt;function yMt(){return(0,I0.struct)([["name",(0,I0.string)()],["symbol",(0,I0.string)()],["uri",(0,I0.string)()],["sellerFeeBasisPoints",(0,I0.u16)()],["creators",(0,I0.option)((0,I0.array)((0,mMt.getCreatorSerializer)()))]],{description:"Data"})}$L.getDataSerializer=yMt;var DL={};Object.defineProperty(DL,"__esModule",{value:!0});DL.getDataV2Serializer=void 0;const tg=q,DU=lt;function pMt(){return(0,tg.struct)([["name",(0,tg.string)()],["symbol",(0,tg.string)()],["uri",(0,tg.string)()],["sellerFeeBasisPoints",(0,tg.u16)()],["creators",(0,tg.option)((0,tg.array)((0,DU.getCreatorSerializer)()))],["collection",(0,tg.option)((0,DU.getCollectionSerializer)())],["uses",(0,tg.option)((0,DU.getUsesSerializer)())]],{description:"DataV2"})}DL.getDataV2Serializer=pMt;var wp={};Object.defineProperty(wp,"__esModule",{value:!0});wp.isDelegateArgs=wp.delegateArgs=wp.getDelegateArgsSerializer=void 0;const Cu=Z,Sr=q,Mu=lt;function bMt(){return(0,Sr.dataEnum)([["CollectionV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Cu.none)()}))],["SaleV1",(0,Sr.mapSerializer)((0,Sr.struct)([["amount",(0,Sr.u64)()],["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Cu.none)()}))],["TransferV1",(0,Sr.mapSerializer)((0,Sr.struct)([["amount",(0,Sr.u64)()],["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Cu.none)()}))],["DataV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Cu.none)()}))],["UtilityV1",(0,Sr.mapSerializer)((0,Sr.struct)([["amount",(0,Sr.u64)()],["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Cu.none)()}))],["StakingV1",(0,Sr.mapSerializer)((0,Sr.struct)([["amount",(0,Sr.u64)()],["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Cu.none)()}))],["StandardV1",(0,Sr.mapSerializer)((0,Sr.struct)([["amount",(0,Sr.u64)()]]),n=>({...n,amount:n.amount??1}))],["LockedTransferV1",(0,Sr.mapSerializer)((0,Sr.struct)([["amount",(0,Sr.u64)()],["lockedAddress",(0,Sr.publicKey)()],["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Cu.none)()}))],["ProgrammableConfigV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Cu.none)()}))],["AuthorityItemV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Cu.none)()}))],["DataItemV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Cu.none)()}))],["CollectionItemV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Cu.none)()}))],["ProgrammableConfigItemV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Cu.none)()}))],["PrintDelegateV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Cu.none)()}))]],{description:"DelegateArgs"})}wp.getDelegateArgsSerializer=bMt;function SMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}wp.delegateArgs=SMt;function kMt(n,e){return e.__kind===n}wp.isDelegateArgs=kMt;var Ip={};Object.defineProperty(Ip,"__esModule",{value:!0});Ip.isEscrowAuthority=Ip.escrowAuthority=Ip.getEscrowAuthoritySerializer=void 0;const $C=q;function vMt(){return(0,$C.dataEnum)([["TokenOwner",(0,$C.unit)()],["Creator",(0,$C.struct)([["fields",(0,$C.tuple)([(0,$C.publicKey)()])]])]],{description:"EscrowAuthority"})}Ip.getEscrowAuthoritySerializer=vMt;function AMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Ip.escrowAuthority=AMt;function wMt(n,e){return e.__kind===n}Ip.isEscrowAuthority=wMt;var lse={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getHolderDelegateRoleSerializer=n.HolderDelegateRole=void 0;const e=q;var t;(function(s){s[s.PrintDelegate=0]="PrintDelegate"})(t=n.HolderDelegateRole||(n.HolderDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"HolderDelegateRole"})}n.getHolderDelegateRoleSerializer=r})(lse);var BBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getKeySerializer=n.Key=void 0;const e=q;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.EditionV1=1]="EditionV1",s[s.MasterEditionV1=2]="MasterEditionV1",s[s.ReservationListV1=3]="ReservationListV1",s[s.MetadataV1=4]="MetadataV1",s[s.ReservationListV2=5]="ReservationListV2",s[s.MasterEditionV2=6]="MasterEditionV2",s[s.EditionMarker=7]="EditionMarker",s[s.UseAuthorityRecord=8]="UseAuthorityRecord",s[s.CollectionAuthorityRecord=9]="CollectionAuthorityRecord",s[s.TokenOwnedEscrow=10]="TokenOwnedEscrow",s[s.TokenRecord=11]="TokenRecord",s[s.MetadataDelegate=12]="MetadataDelegate",s[s.EditionMarkerV2=13]="EditionMarkerV2",s[s.HolderDelegate=14]="HolderDelegate"})(t=n.Key||(n.Key={}));function r(){return(0,e.scalarEnum)(t,{description:"Key"})}n.getKeySerializer=r})(BBe);var Pp={};Object.defineProperty(Pp,"__esModule",{value:!0});Pp.isLockArgs=Pp.lockArgs=Pp.getLockArgsSerializer=void 0;const IMt=Z,Q8=q,PMt=lt;function _Mt(){return(0,Q8.dataEnum)([["V1",(0,Q8.mapSerializer)((0,Q8.struct)([["authorizationData",(0,Q8.option)((0,PMt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,IMt.none)()}))]],{description:"LockArgs"})}Pp.getLockArgsSerializer=_Mt;function EMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Pp.lockArgs=EMt;function xMt(n,e){return e.__kind===n}Pp.isLockArgs=xMt;var dse={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMetadataDelegateRoleSerializer=n.MetadataDelegateRole=void 0;const e=q;var t;(function(s){s[s.AuthorityItem=0]="AuthorityItem",s[s.Collection=1]="Collection",s[s.Use=2]="Use",s[s.Data=3]="Data",s[s.ProgrammableConfig=4]="ProgrammableConfig",s[s.DataItem=5]="DataItem",s[s.CollectionItem=6]="CollectionItem",s[s.ProgrammableConfigItem=7]="ProgrammableConfigItem"})(t=n.MetadataDelegateRole||(n.MetadataDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"MetadataDelegateRole"})}n.getMetadataDelegateRoleSerializer=r})(dse);var zBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMigrationTypeSerializer=n.MigrationType=void 0;const e=q;var t;(function(s){s[s.CollectionV1=0]="CollectionV1",s[s.ProgrammableV1=1]="ProgrammableV1"})(t=n.MigrationType||(n.MigrationType={}));function r(){return(0,e.scalarEnum)(t,{description:"MigrationType"})}n.getMigrationTypeSerializer=r})(zBe);var _p={};Object.defineProperty(_p,"__esModule",{value:!0});_p.isMintArgs=_p.mintArgs=_p.getMintArgsSerializer=void 0;const TMt=Z,DC=q,RMt=lt;function CMt(){return(0,DC.dataEnum)([["V1",(0,DC.mapSerializer)((0,DC.struct)([["amount",(0,DC.u64)()],["authorizationData",(0,DC.option)((0,RMt.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,TMt.none)()}))]],{description:"MintArgs"})}_p.getMintArgsSerializer=CMt;function MMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}_p.mintArgs=MMt;function BMt(n,e){return e.__kind===n}_p.isMintArgs=BMt;var OL={};Object.defineProperty(OL,"__esModule",{value:!0});OL.getMintNewEditionFromMasterEditionViaTokenArgsSerializer=void 0;const Zpe=q;function zMt(){return(0,Zpe.struct)([["edition",(0,Zpe.u64)()]],{description:"MintNewEditionFromMasterEditionViaTokenArgs"})}OL.getMintNewEditionFromMasterEditionViaTokenArgsSerializer=zMt;var KL={};Object.defineProperty(KL,"__esModule",{value:!0});KL.getPayloadSerializer=void 0;const OU=q,$Mt=lt;function DMt(){return(0,OU.struct)([["map",(0,OU.map)((0,OU.string)(),(0,$Mt.getPayloadTypeSerializer)())]],{description:"Payload"})}KL.getPayloadSerializer=DMt;var $Be={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPayloadKeySerializer=n.PayloadKey=void 0;const e=q;var t;(function(s){s[s.Amount=0]="Amount",s[s.Authority=1]="Authority",s[s.AuthoritySeeds=2]="AuthoritySeeds",s[s.Delegate=3]="Delegate",s[s.DelegateSeeds=4]="DelegateSeeds",s[s.Destination=5]="Destination",s[s.DestinationSeeds=6]="DestinationSeeds",s[s.Holder=7]="Holder",s[s.Source=8]="Source",s[s.SourceSeeds=9]="SourceSeeds"})(t=n.PayloadKey||(n.PayloadKey={}));function r(){return(0,e.scalarEnum)(t,{description:"PayloadKey"})}n.getPayloadKeySerializer=r})($Be);var Ep={};Object.defineProperty(Ep,"__esModule",{value:!0});Ep.isPayloadType=Ep.payloadType=Ep.getPayloadTypeSerializer=void 0;const jl=q,Jpe=lt;function OMt(){return(0,jl.dataEnum)([["Pubkey",(0,jl.struct)([["fields",(0,jl.tuple)([(0,jl.publicKey)()])]])],["Seeds",(0,jl.struct)([["fields",(0,jl.tuple)([(0,Jpe.getSeedsVecSerializer)()])]])],["MerkleProof",(0,jl.struct)([["fields",(0,jl.tuple)([(0,Jpe.getProofInfoSerializer)()])]])],["Number",(0,jl.struct)([["fields",(0,jl.tuple)([(0,jl.u64)()])]])]],{description:"PayloadType"})}Ep.getPayloadTypeSerializer=OMt;function KMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Ep.payloadType=KMt;function LMt(n,e){return e.__kind===n}Ep.isPayloadType=LMt;var xp={};Object.defineProperty(xp,"__esModule",{value:!0});xp.isPrintArgs=xp.printArgs=xp.getPrintArgsSerializer=void 0;const OC=q;function WMt(){return(0,OC.dataEnum)([["V1",(0,OC.struct)([["edition",(0,OC.u64)()]])],["V2",(0,OC.struct)([["edition",(0,OC.u64)()]])]],{description:"PrintArgs"})}xp.getPrintArgsSerializer=WMt;function NMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}xp.printArgs=NMt;function FMt(n,e){return e.__kind===n}xp.isPrintArgs=FMt;var Tp={};Object.defineProperty(Tp,"__esModule",{value:!0});Tp.isPrintSupply=Tp.printSupply=Tp.getPrintSupplySerializer=void 0;const Qk=q;function UMt(){return(0,Qk.dataEnum)([["Zero",(0,Qk.unit)()],["Limited",(0,Qk.struct)([["fields",(0,Qk.tuple)([(0,Qk.u64)()])]])],["Unlimited",(0,Qk.unit)()]],{description:"PrintSupply"})}Tp.getPrintSupplySerializer=UMt;function VMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Tp.printSupply=VMt;function qMt(n,e){return e.__kind===n}Tp.isPrintSupply=qMt;var Rp={};Object.defineProperty(Rp,"__esModule",{value:!0});Rp.isProgrammableConfig=Rp.programmableConfig=Rp.getProgrammableConfigSerializer=void 0;const e3=q;function jMt(){return(0,e3.dataEnum)([["V1",(0,e3.struct)([["ruleSet",(0,e3.option)((0,e3.publicKey)())]])]],{description:"ProgrammableConfig"})}Rp.getProgrammableConfigSerializer=jMt;function HMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Rp.programmableConfig=HMt;function GMt(n,e){return e.__kind===n}Rp.isProgrammableConfig=GMt;var LL={};Object.defineProperty(LL,"__esModule",{value:!0});LL.getProofInfoSerializer=void 0;const KU=q;function YMt(){return(0,KU.struct)([["proof",(0,KU.array)((0,KU.bytes)({size:32}))]],{description:"ProofInfo"})}LL.getProofInfoSerializer=YMt;var WL={};Object.defineProperty(WL,"__esModule",{value:!0});WL.getReservationSerializer=void 0;const t3=q;function ZMt(){return(0,t3.struct)([["address",(0,t3.publicKey)()],["spotsRemaining",(0,t3.u64)()],["totalSpots",(0,t3.u64)()]],{description:"Reservation"})}WL.getReservationSerializer=ZMt;var NL={};Object.defineProperty(NL,"__esModule",{value:!0});NL.getReservationV1Serializer=void 0;const r3=q;function JMt(){return(0,r3.struct)([["address",(0,r3.publicKey)()],["spotsRemaining",(0,r3.u8)()],["totalSpots",(0,r3.u8)()]],{description:"ReservationV1"})}NL.getReservationV1Serializer=JMt;var DBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRevokeArgsSerializer=n.RevokeArgs=void 0;const e=q;var t;(function(s){s[s.CollectionV1=0]="CollectionV1",s[s.SaleV1=1]="SaleV1",s[s.TransferV1=2]="TransferV1",s[s.DataV1=3]="DataV1",s[s.UtilityV1=4]="UtilityV1",s[s.StakingV1=5]="StakingV1",s[s.StandardV1=6]="StandardV1",s[s.LockedTransferV1=7]="LockedTransferV1",s[s.ProgrammableConfigV1=8]="ProgrammableConfigV1",s[s.MigrationV1=9]="MigrationV1",s[s.AuthorityItemV1=10]="AuthorityItemV1",s[s.DataItemV1=11]="DataItemV1",s[s.CollectionItemV1=12]="CollectionItemV1",s[s.ProgrammableConfigItemV1=13]="ProgrammableConfigItemV1",s[s.PrintDelegateV1=14]="PrintDelegateV1"})(t=n.RevokeArgs||(n.RevokeArgs={}));function r(){return(0,e.scalarEnum)(t,{description:"RevokeArgs"})}n.getRevokeArgsSerializer=r})(DBe);var Cp={};Object.defineProperty(Cp,"__esModule",{value:!0});Cp.isRuleSetToggle=Cp.ruleSetToggle=Cp.getRuleSetToggleSerializer=void 0;const ev=q;function XMt(){return(0,ev.dataEnum)([["None",(0,ev.unit)()],["Clear",(0,ev.unit)()],["Set",(0,ev.struct)([["fields",(0,ev.tuple)([(0,ev.publicKey)()])]])]],{description:"RuleSetToggle"})}Cp.getRuleSetToggleSerializer=XMt;function QMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Cp.ruleSetToggle=QMt;function eBt(n,e){return e.__kind===n}Cp.isRuleSetToggle=eBt;var FL={};Object.defineProperty(FL,"__esModule",{value:!0});FL.getSeedsVecSerializer=void 0;const n3=q;function tBt(){return(0,n3.struct)([["seeds",(0,n3.array)((0,n3.bytes)({size:(0,n3.u32)()}))]],{description:"SeedsVec"})}FL.getSeedsVecSerializer=tBt;var UL={};Object.defineProperty(UL,"__esModule",{value:!0});UL.getSetCollectionSizeArgsSerializer=void 0;const Xpe=q;function rBt(){return(0,Xpe.struct)([["size",(0,Xpe.u64)()]],{description:"SetCollectionSizeArgs"})}UL.getSetCollectionSizeArgsSerializer=rBt;var OBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenDelegateRoleSerializer=n.TokenDelegateRole=void 0;const e=q;var t;(function(s){s[s.Sale=0]="Sale",s[s.Transfer=1]="Transfer",s[s.Utility=2]="Utility",s[s.Staking=3]="Staking",s[s.Standard=4]="Standard",s[s.LockedTransfer=5]="LockedTransfer",s[s.Migration=6]="Migration"})(t=n.TokenDelegateRole||(n.TokenDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenDelegateRole"})}n.getTokenDelegateRoleSerializer=r})(OBe);var KBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStandardSerializer=n.TokenStandard=void 0;const e=q;var t;(function(s){s[s.NonFungible=0]="NonFungible",s[s.FungibleAsset=1]="FungibleAsset",s[s.Fungible=2]="Fungible",s[s.NonFungibleEdition=3]="NonFungibleEdition",s[s.ProgrammableNonFungible=4]="ProgrammableNonFungible",s[s.ProgrammableNonFungibleEdition=5]="ProgrammableNonFungibleEdition"})(t=n.TokenStandard||(n.TokenStandard={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenStandard"})}n.getTokenStandardSerializer=r})(KBe);var LBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStateSerializer=n.TokenState=void 0;const e=q;var t;(function(s){s[s.Unlocked=0]="Unlocked",s[s.Locked=1]="Locked",s[s.Listed=2]="Listed"})(t=n.TokenState||(n.TokenState={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenState"})}n.getTokenStateSerializer=r})(LBe);var Mp={};Object.defineProperty(Mp,"__esModule",{value:!0});Mp.isTransferArgs=Mp.transferArgs=Mp.getTransferArgsSerializer=void 0;const nBt=Z,KC=q,sBt=lt;function iBt(){return(0,KC.dataEnum)([["V1",(0,KC.mapSerializer)((0,KC.struct)([["amount",(0,KC.u64)()],["authorizationData",(0,KC.option)((0,sBt.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,nBt.none)()}))]],{description:"TransferArgs"})}Mp.getTransferArgsSerializer=iBt;function oBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Mp.transferArgs=oBt;function aBt(n,e){return e.__kind===n}Mp.isTransferArgs=aBt;var Bp={};Object.defineProperty(Bp,"__esModule",{value:!0});Bp.isUnlockArgs=Bp.unlockArgs=Bp.getUnlockArgsSerializer=void 0;const cBt=Z,s3=q,uBt=lt;function lBt(){return(0,s3.dataEnum)([["V1",(0,s3.mapSerializer)((0,s3.struct)([["authorizationData",(0,s3.option)((0,uBt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,cBt.none)()}))]],{description:"UnlockArgs"})}Bp.getUnlockArgsSerializer=lBt;function dBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Bp.unlockArgs=dBt;function fBt(n,e){return e.__kind===n}Bp.isUnlockArgs=fBt;var zp={};Object.defineProperty(zp,"__esModule",{value:!0});zp.isUpdateArgs=zp.updateArgs=zp.getUpdateArgsSerializer=void 0;const Js=Z,cr=q,un=lt;function hBt(){return(0,cr.dataEnum)([["V1",(0,cr.mapSerializer)((0,cr.struct)([["newUpdateAuthority",(0,cr.option)((0,cr.publicKey)())],["data",(0,cr.option)((0,un.getDataSerializer)())],["primarySaleHappened",(0,cr.option)((0,cr.bool)())],["isMutable",(0,cr.option)((0,cr.bool)())],["collection",(0,un.getCollectionToggleSerializer)()],["collectionDetails",(0,un.getCollectionDetailsToggleSerializer)()],["uses",(0,un.getUsesToggleSerializer)()],["ruleSet",(0,un.getRuleSetToggleSerializer)()],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,Js.none)(),data:n.data??(0,Js.none)(),primarySaleHappened:n.primarySaleHappened??(0,Js.none)(),isMutable:n.isMutable??(0,Js.none)(),collection:n.collection??(0,un.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,un.collectionDetailsToggle)("None"),uses:n.uses??(0,un.usesToggle)("None"),ruleSet:n.ruleSet??(0,un.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsUpdateAuthorityV2",(0,cr.mapSerializer)((0,cr.struct)([["newUpdateAuthority",(0,cr.option)((0,cr.publicKey)())],["data",(0,cr.option)((0,un.getDataSerializer)())],["primarySaleHappened",(0,cr.option)((0,cr.bool)())],["isMutable",(0,cr.option)((0,cr.bool)())],["collection",(0,un.getCollectionToggleSerializer)()],["collectionDetails",(0,un.getCollectionDetailsToggleSerializer)()],["uses",(0,un.getUsesToggleSerializer)()],["ruleSet",(0,un.getRuleSetToggleSerializer)()],["tokenStandard",(0,cr.option)((0,un.getTokenStandardSerializer)())],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,Js.none)(),data:n.data??(0,Js.none)(),primarySaleHappened:n.primarySaleHappened??(0,Js.none)(),isMutable:n.isMutable??(0,Js.none)(),collection:n.collection??(0,un.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,un.collectionDetailsToggle)("None"),uses:n.uses??(0,un.usesToggle)("None"),ruleSet:n.ruleSet??(0,un.ruleSetToggle)("None"),tokenStandard:n.tokenStandard??(0,Js.none)(),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsAuthorityItemDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["newUpdateAuthority",(0,cr.option)((0,cr.publicKey)())],["primarySaleHappened",(0,cr.option)((0,cr.bool)())],["isMutable",(0,cr.option)((0,cr.bool)())],["tokenStandard",(0,cr.option)((0,un.getTokenStandardSerializer)())],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,Js.none)(),primarySaleHappened:n.primarySaleHappened??(0,Js.none)(),isMutable:n.isMutable??(0,Js.none)(),tokenStandard:n.tokenStandard??(0,Js.none)(),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsCollectionDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["collection",(0,un.getCollectionToggleSerializer)()],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,collection:n.collection??(0,un.collectionToggle)("None"),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsDataDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["data",(0,cr.option)((0,un.getDataSerializer)())],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,data:n.data??(0,Js.none)(),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsProgrammableConfigDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["ruleSet",(0,un.getRuleSetToggleSerializer)()],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,ruleSet:n.ruleSet??(0,un.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsDataItemDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["data",(0,cr.option)((0,un.getDataSerializer)())],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,data:n.data??(0,Js.none)(),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsCollectionItemDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["collection",(0,un.getCollectionToggleSerializer)()],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,collection:n.collection??(0,un.collectionToggle)("None"),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsProgrammableConfigItemDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["ruleSet",(0,un.getRuleSetToggleSerializer)()],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,ruleSet:n.ruleSet??(0,un.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,Js.none)()}))]],{description:"UpdateArgs"})}zp.getUpdateArgsSerializer=hBt;function gBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}zp.updateArgs=gBt;function mBt(n,e){return e.__kind===n}zp.isUpdateArgs=mBt;var $p={};Object.defineProperty($p,"__esModule",{value:!0});$p.isUseArgs=$p.useArgs=$p.getUseArgsSerializer=void 0;const yBt=Z,i3=q,pBt=lt;function bBt(){return(0,i3.dataEnum)([["V1",(0,i3.mapSerializer)((0,i3.struct)([["authorizationData",(0,i3.option)((0,pBt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,yBt.none)()}))]],{description:"UseArgs"})}$p.getUseArgsSerializer=bBt;function SBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}$p.useArgs=SBt;function kBt(n,e){return e.__kind===n}$p.isUseArgs=kBt;var WBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getUseMethodSerializer=n.UseMethod=void 0;const e=q;var t;(function(s){s[s.Burn=0]="Burn",s[s.Multiple=1]="Multiple",s[s.Single=2]="Single"})(t=n.UseMethod||(n.UseMethod={}));function r(){return(0,e.scalarEnum)(t,{description:"UseMethod"})}n.getUseMethodSerializer=r})(WBe);var VL={};Object.defineProperty(VL,"__esModule",{value:!0});VL.getUsesSerializer=void 0;const LU=q,vBt=lt;function ABt(){return(0,LU.struct)([["useMethod",(0,vBt.getUseMethodSerializer)()],["remaining",(0,LU.u64)()],["total",(0,LU.u64)()]],{description:"Uses"})}VL.getUsesSerializer=ABt;var Dp={};Object.defineProperty(Dp,"__esModule",{value:!0});Dp.isUsesToggle=Dp.usesToggle=Dp.getUsesToggleSerializer=void 0;const LC=q,wBt=lt;function IBt(){return(0,LC.dataEnum)([["None",(0,LC.unit)()],["Clear",(0,LC.unit)()],["Set",(0,LC.struct)([["fields",(0,LC.tuple)([(0,wBt.getUsesSerializer)()])]])]],{description:"UsesToggle"})}Dp.getUsesToggleSerializer=IBt;function PBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Dp.usesToggle=PBt;function _Bt(n,e){return e.__kind===n}Dp.isUsesToggle=_Bt;var NBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getVerificationArgsSerializer=n.VerificationArgs=void 0;const e=q;var t;(function(s){s[s.CreatorV1=0]="CreatorV1",s[s.CollectionV1=1]="CollectionV1"})(t=n.VerificationArgs||(n.VerificationArgs={}));function r(){return(0,e.scalarEnum)(t,{description:"VerificationArgs"})}n.getVerificationArgsSerializer=r})(NBe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(MBe,n),t(ML,n),t(bp,n),t(BL,n),t(Sp,n),t(kp,n),t(vp,n),t(Ap,n),t(zL,n),t($L,n),t(DL,n),t(wp,n),t(Ip,n),t(lse,n),t(BBe,n),t(Pp,n),t(dse,n),t(zBe,n),t(_p,n),t(OL,n),t(KL,n),t($Be,n),t(Ep,n),t(xp,n),t(Tp,n),t(Rp,n),t(LL,n),t(WL,n),t(NL,n),t(DBe,n),t(Cp,n),t(FL,n),t(UL,n),t(OBe,n),t(KBe,n),t(LBe,n),t(Mp,n),t(Bp,n),t(zp,n),t($p,n),t(WBe,n),t(VL,n),t(Dp,n),t(NBe,n)})(lt);Object.defineProperty(Io,"__esModule",{value:!0});Io.safeFetchCollectionAuthorityRecordFromSeeds=Io.fetchCollectionAuthorityRecordFromSeeds=Io.findCollectionAuthorityRecordPda=Io.getCollectionAuthorityRecordGpaBuilder=Io.safeFetchAllCollectionAuthorityRecord=Io.fetchAllCollectionAuthorityRecord=Io.safeFetchCollectionAuthorityRecord=Io.fetchCollectionAuthorityRecord=Io.deserializeCollectionAuthorityRecord=Io.getCollectionAuthorityRecordAccountDataSerializer=void 0;const gb=Z,Ju=q,XO=lt;function FBe(){return(0,Ju.mapSerializer)((0,Ju.struct)([["key",(0,XO.getKeySerializer)()],["bump",(0,Ju.u8)()],["updateAuthority",(0,Ju.option)((0,Ju.publicKey)())]],{description:"CollectionAuthorityRecordAccountData"}),n=>({...n,key:XO.Key.CollectionAuthorityRecord}))}Io.getCollectionAuthorityRecordAccountDataSerializer=FBe;function YT(n){return(0,gb.deserializeAccount)(n,FBe())}Io.deserializeCollectionAuthorityRecord=YT;async function UBe(n,e,t){const r=await n.rpc.getAccount((0,gb.publicKey)(e,!1),t);return(0,gb.assertAccountExists)(r,"CollectionAuthorityRecord"),YT(r)}Io.fetchCollectionAuthorityRecord=UBe;async function VBe(n,e,t){const r=await n.rpc.getAccount((0,gb.publicKey)(e,!1),t);return r.exists?YT(r):null}Io.safeFetchCollectionAuthorityRecord=VBe;async function EBt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,gb.publicKey)(s,!1)),t)).map(s=>((0,gb.assertAccountExists)(s,"CollectionAuthorityRecord"),YT(s)))}Io.fetchAllCollectionAuthorityRecord=EBt;async function xBt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,gb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>YT(s))}Io.safeFetchAllCollectionAuthorityRecord=xBt;function TBt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,gb.gpaBuilder)(n,e).registerFields({key:[0,(0,XO.getKeySerializer)()],bump:[1,(0,Ju.u8)()],updateAuthority:[2,(0,Ju.option)((0,Ju.publicKey)())]}).deserializeUsing(t=>YT(t)).whereField("key",XO.Key.CollectionAuthorityRecord)}Io.getCollectionAuthorityRecordGpaBuilder=TBt;function fse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Ju.string)({size:"variable"}).serialize("metadata"),(0,Ju.publicKey)().serialize(t),(0,Ju.publicKey)().serialize(e.mint),(0,Ju.string)({size:"variable"}).serialize("collection_authority"),(0,Ju.publicKey)().serialize(e.collectionAuthority)])}Io.findCollectionAuthorityRecordPda=fse;async function RBt(n,e,t){return UBe(n,fse(n,e),t)}Io.fetchCollectionAuthorityRecordFromSeeds=RBt;async function CBt(n,e,t){return VBe(n,fse(n,e),t)}Io.safeFetchCollectionAuthorityRecordFromSeeds=CBt;var Po={};Object.defineProperty(Po,"__esModule",{value:!0});Po.safeFetchDeprecatedMasterEditionV1FromSeeds=Po.fetchDeprecatedMasterEditionV1FromSeeds=Po.findDeprecatedMasterEditionV1Pda=Po.getDeprecatedMasterEditionV1GpaBuilder=Po.safeFetchAllDeprecatedMasterEditionV1=Po.fetchAllDeprecatedMasterEditionV1=Po.safeFetchDeprecatedMasterEditionV1=Po.fetchDeprecatedMasterEditionV1=Po.deserializeDeprecatedMasterEditionV1=Po.getDeprecatedMasterEditionV1AccountDataSerializer=void 0;const mb=Z,wc=q,QO=lt;function qBe(){return(0,wc.mapSerializer)((0,wc.struct)([["key",(0,QO.getKeySerializer)()],["supply",(0,wc.u64)()],["maxSupply",(0,wc.option)((0,wc.u64)())],["printingMint",(0,wc.publicKey)()],["oneTimePrintingAuthorizationMint",(0,wc.publicKey)()]],{description:"DeprecatedMasterEditionV1AccountData"}),n=>({...n,key:QO.Key.MasterEditionV1}))}Po.getDeprecatedMasterEditionV1AccountDataSerializer=qBe;function ZT(n){return(0,mb.deserializeAccount)(n,qBe())}Po.deserializeDeprecatedMasterEditionV1=ZT;async function jBe(n,e,t){const r=await n.rpc.getAccount((0,mb.publicKey)(e,!1),t);return(0,mb.assertAccountExists)(r,"DeprecatedMasterEditionV1"),ZT(r)}Po.fetchDeprecatedMasterEditionV1=jBe;async function HBe(n,e,t){const r=await n.rpc.getAccount((0,mb.publicKey)(e,!1),t);return r.exists?ZT(r):null}Po.safeFetchDeprecatedMasterEditionV1=HBe;async function MBt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,mb.publicKey)(s,!1)),t)).map(s=>((0,mb.assertAccountExists)(s,"DeprecatedMasterEditionV1"),ZT(s)))}Po.fetchAllDeprecatedMasterEditionV1=MBt;async function BBt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,mb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>ZT(s))}Po.safeFetchAllDeprecatedMasterEditionV1=BBt;function zBt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,mb.gpaBuilder)(n,e).registerFields({key:[0,(0,QO.getKeySerializer)()],supply:[1,(0,wc.u64)()],maxSupply:[9,(0,wc.option)((0,wc.u64)())],printingMint:[null,(0,wc.publicKey)()],oneTimePrintingAuthorizationMint:[null,(0,wc.publicKey)()]}).deserializeUsing(t=>ZT(t)).whereField("key",QO.Key.MasterEditionV1)}Po.getDeprecatedMasterEditionV1GpaBuilder=zBt;function hse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,wc.string)({size:"variable"}).serialize("metadata"),(0,wc.publicKey)().serialize(t),(0,wc.publicKey)().serialize(e.mint),(0,wc.string)({size:"variable"}).serialize("edition")])}Po.findDeprecatedMasterEditionV1Pda=hse;async function $Bt(n,e,t){return jBe(n,hse(n,e),t)}Po.fetchDeprecatedMasterEditionV1FromSeeds=$Bt;async function DBt(n,e,t){return HBe(n,hse(n,e),t)}Po.safeFetchDeprecatedMasterEditionV1FromSeeds=DBt;var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});Ba.getEditionSize=Ba.getEditionGpaBuilder=Ba.safeFetchAllEdition=Ba.fetchAllEdition=Ba.safeFetchEdition=Ba.fetchEdition=Ba.deserializeEdition=Ba.getEditionAccountDataSerializer=void 0;const yb=Z,Dv=q,e4=lt;function GBe(){return(0,Dv.mapSerializer)((0,Dv.struct)([["key",(0,e4.getKeySerializer)()],["parent",(0,Dv.publicKey)()],["edition",(0,Dv.u64)()]],{description:"EditionAccountData"}),n=>({...n,key:e4.Key.EditionV1}))}Ba.getEditionAccountDataSerializer=GBe;function JT(n){return(0,yb.deserializeAccount)(n,GBe())}Ba.deserializeEdition=JT;async function OBt(n,e,t){const r=await n.rpc.getAccount((0,yb.publicKey)(e,!1),t);return(0,yb.assertAccountExists)(r,"Edition"),JT(r)}Ba.fetchEdition=OBt;async function KBt(n,e,t){const r=await n.rpc.getAccount((0,yb.publicKey)(e,!1),t);return r.exists?JT(r):null}Ba.safeFetchEdition=KBt;async function LBt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,yb.publicKey)(s,!1)),t)).map(s=>((0,yb.assertAccountExists)(s,"Edition"),JT(s)))}Ba.fetchAllEdition=LBt;async function WBt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,yb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>JT(s))}Ba.safeFetchAllEdition=WBt;function NBt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,yb.gpaBuilder)(n,e).registerFields({key:[0,(0,e4.getKeySerializer)()],parent:[1,(0,Dv.publicKey)()],edition:[33,(0,Dv.u64)()]}).deserializeUsing(t=>JT(t)).whereField("key",e4.Key.EditionV1)}Ba.getEditionGpaBuilder=NBt;function FBt(){return 41}Ba.getEditionSize=FBt;var oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.safeFetchEditionMarkerFromSeeds=oi.fetchEditionMarkerFromSeeds=oi.findEditionMarkerPda=oi.getEditionMarkerSize=oi.getEditionMarkerGpaBuilder=oi.safeFetchAllEditionMarker=oi.fetchAllEditionMarker=oi.safeFetchEditionMarker=oi.fetchEditionMarker=oi.deserializeEditionMarker=oi.getEditionMarkerAccountDataSerializer=void 0;const pb=Z,rd=q,t4=lt;function YBe(){return(0,rd.mapSerializer)((0,rd.struct)([["key",(0,t4.getKeySerializer)()],["ledger",(0,rd.array)((0,rd.u8)(),{size:31})]],{description:"EditionMarkerAccountData"}),n=>({...n,key:t4.Key.EditionMarker}))}oi.getEditionMarkerAccountDataSerializer=YBe;function XT(n){return(0,pb.deserializeAccount)(n,YBe())}oi.deserializeEditionMarker=XT;async function ZBe(n,e,t){const r=await n.rpc.getAccount((0,pb.publicKey)(e,!1),t);return(0,pb.assertAccountExists)(r,"EditionMarker"),XT(r)}oi.fetchEditionMarker=ZBe;async function JBe(n,e,t){const r=await n.rpc.getAccount((0,pb.publicKey)(e,!1),t);return r.exists?XT(r):null}oi.safeFetchEditionMarker=JBe;async function UBt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,pb.publicKey)(s,!1)),t)).map(s=>((0,pb.assertAccountExists)(s,"EditionMarker"),XT(s)))}oi.fetchAllEditionMarker=UBt;async function VBt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,pb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>XT(s))}oi.safeFetchAllEditionMarker=VBt;function qBt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,pb.gpaBuilder)(n,e).registerFields({key:[0,(0,t4.getKeySerializer)()],ledger:[1,(0,rd.array)((0,rd.u8)(),{size:31})]}).deserializeUsing(t=>XT(t)).whereField("key",t4.Key.EditionMarker)}oi.getEditionMarkerGpaBuilder=qBt;function jBt(){return 32}oi.getEditionMarkerSize=jBt;function gse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,rd.string)({size:"variable"}).serialize("metadata"),(0,rd.publicKey)().serialize(t),(0,rd.publicKey)().serialize(e.mint),(0,rd.string)({size:"variable"}).serialize("edition"),(0,rd.string)({size:"variable"}).serialize(e.editionMarker)])}oi.findEditionMarkerPda=gse;async function HBt(n,e,t){return ZBe(n,gse(n,e),t)}oi.fetchEditionMarkerFromSeeds=HBt;async function GBt(n,e,t){return JBe(n,gse(n,e),t)}oi.safeFetchEditionMarkerFromSeeds=GBt;var _o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.safeFetchEditionMarkerV2FromSeeds=_o.fetchEditionMarkerV2FromSeeds=_o.findEditionMarkerV2Pda=_o.getEditionMarkerV2GpaBuilder=_o.safeFetchAllEditionMarkerV2=_o.fetchAllEditionMarkerV2=_o.safeFetchEditionMarkerV2=_o.fetchEditionMarkerV2=_o.deserializeEditionMarkerV2=_o.getEditionMarkerV2AccountDataSerializer=void 0;const bb=Z,Df=q,XBe=lt;function QBe(){return(0,Df.struct)([["key",(0,XBe.getKeySerializer)()],["ledger",(0,Df.bytes)({size:(0,Df.u32)()})]],{description:"EditionMarkerV2AccountData"})}_o.getEditionMarkerV2AccountDataSerializer=QBe;function QT(n){return(0,bb.deserializeAccount)(n,QBe())}_o.deserializeEditionMarkerV2=QT;async function eze(n,e,t){const r=await n.rpc.getAccount((0,bb.publicKey)(e,!1),t);return(0,bb.assertAccountExists)(r,"EditionMarkerV2"),QT(r)}_o.fetchEditionMarkerV2=eze;async function tze(n,e,t){const r=await n.rpc.getAccount((0,bb.publicKey)(e,!1),t);return r.exists?QT(r):null}_o.safeFetchEditionMarkerV2=tze;async function YBt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,bb.publicKey)(s,!1)),t)).map(s=>((0,bb.assertAccountExists)(s,"EditionMarkerV2"),QT(s)))}_o.fetchAllEditionMarkerV2=YBt;async function ZBt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,bb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>QT(s))}_o.safeFetchAllEditionMarkerV2=ZBt;function JBt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,bb.gpaBuilder)(n,e).registerFields({key:[0,(0,XBe.getKeySerializer)()],ledger:[1,(0,Df.bytes)({size:(0,Df.u32)()})]}).deserializeUsing(t=>QT(t))}_o.getEditionMarkerV2GpaBuilder=JBt;function mse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Df.string)({size:"variable"}).serialize("metadata"),(0,Df.publicKey)().serialize(t),(0,Df.publicKey)().serialize(e.mint),(0,Df.string)({size:"variable"}).serialize("edition"),(0,Df.string)({size:"variable"}).serialize("marker")])}_o.findEditionMarkerV2Pda=mse;async function XBt(n,e,t){return eze(n,mse(n,e),t)}_o.fetchEditionMarkerV2FromSeeds=XBt;async function QBt(n,e,t){return tze(n,mse(n,e),t)}_o.safeFetchEditionMarkerV2FromSeeds=QBt;var ai={},an={},qL={};Object.defineProperty(qL,"__esModule",{value:!0});qL.findEditionMarkerFromEditionNumberPda=void 0;const ezt=Fb;function tzt(n,e){return(0,ezt.findEditionMarkerPda)(n,{mint:e.mint,editionMarker:(BigInt(e.editionNumber)/248n).toString(10)})}qL.findEditionMarkerFromEditionNumberPda=tzt;var jL={},Ub={};Object.defineProperty(Ub,"__esModule",{value:!0});Ub.TokenMetadataError=void 0;const rzt=Z;class nzt extends rzt.UmiError{constructor(e,t){super(e,"plugin","Token Metadata",t),this.name="TokenMetadataError"}}Ub.TokenMetadataError=nzt;Object.defineProperty(jL,"__esModule",{value:!0});jL.getMetadataDelegateRoleSeedSerializer=void 0;const Qpe=q,szt=Ub,ay=dse;function izt(){return(0,Qpe.mapSerializer)((0,Qpe.string)({size:"variable"}),n=>{if(typeof n=="string")return n;switch(n){case ay.MetadataDelegateRole.AuthorityItem:return"authority_item_delegate";case ay.MetadataDelegateRole.Collection:return"collection_delegate";case ay.MetadataDelegateRole.Use:return"use_delegate";case ay.MetadataDelegateRole.Data:return"data_delegate";case ay.MetadataDelegateRole.ProgrammableConfig:return"programmable_config_delegate";case ay.MetadataDelegateRole.DataItem:return"data_item_delegate";case ay.MetadataDelegateRole.CollectionItem:return"collection_item_delegate";case ay.MetadataDelegateRole.ProgrammableConfigItem:return"prog_config_item_delegate";default:throw new szt.TokenMetadataError(`Invalid MetadataDelegateRoleArgs ${n}`)}},n=>n)}jL.getMetadataDelegateRoleSeedSerializer=izt;var HL={};Object.defineProperty(HL,"__esModule",{value:!0});HL.getHolderDelegateRoleSeedSerializer=void 0;const ebe=q,ozt=Ub,azt=lse;function czt(){return(0,ebe.mapSerializer)((0,ebe.string)({size:"variable"}),n=>{if(typeof n=="string")return n;switch(n){case azt.HolderDelegateRole.PrintDelegate:return"print_delegate";default:throw new ozt.TokenMetadataError(`Invalid PrintDelegateRoleArgs ${n}`)}},n=>n)}HL.getHolderDelegateRoleSeedSerializer=czt;var za={},Gs={},hm={},GL={},Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.safeFetchAddressLookupTableFromSeeds=Eo.fetchAddressLookupTableFromSeeds=Eo.findAddressLookupTablePda=Eo.getAddressLookupTableGpaBuilder=Eo.safeFetchAllAddressLookupTable=Eo.fetchAllAddressLookupTable=Eo.safeFetchAddressLookupTable=Eo.fetchAddressLookupTable=Eo.deserializeAddressLookupTable=Eo.getAddressLookupTableAccountDataSerializer=void 0;const Sb=Z,oo=q;function rze(){return(0,oo.mapSerializer)((0,oo.struct)([["discriminator",(0,oo.u32)()],["deactivationSlot",(0,oo.u64)()],["lastExtendedSlot",(0,oo.u64)()],["lastExtendedStartIndex",(0,oo.u8)()],["authority",(0,oo.option)((0,oo.publicKey)(),{fixed:!0})],["padding",(0,oo.u16)()],["addresses",(0,oo.array)((0,oo.publicKey)(),{size:"remainder"})]],{description:"AddressLookupTableAccountData"}),n=>({...n,discriminator:1,padding:0}))}Eo.getAddressLookupTableAccountDataSerializer=rze;function eR(n){return(0,Sb.deserializeAccount)(n,rze())}Eo.deserializeAddressLookupTable=eR;async function nze(n,e,t){const r=await n.rpc.getAccount((0,Sb.publicKey)(e,!1),t);return(0,Sb.assertAccountExists)(r,"AddressLookupTable"),eR(r)}Eo.fetchAddressLookupTable=nze;async function sze(n,e,t){const r=await n.rpc.getAccount((0,Sb.publicKey)(e,!1),t);return r.exists?eR(r):null}Eo.safeFetchAddressLookupTable=sze;async function uzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Sb.publicKey)(s,!1)),t)).map(s=>((0,Sb.assertAccountExists)(s,"AddressLookupTable"),eR(s)))}Eo.fetchAllAddressLookupTable=uzt;async function lzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Sb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>eR(s))}Eo.safeFetchAllAddressLookupTable=lzt;function dzt(n){const e=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111");return(0,Sb.gpaBuilder)(n,e).registerFields({discriminator:[0,(0,oo.u32)()],deactivationSlot:[4,(0,oo.u64)()],lastExtendedSlot:[12,(0,oo.u64)()],lastExtendedStartIndex:[20,(0,oo.u8)()],authority:[21,(0,oo.option)((0,oo.publicKey)(),{fixed:!0})],padding:[54,(0,oo.u16)()],addresses:[56,(0,oo.array)((0,oo.publicKey)(),{size:"remainder"})]}).deserializeUsing(t=>eR(t)).whereField("discriminator",1)}Eo.getAddressLookupTableGpaBuilder=dzt;function yse(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111");return n.eddsa.findPda(t,[(0,oo.publicKey)().serialize(e.authority),(0,oo.u64)().serialize(e.recentSlot)])}Eo.findAddressLookupTablePda=yse;async function fzt(n,e,t){return nze(n,yse(n,e),t)}Eo.fetchAddressLookupTableFromSeeds=fzt;async function hzt(n,e,t){return sze(n,yse(n,e),t)}Eo.safeFetchAddressLookupTableFromSeeds=hzt;var $a={};Object.defineProperty($a,"__esModule",{value:!0});$a.getMintSize=$a.getMintGpaBuilder=$a.safeFetchAllMint=$a.fetchAllMint=$a.safeFetchMint=$a.fetchMint=$a.deserializeMint=$a.getMintAccountDataSerializer=void 0;const kb=Z,Zo=q;function ize(){return(0,Zo.struct)([["mintAuthority",(0,Zo.option)((0,Zo.publicKey)(),{prefix:(0,Zo.u32)(),fixed:!0})],["supply",(0,Zo.u64)()],["decimals",(0,Zo.u8)()],["isInitialized",(0,Zo.bool)()],["freezeAuthority",(0,Zo.option)((0,Zo.publicKey)(),{prefix:(0,Zo.u32)(),fixed:!0})]],{description:"MintAccountData"})}$a.getMintAccountDataSerializer=ize;function tR(n){return(0,kb.deserializeAccount)(n,ize())}$a.deserializeMint=tR;async function gzt(n,e,t){const r=await n.rpc.getAccount((0,kb.publicKey)(e,!1),t);return(0,kb.assertAccountExists)(r,"Mint"),tR(r)}$a.fetchMint=gzt;async function mzt(n,e,t){const r=await n.rpc.getAccount((0,kb.publicKey)(e,!1),t);return r.exists?tR(r):null}$a.safeFetchMint=mzt;async function yzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,kb.publicKey)(s,!1)),t)).map(s=>((0,kb.assertAccountExists)(s,"Mint"),tR(s)))}$a.fetchAllMint=yzt;async function pzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,kb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>tR(s))}$a.safeFetchAllMint=pzt;function bzt(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,kb.gpaBuilder)(n,e).registerFields({mintAuthority:[0,(0,Zo.option)((0,Zo.publicKey)(),{prefix:(0,Zo.u32)(),fixed:!0})],supply:[36,(0,Zo.u64)()],decimals:[44,(0,Zo.u8)()],isInitialized:[45,(0,Zo.bool)()],freezeAuthority:[46,(0,Zo.option)((0,Zo.publicKey)(),{prefix:(0,Zo.u32)(),fixed:!0})]}).deserializeUsing(t=>tR(t)).whereSize(82)}$a.getMintGpaBuilder=bzt;function Szt(){return 82}$a.getMintSize=Szt;var Da={};Object.defineProperty(Da,"__esModule",{value:!0});Da.getMultisigSize=Da.getMultisigGpaBuilder=Da.safeFetchAllMultisig=Da.fetchAllMultisig=Da.safeFetchMultisig=Da.fetchMultisig=Da.deserializeMultisig=Da.getMultisigAccountDataSerializer=void 0;const vb=Z,Ql=q;function oze(){return(0,Ql.struct)([["m",(0,Ql.u8)()],["n",(0,Ql.u8)()],["isInitialized",(0,Ql.bool)()],["signers",(0,Ql.array)((0,Ql.publicKey)(),{size:11})]],{description:"MultisigAccountData"})}Da.getMultisigAccountDataSerializer=oze;function rR(n){return(0,vb.deserializeAccount)(n,oze())}Da.deserializeMultisig=rR;async function kzt(n,e,t){const r=await n.rpc.getAccount((0,vb.publicKey)(e,!1),t);return(0,vb.assertAccountExists)(r,"Multisig"),rR(r)}Da.fetchMultisig=kzt;async function vzt(n,e,t){const r=await n.rpc.getAccount((0,vb.publicKey)(e,!1),t);return r.exists?rR(r):null}Da.safeFetchMultisig=vzt;async function Azt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,vb.publicKey)(s,!1)),t)).map(s=>((0,vb.assertAccountExists)(s,"Multisig"),rR(s)))}Da.fetchAllMultisig=Azt;async function wzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,vb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>rR(s))}Da.safeFetchAllMultisig=wzt;function Izt(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,vb.gpaBuilder)(n,e).registerFields({m:[0,(0,Ql.u8)()],n:[1,(0,Ql.u8)()],isInitialized:[2,(0,Ql.bool)()],signers:[3,(0,Ql.array)((0,Ql.publicKey)(),{size:11})]}).deserializeUsing(t=>rR(t)).whereSize(355)}Da.getMultisigGpaBuilder=Izt;function Pzt(){return 355}Da.getMultisigSize=Pzt;var Oa={},YL={},aze={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAuthorityTypeSerializer=n.AuthorityType=void 0;const e=q;var t;(function(s){s[s.MintTokens=0]="MintTokens",s[s.FreezeAccount=1]="FreezeAccount",s[s.AccountOwner=2]="AccountOwner",s[s.CloseAccount=3]="CloseAccount"})(t=n.AuthorityType||(n.AuthorityType={}));function r(){return(0,e.scalarEnum)(t,{description:"AuthorityType"})}n.getAuthorityTypeSerializer=r})(aze);var cze={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStateSerializer=n.TokenState=void 0;const e=q;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.Initialized=1]="Initialized",s[s.Frozen=2]="Frozen"})(t=n.TokenState||(n.TokenState={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenState"})}n.getTokenStateSerializer=r})(cze);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(aze,n),t(cze,n)})(YL);Object.defineProperty(Oa,"__esModule",{value:!0});Oa.getTokenSize=Oa.getTokenGpaBuilder=Oa.safeFetchAllToken=Oa.fetchAllToken=Oa.safeFetchToken=Oa.fetchToken=Oa.deserializeToken=Oa.getTokenAccountDataSerializer=void 0;const Ab=Z,ys=q,uze=YL;function lze(){return(0,ys.struct)([["mint",(0,ys.publicKey)()],["owner",(0,ys.publicKey)()],["amount",(0,ys.u64)()],["delegate",(0,ys.option)((0,ys.publicKey)(),{prefix:(0,ys.u32)(),fixed:!0})],["state",(0,uze.getTokenStateSerializer)()],["isNative",(0,ys.option)((0,ys.u64)(),{prefix:(0,ys.u32)(),fixed:!0})],["delegatedAmount",(0,ys.u64)()],["closeAuthority",(0,ys.option)((0,ys.publicKey)(),{prefix:(0,ys.u32)(),fixed:!0})]],{description:"TokenAccountData"})}Oa.getTokenAccountDataSerializer=lze;function nR(n){return(0,Ab.deserializeAccount)(n,lze())}Oa.deserializeToken=nR;async function _zt(n,e,t){const r=await n.rpc.getAccount((0,Ab.publicKey)(e,!1),t);return(0,Ab.assertAccountExists)(r,"Token"),nR(r)}Oa.fetchToken=_zt;async function Ezt(n,e,t){const r=await n.rpc.getAccount((0,Ab.publicKey)(e,!1),t);return r.exists?nR(r):null}Oa.safeFetchToken=Ezt;async function xzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Ab.publicKey)(s,!1)),t)).map(s=>((0,Ab.assertAccountExists)(s,"Token"),nR(s)))}Oa.fetchAllToken=xzt;async function Tzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Ab.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>nR(s))}Oa.safeFetchAllToken=Tzt;function Rzt(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,Ab.gpaBuilder)(n,e).registerFields({mint:[0,(0,ys.publicKey)()],owner:[32,(0,ys.publicKey)()],amount:[64,(0,ys.u64)()],delegate:[72,(0,ys.option)((0,ys.publicKey)(),{prefix:(0,ys.u32)(),fixed:!0})],state:[108,(0,uze.getTokenStateSerializer)()],isNative:[109,(0,ys.option)((0,ys.u64)(),{prefix:(0,ys.u32)(),fixed:!0})],delegatedAmount:[121,(0,ys.u64)()],closeAuthority:[129,(0,ys.option)((0,ys.publicKey)(),{prefix:(0,ys.u32)(),fixed:!0})]}).deserializeUsing(t=>nR(t)).whereSize(165)}Oa.getTokenGpaBuilder=Rzt;function Czt(){return 165}Oa.getTokenSize=Czt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Eo,n),t($a,n),t(Da,n),t(Oa,n)})(GL);var vh={},Kf={};Object.defineProperty(Kf,"__esModule",{value:!0});Kf.getMplSystemExtrasErrorFromName=Kf.getMplSystemExtrasErrorFromCode=Kf.SysExInvalidOwnerForSourceError=Kf.SysExInvalidSystemProgramError=void 0;const dze=Z,pse=new Map,bse=new Map;class Sse extends dze.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=0}}Kf.SysExInvalidSystemProgramError=Sse;pse.set(0,Sse);bse.set("InvalidSystemProgram",Sse);class kse extends dze.ProgramError{constructor(e,t){super("Invalid Program Owner For The Source Account",e,t),this.name="InvalidOwnerForSource",this.code=1}}Kf.SysExInvalidOwnerForSourceError=kse;pse.set(1,kse);bse.set("InvalidOwnerForSource",kse);function Mzt(n,e,t){const r=pse.get(n);return r?new r(e,t):null}Kf.getMplSystemExtrasErrorFromCode=Mzt;function Bzt(n,e,t){const r=bse.get(n);return r?new r(e,t):null}Kf.getMplSystemExtrasErrorFromName=Bzt;var xo={};Object.defineProperty(xo,"__esModule",{value:!0});xo.getMplTokenExtrasErrorFromName=xo.getMplTokenExtrasErrorFromCode=xo.TokExCannotCreateNonAssociatedTokenError=xo.TokExInvalidTokenOwnerError=xo.TokExInvalidTokenMintError=xo.TokExInvalidProgramOwnerError=xo.TokExInvalidAssociatedTokenAccountError=xo.TokExInvalidAssociatedTokenProgramError=xo.TokExInvalidTokenProgramError=xo.TokExInvalidSystemProgramError=void 0;const Vb=Z,gm=new Map,mm=new Map;class vse extends Vb.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=0}}xo.TokExInvalidSystemProgramError=vse;gm.set(0,vse);mm.set("InvalidSystemProgram",vse);class Ase extends Vb.ProgramError{constructor(e,t){super("Invalid Token Program",e,t),this.name="InvalidTokenProgram",this.code=1}}xo.TokExInvalidTokenProgramError=Ase;gm.set(1,Ase);mm.set("InvalidTokenProgram",Ase);class wse extends Vb.ProgramError{constructor(e,t){super("Invalid Associated Token Program",e,t),this.name="InvalidAssociatedTokenProgram",this.code=2}}xo.TokExInvalidAssociatedTokenProgramError=wse;gm.set(2,wse);mm.set("InvalidAssociatedTokenProgram",wse);class Ise extends Vb.ProgramError{constructor(e,t){super("Invalid Associated Token Account: it should derive from the provided mint and owner",e,t),this.name="InvalidAssociatedTokenAccount",this.code=3}}xo.TokExInvalidAssociatedTokenAccountError=Ise;gm.set(3,Ise);mm.set("InvalidAssociatedTokenAccount",Ise);class Pse extends Vb.ProgramError{constructor(e,t){super("Invalid Program Owner",e,t),this.name="InvalidProgramOwner",this.code=4}}xo.TokExInvalidProgramOwnerError=Pse;gm.set(4,Pse);mm.set("InvalidProgramOwner",Pse);class _se extends Vb.ProgramError{constructor(e,t){super("Invalid Token Mint: it should be the same as the provided mint account",e,t),this.name="InvalidTokenMint",this.code=5}}xo.TokExInvalidTokenMintError=_se;gm.set(5,_se);mm.set("InvalidTokenMint",_se);class Ese extends Vb.ProgramError{constructor(e,t){super("Invalid Program Owner: it should be the same as the provided owner account",e,t),this.name="InvalidTokenOwner",this.code=6}}xo.TokExInvalidTokenOwnerError=Ese;gm.set(6,Ese);mm.set("InvalidTokenOwner",Ese);class xse extends Vb.ProgramError{constructor(e,t){super("Cannot create non-associated token accounts as they would need to sign the transaction. Please provide an associated token account instead",e,t),this.name="CannotCreateNonAssociatedToken",this.code=7}}xo.TokExCannotCreateNonAssociatedTokenError=xse;gm.set(7,xse);mm.set("CannotCreateNonAssociatedToken",xse);function zzt(n,e,t){const r=gm.get(n);return r?new r(e,t):null}xo.getMplTokenExtrasErrorFromCode=zzt;function $zt(n,e,t){const r=mm.get(n);return r?new r(e,t):null}xo.getMplTokenExtrasErrorFromName=$zt;var o_={};Object.defineProperty(o_,"__esModule",{value:!0});o_.getSplAddressLookupTableErrorFromName=o_.getSplAddressLookupTableErrorFromCode=void 0;const Dzt=new Map,Ozt=new Map;function Kzt(n,e,t){const r=Dzt.get(n);return r?new r(e,t):null}o_.getSplAddressLookupTableErrorFromCode=Kzt;function Lzt(n,e,t){const r=Ozt.get(n);return r?new r(e,t):null}o_.getSplAddressLookupTableErrorFromName=Lzt;var Op={};Object.defineProperty(Op,"__esModule",{value:!0});Op.getSplAssociatedTokenErrorFromName=Op.getSplAssociatedTokenErrorFromCode=Op.AtaInvalidOwnerError=void 0;const Wzt=Z,fze=new Map,hze=new Map;class Tse extends Wzt.ProgramError{constructor(e,t){super("Associated token account owner does not match address derivation",e,t),this.name="InvalidOwner",this.code=0}}Op.AtaInvalidOwnerError=Tse;fze.set(0,Tse);hze.set("InvalidOwner",Tse);function Nzt(n,e,t){const r=fze.get(n);return r?new r(e,t):null}Op.getSplAssociatedTokenErrorFromCode=Nzt;function Fzt(n,e,t){const r=hze.get(n);return r?new r(e,t):null}Op.getSplAssociatedTokenErrorFromName=Fzt;var a_={};Object.defineProperty(a_,"__esModule",{value:!0});a_.getSplComputeBudgetErrorFromName=a_.getSplComputeBudgetErrorFromCode=void 0;const Uzt=new Map,Vzt=new Map;function qzt(n,e,t){const r=Uzt.get(n);return r?new r(e,t):null}a_.getSplComputeBudgetErrorFromCode=qzt;function jzt(n,e,t){const r=Vzt.get(n);return r?new r(e,t):null}a_.getSplComputeBudgetErrorFromName=jzt;var c_={};Object.defineProperty(c_,"__esModule",{value:!0});c_.getSplMemoErrorFromName=c_.getSplMemoErrorFromCode=void 0;const Hzt=new Map,Gzt=new Map;function Yzt(n,e,t){const r=Hzt.get(n);return r?new r(e,t):null}c_.getSplMemoErrorFromCode=Yzt;function Zzt(n,e,t){const r=Gzt.get(n);return r?new r(e,t):null}c_.getSplMemoErrorFromName=Zzt;var u_={};Object.defineProperty(u_,"__esModule",{value:!0});u_.getSplSystemErrorFromName=u_.getSplSystemErrorFromCode=void 0;const Jzt=new Map,Xzt=new Map;function Qzt(n,e,t){const r=Jzt.get(n);return r?new r(e,t):null}u_.getSplSystemErrorFromCode=Qzt;function e$t(n,e,t){const r=Xzt.get(n);return r?new r(e,t):null}u_.getSplSystemErrorFromName=e$t;var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.getSplTokenErrorFromName=Ar.getSplTokenErrorFromCode=Ar.TokNonNativeNotSupportedError=Ar.TokMintDecimalsMismatchError=Ar.TokAccountFrozenError=Ar.TokMintCannotFreezeError=Ar.TokAuthorityTypeNotSupportedError=Ar.TokOverflowError=Ar.TokInvalidStateError=Ar.TokInvalidInstructionError=Ar.TokNonNativeHasBalanceError=Ar.TokNativeNotSupportedError=Ar.TokUninitializedStateError=Ar.TokInvalidNumberOfRequiredSignersError=Ar.TokInvalidNumberOfProvidedSignersError=Ar.TokAlreadyInUseError=Ar.TokFixedSupplyError=Ar.TokOwnerMismatchError=Ar.TokMintMismatchError=Ar.TokInvalidMintError=Ar.TokInsufficientFundsError=Ar.TokNotRentExemptError=void 0;const qo=Z,Ko=new Map,Lo=new Map;class Rse extends qo.ProgramError{constructor(e,t){super("Lamport balance below rent-exempt threshold",e,t),this.name="NotRentExempt",this.code=0}}Ar.TokNotRentExemptError=Rse;Ko.set(0,Rse);Lo.set("NotRentExempt",Rse);class Cse extends qo.ProgramError{constructor(e,t){super("Insufficient funds",e,t),this.name="InsufficientFunds",this.code=1}}Ar.TokInsufficientFundsError=Cse;Ko.set(1,Cse);Lo.set("InsufficientFunds",Cse);class Mse extends qo.ProgramError{constructor(e,t){super("Invalid Mint",e,t),this.name="InvalidMint",this.code=2}}Ar.TokInvalidMintError=Mse;Ko.set(2,Mse);Lo.set("InvalidMint",Mse);class Bse extends qo.ProgramError{constructor(e,t){super("Account not associated with this Mint",e,t),this.name="MintMismatch",this.code=3}}Ar.TokMintMismatchError=Bse;Ko.set(3,Bse);Lo.set("MintMismatch",Bse);class zse extends qo.ProgramError{constructor(e,t){super("Owner does not match",e,t),this.name="OwnerMismatch",this.code=4}}Ar.TokOwnerMismatchError=zse;Ko.set(4,zse);Lo.set("OwnerMismatch",zse);class $se extends qo.ProgramError{constructor(e,t){super("Fixed supply",e,t),this.name="FixedSupply",this.code=5}}Ar.TokFixedSupplyError=$se;Ko.set(5,$se);Lo.set("FixedSupply",$se);class Dse extends qo.ProgramError{constructor(e,t){super("Already in use",e,t),this.name="AlreadyInUse",this.code=6}}Ar.TokAlreadyInUseError=Dse;Ko.set(6,Dse);Lo.set("AlreadyInUse",Dse);class Ose extends qo.ProgramError{constructor(e,t){super("Invalid number of provided signers",e,t),this.name="InvalidNumberOfProvidedSigners",this.code=7}}Ar.TokInvalidNumberOfProvidedSignersError=Ose;Ko.set(7,Ose);Lo.set("InvalidNumberOfProvidedSigners",Ose);class Kse extends qo.ProgramError{constructor(e,t){super("Invalid number of required signers",e,t),this.name="InvalidNumberOfRequiredSigners",this.code=8}}Ar.TokInvalidNumberOfRequiredSignersError=Kse;Ko.set(8,Kse);Lo.set("InvalidNumberOfRequiredSigners",Kse);class Lse extends qo.ProgramError{constructor(e,t){super("State is unititialized",e,t),this.name="UninitializedState",this.code=9}}Ar.TokUninitializedStateError=Lse;Ko.set(9,Lse);Lo.set("UninitializedState",Lse);class Wse extends qo.ProgramError{constructor(e,t){super("Instruction does not support native tokens",e,t),this.name="NativeNotSupported",this.code=10}}Ar.TokNativeNotSupportedError=Wse;Ko.set(10,Wse);Lo.set("NativeNotSupported",Wse);class Nse extends qo.ProgramError{constructor(e,t){super("Non-native account can only be closed if its balance is zero",e,t),this.name="NonNativeHasBalance",this.code=11}}Ar.TokNonNativeHasBalanceError=Nse;Ko.set(11,Nse);Lo.set("NonNativeHasBalance",Nse);class Fse extends qo.ProgramError{constructor(e,t){super("Invalid instruction",e,t),this.name="InvalidInstruction",this.code=12}}Ar.TokInvalidInstructionError=Fse;Ko.set(12,Fse);Lo.set("InvalidInstruction",Fse);class Use extends qo.ProgramError{constructor(e,t){super("State is invalid for requested operation",e,t),this.name="InvalidState",this.code=13}}Ar.TokInvalidStateError=Use;Ko.set(13,Use);Lo.set("InvalidState",Use);class Vse extends qo.ProgramError{constructor(e,t){super("Operation overflowed",e,t),this.name="Overflow",this.code=14}}Ar.TokOverflowError=Vse;Ko.set(14,Vse);Lo.set("Overflow",Vse);class qse extends qo.ProgramError{constructor(e,t){super("Account does not support specified authority type",e,t),this.name="AuthorityTypeNotSupported",this.code=15}}Ar.TokAuthorityTypeNotSupportedError=qse;Ko.set(15,qse);Lo.set("AuthorityTypeNotSupported",qse);class jse extends qo.ProgramError{constructor(e,t){super("This token mint cannot freeze accounts",e,t),this.name="MintCannotFreeze",this.code=16}}Ar.TokMintCannotFreezeError=jse;Ko.set(16,jse);Lo.set("MintCannotFreeze",jse);class Hse extends qo.ProgramError{constructor(e,t){super("Account is frozen",e,t),this.name="AccountFrozen",this.code=17}}Ar.TokAccountFrozenError=Hse;Ko.set(17,Hse);Lo.set("AccountFrozen",Hse);class Gse extends qo.ProgramError{constructor(e,t){super("The provided decimals value different from the Mint decimals",e,t),this.name="MintDecimalsMismatch",this.code=18}}Ar.TokMintDecimalsMismatchError=Gse;Ko.set(18,Gse);Lo.set("MintDecimalsMismatch",Gse);class Yse extends qo.ProgramError{constructor(e,t){super("Instruction does not support non-native tokens",e,t),this.name="NonNativeNotSupported",this.code=19}}Ar.TokNonNativeNotSupportedError=Yse;Ko.set(19,Yse);Lo.set("NonNativeNotSupported",Yse);function t$t(n,e,t){const r=Ko.get(n);return r?new r(e,t):null}Ar.getSplTokenErrorFromCode=t$t;function r$t(n,e,t){const r=Lo.get(n);return r?new r(e,t):null}Ar.getSplTokenErrorFromName=r$t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Kf,n),t(xo,n),t(o_,n),t(Op,n),t(a_,n),t(c_,n),t(u_,n),t(Ar,n)})(vh);var gze={},l_={},or={};Object.defineProperty(or,"__esModule",{value:!0});or.getAccountMetasAndSigners=or.expectPda=or.expectPublicKey=or.expectSome=void 0;const Y2=Z;function n$t(n){if(n==null)throw new Error("Expected a value but received null or undefined.");return n}or.expectSome=n$t;function s$t(n){if(!n)throw new Error("Expected a PublicKey.");return(0,Y2.publicKey)(n,!1)}or.expectPublicKey=s$t;function i$t(n){if(!n||!Array.isArray(n)||!(0,Y2.isPda)(n))throw new Error("Expected a PDA.");return n}or.expectPda=i$t;function o$t(n,e,t){const r=[],s=[];return n.forEach(i=>{if(!i.value){if(e==="omitted")return;r.push({pubkey:t,isSigner:!1,isWritable:!1});return}(0,Y2.isSigner)(i.value)&&s.push(i.value),r.push({pubkey:(0,Y2.publicKey)(i.value,!1),isSigner:(0,Y2.isSigner)(i.value),isWritable:i.isWritable})}),[r,s]}or.getAccountMetasAndSigners=o$t;Object.defineProperty(l_,"__esModule",{value:!0});l_.addMemo=l_.getAddMemoInstructionDataSerializer=void 0;const a$t=Z,tbe=q,c$t=or;function mze(){return(0,tbe.struct)([["memo",(0,tbe.string)()]],{description:"AddMemoInstructionData"})}l_.getAddMemoInstructionDataSerializer=mze;function u$t(n,e){const t=n.programs.getPublicKey("splMemo","Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,c$t.getAccountMetasAndSigners)(i,"programId",t),c=mze().serialize(s),u=0;return(0,a$t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}l_.addMemo=u$t;var d_={};Object.defineProperty(d_,"__esModule",{value:!0});d_.amountToUiAmount=d_.getAmountToUiAmountInstructionDataSerializer=void 0;const l$t=Z,o3=q,d$t=or;function yze(){return(0,o3.mapSerializer)((0,o3.struct)([["discriminator",(0,o3.u8)()],["amount",(0,o3.u64)()]],{description:"AmountToUiAmountInstructionData"}),n=>({...n,discriminator:23}))}d_.getAmountToUiAmountInstructionDataSerializer=yze;function f$t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,d$t.getAccountMetasAndSigners)(i,"programId",t),c=yze().serialize(s),u=0;return(0,l$t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}d_.amountToUiAmount=f$t;var f_={};Object.defineProperty(f_,"__esModule",{value:!0});f_.approveTokenDelegate=f_.getApproveTokenDelegateInstructionDataSerializer=void 0;const h$t=Z,a3=q,g$t=or;function pze(){return(0,a3.mapSerializer)((0,a3.struct)([["discriminator",(0,a3.u8)()],["amount",(0,a3.u64)()]],{description:"ApproveTokenDelegateInstructionData"}),n=>({...n,discriminator:4}))}f_.getApproveTokenDelegateInstructionDataSerializer=pze;function m$t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,g$t.getAccountMetasAndSigners)(i,"programId",t),c=pze().serialize(s),u=0;return(0,h$t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}f_.approveTokenDelegate=m$t;var h_={};Object.defineProperty(h_,"__esModule",{value:!0});h_.approveTokenDelegateChecked=h_.getApproveTokenDelegateCheckedInstructionDataSerializer=void 0;const y$t=Z,WC=q,p$t=or;function bze(){return(0,WC.mapSerializer)((0,WC.struct)([["discriminator",(0,WC.u8)()],["amount",(0,WC.u64)()],["decimals",(0,WC.u8)()]],{description:"ApproveTokenDelegateCheckedInstructionData"}),n=>({...n,discriminator:13}))}h_.getApproveTokenDelegateCheckedInstructionDataSerializer=bze;function b$t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},mint:{index:1,isWritable:!1,value:e.mint??null},delegate:{index:2,isWritable:!1,value:e.delegate??null},owner:{index:3,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,p$t.getAccountMetasAndSigners)(i,"programId",t),c=bze().serialize(s),u=0;return(0,y$t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}h_.approveTokenDelegateChecked=b$t;var g_={};Object.defineProperty(g_,"__esModule",{value:!0});g_.burnToken=g_.getBurnTokenInstructionDataSerializer=void 0;const S$t=Z,c3=q,k$t=or;function Sze(){return(0,c3.mapSerializer)((0,c3.struct)([["discriminator",(0,c3.u8)()],["amount",(0,c3.u64)()]],{description:"BurnTokenInstructionData"}),n=>({...n,discriminator:8}))}g_.getBurnTokenInstructionDataSerializer=Sze;function v$t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!0,value:e.mint??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,k$t.getAccountMetasAndSigners)(i,"programId",t),c=Sze().serialize(s),u=0;return(0,S$t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}g_.burnToken=v$t;var m_={};Object.defineProperty(m_,"__esModule",{value:!0});m_.burnTokenChecked=m_.getBurnTokenCheckedInstructionDataSerializer=void 0;const A$t=Z,NC=q,w$t=or;function kze(){return(0,NC.mapSerializer)((0,NC.struct)([["discriminator",(0,NC.u8)()],["amount",(0,NC.u64)()],["decimals",(0,NC.u8)()]],{description:"BurnTokenCheckedInstructionData"}),n=>({...n,discriminator:15}))}m_.getBurnTokenCheckedInstructionDataSerializer=kze;function I$t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!0,value:e.mint??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,w$t.getAccountMetasAndSigners)(i,"programId",t),c=kze().serialize(s),u=0;return(0,A$t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}m_.burnTokenChecked=I$t;var y_={};Object.defineProperty(y_,"__esModule",{value:!0});y_.closeLut=y_.getCloseLutInstructionDataSerializer=void 0;const P$t=Z,WU=q,_$t=or;function vze(){return(0,WU.mapSerializer)((0,WU.struct)([["discriminator",(0,WU.u32)()]],{description:"CloseLutInstructionData"}),n=>({...n,discriminator:4}))}y_.getCloseLutInstructionDataSerializer=vze;function E$t(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},recipient:{index:2,isWritable:!0,value:e.recipient??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,_$t.getAccountMetasAndSigners)(s,"programId",t),a=vze().serialize({}),c=0;return(0,P$t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}y_.closeLut=E$t;var p_={};Object.defineProperty(p_,"__esModule",{value:!0});p_.closeToken=p_.getCloseTokenInstructionDataSerializer=void 0;const x$t=Z,NU=q,T$t=or;function Aze(){return(0,NU.mapSerializer)((0,NU.struct)([["discriminator",(0,NU.u8)()]],{description:"CloseTokenInstructionData"}),n=>({...n,discriminator:9}))}p_.getCloseTokenInstructionDataSerializer=Aze;function R$t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},destination:{index:1,isWritable:!0,value:e.destination??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,T$t.getAccountMetasAndSigners)(s,"programId",t),a=Aze().serialize({}),c=0;return(0,x$t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}p_.closeToken=R$t;var b_={};Object.defineProperty(b_,"__esModule",{value:!0});b_.createAccount=b_.getCreateAccountInstructionDataSerializer=void 0;const Uj=Z,tv=q,C$t=or;function wze(){return(0,tv.mapSerializer)((0,tv.struct)([["discriminator",(0,tv.u32)()],["lamports",(0,Uj.mapAmountSerializer)((0,tv.u64)(),"SOL",9)],["space",(0,tv.u64)()],["programId",(0,tv.publicKey)()]],{description:"CreateAccountInstructionData"}),n=>({...n,discriminator:0}))}b_.getCreateAccountInstructionDataSerializer=wze;function M$t(n,e){const t=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r={payer:{index:0,isWritable:!0,value:e.payer??null},newAccount:{index:1,isWritable:!0,value:e.newAccount??null}},s={...e};r.payer.value||(r.payer.value=n.payer);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,C$t.getAccountMetasAndSigners)(i,"programId",t),c=wze().serialize(s),u=Number(e.space)+Uj.ACCOUNT_HEADER_SIZE;return(0,Uj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}b_.createAccount=M$t;var S_={};Object.defineProperty(S_,"__esModule",{value:!0});S_.createAccountWithRent=S_.getCreateAccountWithRentInstructionDataSerializer=void 0;const rbe=Z,FC=q,B$t=or;function Ize(){return(0,FC.mapSerializer)((0,FC.struct)([["discriminator",(0,FC.u8)()],["space",(0,FC.u64)()],["programId",(0,FC.publicKey)()]],{description:"CreateAccountWithRentInstructionData"}),n=>({...n,discriminator:0}))}S_.getCreateAccountWithRentInstructionDataSerializer=Ize;function z$t(n,e){const t=n.programs.getPublicKey("mplSystemExtras","SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG"),r={payer:{index:0,isWritable:!0,value:e.payer??null},newAccount:{index:1,isWritable:!0,value:e.newAccount??null},systemProgram:{index:2,isWritable:!1,value:e.systemProgram??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,B$t.getAccountMetasAndSigners)(i,"programId",t),c=Ize().serialize(s),u=Number(e.space)+rbe.ACCOUNT_HEADER_SIZE;return(0,rbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}S_.createAccountWithRent=z$t;var ZL={},sR={},JL={};Object.defineProperty(JL,"__esModule",{value:!0});JL.findAssociatedTokenPda=void 0;const FU=q;function $$t(n,e){const t=n.programs.getPublicKey("splAssociatedToken"),r=e.tokenProgramId??n.programs.getPublicKey("splToken");return n.eddsa.findPda(t,[(0,FU.publicKey)().serialize(e.owner),(0,FU.publicKey)().serialize(r),(0,FU.publicKey)().serialize(e.mint)])}JL.findAssociatedTokenPda=$$t;var XL={};Object.defineProperty(XL,"__esModule",{value:!0});XL.resolveExtendLutBytes=void 0;const D$t=(n,e,t,r)=>32*t.addresses.length;XL.resolveExtendLutBytes=D$t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(JL,n),t(XL,n)})(sR);Object.defineProperty(ZL,"__esModule",{value:!0});ZL.createAssociatedToken=void 0;const nbe=Z,O$t=sR,K$t=GL,u3=or;function L$t(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={payer:{index:0,isWritable:!0,value:e.payer??null},ata:{index:1,isWritable:!0,value:e.ata??null},owner:{index:2,isWritable:!1,value:e.owner??null},mint:{index:3,isWritable:!1,value:e.mint??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null}};r.payer.value||(r.payer.value=n.payer),r.owner.value||(r.owner.value=n.identity.publicKey),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ata.value||(r.ata.value=(0,O$t.findAssociatedTokenPda)(n,{owner:(0,u3.expectPublicKey)(r.owner.value),mint:(0,u3.expectPublicKey)(r.mint.value),tokenProgramId:(0,u3.expectPublicKey)(r.tokenProgram.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,u3.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=(0,K$t.getTokenSize)()+nbe.ACCOUNT_HEADER_SIZE;return(0,nbe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}ZL.createAssociatedToken=L$t;var k_={};Object.defineProperty(k_,"__esModule",{value:!0});k_.createEmptyLut=k_.getCreateEmptyLutInstructionDataSerializer=void 0;const sbe=Z,UC=q,W$t=GL,l3=or;function Pze(){return(0,UC.mapSerializer)((0,UC.struct)([["discriminator",(0,UC.u32)()],["recentSlot",(0,UC.u64)()],["bump",(0,UC.u8)()]],{description:"CreateEmptyLutInstructionData"}),n=>({...n,discriminator:0}))}k_.getCreateEmptyLutInstructionDataSerializer=Pze;function N$t(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},payer:{index:2,isWritable:!0,value:e.payer??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.address.value||(r.address.value=(0,W$t.findAddressLookupTablePda)(n,{authority:(0,l3.expectPublicKey)(r.authority.value),recentSlot:(0,l3.expectSome)(s.recentSlot)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.bump||(s.bump=(0,l3.expectPda)(r.address.value)[1]);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,l3.getAccountMetasAndSigners)(i,"programId",t),c=Pze().serialize(s),u=56+sbe.ACCOUNT_HEADER_SIZE;return(0,sbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}k_.createEmptyLut=N$t;var QL={};Object.defineProperty(QL,"__esModule",{value:!0});QL.createIdempotentAssociatedToken=void 0;const F$t=Z,U$t=or;function V$t(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={payer:{index:0,isWritable:!0,value:e.payer??null},ata:{index:1,isWritable:!0,value:e.ata??null},owner:{index:2,isWritable:!1,value:e.owner??null},mint:{index:3,isWritable:!1,value:e.mint??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null}};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,U$t.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=0;return(0,F$t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}QL.createIdempotentAssociatedToken=V$t;var v_={};Object.defineProperty(v_,"__esModule",{value:!0});v_.createTokenIfMissing=v_.getCreateTokenIfMissingInstructionDataSerializer=void 0;const q$t=Z,UU=q,j$t=sR,VC=or;function _ze(){return(0,UU.mapSerializer)((0,UU.struct)([["discriminator",(0,UU.u8)()]],{description:"CreateTokenIfMissingInstructionData"}),n=>({...n,discriminator:0}))}v_.getCreateTokenIfMissingInstructionDataSerializer=_ze;function H$t(n,e){const t=n.programs.getPublicKey("mplTokenExtras","TokExjvjJmhKaRBShsBAsbSvEWMA1AgUNK7ps4SAc2p"),r={payer:{index:0,isWritable:!0,value:e.payer??null},token:{index:1,isWritable:!1,value:e.token??null},mint:{index:2,isWritable:!1,value:e.mint??null},owner:{index:3,isWritable:!1,value:e.owner??null},ata:{index:4,isWritable:!0,value:e.ata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},ataProgram:{index:7,isWritable:!1,value:e.ataProgram??null}};r.payer.value||(r.payer.value=n.payer),r.owner.value||(r.owner.value=n.identity.publicKey),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ata.value||(r.ata.value=(0,j$t.findAssociatedTokenPda)(n,{owner:(0,VC.expectPublicKey)(r.owner.value),mint:(0,VC.expectPublicKey)(r.mint.value),tokenProgramId:(0,VC.expectPublicKey)(r.tokenProgram.value)})),r.token.value||(r.token.value=(0,VC.expectSome)(r.ata.value)),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,VC.getAccountMetasAndSigners)(s,"programId",t),a=_ze().serialize({}),c=0;return(0,q$t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}v_.createTokenIfMissing=H$t;var A_={};Object.defineProperty(A_,"__esModule",{value:!0});A_.deactivateLut=A_.getDeactivateLutInstructionDataSerializer=void 0;const G$t=Z,VU=q,Y$t=or;function Eze(){return(0,VU.mapSerializer)((0,VU.struct)([["discriminator",(0,VU.u32)()]],{description:"DeactivateLutInstructionData"}),n=>({...n,discriminator:3}))}A_.getDeactivateLutInstructionDataSerializer=Eze;function Z$t(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Y$t.getAccountMetasAndSigners)(s,"programId",t),a=Eze().serialize({}),c=0;return(0,G$t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}A_.deactivateLut=Z$t;var w_={};Object.defineProperty(w_,"__esModule",{value:!0});w_.extendLut=w_.getExtendLutInstructionDataSerializer=void 0;const J$t=Z,rv=q,X$t=sR,Q$t=or;function xze(){return(0,rv.mapSerializer)((0,rv.struct)([["discriminator",(0,rv.u32)()],["addresses",(0,rv.array)((0,rv.publicKey)(),{size:(0,rv.u64)()})]],{description:"ExtendLutInstructionData"}),n=>({...n,discriminator:2}))}w_.getExtendLutInstructionDataSerializer=xze;function e8t(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},payer:{index:2,isWritable:!0,value:e.payer??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Q$t.getAccountMetasAndSigners)(i,"programId",t),c=xze().serialize(s),u=(0,X$t.resolveExtendLutBytes)(n,r,s,t);return(0,J$t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}w_.extendLut=e8t;var I_={};Object.defineProperty(I_,"__esModule",{value:!0});I_.freezeLut=I_.getFreezeLutInstructionDataSerializer=void 0;const t8t=Z,qU=q,r8t=or;function Tze(){return(0,qU.mapSerializer)((0,qU.struct)([["discriminator",(0,qU.u32)()]],{description:"FreezeLutInstructionData"}),n=>({...n,discriminator:1}))}I_.getFreezeLutInstructionDataSerializer=Tze;function n8t(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,r8t.getAccountMetasAndSigners)(s,"programId",t),a=Tze().serialize({}),c=0;return(0,t8t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}I_.freezeLut=n8t;var P_={};Object.defineProperty(P_,"__esModule",{value:!0});P_.freezeToken=P_.getFreezeTokenInstructionDataSerializer=void 0;const s8t=Z,jU=q,i8t=or;function Rze(){return(0,jU.mapSerializer)((0,jU.struct)([["discriminator",(0,jU.u8)()]],{description:"FreezeTokenInstructionData"}),n=>({...n,discriminator:10}))}P_.getFreezeTokenInstructionDataSerializer=Rze;function o8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,i8t.getAccountMetasAndSigners)(s,"programId",t),a=Rze().serialize({}),c=0;return(0,s8t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}P_.freezeToken=o8t;var __={};Object.defineProperty(__,"__esModule",{value:!0});__.getTokenDataSize=__.getGetTokenDataSizeInstructionDataSerializer=void 0;const a8t=Z,HU=q,c8t=or;function Cze(){return(0,HU.mapSerializer)((0,HU.struct)([["discriminator",(0,HU.u8)()]],{description:"GetTokenDataSizeInstructionData"}),n=>({...n,discriminator:21}))}__.getGetTokenDataSizeInstructionDataSerializer=Cze;function u8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,c8t.getAccountMetasAndSigners)(s,"programId",t),a=Cze().serialize({}),c=0;return(0,a8t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}__.getTokenDataSize=u8t;var E_={};Object.defineProperty(E_,"__esModule",{value:!0});E_.initializeImmutableOwner=E_.getInitializeImmutableOwnerInstructionDataSerializer=void 0;const l8t=Z,GU=q,d8t=or;function Mze(){return(0,GU.mapSerializer)((0,GU.struct)([["discriminator",(0,GU.u8)()]],{description:"InitializeImmutableOwnerInstructionData"}),n=>({...n,discriminator:22}))}E_.getInitializeImmutableOwnerInstructionDataSerializer=Mze;function f8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,d8t.getAccountMetasAndSigners)(s,"programId",t),a=Mze().serialize({}),c=0;return(0,l8t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}E_.initializeImmutableOwner=f8t;var x_={};Object.defineProperty(x_,"__esModule",{value:!0});x_.initializeMint=x_.getInitializeMintInstructionDataSerializer=void 0;const ibe=Z,P0=q,h8t=or;function Bze(){return(0,P0.mapSerializer)((0,P0.struct)([["discriminator",(0,P0.u8)()],["decimals",(0,P0.u8)()],["mintAuthority",(0,P0.publicKey)()],["freezeAuthority",(0,P0.option)((0,P0.publicKey)())]],{description:"InitializeMintInstructionData"}),n=>({...n,discriminator:0}))}x_.getInitializeMintInstructionDataSerializer=Bze;function g8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},rent:{index:1,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,ibe.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,h8t.getAccountMetasAndSigners)(i,"programId",t),c=Bze().serialize(s),u=0;return(0,ibe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}x_.initializeMint=g8t;var T_={};Object.defineProperty(T_,"__esModule",{value:!0});T_.initializeMint2=T_.getInitializeMint2InstructionDataSerializer=void 0;const m8t=Z,_0=q,y8t=or;function zze(){return(0,_0.mapSerializer)((0,_0.struct)([["discriminator",(0,_0.u8)()],["decimals",(0,_0.u8)()],["mintAuthority",(0,_0.publicKey)()],["freezeAuthority",(0,_0.option)((0,_0.publicKey)())]],{description:"InitializeMint2InstructionData"}),n=>({...n,discriminator:20}))}T_.getInitializeMint2InstructionDataSerializer=zze;function p8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,y8t.getAccountMetasAndSigners)(i,"programId",t),c=zze().serialize(s),u=0;return(0,m8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}T_.initializeMint2=p8t;var R_={};Object.defineProperty(R_,"__esModule",{value:!0});R_.initializeMultisig=R_.getInitializeMultisigInstructionDataSerializer=void 0;const obe=Z,d3=q,b8t=or;function $ze(){return(0,d3.mapSerializer)((0,d3.struct)([["discriminator",(0,d3.u8)()],["m",(0,d3.u8)()]],{description:"InitializeMultisigInstructionData"}),n=>({...n,discriminator:2}))}R_.getInitializeMultisigInstructionDataSerializer=$ze;function S8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={multisig:{index:0,isWritable:!0,value:e.multisig??null},rent:{index:1,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,obe.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,b8t.getAccountMetasAndSigners)(i,"programId",t),c=$ze().serialize(s),u=0;return(0,obe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}R_.initializeMultisig=S8t;var C_={};Object.defineProperty(C_,"__esModule",{value:!0});C_.initializeMultisig2=C_.getInitializeMultisig2InstructionDataSerializer=void 0;const k8t=Z,f3=q,v8t=or;function Dze(){return(0,f3.mapSerializer)((0,f3.struct)([["discriminator",(0,f3.u8)()],["m",(0,f3.u8)()]],{description:"InitializeMultisig2InstructionData"}),n=>({...n,discriminator:19}))}C_.getInitializeMultisig2InstructionDataSerializer=Dze;function A8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={multisig:{index:0,isWritable:!0,value:e.multisig??null},signer:{index:1,isWritable:!1,value:e.signer??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,v8t.getAccountMetasAndSigners)(i,"programId",t),c=Dze().serialize(s),u=0;return(0,k8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}C_.initializeMultisig2=A8t;var M_={};Object.defineProperty(M_,"__esModule",{value:!0});M_.initializeToken=M_.getInitializeTokenInstructionDataSerializer=void 0;const abe=Z,YU=q,w8t=or;function Oze(){return(0,YU.mapSerializer)((0,YU.struct)([["discriminator",(0,YU.u8)()]],{description:"InitializeTokenInstructionData"}),n=>({...n,discriminator:1}))}M_.getInitializeTokenInstructionDataSerializer=Oze;function I8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null},rent:{index:3,isWritable:!1,value:e.rent??null}};r.rent.value||(r.rent.value=(0,abe.publicKey)("SysvarRent111111111111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,w8t.getAccountMetasAndSigners)(s,"programId",t),a=Oze().serialize({}),c=0;return(0,abe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}M_.initializeToken=I8t;var B_={};Object.defineProperty(B_,"__esModule",{value:!0});B_.initializeToken2=B_.getInitializeToken2InstructionDataSerializer=void 0;const cbe=Z,h3=q,P8t=or;function Kze(){return(0,h3.mapSerializer)((0,h3.struct)([["discriminator",(0,h3.u8)()],["owner",(0,h3.publicKey)()]],{description:"InitializeToken2InstructionData"}),n=>({...n,discriminator:16}))}B_.getInitializeToken2InstructionDataSerializer=Kze;function _8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},rent:{index:2,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,cbe.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,P8t.getAccountMetasAndSigners)(i,"programId",t),c=Kze().serialize(s),u=0;return(0,cbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}B_.initializeToken2=_8t;var z_={};Object.defineProperty(z_,"__esModule",{value:!0});z_.initializeToken3=z_.getInitializeToken3InstructionDataSerializer=void 0;const E8t=Z,g3=q,x8t=or;function Lze(){return(0,g3.mapSerializer)((0,g3.struct)([["discriminator",(0,g3.u8)()],["owner",(0,g3.publicKey)()]],{description:"InitializeToken3InstructionData"}),n=>({...n,discriminator:18}))}z_.getInitializeToken3InstructionDataSerializer=Lze;function T8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,x8t.getAccountMetasAndSigners)(i,"programId",t),c=Lze().serialize(s),u=0;return(0,E8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}z_.initializeToken3=T8t;var $_={};Object.defineProperty($_,"__esModule",{value:!0});$_.mintTokensTo=$_.getMintTokensToInstructionDataSerializer=void 0;const R8t=Z,m3=q,C8t=or;function Wze(){return(0,m3.mapSerializer)((0,m3.struct)([["discriminator",(0,m3.u8)()],["amount",(0,m3.u64)()]],{description:"MintTokensToInstructionData"}),n=>({...n,discriminator:7}))}$_.getMintTokensToInstructionDataSerializer=Wze;function M8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},token:{index:1,isWritable:!0,value:e.token??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null}},s={...e};r.mintAuthority.value||(r.mintAuthority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,C8t.getAccountMetasAndSigners)(i,"programId",t),c=Wze().serialize(s),u=0;return(0,R8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}$_.mintTokensTo=M8t;var D_={};Object.defineProperty(D_,"__esModule",{value:!0});D_.mintTokensToChecked=D_.getMintTokensToCheckedInstructionDataSerializer=void 0;const B8t=Z,qC=q,z8t=or;function Nze(){return(0,qC.mapSerializer)((0,qC.struct)([["discriminator",(0,qC.u8)()],["amount",(0,qC.u64)()],["decimals",(0,qC.u8)()]],{description:"MintTokensToCheckedInstructionData"}),n=>({...n,discriminator:14}))}D_.getMintTokensToCheckedInstructionDataSerializer=Nze;function $8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},token:{index:1,isWritable:!0,value:e.token??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,z8t.getAccountMetasAndSigners)(i,"programId",t),c=Nze().serialize(s),u=0;return(0,B8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}D_.mintTokensToChecked=$8t;var e5={};Object.defineProperty(e5,"__esModule",{value:!0});e5.recoverNestedAssociatedToken=void 0;const D8t=Z,O8t=or;function K8t(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={nestedAssociatedAccountAddress:{index:0,isWritable:!0,value:e.nestedAssociatedAccountAddress??null},nestedTokenMintAddress:{index:1,isWritable:!1,value:e.nestedTokenMintAddress??null},destinationAssociatedAccountAddress:{index:2,isWritable:!0,value:e.destinationAssociatedAccountAddress??null},ownerAssociatedAccountAddress:{index:3,isWritable:!1,value:e.ownerAssociatedAccountAddress??null},ownerTokenMintAddress:{index:4,isWritable:!1,value:e.ownerTokenMintAddress??null},walletAddress:{index:5,isWritable:!0,value:e.walletAddress??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null}};r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,O8t.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=0;return(0,D8t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}e5.recoverNestedAssociatedToken=K8t;var O_={};Object.defineProperty(O_,"__esModule",{value:!0});O_.requestHeapFrame=O_.getRequestHeapFrameInstructionDataSerializer=void 0;const L8t=Z,y3=q,W8t=or;function Fze(){return(0,y3.mapSerializer)((0,y3.struct)([["discriminator",(0,y3.u8)()],["bytes",(0,y3.u32)()]],{description:"RequestHeapFrameInstructionData"}),n=>({...n,discriminator:1}))}O_.getRequestHeapFrameInstructionDataSerializer=Fze;function N8t(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,W8t.getAccountMetasAndSigners)(i,"programId",t),c=Fze().serialize(s),u=0;return(0,L8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}O_.requestHeapFrame=N8t;var K_={};Object.defineProperty(K_,"__esModule",{value:!0});K_.requestUnits=K_.getRequestUnitsInstructionDataSerializer=void 0;const F8t=Z,jC=q,U8t=or;function Uze(){return(0,jC.mapSerializer)((0,jC.struct)([["discriminator",(0,jC.u8)()],["units",(0,jC.u32)()],["additionalFee",(0,jC.u32)()]],{description:"RequestUnitsInstructionData"}),n=>({...n,discriminator:0}))}K_.getRequestUnitsInstructionDataSerializer=Uze;function V8t(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,U8t.getAccountMetasAndSigners)(i,"programId",t),c=Uze().serialize(s),u=0;return(0,F8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}K_.requestUnits=V8t;var L_={};Object.defineProperty(L_,"__esModule",{value:!0});L_.revokeTokenDelegate=L_.getRevokeTokenDelegateInstructionDataSerializer=void 0;const q8t=Z,ZU=q,j8t=or;function Vze(){return(0,ZU.mapSerializer)((0,ZU.struct)([["discriminator",(0,ZU.u8)()]],{description:"RevokeTokenDelegateInstructionData"}),n=>({...n,discriminator:5}))}L_.getRevokeTokenDelegateInstructionDataSerializer=Vze;function H8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},owner:{index:1,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,j8t.getAccountMetasAndSigners)(s,"programId",t),a=Vze().serialize({}),c=0;return(0,q8t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}L_.revokeTokenDelegate=H8t;var W_={};Object.defineProperty(W_,"__esModule",{value:!0});W_.setAuthority=W_.getSetAuthorityInstructionDataSerializer=void 0;const G8t=Z,HC=q,Y8t=or,Z8t=YL;function qze(){return(0,HC.mapSerializer)((0,HC.struct)([["discriminator",(0,HC.u8)()],["authorityType",(0,Z8t.getAuthorityTypeSerializer)()],["newAuthority",(0,HC.option)((0,HC.publicKey)())]],{description:"SetAuthorityInstructionData"}),n=>({...n,discriminator:6}))}W_.getSetAuthorityInstructionDataSerializer=qze;function J8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={owned:{index:0,isWritable:!0,value:e.owned??null},owner:{index:1,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Y8t.getAccountMetasAndSigners)(i,"programId",t),c=qze().serialize(s),u=0;return(0,G8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}W_.setAuthority=J8t;var N_={};Object.defineProperty(N_,"__esModule",{value:!0});N_.setComputeUnitLimit=N_.getSetComputeUnitLimitInstructionDataSerializer=void 0;const X8t=Z,p3=q,Q8t=or;function jze(){return(0,p3.mapSerializer)((0,p3.struct)([["discriminator",(0,p3.u8)()],["units",(0,p3.u32)()]],{description:"SetComputeUnitLimitInstructionData"}),n=>({...n,discriminator:2}))}N_.getSetComputeUnitLimitInstructionDataSerializer=jze;function e3t(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Q8t.getAccountMetasAndSigners)(i,"programId",t),c=jze().serialize(s),u=0;return(0,X8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}N_.setComputeUnitLimit=e3t;var F_={};Object.defineProperty(F_,"__esModule",{value:!0});F_.setComputeUnitPrice=F_.getSetComputeUnitPriceInstructionDataSerializer=void 0;const t3t=Z,b3=q,r3t=or;function Hze(){return(0,b3.mapSerializer)((0,b3.struct)([["discriminator",(0,b3.u8)()],["microLamports",(0,b3.u64)()]],{description:"SetComputeUnitPriceInstructionData"}),n=>({...n,discriminator:3}))}F_.getSetComputeUnitPriceInstructionDataSerializer=Hze;function n3t(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,r3t.getAccountMetasAndSigners)(i,"programId",t),c=Hze().serialize(s),u=0;return(0,t3t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}F_.setComputeUnitPrice=n3t;var U_={};Object.defineProperty(U_,"__esModule",{value:!0});U_.syncNative=U_.getSyncNativeInstructionDataSerializer=void 0;const s3t=Z,JU=q,i3t=or;function Gze(){return(0,JU.mapSerializer)((0,JU.struct)([["discriminator",(0,JU.u8)()]],{description:"SyncNativeInstructionData"}),n=>({...n,discriminator:17}))}U_.getSyncNativeInstructionDataSerializer=Gze;function o3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,i3t.getAccountMetasAndSigners)(s,"programId",t),a=Gze().serialize({}),c=0;return(0,s3t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}U_.syncNative=o3t;var V_={};Object.defineProperty(V_,"__esModule",{value:!0});V_.thawToken=V_.getThawTokenInstructionDataSerializer=void 0;const a3t=Z,XU=q,c3t=or;function Yze(){return(0,XU.mapSerializer)((0,XU.struct)([["discriminator",(0,XU.u8)()]],{description:"ThawTokenInstructionData"}),n=>({...n,discriminator:11}))}V_.getThawTokenInstructionDataSerializer=Yze;function u3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,c3t.getAccountMetasAndSigners)(s,"programId",t),a=Yze().serialize({}),c=0;return(0,a3t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}V_.thawToken=u3t;var q_={};Object.defineProperty(q_,"__esModule",{value:!0});q_.transferAllSol=q_.getTransferAllSolInstructionDataSerializer=void 0;const l3t=Z,QU=q,d3t=or;function Zze(){return(0,QU.mapSerializer)((0,QU.struct)([["discriminator",(0,QU.u8)()]],{description:"TransferAllSolInstructionData"}),n=>({...n,discriminator:1}))}q_.getTransferAllSolInstructionDataSerializer=Zze;function f3t(n,e){const t=n.programs.getPublicKey("mplSystemExtras","SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null},systemProgram:{index:2,isWritable:!1,value:e.systemProgram??null}};r.source.value||(r.source.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,d3t.getAccountMetasAndSigners)(s,"programId",t),a=Zze().serialize({}),c=0;return(0,l3t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}q_.transferAllSol=f3t;var j_={};Object.defineProperty(j_,"__esModule",{value:!0});j_.transferSol=j_.getTransferSolInstructionDataSerializer=void 0;const Jze=Z,S3=q,h3t=or;function Xze(){return(0,S3.mapSerializer)((0,S3.struct)([["discriminator",(0,S3.u32)()],["amount",(0,Jze.mapAmountSerializer)((0,S3.u64)(),"SOL",9)]],{description:"TransferSolInstructionData"}),n=>({...n,discriminator:2}))}j_.getTransferSolInstructionDataSerializer=Xze;function g3t(n,e){const t=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null}},s={...e};r.source.value||(r.source.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,h3t.getAccountMetasAndSigners)(i,"programId",t),c=Xze().serialize(s),u=0;return(0,Jze.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}j_.transferSol=g3t;var H_={};Object.defineProperty(H_,"__esModule",{value:!0});H_.transferTokens=H_.getTransferTokensInstructionDataSerializer=void 0;const m3t=Z,k3=q,y3t=or;function Qze(){return(0,k3.mapSerializer)((0,k3.struct)([["discriminator",(0,k3.u8)()],["amount",(0,k3.u64)()]],{description:"TransferTokensInstructionData"}),n=>({...n,discriminator:3}))}H_.getTransferTokensInstructionDataSerializer=Qze;function p3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,y3t.getAccountMetasAndSigners)(i,"programId",t),c=Qze().serialize(s),u=0;return(0,m3t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}H_.transferTokens=p3t;var G_={};Object.defineProperty(G_,"__esModule",{value:!0});G_.transferTokensChecked=G_.getTransferTokensCheckedInstructionDataSerializer=void 0;const b3t=Z,GC=q,S3t=or;function e$e(){return(0,GC.mapSerializer)((0,GC.struct)([["discriminator",(0,GC.u8)()],["amount",(0,GC.u64)()],["decimals",(0,GC.u8)()]],{description:"TransferTokensCheckedInstructionData"}),n=>({...n,discriminator:12}))}G_.getTransferTokensCheckedInstructionDataSerializer=e$e;function k3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},mint:{index:1,isWritable:!1,value:e.mint??null},destination:{index:2,isWritable:!0,value:e.destination??null},authority:{index:3,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,S3t.getAccountMetasAndSigners)(i,"programId",t),c=e$e().serialize(s),u=0;return(0,b3t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}G_.transferTokensChecked=k3t;var Y_={};Object.defineProperty(Y_,"__esModule",{value:!0});Y_.uiAmountToAmount=Y_.getUiAmountToAmountInstructionDataSerializer=void 0;const v3t=Z,v3=q,A3t=or;function t$e(){return(0,v3.mapSerializer)((0,v3.struct)([["discriminator",(0,v3.u8)()],["uiAmount",(0,v3.u64)()]],{description:"UiAmountToAmountInstructionData"}),n=>({...n,discriminator:24}))}Y_.getUiAmountToAmountInstructionDataSerializer=t$e;function w3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,A3t.getAccountMetasAndSigners)(i,"programId",t),c=t$e().serialize(s),u=0;return(0,v3t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Y_.uiAmountToAmount=w3t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(l_,n),t(d_,n),t(f_,n),t(h_,n),t(g_,n),t(m_,n),t(y_,n),t(p_,n),t(b_,n),t(S_,n),t(ZL,n),t(k_,n),t(QL,n),t(v_,n),t(A_,n),t(w_,n),t(I_,n),t(P_,n),t(__,n),t(E_,n),t(x_,n),t(T_,n),t(R_,n),t(C_,n),t(M_,n),t(B_,n),t(z_,n),t($_,n),t(D_,n),t(e5,n),t(O_,n),t(K_,n),t(L_,n),t(W_,n),t(N_,n),t(F_,n),t(U_,n),t(V_,n),t(q_,n),t(j_,n),t(H_,n),t(G_,n),t(Y_,n)})(gze);var r$e={},n$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplSystemExtrasProgramId=n.getMplSystemExtrasProgram=n.createMplSystemExtrasProgram=n.MPL_SYSTEM_EXTRAS_PROGRAM_ID=void 0;const e=vh;n.MPL_SYSTEM_EXTRAS_PROGRAM_ID="SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG";function t(){return{name:"mplSystemExtras",publicKey:n.MPL_SYSTEM_EXTRAS_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplSystemExtrasErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplSystemExtrasErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplSystemExtrasProgram=t;function r(i,o){return i.programs.get("mplSystemExtras",o)}n.getMplSystemExtrasProgram=r;function s(i,o){return i.programs.getPublicKey("mplSystemExtras",n.MPL_SYSTEM_EXTRAS_PROGRAM_ID,o)}n.getMplSystemExtrasProgramId=s})(n$e);var s$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplTokenExtrasProgramId=n.getMplTokenExtrasProgram=n.createMplTokenExtrasProgram=n.MPL_TOKEN_EXTRAS_PROGRAM_ID=void 0;const e=vh;n.MPL_TOKEN_EXTRAS_PROGRAM_ID="TokExjvjJmhKaRBShsBAsbSvEWMA1AgUNK7ps4SAc2p";function t(){return{name:"mplTokenExtras",publicKey:n.MPL_TOKEN_EXTRAS_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplTokenExtrasErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplTokenExtrasErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplTokenExtrasProgram=t;function r(i,o){return i.programs.get("mplTokenExtras",o)}n.getMplTokenExtrasProgram=r;function s(i,o){return i.programs.getPublicKey("mplTokenExtras",n.MPL_TOKEN_EXTRAS_PROGRAM_ID,o)}n.getMplTokenExtrasProgramId=s})(s$e);var i$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplAddressLookupTableProgramId=n.getSplAddressLookupTableProgram=n.createSplAddressLookupTableProgram=n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID=void 0;const e=vh;n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID="AddressLookupTab1e1111111111111111111111111";function t(){return{name:"splAddressLookupTable",publicKey:n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplAddressLookupTableErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplAddressLookupTableErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplAddressLookupTableProgram=t;function r(i,o){return i.programs.get("splAddressLookupTable",o)}n.getSplAddressLookupTableProgram=r;function s(i,o){return i.programs.getPublicKey("splAddressLookupTable",n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID,o)}n.getSplAddressLookupTableProgramId=s})(i$e);var o$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplAssociatedTokenProgramId=n.getSplAssociatedTokenProgram=n.createSplAssociatedTokenProgram=n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID=void 0;const e=vh;n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL";function t(){return{name:"splAssociatedToken",publicKey:n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplAssociatedTokenErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplAssociatedTokenErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplAssociatedTokenProgram=t;function r(i,o){return i.programs.get("splAssociatedToken",o)}n.getSplAssociatedTokenProgram=r;function s(i,o){return i.programs.getPublicKey("splAssociatedToken",n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID,o)}n.getSplAssociatedTokenProgramId=s})(o$e);var a$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplComputeBudgetProgramId=n.getSplComputeBudgetProgram=n.createSplComputeBudgetProgram=n.SPL_COMPUTE_BUDGET_PROGRAM_ID=void 0;const e=vh;n.SPL_COMPUTE_BUDGET_PROGRAM_ID="ComputeBudget111111111111111111111111111111";function t(){return{name:"splComputeBudget",publicKey:n.SPL_COMPUTE_BUDGET_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplComputeBudgetErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplComputeBudgetErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplComputeBudgetProgram=t;function r(i,o){return i.programs.get("splComputeBudget",o)}n.getSplComputeBudgetProgram=r;function s(i,o){return i.programs.getPublicKey("splComputeBudget",n.SPL_COMPUTE_BUDGET_PROGRAM_ID,o)}n.getSplComputeBudgetProgramId=s})(a$e);var c$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplMemoProgramId=n.getSplMemoProgram=n.createSplMemoProgram=n.SPL_MEMO_PROGRAM_ID=void 0;const e=vh;n.SPL_MEMO_PROGRAM_ID="Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo";function t(){return{name:"splMemo",publicKey:n.SPL_MEMO_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplMemoErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplMemoErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplMemoProgram=t;function r(i,o){return i.programs.get("splMemo",o)}n.getSplMemoProgram=r;function s(i,o){return i.programs.getPublicKey("splMemo",n.SPL_MEMO_PROGRAM_ID,o)}n.getSplMemoProgramId=s})(c$e);var u$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplSystemProgramId=n.getSplSystemProgram=n.createSplSystemProgram=n.SPL_SYSTEM_PROGRAM_ID=void 0;const e=vh;n.SPL_SYSTEM_PROGRAM_ID="11111111111111111111111111111111";function t(){return{name:"splSystem",publicKey:n.SPL_SYSTEM_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplSystemErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplSystemErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplSystemProgram=t;function r(i,o){return i.programs.get("splSystem",o)}n.getSplSystemProgram=r;function s(i,o){return i.programs.getPublicKey("splSystem",n.SPL_SYSTEM_PROGRAM_ID,o)}n.getSplSystemProgramId=s})(u$e);var l$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplTokenProgramId=n.getSplTokenProgram=n.createSplTokenProgram=n.SPL_TOKEN_PROGRAM_ID=void 0;const e=vh;n.SPL_TOKEN_PROGRAM_ID="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";function t(){return{name:"splToken",publicKey:n.SPL_TOKEN_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplTokenErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplTokenErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplTokenProgram=t;function r(i,o){return i.programs.get("splToken",o)}n.getSplTokenProgram=r;function s(i,o){return i.programs.getPublicKey("splToken",n.SPL_TOKEN_PROGRAM_ID,o)}n.getSplTokenProgramId=s})(l$e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(n$e,n),t(s$e,n),t(i$e,n),t(o$e,n),t(a$e,n),t(c$e,n),t(u$e,n),t(l$e,n)})(r$e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(GL,n),t(vh,n),t(gze,n),t(r$e,n),t(or,n),t(YL,n)})(hm);var t5={};Object.defineProperty(t5,"__esModule",{value:!0});t5.createLut=void 0;const I3t=Z,e7=hm;function P3t(n,e){const{addresses:t,...r}=e,s=e.authority??n.identity,i=e.address??(0,e7.findAddressLookupTablePda)(n,{authority:s.publicKey,recentSlot:e.recentSlot});return[(0,I3t.transactionBuilder)().add((0,e7.createEmptyLut)(n,r)).add((0,e7.extendLut)(n,{address:i,authority:s,addresses:t,payer:e.payer})),{publicKey:i[0],addresses:t}]}t5.createLut=P3t;var r5={};Object.defineProperty(r5,"__esModule",{value:!0});r5.createLutForTransactionBuilder=void 0;const t7=Z,Vj=hm,_3t=(n,e,t,r)=>{const s=r??n.identity,i=(0,t7.uniquePublicKeys)([e.getFeePayer(n).publicKey,...e.items.flatMap(({instruction:u})=>u.keys.filter(l=>l.isSigner).map(l=>l.pubkey))]),o=(0,t7.uniquePublicKeys)(e.items.flatMap(({instruction:u})=>[u.programId,...u.keys.map(l=>l.pubkey)])).filter(u=>!i.includes(u)),a=[],c=[];return(0,t7.chunk)(o,256).forEach((u,l)=>{const d=t-l,[y]=(0,Vj.findAddressLookupTablePda)(n,{authority:s.publicKey,recentSlot:d});a.push({publicKey:y,addresses:u}),c.push(...E3t(n,(0,Vj.createEmptyLut)(n,{recentSlot:d}),y,s,u))}),[c,a]};r5.createLutForTransactionBuilder=_3t;function E3t(n,e,t,r,s){const i=[];let o=[],a=e;return s.forEach(c=>{const u=e.add((0,Vj.extendLut)(n,{address:t,addresses:[...o,c],authority:r}));u.fitsInOneTransaction(n)?(o.push(c),a=u):(o=[c],i.push(a),e=e.empty(),a=e)}),o.length>0&&i.push(a),i}var Hz={};Object.defineProperty(Hz,"__esModule",{value:!0});Hz.createMint=void 0;const ube=Z,r7=hm;function x3t(n,e){return(0,ube.transactionBuilder)().add((0,r7.createAccountWithRent)(n,{newAccount:e.mint,space:(0,r7.getMintSize)(),programId:n.programs.get("splToken").publicKey})).add((0,r7.initializeMint2)(n,{mint:e.mint.publicKey,decimals:e.decimals??0,mintAuthority:e.mintAuthority??n.identity.publicKey,freezeAuthority:e.freezeAuthority===void 0?(0,ube.some)(n.identity.publicKey):e.freezeAuthority}))}Hz.createMint=x3t;var n5={};Object.defineProperty(n5,"__esModule",{value:!0});n5.createMintWithAssociatedToken=void 0;const n7=Z,T3t=Hz,lbe=hm,R3t=sR;function C3t(n,e){const t={mint:e.mint.publicKey,owner:e.owner??n.identity.publicKey},r=e.amount??0;let s=(0,n7.transactionBuilder)().add((0,T3t.createMint)(n,{...e,mintAuthority:e.mintAuthority?(0,n7.publicKey)(e.mintAuthority,!1):void 0})).add((0,lbe.createAssociatedToken)(n,t));return r>0&&(s=s.add((0,lbe.mintTokensTo)(n,{amount:r,mint:e.mint.publicKey,token:(0,R3t.findAssociatedTokenPda)(n,t),mintAuthority:e.mintAuthority&&(0,n7.isSigner)(e.mintAuthority)?e.mintAuthority:void 0}))),s}n5.createMintWithAssociatedToken=C3t;var s5={};Object.defineProperty(s5,"__esModule",{value:!0});s5.createToken=void 0;const M3t=Z,s7=hm;function B3t(n,e){return(0,M3t.transactionBuilder)().add((0,s7.createAccountWithRent)(n,{newAccount:e.token,space:(0,s7.getTokenSize)(),programId:n.programs.get("splToken").publicKey})).add((0,s7.initializeToken3)(n,{account:e.token.publicKey,mint:e.mint,owner:e.owner??n.identity.publicKey}))}s5.createToken=B3t;var d$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchTokensByOwnerAndMint=n.fetchTokensByOwner=n.fetchAllMintByOwner=n.fetchAllMintPublicKeyByOwner=n.fetchAllTokenByOwnerAndMint=n.fetchAllTokenByOwner=void 0;const e=Z,t=q,r=hm,s=async(u,l,d,y={})=>{const h=u.programs.get("splToken").publicKey,m=y.mint?{mint:y.mint}:{programId:h};return(await u.rpc.call("getTokenAccountsByOwner",[l,m],{...y,extra:{encoding:"base64"}})).value.filter(({account:g})=>{const b=t.base64.serialize(g.data[0]),S=(0,t.u64)().deserialize(b.slice(64,72))[0];return d(S)})},i=async(u,l,d={})=>{const{mint:y,tokenStrategy:h="getProgramAccounts",tokenAmountFilter:m=b=>b>0,...f}=d;if(h==="getTokenAccountsByOwner")return(await s(u,l,m,{mint:y,...f})).map(({pubkey:S,account:p})=>(0,r.deserializeToken)({...p,data:t.base64.serialize(p.data[0]),publicKey:(0,e.publicKey)(S),owner:(0,e.publicKey)(p.owner),lamports:(0,e.lamports)(p.lamports)}));let g=(0,r.getTokenGpaBuilder)(u).whereField("owner",l);return y&&(g=g.whereField("mint",y)),(await g.get()).filter(b=>{const S=(0,t.u64)().deserialize(b.data.slice(64,72))[0];return m(S)}).map(b=>(0,r.deserializeToken)(b))};n.fetchAllTokenByOwner=i;const o=(u,l,d,y={})=>(0,n.fetchAllTokenByOwner)(u,l,{...y,mint:d});n.fetchAllTokenByOwnerAndMint=o;const a=async(u,l,d={})=>{const{tokenStrategy:y="getProgramAccounts",tokenAmountFilter:h=f=>f>0,...m}=d;return y==="getTokenAccountsByOwner"?(await s(u,l,h,m)).map(({account:g})=>(0,e.publicKey)(t.base64.serialize(g.data[0]).slice(0,32))):(await(0,r.getTokenGpaBuilder)(u).slice(0,72).whereField("owner",l).get()).filter(f=>{const g=(0,t.u64)().deserialize(f.data.slice(64,72))[0];return h(g)}).map(f=>(0,e.publicKey)(f.data.slice(0,32)))};n.fetchAllMintPublicKeyByOwner=a;const c=async(u,l,d={})=>{const{tokenStrategy:y,tokenAmountFilter:h,...m}=d,f=await(0,n.fetchAllMintPublicKeyByOwner)(u,l,d);return(0,r.fetchAllMint)(u,f,m)};n.fetchAllMintByOwner=c,n.fetchTokensByOwner=n.fetchAllTokenByOwner,n.fetchTokensByOwnerAndMint=n.fetchAllTokenByOwnerAndMint})(d$e);var i5={};Object.defineProperty(i5,"__esModule",{value:!0});i5.findLargestTokensByMint=void 0;const dbe=Z,z3t=async(n,e,t={})=>(await n.rpc.call("getTokenLargestAccounts",[e],t)).value.map(({address:s,amount:i,decimals:o})=>({publicKey:(0,dbe.publicKey)(s),amount:(0,dbe.createAmount)(i,"splToken",o)}));i5.findLargestTokensByMint=z3t;var f$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.mplEssentials=n.mplToolbox=void 0;const e=Z,t=hm,r=()=>({install(s){s.programs.add((0,t.createSplSystemProgram)(),!1),s.programs.add((0,t.createSplMemoProgram)(),!1),s.programs.add((0,t.createSplTokenProgram)(),!1),s.programs.add((0,t.createSplAssociatedTokenProgram)(),!1),s.programs.add((0,t.createSplAddressLookupTableProgram)(),!1),s.programs.add((0,t.createMplSystemExtrasProgram)(),!1),s.programs.add((0,t.createMplTokenExtrasProgram)(),!1),s.programs.add({...(0,t.createSplTokenProgram)(),name:"splToken2022",publicKey:(0,e.publicKey)("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb")},!1)}});n.mplToolbox=r,n.mplEssentials=n.mplToolbox})(f$e);var o5={};Object.defineProperty(o5,"__esModule",{value:!0});o5.getSysvar=void 0;const Gd=Z,$3t=n=>{switch(n){case"clock":return(0,Gd.publicKey)("SysvarC1ock11111111111111111111111111111111");case"epochSchedule":return(0,Gd.publicKey)("SysvarEpochSchedu1e111111111111111111111111");case"instructions":return(0,Gd.publicKey)("Sysvar1nstructions1111111111111111111111111");case"recentBlockhashes":return(0,Gd.publicKey)("SysvarRecentB1ockHashes11111111111111111111");case"rent":return(0,Gd.publicKey)("SysvarRent111111111111111111111111111111111");case"rewards":return(0,Gd.publicKey)("SysvarRewards111111111111111111111111111111");case"slotHashes":return(0,Gd.publicKey)("SysvarS1otHashes111111111111111111111111111");case"slotHistory":return(0,Gd.publicKey)("SysvarS1otHistory11111111111111111111111111");case"stakeHistory":return(0,Gd.publicKey)("SysvarStakeHistory1111111111111111111111111");default:throw new Gd.SdkError(`Unknown sysvar: ${n}`)}};o5.getSysvar=$3t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(hm,n),t(sR,n),t(t5,n),t(r5,n),t(Hz,n),t(n5,n),t(s5,n),t(d$e,n),t(i5,n),t(f$e,n),t(o5,n)})(Gs);var a5={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isProgrammable=n.isNonFungible=n.isFungible=n.deserializeDigitalAsset=n.fetchAllMetadataByOwner=n.fetchAllDigitalAssetByOwner=n.fetchAllDigitalAssetByUpdateAuthority=n.fetchAllDigitalAssetByVerifiedCollection=n.fetchAllDigitalAssetByCreator=n.fetchAllDigitalAsset=n.fetchDigitalAssetByMetadata=n.fetchDigitalAsset=void 0;const e=Gs,t=Z,r=Ub,s=Fb,i=326,o=34,a=[366,400,434,468,502],c=1,u=2;async function l(A,_,E){const[M]=(0,s.findMetadataPda)(A,{mint:_}),[P]=(0,s.findMasterEditionPda)(A,{mint:_}),[R,$,z]=await A.rpc.getAccounts([_,M,P],E);return(0,t.assertAccountExists)(R,"Mint"),(0,t.assertAccountExists)($,"Metadata"),S(R,$,z.exists?z:void 0)}n.fetchDigitalAsset=l;async function d(A,_,E){const M=await(0,s.fetchMetadata)(A,_,E);return l(A,M.mint,E)}n.fetchDigitalAssetByMetadata=d;async function y(A,_,E){const M=_.flatMap(R=>[R,(0,s.findMetadataPda)(A,{mint:R})[0],(0,s.findMasterEditionPda)(A,{mint:R})[0]]),P=await A.rpc.getAccounts(M,E);return(0,t.chunk)(P,3).flatMap(([R,$,z])=>{try{return(0,t.assertAccountExists)(R,"Mint"),(0,t.assertAccountExists)($,"Metadata"),[S(R,$,z.exists?z:void 0)]}catch{return[]}})}n.fetchAllDigitalAsset=y;async function h(A,_,E){const M=((E==null?void 0:E.position)??1)-1,P=await(0,s.getMetadataGpaBuilder)(A).where(i+M*o,_).sliceField("mint").getDataAsPublicKeys();return y(A,P,E)}n.fetchAllDigitalAssetByCreator=h;async function m(A,_,E){const M=await Promise.all(a.map(async P=>(0,s.getMetadataGpaBuilder)(A).where(P,1).where(P+c,1).where(P+u,_).sliceField("mint").getDataAsPublicKeys()));return y(A,M.flat(),E)}n.fetchAllDigitalAssetByVerifiedCollection=m;async function f(A,_,E){const M=await(0,s.getMetadataGpaBuilder)(A).whereField("updateAuthority",_).sliceField("mint").getDataAsPublicKeys();return y(A,M,E)}n.fetchAllDigitalAssetByUpdateAuthority=f;async function g(A,_,E){const M=await(0,e.fetchAllMintPublicKeyByOwner)(A,_,E);return y(A,M,E)}n.fetchAllDigitalAssetByOwner=g;async function b(A,_,E){const P=(await(0,e.fetchAllMintPublicKeyByOwner)(A,_,E)).map($=>(0,s.findMetadataPda)(A,{mint:$})[0]);return(await A.rpc.getAccounts(P,E)).flatMap($=>{try{return(0,t.assertAccountExists)($,"Metadata"),[(0,s.deserializeMetadata)($)]}catch{return[]}})}n.fetchAllMetadataByOwner=b;function S(A,_,E){const M=(0,e.deserializeMint)(A),P=(0,s.deserializeMetadata)(_),R=(0,t.unwrapOption)(P.tokenStandard);if(R&&(0,n.isNonFungible)(R)&&!E)throw new Error("Edition account must be provided for non-fungible assets.");const $={publicKey:M.publicKey,mint:M,metadata:P};if(!E)return $;const z=(0,s.getKeySerializer)().deserialize(E.data)[0];let T;if(z===s.Key.MasterEditionV1||z===s.Key.MasterEditionV2)T={isOriginal:!0,...(0,s.deserializeMasterEdition)(E)};else if(z===s.Key.EditionV1)T={isOriginal:!1,...(0,s.deserializeEdition)(E)};else throw new r.TokenMetadataError(`Invalid key "${z}" for edition account.`);return{...$,edition:T}}n.deserializeDigitalAsset=S;const p=A=>A===s.TokenStandard.Fungible||A===s.TokenStandard.FungibleAsset;n.isFungible=p;const I=A=>!(0,n.isFungible)(A);n.isNonFungible=I;const w=A=>A===s.TokenStandard.ProgrammableNonFungible||A===s.TokenStandard.ProgrammableNonFungibleEdition;n.isProgrammable=w})(a5);Object.defineProperty(za,"__esModule",{value:!0});za.resolveIsNonFungibleOrIsMintSigner=za.resolveOptionalTokenOwner=za.resolveCreateV1Bytes=za.resolveCreators=za.resolvePrintSupply=za.resolveDecimals=za.resolveIsNonFungible=za.resolveCollectionDetails=void 0;const D3t=Gs,oh=Z,Gz=a5,rm=Fb,O3t=607,K3t=20,L3t=(n,e,t,...r)=>t.isCollection?(0,oh.some)((0,rm.collectionDetails)("V2",{padding:new Array(8).fill(0)})):(0,oh.none)();za.resolveCollectionDetails=L3t;const W3t=(n,e,t,...r)=>(0,Gz.isNonFungible)((0,rm.expectSome)(t.tokenStandard));za.resolveIsNonFungible=W3t;const N3t=(n,e,t,...r)=>(0,Gz.isNonFungible)((0,rm.expectSome)(t.tokenStandard))?(0,oh.none)():(0,oh.some)(0);za.resolveDecimals=N3t;const F3t=(n,e,t,...r)=>(0,Gz.isNonFungible)((0,rm.expectSome)(t.tokenStandard))?(0,oh.some)((0,rm.printSupply)("Zero")):(0,oh.none)();za.resolvePrintSupply=F3t;const U3t=(n,e,...t)=>(0,oh.some)([{address:(0,rm.expectPublicKey)(e.authority.value),share:100,verified:!0}]);za.resolveCreators=U3t;const V3t=(n,e,t,...r)=>{const s=(0,D3t.getMintSize)()+O3t+2*oh.ACCOUNT_HEADER_SIZE;return(0,Gz.isNonFungible)((0,rm.expectSome)(t.tokenStandard))?s+K3t+oh.ACCOUNT_HEADER_SIZE:s};za.resolveCreateV1Bytes=V3t;const q3t=(n,e,...t)=>e.token.value?{value:null}:{value:n.identity.publicKey};za.resolveOptionalTokenOwner=q3t;const j3t=(n,e,t,...r)=>(0,Gz.isNonFungible)((0,rm.expectSome)(t.tokenStandard))||(0,oh.isSigner)((0,rm.expectSome)(e.mint.value));za.resolveIsNonFungibleOrIsMintSigner=j3t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(qL,n),t(jL,n),t(HL,n),t(za,n)})(an);Object.defineProperty(ai,"__esModule",{value:!0});ai.safeFetchHolderDelegateRecordFromSeeds=ai.fetchHolderDelegateRecordFromSeeds=ai.findHolderDelegateRecordPda=ai.getHolderDelegateRecordSize=ai.getHolderDelegateRecordGpaBuilder=ai.safeFetchAllHolderDelegateRecord=ai.fetchAllHolderDelegateRecord=ai.safeFetchHolderDelegateRecord=ai.fetchHolderDelegateRecord=ai.deserializeHolderDelegateRecord=ai.getHolderDelegateRecordAccountDataSerializer=void 0;const wb=Z,ku=q,H3t=an,h$e=lt;function g$e(){return(0,ku.struct)([["key",(0,h$e.getKeySerializer)()],["bump",(0,ku.u8)()],["mint",(0,ku.publicKey)()],["delegate",(0,ku.publicKey)()],["updateAuthority",(0,ku.publicKey)()]],{description:"HolderDelegateRecordAccountData"})}ai.getHolderDelegateRecordAccountDataSerializer=g$e;function iR(n){return(0,wb.deserializeAccount)(n,g$e())}ai.deserializeHolderDelegateRecord=iR;async function m$e(n,e,t){const r=await n.rpc.getAccount((0,wb.publicKey)(e,!1),t);return(0,wb.assertAccountExists)(r,"HolderDelegateRecord"),iR(r)}ai.fetchHolderDelegateRecord=m$e;async function y$e(n,e,t){const r=await n.rpc.getAccount((0,wb.publicKey)(e,!1),t);return r.exists?iR(r):null}ai.safeFetchHolderDelegateRecord=y$e;async function G3t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,wb.publicKey)(s,!1)),t)).map(s=>((0,wb.assertAccountExists)(s,"HolderDelegateRecord"),iR(s)))}ai.fetchAllHolderDelegateRecord=G3t;async function Y3t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,wb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>iR(s))}ai.safeFetchAllHolderDelegateRecord=Y3t;function Z3t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,wb.gpaBuilder)(n,e).registerFields({key:[0,(0,h$e.getKeySerializer)()],bump:[1,(0,ku.u8)()],mint:[2,(0,ku.publicKey)()],delegate:[34,(0,ku.publicKey)()],updateAuthority:[66,(0,ku.publicKey)()]}).deserializeUsing(t=>iR(t))}ai.getHolderDelegateRecordGpaBuilder=Z3t;function J3t(){return 98}ai.getHolderDelegateRecordSize=J3t;function Zse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,ku.string)({size:"variable"}).serialize("metadata"),(0,ku.publicKey)().serialize(t),(0,ku.publicKey)().serialize(e.mint),(0,H3t.getHolderDelegateRoleSeedSerializer)().serialize(e.delegateRole),(0,ku.publicKey)().serialize(e.owner),(0,ku.publicKey)().serialize(e.delegate)])}ai.findHolderDelegateRecordPda=Zse;async function X3t(n,e,t){return m$e(n,Zse(n,e),t)}ai.fetchHolderDelegateRecordFromSeeds=X3t;async function Q3t(n,e,t){return y$e(n,Zse(n,e),t)}ai.safeFetchHolderDelegateRecordFromSeeds=Q3t;var To={};Object.defineProperty(To,"__esModule",{value:!0});To.safeFetchMasterEditionFromSeeds=To.fetchMasterEditionFromSeeds=To.findMasterEditionPda=To.getMasterEditionGpaBuilder=To.safeFetchAllMasterEdition=To.fetchAllMasterEdition=To.safeFetchMasterEdition=To.fetchMasterEdition=To.deserializeMasterEdition=To.getMasterEditionAccountDataSerializer=void 0;const Ib=Z,xl=q,r4=lt;function p$e(){return(0,xl.mapSerializer)((0,xl.struct)([["key",(0,r4.getKeySerializer)()],["supply",(0,xl.u64)()],["maxSupply",(0,xl.option)((0,xl.u64)())]],{description:"MasterEditionAccountData"}),n=>({...n,key:r4.Key.MasterEditionV2}))}To.getMasterEditionAccountDataSerializer=p$e;function oR(n){return(0,Ib.deserializeAccount)(n,p$e())}To.deserializeMasterEdition=oR;async function b$e(n,e,t){const r=await n.rpc.getAccount((0,Ib.publicKey)(e,!1),t);return(0,Ib.assertAccountExists)(r,"MasterEdition"),oR(r)}To.fetchMasterEdition=b$e;async function S$e(n,e,t){const r=await n.rpc.getAccount((0,Ib.publicKey)(e,!1),t);return r.exists?oR(r):null}To.safeFetchMasterEdition=S$e;async function eDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Ib.publicKey)(s,!1)),t)).map(s=>((0,Ib.assertAccountExists)(s,"MasterEdition"),oR(s)))}To.fetchAllMasterEdition=eDt;async function tDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Ib.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>oR(s))}To.safeFetchAllMasterEdition=tDt;function rDt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Ib.gpaBuilder)(n,e).registerFields({key:[0,(0,r4.getKeySerializer)()],supply:[1,(0,xl.u64)()],maxSupply:[9,(0,xl.option)((0,xl.u64)())]}).deserializeUsing(t=>oR(t)).whereField("key",r4.Key.MasterEditionV2)}To.getMasterEditionGpaBuilder=rDt;function Jse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,xl.string)({size:"variable"}).serialize("metadata"),(0,xl.publicKey)().serialize(t),(0,xl.publicKey)().serialize(e.mint),(0,xl.string)({size:"variable"}).serialize("edition")])}To.findMasterEditionPda=Jse;async function nDt(n,e,t){return b$e(n,Jse(n,e),t)}To.fetchMasterEditionFromSeeds=nDt;async function sDt(n,e,t){return S$e(n,Jse(n,e),t)}To.safeFetchMasterEditionFromSeeds=sDt;var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});Ro.safeFetchMetadataFromSeeds=Ro.fetchMetadataFromSeeds=Ro.findMetadataPda=Ro.getMetadataGpaBuilder=Ro.safeFetchAllMetadata=Ro.fetchAllMetadata=Ro.safeFetchMetadata=Ro.fetchMetadata=Ro.deserializeMetadata=Ro.getMetadataAccountDataSerializer=void 0;const Pb=Z,dn=q,Sc=lt;function k$e(){return(0,dn.mapSerializer)((0,dn.struct)([["key",(0,Sc.getKeySerializer)()],["updateAuthority",(0,dn.publicKey)()],["mint",(0,dn.publicKey)()],["name",(0,dn.string)()],["symbol",(0,dn.string)()],["uri",(0,dn.string)()],["sellerFeeBasisPoints",(0,dn.u16)()],["creators",(0,dn.option)((0,dn.array)((0,Sc.getCreatorSerializer)()))],["primarySaleHappened",(0,dn.bool)()],["isMutable",(0,dn.bool)()],["editionNonce",(0,dn.option)((0,dn.u8)())],["tokenStandard",(0,dn.option)((0,Sc.getTokenStandardSerializer)())],["collection",(0,dn.option)((0,Sc.getCollectionSerializer)())],["uses",(0,dn.option)((0,Sc.getUsesSerializer)())],["collectionDetails",(0,dn.option)((0,Sc.getCollectionDetailsSerializer)())],["programmableConfig",(0,dn.option)((0,Sc.getProgrammableConfigSerializer)())]],{description:"MetadataAccountData"}),n=>({...n,key:Sc.Key.MetadataV1}))}Ro.getMetadataAccountDataSerializer=k$e;function aR(n){return(0,Pb.deserializeAccount)(n,k$e())}Ro.deserializeMetadata=aR;async function v$e(n,e,t){const r=await n.rpc.getAccount((0,Pb.publicKey)(e,!1),t);return(0,Pb.assertAccountExists)(r,"Metadata"),aR(r)}Ro.fetchMetadata=v$e;async function A$e(n,e,t){const r=await n.rpc.getAccount((0,Pb.publicKey)(e,!1),t);return r.exists?aR(r):null}Ro.safeFetchMetadata=A$e;async function iDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Pb.publicKey)(s,!1)),t)).map(s=>((0,Pb.assertAccountExists)(s,"Metadata"),aR(s)))}Ro.fetchAllMetadata=iDt;async function oDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Pb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>aR(s))}Ro.safeFetchAllMetadata=oDt;function aDt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Pb.gpaBuilder)(n,e).registerFields({key:[0,(0,Sc.getKeySerializer)()],updateAuthority:[1,(0,dn.publicKey)()],mint:[33,(0,dn.publicKey)()],name:[65,(0,dn.string)()],symbol:[null,(0,dn.string)()],uri:[null,(0,dn.string)()],sellerFeeBasisPoints:[null,(0,dn.u16)()],creators:[null,(0,dn.option)((0,dn.array)((0,Sc.getCreatorSerializer)()))],primarySaleHappened:[null,(0,dn.bool)()],isMutable:[null,(0,dn.bool)()],editionNonce:[null,(0,dn.option)((0,dn.u8)())],tokenStandard:[null,(0,dn.option)((0,Sc.getTokenStandardSerializer)())],collection:[null,(0,dn.option)((0,Sc.getCollectionSerializer)())],uses:[null,(0,dn.option)((0,Sc.getUsesSerializer)())],collectionDetails:[null,(0,dn.option)((0,Sc.getCollectionDetailsSerializer)())],programmableConfig:[null,(0,dn.option)((0,Sc.getProgrammableConfigSerializer)())]}).deserializeUsing(t=>aR(t)).whereField("key",Sc.Key.MetadataV1)}Ro.getMetadataGpaBuilder=aDt;function Xse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,dn.string)({size:"variable"}).serialize("metadata"),(0,dn.publicKey)().serialize(t),(0,dn.publicKey)().serialize(e.mint)])}Ro.findMetadataPda=Xse;async function cDt(n,e,t){return v$e(n,Xse(n,e),t)}Ro.fetchMetadataFromSeeds=cDt;async function uDt(n,e,t){return A$e(n,Xse(n,e),t)}Ro.safeFetchMetadataFromSeeds=uDt;var ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.safeFetchMetadataDelegateRecordFromSeeds=ci.fetchMetadataDelegateRecordFromSeeds=ci.findMetadataDelegateRecordPda=ci.getMetadataDelegateRecordSize=ci.getMetadataDelegateRecordGpaBuilder=ci.safeFetchAllMetadataDelegateRecord=ci.fetchAllMetadataDelegateRecord=ci.safeFetchMetadataDelegateRecord=ci.fetchMetadataDelegateRecord=ci.deserializeMetadataDelegateRecord=ci.getMetadataDelegateRecordAccountDataSerializer=void 0;const _b=Z,vu=q,lDt=an,w$e=lt;function I$e(){return(0,vu.struct)([["key",(0,w$e.getKeySerializer)()],["bump",(0,vu.u8)()],["mint",(0,vu.publicKey)()],["delegate",(0,vu.publicKey)()],["updateAuthority",(0,vu.publicKey)()]],{description:"MetadataDelegateRecordAccountData"})}ci.getMetadataDelegateRecordAccountDataSerializer=I$e;function cR(n){return(0,_b.deserializeAccount)(n,I$e())}ci.deserializeMetadataDelegateRecord=cR;async function P$e(n,e,t){const r=await n.rpc.getAccount((0,_b.publicKey)(e,!1),t);return(0,_b.assertAccountExists)(r,"MetadataDelegateRecord"),cR(r)}ci.fetchMetadataDelegateRecord=P$e;async function _$e(n,e,t){const r=await n.rpc.getAccount((0,_b.publicKey)(e,!1),t);return r.exists?cR(r):null}ci.safeFetchMetadataDelegateRecord=_$e;async function dDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,_b.publicKey)(s,!1)),t)).map(s=>((0,_b.assertAccountExists)(s,"MetadataDelegateRecord"),cR(s)))}ci.fetchAllMetadataDelegateRecord=dDt;async function fDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,_b.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>cR(s))}ci.safeFetchAllMetadataDelegateRecord=fDt;function hDt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,_b.gpaBuilder)(n,e).registerFields({key:[0,(0,w$e.getKeySerializer)()],bump:[1,(0,vu.u8)()],mint:[2,(0,vu.publicKey)()],delegate:[34,(0,vu.publicKey)()],updateAuthority:[66,(0,vu.publicKey)()]}).deserializeUsing(t=>cR(t))}ci.getMetadataDelegateRecordGpaBuilder=hDt;function gDt(){return 98}ci.getMetadataDelegateRecordSize=gDt;function Qse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,vu.string)({size:"variable"}).serialize("metadata"),(0,vu.publicKey)().serialize(t),(0,vu.publicKey)().serialize(e.mint),(0,lDt.getMetadataDelegateRoleSeedSerializer)().serialize(e.delegateRole),(0,vu.publicKey)().serialize(e.updateAuthority),(0,vu.publicKey)().serialize(e.delegate)])}ci.findMetadataDelegateRecordPda=Qse;async function mDt(n,e,t){return P$e(n,Qse(n,e),t)}ci.fetchMetadataDelegateRecordFromSeeds=mDt;async function yDt(n,e,t){return _$e(n,Qse(n,e),t)}ci.safeFetchMetadataDelegateRecordFromSeeds=yDt;var Ic={};Object.defineProperty(Ic,"__esModule",{value:!0});Ic.getTokenOwnedEscrowGpaBuilder=Ic.safeFetchAllTokenOwnedEscrow=Ic.fetchAllTokenOwnedEscrow=Ic.safeFetchTokenOwnedEscrow=Ic.fetchTokenOwnedEscrow=Ic.deserializeTokenOwnedEscrow=Ic.getTokenOwnedEscrowAccountDataSerializer=void 0;const Eb=Z,Ov=q,yA=lt;function E$e(){return(0,Ov.mapSerializer)((0,Ov.struct)([["key",(0,yA.getKeySerializer)()],["baseToken",(0,Ov.publicKey)()],["authority",(0,yA.getEscrowAuthoritySerializer)()],["bump",(0,Ov.u8)()]],{description:"TokenOwnedEscrowAccountData"}),n=>({...n,key:yA.Key.TokenOwnedEscrow}))}Ic.getTokenOwnedEscrowAccountDataSerializer=E$e;function uR(n){return(0,Eb.deserializeAccount)(n,E$e())}Ic.deserializeTokenOwnedEscrow=uR;async function pDt(n,e,t){const r=await n.rpc.getAccount((0,Eb.publicKey)(e,!1),t);return(0,Eb.assertAccountExists)(r,"TokenOwnedEscrow"),uR(r)}Ic.fetchTokenOwnedEscrow=pDt;async function bDt(n,e,t){const r=await n.rpc.getAccount((0,Eb.publicKey)(e,!1),t);return r.exists?uR(r):null}Ic.safeFetchTokenOwnedEscrow=bDt;async function SDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Eb.publicKey)(s,!1)),t)).map(s=>((0,Eb.assertAccountExists)(s,"TokenOwnedEscrow"),uR(s)))}Ic.fetchAllTokenOwnedEscrow=SDt;async function kDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Eb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>uR(s))}Ic.safeFetchAllTokenOwnedEscrow=kDt;function vDt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Eb.gpaBuilder)(n,e).registerFields({key:[0,(0,yA.getKeySerializer)()],baseToken:[1,(0,Ov.publicKey)()],authority:[33,(0,yA.getEscrowAuthoritySerializer)()],bump:[null,(0,Ov.u8)()]}).deserializeUsing(t=>uR(t)).whereField("key",yA.Key.TokenOwnedEscrow)}Ic.getTokenOwnedEscrowGpaBuilder=vDt;var ui={};Object.defineProperty(ui,"__esModule",{value:!0});ui.safeFetchTokenRecordFromSeeds=ui.fetchTokenRecordFromSeeds=ui.findTokenRecordPda=ui.getTokenRecordSize=ui.getTokenRecordGpaBuilder=ui.safeFetchAllTokenRecord=ui.fetchAllTokenRecord=ui.safeFetchTokenRecord=ui.fetchTokenRecord=ui.deserializeTokenRecord=ui.getTokenRecordAccountDataSerializer=void 0;const xb=Z,Ai=q,Oy=lt;function x$e(){return(0,Ai.mapSerializer)((0,Ai.struct)([["key",(0,Oy.getKeySerializer)()],["bump",(0,Ai.u8)()],["state",(0,Oy.getTokenStateSerializer)()],["ruleSetRevision",(0,Ai.option)((0,Ai.u64)())],["delegate",(0,Ai.option)((0,Ai.publicKey)())],["delegateRole",(0,Ai.option)((0,Oy.getTokenDelegateRoleSerializer)())],["lockedTransfer",(0,Ai.option)((0,Ai.publicKey)())]],{description:"TokenRecordAccountData"}),n=>({...n,key:Oy.Key.TokenRecord}))}ui.getTokenRecordAccountDataSerializer=x$e;function lR(n){return(0,xb.deserializeAccount)(n,x$e())}ui.deserializeTokenRecord=lR;async function T$e(n,e,t){const r=await n.rpc.getAccount((0,xb.publicKey)(e,!1),t);return(0,xb.assertAccountExists)(r,"TokenRecord"),lR(r)}ui.fetchTokenRecord=T$e;async function R$e(n,e,t){const r=await n.rpc.getAccount((0,xb.publicKey)(e,!1),t);return r.exists?lR(r):null}ui.safeFetchTokenRecord=R$e;async function ADt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,xb.publicKey)(s,!1)),t)).map(s=>((0,xb.assertAccountExists)(s,"TokenRecord"),lR(s)))}ui.fetchAllTokenRecord=ADt;async function wDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,xb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>lR(s))}ui.safeFetchAllTokenRecord=wDt;function IDt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,xb.gpaBuilder)(n,e).registerFields({key:[0,(0,Oy.getKeySerializer)()],bump:[1,(0,Ai.u8)()],state:[2,(0,Oy.getTokenStateSerializer)()],ruleSetRevision:[3,(0,Ai.option)((0,Ai.u64)())],delegate:[null,(0,Ai.option)((0,Ai.publicKey)())],delegateRole:[null,(0,Ai.option)((0,Oy.getTokenDelegateRoleSerializer)())],lockedTransfer:[null,(0,Ai.option)((0,Ai.publicKey)())]}).deserializeUsing(t=>lR(t)).whereField("key",Oy.Key.TokenRecord)}ui.getTokenRecordGpaBuilder=IDt;function PDt(){return 80}ui.getTokenRecordSize=PDt;function eie(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Ai.string)({size:"variable"}).serialize("metadata"),(0,Ai.publicKey)().serialize(t),(0,Ai.publicKey)().serialize(e.mint),(0,Ai.string)({size:"variable"}).serialize("token_record"),(0,Ai.publicKey)().serialize(e.token)])}ui.findTokenRecordPda=eie;async function _Dt(n,e,t){return T$e(n,eie(n,e),t)}ui.fetchTokenRecordFromSeeds=_Dt;async function EDt(n,e,t){return R$e(n,eie(n,e),t)}ui.safeFetchTokenRecordFromSeeds=EDt;var li={};Object.defineProperty(li,"__esModule",{value:!0});li.safeFetchUseAuthorityRecordFromSeeds=li.fetchUseAuthorityRecordFromSeeds=li.findUseAuthorityRecordPda=li.getUseAuthorityRecordSize=li.getUseAuthorityRecordGpaBuilder=li.safeFetchAllUseAuthorityRecord=li.fetchAllUseAuthorityRecord=li.safeFetchUseAuthorityRecord=li.fetchUseAuthorityRecord=li.deserializeUseAuthorityRecord=li.getUseAuthorityRecordAccountDataSerializer=void 0;const Tb=Z,nd=q,n4=lt;function C$e(){return(0,nd.mapSerializer)((0,nd.struct)([["key",(0,n4.getKeySerializer)()],["allowedUses",(0,nd.u64)()],["bump",(0,nd.u8)()]],{description:"UseAuthorityRecordAccountData"}),n=>({...n,key:n4.Key.UseAuthorityRecord}))}li.getUseAuthorityRecordAccountDataSerializer=C$e;function dR(n){return(0,Tb.deserializeAccount)(n,C$e())}li.deserializeUseAuthorityRecord=dR;async function M$e(n,e,t){const r=await n.rpc.getAccount((0,Tb.publicKey)(e,!1),t);return(0,Tb.assertAccountExists)(r,"UseAuthorityRecord"),dR(r)}li.fetchUseAuthorityRecord=M$e;async function B$e(n,e,t){const r=await n.rpc.getAccount((0,Tb.publicKey)(e,!1),t);return r.exists?dR(r):null}li.safeFetchUseAuthorityRecord=B$e;async function xDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Tb.publicKey)(s,!1)),t)).map(s=>((0,Tb.assertAccountExists)(s,"UseAuthorityRecord"),dR(s)))}li.fetchAllUseAuthorityRecord=xDt;async function TDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Tb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>dR(s))}li.safeFetchAllUseAuthorityRecord=TDt;function RDt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Tb.gpaBuilder)(n,e).registerFields({key:[0,(0,n4.getKeySerializer)()],allowedUses:[1,(0,nd.u64)()],bump:[9,(0,nd.u8)()]}).deserializeUsing(t=>dR(t)).whereField("key",n4.Key.UseAuthorityRecord)}li.getUseAuthorityRecordGpaBuilder=RDt;function CDt(){return 10}li.getUseAuthorityRecordSize=CDt;function tie(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,nd.string)({size:"variable"}).serialize("metadata"),(0,nd.publicKey)().serialize(t),(0,nd.publicKey)().serialize(e.mint),(0,nd.string)({size:"variable"}).serialize("user"),(0,nd.publicKey)().serialize(e.useAuthority)])}li.findUseAuthorityRecordPda=tie;async function MDt(n,e,t){return M$e(n,tie(n,e),t)}li.fetchUseAuthorityRecordFromSeeds=MDt;async function BDt(n,e,t){return B$e(n,tie(n,e),t)}li.safeFetchUseAuthorityRecordFromSeeds=BDt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Io,n),t(Po,n),t(Ba,n),t(oi,n),t(_o,n),t(ai,n),t(To,n),t(Ro,n),t(ci,n),t(Ic,n),t(ui,n),t(li,n)})(Nt);var rie={},j={};Object.defineProperty(j,"__esModule",{value:!0});j.ReservationAlreadyMadeError=j.ReservationNotSetError=j.ReservationDoesNotExistError=j.ReservationExistsError=j.ShareTotalMustBe100Error=j.NoBalanceInAccountForAuthorizationError=j.OwnerMismatchError=j.PrimarySaleCanOnlyBeFlippedToTrueError=j.InvalidBasisPointsError=j.CreatorNotFoundError=j.NoCreatorsPresentOnMetadataError=j.MustBeOneOfCreatorsError=j.CreatorsMustBeAtleastOneError=j.CreatorsTooLongError=j.DisabledError=j.AuthorizationTokenAccountOwnerMismatchError=j.PrintingMintAuthorizationAccountMismatchError=j.NotEnoughTokensError=j.TokenAccountMintMismatchV2Error=j.TokenAccountMintMismatchError=j.OneTimePrintingAuthMintMismatchError=j.PrintingMintMismatchError=j.DerivedKeyInvalidError=j.TokenAccountOneTimeAuthMintMismatchError=j.TokenBurnFailedError=j.EditionMintDecimalsShouldBeZeroError=j.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=j.PrintingMintDecimalsShouldBeZeroError=j.EditionAlreadyMintedError=j.DestinationMintMismatchError=j.MasterRecordMismatchError=j.TokenMintToFailedError=j.MaxEditionsMintedAlreadyError=j.EditionsMustHaveExactlyOneTokenError=j.MintMismatchError=j.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=j.UriTooLongError=j.SymbolTooLongError=j.NameTooLongError=j.InvalidMintAuthorityError=j.NotMintAuthorityError=j.UpdateAuthorityIsNotSignerError=j.UpdateAuthorityIncorrectError=j.InvalidEditionKeyError=j.InvalidMetadataKeyError=j.UninitializedError=j.AlreadyInitializedError=j.NotRentExemptError=j.InstructionPackErrorError=j.InstructionUnpackErrorError=void 0;j.RevokeCollectionAuthoritySignerIncorrectError=j.InvalidUserError=j.EditionOverrideCannotBeZeroError=j.NotAllowedToChangeSellerFeeBasisPointsError=j.CannotWipeVerifiedCreatorsError=j.CannotRemoveVerifiedCreatorError=j.CannotAdjustVerifiedCreatorError=j.InvalidDelegateError=j.InvalidFreezeAuthorityError=j.InvalidCollectionAuthorityRecordError=j.InvalidUseAuthorityRecordError=j.CollectionAuthorityDoesNotExistError=j.CollectionAuthorityRecordAlreadyExistsError=j.NotEnoughUsesError=j.UnusableError=j.UseAuthorityRecordAlreadyRevokedError=j.UseAuthorityRecordAlreadyExistsError=j.CollectionMustBeAUniqueMasterEditionError=j.InvalidCollectionUpdateAuthorityError=j.CollectionNotFoundError=j.CannotChangeUsesAfterFirstUseError=j.CannotChangeUseMethodAfterFirstUseError=j.InvalidUseMethodError=j.MustBeBurnedError=j.RemovedError=j.CollectionCannotBeVerifiedInThisInstructionError=j.IsMutableCanOnlyBeFlippedToFalseError=j.ReservationArrayShouldBeSizeOneError=j.InvalidEditionIndexError=j.OneTimeAuthMintSupplyMustBeZeroForConversionError=j.PrintingMintSupplyMustBeZeroForConversionError=j.InvalidOwnerError=j.InvalidOperationError=j.TriedToReplaceAnExistingReservationError=j.ReservationNotCompleteError=j.BeyondAlottedAddressSizeError=j.DataTypeMismatchError=j.InvalidTokenProgramError=j.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=j.DuplicateCreatorAddressError=j.DataIsImmutableError=j.PrintingWouldBreachMaximumSupplyError=j.IncorrectOwnerError=j.SpotMismatchError=j.CannotUnverifyAnotherCreatorError=j.CannotVerifyAnotherCreatorError=j.AddressNotInReservationError=j.ReservationBreachesMaximumSupplyError=j.NumericalOverflowErrorError=j.BeyondMaxAddressSizeError=void 0;j.MissingSplTokenProgramError=j.MissingTokenAccountError=j.OnlySaleDelegateCanTransferError=j.InvalidSystemWalletError=j.FeatureNotSupportedError=j.MissingArgumentInBuilderError=j.MissingAccountInBuilderError=j.DelegateNotFoundError=j.DelegateAlreadyExistsError=j.InvalidProgrammableConfigError=j.MissingProgrammableConfigError=j.MissingAuthorizationRulesError=j.InvalidAuthorizationRulesError=j.InvalidMintForTokenStandardError=j.InvalidTokenStandardError=j.MintIsNotSignerError=j.EscrowParentHasDelegateError=j.InvalidBubblegumSignerError=j.InvalidCollectionSizeChangeError=j.NoFreezeAuthoritySetError=j.BorshSerializationErrorError=j.InsufficientTokensError=j.MustBeNonFungibleError=j.InvalidSystemProgramError=j.MustBeEscrowAuthorityError=j.InvalidEscrowBumpSeedError=j.MustUnverifyError=j.EditionNumberGreaterThanMaxSupplyError=j.PrintEditionDoesNotMatchMasterEditionError=j.ReservationListDeprecatedError=j.InvalidEditionMarkerError=j.InvalidPrintEditionError=j.InvalidMasterEditionError=j.NotAPrintEditionError=j.AlreadyUnverifiedError=j.AlreadyVerifiedError=j.CollectionMasterEditionAccountInvalidError=j.CannotUpdateVerifiedCollectionError=j.BorshDeserializationErrorError=j.MasterEditionHasPrintsError=j.NotAMasterEditionError=j.MissingEditionAccountError=j.CouldNotDetermineTokenStandardError=j.NotACollectionParentError=j.NotVerifiedMemberOfCollectionError=j.NotAMemberOfCollectionError=j.MissingCollectionMetadataError=j.SizedCollectionError=j.UnsizedCollectionError=j.TokenCloseFailedError=void 0;j.ExpectedUninitializedAccountError=j.MissingImmutableOwnerExtensionError=j.InvalidTokenExtensionTypeError=j.InvalidMetadataPointerError=j.InvalidMintCloseAuthorityError=j.InvalidMintExtensionTypeError=j.CannotChangeUpdateAuthorityWithDelegateError=j.InvalidMetadataFlagsError=j.InvalidFeeAccountError=j.MissingDelegateRecordError=j.InvalidInstructionError=j.InvalidCloseAuthorityError=j.InvalidTokenRecordError=j.MissingCollectionMasterEditionError=j.MissingCollectionMintError=j.InsufficientTokenBalanceError=j.InvalidUpdateArgsError=j.InvalidParentAccountsError=j.InvalidInstructionsSysvarError=j.InvalidAssociatedTokenAccountProgramError=j.MissingEditionError=j.CannotBurnWithDelegateError=j.MissingEditionMarkerAccountError=j.MissingMasterEditionTokenAccountError=j.MissingMasterEditionMintAccountError=j.InvalidAmountError=j.CannotUpdateAssetWithDelegateError=j.DataIncrementLimitExceededError=j.InvalidLockedTransferAddressError=j.MissingLockedTransferAddressError=j.InvalidDelegateArgsError=j.AmountMustBeGreaterThanZeroError=j.MissingMasterEditionAccountError=j.MissingPrintSupplyError=j.InvalidDelegateRoleError=j.IncorrectTokenStateError=j.InvalidMasterEditionAccountLengthError=j.MissingTokenOwnerAccountError=j.DataIsEmptyOrZeroedError=j.MintSupplyMustBeZeroError=j.MissingTokenRecordError=j.InvalidAuthorityTypeError=j.MissingDelegateRoleError=j.UnlockedTokenError=j.LockedTokenError=j.KeyMismatchError=j.InstructionNotSupportedError=j.InvalidTransferAuthorityError=j.InvalidDelegateRoleForTransferError=j.MissingAuthorizationRulesProgramError=void 0;j.getMplTokenMetadataErrorFromName=j.getMplTokenMetadataErrorFromCode=j.ConditionsForClosingNotMetError=j.AccountAlreadyResizedError=j.InvalidEditionAccountLengthError=void 0;const ce=Z,oe=new Map,ae=new Map;class nie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="InstructionUnpackError",this.code=0}}j.InstructionUnpackErrorError=nie;oe.set(0,nie);ae.set("InstructionUnpackError",nie);class sie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="InstructionPackError",this.code=1}}j.InstructionPackErrorError=sie;oe.set(1,sie);ae.set("InstructionPackError",sie);class iie extends ce.ProgramError{constructor(e,t){super("Lamport balance below rent-exempt threshold",e,t),this.name="NotRentExempt",this.code=2}}j.NotRentExemptError=iie;oe.set(2,iie);ae.set("NotRentExempt",iie);class oie extends ce.ProgramError{constructor(e,t){super("Already initialized",e,t),this.name="AlreadyInitialized",this.code=3}}j.AlreadyInitializedError=oie;oe.set(3,oie);ae.set("AlreadyInitialized",oie);class aie extends ce.ProgramError{constructor(e,t){super("Uninitialized",e,t),this.name="Uninitialized",this.code=4}}j.UninitializedError=aie;oe.set(4,aie);ae.set("Uninitialized",aie);class cie extends ce.ProgramError{constructor(e,t){super(" Metadata's key must match seed of ['metadata', program id, mint] provided",e,t),this.name="InvalidMetadataKey",this.code=5}}j.InvalidMetadataKeyError=cie;oe.set(5,cie);ae.set("InvalidMetadataKey",cie);class uie extends ce.ProgramError{constructor(e,t){super("Edition's key must match seed of ['metadata', program id, name, 'edition'] provided",e,t),this.name="InvalidEditionKey",this.code=6}}j.InvalidEditionKeyError=uie;oe.set(6,uie);ae.set("InvalidEditionKey",uie);class lie extends ce.ProgramError{constructor(e,t){super("Update Authority given does not match",e,t),this.name="UpdateAuthorityIncorrect",this.code=7}}j.UpdateAuthorityIncorrectError=lie;oe.set(7,lie);ae.set("UpdateAuthorityIncorrect",lie);class die extends ce.ProgramError{constructor(e,t){super("Update Authority needs to be signer to update metadata",e,t),this.name="UpdateAuthorityIsNotSigner",this.code=8}}j.UpdateAuthorityIsNotSignerError=die;oe.set(8,die);ae.set("UpdateAuthorityIsNotSigner",die);class fie extends ce.ProgramError{constructor(e,t){super("You must be the mint authority and signer on this transaction",e,t),this.name="NotMintAuthority",this.code=9}}j.NotMintAuthorityError=fie;oe.set(9,fie);ae.set("NotMintAuthority",fie);class hie extends ce.ProgramError{constructor(e,t){super("Mint authority provided does not match the authority on the mint",e,t),this.name="InvalidMintAuthority",this.code=10}}j.InvalidMintAuthorityError=hie;oe.set(10,hie);ae.set("InvalidMintAuthority",hie);class gie extends ce.ProgramError{constructor(e,t){super("Name too long",e,t),this.name="NameTooLong",this.code=11}}j.NameTooLongError=gie;oe.set(11,gie);ae.set("NameTooLong",gie);class mie extends ce.ProgramError{constructor(e,t){super("Symbol too long",e,t),this.name="SymbolTooLong",this.code=12}}j.SymbolTooLongError=mie;oe.set(12,mie);ae.set("SymbolTooLong",mie);class yie extends ce.ProgramError{constructor(e,t){super("URI too long",e,t),this.name="UriTooLong",this.code=13}}j.UriTooLongError=yie;oe.set(13,yie);ae.set("UriTooLong",yie);class pie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",this.code=14}}j.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=pie;oe.set(14,pie);ae.set("UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",pie);class bie extends ce.ProgramError{constructor(e,t){super("Mint given does not match mint on Metadata",e,t),this.name="MintMismatch",this.code=15}}j.MintMismatchError=bie;oe.set(15,bie);ae.set("MintMismatch",bie);class Sie extends ce.ProgramError{constructor(e,t){super("Editions must have exactly one token",e,t),this.name="EditionsMustHaveExactlyOneToken",this.code=16}}j.EditionsMustHaveExactlyOneTokenError=Sie;oe.set(16,Sie);ae.set("EditionsMustHaveExactlyOneToken",Sie);class kie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="MaxEditionsMintedAlready",this.code=17}}j.MaxEditionsMintedAlreadyError=kie;oe.set(17,kie);ae.set("MaxEditionsMintedAlready",kie);class vie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="TokenMintToFailed",this.code=18}}j.TokenMintToFailedError=vie;oe.set(18,vie);ae.set("TokenMintToFailed",vie);class Aie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="MasterRecordMismatch",this.code=19}}j.MasterRecordMismatchError=Aie;oe.set(19,Aie);ae.set("MasterRecordMismatch",Aie);class wie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="DestinationMintMismatch",this.code=20}}j.DestinationMintMismatchError=wie;oe.set(20,wie);ae.set("DestinationMintMismatch",wie);class Iie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="EditionAlreadyMinted",this.code=21}}j.EditionAlreadyMintedError=Iie;oe.set(21,Iie);ae.set("EditionAlreadyMinted",Iie);class Pie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingMintDecimalsShouldBeZero",this.code=22}}j.PrintingMintDecimalsShouldBeZeroError=Pie;oe.set(22,Pie);ae.set("PrintingMintDecimalsShouldBeZero",Pie);class _ie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="OneTimePrintingAuthorizationMintDecimalsShouldBeZero",this.code=23}}j.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=_ie;oe.set(23,_ie);ae.set("OneTimePrintingAuthorizationMintDecimalsShouldBeZero",_ie);class Eie extends ce.ProgramError{constructor(e,t){super("EditionMintDecimalsShouldBeZero",e,t),this.name="EditionMintDecimalsShouldBeZero",this.code=24}}j.EditionMintDecimalsShouldBeZeroError=Eie;oe.set(24,Eie);ae.set("EditionMintDecimalsShouldBeZero",Eie);class xie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="TokenBurnFailed",this.code=25}}j.TokenBurnFailedError=xie;oe.set(25,xie);ae.set("TokenBurnFailed",xie);class Tie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="TokenAccountOneTimeAuthMintMismatch",this.code=26}}j.TokenAccountOneTimeAuthMintMismatchError=Tie;oe.set(26,Tie);ae.set("TokenAccountOneTimeAuthMintMismatch",Tie);class Rie extends ce.ProgramError{constructor(e,t){super("Derived key invalid",e,t),this.name="DerivedKeyInvalid",this.code=27}}j.DerivedKeyInvalidError=Rie;oe.set(27,Rie);ae.set("DerivedKeyInvalid",Rie);class Cie extends ce.ProgramError{constructor(e,t){super("The Printing mint does not match that on the master edition!",e,t),this.name="PrintingMintMismatch",this.code=28}}j.PrintingMintMismatchError=Cie;oe.set(28,Cie);ae.set("PrintingMintMismatch",Cie);class Mie extends ce.ProgramError{constructor(e,t){super("The One Time Printing Auth mint does not match that on the master edition!",e,t),this.name="OneTimePrintingAuthMintMismatch",this.code=29}}j.OneTimePrintingAuthMintMismatchError=Mie;oe.set(29,Mie);ae.set("OneTimePrintingAuthMintMismatch",Mie);class Bie extends ce.ProgramError{constructor(e,t){super("The mint of the token account does not match the Printing mint!",e,t),this.name="TokenAccountMintMismatch",this.code=30}}j.TokenAccountMintMismatchError=Bie;oe.set(30,Bie);ae.set("TokenAccountMintMismatch",Bie);class zie extends ce.ProgramError{constructor(e,t){super("The mint of the token account does not match the master metadata mint!",e,t),this.name="TokenAccountMintMismatchV2",this.code=31}}j.TokenAccountMintMismatchV2Error=zie;oe.set(31,zie);ae.set("TokenAccountMintMismatchV2",zie);class $ie extends ce.ProgramError{constructor(e,t){super("Not enough tokens to mint a limited edition",e,t),this.name="NotEnoughTokens",this.code=32}}j.NotEnoughTokensError=$ie;oe.set(32,$ie);ae.set("NotEnoughTokens",$ie);class Die extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingMintAuthorizationAccountMismatch",this.code=33}}j.PrintingMintAuthorizationAccountMismatchError=Die;oe.set(33,Die);ae.set("PrintingMintAuthorizationAccountMismatch",Die);class Oie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="AuthorizationTokenAccountOwnerMismatch",this.code=34}}j.AuthorizationTokenAccountOwnerMismatchError=Oie;oe.set(34,Oie);ae.set("AuthorizationTokenAccountOwnerMismatch",Oie);class Kie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="Disabled",this.code=35}}j.DisabledError=Kie;oe.set(35,Kie);ae.set("Disabled",Kie);class Lie extends ce.ProgramError{constructor(e,t){super("Creators list too long",e,t),this.name="CreatorsTooLong",this.code=36}}j.CreatorsTooLongError=Lie;oe.set(36,Lie);ae.set("CreatorsTooLong",Lie);class Wie extends ce.ProgramError{constructor(e,t){super("Creators must be at least one if set",e,t),this.name="CreatorsMustBeAtleastOne",this.code=37}}j.CreatorsMustBeAtleastOneError=Wie;oe.set(37,Wie);ae.set("CreatorsMustBeAtleastOne",Wie);class Nie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="MustBeOneOfCreators",this.code=38}}j.MustBeOneOfCreatorsError=Nie;oe.set(38,Nie);ae.set("MustBeOneOfCreators",Nie);class Fie extends ce.ProgramError{constructor(e,t){super("This metadata does not have creators",e,t),this.name="NoCreatorsPresentOnMetadata",this.code=39}}j.NoCreatorsPresentOnMetadataError=Fie;oe.set(39,Fie);ae.set("NoCreatorsPresentOnMetadata",Fie);class Uie extends ce.ProgramError{constructor(e,t){super("This creator address was not found",e,t),this.name="CreatorNotFound",this.code=40}}j.CreatorNotFoundError=Uie;oe.set(40,Uie);ae.set("CreatorNotFound",Uie);class Vie extends ce.ProgramError{constructor(e,t){super("Basis points cannot be more than 10000",e,t),this.name="InvalidBasisPoints",this.code=41}}j.InvalidBasisPointsError=Vie;oe.set(41,Vie);ae.set("InvalidBasisPoints",Vie);class qie extends ce.ProgramError{constructor(e,t){super("Primary sale can only be flipped to true and is immutable",e,t),this.name="PrimarySaleCanOnlyBeFlippedToTrue",this.code=42}}j.PrimarySaleCanOnlyBeFlippedToTrueError=qie;oe.set(42,qie);ae.set("PrimarySaleCanOnlyBeFlippedToTrue",qie);class jie extends ce.ProgramError{constructor(e,t){super("Owner does not match that on the account given",e,t),this.name="OwnerMismatch",this.code=43}}j.OwnerMismatchError=jie;oe.set(43,jie);ae.set("OwnerMismatch",jie);class Hie extends ce.ProgramError{constructor(e,t){super("This account has no tokens to be used for authorization",e,t),this.name="NoBalanceInAccountForAuthorization",this.code=44}}j.NoBalanceInAccountForAuthorizationError=Hie;oe.set(44,Hie);ae.set("NoBalanceInAccountForAuthorization",Hie);class Gie extends ce.ProgramError{constructor(e,t){super("Share total must equal 100 for creator array",e,t),this.name="ShareTotalMustBe100",this.code=45}}j.ShareTotalMustBe100Error=Gie;oe.set(45,Gie);ae.set("ShareTotalMustBe100",Gie);class Yie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationExists",this.code=46}}j.ReservationExistsError=Yie;oe.set(46,Yie);ae.set("ReservationExists",Yie);class Zie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationDoesNotExist",this.code=47}}j.ReservationDoesNotExistError=Zie;oe.set(47,Zie);ae.set("ReservationDoesNotExist",Zie);class Jie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationNotSet",this.code=48}}j.ReservationNotSetError=Jie;oe.set(48,Jie);ae.set("ReservationNotSet",Jie);class Xie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationAlreadyMade",this.code=49}}j.ReservationAlreadyMadeError=Xie;oe.set(49,Xie);ae.set("ReservationAlreadyMade",Xie);class Qie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="BeyondMaxAddressSize",this.code=50}}j.BeyondMaxAddressSizeError=Qie;oe.set(50,Qie);ae.set("BeyondMaxAddressSize",Qie);class eoe extends ce.ProgramError{constructor(e,t){super("NumericalOverflowError",e,t),this.name="NumericalOverflowError",this.code=51}}j.NumericalOverflowErrorError=eoe;oe.set(51,eoe);ae.set("NumericalOverflowError",eoe);class toe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationBreachesMaximumSupply",this.code=52}}j.ReservationBreachesMaximumSupplyError=toe;oe.set(52,toe);ae.set("ReservationBreachesMaximumSupply",toe);class roe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="AddressNotInReservation",this.code=53}}j.AddressNotInReservationError=roe;oe.set(53,roe);ae.set("AddressNotInReservation",roe);class noe extends ce.ProgramError{constructor(e,t){super("You cannot unilaterally verify another creator, they must sign",e,t),this.name="CannotVerifyAnotherCreator",this.code=54}}j.CannotVerifyAnotherCreatorError=noe;oe.set(54,noe);ae.set("CannotVerifyAnotherCreator",noe);class soe extends ce.ProgramError{constructor(e,t){super("You cannot unilaterally unverify another creator",e,t),this.name="CannotUnverifyAnotherCreator",this.code=55}}j.CannotUnverifyAnotherCreatorError=soe;oe.set(55,soe);ae.set("CannotUnverifyAnotherCreator",soe);class ioe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="SpotMismatch",this.code=56}}j.SpotMismatchError=ioe;oe.set(56,ioe);ae.set("SpotMismatch",ioe);class ooe extends ce.ProgramError{constructor(e,t){super("Incorrect account owner",e,t),this.name="IncorrectOwner",this.code=57}}j.IncorrectOwnerError=ooe;oe.set(57,ooe);ae.set("IncorrectOwner",ooe);class aoe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingWouldBreachMaximumSupply",this.code=58}}j.PrintingWouldBreachMaximumSupplyError=aoe;oe.set(58,aoe);ae.set("PrintingWouldBreachMaximumSupply",aoe);class coe extends ce.ProgramError{constructor(e,t){super("Data is immutable",e,t),this.name="DataIsImmutable",this.code=59}}j.DataIsImmutableError=coe;oe.set(59,coe);ae.set("DataIsImmutable",coe);class uoe extends ce.ProgramError{constructor(e,t){super("No duplicate creator addresses",e,t),this.name="DuplicateCreatorAddress",this.code=60}}j.DuplicateCreatorAddressError=uoe;oe.set(60,uoe);ae.set("DuplicateCreatorAddress",uoe);class loe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",this.code=61}}j.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=loe;oe.set(61,loe);ae.set("ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",loe);class doe extends ce.ProgramError{constructor(e,t){super("Invalid token program",e,t),this.name="InvalidTokenProgram",this.code=62}}j.InvalidTokenProgramError=doe;oe.set(62,doe);ae.set("InvalidTokenProgram",doe);class foe extends ce.ProgramError{constructor(e,t){super("Data type mismatch",e,t),this.name="DataTypeMismatch",this.code=63}}j.DataTypeMismatchError=foe;oe.set(63,foe);ae.set("DataTypeMismatch",foe);class hoe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="BeyondAlottedAddressSize",this.code=64}}j.BeyondAlottedAddressSizeError=hoe;oe.set(64,hoe);ae.set("BeyondAlottedAddressSize",hoe);class goe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationNotComplete",this.code=65}}j.ReservationNotCompleteError=goe;oe.set(65,goe);ae.set("ReservationNotComplete",goe);class moe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="TriedToReplaceAnExistingReservation",this.code=66}}j.TriedToReplaceAnExistingReservationError=moe;oe.set(66,moe);ae.set("TriedToReplaceAnExistingReservation",moe);class yoe extends ce.ProgramError{constructor(e,t){super("Invalid operation",e,t),this.name="InvalidOperation",this.code=67}}j.InvalidOperationError=yoe;oe.set(67,yoe);ae.set("InvalidOperation",yoe);class poe extends ce.ProgramError{constructor(e,t){super("Invalid Owner",e,t),this.name="InvalidOwner",this.code=68}}j.InvalidOwnerError=poe;oe.set(68,poe);ae.set("InvalidOwner",poe);class boe extends ce.ProgramError{constructor(e,t){super("Printing mint supply must be zero for conversion",e,t),this.name="PrintingMintSupplyMustBeZeroForConversion",this.code=69}}j.PrintingMintSupplyMustBeZeroForConversionError=boe;oe.set(69,boe);ae.set("PrintingMintSupplyMustBeZeroForConversion",boe);class Soe extends ce.ProgramError{constructor(e,t){super("One Time Auth mint supply must be zero for conversion",e,t),this.name="OneTimeAuthMintSupplyMustBeZeroForConversion",this.code=70}}j.OneTimeAuthMintSupplyMustBeZeroForConversionError=Soe;oe.set(70,Soe);ae.set("OneTimeAuthMintSupplyMustBeZeroForConversion",Soe);class koe extends ce.ProgramError{constructor(e,t){super("You tried to insert one edition too many into an edition mark pda",e,t),this.name="InvalidEditionIndex",this.code=71}}j.InvalidEditionIndexError=koe;oe.set(71,koe);ae.set("InvalidEditionIndex",koe);class voe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationArrayShouldBeSizeOne",this.code=72}}j.ReservationArrayShouldBeSizeOneError=voe;oe.set(72,voe);ae.set("ReservationArrayShouldBeSizeOne",voe);class Aoe extends ce.ProgramError{constructor(e,t){super("Is Mutable can only be flipped to false",e,t),this.name="IsMutableCanOnlyBeFlippedToFalse",this.code=73}}j.IsMutableCanOnlyBeFlippedToFalseError=Aoe;oe.set(73,Aoe);ae.set("IsMutableCanOnlyBeFlippedToFalse",Aoe);class woe extends ce.ProgramError{constructor(e,t){super("Collection cannot be verified in this instruction",e,t),this.name="CollectionCannotBeVerifiedInThisInstruction",this.code=74}}j.CollectionCannotBeVerifiedInThisInstructionError=woe;oe.set(74,woe);ae.set("CollectionCannotBeVerifiedInThisInstruction",woe);class Ioe extends ce.ProgramError{constructor(e,t){super("This instruction was deprecated in a previous release and is now removed",e,t),this.name="Removed",this.code=75}}j.RemovedError=Ioe;oe.set(75,Ioe);ae.set("Removed",Ioe);class Poe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="MustBeBurned",this.code=76}}j.MustBeBurnedError=Poe;oe.set(76,Poe);ae.set("MustBeBurned",Poe);class _oe extends ce.ProgramError{constructor(e,t){super("This use method is invalid",e,t),this.name="InvalidUseMethod",this.code=77}}j.InvalidUseMethodError=_oe;oe.set(77,_oe);ae.set("InvalidUseMethod",_oe);class Eoe extends ce.ProgramError{constructor(e,t){super("Cannot Change Use Method after the first use",e,t),this.name="CannotChangeUseMethodAfterFirstUse",this.code=78}}j.CannotChangeUseMethodAfterFirstUseError=Eoe;oe.set(78,Eoe);ae.set("CannotChangeUseMethodAfterFirstUse",Eoe);class xoe extends ce.ProgramError{constructor(e,t){super("Cannot Change Remaining or Available uses after the first use",e,t),this.name="CannotChangeUsesAfterFirstUse",this.code=79}}j.CannotChangeUsesAfterFirstUseError=xoe;oe.set(79,xoe);ae.set("CannotChangeUsesAfterFirstUse",xoe);class Toe extends ce.ProgramError{constructor(e,t){super("Collection Not Found on Metadata",e,t),this.name="CollectionNotFound",this.code=80}}j.CollectionNotFoundError=Toe;oe.set(80,Toe);ae.set("CollectionNotFound",Toe);class Roe extends ce.ProgramError{constructor(e,t){super("Collection Update Authority is invalid",e,t),this.name="InvalidCollectionUpdateAuthority",this.code=81}}j.InvalidCollectionUpdateAuthorityError=Roe;oe.set(81,Roe);ae.set("InvalidCollectionUpdateAuthority",Roe);class Coe extends ce.ProgramError{constructor(e,t){super("Collection Must Be a Unique Master Edition v2",e,t),this.name="CollectionMustBeAUniqueMasterEdition",this.code=82}}j.CollectionMustBeAUniqueMasterEditionError=Coe;oe.set(82,Coe);ae.set("CollectionMustBeAUniqueMasterEdition",Coe);class Moe extends ce.ProgramError{constructor(e,t){super("The Use Authority Record Already Exists, to modify it Revoke, then Approve",e,t),this.name="UseAuthorityRecordAlreadyExists",this.code=83}}j.UseAuthorityRecordAlreadyExistsError=Moe;oe.set(83,Moe);ae.set("UseAuthorityRecordAlreadyExists",Moe);class Boe extends ce.ProgramError{constructor(e,t){super("The Use Authority Record is empty or already revoked",e,t),this.name="UseAuthorityRecordAlreadyRevoked",this.code=84}}j.UseAuthorityRecordAlreadyRevokedError=Boe;oe.set(84,Boe);ae.set("UseAuthorityRecordAlreadyRevoked",Boe);class zoe extends ce.ProgramError{constructor(e,t){super("This token has no uses",e,t),this.name="Unusable",this.code=85}}j.UnusableError=zoe;oe.set(85,zoe);ae.set("Unusable",zoe);class $oe extends ce.ProgramError{constructor(e,t){super("There are not enough Uses left on this token.",e,t),this.name="NotEnoughUses",this.code=86}}j.NotEnoughUsesError=$oe;oe.set(86,$oe);ae.set("NotEnoughUses",$oe);class Doe extends ce.ProgramError{constructor(e,t){super("This Collection Authority Record Already Exists.",e,t),this.name="CollectionAuthorityRecordAlreadyExists",this.code=87}}j.CollectionAuthorityRecordAlreadyExistsError=Doe;oe.set(87,Doe);ae.set("CollectionAuthorityRecordAlreadyExists",Doe);class Ooe extends ce.ProgramError{constructor(e,t){super("This Collection Authority Record Does Not Exist.",e,t),this.name="CollectionAuthorityDoesNotExist",this.code=88}}j.CollectionAuthorityDoesNotExistError=Ooe;oe.set(88,Ooe);ae.set("CollectionAuthorityDoesNotExist",Ooe);class Koe extends ce.ProgramError{constructor(e,t){super("This Use Authority Record is invalid.",e,t),this.name="InvalidUseAuthorityRecord",this.code=89}}j.InvalidUseAuthorityRecordError=Koe;oe.set(89,Koe);ae.set("InvalidUseAuthorityRecord",Koe);class Loe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidCollectionAuthorityRecord",this.code=90}}j.InvalidCollectionAuthorityRecordError=Loe;oe.set(90,Loe);ae.set("InvalidCollectionAuthorityRecord",Loe);class Woe extends ce.ProgramError{constructor(e,t){super("Metadata does not match the freeze authority on the mint",e,t),this.name="InvalidFreezeAuthority",this.code=91}}j.InvalidFreezeAuthorityError=Woe;oe.set(91,Woe);ae.set("InvalidFreezeAuthority",Woe);class Noe extends ce.ProgramError{constructor(e,t){super("All tokens in this account have not been delegated to this user.",e,t),this.name="InvalidDelegate",this.code=92}}j.InvalidDelegateError=Noe;oe.set(92,Noe);ae.set("InvalidDelegate",Noe);class Foe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="CannotAdjustVerifiedCreator",this.code=93}}j.CannotAdjustVerifiedCreatorError=Foe;oe.set(93,Foe);ae.set("CannotAdjustVerifiedCreator",Foe);class Uoe extends ce.ProgramError{constructor(e,t){super("Verified creators cannot be removed.",e,t),this.name="CannotRemoveVerifiedCreator",this.code=94}}j.CannotRemoveVerifiedCreatorError=Uoe;oe.set(94,Uoe);ae.set("CannotRemoveVerifiedCreator",Uoe);class Voe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="CannotWipeVerifiedCreators",this.code=95}}j.CannotWipeVerifiedCreatorsError=Voe;oe.set(95,Voe);ae.set("CannotWipeVerifiedCreators",Voe);class qoe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="NotAllowedToChangeSellerFeeBasisPoints",this.code=96}}j.NotAllowedToChangeSellerFeeBasisPointsError=qoe;oe.set(96,qoe);ae.set("NotAllowedToChangeSellerFeeBasisPoints",qoe);class joe extends ce.ProgramError{constructor(e,t){super("Edition override cannot be zero",e,t),this.name="EditionOverrideCannotBeZero",this.code=97}}j.EditionOverrideCannotBeZeroError=joe;oe.set(97,joe);ae.set("EditionOverrideCannotBeZero",joe);class Hoe extends ce.ProgramError{constructor(e,t){super("Invalid User",e,t),this.name="InvalidUser",this.code=98}}j.InvalidUserError=Hoe;oe.set(98,Hoe);ae.set("InvalidUser",Hoe);class Goe extends ce.ProgramError{constructor(e,t){super("Revoke Collection Authority signer is incorrect",e,t),this.name="RevokeCollectionAuthoritySignerIncorrect",this.code=99}}j.RevokeCollectionAuthoritySignerIncorrectError=Goe;oe.set(99,Goe);ae.set("RevokeCollectionAuthoritySignerIncorrect",Goe);class Yoe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="TokenCloseFailed",this.code=100}}j.TokenCloseFailedError=Yoe;oe.set(100,Yoe);ae.set("TokenCloseFailed",Yoe);class Zoe extends ce.ProgramError{constructor(e,t){super("Can't use this function on unsized collection",e,t),this.name="UnsizedCollection",this.code=101}}j.UnsizedCollectionError=Zoe;oe.set(101,Zoe);ae.set("UnsizedCollection",Zoe);class Joe extends ce.ProgramError{constructor(e,t){super("Can't use this function on a sized collection",e,t),this.name="SizedCollection",this.code=102}}j.SizedCollectionError=Joe;oe.set(102,Joe);ae.set("SizedCollection",Joe);class Xoe extends ce.ProgramError{constructor(e,t){super("Missing collection metadata account",e,t),this.name="MissingCollectionMetadata",this.code=103}}j.MissingCollectionMetadataError=Xoe;oe.set(103,Xoe);ae.set("MissingCollectionMetadata",Xoe);class Qoe extends ce.ProgramError{constructor(e,t){super("This NFT is not a member of the specified collection.",e,t),this.name="NotAMemberOfCollection",this.code=104}}j.NotAMemberOfCollectionError=Qoe;oe.set(104,Qoe);ae.set("NotAMemberOfCollection",Qoe);class eae extends ce.ProgramError{constructor(e,t){super("This NFT is not a verified member of the specified collection.",e,t),this.name="NotVerifiedMemberOfCollection",this.code=105}}j.NotVerifiedMemberOfCollectionError=eae;oe.set(105,eae);ae.set("NotVerifiedMemberOfCollection",eae);class tae extends ce.ProgramError{constructor(e,t){super("This NFT is not a collection parent NFT.",e,t),this.name="NotACollectionParent",this.code=106}}j.NotACollectionParentError=tae;oe.set(106,tae);ae.set("NotACollectionParent",tae);class rae extends ce.ProgramError{constructor(e,t){super("Could not determine a TokenStandard type.",e,t),this.name="CouldNotDetermineTokenStandard",this.code=107}}j.CouldNotDetermineTokenStandardError=rae;oe.set(107,rae);ae.set("CouldNotDetermineTokenStandard",rae);class nae extends ce.ProgramError{constructor(e,t){super("This mint account has an edition but none was provided.",e,t),this.name="MissingEditionAccount",this.code=108}}j.MissingEditionAccountError=nae;oe.set(108,nae);ae.set("MissingEditionAccount",nae);class sae extends ce.ProgramError{constructor(e,t){super("This edition is not a Master Edition",e,t),this.name="NotAMasterEdition",this.code=109}}j.NotAMasterEditionError=sae;oe.set(109,sae);ae.set("NotAMasterEdition",sae);class iae extends ce.ProgramError{constructor(e,t){super("This Master Edition has existing prints",e,t),this.name="MasterEditionHasPrints",this.code=110}}j.MasterEditionHasPrintsError=iae;oe.set(110,iae);ae.set("MasterEditionHasPrints",iae);class oae extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="BorshDeserializationError",this.code=111}}j.BorshDeserializationErrorError=oae;oe.set(111,oae);ae.set("BorshDeserializationError",oae);class aae extends ce.ProgramError{constructor(e,t){super("Cannot update a verified collection in this command",e,t),this.name="CannotUpdateVerifiedCollection",this.code=112}}j.CannotUpdateVerifiedCollectionError=aae;oe.set(112,aae);ae.set("CannotUpdateVerifiedCollection",aae);class cae extends ce.ProgramError{constructor(e,t){super("Edition account doesnt match collection ",e,t),this.name="CollectionMasterEditionAccountInvalid",this.code=113}}j.CollectionMasterEditionAccountInvalidError=cae;oe.set(113,cae);ae.set("CollectionMasterEditionAccountInvalid",cae);class uae extends ce.ProgramError{constructor(e,t){super("Item is already verified.",e,t),this.name="AlreadyVerified",this.code=114}}j.AlreadyVerifiedError=uae;oe.set(114,uae);ae.set("AlreadyVerified",uae);class lae extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="AlreadyUnverified",this.code=115}}j.AlreadyUnverifiedError=lae;oe.set(115,lae);ae.set("AlreadyUnverified",lae);class dae extends ce.ProgramError{constructor(e,t){super("This edition is not a Print Edition",e,t),this.name="NotAPrintEdition",this.code=116}}j.NotAPrintEditionError=dae;oe.set(116,dae);ae.set("NotAPrintEdition",dae);class fae extends ce.ProgramError{constructor(e,t){super("Invalid Master Edition",e,t),this.name="InvalidMasterEdition",this.code=117}}j.InvalidMasterEditionError=fae;oe.set(117,fae);ae.set("InvalidMasterEdition",fae);class hae extends ce.ProgramError{constructor(e,t){super("Invalid Print Edition",e,t),this.name="InvalidPrintEdition",this.code=118}}j.InvalidPrintEditionError=hae;oe.set(118,hae);ae.set("InvalidPrintEdition",hae);class gae extends ce.ProgramError{constructor(e,t){super("Invalid Edition Marker",e,t),this.name="InvalidEditionMarker",this.code=119}}j.InvalidEditionMarkerError=gae;oe.set(119,gae);ae.set("InvalidEditionMarker",gae);class mae extends ce.ProgramError{constructor(e,t){super("Reservation List is Deprecated",e,t),this.name="ReservationListDeprecated",this.code=120}}j.ReservationListDeprecatedError=mae;oe.set(120,mae);ae.set("ReservationListDeprecated",mae);class yae extends ce.ProgramError{constructor(e,t){super("Print Edition does not match Master Edition",e,t),this.name="PrintEditionDoesNotMatchMasterEdition",this.code=121}}j.PrintEditionDoesNotMatchMasterEditionError=yae;oe.set(121,yae);ae.set("PrintEditionDoesNotMatchMasterEdition",yae);class pae extends ce.ProgramError{constructor(e,t){super("Edition Number greater than max supply",e,t),this.name="EditionNumberGreaterThanMaxSupply",this.code=122}}j.EditionNumberGreaterThanMaxSupplyError=pae;oe.set(122,pae);ae.set("EditionNumberGreaterThanMaxSupply",pae);class bae extends ce.ProgramError{constructor(e,t){super("Must unverify before migrating collections.",e,t),this.name="MustUnverify",this.code=123}}j.MustUnverifyError=bae;oe.set(123,bae);ae.set("MustUnverify",bae);class Sae extends ce.ProgramError{constructor(e,t){super("Invalid Escrow Account Bump Seed",e,t),this.name="InvalidEscrowBumpSeed",this.code=124}}j.InvalidEscrowBumpSeedError=Sae;oe.set(124,Sae);ae.set("InvalidEscrowBumpSeed",Sae);class kae extends ce.ProgramError{constructor(e,t){super("Must Escrow Authority",e,t),this.name="MustBeEscrowAuthority",this.code=125}}j.MustBeEscrowAuthorityError=kae;oe.set(125,kae);ae.set("MustBeEscrowAuthority",kae);class vae extends ce.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=126}}j.InvalidSystemProgramError=vae;oe.set(126,vae);ae.set("InvalidSystemProgram",vae);class Aae extends ce.ProgramError{constructor(e,t){super("Must be a Non Fungible Token",e,t),this.name="MustBeNonFungible",this.code=127}}j.MustBeNonFungibleError=Aae;oe.set(127,Aae);ae.set("MustBeNonFungible",Aae);class wae extends ce.ProgramError{constructor(e,t){super("Insufficient tokens for transfer",e,t),this.name="InsufficientTokens",this.code=128}}j.InsufficientTokensError=wae;oe.set(128,wae);ae.set("InsufficientTokens",wae);class Iae extends ce.ProgramError{constructor(e,t){super("Borsh Serialization Error",e,t),this.name="BorshSerializationError",this.code=129}}j.BorshSerializationErrorError=Iae;oe.set(129,Iae);ae.set("BorshSerializationError",Iae);class Pae extends ce.ProgramError{constructor(e,t){super("Cannot create NFT with no Freeze Authority.",e,t),this.name="NoFreezeAuthoritySet",this.code=130}}j.NoFreezeAuthoritySetError=Pae;oe.set(130,Pae);ae.set("NoFreezeAuthoritySet",Pae);class _ae extends ce.ProgramError{constructor(e,t){super("Invalid collection size change",e,t),this.name="InvalidCollectionSizeChange",this.code=131}}j.InvalidCollectionSizeChangeError=_ae;oe.set(131,_ae);ae.set("InvalidCollectionSizeChange",_ae);class Eae extends ce.ProgramError{constructor(e,t){super("Invalid bubblegum signer",e,t),this.name="InvalidBubblegumSigner",this.code=132}}j.InvalidBubblegumSignerError=Eae;oe.set(132,Eae);ae.set("InvalidBubblegumSigner",Eae);class xae extends ce.ProgramError{constructor(e,t){super("Escrow parent cannot have a delegate",e,t),this.name="EscrowParentHasDelegate",this.code=133}}j.EscrowParentHasDelegateError=xae;oe.set(133,xae);ae.set("EscrowParentHasDelegate",xae);class Tae extends ce.ProgramError{constructor(e,t){super("Mint needs to be signer to initialize the account",e,t),this.name="MintIsNotSigner",this.code=134}}j.MintIsNotSignerError=Tae;oe.set(134,Tae);ae.set("MintIsNotSigner",Tae);class Rae extends ce.ProgramError{constructor(e,t){super("Invalid token standard",e,t),this.name="InvalidTokenStandard",this.code=135}}j.InvalidTokenStandardError=Rae;oe.set(135,Rae);ae.set("InvalidTokenStandard",Rae);class Cae extends ce.ProgramError{constructor(e,t){super("Invalid mint account for specified token standard",e,t),this.name="InvalidMintForTokenStandard",this.code=136}}j.InvalidMintForTokenStandardError=Cae;oe.set(136,Cae);ae.set("InvalidMintForTokenStandard",Cae);class Mae extends ce.ProgramError{constructor(e,t){super("Invalid authorization rules account",e,t),this.name="InvalidAuthorizationRules",this.code=137}}j.InvalidAuthorizationRulesError=Mae;oe.set(137,Mae);ae.set("InvalidAuthorizationRules",Mae);class Bae extends ce.ProgramError{constructor(e,t){super("Missing authorization rules account",e,t),this.name="MissingAuthorizationRules",this.code=138}}j.MissingAuthorizationRulesError=Bae;oe.set(138,Bae);ae.set("MissingAuthorizationRules",Bae);class zae extends ce.ProgramError{constructor(e,t){super("Missing programmable configuration",e,t),this.name="MissingProgrammableConfig",this.code=139}}j.MissingProgrammableConfigError=zae;oe.set(139,zae);ae.set("MissingProgrammableConfig",zae);class $ae extends ce.ProgramError{constructor(e,t){super("Invalid programmable configuration",e,t),this.name="InvalidProgrammableConfig",this.code=140}}j.InvalidProgrammableConfigError=$ae;oe.set(140,$ae);ae.set("InvalidProgrammableConfig",$ae);class Dae extends ce.ProgramError{constructor(e,t){super("Delegate already exists",e,t),this.name="DelegateAlreadyExists",this.code=141}}j.DelegateAlreadyExistsError=Dae;oe.set(141,Dae);ae.set("DelegateAlreadyExists",Dae);class Oae extends ce.ProgramError{constructor(e,t){super("Delegate not found",e,t),this.name="DelegateNotFound",this.code=142}}j.DelegateNotFoundError=Oae;oe.set(142,Oae);ae.set("DelegateNotFound",Oae);class Kae extends ce.ProgramError{constructor(e,t){super("Required account not set in instruction builder",e,t),this.name="MissingAccountInBuilder",this.code=143}}j.MissingAccountInBuilderError=Kae;oe.set(143,Kae);ae.set("MissingAccountInBuilder",Kae);class Lae extends ce.ProgramError{constructor(e,t){super("Required argument not set in instruction builder",e,t),this.name="MissingArgumentInBuilder",this.code=144}}j.MissingArgumentInBuilderError=Lae;oe.set(144,Lae);ae.set("MissingArgumentInBuilder",Lae);class Wae extends ce.ProgramError{constructor(e,t){super("Feature not supported currently",e,t),this.name="FeatureNotSupported",this.code=145}}j.FeatureNotSupportedError=Wae;oe.set(145,Wae);ae.set("FeatureNotSupported",Wae);class Nae extends ce.ProgramError{constructor(e,t){super("Invalid system wallet",e,t),this.name="InvalidSystemWallet",this.code=146}}j.InvalidSystemWalletError=Nae;oe.set(146,Nae);ae.set("InvalidSystemWallet",Nae);class Fae extends ce.ProgramError{constructor(e,t){super("Only the sale delegate can transfer while its set",e,t),this.name="OnlySaleDelegateCanTransfer",this.code=147}}j.OnlySaleDelegateCanTransferError=Fae;oe.set(147,Fae);ae.set("OnlySaleDelegateCanTransfer",Fae);class Uae extends ce.ProgramError{constructor(e,t){super("Missing token account",e,t),this.name="MissingTokenAccount",this.code=148}}j.MissingTokenAccountError=Uae;oe.set(148,Uae);ae.set("MissingTokenAccount",Uae);class Vae extends ce.ProgramError{constructor(e,t){super("Missing SPL token program",e,t),this.name="MissingSplTokenProgram",this.code=149}}j.MissingSplTokenProgramError=Vae;oe.set(149,Vae);ae.set("MissingSplTokenProgram",Vae);class qae extends ce.ProgramError{constructor(e,t){super("Missing authorization rules program",e,t),this.name="MissingAuthorizationRulesProgram",this.code=150}}j.MissingAuthorizationRulesProgramError=qae;oe.set(150,qae);ae.set("MissingAuthorizationRulesProgram",qae);class jae extends ce.ProgramError{constructor(e,t){super("Invalid delegate role for transfer",e,t),this.name="InvalidDelegateRoleForTransfer",this.code=151}}j.InvalidDelegateRoleForTransferError=jae;oe.set(151,jae);ae.set("InvalidDelegateRoleForTransfer",jae);class Hae extends ce.ProgramError{constructor(e,t){super("Invalid transfer authority",e,t),this.name="InvalidTransferAuthority",this.code=152}}j.InvalidTransferAuthorityError=Hae;oe.set(152,Hae);ae.set("InvalidTransferAuthority",Hae);class Gae extends ce.ProgramError{constructor(e,t){super("Instruction not supported for ProgrammableNonFungible assets",e,t),this.name="InstructionNotSupported",this.code=153}}j.InstructionNotSupportedError=Gae;oe.set(153,Gae);ae.set("InstructionNotSupported",Gae);class Yae extends ce.ProgramError{constructor(e,t){super("Public key does not match expected value",e,t),this.name="KeyMismatch",this.code=154}}j.KeyMismatchError=Yae;oe.set(154,Yae);ae.set("KeyMismatch",Yae);class Zae extends ce.ProgramError{constructor(e,t){super("Token is locked",e,t),this.name="LockedToken",this.code=155}}j.LockedTokenError=Zae;oe.set(155,Zae);ae.set("LockedToken",Zae);class Jae extends ce.ProgramError{constructor(e,t){super("Token is unlocked",e,t),this.name="UnlockedToken",this.code=156}}j.UnlockedTokenError=Jae;oe.set(156,Jae);ae.set("UnlockedToken",Jae);class Xae extends ce.ProgramError{constructor(e,t){super("Missing delegate role",e,t),this.name="MissingDelegateRole",this.code=157}}j.MissingDelegateRoleError=Xae;oe.set(157,Xae);ae.set("MissingDelegateRole",Xae);class Qae extends ce.ProgramError{constructor(e,t){super("Invalid authority type",e,t),this.name="InvalidAuthorityType",this.code=158}}j.InvalidAuthorityTypeError=Qae;oe.set(158,Qae);ae.set("InvalidAuthorityType",Qae);class ece extends ce.ProgramError{constructor(e,t){super("Missing token record account",e,t),this.name="MissingTokenRecord",this.code=159}}j.MissingTokenRecordError=ece;oe.set(159,ece);ae.set("MissingTokenRecord",ece);class tce extends ce.ProgramError{constructor(e,t){super("Mint supply must be zero for programmable assets",e,t),this.name="MintSupplyMustBeZero",this.code=160}}j.MintSupplyMustBeZeroError=tce;oe.set(160,tce);ae.set("MintSupplyMustBeZero",tce);class rce extends ce.ProgramError{constructor(e,t){super("Data is empty or zeroed",e,t),this.name="DataIsEmptyOrZeroed",this.code=161}}j.DataIsEmptyOrZeroedError=rce;oe.set(161,rce);ae.set("DataIsEmptyOrZeroed",rce);class nce extends ce.ProgramError{constructor(e,t){super("Missing token owner",e,t),this.name="MissingTokenOwnerAccount",this.code=162}}j.MissingTokenOwnerAccountError=nce;oe.set(162,nce);ae.set("MissingTokenOwnerAccount",nce);class sce extends ce.ProgramError{constructor(e,t){super("Master edition account has an invalid length",e,t),this.name="InvalidMasterEditionAccountLength",this.code=163}}j.InvalidMasterEditionAccountLengthError=sce;oe.set(163,sce);ae.set("InvalidMasterEditionAccountLength",sce);class ice extends ce.ProgramError{constructor(e,t){super("Incorrect token state",e,t),this.name="IncorrectTokenState",this.code=164}}j.IncorrectTokenStateError=ice;oe.set(164,ice);ae.set("IncorrectTokenState",ice);class oce extends ce.ProgramError{constructor(e,t){super("Invalid delegate role",e,t),this.name="InvalidDelegateRole",this.code=165}}j.InvalidDelegateRoleError=oce;oe.set(165,oce);ae.set("InvalidDelegateRole",oce);class ace extends ce.ProgramError{constructor(e,t){super("Print supply is required for non-fungibles",e,t),this.name="MissingPrintSupply",this.code=166}}j.MissingPrintSupplyError=ace;oe.set(166,ace);ae.set("MissingPrintSupply",ace);class cce extends ce.ProgramError{constructor(e,t){super("Missing master edition account",e,t),this.name="MissingMasterEditionAccount",this.code=167}}j.MissingMasterEditionAccountError=cce;oe.set(167,cce);ae.set("MissingMasterEditionAccount",cce);class uce extends ce.ProgramError{constructor(e,t){super("Amount must be greater than zero",e,t),this.name="AmountMustBeGreaterThanZero",this.code=168}}j.AmountMustBeGreaterThanZeroError=uce;oe.set(168,uce);ae.set("AmountMustBeGreaterThanZero",uce);class lce extends ce.ProgramError{constructor(e,t){super("Invalid delegate args",e,t),this.name="InvalidDelegateArgs",this.code=169}}j.InvalidDelegateArgsError=lce;oe.set(169,lce);ae.set("InvalidDelegateArgs",lce);class dce extends ce.ProgramError{constructor(e,t){super("Missing address for locked transfer",e,t),this.name="MissingLockedTransferAddress",this.code=170}}j.MissingLockedTransferAddressError=dce;oe.set(170,dce);ae.set("MissingLockedTransferAddress",dce);class fce extends ce.ProgramError{constructor(e,t){super("Invalid destination address for locked transfer",e,t),this.name="InvalidLockedTransferAddress",this.code=171}}j.InvalidLockedTransferAddressError=fce;oe.set(171,fce);ae.set("InvalidLockedTransferAddress",fce);class hce extends ce.ProgramError{constructor(e,t){super("Exceeded account realloc increase limit",e,t),this.name="DataIncrementLimitExceeded",this.code=172}}j.DataIncrementLimitExceededError=hce;oe.set(172,hce);ae.set("DataIncrementLimitExceeded",hce);class gce extends ce.ProgramError{constructor(e,t){super("Cannot update the rule set of a programmable asset that has a delegate",e,t),this.name="CannotUpdateAssetWithDelegate",this.code=173}}j.CannotUpdateAssetWithDelegateError=gce;oe.set(173,gce);ae.set("CannotUpdateAssetWithDelegate",gce);class mce extends ce.ProgramError{constructor(e,t){super("Invalid token amount for this operation or token standard",e,t),this.name="InvalidAmount",this.code=174}}j.InvalidAmountError=mce;oe.set(174,mce);ae.set("InvalidAmount",mce);class yce extends ce.ProgramError{constructor(e,t){super("Missing master edition mint account",e,t),this.name="MissingMasterEditionMintAccount",this.code=175}}j.MissingMasterEditionMintAccountError=yce;oe.set(175,yce);ae.set("MissingMasterEditionMintAccount",yce);class pce extends ce.ProgramError{constructor(e,t){super("Missing master edition token account",e,t),this.name="MissingMasterEditionTokenAccount",this.code=176}}j.MissingMasterEditionTokenAccountError=pce;oe.set(176,pce);ae.set("MissingMasterEditionTokenAccount",pce);class bce extends ce.ProgramError{constructor(e,t){super("Missing edition marker account",e,t),this.name="MissingEditionMarkerAccount",this.code=177}}j.MissingEditionMarkerAccountError=bce;oe.set(177,bce);ae.set("MissingEditionMarkerAccount",bce);class Sce extends ce.ProgramError{constructor(e,t){super("Cannot burn while persistent delegate is set",e,t),this.name="CannotBurnWithDelegate",this.code=178}}j.CannotBurnWithDelegateError=Sce;oe.set(178,Sce);ae.set("CannotBurnWithDelegate",Sce);class kce extends ce.ProgramError{constructor(e,t){super("Missing edition account",e,t),this.name="MissingEdition",this.code=179}}j.MissingEditionError=kce;oe.set(179,kce);ae.set("MissingEdition",kce);class vce extends ce.ProgramError{constructor(e,t){super("Invalid Associated Token Account Program",e,t),this.name="InvalidAssociatedTokenAccountProgram",this.code=180}}j.InvalidAssociatedTokenAccountProgramError=vce;oe.set(180,vce);ae.set("InvalidAssociatedTokenAccountProgram",vce);class Ace extends ce.ProgramError{constructor(e,t){super("Invalid InstructionsSysvar",e,t),this.name="InvalidInstructionsSysvar",this.code=181}}j.InvalidInstructionsSysvarError=Ace;oe.set(181,Ace);ae.set("InvalidInstructionsSysvar",Ace);class wce extends ce.ProgramError{constructor(e,t){super("Invalid or Unneeded parent accounts",e,t),this.name="InvalidParentAccounts",this.code=182}}j.InvalidParentAccountsError=wce;oe.set(182,wce);ae.set("InvalidParentAccounts",wce);class Ice extends ce.ProgramError{constructor(e,t){super("Authority cannot apply all update args",e,t),this.name="InvalidUpdateArgs",this.code=183}}j.InvalidUpdateArgsError=Ice;oe.set(183,Ice);ae.set("InvalidUpdateArgs",Ice);class Pce extends ce.ProgramError{constructor(e,t){super("Token account does not have enough tokens",e,t),this.name="InsufficientTokenBalance",this.code=184}}j.InsufficientTokenBalanceError=Pce;oe.set(184,Pce);ae.set("InsufficientTokenBalance",Pce);class _ce extends ce.ProgramError{constructor(e,t){super("Missing collection account",e,t),this.name="MissingCollectionMint",this.code=185}}j.MissingCollectionMintError=_ce;oe.set(185,_ce);ae.set("MissingCollectionMint",_ce);class Ece extends ce.ProgramError{constructor(e,t){super("Missing collection master edition account",e,t),this.name="MissingCollectionMasterEdition",this.code=186}}j.MissingCollectionMasterEditionError=Ece;oe.set(186,Ece);ae.set("MissingCollectionMasterEdition",Ece);class xce extends ce.ProgramError{constructor(e,t){super("Invalid token record account",e,t),this.name="InvalidTokenRecord",this.code=187}}j.InvalidTokenRecordError=xce;oe.set(187,xce);ae.set("InvalidTokenRecord",xce);class Tce extends ce.ProgramError{constructor(e,t){super("The close authority needs to be revoked by the Utility Delegate",e,t),this.name="InvalidCloseAuthority",this.code=188}}j.InvalidCloseAuthorityError=Tce;oe.set(188,Tce);ae.set("InvalidCloseAuthority",Tce);class Rce extends ce.ProgramError{constructor(e,t){super("Invalid or removed instruction",e,t),this.name="InvalidInstruction",this.code=189}}j.InvalidInstructionError=Rce;oe.set(189,Rce);ae.set("InvalidInstruction",Rce);class Cce extends ce.ProgramError{constructor(e,t){super("Missing delegate record",e,t),this.name="MissingDelegateRecord",this.code=190}}j.MissingDelegateRecordError=Cce;oe.set(190,Cce);ae.set("MissingDelegateRecord",Cce);class Mce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidFeeAccount",this.code=191}}j.InvalidFeeAccountError=Mce;oe.set(191,Mce);ae.set("InvalidFeeAccount",Mce);class Bce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidMetadataFlags",this.code=192}}j.InvalidMetadataFlagsError=Bce;oe.set(192,Bce);ae.set("InvalidMetadataFlags",Bce);class zce extends ce.ProgramError{constructor(e,t){super("Cannot change the update authority with a delegate",e,t),this.name="CannotChangeUpdateAuthorityWithDelegate",this.code=193}}j.CannotChangeUpdateAuthorityWithDelegateError=zce;oe.set(193,zce);ae.set("CannotChangeUpdateAuthorityWithDelegate",zce);class $ce extends ce.ProgramError{constructor(e,t){super("Invalid mint extension type",e,t),this.name="InvalidMintExtensionType",this.code=194}}j.InvalidMintExtensionTypeError=$ce;oe.set(194,$ce);ae.set("InvalidMintExtensionType",$ce);class Dce extends ce.ProgramError{constructor(e,t){super("Invalid mint close authority",e,t),this.name="InvalidMintCloseAuthority",this.code=195}}j.InvalidMintCloseAuthorityError=Dce;oe.set(195,Dce);ae.set("InvalidMintCloseAuthority",Dce);class Oce extends ce.ProgramError{constructor(e,t){super("Invalid metadata pointer",e,t),this.name="InvalidMetadataPointer",this.code=196}}j.InvalidMetadataPointerError=Oce;oe.set(196,Oce);ae.set("InvalidMetadataPointer",Oce);class Kce extends ce.ProgramError{constructor(e,t){super("Invalid token extension type",e,t),this.name="InvalidTokenExtensionType",this.code=197}}j.InvalidTokenExtensionTypeError=Kce;oe.set(197,Kce);ae.set("InvalidTokenExtensionType",Kce);class Lce extends ce.ProgramError{constructor(e,t){super("Missing immutable owner extension",e,t),this.name="MissingImmutableOwnerExtension",this.code=198}}j.MissingImmutableOwnerExtensionError=Lce;oe.set(198,Lce);ae.set("MissingImmutableOwnerExtension",Lce);class Wce extends ce.ProgramError{constructor(e,t){super("Expected account to be uninitialized",e,t),this.name="ExpectedUninitializedAccount",this.code=199}}j.ExpectedUninitializedAccountError=Wce;oe.set(199,Wce);ae.set("ExpectedUninitializedAccount",Wce);class Nce extends ce.ProgramError{constructor(e,t){super("Edition account has an invalid length",e,t),this.name="InvalidEditionAccountLength",this.code=200}}j.InvalidEditionAccountLengthError=Nce;oe.set(200,Nce);ae.set("InvalidEditionAccountLength",Nce);class Fce extends ce.ProgramError{constructor(e,t){super("Account has already been resized",e,t),this.name="AccountAlreadyResized",this.code=201}}j.AccountAlreadyResizedError=Fce;oe.set(201,Fce);ae.set("AccountAlreadyResized",Fce);class Uce extends ce.ProgramError{constructor(e,t){super("Conditions for closing not met",e,t),this.name="ConditionsForClosingNotMet",this.code=202}}j.ConditionsForClosingNotMetError=Uce;oe.set(202,Uce);ae.set("ConditionsForClosingNotMet",Uce);function zDt(n,e,t){const r=oe.get(n);return r?new r(e,t):null}j.getMplTokenMetadataErrorFromCode=zDt;function $Dt(n,e,t){const r=ae.get(n);return r?new r(e,t):null}j.getMplTokenMetadataErrorFromName=$Dt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(j,n)})(rie);var z$e={},Z_={},Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.getAccountMetasAndSigners=Ke.expectPda=Ke.expectPublicKey=Ke.expectSome=void 0;const Z2=Z;function DDt(n){if(n==null)throw new Error("Expected a value but received null or undefined.");return n}Ke.expectSome=DDt;function ODt(n){if(!n)throw new Error("Expected a PublicKey.");return(0,Z2.publicKey)(n,!1)}Ke.expectPublicKey=ODt;function KDt(n){if(!n||!Array.isArray(n)||!(0,Z2.isPda)(n))throw new Error("Expected a PDA.");return n}Ke.expectPda=KDt;function LDt(n,e,t){const r=[],s=[];return n.forEach(i=>{if(!i.value){if(e==="omitted")return;r.push({pubkey:t,isSigner:!1,isWritable:!1});return}(0,Z2.isSigner)(i.value)&&s.push(i.value),r.push({pubkey:(0,Z2.publicKey)(i.value,!1),isSigner:(0,Z2.isSigner)(i.value),isWritable:i.isWritable})}),[r,s]}Ke.getAccountMetasAndSigners=LDt;Object.defineProperty(Z_,"__esModule",{value:!0});Z_.approveCollectionAuthority=Z_.getApproveCollectionAuthorityInstructionDataSerializer=void 0;const WDt=Z,i7=q,NDt=Nt,fbe=Ke;function $$e(){return(0,i7.mapSerializer)((0,i7.struct)([["discriminator",(0,i7.u8)()]],{description:"ApproveCollectionAuthorityInstructionData"}),n=>({...n,discriminator:23}))}Z_.getApproveCollectionAuthorityInstructionDataSerializer=$$e;function FDt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionAuthorityRecord:{index:0,isWritable:!0,value:e.collectionAuthorityRecord??null},newCollectionAuthority:{index:1,isWritable:!1,value:e.newCollectionAuthority??null},updateAuthority:{index:2,isWritable:!0,value:e.updateAuthority??null},payer:{index:3,isWritable:!0,value:e.payer??null},metadata:{index:4,isWritable:!1,value:e.metadata??null},mint:{index:5,isWritable:!1,value:e.mint??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},rent:{index:7,isWritable:!1,value:e.rent??null}};r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,NDt.findMetadataPda)(n,{mint:(0,fbe.expectPublicKey)(r.mint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,fbe.getAccountMetasAndSigners)(s,"omitted",t),a=$$e().serialize({}),c=0;return(0,WDt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Z_.approveCollectionAuthority=FDt;var J_={};Object.defineProperty(J_,"__esModule",{value:!0});J_.approveUseAuthority=J_.getApproveUseAuthorityInstructionDataSerializer=void 0;const UDt=Z,A3=q,VDt=Nt,hbe=Ke;function D$e(){return(0,A3.mapSerializer)((0,A3.struct)([["discriminator",(0,A3.u8)()],["numberOfUses",(0,A3.u64)()]],{description:"ApproveUseAuthorityInstructionData"}),n=>({...n,discriminator:20}))}J_.getApproveUseAuthorityInstructionDataSerializer=D$e;function qDt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={useAuthorityRecord:{index:0,isWritable:!0,value:e.useAuthorityRecord??null},owner:{index:1,isWritable:!0,value:e.owner??null},payer:{index:2,isWritable:!0,value:e.payer??null},user:{index:3,isWritable:!1,value:e.user??null},ownerTokenAccount:{index:4,isWritable:!0,value:e.ownerTokenAccount??null},metadata:{index:5,isWritable:!1,value:e.metadata??null},mint:{index:6,isWritable:!1,value:e.mint??null},burner:{index:7,isWritable:!1,value:e.burner??null},tokenProgram:{index:8,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},rent:{index:10,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,VDt.findMetadataPda)(n,{mint:(0,hbe.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,hbe.getAccountMetasAndSigners)(i,"omitted",t),c=D$e().serialize(s),u=0;return(0,UDt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}J_.approveUseAuthority=qDt;var X_={};Object.defineProperty(X_,"__esModule",{value:!0});X_.bubblegumSetCollectionSize=X_.getBubblegumSetCollectionSizeInstructionDataSerializer=void 0;const jDt=Z,o7=q,HDt=Ke,GDt=lt;function O$e(){return(0,o7.mapSerializer)((0,o7.struct)([["discriminator",(0,o7.u8)()],["setCollectionSizeArgs",(0,GDt.getSetCollectionSizeArgsSerializer)()]],{description:"BubblegumSetCollectionSizeInstructionData"}),n=>({...n,discriminator:36}))}X_.getBubblegumSetCollectionSizeInstructionDataSerializer=O$e;function YDt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionMetadata:{index:0,isWritable:!0,value:e.collectionMetadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},bubblegumSigner:{index:3,isWritable:!1,value:e.bubblegumSigner??null},collectionAuthorityRecord:{index:4,isWritable:!1,value:e.collectionAuthorityRecord??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,HDt.getAccountMetasAndSigners)(i,"omitted",t),c=O$e().serialize(s),u=0;return(0,jDt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}X_.bubblegumSetCollectionSize=YDt;var Q_={};Object.defineProperty(Q_,"__esModule",{value:!0});Q_.burnEditionNft=Q_.getBurnEditionNftInstructionDataSerializer=void 0;const ZDt=Z,a7=q,JDt=Ke;function K$e(){return(0,a7.mapSerializer)((0,a7.struct)([["discriminator",(0,a7.u8)()]],{description:"BurnEditionNftInstructionData"}),n=>({...n,discriminator:37}))}Q_.getBurnEditionNftInstructionDataSerializer=K$e;function XDt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!0,value:e.owner??null},printEditionMint:{index:2,isWritable:!0,value:e.printEditionMint??null},masterEditionMint:{index:3,isWritable:!1,value:e.masterEditionMint??null},printEditionTokenAccount:{index:4,isWritable:!0,value:e.printEditionTokenAccount??null},masterEditionTokenAccount:{index:5,isWritable:!1,value:e.masterEditionTokenAccount??null},masterEditionAccount:{index:6,isWritable:!0,value:e.masterEditionAccount??null},printEditionAccount:{index:7,isWritable:!0,value:e.printEditionAccount??null},editionMarkerAccount:{index:8,isWritable:!0,value:e.editionMarkerAccount??null},splTokenProgram:{index:9,isWritable:!1,value:e.splTokenProgram??null}};r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,JDt.getAccountMetasAndSigners)(s,"programId",t),a=K$e().serialize({}),c=0;return(0,ZDt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Q_.burnEditionNft=XDt;var eE={};Object.defineProperty(eE,"__esModule",{value:!0});eE.burnNft=eE.getBurnNftInstructionDataSerializer=void 0;const QDt=Z,c7=q,eOt=Nt,gbe=Ke;function L$e(){return(0,c7.mapSerializer)((0,c7.struct)([["discriminator",(0,c7.u8)()]],{description:"BurnNftInstructionData"}),n=>({...n,discriminator:29}))}eE.getBurnNftInstructionDataSerializer=L$e;function tOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!0,value:e.owner??null},mint:{index:2,isWritable:!0,value:e.mint??null},tokenAccount:{index:3,isWritable:!0,value:e.tokenAccount??null},masterEditionAccount:{index:4,isWritable:!0,value:e.masterEditionAccount??null},splTokenProgram:{index:5,isWritable:!1,value:e.splTokenProgram??null},collectionMetadata:{index:6,isWritable:!0,value:e.collectionMetadata??null}};r.metadata.value||(r.metadata.value=(0,eOt.findMetadataPda)(n,{mint:(0,gbe.expectPublicKey)(r.mint.value)})),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,gbe.getAccountMetasAndSigners)(s,"omitted",t),a=L$e().serialize({}),c=0;return(0,QDt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}eE.burnNft=tOt;var tE={};Object.defineProperty(tE,"__esModule",{value:!0});tE.burnV1=tE.getBurnV1InstructionDataSerializer=void 0;const rOt=Gs,mbe=Z,YC=q,nOt=an,w3=Nt,cy=Ke,sOt=lt;function W$e(){return(0,YC.mapSerializer)((0,YC.struct)([["discriminator",(0,YC.u8)()],["burnV1Discriminator",(0,YC.u8)()],["amount",(0,YC.u64)()]],{description:"BurnV1InstructionData"}),n=>({...n,discriminator:41,burnV1Discriminator:0,amount:n.amount??1}))}tE.getBurnV1InstructionDataSerializer=W$e;function iOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!0,value:e.authority??null},collectionMetadata:{index:1,isWritable:!0,value:e.collectionMetadata??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},edition:{index:3,isWritable:!0,value:e.edition??null},mint:{index:4,isWritable:!0,value:e.mint??null},token:{index:5,isWritable:!0,value:e.token??null},masterEdition:{index:6,isWritable:!0,value:e.masterEdition??null},masterEditionMint:{index:7,isWritable:!1,value:e.masterEditionMint??null},masterEditionToken:{index:8,isWritable:!1,value:e.masterEditionToken??null},editionMarker:{index:9,isWritable:!0,value:e.editionMarker??null},tokenRecord:{index:10,isWritable:!0,value:e.tokenRecord??null},systemProgram:{index:11,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:12,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:13,isWritable:!1,value:e.splTokenProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,w3.findMetadataPda)(n,{mint:(0,cy.expectPublicKey)(r.mint.value)})),r.edition.value||(0,nOt.resolveIsNonFungible)(n,r,s,t,!0)&&(r.edition.value=(0,w3.findMasterEditionPda)(n,{mint:(0,cy.expectPublicKey)(r.mint.value)})),s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,rOt.findAssociatedTokenPda)(n,{mint:(0,cy.expectPublicKey)(r.mint.value),owner:(0,cy.expectSome)(s.tokenOwner)})),r.masterEdition.value||r.masterEditionMint.value&&(r.masterEdition.value=(0,w3.findMasterEditionPda)(n,{mint:(0,cy.expectPublicKey)(r.masterEditionMint.value)})),r.tokenRecord.value||s.tokenStandard===sOt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,w3.findTokenRecordPda)(n,{mint:(0,cy.expectPublicKey)(r.mint.value),token:(0,cy.expectPublicKey)(r.token.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,mbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,cy.getAccountMetasAndSigners)(i,"programId",t),c=W$e().serialize(s),u=0;return(0,mbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}tE.burnV1=iOt;var rE={};Object.defineProperty(rE,"__esModule",{value:!0});rE.closeAccounts=rE.getCloseAccountsInstructionDataSerializer=void 0;const oOt=Z,u7=q,ybe=Nt,l7=Ke;function N$e(){return(0,u7.mapSerializer)((0,u7.struct)([["discriminator",(0,u7.u8)()]],{description:"CloseAccountsInstructionData"}),n=>({...n,discriminator:57}))}rE.getCloseAccountsInstructionDataSerializer=N$e;function aOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},mint:{index:2,isWritable:!0,value:e.mint??null},authority:{index:3,isWritable:!1,value:e.authority??null},destination:{index:4,isWritable:!0,value:e.destination??null}};r.metadata.value||(r.metadata.value=(0,ybe.findMetadataPda)(n,{mint:(0,l7.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,ybe.findMasterEditionPda)(n,{mint:(0,l7.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,l7.getAccountMetasAndSigners)(s,"programId",t),a=N$e().serialize({}),c=0;return(0,oOt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}rE.closeAccounts=aOt;var nE={};Object.defineProperty(nE,"__esModule",{value:!0});nE.closeEscrowAccount=nE.getCloseEscrowAccountInstructionDataSerializer=void 0;const pbe=Z,d7=q,bbe=Nt,f7=Ke;function F$e(){return(0,d7.mapSerializer)((0,d7.struct)([["discriminator",(0,d7.u8)()]],{description:"CloseEscrowAccountInstructionData"}),n=>({...n,discriminator:39}))}nE.getCloseEscrowAccountInstructionDataSerializer=F$e;function cOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!0,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},mint:{index:2,isWritable:!1,value:e.mint??null},tokenAccount:{index:3,isWritable:!1,value:e.tokenAccount??null},edition:{index:4,isWritable:!1,value:e.edition??null},payer:{index:5,isWritable:!0,value:e.payer??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.metadata.value||(r.metadata.value=(0,bbe.findMetadataPda)(n,{mint:(0,f7.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,bbe.findMasterEditionPda)(n,{mint:(0,f7.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,pbe.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,f7.getAccountMetasAndSigners)(s,"programId",t),a=F$e().serialize({}),c=0;return(0,pbe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}nE.closeEscrowAccount=cOt;var sE={};Object.defineProperty(sE,"__esModule",{value:!0});sE.collect=sE.getCollectInstructionDataSerializer=void 0;const uOt=Z,h7=q,lOt=Ke;function U$e(){return(0,h7.mapSerializer)((0,h7.struct)([["discriminator",(0,h7.u8)()]],{description:"CollectInstructionData"}),n=>({...n,discriminator:54}))}sE.getCollectInstructionDataSerializer=U$e;function dOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},recipient:{index:1,isWritable:!1,value:e.recipient??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,lOt.getAccountMetasAndSigners)(s,"programId",t),a=U$e().serialize({}),c=0;return(0,uOt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}sE.collect=dOt;var iE={};Object.defineProperty(iE,"__esModule",{value:!0});iE.convertMasterEditionV1ToV2=iE.getConvertMasterEditionV1ToV2InstructionDataSerializer=void 0;const fOt=Z,g7=q,hOt=Ke;function V$e(){return(0,g7.mapSerializer)((0,g7.struct)([["discriminator",(0,g7.u8)()]],{description:"ConvertMasterEditionV1ToV2InstructionData"}),n=>({...n,discriminator:12}))}iE.getConvertMasterEditionV1ToV2InstructionDataSerializer=V$e;function gOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={masterEdition:{index:0,isWritable:!0,value:e.masterEdition??null},oneTimeAuth:{index:1,isWritable:!0,value:e.oneTimeAuth??null},printingMint:{index:2,isWritable:!0,value:e.printingMint??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,hOt.getAccountMetasAndSigners)(s,"programId",t),a=V$e().serialize({}),c=0;return(0,fOt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}iE.convertMasterEditionV1ToV2=gOt;var oE={};Object.defineProperty(oE,"__esModule",{value:!0});oE.createEscrowAccount=oE.getCreateEscrowAccountInstructionDataSerializer=void 0;const Sbe=Z,m7=q,kbe=Nt,y7=Ke;function q$e(){return(0,m7.mapSerializer)((0,m7.struct)([["discriminator",(0,m7.u8)()]],{description:"CreateEscrowAccountInstructionData"}),n=>({...n,discriminator:38}))}oE.getCreateEscrowAccountInstructionDataSerializer=q$e;function mOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!0,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},mint:{index:2,isWritable:!1,value:e.mint??null},tokenAccount:{index:3,isWritable:!1,value:e.tokenAccount??null},edition:{index:4,isWritable:!1,value:e.edition??null},payer:{index:5,isWritable:!0,value:e.payer??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null},authority:{index:8,isWritable:!1,value:e.authority??null}};r.metadata.value||(r.metadata.value=(0,kbe.findMetadataPda)(n,{mint:(0,y7.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,kbe.findMasterEditionPda)(n,{mint:(0,y7.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Sbe.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,y7.getAccountMetasAndSigners)(s,"omitted",t),a=q$e().serialize({}),c=0;return(0,Sbe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}oE.createEscrowAccount=mOt;var aE={};Object.defineProperty(aE,"__esModule",{value:!0});aE.createMasterEditionV3=aE.getCreateMasterEditionV3InstructionDataSerializer=void 0;const yOt=Z,ZC=q,vbe=Nt,p7=Ke;function j$e(){return(0,ZC.mapSerializer)((0,ZC.struct)([["discriminator",(0,ZC.u8)()],["maxSupply",(0,ZC.option)((0,ZC.u64)())]],{description:"CreateMasterEditionV3InstructionData"}),n=>({...n,discriminator:17}))}aE.getCreateMasterEditionV3InstructionDataSerializer=j$e;function pOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={edition:{index:0,isWritable:!0,value:e.edition??null},mint:{index:1,isWritable:!0,value:e.mint??null},updateAuthority:{index:2,isWritable:!1,value:e.updateAuthority??null},mintAuthority:{index:3,isWritable:!1,value:e.mintAuthority??null},payer:{index:4,isWritable:!0,value:e.payer??null},metadata:{index:5,isWritable:!0,value:e.metadata??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null}},s={...e};r.edition.value||(r.edition.value=(0,vbe.findMasterEditionPda)(n,{mint:(0,p7.expectPublicKey)(r.mint.value)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,vbe.findMetadataPda)(n,{mint:(0,p7.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,p7.getAccountMetasAndSigners)(i,"omitted",t),c=j$e().serialize(s),u=0;return(0,yOt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}aE.createMasterEditionV3=pOt;var cE={};Object.defineProperty(cE,"__esModule",{value:!0});cE.createMetadataAccountV3=cE.getCreateMetadataAccountV3InstructionDataSerializer=void 0;const bOt=Z,JC=q,SOt=Nt,Abe=Ke,wbe=lt;function H$e(){return(0,JC.mapSerializer)((0,JC.struct)([["discriminator",(0,JC.u8)()],["data",(0,wbe.getDataV2Serializer)()],["isMutable",(0,JC.bool)()],["collectionDetails",(0,JC.option)((0,wbe.getCollectionDetailsSerializer)())]],{description:"CreateMetadataAccountV3InstructionData"}),n=>({...n,discriminator:33}))}cE.getCreateMetadataAccountV3InstructionDataSerializer=H$e;function kOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},mint:{index:1,isWritable:!1,value:e.mint??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null},payer:{index:3,isWritable:!0,value:e.payer??null},updateAuthority:{index:4,isWritable:!1,value:e.updateAuthority??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},rent:{index:6,isWritable:!1,value:e.rent??null}},s={...e};r.metadata.value||(r.metadata.value=(0,SOt.findMetadataPda)(n,{mint:(0,Abe.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Abe.getAccountMetasAndSigners)(i,"omitted",t),c=H$e().serialize(s),u=0;return(0,bOt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}cE.createMetadataAccountV3=kOt;var uE={};Object.defineProperty(uE,"__esModule",{value:!0});uE.createV1=uE.getCreateV1InstructionDataSerializer=void 0;const Kv=Z,No=q,E0=an,Ibe=Nt,I3=Ke,yy=lt;function G$e(){return(0,No.mapSerializer)((0,No.struct)([["discriminator",(0,No.u8)()],["createV1Discriminator",(0,No.u8)()],["name",(0,No.string)()],["symbol",(0,No.string)()],["uri",(0,No.string)()],["sellerFeeBasisPoints",(0,Kv.mapAmountSerializer)((0,No.u16)(),"%",2)],["creators",(0,No.option)((0,No.array)((0,yy.getCreatorSerializer)()))],["primarySaleHappened",(0,No.bool)()],["isMutable",(0,No.bool)()],["tokenStandard",(0,yy.getTokenStandardSerializer)()],["collection",(0,No.option)((0,yy.getCollectionSerializer)())],["uses",(0,No.option)((0,yy.getUsesSerializer)())],["collectionDetails",(0,No.option)((0,yy.getCollectionDetailsSerializer)())],["ruleSet",(0,No.option)((0,No.publicKey)())],["decimals",(0,No.option)((0,No.u8)())],["printSupply",(0,No.option)((0,yy.getPrintSupplySerializer)())]],{description:"CreateV1InstructionData"}),n=>({...n,discriminator:42,createV1Discriminator:0,symbol:n.symbol??"",primarySaleHappened:n.primarySaleHappened??!1,isMutable:n.isMutable??!0,tokenStandard:n.tokenStandard??yy.TokenStandard.NonFungible,collection:n.collection??(0,Kv.none)(),uses:n.uses??(0,Kv.none)(),ruleSet:n.ruleSet??(0,Kv.none)()}))}uE.getCreateV1InstructionDataSerializer=G$e;function vOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},masterEdition:{index:1,isWritable:!0,value:e.masterEdition??null},mint:{index:2,isWritable:!0,value:e.mint??null},authority:{index:3,isWritable:!1,value:e.authority??null},payer:{index:4,isWritable:!0,value:e.payer??null},updateAuthority:{index:5,isWritable:!1,value:e.updateAuthority??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:8,isWritable:!1,value:e.splTokenProgram??null}},s={...e};r.metadata.value||(r.metadata.value=(0,Ibe.findMetadataPda)(n,{mint:(0,I3.expectPublicKey)(r.mint.value)})),s.tokenStandard||(s.tokenStandard=yy.TokenStandard.NonFungible),r.masterEdition.value||(0,E0.resolveIsNonFungible)(n,r,s,t,!0)&&(r.masterEdition.value=(0,Ibe.findMasterEditionPda)(n,{mint:(0,I3.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=(0,I3.expectSome)(r.authority.value)),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Kv.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(0,E0.resolveIsNonFungibleOrIsMintSigner)(n,r,s,t,!1)&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),s.creators||(s.creators=(0,E0.resolveCreators)(n,r,s,t,!1)),s.isCollection||(s.isCollection=!1),s.collectionDetails||(s.collectionDetails=(0,E0.resolveCollectionDetails)(n,r,s,t,!1)),s.decimals||(s.decimals=(0,E0.resolveDecimals)(n,r,s,t,!1)),s.printSupply||(s.printSupply=(0,E0.resolvePrintSupply)(n,r,s,t,!1));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,I3.getAccountMetasAndSigners)(i,"programId",t),c=G$e().serialize(s),u=(0,E0.resolveCreateV1Bytes)(n,r,s,t);return(0,Kv.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}uE.createV1=vOt;var lE={};Object.defineProperty(lE,"__esModule",{value:!0});lE.delegateAuthorityItemV1=lE.getDelegateAuthorityItemV1InstructionDataSerializer=void 0;const qj=Z,XC=q,AOt=an,b7=Nt,x0=Ke,Y$e=lt;function Z$e(){return(0,XC.mapSerializer)((0,XC.struct)([["discriminator",(0,XC.u8)()],["delegateAuthorityItemV1Discriminator",(0,XC.u8)()],["authorizationData",(0,XC.option)((0,Y$e.getAuthorizationDataSerializer)())]],{description:"DelegateAuthorityItemV1InstructionData"}),n=>({...n,discriminator:44,delegateAuthorityItemV1Discriminator:9,authorizationData:n.authorizationData??(0,qj.none)()}))}lE.getDelegateAuthorityItemV1InstructionDataSerializer=Z$e;function wOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,x0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,b7.findMetadataDelegateRecordPda)(n,{delegateRole:Y$e.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,x0.expectSome)(s.updateAuthority),mint:(0,x0.expectPublicKey)(r.mint.value),delegate:(0,x0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,b7.findMetadataPda)(n,{mint:(0,x0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,AOt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,b7.findMasterEditionPda)(n,{mint:(0,x0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,qj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,x0.getAccountMetasAndSigners)(i,"programId",t),c=Z$e().serialize(s),u=0;return(0,qj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}lE.delegateAuthorityItemV1=wOt;var dE={};Object.defineProperty(dE,"__esModule",{value:!0});dE.delegateCollectionItemV1=dE.getDelegateCollectionItemV1InstructionDataSerializer=void 0;const jj=Z,QC=q,IOt=an,S7=Nt,T0=Ke,J$e=lt;function X$e(){return(0,QC.mapSerializer)((0,QC.struct)([["discriminator",(0,QC.u8)()],["delegateCollectionItemV1Discriminator",(0,QC.u8)()],["authorizationData",(0,QC.option)((0,J$e.getAuthorizationDataSerializer)())]],{description:"DelegateCollectionItemV1InstructionData"}),n=>({...n,discriminator:44,delegateCollectionItemV1Discriminator:11,authorizationData:n.authorizationData??(0,jj.none)()}))}dE.getDelegateCollectionItemV1InstructionDataSerializer=X$e;function POt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,T0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,S7.findMetadataDelegateRecordPda)(n,{delegateRole:J$e.MetadataDelegateRole.CollectionItem,updateAuthority:(0,T0.expectSome)(s.updateAuthority),mint:(0,T0.expectPublicKey)(r.mint.value),delegate:(0,T0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,S7.findMetadataPda)(n,{mint:(0,T0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,IOt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,S7.findMasterEditionPda)(n,{mint:(0,T0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,jj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,T0.getAccountMetasAndSigners)(i,"programId",t),c=X$e().serialize(s),u=0;return(0,jj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}dE.delegateCollectionItemV1=POt;var fE={};Object.defineProperty(fE,"__esModule",{value:!0});fE.delegateCollectionV1=fE.getDelegateCollectionV1InstructionDataSerializer=void 0;const Hj=Z,e2=q,_Ot=an,k7=Nt,R0=Ke,Q$e=lt;function e8e(){return(0,e2.mapSerializer)((0,e2.struct)([["discriminator",(0,e2.u8)()],["delegateCollectionV1Discriminator",(0,e2.u8)()],["authorizationData",(0,e2.option)((0,Q$e.getAuthorizationDataSerializer)())]],{description:"DelegateCollectionV1InstructionData"}),n=>({...n,discriminator:44,delegateCollectionV1Discriminator:0,authorizationData:n.authorizationData??(0,Hj.none)()}))}fE.getDelegateCollectionV1InstructionDataSerializer=e8e;function EOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,R0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,k7.findMetadataDelegateRecordPda)(n,{delegateRole:Q$e.MetadataDelegateRole.Collection,updateAuthority:(0,R0.expectSome)(s.updateAuthority),mint:(0,R0.expectPublicKey)(r.mint.value),delegate:(0,R0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,k7.findMetadataPda)(n,{mint:(0,R0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,_Ot.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,k7.findMasterEditionPda)(n,{mint:(0,R0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Hj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,R0.getAccountMetasAndSigners)(i,"programId",t),c=e8e().serialize(s),u=0;return(0,Hj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}fE.delegateCollectionV1=EOt;var hE={};Object.defineProperty(hE,"__esModule",{value:!0});hE.delegateDataItemV1=hE.getDelegateDataItemV1InstructionDataSerializer=void 0;const Gj=Z,t2=q,xOt=an,v7=Nt,C0=Ke,t8e=lt;function r8e(){return(0,t2.mapSerializer)((0,t2.struct)([["discriminator",(0,t2.u8)()],["delegateDataItemV1Discriminator",(0,t2.u8)()],["authorizationData",(0,t2.option)((0,t8e.getAuthorizationDataSerializer)())]],{description:"DelegateDataItemV1InstructionData"}),n=>({...n,discriminator:44,delegateDataItemV1Discriminator:10,authorizationData:n.authorizationData??(0,Gj.none)()}))}hE.getDelegateDataItemV1InstructionDataSerializer=r8e;function TOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,C0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,v7.findMetadataDelegateRecordPda)(n,{delegateRole:t8e.MetadataDelegateRole.DataItem,updateAuthority:(0,C0.expectSome)(s.updateAuthority),mint:(0,C0.expectPublicKey)(r.mint.value),delegate:(0,C0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,v7.findMetadataPda)(n,{mint:(0,C0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,xOt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,v7.findMasterEditionPda)(n,{mint:(0,C0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Gj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,C0.getAccountMetasAndSigners)(i,"programId",t),c=r8e().serialize(s),u=0;return(0,Gj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}hE.delegateDataItemV1=TOt;var gE={};Object.defineProperty(gE,"__esModule",{value:!0});gE.delegateDataV1=gE.getDelegateDataV1InstructionDataSerializer=void 0;const Yj=Z,r2=q,ROt=an,A7=Nt,M0=Ke,n8e=lt;function s8e(){return(0,r2.mapSerializer)((0,r2.struct)([["discriminator",(0,r2.u8)()],["delegateDataV1Discriminator",(0,r2.u8)()],["authorizationData",(0,r2.option)((0,n8e.getAuthorizationDataSerializer)())]],{description:"DelegateDataV1InstructionData"}),n=>({...n,discriminator:44,delegateDataV1Discriminator:3,authorizationData:n.authorizationData??(0,Yj.none)()}))}gE.getDelegateDataV1InstructionDataSerializer=s8e;function COt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,M0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,A7.findMetadataDelegateRecordPda)(n,{delegateRole:n8e.MetadataDelegateRole.Data,updateAuthority:(0,M0.expectSome)(s.updateAuthority),mint:(0,M0.expectPublicKey)(r.mint.value),delegate:(0,M0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,A7.findMetadataPda)(n,{mint:(0,M0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,ROt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,A7.findMasterEditionPda)(n,{mint:(0,M0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Yj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,M0.getAccountMetasAndSigners)(i,"programId",t),c=s8e().serialize(s),u=0;return(0,Yj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}gE.delegateDataV1=COt;var mE={};Object.defineProperty(mE,"__esModule",{value:!0});mE.delegateLockedTransferV1=mE.getDelegateLockedTransferV1InstructionDataSerializer=void 0;const MOt=Gs,Zj=Z,B0=q,BOt=an,P3=Nt,rg=Ke,i8e=lt;function o8e(){return(0,B0.mapSerializer)((0,B0.struct)([["discriminator",(0,B0.u8)()],["delegateLockedTransferV1Discriminator",(0,B0.u8)()],["amount",(0,B0.u64)()],["lockedAddress",(0,B0.publicKey)()],["authorizationData",(0,B0.option)((0,i8e.getAuthorizationDataSerializer)())]],{description:"DelegateLockedTransferV1InstructionData"}),n=>({...n,discriminator:44,delegateLockedTransferV1Discriminator:7,amount:n.amount??1,authorizationData:n.authorizationData??(0,Zj.none)()}))}mE.getDelegateLockedTransferV1InstructionDataSerializer=o8e;function zOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,MOt.findAssociatedTokenPda)(n,{mint:(0,rg.expectPublicKey)(r.mint.value),owner:(0,rg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,P3.findTokenRecordPda)(n,{mint:(0,rg.expectPublicKey)(r.mint.value),token:(0,rg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,P3.findMetadataPda)(n,{mint:(0,rg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,BOt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,P3.findMasterEditionPda)(n,{mint:(0,rg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===i8e.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,P3.findTokenRecordPda)(n,{mint:(0,rg.expectPublicKey)(r.mint.value),token:(0,rg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Zj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,rg.getAccountMetasAndSigners)(i,"programId",t),c=o8e().serialize(s),u=0;return(0,Zj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}mE.delegateLockedTransferV1=zOt;var yE={};Object.defineProperty(yE,"__esModule",{value:!0});yE.delegatePrintDelegateV1=yE.getDelegatePrintDelegateV1InstructionDataSerializer=void 0;const Jj=Z,n2=q,$Ot=an,Pbe=Nt,w7=Ke,DOt=lt;function a8e(){return(0,n2.mapSerializer)((0,n2.struct)([["discriminator",(0,n2.u8)()],["delegatePrintDelegateV1Discriminator",(0,n2.u8)()],["authorizationData",(0,n2.option)((0,DOt.getAuthorizationDataSerializer)())]],{description:"DelegatePrintDelegateV1InstructionData"}),n=>({...n,discriminator:44,delegatePrintDelegateV1Discriminator:13,authorizationData:n.authorizationData??(0,Jj.none)()}))}yE.getDelegatePrintDelegateV1InstructionDataSerializer=a8e;function OOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.metadata.value||(r.metadata.value=(0,Pbe.findMetadataPda)(n,{mint:(0,w7.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,$Ot.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,Pbe.findMasterEditionPda)(n,{mint:(0,w7.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Jj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,w7.getAccountMetasAndSigners)(i,"programId",t),c=a8e().serialize(s),u=0;return(0,Jj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}yE.delegatePrintDelegateV1=OOt;var pE={};Object.defineProperty(pE,"__esModule",{value:!0});pE.delegateProgrammableConfigItemV1=pE.getDelegateProgrammableConfigItemV1InstructionDataSerializer=void 0;const Xj=Z,s2=q,KOt=an,I7=Nt,z0=Ke,c8e=lt;function u8e(){return(0,s2.mapSerializer)((0,s2.struct)([["discriminator",(0,s2.u8)()],["delegateProgrammableConfigItemV1Discriminator",(0,s2.u8)()],["authorizationData",(0,s2.option)((0,c8e.getAuthorizationDataSerializer)())]],{description:"DelegateProgrammableConfigItemV1InstructionData"}),n=>({...n,discriminator:44,delegateProgrammableConfigItemV1Discriminator:12,authorizationData:n.authorizationData??(0,Xj.none)()}))}pE.getDelegateProgrammableConfigItemV1InstructionDataSerializer=u8e;function LOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,z0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,I7.findMetadataDelegateRecordPda)(n,{delegateRole:c8e.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,z0.expectSome)(s.updateAuthority),mint:(0,z0.expectPublicKey)(r.mint.value),delegate:(0,z0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,I7.findMetadataPda)(n,{mint:(0,z0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,KOt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,I7.findMasterEditionPda)(n,{mint:(0,z0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Xj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,z0.getAccountMetasAndSigners)(i,"programId",t),c=u8e().serialize(s),u=0;return(0,Xj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}pE.delegateProgrammableConfigItemV1=LOt;var bE={};Object.defineProperty(bE,"__esModule",{value:!0});bE.delegateProgrammableConfigV1=bE.getDelegateProgrammableConfigV1InstructionDataSerializer=void 0;const Qj=Z,i2=q,WOt=an,P7=Nt,$0=Ke,l8e=lt;function d8e(){return(0,i2.mapSerializer)((0,i2.struct)([["discriminator",(0,i2.u8)()],["delegateProgrammableConfigV1Discriminator",(0,i2.u8)()],["authorizationData",(0,i2.option)((0,l8e.getAuthorizationDataSerializer)())]],{description:"DelegateProgrammableConfigV1InstructionData"}),n=>({...n,discriminator:44,delegateProgrammableConfigV1Discriminator:8,authorizationData:n.authorizationData??(0,Qj.none)()}))}bE.getDelegateProgrammableConfigV1InstructionDataSerializer=d8e;function NOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,$0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,P7.findMetadataDelegateRecordPda)(n,{delegateRole:l8e.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,$0.expectSome)(s.updateAuthority),mint:(0,$0.expectPublicKey)(r.mint.value),delegate:(0,$0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,P7.findMetadataPda)(n,{mint:(0,$0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,WOt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,P7.findMasterEditionPda)(n,{mint:(0,$0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Qj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,$0.getAccountMetasAndSigners)(i,"programId",t),c=d8e().serialize(s),u=0;return(0,Qj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}bE.delegateProgrammableConfigV1=NOt;var SE={};Object.defineProperty(SE,"__esModule",{value:!0});SE.delegateSaleV1=SE.getDelegateSaleV1InstructionDataSerializer=void 0;const FOt=Gs,eH=Z,nv=q,UOt=an,_3=Nt,ng=Ke,f8e=lt;function h8e(){return(0,nv.mapSerializer)((0,nv.struct)([["discriminator",(0,nv.u8)()],["delegateSaleV1Discriminator",(0,nv.u8)()],["amount",(0,nv.u64)()],["authorizationData",(0,nv.option)((0,f8e.getAuthorizationDataSerializer)())]],{description:"DelegateSaleV1InstructionData"}),n=>({...n,discriminator:44,delegateSaleV1Discriminator:1,amount:n.amount??1,authorizationData:n.authorizationData??(0,eH.none)()}))}SE.getDelegateSaleV1InstructionDataSerializer=h8e;function VOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,FOt.findAssociatedTokenPda)(n,{mint:(0,ng.expectPublicKey)(r.mint.value),owner:(0,ng.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,_3.findTokenRecordPda)(n,{mint:(0,ng.expectPublicKey)(r.mint.value),token:(0,ng.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,_3.findMetadataPda)(n,{mint:(0,ng.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,UOt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,_3.findMasterEditionPda)(n,{mint:(0,ng.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===f8e.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,_3.findTokenRecordPda)(n,{mint:(0,ng.expectPublicKey)(r.mint.value),token:(0,ng.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,eH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ng.getAccountMetasAndSigners)(i,"programId",t),c=h8e().serialize(s),u=0;return(0,eH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}SE.delegateSaleV1=VOt;var kE={};Object.defineProperty(kE,"__esModule",{value:!0});kE.delegateStakingV1=kE.getDelegateStakingV1InstructionDataSerializer=void 0;const qOt=Gs,tH=Z,sv=q,jOt=an,E3=Nt,sg=Ke,g8e=lt;function m8e(){return(0,sv.mapSerializer)((0,sv.struct)([["discriminator",(0,sv.u8)()],["delegateStakingV1Discriminator",(0,sv.u8)()],["amount",(0,sv.u64)()],["authorizationData",(0,sv.option)((0,g8e.getAuthorizationDataSerializer)())]],{description:"DelegateStakingV1InstructionData"}),n=>({...n,discriminator:44,delegateStakingV1Discriminator:5,amount:n.amount??1,authorizationData:n.authorizationData??(0,tH.none)()}))}kE.getDelegateStakingV1InstructionDataSerializer=m8e;function HOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,qOt.findAssociatedTokenPda)(n,{mint:(0,sg.expectPublicKey)(r.mint.value),owner:(0,sg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,E3.findTokenRecordPda)(n,{mint:(0,sg.expectPublicKey)(r.mint.value),token:(0,sg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,E3.findMetadataPda)(n,{mint:(0,sg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,jOt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,E3.findMasterEditionPda)(n,{mint:(0,sg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===g8e.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,E3.findTokenRecordPda)(n,{mint:(0,sg.expectPublicKey)(r.mint.value),token:(0,sg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,tH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,sg.getAccountMetasAndSigners)(i,"programId",t),c=m8e().serialize(s),u=0;return(0,tH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}kE.delegateStakingV1=HOt;var vE={};Object.defineProperty(vE,"__esModule",{value:!0});vE.delegateStandardV1=vE.getDelegateStandardV1InstructionDataSerializer=void 0;const GOt=Gs,_be=Z,o2=q,YOt=an,_7=Nt,D0=Ke;function y8e(){return(0,o2.mapSerializer)((0,o2.struct)([["discriminator",(0,o2.u8)()],["delegateStandardV1Discriminator",(0,o2.u8)()],["amount",(0,o2.u64)()]],{description:"DelegateStandardV1InstructionData"}),n=>({...n,discriminator:44,delegateStandardV1Discriminator:6,amount:n.amount??1}))}vE.getDelegateStandardV1InstructionDataSerializer=y8e;function ZOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,GOt.findAssociatedTokenPda)(n,{mint:(0,D0.expectPublicKey)(r.mint.value),owner:(0,D0.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,_7.findTokenRecordPda)(n,{mint:(0,D0.expectPublicKey)(r.mint.value),token:(0,D0.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,_7.findMetadataPda)(n,{mint:(0,D0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,YOt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,_7.findMasterEditionPda)(n,{mint:(0,D0.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,_be.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,D0.getAccountMetasAndSigners)(i,"programId",t),c=y8e().serialize(s),u=0;return(0,_be.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}vE.delegateStandardV1=ZOt;var AE={};Object.defineProperty(AE,"__esModule",{value:!0});AE.delegateTransferV1=AE.getDelegateTransferV1InstructionDataSerializer=void 0;const JOt=Gs,rH=Z,iv=q,XOt=an,x3=Nt,ig=Ke,p8e=lt;function b8e(){return(0,iv.mapSerializer)((0,iv.struct)([["discriminator",(0,iv.u8)()],["delegateTransferV1Discriminator",(0,iv.u8)()],["amount",(0,iv.u64)()],["authorizationData",(0,iv.option)((0,p8e.getAuthorizationDataSerializer)())]],{description:"DelegateTransferV1InstructionData"}),n=>({...n,discriminator:44,delegateTransferV1Discriminator:2,amount:n.amount??1,authorizationData:n.authorizationData??(0,rH.none)()}))}AE.getDelegateTransferV1InstructionDataSerializer=b8e;function QOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,JOt.findAssociatedTokenPda)(n,{mint:(0,ig.expectPublicKey)(r.mint.value),owner:(0,ig.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,x3.findTokenRecordPda)(n,{mint:(0,ig.expectPublicKey)(r.mint.value),token:(0,ig.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,x3.findMetadataPda)(n,{mint:(0,ig.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,XOt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,x3.findMasterEditionPda)(n,{mint:(0,ig.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===p8e.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,x3.findTokenRecordPda)(n,{mint:(0,ig.expectPublicKey)(r.mint.value),token:(0,ig.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,rH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ig.getAccountMetasAndSigners)(i,"programId",t),c=b8e().serialize(s),u=0;return(0,rH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}AE.delegateTransferV1=QOt;var wE={};Object.defineProperty(wE,"__esModule",{value:!0});wE.delegateUtilityV1=wE.getDelegateUtilityV1InstructionDataSerializer=void 0;const e4t=Gs,nH=Z,ov=q,t4t=an,T3=Nt,og=Ke,S8e=lt;function k8e(){return(0,ov.mapSerializer)((0,ov.struct)([["discriminator",(0,ov.u8)()],["delegateUtilityV1Discriminator",(0,ov.u8)()],["amount",(0,ov.u64)()],["authorizationData",(0,ov.option)((0,S8e.getAuthorizationDataSerializer)())]],{description:"DelegateUtilityV1InstructionData"}),n=>({...n,discriminator:44,delegateUtilityV1Discriminator:4,amount:n.amount??1,authorizationData:n.authorizationData??(0,nH.none)()}))}wE.getDelegateUtilityV1InstructionDataSerializer=k8e;function r4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,e4t.findAssociatedTokenPda)(n,{mint:(0,og.expectPublicKey)(r.mint.value),owner:(0,og.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,T3.findTokenRecordPda)(n,{mint:(0,og.expectPublicKey)(r.mint.value),token:(0,og.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,T3.findMetadataPda)(n,{mint:(0,og.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,t4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,T3.findMasterEditionPda)(n,{mint:(0,og.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===S8e.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,T3.findTokenRecordPda)(n,{mint:(0,og.expectPublicKey)(r.mint.value),token:(0,og.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,nH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,og.getAccountMetasAndSigners)(i,"programId",t),c=k8e().serialize(s),u=0;return(0,nH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}wE.delegateUtilityV1=r4t;var IE={};Object.defineProperty(IE,"__esModule",{value:!0});IE.deprecatedMintNewEditionFromMasterEditionViaPrintingToken=IE.getDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDataSerializer=void 0;const Ebe=Z,E7=q,R3=Nt,a2=Ke;function v8e(){return(0,E7.mapSerializer)((0,E7.struct)([["discriminator",(0,E7.u8)()]],{description:"DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionData"}),n=>({...n,discriminator:3}))}IE.getDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDataSerializer=v8e;function n4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},mint:{index:3,isWritable:!0,value:e.mint??null},mintAuthority:{index:4,isWritable:!1,value:e.mintAuthority??null},printingMint:{index:5,isWritable:!0,value:e.printingMint??null},masterTokenAccount:{index:6,isWritable:!0,value:e.masterTokenAccount??null},editionMarker:{index:7,isWritable:!0,value:e.editionMarker??null},burnAuthority:{index:8,isWritable:!1,value:e.burnAuthority??null},payer:{index:9,isWritable:!1,value:e.payer??null},masterUpdateAuthority:{index:10,isWritable:!1,value:e.masterUpdateAuthority??null},masterMetadata:{index:11,isWritable:!1,value:e.masterMetadata??null},tokenProgram:{index:12,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:13,isWritable:!1,value:e.systemProgram??null},rent:{index:14,isWritable:!1,value:e.rent??null},reservationList:{index:15,isWritable:!0,value:e.reservationList??null}};r.metadata.value||(r.metadata.value=(0,R3.findMetadataPda)(n,{mint:(0,a2.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,R3.findMasterEditionPda)(n,{mint:(0,a2.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(r.masterEdition.value=(0,R3.findMasterEditionPda)(n,{mint:(0,a2.expectPublicKey)(r.mint.value)})),r.editionMarker.value||(r.editionMarker.value=(0,R3.findMasterEditionPda)(n,{mint:(0,a2.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.rent.value||(r.rent.value=(0,Ebe.publicKey)("SysvarRent111111111111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,a2.getAccountMetasAndSigners)(s,"omitted",t),a=v8e().serialize({}),c=0;return(0,Ebe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}IE.deprecatedMintNewEditionFromMasterEditionViaPrintingToken=n4t;var PE={};Object.defineProperty(PE,"__esModule",{value:!0});PE.freezeDelegatedAccount=PE.getFreezeDelegatedAccountInstructionDataSerializer=void 0;const s4t=Z,x7=q,i4t=Nt,xbe=Ke;function A8e(){return(0,x7.mapSerializer)((0,x7.struct)([["discriminator",(0,x7.u8)()]],{description:"FreezeDelegatedAccountInstructionData"}),n=>({...n,discriminator:26}))}PE.getFreezeDelegatedAccountInstructionDataSerializer=A8e;function o4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegate:{index:0,isWritable:!0,value:e.delegate??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},edition:{index:2,isWritable:!1,value:e.edition??null},mint:{index:3,isWritable:!1,value:e.mint??null},tokenProgram:{index:4,isWritable:!1,value:e.tokenProgram??null}};r.edition.value||(r.edition.value=(0,i4t.findMasterEditionPda)(n,{mint:(0,xbe.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,xbe.getAccountMetasAndSigners)(s,"programId",t),a=A8e().serialize({}),c=0;return(0,s4t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}PE.freezeDelegatedAccount=o4t;var _E={};Object.defineProperty(_E,"__esModule",{value:!0});_E.lockV1=_E.getLockV1InstructionDataSerializer=void 0;const a4t=Gs,sH=Z,c2=q,Tbe=an,T7=Nt,O0=Ke,iH=lt;function w8e(){return(0,c2.mapSerializer)((0,c2.struct)([["discriminator",(0,c2.u8)()],["lockV1Discriminator",(0,c2.u8)()],["authorizationData",(0,c2.option)((0,iH.getAuthorizationDataSerializer)())]],{description:"LockV1InstructionData"}),n=>({...n,discriminator:46,lockV1Discriminator:0,authorizationData:n.authorizationData??(0,sH.none)()}))}_E.getLockV1InstructionDataSerializer=w8e;function c4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},tokenRecord:{index:6,isWritable:!0,value:e.tokenRecord??null},payer:{index:7,isWritable:!0,value:e.payer??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:9,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:10,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:11,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:12,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,Tbe.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,a4t.findAssociatedTokenPda)(n,{mint:(0,O0.expectPublicKey)(r.mint.value),owner:(0,O0.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,T7.findMetadataPda)(n,{mint:(0,O0.expectPublicKey)(r.mint.value)})),r.edition.value||(0,Tbe.resolveIsNonFungible)(n,r,s,t,!1)&&(r.edition.value=(0,T7.findMasterEditionPda)(n,{mint:(0,O0.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===iH.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,T7.findTokenRecordPda)(n,{mint:(0,O0.expectPublicKey)(r.mint.value),token:(0,O0.expectPublicKey)(r.token.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,sH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||s.tokenStandard!==iH.TokenStandard.ProgrammableNonFungible&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,O0.getAccountMetasAndSigners)(i,"programId",t),c=w8e().serialize(s),u=0;return(0,sH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}_E.lockV1=c4t;var EE={};Object.defineProperty(EE,"__esModule",{value:!0});EE.migrate=EE.getMigrateInstructionDataSerializer=void 0;const Rbe=Z,R7=q,C7=Nt,u2=Ke;function I8e(){return(0,R7.mapSerializer)((0,R7.struct)([["discriminator",(0,R7.u8)()]],{description:"MigrateInstructionData"}),n=>({...n,discriminator:48}))}EE.getMigrateInstructionDataSerializer=I8e;function u4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},token:{index:2,isWritable:!0,value:e.token??null},tokenOwner:{index:3,isWritable:!1,value:e.tokenOwner??null},mint:{index:4,isWritable:!1,value:e.mint??null},payer:{index:5,isWritable:!0,value:e.payer??null},authority:{index:6,isWritable:!1,value:e.authority??null},collectionMetadata:{index:7,isWritable:!1,value:e.collectionMetadata??null},delegateRecord:{index:8,isWritable:!1,value:e.delegateRecord??null},tokenRecord:{index:9,isWritable:!0,value:e.tokenRecord??null},systemProgram:{index:10,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:11,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:12,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:13,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:14,isWritable:!1,value:e.authorizationRules??null}};r.metadata.value||(r.metadata.value=(0,C7.findMetadataPda)(n,{mint:(0,u2.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,C7.findMasterEditionPda)(n,{mint:(0,u2.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.authority.value||(r.authority.value=n.identity),r.tokenRecord.value||(r.tokenRecord.value=(0,C7.findTokenRecordPda)(n,{mint:(0,u2.expectPublicKey)(r.mint.value),token:(0,u2.expectPublicKey)(r.token.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Rbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,u2.getAccountMetasAndSigners)(s,"programId",t),a=I8e().serialize({}),c=0;return(0,Rbe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}EE.migrate=u4t;var xE={};Object.defineProperty(xE,"__esModule",{value:!0});xE.mintNewEditionFromMasterEditionViaToken=xE.getMintNewEditionFromMasterEditionViaTokenInstructionDataSerializer=void 0;const l4t=Z,M7=q,d4t=Ke,f4t=lt;function P8e(){return(0,M7.mapSerializer)((0,M7.struct)([["discriminator",(0,M7.u8)()],["mintNewEditionFromMasterEditionViaTokenArgs",(0,f4t.getMintNewEditionFromMasterEditionViaTokenArgsSerializer)()]],{description:"MintNewEditionFromMasterEditionViaTokenInstructionData"}),n=>({...n,discriminator:11}))}xE.getMintNewEditionFromMasterEditionViaTokenInstructionDataSerializer=P8e;function h4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={newMetadata:{index:0,isWritable:!0,value:e.newMetadata??null},newEdition:{index:1,isWritable:!0,value:e.newEdition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},newMint:{index:3,isWritable:!0,value:e.newMint??null},editionMarkPda:{index:4,isWritable:!0,value:e.editionMarkPda??null},newMintAuthority:{index:5,isWritable:!1,value:e.newMintAuthority??null},payer:{index:6,isWritable:!0,value:e.payer??null},tokenAccountOwner:{index:7,isWritable:!1,value:e.tokenAccountOwner??null},tokenAccount:{index:8,isWritable:!1,value:e.tokenAccount??null},newMetadataUpdateAuthority:{index:9,isWritable:!1,value:e.newMetadataUpdateAuthority??null},metadata:{index:10,isWritable:!1,value:e.metadata??null},tokenProgram:{index:11,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:12,isWritable:!1,value:e.systemProgram??null},rent:{index:13,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,d4t.getAccountMetasAndSigners)(i,"omitted",t),c=P8e().serialize(s),u=0;return(0,l4t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}xE.mintNewEditionFromMasterEditionViaToken=h4t;var TE={};Object.defineProperty(TE,"__esModule",{value:!0});TE.mintNewEditionFromMasterEditionViaVaultProxy=TE.getMintNewEditionFromMasterEditionViaVaultProxyInstructionDataSerializer=void 0;const g4t=Z,B7=q,m4t=Ke,y4t=lt;function _8e(){return(0,B7.mapSerializer)((0,B7.struct)([["discriminator",(0,B7.u8)()],["mintNewEditionFromMasterEditionViaTokenArgs",(0,y4t.getMintNewEditionFromMasterEditionViaTokenArgsSerializer)()]],{description:"MintNewEditionFromMasterEditionViaVaultProxyInstructionData"}),n=>({...n,discriminator:13}))}TE.getMintNewEditionFromMasterEditionViaVaultProxyInstructionDataSerializer=_8e;function p4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={newMetadata:{index:0,isWritable:!0,value:e.newMetadata??null},newEdition:{index:1,isWritable:!0,value:e.newEdition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},newMint:{index:3,isWritable:!0,value:e.newMint??null},editionMarkPda:{index:4,isWritable:!0,value:e.editionMarkPda??null},newMintAuthority:{index:5,isWritable:!1,value:e.newMintAuthority??null},payer:{index:6,isWritable:!0,value:e.payer??null},vaultAuthority:{index:7,isWritable:!1,value:e.vaultAuthority??null},safetyDepositStore:{index:8,isWritable:!1,value:e.safetyDepositStore??null},safetyDepositBox:{index:9,isWritable:!1,value:e.safetyDepositBox??null},vault:{index:10,isWritable:!1,value:e.vault??null},newMetadataUpdateAuthority:{index:11,isWritable:!1,value:e.newMetadataUpdateAuthority??null},metadata:{index:12,isWritable:!1,value:e.metadata??null},tokenProgram:{index:13,isWritable:!1,value:e.tokenProgram??null},tokenVaultProgram:{index:14,isWritable:!1,value:e.tokenVaultProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null},rent:{index:16,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,m4t.getAccountMetasAndSigners)(i,"omitted",t),c=_8e().serialize(s),u=0;return(0,g4t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}TE.mintNewEditionFromMasterEditionViaVaultProxy=p4t;var RE={};Object.defineProperty(RE,"__esModule",{value:!0});RE.mintV1=RE.getMintV1InstructionDataSerializer=void 0;const b4t=Gs,oH=Z,av=q,Cbe=an,z7=Nt,K0=Ke,E8e=lt;function x8e(){return(0,av.mapSerializer)((0,av.struct)([["discriminator",(0,av.u8)()],["mintV1Discriminator",(0,av.u8)()],["amount",(0,av.u64)()],["authorizationData",(0,av.option)((0,E8e.getAuthorizationDataSerializer)())]],{description:"MintV1InstructionData"}),n=>({...n,discriminator:43,mintV1Discriminator:0,amount:n.amount??1,authorizationData:n.authorizationData??(0,oH.none)()}))}RE.getMintV1InstructionDataSerializer=x8e;function S4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={token:{index:0,isWritable:!0,value:e.token??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},metadata:{index:2,isWritable:!1,value:e.metadata??null},masterEdition:{index:3,isWritable:!0,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!0,value:e.mint??null},authority:{index:6,isWritable:!1,value:e.authority??null},delegateRecord:{index:7,isWritable:!1,value:e.delegateRecord??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:12,isWritable:!1,value:e.splAtaProgram??null},authorizationRulesProgram:{index:13,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:14,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,Cbe.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,b4t.findAssociatedTokenPda)(n,{mint:(0,K0.expectPublicKey)(r.mint.value),owner:(0,K0.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,z7.findMetadataPda)(n,{mint:(0,K0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,Cbe.resolveIsNonFungible)(n,r,s,t,!0)&&(r.masterEdition.value=(0,z7.findMasterEditionPda)(n,{mint:(0,K0.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===E8e.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,z7.findTokenRecordPda)(n,{mint:(0,K0.expectPublicKey)(r.mint.value),token:(0,K0.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,oH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,K0.getAccountMetasAndSigners)(i,"programId",t),c=x8e().serialize(s),u=468;return(0,oH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}RE.mintV1=S4t;var CE={};Object.defineProperty(CE,"__esModule",{value:!0});CE.printV1=CE.getPrintV1InstructionDataSerializer=void 0;const Mbe=Gs,Bbe=Z,l2=q,k4t=an,cv=Nt,xc=Ke,zbe=lt;function T8e(){return(0,l2.mapSerializer)((0,l2.struct)([["discriminator",(0,l2.u8)()],["printV1Discriminator",(0,l2.u8)()],["editionNumber",(0,l2.u64)()]],{description:"PrintV1InstructionData"}),n=>({...n,discriminator:55,printV1Discriminator:0}))}CE.getPrintV1InstructionDataSerializer=T8e;function v4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={editionMetadata:{index:0,isWritable:!0,value:e.editionMetadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},editionMint:{index:2,isWritable:!0,value:e.editionMint??null},editionTokenAccountOwner:{index:3,isWritable:!1,value:e.editionTokenAccountOwner??null},editionTokenAccount:{index:4,isWritable:!0,value:e.editionTokenAccount??null},editionMintAuthority:{index:5,isWritable:!1,value:e.editionMintAuthority??null},editionTokenRecord:{index:6,isWritable:!0,value:e.editionTokenRecord??null},masterEdition:{index:7,isWritable:!0,value:e.masterEdition??null},editionMarkerPda:{index:8,isWritable:!0,value:e.editionMarkerPda??null},payer:{index:9,isWritable:!0,value:e.payer??null},masterTokenAccountOwner:{index:10,isWritable:!1,value:e.masterTokenAccountOwner??null},masterTokenAccount:{index:11,isWritable:!1,value:e.masterTokenAccount??null},masterMetadata:{index:12,isWritable:!1,value:e.masterMetadata??null},updateAuthority:{index:13,isWritable:!1,value:e.updateAuthority??null},splTokenProgram:{index:14,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:15,isWritable:!1,value:e.splAtaProgram??null},sysvarInstructions:{index:16,isWritable:!1,value:e.sysvarInstructions??null},systemProgram:{index:17,isWritable:!1,value:e.systemProgram??null}},s={...e};r.editionMetadata.value||(r.editionMetadata.value=(0,cv.findMetadataPda)(n,{mint:(0,xc.expectPublicKey)(r.editionMint.value)})),r.edition.value||(r.edition.value=(0,cv.findMasterEditionPda)(n,{mint:(0,xc.expectPublicKey)(r.editionMint.value)})),r.editionTokenAccountOwner.value||(r.editionTokenAccountOwner.value=n.identity.publicKey),r.editionTokenAccount.value||(r.editionTokenAccount.value=(0,Mbe.findAssociatedTokenPda)(n,{mint:(0,xc.expectPublicKey)(r.editionMint.value),owner:(0,xc.expectPublicKey)(r.editionTokenAccountOwner.value)})),r.masterTokenAccountOwner.value||(r.masterTokenAccountOwner.value=n.identity),r.editionMintAuthority.value||(r.editionMintAuthority.value=(0,xc.expectSome)(r.masterTokenAccountOwner.value)),r.editionTokenRecord.value||s.tokenStandard===zbe.TokenStandard.ProgrammableNonFungible&&(r.editionTokenRecord.value=(0,cv.findTokenRecordPda)(n,{mint:(0,xc.expectPublicKey)(r.editionMint.value),token:(0,xc.expectPublicKey)(r.editionTokenAccount.value)})),r.masterEdition.value||(r.masterEdition.value=(0,cv.findMasterEditionPda)(n,{mint:(0,xc.expectSome)(s.masterEditionMint)})),r.editionMarkerPda.value||(s.tokenStandard===zbe.TokenStandard.ProgrammableNonFungible?r.editionMarkerPda.value=(0,cv.findEditionMarkerV2Pda)(n,{mint:(0,xc.expectSome)(s.masterEditionMint)}):r.editionMarkerPda.value=(0,k4t.findEditionMarkerFromEditionNumberPda)(n,{mint:(0,xc.expectSome)(s.masterEditionMint),editionNumber:(0,xc.expectSome)(s.editionNumber)})),r.payer.value||(r.payer.value=n.payer),r.masterTokenAccount.value||(r.masterTokenAccount.value=(0,Mbe.findAssociatedTokenPda)(n,{mint:(0,xc.expectSome)(s.masterEditionMint),owner:(0,xc.expectPublicKey)(r.masterTokenAccountOwner.value)})),r.masterMetadata.value||(r.masterMetadata.value=(0,cv.findMetadataPda)(n,{mint:(0,xc.expectSome)(s.masterEditionMint)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Bbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,xc.getAccountMetasAndSigners)(i,"programId",t),c=T8e().serialize(s),u=0;return(0,Bbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}CE.printV1=v4t;var ME={};Object.defineProperty(ME,"__esModule",{value:!0});ME.printV2=ME.getPrintV2InstructionDataSerializer=void 0;const $be=Gs,Dbe=Z,d2=q,A4t=an,uv=Nt,hc=Ke,Obe=lt;function R8e(){return(0,d2.mapSerializer)((0,d2.struct)([["discriminator",(0,d2.u8)()],["printV2Discriminator",(0,d2.u8)()],["editionNumber",(0,d2.u64)()]],{description:"PrintV2InstructionData"}),n=>({...n,discriminator:55,printV2Discriminator:1}))}ME.getPrintV2InstructionDataSerializer=R8e;function w4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={editionMetadata:{index:0,isWritable:!0,value:e.editionMetadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},editionMint:{index:2,isWritable:!0,value:e.editionMint??null},editionTokenAccountOwner:{index:3,isWritable:!1,value:e.editionTokenAccountOwner??null},editionTokenAccount:{index:4,isWritable:!0,value:e.editionTokenAccount??null},editionMintAuthority:{index:5,isWritable:!1,value:e.editionMintAuthority??null},editionTokenRecord:{index:6,isWritable:!0,value:e.editionTokenRecord??null},masterEdition:{index:7,isWritable:!0,value:e.masterEdition??null},editionMarkerPda:{index:8,isWritable:!0,value:e.editionMarkerPda??null},payer:{index:9,isWritable:!0,value:e.payer??null},masterTokenAccountOwner:{index:10,isWritable:!1,value:e.masterTokenAccountOwner??null},masterTokenAccount:{index:11,isWritable:!1,value:e.masterTokenAccount??null},masterMetadata:{index:12,isWritable:!1,value:e.masterMetadata??null},updateAuthority:{index:13,isWritable:!1,value:e.updateAuthority??null},splTokenProgram:{index:14,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:15,isWritable:!1,value:e.splAtaProgram??null},sysvarInstructions:{index:16,isWritable:!1,value:e.sysvarInstructions??null},systemProgram:{index:17,isWritable:!1,value:e.systemProgram??null},holderDelegateRecord:{index:18,isWritable:!1,value:e.holderDelegateRecord??null},delegate:{index:19,isWritable:!1,value:e.delegate??null}},s={...e};r.editionMetadata.value||(r.editionMetadata.value=(0,uv.findMetadataPda)(n,{mint:(0,hc.expectPublicKey)(r.editionMint.value)})),r.edition.value||(r.edition.value=(0,uv.findMasterEditionPda)(n,{mint:(0,hc.expectPublicKey)(r.editionMint.value)})),r.editionTokenAccountOwner.value||(r.editionTokenAccountOwner.value=n.identity.publicKey),r.editionTokenAccount.value||(r.editionTokenAccount.value=(0,$be.findAssociatedTokenPda)(n,{mint:(0,hc.expectPublicKey)(r.editionMint.value),owner:(0,hc.expectPublicKey)(r.editionTokenAccountOwner.value)})),r.payer.value||(r.payer.value=n.payer),r.editionMintAuthority.value||(r.holderDelegateRecord.value?r.delegate.value?r.editionMintAuthority.value=(0,hc.expectSome)(r.delegate.value):r.editionMintAuthority.value=(0,hc.expectSome)(r.payer.value):r.editionMintAuthority.value=n.identity),r.editionTokenRecord.value||s.tokenStandard===Obe.TokenStandard.ProgrammableNonFungible&&(r.editionTokenRecord.value=(0,uv.findTokenRecordPda)(n,{mint:(0,hc.expectPublicKey)(r.editionMint.value),token:(0,hc.expectPublicKey)(r.editionTokenAccount.value)})),r.masterEdition.value||(r.masterEdition.value=(0,uv.findMasterEditionPda)(n,{mint:(0,hc.expectSome)(s.masterEditionMint)})),r.editionMarkerPda.value||(s.tokenStandard===Obe.TokenStandard.ProgrammableNonFungible?r.editionMarkerPda.value=(0,uv.findEditionMarkerV2Pda)(n,{mint:(0,hc.expectSome)(s.masterEditionMint)}):r.editionMarkerPda.value=(0,A4t.findEditionMarkerFromEditionNumberPda)(n,{mint:(0,hc.expectSome)(s.masterEditionMint),editionNumber:(0,hc.expectSome)(s.editionNumber)})),r.masterTokenAccountOwner.value||r.holderDelegateRecord.value||(r.masterTokenAccountOwner.value=n.identity),r.masterTokenAccount.value||(r.masterTokenAccount.value=(0,$be.findAssociatedTokenPda)(n,{mint:(0,hc.expectSome)(s.masterEditionMint),owner:(0,hc.expectPublicKey)(r.masterTokenAccountOwner.value)})),r.masterMetadata.value||(r.masterMetadata.value=(0,uv.findMetadataPda)(n,{mint:(0,hc.expectSome)(s.masterEditionMint)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Dbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,hc.getAccountMetasAndSigners)(i,"programId",t),c=R8e().serialize(s),u=0;return(0,Dbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ME.printV2=w4t;var BE={};Object.defineProperty(BE,"__esModule",{value:!0});BE.puffMetadata=BE.getPuffMetadataInstructionDataSerializer=void 0;const I4t=Z,$7=q,P4t=Ke;function C8e(){return(0,$7.mapSerializer)((0,$7.struct)([["discriminator",(0,$7.u8)()]],{description:"PuffMetadataInstructionData"}),n=>({...n,discriminator:14}))}BE.getPuffMetadataInstructionDataSerializer=C8e;function _4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,P4t.getAccountMetasAndSigners)(s,"programId",t),a=C8e().serialize({}),c=0;return(0,I4t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}BE.puffMetadata=_4t;var zE={};Object.defineProperty(zE,"__esModule",{value:!0});zE.removeCreatorVerification=zE.getRemoveCreatorVerificationInstructionDataSerializer=void 0;const E4t=Z,D7=q,x4t=Ke;function M8e(){return(0,D7.mapSerializer)((0,D7.struct)([["discriminator",(0,D7.u8)()]],{description:"RemoveCreatorVerificationInstructionData"}),n=>({...n,discriminator:28}))}zE.getRemoveCreatorVerificationInstructionDataSerializer=M8e;function T4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},creator:{index:1,isWritable:!1,value:e.creator??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,x4t.getAccountMetasAndSigners)(s,"programId",t),a=M8e().serialize({}),c=0;return(0,E4t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}zE.removeCreatorVerification=T4t;var $E={};Object.defineProperty($E,"__esModule",{value:!0});$E.resize=$E.getResizeInstructionDataSerializer=void 0;const R4t=Z,O7=q,Kbe=Nt,K7=Ke;function B8e(){return(0,O7.mapSerializer)((0,O7.struct)([["discriminator",(0,O7.u8)()]],{description:"ResizeInstructionData"}),n=>({...n,discriminator:56}))}$E.getResizeInstructionDataSerializer=B8e;function C4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},mint:{index:2,isWritable:!1,value:e.mint??null},payer:{index:3,isWritable:!0,value:e.payer??null},authority:{index:4,isWritable:!1,value:e.authority??null},token:{index:5,isWritable:!1,value:e.token??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null}};r.metadata.value||(r.metadata.value=(0,Kbe.findMetadataPda)(n,{mint:(0,K7.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,Kbe.findMasterEditionPda)(n,{mint:(0,K7.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,K7.getAccountMetasAndSigners)(s,"programId",t),a=B8e().serialize({}),c=0;return(0,R4t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}$E.resize=C4t;var DE={};Object.defineProperty(DE,"__esModule",{value:!0});DE.revokeAuthorityItemV1=DE.getRevokeAuthorityItemV1InstructionDataSerializer=void 0;const Lbe=Z,C3=q,M4t=an,L7=Nt,L0=Ke,B4t=lt;function z8e(){return(0,C3.mapSerializer)((0,C3.struct)([["discriminator",(0,C3.u8)()],["revokeAuthorityItemV1Discriminator",(0,C3.u8)()]],{description:"RevokeAuthorityItemV1InstructionData"}),n=>({...n,discriminator:45,revokeAuthorityItemV1Discriminator:10}))}DE.getRevokeAuthorityItemV1InstructionDataSerializer=z8e;function z4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,L0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,L7.findMetadataDelegateRecordPda)(n,{delegateRole:B4t.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,L0.expectSome)(s.updateAuthority),mint:(0,L0.expectPublicKey)(r.mint.value),delegate:(0,L0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,L7.findMetadataPda)(n,{mint:(0,L0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,M4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,L7.findMasterEditionPda)(n,{mint:(0,L0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Lbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,L0.getAccountMetasAndSigners)(i,"programId",t),c=z8e().serialize({}),u=0;return(0,Lbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}DE.revokeAuthorityItemV1=z4t;var OE={};Object.defineProperty(OE,"__esModule",{value:!0});OE.revokeCollectionAuthority=OE.getRevokeCollectionAuthorityInstructionDataSerializer=void 0;const $4t=Z,W7=q,D4t=Nt,Wbe=Ke;function $8e(){return(0,W7.mapSerializer)((0,W7.struct)([["discriminator",(0,W7.u8)()]],{description:"RevokeCollectionAuthorityInstructionData"}),n=>({...n,discriminator:24}))}OE.getRevokeCollectionAuthorityInstructionDataSerializer=$8e;function O4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionAuthorityRecord:{index:0,isWritable:!0,value:e.collectionAuthorityRecord??null},delegateAuthority:{index:1,isWritable:!0,value:e.delegateAuthority??null},revokeAuthority:{index:2,isWritable:!0,value:e.revokeAuthority??null},metadata:{index:3,isWritable:!1,value:e.metadata??null},mint:{index:4,isWritable:!1,value:e.mint??null}};r.metadata.value||(r.metadata.value=(0,D4t.findMetadataPda)(n,{mint:(0,Wbe.expectPublicKey)(r.mint.value)}));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Wbe.getAccountMetasAndSigners)(s,"programId",t),a=$8e().serialize({}),c=0;return(0,$4t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}OE.revokeCollectionAuthority=O4t;var KE={};Object.defineProperty(KE,"__esModule",{value:!0});KE.revokeCollectionItemV1=KE.getRevokeCollectionItemV1InstructionDataSerializer=void 0;const Nbe=Z,M3=q,K4t=an,N7=Nt,W0=Ke,L4t=lt;function D8e(){return(0,M3.mapSerializer)((0,M3.struct)([["discriminator",(0,M3.u8)()],["revokeCollectionItemV1Discriminator",(0,M3.u8)()]],{description:"RevokeCollectionItemV1InstructionData"}),n=>({...n,discriminator:45,revokeCollectionItemV1Discriminator:12}))}KE.getRevokeCollectionItemV1InstructionDataSerializer=D8e;function W4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,W0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,N7.findMetadataDelegateRecordPda)(n,{delegateRole:L4t.MetadataDelegateRole.CollectionItem,updateAuthority:(0,W0.expectSome)(s.updateAuthority),mint:(0,W0.expectPublicKey)(r.mint.value),delegate:(0,W0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,N7.findMetadataPda)(n,{mint:(0,W0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,K4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,N7.findMasterEditionPda)(n,{mint:(0,W0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Nbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,W0.getAccountMetasAndSigners)(i,"programId",t),c=D8e().serialize({}),u=0;return(0,Nbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}KE.revokeCollectionItemV1=W4t;var LE={};Object.defineProperty(LE,"__esModule",{value:!0});LE.revokeCollectionV1=LE.getRevokeCollectionV1InstructionDataSerializer=void 0;const Fbe=Z,B3=q,N4t=an,F7=Nt,N0=Ke,F4t=lt;function O8e(){return(0,B3.mapSerializer)((0,B3.struct)([["discriminator",(0,B3.u8)()],["revokeCollectionV1Discriminator",(0,B3.u8)()]],{description:"RevokeCollectionV1InstructionData"}),n=>({...n,discriminator:45,revokeCollectionV1Discriminator:0}))}LE.getRevokeCollectionV1InstructionDataSerializer=O8e;function U4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,N0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,F7.findMetadataDelegateRecordPda)(n,{delegateRole:F4t.MetadataDelegateRole.Collection,updateAuthority:(0,N0.expectSome)(s.updateAuthority),mint:(0,N0.expectPublicKey)(r.mint.value),delegate:(0,N0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,F7.findMetadataPda)(n,{mint:(0,N0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,N4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,F7.findMasterEditionPda)(n,{mint:(0,N0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Fbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,N0.getAccountMetasAndSigners)(i,"programId",t),c=O8e().serialize({}),u=0;return(0,Fbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}LE.revokeCollectionV1=U4t;var WE={};Object.defineProperty(WE,"__esModule",{value:!0});WE.revokeDataItemV1=WE.getRevokeDataItemV1InstructionDataSerializer=void 0;const Ube=Z,z3=q,V4t=an,U7=Nt,F0=Ke,q4t=lt;function K8e(){return(0,z3.mapSerializer)((0,z3.struct)([["discriminator",(0,z3.u8)()],["revokeDataItemV1Discriminator",(0,z3.u8)()]],{description:"RevokeDataItemV1InstructionData"}),n=>({...n,discriminator:45,revokeDataItemV1Discriminator:11}))}WE.getRevokeDataItemV1InstructionDataSerializer=K8e;function j4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,F0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,U7.findMetadataDelegateRecordPda)(n,{delegateRole:q4t.MetadataDelegateRole.DataItem,updateAuthority:(0,F0.expectSome)(s.updateAuthority),mint:(0,F0.expectPublicKey)(r.mint.value),delegate:(0,F0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,U7.findMetadataPda)(n,{mint:(0,F0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,V4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,U7.findMasterEditionPda)(n,{mint:(0,F0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Ube.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,F0.getAccountMetasAndSigners)(i,"programId",t),c=K8e().serialize({}),u=0;return(0,Ube.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}WE.revokeDataItemV1=j4t;var NE={};Object.defineProperty(NE,"__esModule",{value:!0});NE.revokeDataV1=NE.getRevokeDataV1InstructionDataSerializer=void 0;const Vbe=Z,$3=q,H4t=an,V7=Nt,U0=Ke,G4t=lt;function L8e(){return(0,$3.mapSerializer)((0,$3.struct)([["discriminator",(0,$3.u8)()],["revokeDataV1Discriminator",(0,$3.u8)()]],{description:"RevokeDataV1InstructionData"}),n=>({...n,discriminator:45,revokeDataV1Discriminator:3}))}NE.getRevokeDataV1InstructionDataSerializer=L8e;function Y4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,U0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,V7.findMetadataDelegateRecordPda)(n,{delegateRole:G4t.MetadataDelegateRole.Data,updateAuthority:(0,U0.expectSome)(s.updateAuthority),mint:(0,U0.expectPublicKey)(r.mint.value),delegate:(0,U0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,V7.findMetadataPda)(n,{mint:(0,U0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,H4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,V7.findMasterEditionPda)(n,{mint:(0,U0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Vbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,U0.getAccountMetasAndSigners)(i,"programId",t),c=L8e().serialize({}),u=0;return(0,Vbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}NE.revokeDataV1=Y4t;var FE={};Object.defineProperty(FE,"__esModule",{value:!0});FE.revokeLockedTransferV1=FE.getRevokeLockedTransferV1InstructionDataSerializer=void 0;const Z4t=Gs,qbe=Z,D3=q,J4t=an,O3=Nt,ag=Ke,X4t=lt;function W8e(){return(0,D3.mapSerializer)((0,D3.struct)([["discriminator",(0,D3.u8)()],["revokeLockedTransferV1Discriminator",(0,D3.u8)()]],{description:"RevokeLockedTransferV1InstructionData"}),n=>({...n,discriminator:45,revokeLockedTransferV1Discriminator:7}))}FE.getRevokeLockedTransferV1InstructionDataSerializer=W8e;function Q4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,Z4t.findAssociatedTokenPda)(n,{mint:(0,ag.expectPublicKey)(r.mint.value),owner:(0,ag.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,O3.findTokenRecordPda)(n,{mint:(0,ag.expectPublicKey)(r.mint.value),token:(0,ag.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,O3.findMetadataPda)(n,{mint:(0,ag.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,J4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,O3.findMasterEditionPda)(n,{mint:(0,ag.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===X4t.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,O3.findTokenRecordPda)(n,{mint:(0,ag.expectPublicKey)(r.mint.value),token:(0,ag.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,qbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ag.getAccountMetasAndSigners)(i,"programId",t),c=W8e().serialize({}),u=0;return(0,qbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}FE.revokeLockedTransferV1=Q4t;var UE={};Object.defineProperty(UE,"__esModule",{value:!0});UE.revokeMigrationV1=UE.getRevokeMigrationV1InstructionDataSerializer=void 0;const eKt=Gs,jbe=Z,K3=q,tKt=an,L3=Nt,cg=Ke,rKt=lt;function N8e(){return(0,K3.mapSerializer)((0,K3.struct)([["discriminator",(0,K3.u8)()],["revokeMigrationV1Discriminator",(0,K3.u8)()]],{description:"RevokeMigrationV1InstructionData"}),n=>({...n,discriminator:45,revokeMigrationV1Discriminator:9}))}UE.getRevokeMigrationV1InstructionDataSerializer=N8e;function nKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,eKt.findAssociatedTokenPda)(n,{mint:(0,cg.expectPublicKey)(r.mint.value),owner:(0,cg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,L3.findTokenRecordPda)(n,{mint:(0,cg.expectPublicKey)(r.mint.value),token:(0,cg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,L3.findMetadataPda)(n,{mint:(0,cg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,tKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,L3.findMasterEditionPda)(n,{mint:(0,cg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===rKt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,L3.findTokenRecordPda)(n,{mint:(0,cg.expectPublicKey)(r.mint.value),token:(0,cg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,jbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,cg.getAccountMetasAndSigners)(i,"programId",t),c=N8e().serialize({}),u=0;return(0,jbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}UE.revokeMigrationV1=nKt;var VE={};Object.defineProperty(VE,"__esModule",{value:!0});VE.revokePrintDelegateV1=VE.getRevokePrintDelegateV1InstructionDataSerializer=void 0;const Hbe=Z,W3=q,sKt=an,Gbe=Nt,q7=Ke;function F8e(){return(0,W3.mapSerializer)((0,W3.struct)([["discriminator",(0,W3.u8)()],["revokePrintDelegateV1Discriminator",(0,W3.u8)()]],{description:"RevokePrintDelegateV1InstructionData"}),n=>({...n,discriminator:45,revokePrintDelegateV1Discriminator:14}))}VE.getRevokePrintDelegateV1InstructionDataSerializer=F8e;function iKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}};r.metadata.value||(r.metadata.value=(0,Gbe.findMetadataPda)(n,{mint:(0,q7.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,sKt.resolveIsNonFungible)(n,r,e,t,!1)&&(r.masterEdition.value=(0,Gbe.findMasterEditionPda)(n,{mint:(0,q7.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Hbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,q7.getAccountMetasAndSigners)(s,"programId",t),a=F8e().serialize({}),c=0;return(0,Hbe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}VE.revokePrintDelegateV1=iKt;var qE={};Object.defineProperty(qE,"__esModule",{value:!0});qE.revokeProgrammableConfigItemV1=qE.getRevokeProgrammableConfigItemV1InstructionDataSerializer=void 0;const Ybe=Z,N3=q,oKt=an,j7=Nt,V0=Ke,aKt=lt;function U8e(){return(0,N3.mapSerializer)((0,N3.struct)([["discriminator",(0,N3.u8)()],["revokeProgrammableConfigItemV1Discriminator",(0,N3.u8)()]],{description:"RevokeProgrammableConfigItemV1InstructionData"}),n=>({...n,discriminator:45,revokeProgrammableConfigItemV1Discriminator:13}))}qE.getRevokeProgrammableConfigItemV1InstructionDataSerializer=U8e;function cKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,V0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,j7.findMetadataDelegateRecordPda)(n,{delegateRole:aKt.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,V0.expectSome)(s.updateAuthority),mint:(0,V0.expectPublicKey)(r.mint.value),delegate:(0,V0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,j7.findMetadataPda)(n,{mint:(0,V0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,oKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,j7.findMasterEditionPda)(n,{mint:(0,V0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Ybe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,V0.getAccountMetasAndSigners)(i,"programId",t),c=U8e().serialize({}),u=0;return(0,Ybe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}qE.revokeProgrammableConfigItemV1=cKt;var jE={};Object.defineProperty(jE,"__esModule",{value:!0});jE.revokeProgrammableConfigV1=jE.getRevokeProgrammableConfigV1InstructionDataSerializer=void 0;const Zbe=Z,F3=q,uKt=an,H7=Nt,q0=Ke,lKt=lt;function V8e(){return(0,F3.mapSerializer)((0,F3.struct)([["discriminator",(0,F3.u8)()],["revokeProgrammableConfigV1Discriminator",(0,F3.u8)()]],{description:"RevokeProgrammableConfigV1InstructionData"}),n=>({...n,discriminator:45,revokeProgrammableConfigV1Discriminator:8}))}jE.getRevokeProgrammableConfigV1InstructionDataSerializer=V8e;function dKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,q0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,H7.findMetadataDelegateRecordPda)(n,{delegateRole:lKt.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,q0.expectSome)(s.updateAuthority),mint:(0,q0.expectPublicKey)(r.mint.value),delegate:(0,q0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,H7.findMetadataPda)(n,{mint:(0,q0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,uKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,H7.findMasterEditionPda)(n,{mint:(0,q0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Zbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,q0.getAccountMetasAndSigners)(i,"programId",t),c=V8e().serialize({}),u=0;return(0,Zbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}jE.revokeProgrammableConfigV1=dKt;var HE={};Object.defineProperty(HE,"__esModule",{value:!0});HE.revokeSaleV1=HE.getRevokeSaleV1InstructionDataSerializer=void 0;const fKt=Gs,Jbe=Z,U3=q,hKt=an,V3=Nt,ug=Ke,gKt=lt;function q8e(){return(0,U3.mapSerializer)((0,U3.struct)([["discriminator",(0,U3.u8)()],["revokeSaleV1Discriminator",(0,U3.u8)()]],{description:"RevokeSaleV1InstructionData"}),n=>({...n,discriminator:45,revokeSaleV1Discriminator:1}))}HE.getRevokeSaleV1InstructionDataSerializer=q8e;function mKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,fKt.findAssociatedTokenPda)(n,{mint:(0,ug.expectPublicKey)(r.mint.value),owner:(0,ug.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,V3.findTokenRecordPda)(n,{mint:(0,ug.expectPublicKey)(r.mint.value),token:(0,ug.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,V3.findMetadataPda)(n,{mint:(0,ug.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,hKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,V3.findMasterEditionPda)(n,{mint:(0,ug.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===gKt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,V3.findTokenRecordPda)(n,{mint:(0,ug.expectPublicKey)(r.mint.value),token:(0,ug.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Jbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ug.getAccountMetasAndSigners)(i,"programId",t),c=q8e().serialize({}),u=0;return(0,Jbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}HE.revokeSaleV1=mKt;var GE={};Object.defineProperty(GE,"__esModule",{value:!0});GE.revokeStakingV1=GE.getRevokeStakingV1InstructionDataSerializer=void 0;const yKt=Gs,Xbe=Z,q3=q,pKt=an,j3=Nt,lg=Ke,bKt=lt;function j8e(){return(0,q3.mapSerializer)((0,q3.struct)([["discriminator",(0,q3.u8)()],["revokeStakingV1Discriminator",(0,q3.u8)()]],{description:"RevokeStakingV1InstructionData"}),n=>({...n,discriminator:45,revokeStakingV1Discriminator:5}))}GE.getRevokeStakingV1InstructionDataSerializer=j8e;function SKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,yKt.findAssociatedTokenPda)(n,{mint:(0,lg.expectPublicKey)(r.mint.value),owner:(0,lg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,j3.findTokenRecordPda)(n,{mint:(0,lg.expectPublicKey)(r.mint.value),token:(0,lg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,j3.findMetadataPda)(n,{mint:(0,lg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,pKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,j3.findMasterEditionPda)(n,{mint:(0,lg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===bKt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,j3.findTokenRecordPda)(n,{mint:(0,lg.expectPublicKey)(r.mint.value),token:(0,lg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Xbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,lg.getAccountMetasAndSigners)(i,"programId",t),c=j8e().serialize({}),u=0;return(0,Xbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}GE.revokeStakingV1=SKt;var YE={};Object.defineProperty(YE,"__esModule",{value:!0});YE.revokeStandardV1=YE.getRevokeStandardV1InstructionDataSerializer=void 0;const kKt=Gs,Qbe=Z,H3=q,vKt=an,G7=Nt,j0=Ke;function H8e(){return(0,H3.mapSerializer)((0,H3.struct)([["discriminator",(0,H3.u8)()],["revokeStandardV1Discriminator",(0,H3.u8)()]],{description:"RevokeStandardV1InstructionData"}),n=>({...n,discriminator:45,revokeStandardV1Discriminator:6}))}YE.getRevokeStandardV1InstructionDataSerializer=H8e;function AKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,kKt.findAssociatedTokenPda)(n,{mint:(0,j0.expectPublicKey)(r.mint.value),owner:(0,j0.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,G7.findTokenRecordPda)(n,{mint:(0,j0.expectPublicKey)(r.mint.value),token:(0,j0.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,G7.findMetadataPda)(n,{mint:(0,j0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,vKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,G7.findMasterEditionPda)(n,{mint:(0,j0.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Qbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,j0.getAccountMetasAndSigners)(i,"programId",t),c=H8e().serialize({}),u=0;return(0,Qbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}YE.revokeStandardV1=AKt;var ZE={};Object.defineProperty(ZE,"__esModule",{value:!0});ZE.revokeTransferV1=ZE.getRevokeTransferV1InstructionDataSerializer=void 0;const wKt=Gs,e0e=Z,G3=q,IKt=an,Y3=Nt,dg=Ke,PKt=lt;function G8e(){return(0,G3.mapSerializer)((0,G3.struct)([["discriminator",(0,G3.u8)()],["revokeTransferV1Discriminator",(0,G3.u8)()]],{description:"RevokeTransferV1InstructionData"}),n=>({...n,discriminator:45,revokeTransferV1Discriminator:2}))}ZE.getRevokeTransferV1InstructionDataSerializer=G8e;function _Kt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,wKt.findAssociatedTokenPda)(n,{mint:(0,dg.expectPublicKey)(r.mint.value),owner:(0,dg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,Y3.findTokenRecordPda)(n,{mint:(0,dg.expectPublicKey)(r.mint.value),token:(0,dg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,Y3.findMetadataPda)(n,{mint:(0,dg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,IKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,Y3.findMasterEditionPda)(n,{mint:(0,dg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===PKt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,Y3.findTokenRecordPda)(n,{mint:(0,dg.expectPublicKey)(r.mint.value),token:(0,dg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,e0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,dg.getAccountMetasAndSigners)(i,"programId",t),c=G8e().serialize({}),u=0;return(0,e0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ZE.revokeTransferV1=_Kt;var JE={};Object.defineProperty(JE,"__esModule",{value:!0});JE.revokeUseAuthority=JE.getRevokeUseAuthorityInstructionDataSerializer=void 0;const EKt=Z,Y7=q,xKt=Nt,t0e=Ke;function Y8e(){return(0,Y7.mapSerializer)((0,Y7.struct)([["discriminator",(0,Y7.u8)()]],{description:"RevokeUseAuthorityInstructionData"}),n=>({...n,discriminator:21}))}JE.getRevokeUseAuthorityInstructionDataSerializer=Y8e;function TKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={useAuthorityRecord:{index:0,isWritable:!0,value:e.useAuthorityRecord??null},owner:{index:1,isWritable:!0,value:e.owner??null},user:{index:2,isWritable:!1,value:e.user??null},ownerTokenAccount:{index:3,isWritable:!0,value:e.ownerTokenAccount??null},mint:{index:4,isWritable:!1,value:e.mint??null},metadata:{index:5,isWritable:!1,value:e.metadata??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null}};r.metadata.value||(r.metadata.value=(0,xKt.findMetadataPda)(n,{mint:(0,t0e.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,t0e.getAccountMetasAndSigners)(s,"omitted",t),a=Y8e().serialize({}),c=0;return(0,EKt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}JE.revokeUseAuthority=TKt;var XE={};Object.defineProperty(XE,"__esModule",{value:!0});XE.revokeUtilityV1=XE.getRevokeUtilityV1InstructionDataSerializer=void 0;const RKt=Gs,r0e=Z,Z3=q,CKt=an,J3=Nt,fg=Ke,MKt=lt;function Z8e(){return(0,Z3.mapSerializer)((0,Z3.struct)([["discriminator",(0,Z3.u8)()],["revokeUtilityV1Discriminator",(0,Z3.u8)()]],{description:"RevokeUtilityV1InstructionData"}),n=>({...n,discriminator:45,revokeUtilityV1Discriminator:4}))}XE.getRevokeUtilityV1InstructionDataSerializer=Z8e;function BKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,RKt.findAssociatedTokenPda)(n,{mint:(0,fg.expectPublicKey)(r.mint.value),owner:(0,fg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,J3.findTokenRecordPda)(n,{mint:(0,fg.expectPublicKey)(r.mint.value),token:(0,fg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,J3.findMetadataPda)(n,{mint:(0,fg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,CKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,J3.findMasterEditionPda)(n,{mint:(0,fg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===MKt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,J3.findTokenRecordPda)(n,{mint:(0,fg.expectPublicKey)(r.mint.value),token:(0,fg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,r0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,fg.getAccountMetasAndSigners)(i,"programId",t),c=Z8e().serialize({}),u=0;return(0,r0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}XE.revokeUtilityV1=BKt;var QE={};Object.defineProperty(QE,"__esModule",{value:!0});QE.setAndVerifyCollection=QE.getSetAndVerifyCollectionInstructionDataSerializer=void 0;const zKt=Z,Z7=q,$Kt=Ke;function J8e(){return(0,Z7.mapSerializer)((0,Z7.struct)([["discriminator",(0,Z7.u8)()]],{description:"SetAndVerifyCollectionInstructionData"}),n=>({...n,discriminator:25}))}QE.getSetAndVerifyCollectionInstructionDataSerializer=J8e;function DKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},updateAuthority:{index:3,isWritable:!1,value:e.updateAuthority??null},collectionMint:{index:4,isWritable:!1,value:e.collectionMint??null},collection:{index:5,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:6,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:7,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,$Kt.getAccountMetasAndSigners)(s,"omitted",t),a=J8e().serialize({}),c=0;return(0,zKt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}QE.setAndVerifyCollection=DKt;var ex={};Object.defineProperty(ex,"__esModule",{value:!0});ex.setAndVerifySizedCollectionItem=ex.getSetAndVerifySizedCollectionItemInstructionDataSerializer=void 0;const OKt=Z,J7=q,KKt=Ke;function X8e(){return(0,J7.mapSerializer)((0,J7.struct)([["discriminator",(0,J7.u8)()]],{description:"SetAndVerifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:32}))}ex.getSetAndVerifySizedCollectionItemInstructionDataSerializer=X8e;function LKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},updateAuthority:{index:3,isWritable:!1,value:e.updateAuthority??null},collectionMint:{index:4,isWritable:!1,value:e.collectionMint??null},collection:{index:5,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:6,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:7,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,KKt.getAccountMetasAndSigners)(s,"omitted",t),a=X8e().serialize({}),c=0;return(0,OKt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}ex.setAndVerifySizedCollectionItem=LKt;var tx={};Object.defineProperty(tx,"__esModule",{value:!0});tx.setCollectionSize=tx.getSetCollectionSizeInstructionDataSerializer=void 0;const WKt=Z,X7=q,NKt=Ke,FKt=lt;function Q8e(){return(0,X7.mapSerializer)((0,X7.struct)([["discriminator",(0,X7.u8)()],["setCollectionSizeArgs",(0,FKt.getSetCollectionSizeArgsSerializer)()]],{description:"SetCollectionSizeInstructionData"}),n=>({...n,discriminator:34}))}tx.getSetCollectionSizeInstructionDataSerializer=Q8e;function UKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionMetadata:{index:0,isWritable:!0,value:e.collectionMetadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},collectionAuthorityRecord:{index:3,isWritable:!1,value:e.collectionAuthorityRecord??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,NKt.getAccountMetasAndSigners)(i,"omitted",t),c=Q8e().serialize(s),u=0;return(0,WKt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}tx.setCollectionSize=UKt;var rx={};Object.defineProperty(rx,"__esModule",{value:!0});rx.setTokenStandard=rx.getSetTokenStandardInstructionDataSerializer=void 0;const VKt=Z,Q7=q,qKt=Nt,n0e=Ke;function e3e(){return(0,Q7.mapSerializer)((0,Q7.struct)([["discriminator",(0,Q7.u8)()]],{description:"SetTokenStandardInstructionData"}),n=>({...n,discriminator:35}))}rx.getSetTokenStandardInstructionDataSerializer=e3e;function jKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},updateAuthority:{index:1,isWritable:!1,value:e.updateAuthority??null},mint:{index:2,isWritable:!1,value:e.mint??null},edition:{index:3,isWritable:!1,value:e.edition??null}};r.metadata.value||(r.metadata.value=(0,qKt.findMetadataPda)(n,{mint:(0,n0e.expectPublicKey)(r.mint.value)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,n0e.getAccountMetasAndSigners)(s,"omitted",t),a=e3e().serialize({}),c=0;return(0,VKt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}rx.setTokenStandard=jKt;var nx={};Object.defineProperty(nx,"__esModule",{value:!0});nx.signMetadata=nx.getSignMetadataInstructionDataSerializer=void 0;const HKt=Z,eV=q,GKt=Ke;function t3e(){return(0,eV.mapSerializer)((0,eV.struct)([["discriminator",(0,eV.u8)()]],{description:"SignMetadataInstructionData"}),n=>({...n,discriminator:7}))}nx.getSignMetadataInstructionDataSerializer=t3e;function YKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},creator:{index:1,isWritable:!1,value:e.creator??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,GKt.getAccountMetasAndSigners)(s,"programId",t),a=t3e().serialize({}),c=0;return(0,HKt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}nx.signMetadata=YKt;var sx={};Object.defineProperty(sx,"__esModule",{value:!0});sx.thawDelegatedAccount=sx.getThawDelegatedAccountInstructionDataSerializer=void 0;const ZKt=Z,tV=q,JKt=Nt,s0e=Ke;function r3e(){return(0,tV.mapSerializer)((0,tV.struct)([["discriminator",(0,tV.u8)()]],{description:"ThawDelegatedAccountInstructionData"}),n=>({...n,discriminator:27}))}sx.getThawDelegatedAccountInstructionDataSerializer=r3e;function XKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegate:{index:0,isWritable:!0,value:e.delegate??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},edition:{index:2,isWritable:!1,value:e.edition??null},mint:{index:3,isWritable:!1,value:e.mint??null},tokenProgram:{index:4,isWritable:!1,value:e.tokenProgram??null}};r.edition.value||(r.edition.value=(0,JKt.findMasterEditionPda)(n,{mint:(0,s0e.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,s0e.getAccountMetasAndSigners)(s,"programId",t),a=r3e().serialize({}),c=0;return(0,ZKt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}sx.thawDelegatedAccount=XKt;var ix={};Object.defineProperty(ix,"__esModule",{value:!0});ix.transferOutOfEscrow=ix.getTransferOutOfEscrowInstructionDataSerializer=void 0;const i0e=Z,X3=q,QKt=Ke;function n3e(){return(0,X3.mapSerializer)((0,X3.struct)([["discriminator",(0,X3.u8)()],["amount",(0,X3.u64)()]],{description:"TransferOutOfEscrowInstructionData"}),n=>({...n,discriminator:40,amount:n.amount??1}))}ix.getTransferOutOfEscrowInstructionDataSerializer=n3e;function e6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!1,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},payer:{index:2,isWritable:!0,value:e.payer??null},attributeMint:{index:3,isWritable:!1,value:e.attributeMint??null},attributeSrc:{index:4,isWritable:!0,value:e.attributeSrc??null},attributeDst:{index:5,isWritable:!0,value:e.attributeDst??null},escrowMint:{index:6,isWritable:!1,value:e.escrowMint??null},escrowAccount:{index:7,isWritable:!1,value:e.escrowAccount??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},ataProgram:{index:9,isWritable:!1,value:e.ataProgram??null},tokenProgram:{index:10,isWritable:!1,value:e.tokenProgram??null},sysvarInstructions:{index:11,isWritable:!1,value:e.sysvarInstructions??null},authority:{index:12,isWritable:!1,value:e.authority??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,i0e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,QKt.getAccountMetasAndSigners)(i,"omitted",t),c=n3e().serialize(s),u=0;return(0,i0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ix.transferOutOfEscrow=e6t;var ox={};Object.defineProperty(ox,"__esModule",{value:!0});ox.transferV1=ox.getTransferV1InstructionDataSerializer=void 0;const o0e=Gs,aH=Z,lv=q,Q3=Nt,Hl=Ke,ND=lt;function s3e(){return(0,lv.mapSerializer)((0,lv.struct)([["discriminator",(0,lv.u8)()],["transferV1Discriminator",(0,lv.u8)()],["amount",(0,lv.u64)()],["authorizationData",(0,lv.option)((0,ND.getAuthorizationDataSerializer)())]],{description:"TransferV1InstructionData"}),n=>({...n,discriminator:49,transferV1Discriminator:0,amount:n.amount??1,authorizationData:n.authorizationData??(0,aH.none)()}))}ox.getTransferV1InstructionDataSerializer=s3e;function t6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={token:{index:0,isWritable:!0,value:e.token??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},destinationToken:{index:2,isWritable:!0,value:e.destinationToken??null},destinationOwner:{index:3,isWritable:!1,value:e.destinationOwner??null},mint:{index:4,isWritable:!1,value:e.mint??null},metadata:{index:5,isWritable:!0,value:e.metadata??null},edition:{index:6,isWritable:!1,value:e.edition??null},tokenRecord:{index:7,isWritable:!0,value:e.tokenRecord??null},destinationTokenRecord:{index:8,isWritable:!0,value:e.destinationTokenRecord??null},authority:{index:9,isWritable:!1,value:e.authority??null},payer:{index:10,isWritable:!0,value:e.payer??null},systemProgram:{index:11,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:12,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:13,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:14,isWritable:!1,value:e.splAtaProgram??null},authorizationRulesProgram:{index:15,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:16,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.tokenOwner.value||(r.tokenOwner.value=n.identity.publicKey),r.token.value||(r.token.value=(0,o0e.findAssociatedTokenPda)(n,{mint:(0,Hl.expectPublicKey)(r.mint.value),owner:(0,Hl.expectPublicKey)(r.tokenOwner.value)})),r.destinationToken.value||(r.destinationToken.value=(0,o0e.findAssociatedTokenPda)(n,{mint:(0,Hl.expectPublicKey)(r.mint.value),owner:(0,Hl.expectPublicKey)(r.destinationOwner.value)})),r.metadata.value||(r.metadata.value=(0,Q3.findMetadataPda)(n,{mint:(0,Hl.expectPublicKey)(r.mint.value)})),r.edition.value||s.tokenStandard===ND.TokenStandard.ProgrammableNonFungible&&(r.edition.value=(0,Q3.findMasterEditionPda)(n,{mint:(0,Hl.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===ND.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,Q3.findTokenRecordPda)(n,{mint:(0,Hl.expectPublicKey)(r.mint.value),token:(0,Hl.expectPublicKey)(r.token.value)})),r.destinationTokenRecord.value||s.tokenStandard===ND.TokenStandard.ProgrammableNonFungible&&(r.destinationTokenRecord.value=(0,Q3.findTokenRecordPda)(n,{token:(0,Hl.expectPublicKey)(r.destinationToken.value),mint:(0,Hl.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,aH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Hl.getAccountMetasAndSigners)(i,"programId",t),c=s3e().serialize(s),u=0;return(0,aH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ox.transferV1=t6t;var ax={};Object.defineProperty(ax,"__esModule",{value:!0});ax.unlockV1=ax.getUnlockV1InstructionDataSerializer=void 0;const r6t=Gs,cH=Z,f2=q,a0e=an,rV=Nt,H0=Ke,uH=lt;function i3e(){return(0,f2.mapSerializer)((0,f2.struct)([["discriminator",(0,f2.u8)()],["unlockV1Discriminator",(0,f2.u8)()],["authorizationData",(0,f2.option)((0,uH.getAuthorizationDataSerializer)())]],{description:"UnlockV1InstructionData"}),n=>({...n,discriminator:47,unlockV1Discriminator:0,authorizationData:n.authorizationData??(0,cH.none)()}))}ax.getUnlockV1InstructionDataSerializer=i3e;function n6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},tokenRecord:{index:6,isWritable:!0,value:e.tokenRecord??null},payer:{index:7,isWritable:!0,value:e.payer??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:9,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:10,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:11,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:12,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,a0e.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,r6t.findAssociatedTokenPda)(n,{mint:(0,H0.expectPublicKey)(r.mint.value),owner:(0,H0.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,rV.findMetadataPda)(n,{mint:(0,H0.expectPublicKey)(r.mint.value)})),r.edition.value||(0,a0e.resolveIsNonFungible)(n,r,s,t,!1)&&(r.edition.value=(0,rV.findMasterEditionPda)(n,{mint:(0,H0.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===uH.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,rV.findTokenRecordPda)(n,{mint:(0,H0.expectPublicKey)(r.mint.value),token:(0,H0.expectPublicKey)(r.token.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,cH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||s.tokenStandard!==uH.TokenStandard.ProgrammableNonFungible&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,H0.getAccountMetasAndSigners)(i,"programId",t),c=i3e().serialize(s),u=0;return(0,cH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ax.unlockV1=n6t;var cx={};Object.defineProperty(cx,"__esModule",{value:!0});cx.unverifyCollection=cx.getUnverifyCollectionInstructionDataSerializer=void 0;const s6t=Z,nV=q,i6t=Ke;function o3e(){return(0,nV.mapSerializer)((0,nV.struct)([["discriminator",(0,nV.u8)()]],{description:"UnverifyCollectionInstructionData"}),n=>({...n,discriminator:22}))}cx.getUnverifyCollectionInstructionDataSerializer=o3e;function o6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},collection:{index:3,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:4,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:5,isWritable:!1,value:e.collectionAuthorityRecord??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,i6t.getAccountMetasAndSigners)(s,"omitted",t),a=o3e().serialize({}),c=0;return(0,s6t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}cx.unverifyCollection=o6t;var ux={};Object.defineProperty(ux,"__esModule",{value:!0});ux.unverifyCollectionV1=ux.getUnverifyCollectionV1InstructionDataSerializer=void 0;const c0e=Z,eD=q,a6t=Nt,u0e=Ke;function a3e(){return(0,eD.mapSerializer)((0,eD.struct)([["discriminator",(0,eD.u8)()],["unverifyCollectionV1Discriminator",(0,eD.u8)()]],{description:"UnverifyCollectionV1InstructionData"}),n=>({...n,discriminator:53,unverifyCollectionV1Discriminator:1}))}ux.getUnverifyCollectionV1InstructionDataSerializer=a3e;function c6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:6,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,a6t.findMetadataPda)(n,{mint:(0,u0e.expectPublicKey)(r.collectionMint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,c0e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,u0e.getAccountMetasAndSigners)(s,"programId",t),a=a3e().serialize({}),c=0;return(0,c0e.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}ux.unverifyCollectionV1=c6t;var lx={};Object.defineProperty(lx,"__esModule",{value:!0});lx.unverifyCreatorV1=lx.getUnverifyCreatorV1InstructionDataSerializer=void 0;const l0e=Z,tD=q,u6t=Ke;function c3e(){return(0,tD.mapSerializer)((0,tD.struct)([["discriminator",(0,tD.u8)()],["unverifyCreatorV1Discriminator",(0,tD.u8)()]],{description:"UnverifyCreatorV1InstructionData"}),n=>({...n,discriminator:53,unverifyCreatorV1Discriminator:0}))}lx.getUnverifyCreatorV1InstructionDataSerializer=c3e;function l6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:6,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,l0e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,u6t.getAccountMetasAndSigners)(s,"programId",t),a=c3e().serialize({}),c=0;return(0,l0e.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}lx.unverifyCreatorV1=l6t;var dx={};Object.defineProperty(dx,"__esModule",{value:!0});dx.unverifySizedCollectionItem=dx.getUnverifySizedCollectionItemInstructionDataSerializer=void 0;const d6t=Z,sV=q,f6t=Ke;function u3e(){return(0,sV.mapSerializer)((0,sV.struct)([["discriminator",(0,sV.u8)()]],{description:"UnverifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:31}))}dx.getUnverifySizedCollectionItemInstructionDataSerializer=u3e;function h6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,f6t.getAccountMetasAndSigners)(s,"omitted",t),a=u3e().serialize({}),c=0;return(0,d6t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}dx.unverifySizedCollectionItem=h6t;var fx={};Object.defineProperty(fx,"__esModule",{value:!0});fx.updateAsAuthorityItemDelegateV2=fx.getUpdateAsAuthorityItemDelegateV2InstructionDataSerializer=void 0;const m1=Z,dl=q,d0e=Nt,h2=Ke,lH=lt;function l3e(){return(0,dl.mapSerializer)((0,dl.struct)([["discriminator",(0,dl.u8)()],["updateAsAuthorityItemDelegateV2Discriminator",(0,dl.u8)()],["newUpdateAuthority",(0,dl.option)((0,dl.publicKey)())],["primarySaleHappened",(0,dl.option)((0,dl.bool)())],["isMutable",(0,dl.option)((0,dl.bool)())],["tokenStandard",(0,dl.option)((0,lH.getTokenStandardSerializer)())],["authorizationData",(0,dl.option)((0,lH.getAuthorizationDataSerializer)())]],{description:"UpdateAsAuthorityItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsAuthorityItemDelegateV2Discriminator:2,newUpdateAuthority:n.newUpdateAuthority??(0,m1.none)(),primarySaleHappened:n.primarySaleHappened??(0,m1.none)(),isMutable:n.isMutable??(0,m1.none)(),tokenStandard:n.tokenStandard??(0,m1.none)(),authorizationData:n.authorizationData??(0,m1.none)()}))}fx.getUpdateAsAuthorityItemDelegateV2InstructionDataSerializer=l3e;function g6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,d0e.findMetadataDelegateRecordPda)(n,{delegateRole:lH.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,h2.expectSome)(s.updateAuthority),delegate:(0,h2.expectPublicKey)(r.authority.value),mint:(0,h2.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,d0e.findMetadataPda)(n,{mint:(0,h2.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,m1.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,h2.getAccountMetasAndSigners)(i,"programId",t),c=l3e().serialize(s),u=0;return(0,m1.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}fx.updateAsAuthorityItemDelegateV2=g6t;var hx={};Object.defineProperty(hx,"__esModule",{value:!0});hx.updateAsCollectionDelegateV2=hx.getUpdateAsCollectionDelegateV2InstructionDataSerializer=void 0;const dH=Z,g2=q,f0e=Nt,dv=Ke,FD=lt;function d3e(){return(0,g2.mapSerializer)((0,g2.struct)([["discriminator",(0,g2.u8)()],["updateAsCollectionDelegateV2Discriminator",(0,g2.u8)()],["collection",(0,FD.getCollectionToggleSerializer)()],["authorizationData",(0,g2.option)((0,FD.getAuthorizationDataSerializer)())]],{description:"UpdateAsCollectionDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsCollectionDelegateV2Discriminator:3,collection:n.collection??(0,FD.collectionToggle)("None"),authorizationData:n.authorizationData??(0,dH.none)()}))}hx.getUpdateAsCollectionDelegateV2InstructionDataSerializer=d3e;function m6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,dv.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,f0e.findMetadataDelegateRecordPda)(n,{mint:(0,dv.expectSome)(s.delegateMint),delegateRole:FD.MetadataDelegateRole.Collection,updateAuthority:(0,dv.expectSome)(s.delegateUpdateAuthority),delegate:(0,dv.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,f0e.findMetadataPda)(n,{mint:(0,dv.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,dH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,dv.getAccountMetasAndSigners)(i,"programId",t),c=d3e().serialize(s),u=0;return(0,dH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}hx.updateAsCollectionDelegateV2=m6t;var gx={};Object.defineProperty(gx,"__esModule",{value:!0});gx.updateAsCollectionItemDelegateV2=gx.getUpdateAsCollectionItemDelegateV2InstructionDataSerializer=void 0;const fH=Z,m2=q,h0e=Nt,y2=Ke,UD=lt;function f3e(){return(0,m2.mapSerializer)((0,m2.struct)([["discriminator",(0,m2.u8)()],["updateAsCollectionItemDelegateV2Discriminator",(0,m2.u8)()],["collection",(0,UD.getCollectionToggleSerializer)()],["authorizationData",(0,m2.option)((0,UD.getAuthorizationDataSerializer)())]],{description:"UpdateAsCollectionItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsCollectionItemDelegateV2Discriminator:7,collection:n.collection??(0,UD.collectionToggle)("None"),authorizationData:n.authorizationData??(0,fH.none)()}))}gx.getUpdateAsCollectionItemDelegateV2InstructionDataSerializer=f3e;function y6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,h0e.findMetadataDelegateRecordPda)(n,{delegateRole:UD.MetadataDelegateRole.CollectionItem,updateAuthority:(0,y2.expectSome)(s.updateAuthority),delegate:(0,y2.expectPublicKey)(r.authority.value),mint:(0,y2.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,h0e.findMetadataPda)(n,{mint:(0,y2.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,fH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,y2.getAccountMetasAndSigners)(i,"programId",t),c=f3e().serialize(s),u=0;return(0,fH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}gx.updateAsCollectionItemDelegateV2=y6t;var mx={};Object.defineProperty(mx,"__esModule",{value:!0});mx.updateAsDataDelegateV2=mx.getUpdateAsDataDelegateV2InstructionDataSerializer=void 0;const s4=Z,fv=q,g0e=Nt,hv=Ke,hH=lt;function h3e(){return(0,fv.mapSerializer)((0,fv.struct)([["discriminator",(0,fv.u8)()],["updateAsDataDelegateV2Discriminator",(0,fv.u8)()],["data",(0,fv.option)((0,hH.getDataSerializer)())],["authorizationData",(0,fv.option)((0,hH.getAuthorizationDataSerializer)())]],{description:"UpdateAsDataDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsDataDelegateV2Discriminator:4,data:n.data??(0,s4.none)(),authorizationData:n.authorizationData??(0,s4.none)()}))}mx.getUpdateAsDataDelegateV2InstructionDataSerializer=h3e;function p6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,hv.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,g0e.findMetadataDelegateRecordPda)(n,{mint:(0,hv.expectSome)(s.delegateMint),delegateRole:hH.MetadataDelegateRole.Data,updateAuthority:(0,hv.expectSome)(s.delegateUpdateAuthority),delegate:(0,hv.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,g0e.findMetadataPda)(n,{mint:(0,hv.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,s4.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,hv.getAccountMetasAndSigners)(i,"programId",t),c=h3e().serialize(s),u=0;return(0,s4.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}mx.updateAsDataDelegateV2=p6t;var yx={};Object.defineProperty(yx,"__esModule",{value:!0});yx.updateAsDataItemDelegateV2=yx.getUpdateAsDataItemDelegateV2InstructionDataSerializer=void 0;const i4=Z,gv=q,m0e=Nt,p2=Ke,gH=lt;function g3e(){return(0,gv.mapSerializer)((0,gv.struct)([["discriminator",(0,gv.u8)()],["updateAsDataItemDelegateV2Discriminator",(0,gv.u8)()],["data",(0,gv.option)((0,gH.getDataSerializer)())],["authorizationData",(0,gv.option)((0,gH.getAuthorizationDataSerializer)())]],{description:"UpdateAsDataItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsDataItemDelegateV2Discriminator:6,data:n.data??(0,i4.none)(),authorizationData:n.authorizationData??(0,i4.none)()}))}yx.getUpdateAsDataItemDelegateV2InstructionDataSerializer=g3e;function b6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,m0e.findMetadataDelegateRecordPda)(n,{delegateRole:gH.MetadataDelegateRole.DataItem,updateAuthority:(0,p2.expectSome)(s.updateAuthority),delegate:(0,p2.expectPublicKey)(r.authority.value),mint:(0,p2.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,m0e.findMetadataPda)(n,{mint:(0,p2.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,i4.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,p2.getAccountMetasAndSigners)(i,"programId",t),c=g3e().serialize(s),u=0;return(0,i4.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}yx.updateAsDataItemDelegateV2=b6t;var px={};Object.defineProperty(px,"__esModule",{value:!0});px.updateAsProgrammableConfigDelegateV2=px.getUpdateAsProgrammableConfigDelegateV2InstructionDataSerializer=void 0;const mH=Z,b2=q,y0e=Nt,mv=Ke,VD=lt;function m3e(){return(0,b2.mapSerializer)((0,b2.struct)([["discriminator",(0,b2.u8)()],["updateAsProgrammableConfigDelegateV2Discriminator",(0,b2.u8)()],["ruleSet",(0,VD.getRuleSetToggleSerializer)()],["authorizationData",(0,b2.option)((0,VD.getAuthorizationDataSerializer)())]],{description:"UpdateAsProgrammableConfigDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsProgrammableConfigDelegateV2Discriminator:5,ruleSet:n.ruleSet??(0,VD.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,mH.none)()}))}px.getUpdateAsProgrammableConfigDelegateV2InstructionDataSerializer=m3e;function S6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,mv.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,y0e.findMetadataDelegateRecordPda)(n,{mint:(0,mv.expectSome)(s.delegateMint),delegateRole:VD.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,mv.expectSome)(s.delegateUpdateAuthority),delegate:(0,mv.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,y0e.findMetadataPda)(n,{mint:(0,mv.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,mH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,mv.getAccountMetasAndSigners)(i,"programId",t),c=m3e().serialize(s),u=0;return(0,mH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}px.updateAsProgrammableConfigDelegateV2=S6t;var bx={};Object.defineProperty(bx,"__esModule",{value:!0});bx.updateAsProgrammableConfigItemDelegateV2=bx.getUpdateAsProgrammableConfigItemDelegateV2InstructionDataSerializer=void 0;const yH=Z,S2=q,p0e=Nt,k2=Ke,qD=lt;function y3e(){return(0,S2.mapSerializer)((0,S2.struct)([["discriminator",(0,S2.u8)()],["updateAsProgrammableConfigItemDelegateV2Discriminator",(0,S2.u8)()],["ruleSet",(0,qD.getRuleSetToggleSerializer)()],["authorizationData",(0,S2.option)((0,qD.getAuthorizationDataSerializer)())]],{description:"UpdateAsProgrammableConfigItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsProgrammableConfigItemDelegateV2Discriminator:8,ruleSet:n.ruleSet??(0,qD.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,yH.none)()}))}bx.getUpdateAsProgrammableConfigItemDelegateV2InstructionDataSerializer=y3e;function k6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,p0e.findMetadataDelegateRecordPda)(n,{delegateRole:qD.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,k2.expectSome)(s.updateAuthority),delegate:(0,k2.expectPublicKey)(r.authority.value),mint:(0,k2.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,p0e.findMetadataPda)(n,{mint:(0,k2.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,yH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,k2.getAccountMetasAndSigners)(i,"programId",t),c=y3e().serialize(s),u=0;return(0,yH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}bx.updateAsProgrammableConfigItemDelegateV2=k6t;var Sx={};Object.defineProperty(Sx,"__esModule",{value:!0});Sx.updateAsUpdateAuthorityV2=Sx.getUpdateAsUpdateAuthorityV2InstructionDataSerializer=void 0;const ky=Z,Bu=q,v6t=Nt,b0e=Ke,Gl=lt;function p3e(){return(0,Bu.mapSerializer)((0,Bu.struct)([["discriminator",(0,Bu.u8)()],["updateAsUpdateAuthorityV2Discriminator",(0,Bu.u8)()],["newUpdateAuthority",(0,Bu.option)((0,Bu.publicKey)())],["data",(0,Bu.option)((0,Gl.getDataSerializer)())],["primarySaleHappened",(0,Bu.option)((0,Bu.bool)())],["isMutable",(0,Bu.option)((0,Bu.bool)())],["collection",(0,Gl.getCollectionToggleSerializer)()],["collectionDetails",(0,Gl.getCollectionDetailsToggleSerializer)()],["uses",(0,Gl.getUsesToggleSerializer)()],["ruleSet",(0,Gl.getRuleSetToggleSerializer)()],["tokenStandard",(0,Bu.option)((0,Gl.getTokenStandardSerializer)())],["authorizationData",(0,Bu.option)((0,Gl.getAuthorizationDataSerializer)())]],{description:"UpdateAsUpdateAuthorityV2InstructionData"}),n=>({...n,discriminator:50,updateAsUpdateAuthorityV2Discriminator:1,newUpdateAuthority:n.newUpdateAuthority??(0,ky.none)(),data:n.data??(0,ky.none)(),primarySaleHappened:n.primarySaleHappened??(0,ky.none)(),isMutable:n.isMutable??(0,ky.none)(),collection:n.collection??(0,Gl.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,Gl.collectionDetailsToggle)("None"),uses:n.uses??(0,Gl.usesToggle)("None"),ruleSet:n.ruleSet??(0,Gl.ruleSetToggle)("None"),tokenStandard:n.tokenStandard??(0,ky.none)(),authorizationData:n.authorizationData??(0,ky.none)()}))}Sx.getUpdateAsUpdateAuthorityV2InstructionDataSerializer=p3e;function A6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,v6t.findMetadataPda)(n,{mint:(0,b0e.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,ky.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,b0e.getAccountMetasAndSigners)(i,"programId",t),c=p3e().serialize(s),u=0;return(0,ky.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Sx.updateAsUpdateAuthorityV2=A6t;var kx={};Object.defineProperty(kx,"__esModule",{value:!0});kx.updateMetadataAccountV2=kx.getUpdateMetadataAccountV2InstructionDataSerializer=void 0;const T2=Z,Yd=q,w6t=Ke,I6t=lt;function b3e(){return(0,Yd.mapSerializer)((0,Yd.struct)([["discriminator",(0,Yd.u8)()],["data",(0,Yd.option)((0,I6t.getDataV2Serializer)())],["newUpdateAuthority",(0,Yd.option)((0,Yd.publicKey)())],["primarySaleHappened",(0,Yd.option)((0,Yd.bool)())],["isMutable",(0,Yd.option)((0,Yd.bool)())]],{description:"UpdateMetadataAccountV2InstructionData"}),n=>({...n,discriminator:15,data:n.data??(0,T2.none)(),newUpdateAuthority:n.newUpdateAuthority??(0,T2.none)(),primarySaleHappened:n.primarySaleHappened??(0,T2.none)(),isMutable:n.isMutable??(0,T2.none)()}))}kx.getUpdateMetadataAccountV2InstructionDataSerializer=b3e;function P6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},updateAuthority:{index:1,isWritable:!1,value:e.updateAuthority??null}},s={...e};r.updateAuthority.value||(r.updateAuthority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,w6t.getAccountMetasAndSigners)(i,"programId",t),c=b3e().serialize(s),u=0;return(0,T2.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}kx.updateMetadataAccountV2=P6t;var vx={};Object.defineProperty(vx,"__esModule",{value:!0});vx.updatePrimarySaleHappenedViaToken=vx.getUpdatePrimarySaleHappenedViaTokenInstructionDataSerializer=void 0;const _6t=Z,iV=q,E6t=Ke;function S3e(){return(0,iV.mapSerializer)((0,iV.struct)([["discriminator",(0,iV.u8)()]],{description:"UpdatePrimarySaleHappenedViaTokenInstructionData"}),n=>({...n,discriminator:4}))}vx.getUpdatePrimarySaleHappenedViaTokenInstructionDataSerializer=S3e;function x6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!1,value:e.owner??null},token:{index:2,isWritable:!1,value:e.token??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,E6t.getAccountMetasAndSigners)(s,"programId",t),a=S3e().serialize({}),c=0;return(0,_6t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}vx.updatePrimarySaleHappenedViaToken=x6t;var Ax={};Object.defineProperty(Ax,"__esModule",{value:!0});Ax.updateV1=Ax.getUpdateV1InstructionDataSerializer=void 0;const y1=Z,fl=q,T6t=Nt,S0e=Ke,Zd=lt;function k3e(){return(0,fl.mapSerializer)((0,fl.struct)([["discriminator",(0,fl.u8)()],["updateV1Discriminator",(0,fl.u8)()],["newUpdateAuthority",(0,fl.option)((0,fl.publicKey)())],["data",(0,fl.option)((0,Zd.getDataSerializer)())],["primarySaleHappened",(0,fl.option)((0,fl.bool)())],["isMutable",(0,fl.option)((0,fl.bool)())],["collection",(0,Zd.getCollectionToggleSerializer)()],["collectionDetails",(0,Zd.getCollectionDetailsToggleSerializer)()],["uses",(0,Zd.getUsesToggleSerializer)()],["ruleSet",(0,Zd.getRuleSetToggleSerializer)()],["authorizationData",(0,fl.option)((0,Zd.getAuthorizationDataSerializer)())]],{description:"UpdateV1InstructionData"}),n=>({...n,discriminator:50,updateV1Discriminator:0,newUpdateAuthority:n.newUpdateAuthority??(0,y1.none)(),data:n.data??(0,y1.none)(),primarySaleHappened:n.primarySaleHappened??(0,y1.none)(),isMutable:n.isMutable??(0,y1.none)(),collection:n.collection??(0,Zd.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,Zd.collectionDetailsToggle)("None"),uses:n.uses??(0,Zd.usesToggle)("None"),ruleSet:n.ruleSet??(0,Zd.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,y1.none)()}))}Ax.getUpdateV1InstructionDataSerializer=k3e;function R6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,T6t.findMetadataPda)(n,{mint:(0,S0e.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,y1.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,S0e.getAccountMetasAndSigners)(i,"programId",t),c=k3e().serialize(s),u=0;return(0,y1.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Ax.updateV1=R6t;var wx={};Object.defineProperty(wx,"__esModule",{value:!0});wx.useV1=wx.getUseV1InstructionDataSerializer=void 0;const pH=Z,v2=q,C6t=Nt,k0e=Ke,M6t=lt;function v3e(){return(0,v2.mapSerializer)((0,v2.struct)([["discriminator",(0,v2.u8)()],["useV1Discriminator",(0,v2.u8)()],["authorizationData",(0,v2.option)((0,M6t.getAuthorizationDataSerializer)())]],{description:"UseV1InstructionData"}),n=>({...n,discriminator:51,useV1Discriminator:0,authorizationData:n.authorizationData??(0,pH.none)()}))}wx.getUseV1InstructionDataSerializer=v3e;function B6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!0,value:e.delegateRecord??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!0,value:e.edition??null},payer:{index:6,isWritable:!1,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:9,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:10,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:11,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,C6t.findMetadataPda)(n,{mint:(0,k0e.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,pH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,k0e.getAccountMetasAndSigners)(i,"programId",t),c=v3e().serialize(s),u=0;return(0,pH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}wx.useV1=B6t;var Ix={};Object.defineProperty(Ix,"__esModule",{value:!0});Ix.utilize=Ix.getUtilizeInstructionDataSerializer=void 0;const v0e=Z,rD=q,z6t=Nt,A0e=Ke;function A3e(){return(0,rD.mapSerializer)((0,rD.struct)([["discriminator",(0,rD.u8)()],["numberOfUses",(0,rD.u64)()]],{description:"UtilizeInstructionData"}),n=>({...n,discriminator:19}))}Ix.getUtilizeInstructionDataSerializer=A3e;function $6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},mint:{index:2,isWritable:!0,value:e.mint??null},useAuthority:{index:3,isWritable:!0,value:e.useAuthority??null},owner:{index:4,isWritable:!1,value:e.owner??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null},ataProgram:{index:6,isWritable:!1,value:e.ataProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null},useAuthorityRecord:{index:9,isWritable:!0,value:e.useAuthorityRecord??null},burner:{index:10,isWritable:!1,value:e.burner??null}},s={...e};r.metadata.value||(r.metadata.value=(0,z6t.findMetadataPda)(n,{mint:(0,A0e.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.rent.value||(r.rent.value=(0,v0e.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,A0e.getAccountMetasAndSigners)(i,"omitted",t),c=A3e().serialize(s),u=0;return(0,v0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Ix.utilize=$6t;var Px={};Object.defineProperty(Px,"__esModule",{value:!0});Px.verifyCollection=Px.getVerifyCollectionInstructionDataSerializer=void 0;const D6t=Z,oV=q,O6t=Ke;function w3e(){return(0,oV.mapSerializer)((0,oV.struct)([["discriminator",(0,oV.u8)()]],{description:"VerifyCollectionInstructionData"}),n=>({...n,discriminator:18}))}Px.getVerifyCollectionInstructionDataSerializer=w3e;function K6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,O6t.getAccountMetasAndSigners)(s,"omitted",t),a=w3e().serialize({}),c=0;return(0,D6t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Px.verifyCollection=K6t;var _x={};Object.defineProperty(_x,"__esModule",{value:!0});_x.verifyCollectionV1=_x.getVerifyCollectionV1InstructionDataSerializer=void 0;const w0e=Z,nD=q,I0e=Nt,aV=Ke;function I3e(){return(0,nD.mapSerializer)((0,nD.struct)([["discriminator",(0,nD.u8)()],["verifyCollectionV1Discriminator",(0,nD.u8)()]],{description:"VerifyCollectionV1InstructionData"}),n=>({...n,discriminator:52,verifyCollectionV1Discriminator:1}))}_x.getVerifyCollectionV1InstructionDataSerializer=I3e;function L6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},collectionMasterEdition:{index:5,isWritable:!1,value:e.collectionMasterEdition??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,I0e.findMetadataPda)(n,{mint:(0,aV.expectPublicKey)(r.collectionMint.value)})),r.collectionMasterEdition.value||(r.collectionMasterEdition.value=(0,I0e.findMasterEditionPda)(n,{mint:(0,aV.expectPublicKey)(r.collectionMint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,w0e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,aV.getAccountMetasAndSigners)(s,"programId",t),a=I3e().serialize({}),c=0;return(0,w0e.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}_x.verifyCollectionV1=L6t;var Ex={};Object.defineProperty(Ex,"__esModule",{value:!0});Ex.verifyCreatorV1=Ex.getVerifyCreatorV1InstructionDataSerializer=void 0;const P0e=Z,sD=q,W6t=Ke;function P3e(){return(0,sD.mapSerializer)((0,sD.struct)([["discriminator",(0,sD.u8)()],["verifyCreatorV1Discriminator",(0,sD.u8)()]],{description:"VerifyCreatorV1InstructionData"}),n=>({...n,discriminator:52,verifyCreatorV1Discriminator:0}))}Ex.getVerifyCreatorV1InstructionDataSerializer=P3e;function N6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},collectionMasterEdition:{index:5,isWritable:!1,value:e.collectionMasterEdition??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,P0e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,W6t.getAccountMetasAndSigners)(s,"programId",t),a=P3e().serialize({}),c=0;return(0,P0e.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Ex.verifyCreatorV1=N6t;var xx={};Object.defineProperty(xx,"__esModule",{value:!0});xx.verifySizedCollectionItem=xx.getVerifySizedCollectionItemInstructionDataSerializer=void 0;const F6t=Z,cV=q,U6t=Ke;function _3e(){return(0,cV.mapSerializer)((0,cV.struct)([["discriminator",(0,cV.u8)()]],{description:"VerifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:30}))}xx.getVerifySizedCollectionItemInstructionDataSerializer=_3e;function V6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,U6t.getAccountMetasAndSigners)(s,"omitted",t),a=_3e().serialize({}),c=0;return(0,F6t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}xx.verifySizedCollectionItem=V6t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Z_,n),t(J_,n),t(X_,n),t(Q_,n),t(eE,n),t(tE,n),t(rE,n),t(nE,n),t(sE,n),t(iE,n),t(oE,n),t(aE,n),t(cE,n),t(uE,n),t(lE,n),t(dE,n),t(fE,n),t(hE,n),t(gE,n),t(mE,n),t(yE,n),t(pE,n),t(bE,n),t(SE,n),t(kE,n),t(vE,n),t(AE,n),t(wE,n),t(IE,n),t(PE,n),t(_E,n),t(EE,n),t(xE,n),t(TE,n),t(RE,n),t(CE,n),t(ME,n),t(BE,n),t(zE,n),t($E,n),t(DE,n),t(OE,n),t(KE,n),t(LE,n),t(WE,n),t(NE,n),t(FE,n),t(UE,n),t(VE,n),t(qE,n),t(jE,n),t(HE,n),t(GE,n),t(YE,n),t(ZE,n),t(JE,n),t(XE,n),t(QE,n),t(ex,n),t(tx,n),t(rx,n),t(nx,n),t(sx,n),t(ix,n),t(ox,n),t(ax,n),t(cx,n),t(ux,n),t(lx,n),t(dx,n),t(fx,n),t(hx,n),t(gx,n),t(mx,n),t(yx,n),t(px,n),t(bx,n),t(Sx,n),t(kx,n),t(vx,n),t(Ax,n),t(wx,n),t(Ix,n),t(Px,n),t(_x,n),t(Ex,n),t(xx,n)})(z$e);var E3e={},x3e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplTokenMetadataProgramId=n.getMplTokenMetadataProgram=n.createMplTokenMetadataProgram=n.MPL_TOKEN_METADATA_PROGRAM_ID=void 0;const e=rie;n.MPL_TOKEN_METADATA_PROGRAM_ID="metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s";function t(){return{name:"mplTokenMetadata",publicKey:n.MPL_TOKEN_METADATA_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplTokenMetadataErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplTokenMetadataErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplTokenMetadataProgram=t;function r(i,o){return i.programs.get("mplTokenMetadata",o)}n.getMplTokenMetadataProgram=r;function s(i,o){return i.programs.getPublicKey("mplTokenMetadata",n.MPL_TOKEN_METADATA_PROGRAM_ID,o)}n.getMplTokenMetadataProgramId=s})(x3e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(x3e,n)})(E3e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Nt,n),t(rie,n),t(z$e,n),t(E3e,n),t(Ke,n),t(lt,n)})(Fb);var T3e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFungibleAsset=n.createFungible=n.createProgrammableNft=n.createNft=n.createAndMint=void 0;const e=Z,t=Fb,r=(c,u)=>(0,e.transactionBuilder)().add((0,t.createV1)(c,u)).add((0,t.mintV1)(c,{...u,mint:(0,e.publicKey)(u.mint)}));n.createAndMint=r;const s=(c,u)=>(0,n.createAndMint)(c,{...u,tokenStandard:t.TokenStandard.NonFungible,amount:1});n.createNft=s;const i=(c,u)=>(0,n.createAndMint)(c,{...u,tokenStandard:t.TokenStandard.ProgrammableNonFungible,amount:1});n.createProgrammableNft=i;const o=(c,u)=>(0,t.createV1)(c,{...u,tokenStandard:t.TokenStandard.Fungible});n.createFungible=o;const a=(c,u)=>(0,t.createV1)(c,{...u,tokenStandard:t.TokenStandard.FungibleAsset});n.createFungibleAsset=a})(T3e);var Pc={};Object.defineProperty(Pc,"__esModule",{value:!0});Pc.deserializeDigitalAssetWithToken=Pc.fetchAllDigitalAssetWithTokenByMint=Pc.fetchAllDigitalAssetWithTokenByOwnerAndMint=Pc.fetchAllDigitalAssetWithTokenByOwner=Pc.fetchDigitalAssetWithTokenByMint=Pc.fetchDigitalAssetWithAssociatedToken=Pc.fetchDigitalAssetWithToken=void 0;const Kp=Z,c5=Gs,R3e=a5,od=Fb;async function C3e(n,e,t,r){const[s,i,o,a,c]=await n.rpc.getAccounts([e,(0,od.findMetadataPda)(n,{mint:e})[0],(0,od.findMasterEditionPda)(n,{mint:e})[0],t,(0,od.findTokenRecordPda)(n,{mint:e,token:t})[0]],r);return(0,Kp.assertAccountExists)(s,"Mint"),(0,Kp.assertAccountExists)(i,"Metadata"),(0,Kp.assertAccountExists)(a,"Token"),Vce(s,i,a,o.exists?o:void 0,c.exists?c:void 0)}Pc.fetchDigitalAssetWithToken=C3e;async function q6t(n,e,t,r){const[s]=(0,c5.findAssociatedTokenPda)(n,{mint:e,owner:t});return C3e(n,e,s,r)}Pc.fetchDigitalAssetWithAssociatedToken=q6t;async function j6t(n,e,t){const r=await B3e(n,e,t);if(r.length===0)throw new Error("No valid token accounts found for the provided mint");if(r.length>1)throw new Error("Multiple valid token accounts found for the provided mintuse `fetchAllDigitalAssetWithTokenByMint` instead to retrieve them all.");return r[0]}Pc.fetchDigitalAssetWithTokenByMint=j6t;async function M3e(n,e,t){const r=await(0,c5.fetchAllTokenByOwner)(n,e,t),s=r.flatMap(o=>[o.mint,(0,od.findMetadataPda)(n,{mint:o.mint})[0],(0,od.findMasterEditionPda)(n,{mint:o.mint})[0],(0,od.findTokenRecordPda)(n,{mint:o.mint,token:o.publicKey})[0]]),i=await n.rpc.getAccounts(s,t);return(0,Kp.zipMap)(r,(0,Kp.chunk)(i,4),(o,a)=>{if(!a||a.length!==4)return[];const[c,u,l,d]=a;if(!c.exists||!u.exists)return[];try{return[{...(0,R3e.deserializeDigitalAsset)(c,u,l.exists?l:void 0),token:o,tokenRecord:d.exists?(0,od.deserializeTokenRecord)(d):void 0}]}catch{return[]}}).flat()}Pc.fetchAllDigitalAssetWithTokenByOwner=M3e;function H6t(n,e,t,r){return M3e(n,e,{...r,mint:t})}Pc.fetchAllDigitalAssetWithTokenByOwnerAndMint=H6t;async function B3e(n,e,t){const s=(await(0,c5.findLargestTokensByMint)(n,e,t)).filter(d=>d.amount.basisPoints>0).map(d=>d.publicKey),i=[e,(0,od.findMetadataPda)(n,{mint:e})[0],(0,od.findMasterEditionPda)(n,{mint:e})[0]];i.push(...s.flatMap(d=>[d,(0,od.findTokenRecordPda)(n,{mint:e,token:d})[0]]));const o=await n.rpc.getAccounts(i,t),[a,c,u,...l]=o;return(0,Kp.assertAccountExists)(a,"Mint"),(0,Kp.assertAccountExists)(c,"Metadata"),(0,Kp.chunk)(l,2).flatMap(([d,y])=>d.exists?[Vce(a,c,d,u.exists?u:void 0,y.exists?y:void 0)]:[])}Pc.fetchAllDigitalAssetWithTokenByMint=B3e;function Vce(n,e,t,r,s){return{...(0,R3e.deserializeDigitalAsset)(n,e,r),token:(0,c5.deserializeToken)(t),tokenRecord:s?(0,od.deserializeTokenRecord)(s):void 0}}Pc.deserializeDigitalAssetWithToken=Vce;var u5={};Object.defineProperty(u5,"__esModule",{value:!0});u5.fetchJsonMetadata=void 0;const G6t=Ub,Y6t=async(n,e)=>{try{return await n.downloader.downloadJson(e)}catch(t){throw new G6t.TokenMetadataError(`Failed to fetch JSON metadata from ${e}`,t)}};u5.fetchJsonMetadata=Y6t;var l5={};Object.defineProperty(l5,"__esModule",{value:!0});l5.mplTokenMetadata=void 0;const Z6t=Gs,J6t=Fb,X6t=()=>({install(n){n.use((0,Z6t.mplToolbox)()),n.programs.add((0,J6t.createMplTokenMetadataProgram)(),!1)}});l5.mplTokenMetadata=X6t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Fb,n),t(an,n),t(T3e,n),t(a5,n),t(Pc,n),t(Ub,n),t(u5,n),t(l5,n)})(CBe);var d5={},qce={},f5={},_c={},Yz={},wk={};Object.defineProperty(wk,"__esModule",{value:!0});var Q6t=lc;function eLt(n){return n.toBase58()}function tLt(n){return new Q6t.PublicKey(n)}wk.fromWeb3JsPublicKey=eLt;wk.toWeb3JsPublicKey=tLt;Object.defineProperty(Yz,"__esModule",{value:!0});var rLt=lc,nLt=V,o4=wk;function sLt(n){return{keys:n.keys.map(e=>({...e,pubkey:o4.fromWeb3JsPublicKey(e.pubkey)})),programId:o4.fromWeb3JsPublicKey(n.programId),data:new Uint8Array(n.data)}}function iLt(n){return new rLt.TransactionInstruction({keys:n.keys.map(e=>({...e,pubkey:o4.toWeb3JsPublicKey(e.pubkey)})),programId:o4.toWeb3JsPublicKey(n.programId),data:nLt.Buffer.from(n.data)})}Yz.fromWeb3JsInstruction=sLt;Yz.toWeb3JsInstruction=iLt;var h5={};Object.defineProperty(h5,"__esModule",{value:!0});var oLt=Z,aLt=lc,cLt=wk;function uLt(n){return{publicKey:cLt.fromWeb3JsPublicKey(n.publicKey),secretKey:n.secretKey}}function lLt(n){return new aLt.Keypair({publicKey:oLt.publicKeyBytes(n.publicKey),secretKey:n.secretKey})}h5.fromWeb3JsKeypair=uLt;h5.toWeb3JsKeypair=lLt;var fR={},hR={};Object.defineProperty(hR,"__esModule",{value:!0});var dLt=Z,J2=lc,_0e=Yz,Ng=wk;function fLt(n){return{version:n.version,header:n.header,accounts:n.staticAccountKeys.map(Ng.fromWeb3JsPublicKey),blockhash:n.recentBlockhash,instructions:n.compiledInstructions.map(e=>({programIndex:e.programIdIndex,accountIndexes:e.accountKeyIndexes,data:new Uint8Array(e.data)})),addressLookupTables:n.addressTableLookups.map(e=>({publicKey:Ng.fromWeb3JsPublicKey(e.accountKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))}}function hLt(n){return n.version==="legacy"?new J2.Message({header:n.header,accountKeys:n.accounts.map(Ng.toWeb3JsPublicKey),recentBlockhash:n.blockhash,instructions:n.instructions.map(e=>({programIdIndex:e.programIndex,accounts:e.accountIndexes,data:dLt.base58.deserialize(e.data)[0]}))}):new J2.MessageV0({header:n.header,staticAccountKeys:n.accounts.map(Ng.toWeb3JsPublicKey),recentBlockhash:n.blockhash,compiledInstructions:n.instructions.map(e=>({programIdIndex:e.programIndex,accountKeyIndexes:e.accountIndexes,data:e.data})),addressTableLookups:n.addressLookupTables.map(e=>({accountKey:Ng.toWeb3JsPublicKey(e.publicKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))})}function gLt(n){var e;return n.version==="legacy"?J2.Message.compile({payerKey:Ng.toWeb3JsPublicKey(n.payer),instructions:n.instructions.map(_0e.toWeb3JsInstruction),recentBlockhash:n.blockhash}):J2.MessageV0.compile({payerKey:Ng.toWeb3JsPublicKey(n.payer),instructions:n.instructions.map(_0e.toWeb3JsInstruction),recentBlockhash:n.blockhash,addressLookupTableAccounts:(e=n.addressLookupTables)==null?void 0:e.map(t=>new J2.AddressLookupTableAccount({key:Ng.toWeb3JsPublicKey(t.publicKey),state:{addresses:t.addresses.map(Ng.toWeb3JsPublicKey),authority:void 0,deactivationSlot:BigInt(`0x${"ff".repeat(8)}`),lastExtendedSlot:0,lastExtendedSlotStartIndex:0}}))})}hR.fromWeb3JsMessage=fLt;hR.toWeb3JsMessage=hLt;hR.toWeb3JsMessageFromInput=gLt;Object.defineProperty(fR,"__esModule",{value:!0});var mLt=Z,jce=lc,Hce=hR;function yLt(n){return{message:Hce.fromWeb3JsMessage(n.message),serializedMessage:n.message.serialize(),signatures:n.signatures}}function z3e(n){return new jce.VersionedTransaction(Hce.toWeb3JsMessage(n.message),n.signatures)}function pLt(n){const e=n.compileMessage(),t=n.signatures.reduce((s,i)=>(s[i.publicKey.toBase58()]=i.signature?new Uint8Array(i.signature):null,s),{}),r=[];for(let s=0;s<e.header.numRequiredSignatures;s+=1){const i=e.accountKeys[s].toBase58(),o=t[i]??null;r.push(o??new Uint8Array(jce.SIGNATURE_LENGTH_IN_BYTES))}return{message:Hce.fromWeb3JsMessage(e),serializedMessage:e.serialize(),signatures:r}}function bLt(n){const e=z3e({...n,message:{...n.message,version:"legacy"}});return jce.Transaction.populate(e.message,e.signatures.map(t=>mLt.base58.deserialize(t)[0]))}fR.fromWeb3JsLegacyTransaction=pLt;fR.fromWeb3JsTransaction=yLt;fR.toWeb3JsLegacyTransaction=bLt;fR.toWeb3JsTransaction=z3e;Object.defineProperty(_c,"__esModule",{value:!0});var $3e=Yz,D3e=h5,O3e=wk,g5=fR,Gce=hR;_c.fromWeb3JsInstruction=$3e.fromWeb3JsInstruction;_c.toWeb3JsInstruction=$3e.toWeb3JsInstruction;_c.fromWeb3JsKeypair=D3e.fromWeb3JsKeypair;_c.toWeb3JsKeypair=D3e.toWeb3JsKeypair;_c.fromWeb3JsPublicKey=O3e.fromWeb3JsPublicKey;_c.toWeb3JsPublicKey=O3e.toWeb3JsPublicKey;_c.fromWeb3JsLegacyTransaction=g5.fromWeb3JsLegacyTransaction;_c.fromWeb3JsTransaction=g5.fromWeb3JsTransaction;_c.toWeb3JsLegacyTransaction=g5.toWeb3JsLegacyTransaction;_c.toWeb3JsTransaction=g5.toWeb3JsTransaction;_c.fromWeb3JsMessage=Gce.fromWeb3JsMessage;_c.toWeb3JsMessage=Gce.toWeb3JsMessage;_c.toWeb3JsMessageFromInput=Gce.toWeb3JsMessageFromInput;var K3e={},Ka={},Lp={},Md={};Object.defineProperty(Md,"__esModule",{value:!0});Md.isBytes=W3e;Md.number=a4;Md.bool=L3e;Md.bytes=Yce;Md.hash=N3e;Md.exists=F3e;Md.output=U3e;function a4(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function L3e(n){if(typeof n!="boolean")throw new Error(`boolean expected, not ${n}`)}function W3e(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Yce(n,...e){if(!W3e(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function N3e(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");a4(n.outputLen),a4(n.blockLen)}function F3e(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function U3e(n,e){Yce(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const SLt={number:a4,bool:L3e,bytes:Yce,hash:N3e,exists:F3e,output:U3e};Md.default=SLt;var m5={},y5={};Object.defineProperty(y5,"__esModule",{value:!0});y5.crypto=void 0;y5.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(n){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(n,"__esModule",{value:!0}),n.Hash=n.nextTick=n.byteSwapIfBE=n.byteSwap=n.isLE=n.rotl=n.rotr=n.createView=n.u32=n.u8=void 0,n.isBytes=r,n.byteSwap32=l,n.bytesToHex=y,n.hexToBytes=f,n.asyncLoop=b,n.utf8ToBytes=S,n.toBytes=p,n.concatBytes=I,n.checkOpts=_,n.wrapConstructor=E,n.wrapConstructorWithOpts=M,n.wrapXOFConstructorWithOpts=P,n.randomBytes=R;const e=y5,t=Md;function r($){return $ instanceof Uint8Array||$!=null&&typeof $=="object"&&$.constructor.name==="Uint8Array"}const s=$=>new Uint8Array($.buffer,$.byteOffset,$.byteLength);n.u8=s;const i=$=>new Uint32Array($.buffer,$.byteOffset,Math.floor($.byteLength/4));n.u32=i;const o=$=>new DataView($.buffer,$.byteOffset,$.byteLength);n.createView=o;const a=($,z)=>$<<32-z|$>>>z;n.rotr=a;const c=($,z)=>$<<z|$>>>32-z>>>0;n.rotl=c,n.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const u=$=>$<<24&4278190080|$<<8&16711680|$>>>8&65280|$>>>24&255;n.byteSwap=u,n.byteSwapIfBE=n.isLE?$=>$:$=>(0,n.byteSwap)($);function l($){for(let z=0;z<$.length;z++)$[z]=(0,n.byteSwap)($[z])}const d=Array.from({length:256},($,z)=>z.toString(16).padStart(2,"0"));function y($){(0,t.bytes)($);let z="";for(let T=0;T<$.length;T++)z+=d[$[T]];return z}const h={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function m($){if($>=h._0&&$<=h._9)return $-h._0;if($>=h._A&&$<=h._F)return $-(h._A-10);if($>=h._a&&$<=h._f)return $-(h._a-10)}function f($){if(typeof $!="string")throw new Error("hex string expected, got "+typeof $);const z=$.length,T=z/2;if(z%2)throw new Error("padded hex string expected, got unpadded hex of length "+z);const v=new Uint8Array(T);for(let k=0,x=0;k<T;k++,x+=2){const C=m($.charCodeAt(x)),B=m($.charCodeAt(x+1));if(C===void 0||B===void 0){const O=$[x]+$[x+1];throw new Error('hex string expected, got non-hex character "'+O+'" at index '+x)}v[k]=C*16+B}return v}const g=async()=>{};n.nextTick=g;async function b($,z,T){let v=Date.now();for(let k=0;k<$;k++){T(k);const x=Date.now()-v;x>=0&&x<z||(await(0,n.nextTick)(),v+=x)}}function S($){if(typeof $!="string")throw new Error(`utf8ToBytes expected string, got ${typeof $}`);return new Uint8Array(new TextEncoder().encode($))}function p($){return typeof $=="string"&&($=S($)),(0,t.bytes)($),$}function I(...$){let z=0;for(let v=0;v<$.length;v++){const k=$[v];(0,t.bytes)(k),z+=k.length}const T=new Uint8Array(z);for(let v=0,k=0;v<$.length;v++){const x=$[v];T.set(x,k),k+=x.length}return T}class w{clone(){return this._cloneInto()}}n.Hash=w;const A={}.toString;function _($,z){if(z!==void 0&&A.call(z)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign($,z)}function E($){const z=v=>$().update(p(v)).digest(),T=$();return z.outputLen=T.outputLen,z.blockLen=T.blockLen,z.create=()=>$(),z}function M($){const z=(v,k)=>$(k).update(p(v)).digest(),T=$({});return z.outputLen=T.outputLen,z.blockLen=T.blockLen,z.create=v=>$(v),z}function P($){const z=(v,k)=>$(k).update(p(v)).digest(),T=$({});return z.outputLen=T.outputLen,z.blockLen=T.blockLen,z.create=v=>$(v),z}function R($=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array($));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes($);throw new Error("crypto.getRandomValues must be defined")}})(m5);Object.defineProperty(Lp,"__esModule",{value:!0});Lp.HashMD=Lp.Maj=Lp.Chi=void 0;const uV=Md,A2=m5;function kLt(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const vLt=(n,e,t)=>n&e^~n&t;Lp.Chi=vLt;const ALt=(n,e,t)=>n&e^n&t^e&t;Lp.Maj=ALt;class wLt extends A2.Hash{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,A2.createView)(this.buffer)}update(e){(0,uV.exists)(this);const{view:t,buffer:r,blockLen:s}=this;e=(0,A2.toBytes)(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=(0,A2.createView)(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,uV.exists)(this),(0,uV.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;kLt(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=(0,A2.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}Lp.HashMD=wLt;var Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.add5L=Pr.add5H=Pr.add4H=Pr.add4L=Pr.add3H=Pr.add3L=Pr.rotlBL=Pr.rotlBH=Pr.rotlSL=Pr.rotlSH=Pr.rotr32L=Pr.rotr32H=Pr.rotrBL=Pr.rotrBH=Pr.rotrSL=Pr.rotrSH=Pr.shrSL=Pr.shrSH=Pr.toBig=void 0;Pr.fromBig=Zce;Pr.split=V3e;Pr.add=sDe;const iD=BigInt(2**32-1),bH=BigInt(32);function Zce(n,e=!1){return e?{h:Number(n&iD),l:Number(n>>bH&iD)}:{h:Number(n>>bH&iD)|0,l:Number(n&iD)|0}}function V3e(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=Zce(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const q3e=(n,e)=>BigInt(n>>>0)<<bH|BigInt(e>>>0);Pr.toBig=q3e;const j3e=(n,e,t)=>n>>>t;Pr.shrSH=j3e;const H3e=(n,e,t)=>n<<32-t|e>>>t;Pr.shrSL=H3e;const G3e=(n,e,t)=>n>>>t|e<<32-t;Pr.rotrSH=G3e;const Y3e=(n,e,t)=>n<<32-t|e>>>t;Pr.rotrSL=Y3e;const Z3e=(n,e,t)=>n<<64-t|e>>>t-32;Pr.rotrBH=Z3e;const J3e=(n,e,t)=>n>>>t-32|e<<64-t;Pr.rotrBL=J3e;const X3e=(n,e)=>e;Pr.rotr32H=X3e;const Q3e=(n,e)=>n;Pr.rotr32L=Q3e;const eDe=(n,e,t)=>n<<t|e>>>32-t;Pr.rotlSH=eDe;const tDe=(n,e,t)=>e<<t|n>>>32-t;Pr.rotlSL=tDe;const rDe=(n,e,t)=>e<<t-32|n>>>64-t;Pr.rotlBH=rDe;const nDe=(n,e,t)=>n<<t-32|e>>>64-t;Pr.rotlBL=nDe;function sDe(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const iDe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0);Pr.add3L=iDe;const oDe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0;Pr.add3H=oDe;const aDe=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0);Pr.add4L=aDe;const cDe=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0;Pr.add4H=cDe;const uDe=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0);Pr.add5L=uDe;const lDe=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0;Pr.add5H=lDe;const ILt={fromBig:Zce,split:V3e,toBig:q3e,shrSH:j3e,shrSL:H3e,rotrSH:G3e,rotrSL:Y3e,rotrBH:Z3e,rotrBL:J3e,rotr32H:X3e,rotr32L:Q3e,rotlSH:eDe,rotlSL:tDe,rotlBH:rDe,rotlBL:nDe,add:sDe,add3L:iDe,add3H:oDe,add4L:aDe,add4H:cDe,add5H:lDe,add5L:uDe};Pr.default=ILt;Object.defineProperty(Ka,"__esModule",{value:!0});Ka.sha384=Ka.sha512_256=Ka.sha512_224=Ka.sha512=Ka.SHA384=Ka.SHA512_256=Ka.SHA512_224=Ka.SHA512=void 0;const PLt=Lp,Wr=Pr,p5=m5,[_Lt,ELt]=(()=>Wr.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),uy=new Uint32Array(80),ly=new Uint32Array(80);class Zz extends PLt.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)uy[p]=e.getUint32(t),ly[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=uy[p-15]|0,w=ly[p-15]|0,A=Wr.default.rotrSH(I,w,1)^Wr.default.rotrSH(I,w,8)^Wr.default.shrSH(I,w,7),_=Wr.default.rotrSL(I,w,1)^Wr.default.rotrSL(I,w,8)^Wr.default.shrSL(I,w,7),E=uy[p-2]|0,M=ly[p-2]|0,P=Wr.default.rotrSH(E,M,19)^Wr.default.rotrBH(E,M,61)^Wr.default.shrSH(E,M,6),R=Wr.default.rotrSL(E,M,19)^Wr.default.rotrBL(E,M,61)^Wr.default.shrSL(E,M,6),$=Wr.default.add4L(_,R,ly[p-7],ly[p-16]),z=Wr.default.add4H($,A,P,uy[p-7],uy[p-16]);uy[p]=z|0,ly[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Wr.default.rotrSH(d,y,14)^Wr.default.rotrSH(d,y,18)^Wr.default.rotrBH(d,y,41),w=Wr.default.rotrSL(d,y,14)^Wr.default.rotrSL(d,y,18)^Wr.default.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=Wr.default.add5L(S,w,_,ELt[p],ly[p]),M=Wr.default.add5H(E,b,I,A,_Lt[p],uy[p]),P=E|0,R=Wr.default.rotrSH(r,s,28)^Wr.default.rotrBH(r,s,34)^Wr.default.rotrBH(r,s,39),$=Wr.default.rotrSL(r,s,28)^Wr.default.rotrBL(r,s,34)^Wr.default.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Wr.default.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Wr.default.add3L(P,$,T);r=Wr.default.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Wr.default.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Wr.default.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Wr.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Wr.default.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Wr.default.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Wr.default.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Wr.default.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Wr.default.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){uy.fill(0),ly.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Ka.SHA512=Zz;class dDe extends Zz{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}Ka.SHA512_224=dDe;class fDe extends Zz{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}Ka.SHA512_256=fDe;class hDe extends Zz{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}Ka.SHA384=hDe;Ka.sha512=(0,p5.wrapConstructor)(()=>new Zz);Ka.sha512_224=(0,p5.wrapConstructor)(()=>new dDe);Ka.sha512_256=(0,p5.wrapConstructor)(()=>new fDe);Ka.sha384=(0,p5.wrapConstructor)(()=>new hDe);var Jce={},Jz={},gs={},Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.notImplemented=Pn.bitMask=void 0;Pn.isBytes=S5;Pn.abytes=k5;Pn.abool=TLt;Pn.bytesToHex=Qce;Pn.numberToHexUnpadded=gDe;Pn.hexToNumber=eue;Pn.hexToBytes=v5;Pn.bytesToNumberBE=CLt;Pn.bytesToNumberLE=MLt;Pn.numberToBytesBE=mDe;Pn.numberToBytesLE=BLt;Pn.numberToVarBytesBE=zLt;Pn.ensureBytes=$Lt;Pn.concatBytes=yDe;Pn.equalBytes=DLt;Pn.utf8ToBytes=OLt;Pn.inRange=pDe;Pn.aInRange=KLt;Pn.bitLen=LLt;Pn.bitGet=WLt;Pn.bitSet=NLt;Pn.createHmacDrbg=ULt;Pn.validateObject=qLt;Pn.memoized=HLt;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xce=BigInt(0),b5=BigInt(1),xLt=BigInt(2);function S5(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function k5(n){if(!S5(n))throw new Error("Uint8Array expected")}function TLt(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const RLt=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Qce(n){k5(n);let e="";for(let t=0;t<n.length;t++)e+=RLt[n[t]];return e}function gDe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function eue(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const hg={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function E0e(n){if(n>=hg._0&&n<=hg._9)return n-hg._0;if(n>=hg._A&&n<=hg._F)return n-(hg._A-10);if(n>=hg._a&&n<=hg._f)return n-(hg._a-10)}function v5(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=E0e(n.charCodeAt(i)),a=E0e(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function CLt(n){return eue(Qce(n))}function MLt(n){return k5(n),eue(Qce(Uint8Array.from(n).reverse()))}function mDe(n,e){return v5(n.toString(16).padStart(e*2,"0"))}function BLt(n,e){return mDe(n,e).reverse()}function zLt(n){return v5(gDe(n))}function $Lt(n,e,t){let r;if(typeof e=="string")try{r=v5(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(S5(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function yDe(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];k5(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function DLt(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function OLt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const lV=n=>typeof n=="bigint"&&Xce<=n;function pDe(n,e,t){return lV(n)&&lV(e)&&lV(t)&&e<=n&&n<t}function KLt(n,e,t,r){if(!pDe(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function LLt(n){let e;for(e=0;n>Xce;n>>=b5,e+=1);return e}function WLt(n,e){return n>>BigInt(e)&b5}function NLt(n,e,t){return n|(t?b5:Xce)<<BigInt(e)}const FLt=n=>(xLt<<BigInt(n-1))-b5;Pn.bitMask=FLt;const dV=n=>new Uint8Array(n),x0e=n=>Uint8Array.from(n);function ULt(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=dV(n),s=dV(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=dV())=>{s=a(x0e([0]),d),r=a(),d.length!==0&&(s=a(x0e([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return yDe(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const VLt={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||S5(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function qLt(n,e,t={}){const r=(s,i,o)=>{const a=VLt[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const jLt=()=>{throw new Error("not implemented")};Pn.notImplemented=jLt;function HLt(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}Object.defineProperty(gs,"__esModule",{value:!0});gs.isNegativeLE=void 0;gs.mod=qu;gs.pow=bDe;gs.pow2=YLt;gs.invert=c4;gs.tonelliShanks=SDe;gs.FpSqrt=kDe;gs.validateField=XLt;gs.FpPow=vDe;gs.FpInvertBatch=ADe;gs.FpDiv=QLt;gs.FpLegendre=wDe;gs.FpIsSquare=e5t;gs.nLength=tue;gs.Field=t5t;gs.FpSqrtOdd=r5t;gs.FpSqrtEven=n5t;gs.hashToPrivateScalar=s5t;gs.getFieldBytesLength=rue;gs.getMinHashLength=IDe;gs.mapHashToField=i5t;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xu=Pn,rc=BigInt(0),Us=BigInt(1),My=BigInt(2),GLt=BigInt(3),SH=BigInt(4),T0e=BigInt(5),R0e=BigInt(8);BigInt(9);BigInt(16);function qu(n,e){const t=n%e;return t>=rc?t:e+t}function bDe(n,e,t){if(t<=rc||e<rc)throw new Error("Expected power/modulo > 0");if(t===Us)return rc;let r=Us;for(;e>rc;)e&Us&&(r=r*n%t),n=n*n%t,e>>=Us;return r}function YLt(n,e,t){let r=n;for(;e-- >rc;)r*=r,r%=t;return r}function c4(n,e){if(n===rc||e<=rc)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=qu(n,e),r=e,s=rc,i=Us;for(;t!==rc;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Us)throw new Error("invert: does not exist");return qu(s,e)}function SDe(n){const e=(n-Us)/My;let t,r,s;for(t=n-Us,r=0;t%My===rc;t/=My,r++);for(s=My;s<n&&bDe(s,e,n)!==n-Us;s++);if(r===1){const o=(n+Us)/SH;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Us)/My;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Us<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function kDe(n){if(n%SH===GLt){const e=(n+Us)/SH;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%R0e===T0e){const e=(n-T0e)/R0e;return function(r,s){const i=r.mul(s,My),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,My),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return SDe(n)}const ZLt=(n,e)=>(qu(n,e)&Us)===Us;gs.isNegativeLE=ZLt;const JLt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function XLt(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=JLt.reduce((r,s)=>(r[s]="function",r),e);return(0,Xu.validateObject)(n,t)}function vDe(n,e,t){if(t<rc)throw new Error("Expected power > 0");if(t===rc)return n.ONE;if(t===Us)return e;let r=n.ONE,s=e;for(;t>rc;)t&Us&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Us;return r}function ADe(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function QLt(n,e,t){return n.mul(e,typeof t=="bigint"?c4(t,n.ORDER):n.inv(t))}function wDe(n){const e=(n-Us)/My;return(t,r)=>t.pow(r,e)}function e5t(n){const e=wDe(n.ORDER);return t=>{const r=e(n,t);return n.eql(r,n.ZERO)||n.eql(r,n.ONE)}}function tue(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function t5t(n,e,t=!1,r={}){if(n<=rc)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=tue(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=kDe(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:(0,Xu.bitMask)(s),ZERO:rc,ONE:Us,create:c=>qu(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return rc<=c&&c<n},is0:c=>c===rc,isOdd:c=>(c&Us)===Us,neg:c=>qu(-c,n),eql:(c,u)=>c===u,sqr:c=>qu(c*c,n),add:(c,u)=>qu(c+u,n),sub:(c,u)=>qu(c-u,n),mul:(c,u)=>qu(c*u,n),pow:(c,u)=>vDe(a,c,u),div:(c,u)=>qu(c*c4(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>c4(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>ADe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?(0,Xu.numberToBytesLE)(c,i):(0,Xu.numberToBytesBE)(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?(0,Xu.bytesToNumberLE)(c):(0,Xu.bytesToNumberBE)(c)}});return Object.freeze(a)}function r5t(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?t:n.neg(t)}function n5t(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?n.neg(t):t}function s5t(n,e,t=!1){n=(0,Xu.ensureBytes)("privateHash",n);const r=n.length,s=tue(e).nByteLength+8;if(s<24||r<s||r>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${r}`);const i=t?(0,Xu.bytesToNumberLE)(n):(0,Xu.bytesToNumberBE)(n);return qu(i,e-Us)+Us}function rue(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function IDe(n){const e=rue(n);return e+Math.ceil(e/2)}function i5t(n,e,t=!1){const r=n.length,s=rue(e),i=IDe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?(0,Xu.bytesToNumberBE)(n):(0,Xu.bytesToNumberLE)(n),a=qu(o,e-Us)+Us;return t?(0,Xu.numberToBytesLE)(a,s):(0,Xu.numberToBytesBE)(a,s)}Object.defineProperty(Jz,"__esModule",{value:!0});Jz.wNAF=a5t;Jz.pippenger=c5t;Jz.validateBasic=u5t;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const C0e=gs,PDe=Pn,o5t=BigInt(0),fV=BigInt(1),hV=new WeakMap,M0e=new WeakMap;function a5t(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>o5t;)o&fV&&(a=a.add(c)),c=c.double(),o>>=fV;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=fV);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=M0e.get(i)||1;let u=hV.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&hV.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),M0e.set(i,o),hV.delete(i)}}}function c5t(n,e,t,r){if(!Array.isArray(t)||!Array.isArray(r)||r.length!==t.length)throw new Error("arrays of points and scalars must have equal length");r.forEach((l,d)=>{if(!e.isValid(l))throw new Error(`wrong scalar at index ${d}`)}),t.forEach((l,d)=>{if(!(l instanceof n))throw new Error(`wrong point at index ${d}`)});const s=(0,PDe.bitLen)(BigInt(t.length)),i=s>12?s-3:s>4?s-2:s?2:1,o=(1<<i)-1,a=new Array(o+1).fill(n.ZERO),c=Math.floor((e.BITS-1)/i)*i;let u=n.ZERO;for(let l=c;l>=0;l-=i){a.fill(n.ZERO);for(let y=0;y<r.length;y++){const h=r[y],m=Number(h>>BigInt(l)&BigInt(o));a[m]=a[m].add(t[y])}let d=n.ZERO;for(let y=a.length-1,h=n.ZERO;y>0;y--)h=h.add(a[y]),d=d.add(h);if(u=u.add(d),l!==0)for(let y=0;y<i;y++)u=u.double()}return u}function u5t(n){return(0,C0e.validateField)(n.Fp),(0,PDe.validateObject)(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,C0e.nLength)(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}Object.defineProperty(Jce,"__esModule",{value:!0});Jce.twistedEdwards=h5t;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kH=Jz,B0e=gs,Jc=Pn,zu=Pn,Yl=BigInt(0),Yc=BigInt(1),oD=BigInt(2),l5t=BigInt(8),d5t={zip215:!0};function f5t(n){const e=(0,kH.validateBasic)(n);return Jc.validateObject(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function h5t(n){const e=f5t(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=oD<<BigInt(a*8)-Yc,l=t.create,d=(0,B0e.Field)(e.n,e.nBitLength),y=e.uvRatio||((k,x)=>{try{return{isValid:!0,value:t.sqrt(k*t.inv(x))}}catch{return{isValid:!1,value:Yl}}}),h=e.adjustScalarBytes||(k=>k),m=e.domain||((k,x,C)=>{if((0,zu.abool)("phflag",C),x.length||C)throw new Error("Contexts/pre-hash are not supported");return k});function f(k,x){Jc.aInRange("coordinate "+k,x,Yl,u)}function g(k){if(!(k instanceof p))throw new Error("ExtendedPoint expected")}const b=(0,zu.memoized)((k,x)=>{const{ex:C,ey:B,ez:O}=k,D=k.is0();x==null&&(x=D?l5t:t.inv(O));const W=l(C*x),L=l(B*x),N=l(O*x);if(D)return{x:Yl,y:Yc};if(N!==Yc)throw new Error("invZ was invalid");return{x:W,y:L}}),S=(0,zu.memoized)(k=>{const{a:x,d:C}=e;if(k.is0())throw new Error("bad point: ZERO");const{ex:B,ey:O,ez:D,et:W}=k,L=l(B*B),N=l(O*O),H=l(D*D),J=l(H*H),Q=l(L*x),Y=l(H*l(Q+N)),X=l(J+l(C*l(L*N)));if(Y!==X)throw new Error("bad point: equation left != right (1)");const re=l(B*O),se=l(D*W);if(re!==se)throw new Error("bad point: equation left != right (2)");return!0});class p{constructor(x,C,B,O){this.ex=x,this.ey=C,this.ez=B,this.et=O,f("x",x),f("y",C),f("z",B),f("t",O),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(x){if(x instanceof p)throw new Error("extended point not allowed");const{x:C,y:B}=x||{};return f("x",C),f("y",B),new p(C,B,Yc,l(C*B))}static normalizeZ(x){const C=t.invertBatch(x.map(B=>B.ez));return x.map((B,O)=>B.toAffine(C[O])).map(p.fromAffine)}static msm(x,C){return(0,kH.pippenger)(p,d,x,C)}_setWindowSize(x){A.setWindowSize(this,x)}assertValidity(){S(this)}equals(x){g(x);const{ex:C,ey:B,ez:O}=this,{ex:D,ey:W,ez:L}=x,N=l(C*L),H=l(D*O),J=l(B*L),Q=l(W*O);return N===H&&J===Q}is0(){return this.equals(p.ZERO)}negate(){return new p(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:x}=e,{ex:C,ey:B,ez:O}=this,D=l(C*C),W=l(B*B),L=l(oD*l(O*O)),N=l(x*D),H=C+B,J=l(l(H*H)-D-W),Q=N+W,Y=Q-L,X=N-W,re=l(J*Y),se=l(Q*X),ee=l(J*X),ne=l(Y*Q);return new p(re,se,ne,ee)}add(x){g(x);const{a:C,d:B}=e,{ex:O,ey:D,ez:W,et:L}=this,{ex:N,ey:H,ez:J,et:Q}=x;if(C===BigInt(-1)){const Dt=l((D-O)*(H+N)),et=l((D+O)*(H-N)),Ue=l(et-Dt);if(Ue===Yl)return this.double();const Wt=l(W*oD*Q),sr=l(L*oD*J),rr=sr+Wt,pr=et+Dt,wr=sr-Wt,ls=l(rr*Ue),gn=l(pr*wr),ds=l(rr*wr),il=l(Ue*pr);return new p(ls,gn,il,ds)}const Y=l(O*N),X=l(D*H),re=l(L*B*Q),se=l(W*J),ee=l((O+D)*(N+H)-Y-X),ne=se-re,ve=se+re,Pe=l(X-C*Y),Le=l(ee*ne),We=l(ve*Pe),Ft=l(ee*Pe),Lt=l(ne*ve);return new p(Le,We,Lt,Ft)}subtract(x){return this.add(x.negate())}wNAF(x){return A.wNAFCached(this,x,p.normalizeZ)}multiply(x){const C=x;Jc.aInRange("scalar",C,Yc,r);const{p:B,f:O}=this.wNAF(C);return p.normalizeZ([B,O])[0]}multiplyUnsafe(x){const C=x;return Jc.aInRange("scalar",C,Yl,r),C===Yl?w:this.equals(w)||C===Yc?this:this.equals(I)?this.wNAF(C).p:A.unsafeLadder(this,C)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(x){return b(this,x)}clearCofactor(){const{h:x}=e;return x===Yc?this:this.multiplyUnsafe(x)}static fromHex(x,C=!1){const{d:B,a:O}=e,D=t.BYTES;x=(0,zu.ensureBytes)("pointHex",x,D),(0,zu.abool)("zip215",C);const W=x.slice(),L=x[D-1];W[D-1]=L&-129;const N=Jc.bytesToNumberLE(W),H=C?u:t.ORDER;Jc.aInRange("pointHex.y",N,Yl,H);const J=l(N*N),Q=l(J-Yc),Y=l(B*J-O);let{isValid:X,value:re}=y(Q,Y);if(!X)throw new Error("Point.fromHex: invalid y coordinate");const se=(re&Yc)===Yc,ee=(L&128)!==0;if(!C&&re===Yl&&ee)throw new Error("Point.fromHex: x=0 and x_0=1");return ee!==se&&(re=l(-re)),p.fromAffine({x:re,y:N})}static fromPrivateKey(x){return M(x).point}toRawBytes(){const{x,y:C}=this.toAffine(),B=Jc.numberToBytesLE(C,t.BYTES);return B[B.length-1]|=x&Yc?128:0,B}toHex(){return Jc.bytesToHex(this.toRawBytes())}}p.BASE=new p(e.Gx,e.Gy,Yc,l(e.Gx*e.Gy)),p.ZERO=new p(Yl,Yc,Yc,Yl);const{BASE:I,ZERO:w}=p,A=(0,kH.wNAF)(p,a*8);function _(k){return(0,B0e.mod)(k,r)}function E(k){return _(Jc.bytesToNumberLE(k))}function M(k){const x=a;k=(0,zu.ensureBytes)("private key",k,x);const C=(0,zu.ensureBytes)("hashed private key",i(k),2*x),B=h(C.slice(0,x)),O=C.slice(x,2*x),D=E(B),W=I.multiply(D),L=W.toRawBytes();return{head:B,prefix:O,scalar:D,point:W,pointBytes:L}}function P(k){return M(k).pointBytes}function R(k=new Uint8Array,...x){const C=Jc.concatBytes(...x);return E(i(m(C,(0,zu.ensureBytes)("context",k),!!s)))}function $(k,x,C={}){k=(0,zu.ensureBytes)("message",k),s&&(k=s(k));const{prefix:B,scalar:O,pointBytes:D}=M(x),W=R(C.context,B,k),L=I.multiply(W).toRawBytes(),N=R(C.context,L,D,k),H=_(W+N*O);Jc.aInRange("signature.s",H,Yl,r);const J=Jc.concatBytes(L,Jc.numberToBytesLE(H,t.BYTES));return(0,zu.ensureBytes)("result",J,a*2)}const z=d5t;function T(k,x,C,B=z){const{context:O,zip215:D}=B,W=t.BYTES;k=(0,zu.ensureBytes)("signature",k,2*W),x=(0,zu.ensureBytes)("message",x),D!==void 0&&(0,zu.abool)("zip215",D),s&&(x=s(x));const L=Jc.bytesToNumberLE(k.slice(W,2*W));let N,H,J;try{N=p.fromHex(C,D),H=p.fromHex(k.slice(0,W),D),J=I.multiplyUnsafe(L)}catch{return!1}if(!D&&N.isSmallOrder())return!1;const Q=R(O,H.toRawBytes(),N.toRawBytes(),x);return H.add(N.multiplyUnsafe(Q)).subtract(J).clearCofactor().equals(p.ZERO)}return I._setWindowSize(8),{CURVE:e,getPublicKey:P,sign:$,verify:T,ExtendedPoint:p,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>o(t.BYTES),precompute(k=8,x=p.BASE){return x._setWindowSize(k),x.multiply(BigInt(3)),x}}}}var Ik={};Object.defineProperty(Ik,"__esModule",{value:!0});Ik.expand_message_xmd=_De;Ik.expand_message_xof=EDe;Ik.hash_to_field=vH;Ik.isogenyMap=p5t;Ik.createHasher=b5t;const g5t=gs,pc=Pn,m5t=pc.bytesToNumberBE;function vy(n,e){if(PB(n),PB(e),n<0||n>=1<<8*e)throw new Error(`bad I2OSP call: value=${n} length=${e}`);const t=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)t[r]=n&255,n>>>=8;return new Uint8Array(t)}function y5t(n,e){const t=new Uint8Array(n.length);for(let r=0;r<n.length;r++)t[r]=n[r]^e[r];return t}function PB(n){if(!Number.isSafeInteger(n))throw new Error("number expected")}function _De(n,e,t,r){(0,pc.abytes)(n),(0,pc.abytes)(e),PB(t),e.length>255&&(e=r((0,pc.concatBytes)((0,pc.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));const{outputLen:s,blockLen:i}=r,o=Math.ceil(t/s);if(t>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=(0,pc.concatBytes)(e,vy(e.length,1)),c=vy(0,i),u=vy(t,2),l=new Array(o),d=r((0,pc.concatBytes)(c,n,u,vy(0,1),a));l[0]=r((0,pc.concatBytes)(d,vy(1,1),a));for(let h=1;h<=o;h++){const m=[y5t(d,l[h-1]),vy(h+1,1),a];l[h]=r((0,pc.concatBytes)(...m))}return(0,pc.concatBytes)(...l).slice(0,t)}function EDe(n,e,t,r,s){if((0,pc.abytes)(n),(0,pc.abytes)(e),PB(t),e.length>255){const i=Math.ceil(2*r/8);e=s.create({dkLen:i}).update((0,pc.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(t>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:t}).update(n).update(vy(t,2)).update(e).update(vy(e.length,1)).digest()}function vH(n,e,t){(0,pc.validateObject)(t,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:s,m:i,hash:o,expand:a,DST:c}=t;(0,pc.abytes)(n),PB(e);const u=typeof c=="string"?(0,pc.utf8ToBytes)(c):c,l=r.toString(2).length,d=Math.ceil((l+s)/8),y=e*i*d;let h;if(a==="xmd")h=_De(n,u,y,o);else if(a==="xof")h=EDe(n,u,y,s,o);else if(a==="_internal_pass")h=n;else throw new Error('expand must be "xmd" or "xof"');const m=new Array(e);for(let f=0;f<e;f++){const g=new Array(i);for(let b=0;b<i;b++){const S=d*(b+f*i),p=h.subarray(S,S+d);g[b]=(0,g5t.mod)(m5t(p),r)}m[f]=g}return m}function p5t(n,e){const t=e.map(r=>Array.from(r).reverse());return(r,s)=>{const[i,o,a,c]=t.map(u=>u.reduce((l,d)=>n.add(n.mul(l,r),d)));return r=n.div(i,o),s=n.mul(s,n.div(a,c)),{x:r,y:s}}}function b5t(n,e,t){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,s){const i=vH(r,2,{...t,DST:t.DST,...s}),o=n.fromAffine(e(i[0])),a=n.fromAffine(e(i[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,s){const i=vH(r,1,{...t,DST:t.encodeDST,...s}),o=n.fromAffine(e(i[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const i of r)if(typeof i!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${i} in array`);const s=n.fromAffine(e(r)).clearCofactor();return s.assertValidity(),s}}}var nue={};Object.defineProperty(nue,"__esModule",{value:!0});nue.montgomery=k5t;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const z0e=gs,py=Pn,yv=BigInt(0),gV=BigInt(1);function S5t(n){return(0,py.validateObject)(n,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...n})}function k5t(n){const e=S5t(n),{P:t}=e,r=S=>(0,z0e.mod)(S,t),s=e.montgomeryBits,i=Math.ceil(s/8),o=e.nByteLength,a=e.adjustScalarBytes||(S=>S),c=e.powPminus2||(S=>(0,z0e.pow)(S,t-BigInt(2),t));function u(S,p,I){const w=r(S*(p-I));return p=r(p-w),I=r(I+w),[p,I]}const l=(e.a-BigInt(2))/BigInt(4);function d(S,p){(0,py.aInRange)("u",S,yv,t),(0,py.aInRange)("scalar",p,yv,t);const I=p,w=S;let A=gV,_=yv,E=S,M=gV,P=yv,R;for(let z=BigInt(s-1);z>=yv;z--){const T=I>>z&gV;P^=T,R=u(P,A,E),A=R[0],E=R[1],R=u(P,_,M),_=R[0],M=R[1],P=T;const v=A+_,k=r(v*v),x=A-_,C=r(x*x),B=k-C,O=E+M,D=E-M,W=r(D*v),L=r(O*x),N=W+L,H=W-L;E=r(N*N),M=r(w*r(H*H)),A=r(k*C),_=r(B*(k+r(l*B)))}R=u(P,A,E),A=R[0],E=R[1],R=u(P,_,M),_=R[0],M=R[1];const $=c(_);return r(A*$)}function y(S){return(0,py.numberToBytesLE)(r(S),i)}function h(S){const p=(0,py.ensureBytes)("u coordinate",S,i);return o===32&&(p[31]&=127),(0,py.bytesToNumberLE)(p)}function m(S){const p=(0,py.ensureBytes)("scalar",S),I=p.length;if(I!==i&&I!==o)throw new Error(`Expected ${i} or ${o} bytes, got ${I}`);return(0,py.bytesToNumberLE)(a(p))}function f(S,p){const I=h(p),w=m(S),A=d(I,w);if(A===yv)throw new Error("Invalid private or public key received");return y(A)}const g=y(e.Gu);function b(S){return f(S,g)}return{scalarMult:f,scalarMultBase:b,getSharedSecret:(S,p)=>f(S,p),getPublicKey:S=>b(S),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:g}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.hash_to_ristretto255=n.hashToRistretto255=n.RistrettoPoint=n.encodeToCurve=n.hashToCurve=n.edwardsToMontgomery=n.x25519=n.ed25519ph=n.ed25519ctx=n.ed25519=n.ED25519_TORSION_SUBGROUP=void 0,n.edwardsToMontgomeryPub=A,n.edwardsToMontgomeryPriv=_;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=Ka,t=m5,r=Jce,s=Ik,i=gs,o=nue,a=Pn,c=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),u=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),l=BigInt(0),d=BigInt(1),y=BigInt(2),h=BigInt(3),m=BigInt(5),f=BigInt(8);function g(Q){const Y=BigInt(10),X=BigInt(20),re=BigInt(40),se=BigInt(80),ee=c,ve=Q*Q%ee*Q%ee,Pe=(0,i.pow2)(ve,y,ee)*ve%ee,Le=(0,i.pow2)(Pe,d,ee)*Q%ee,We=(0,i.pow2)(Le,m,ee)*Le%ee,Ft=(0,i.pow2)(We,Y,ee)*We%ee,Lt=(0,i.pow2)(Ft,X,ee)*Ft%ee,Dt=(0,i.pow2)(Lt,re,ee)*Lt%ee,et=(0,i.pow2)(Dt,se,ee)*Dt%ee,Ue=(0,i.pow2)(et,se,ee)*Dt%ee,Wt=(0,i.pow2)(Ue,Y,ee)*We%ee;return{pow_p_5_8:(0,i.pow2)(Wt,y,ee)*Q%ee,b2:ve}}function b(Q){return Q[0]&=248,Q[31]&=127,Q[31]|=64,Q}function S(Q,Y){const X=c,re=(0,i.mod)(Y*Y*Y,X),se=(0,i.mod)(re*re*Y,X),ee=g(Q*se).pow_p_5_8;let ne=(0,i.mod)(Q*re*ee,X);const ve=(0,i.mod)(Y*ne*ne,X),Pe=ne,Le=(0,i.mod)(ne*u,X),We=ve===Q,Ft=ve===(0,i.mod)(-Q,X),Lt=ve===(0,i.mod)(-Q*u,X);return We&&(ne=Pe),(Ft||Lt)&&(ne=Le),(0,i.isNegativeLE)(ne,X)&&(ne=(0,i.mod)(-ne,X)),{isValid:We||Ft,value:ne}}n.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const p=(()=>(0,i.Field)(c,void 0,!0))(),I=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:p,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:f,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:e.sha512,randomBytes:t.randomBytes,adjustScalarBytes:b,uvRatio:S}))();n.ed25519=(()=>(0,r.twistedEdwards)(I))();function w(Q,Y,X){if(Y.length>255)throw new Error("Context is too big");return(0,t.concatBytes)((0,t.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([X?1:0,Y.length]),Y,Q)}n.ed25519ctx=(()=>(0,r.twistedEdwards)({...I,domain:w}))(),n.ed25519ph=(()=>(0,r.twistedEdwards)(Object.assign({},I,{domain:w,prehash:e.sha512})))(),n.x25519=(()=>(0,o.montgomery)({P:c,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Q=>{const Y=c,{pow_p_5_8:X,b2:re}=g(Q);return(0,i.mod)((0,i.pow2)(X,h,Y)*re,Y)},adjustScalarBytes:b,randomBytes:t.randomBytes}))();function A(Q){const{y:Y}=n.ed25519.ExtendedPoint.fromHex(Q),X=BigInt(1);return p.toBytes(p.create((X+Y)*p.inv(X-Y)))}n.edwardsToMontgomery=A;function _(Q){const Y=I.hash(Q.subarray(0,32));return I.adjustScalarBytes(Y).subarray(0,32)}const E=(()=>(p.ORDER+h)/f)(),M=(()=>p.pow(y,E))(),P=(()=>p.sqrt(p.neg(p.ONE)))();function R(Q){const Y=(p.ORDER-m)/f,X=BigInt(486662);let re=p.sqr(Q);re=p.mul(re,y);let se=p.add(re,p.ONE),ee=p.neg(X),ne=p.sqr(se),ve=p.mul(ne,se),Pe=p.mul(re,X);Pe=p.mul(Pe,ee),Pe=p.add(Pe,ne),Pe=p.mul(Pe,ee);let Le=p.sqr(ve);ne=p.sqr(Le),Le=p.mul(Le,ve),Le=p.mul(Le,Pe),ne=p.mul(ne,Le);let We=p.pow(ne,Y);We=p.mul(We,Le);let Ft=p.mul(We,P);ne=p.sqr(We),ne=p.mul(ne,ve);let Lt=p.eql(ne,Pe),Dt=p.cmov(Ft,We,Lt),et=p.mul(ee,re),Ue=p.mul(We,Q);Ue=p.mul(Ue,M);let Wt=p.mul(Ue,P),sr=p.mul(Pe,re);ne=p.sqr(Ue),ne=p.mul(ne,ve);let rr=p.eql(ne,sr),pr=p.cmov(Wt,Ue,rr);ne=p.sqr(Dt),ne=p.mul(ne,ve);let wr=p.eql(ne,Pe),ls=p.cmov(et,ee,wr),gn=p.cmov(pr,Dt,wr),ds=p.isOdd(gn);return gn=p.cmov(gn,p.neg(gn),wr!==ds),{xMn:ls,xMd:se,yMn:gn,yMd:d}}const $=(()=>(0,i.FpSqrtEven)(p,p.neg(BigInt(486664))))();function z(Q){const{xMn:Y,xMd:X,yMn:re,yMd:se}=R(Q);let ee=p.mul(Y,se);ee=p.mul(ee,$);let ne=p.mul(X,re),ve=p.sub(Y,X),Pe=p.add(Y,X),Le=p.mul(ne,Pe),We=p.eql(Le,p.ZERO);ee=p.cmov(ee,p.ZERO,We),ne=p.cmov(ne,p.ONE,We),ve=p.cmov(ve,p.ONE,We),Pe=p.cmov(Pe,p.ONE,We);const Ft=p.invertBatch([ne,Pe]);return{x:p.mul(ee,Ft[0]),y:p.mul(ve,Ft[1])}}const T=(()=>(0,s.createHasher)(n.ed25519.ExtendedPoint,Q=>z(Q[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:p.ORDER,m:1,k:128,expand:"xmd",hash:e.sha512}))();n.hashToCurve=(()=>T.hashToCurve)(),n.encodeToCurve=(()=>T.encodeToCurve)();function v(Q){if(!(Q instanceof H))throw new Error("RistrettoPoint expected")}const k=u,x=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),C=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),B=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),O=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),D=Q=>S(d,Q),W=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),L=Q=>n.ed25519.CURVE.Fp.create((0,a.bytesToNumberLE)(Q)&W);function N(Q){const{d:Y}=n.ed25519.CURVE,X=n.ed25519.CURVE.Fp.ORDER,re=n.ed25519.CURVE.Fp.create,se=re(k*Q*Q),ee=re((se+d)*B);let ne=BigInt(-1);const ve=re((ne-Y*se)*re(se+Y));let{isValid:Pe,value:Le}=S(ee,ve),We=re(Le*Q);(0,i.isNegativeLE)(We,X)||(We=re(-We)),Pe||(Le=We),Pe||(ne=se);const Ft=re(ne*(se-d)*O-ve),Lt=Le*Le,Dt=re((Le+Le)*ve),et=re(Ft*x),Ue=re(d-Lt),Wt=re(d+Lt);return new n.ed25519.ExtendedPoint(re(Dt*Wt),re(Ue*et),re(et*Wt),re(Dt*Ue))}class H{constructor(Y){this.ep=Y}static fromAffine(Y){return new H(n.ed25519.ExtendedPoint.fromAffine(Y))}static hashToCurve(Y){Y=(0,a.ensureBytes)("ristrettoHash",Y,64);const X=L(Y.slice(0,32)),re=N(X),se=L(Y.slice(32,64)),ee=N(se);return new H(re.add(ee))}static fromHex(Y){Y=(0,a.ensureBytes)("ristrettoHex",Y,32);const{a:X,d:re}=n.ed25519.CURVE,se=n.ed25519.CURVE.Fp.ORDER,ee=n.ed25519.CURVE.Fp.create,ne="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ve=L(Y);if(!(0,a.equalBytes)((0,a.numberToBytesLE)(ve,32),Y)||(0,i.isNegativeLE)(ve,se))throw new Error(ne);const Pe=ee(ve*ve),Le=ee(d+X*Pe),We=ee(d-X*Pe),Ft=ee(Le*Le),Lt=ee(We*We),Dt=ee(X*re*Ft-Lt),{isValid:et,value:Ue}=D(ee(Dt*Lt)),Wt=ee(Ue*We),sr=ee(Ue*Wt*Dt);let rr=ee((ve+ve)*Wt);(0,i.isNegativeLE)(rr,se)&&(rr=ee(-rr));const pr=ee(Le*sr),wr=ee(rr*pr);if(!et||(0,i.isNegativeLE)(wr,se)||pr===l)throw new Error(ne);return new H(new n.ed25519.ExtendedPoint(rr,pr,d,wr))}toRawBytes(){let{ex:Y,ey:X,ez:re,et:se}=this.ep;const ee=n.ed25519.CURVE.Fp.ORDER,ne=n.ed25519.CURVE.Fp.create,ve=ne(ne(re+X)*ne(re-X)),Pe=ne(Y*X),Le=ne(Pe*Pe),{value:We}=D(ne(ve*Le)),Ft=ne(We*ve),Lt=ne(We*Pe),Dt=ne(Ft*Lt*se);let et;if((0,i.isNegativeLE)(se*Dt,ee)){let Wt=ne(X*k),sr=ne(Y*k);Y=Wt,X=sr,et=ne(Ft*C)}else et=Lt;(0,i.isNegativeLE)(Y*Dt,ee)&&(X=ne(-X));let Ue=ne((re-X)*et);return(0,i.isNegativeLE)(Ue,ee)&&(Ue=ne(-Ue)),(0,a.numberToBytesLE)(Ue,32)}toHex(){return(0,a.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(Y){v(Y);const{ex:X,ey:re}=this.ep,{ex:se,ey:ee}=Y.ep,ne=n.ed25519.CURVE.Fp.create,ve=ne(X*ee)===ne(re*se),Pe=ne(re*ee)===ne(X*se);return ve||Pe}add(Y){return v(Y),new H(this.ep.add(Y.ep))}subtract(Y){return v(Y),new H(this.ep.subtract(Y.ep))}multiply(Y){return new H(this.ep.multiply(Y))}multiplyUnsafe(Y){return new H(this.ep.multiplyUnsafe(Y))}double(){return new H(this.ep.double())}negate(){return new H(this.ep.negate())}}n.RistrettoPoint=(()=>(H.BASE||(H.BASE=new H(n.ed25519.ExtendedPoint.BASE)),H.ZERO||(H.ZERO=new H(n.ed25519.ExtendedPoint.ZERO)),H))();const J=(Q,Y)=>{const X=Y.DST,re=typeof X=="string"?(0,t.utf8ToBytes)(X):X,se=(0,s.expand_message_xmd)(Q,re,64,e.sha512);return H.hashToCurve(se)};n.hashToRistretto255=J,n.hash_to_ristretto255=n.hashToRistretto255})(K3e);Object.defineProperty(f5,"__esModule",{value:!0});var mV=Z,pv=_c,$0e=K3e,w2=lc;function v5t(){return{generateKeypair:()=>pv.fromWeb3JsKeypair(w2.Keypair.generate()),createKeypairFromSecretKey:a=>pv.fromWeb3JsKeypair(w2.Keypair.fromSecretKey(a)),createKeypairFromSeed:a=>pv.fromWeb3JsKeypair(w2.Keypair.fromSeed(a)),isOnCurve:a=>w2.PublicKey.isOnCurve(pv.toWeb3JsPublicKey(mV.publicKey(a))),findPda:(a,c)=>{const[u,l]=w2.PublicKey.findProgramAddressSync(c,pv.toWeb3JsPublicKey(mV.publicKey(a)));return[pv.fromWeb3JsPublicKey(u),l]},sign:(a,c)=>$0e.ed25519.sign(a,c.secretKey.slice(0,32)),verify:(a,c,u)=>$0e.ed25519.verify(c,a,mV.publicKeyBytes(u))}}f5.createWeb3JsEddsa=v5t;Object.defineProperty(qce,"__esModule",{value:!0});var A5t=f5;const w5t=()=>({install(n){n.eddsa=A5t.createWeb3JsEddsa()}});qce.web3JsEddsa=w5t;Object.defineProperty(d5,"__esModule",{value:!0});var I5t=qce,P5t=f5;d5.web3JsEddsa=I5t.web3JsEddsa;d5.createWeb3JsEddsa=P5t.createWeb3JsEddsa;var A5={},w5={},I5={};Object.defineProperty(I5,"__esModule",{value:!0});var AH=Z;class _5t extends AH.SdkError{name="ProgramNotRecognizedError";constructor(e,t){const r=!AH.isPublicKey(e),s=e,i=t==="*"?"any":`the [${t}]`,o=`The provided program ${r?"name":"address"} [${s}] is not recognized in ${i} cluster. Did you forget to register this program? If so, you may use "context.programs.add(myProgram)" to fix this.`;super(o),this.identifier=e,this.cluster=t}}class E5t extends AH.ProgramError{name="ProgramErrorNotRecognizedError";constructor(e,t){const r=t.code?` of code [${t.code}]`:"",s=`The program [${e.name}] at address [${e.publicKey}] raised an error${r} that is not recognized by the programs registered on the SDK. Please check the underlying program error below for more details.`;super(s,e,t)}}I5.ProgramErrorNotRecognizedError=E5t;I5.ProgramNotRecognizedError=_5t;Object.defineProperty(w5,"__esModule",{value:!0});var aD=Z,D0e=I5;function xDe(n,e=[],t={}){const r=[...e],s={...t},i=(g,b="current")=>{const S=c(b),p=f(g);return aD.isPublicKey(p)?S.some(I=>I.publicKey===p):S.some(I=>I.name===p)},o=(g,b="current")=>{const S=m(b),p=c(b),I=f(g),w=aD.isPublicKey(I)?p.find(A=>A.publicKey===I):p.find(A=>A.name===I);if(!w)throw new D0e.ProgramNotRecognizedError(I,S);return w},a=(g,b,S)=>{try{return o(g,S).publicKey}catch(p){if(b===void 0)throw p;return aD.publicKey(b)}},c=(g="current")=>{const b=m(g);return b==="*"?r:r.filter(S=>S.isOnCluster(b))},u=(g,b=!0)=>{!b&&i(g.publicKey,"*")||r.unshift(g)},l=(g,b)=>{s[g]=b,f(g)},d=g=>{delete s[g]},y=()=>xDe(n,r,s),h=(g,b)=>{var z,T,v,k;if(!Array.isArray(g.logs)||g.logs.length===0)return null;const S=g.logs.join(`
`),p=/Error processing Instruction (\d+):/,I=((z=g.message.match(p))==null?void 0:z[1])??null,w=/Custom program error: (0x[a-f0-9]+)/i,A=((T=S.match(w))==null?void 0:T[1])??null,_=A?parseInt(A,16):null;if(I===null||_===null)return null;const E=parseInt(I,10),M=((k=(v=b.message.instructions)==null?void 0:v[E])==null?void 0:k.programIndex)??null,P=M?b.message.accounts[M]:null;if(!P)return null;let R;try{R=o(P)}catch{return null}return R.getErrorFromCode(_,g)??new D0e.ProgramErrorNotRecognizedError(R,g)},m=g=>g==="current"?n.rpc.getCluster():g,f=(g,b=[])=>{if(aD.isPublicKey(g)||s[g]===void 0)return g;const S=[...b,g];if(b.includes(g))throw new Error(`Circular binding detected: ${S.join(" -> ")}`);return f(s[g],S)};return{has:i,get:o,getPublicKey:a,all:c,add:u,bind:l,unbind:d,clone:y,resolveError:h}}w5.createDefaultProgramRepository=xDe;var sue={};Object.defineProperty(sue,"__esModule",{value:!0});var x5t=w5;const T5t=()=>({install(n){n.programs=x5t.createDefaultProgramRepository(n)}});sue.defaultProgramRepository=T5t;Object.defineProperty(A5,"__esModule",{value:!0});var R5t=w5,C5t=sue;A5.createDefaultProgramRepository=R5t.createDefaultProgramRepository;A5.defaultProgramRepository=C5t.defaultProgramRepository;var M5t=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),B5t=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),z5t=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&M5t(e,n,t);return B5t(e,n),e},$5t=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(i_,"__esModule",{value:!0});i_.mintCrewMember=i_.mintCrewMemberAccounts=void 0;const D5t=z5t(lc),cD=YJ,uD=CBe,O5t=Z,K5t=d5,L5t=A5,bv=_c,TDe=Cd;function RDe(n,e,t,r,s,i,o,a,c,u,l,d,y=TDe.CrewConfig.findAddress(n)[0]){const h=[e],m=(0,O5t.createUmi)().use((0,L5t.defaultProgramRepository)()).use((0,K5t.web3JsEddsa)()),f=(0,uD.findMetadataPda)(m,{mint:(0,bv.fromWeb3JsPublicKey)(c)})[0],g=(0,uD.findMasterEditionPda)(m,{mint:(0,bv.fromWeb3JsPublicKey)(c)})[0],b=(0,uD.findMetadataDelegateRecordPda)(m,{mint:(0,bv.fromWeb3JsPublicKey)(c),delegateRole:uD.MetadataDelegateRole.Collection,delegate:(0,bv.fromWeb3JsPublicKey)(y),updateAuthority:(0,bv.fromWeb3JsPublicKey)(u)})[0],S=(0,cD.findTreeConfigPda)(m,{merkleTree:(0,bv.fromWeb3JsPublicKey)(l)})[0],p=cD.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,I=cD.MPL_BUBBLEGUM_PROGRAM_ID,w=cD.SPL_NOOP_PROGRAM_ID;return{accounts:{key:e.publicKey(),profile:t,rentRecipient:r,crewConfig:y,owner:s,userRedemption:i,packType:o,packTiers:a,systemProgram:D5t.SystemProgram.programId,collectionMint:c,collectionMetadata:f,collectionEdition:g,compressionProgram:p,bubblegumProgram:I,logWrapper:w,treeConfig:S,merkleTree:l,collectionAuthorityRecordPda:b,serverHashPreimage:d},signers:h}}i_.mintCrewMemberAccounts=RDe;function W5t(n,e,t,r,s,i,o,a,c,u,l,d,y,h=TDe.CrewConfig.findAddress(n)[0]){const{accounts:m,signers:f}=RDe(n,e,t,r,s,i,o,a,c,u,l,d,h);return()=>$5t(this,void 0,void 0,function*(){return{instruction:yield n.methods.mintCrewMember(y).accountsStrict(m).instruction(),signers:f}})}i_.mintCrewMember=W5t;var P5={},N5t=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),F5t=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),CDe=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&N5t(e,n,t);return F5t(e,n),e},U5t=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},V5t=K&&K.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};Object.defineProperty(P5,"__esModule",{value:!0});P5.redeemCrewPack=void 0;const q5t=CDe(nl),yV=CDe(lc),O0e=Cd;function j5t(n,e,t,r,s,i,o,a,c,u,l,d=O0e.CrewConfig.findAddress(n)[0]){const y=[e,r],h=O0e.UserRedemption.findAddress(n,{owner:s,packType:o,seedPubkey:l.seedPubkey})[0],{sageProfile:m}=l,f=V5t(l,["sageProfile"]),g=m?[{pubkey:m,isSigner:!1,isWritable:!1}]:[];return b=>U5t(this,void 0,void 0,function*(){return{instruction:yield n.methods.redeemCrewPack(f).accountsStrict({packSftAuthority:e.publicKey(),profile:t,profileKey:r.publicKey(),funder:b.publicKey(),owner:s,userRedemption:h,sftRedemption:i,packType:o,packTiers:a,crewConfig:d,tokenFrom:c,tokenMint:u,tokenProgram:q5t.TOKEN_PROGRAM_ID,instructionsSysvar:yV.SYSVAR_INSTRUCTIONS_PUBKEY,recentSlothashes:yV.SYSVAR_SLOT_HASHES_PUBKEY,systemProgram:yV.SystemProgram.programId}).remainingAccounts(g).instruction(),signers:[...y,b]}})}P5.redeemCrewPack=j5t;var _5={},H5t=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),G5t=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Y5t=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&H5t(e,n,t);return G5t(e,n),e},Z5t=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(_5,"__esModule",{value:!0});_5.registerCrewConfig=void 0;const J5t=Y5t(lc),K0e=Cd;function X5t(n,e,t,r,s=K0e.DERFAULT_CREW_CONFIG_SEED){const i=[],o=K0e.CrewConfig.findAddress(n,s)[0],a=r.map(c=>({pubkey:c,isSigner:!1,isWritable:!1}));return c=>Z5t(this,void 0,void 0,function*(){return{instruction:yield n.methods.registerCrewConfig(t).accountsStrict({profile:e,funder:c.publicKey(),crewConfig:o,seedPubkey:s,systemProgram:J5t.SystemProgram.programId}).remainingAccounts(a).instruction(),signers:[...i,c]}})}_5.registerCrewConfig=X5t;var E5={},Q5t=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),eWt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),tWt=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Q5t(e,n,t);return eWt(e,n),e},rWt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(E5,"__esModule",{value:!0});E5.registerPackTiers=void 0;const nWt=tWt(lc),L0e=Cd;function sWt(n,e,t,r,s){const i=[e];s=s??L0e.CrewConfig.findAddress(n)[0];const o=L0e.PackTiers.findAddress(n,{packTier:r.packTier,seedPubkey:r.seedPubkey})[0];return a=>rWt(this,void 0,void 0,function*(){return{instruction:yield n.methods.registerPackTiers(r).accountsStrict({key:e.publicKey(),profile:t,funder:a.publicKey(),packTiers:o,systemProgram:nWt.SystemProgram.programId,crewConfig:s}).instruction(),signers:[...i,a]}})}E5.registerPackTiers=sWt;var x5={},iWt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),oWt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),aWt=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&iWt(e,n,t);return oWt(e,n),e},cWt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(x5,"__esModule",{value:!0});x5.registerPackType=void 0;const uWt=aWt(lc),W0e=Cd;function lWt(n,e,t,r,s,i){const o=[e];i=i??W0e.CrewConfig.findAddress(n)[0];const a=W0e.PackType.findAddress(n,{crewConfig:i,packTiers:r,faction:s.faction})[0];return c=>cWt(this,void 0,void 0,function*(){return{instruction:yield n.methods.registerPackType(s).accountsStrict({key:e.publicKey(),profile:t,funder:c.publicKey(),packType:a,packTiers:r,systemProgram:uWt.SystemProgram.programId,crewConfig:i}).instruction(),signers:[...o,c]}})}x5.registerPackType=lWt;var T5={},dWt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),fWt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),hWt=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&dWt(e,n,t);return fWt(e,n),e},gWt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(T5,"__esModule",{value:!0});T5.registerSftRedemption=void 0;const mWt=hWt(lc),N0e=Cd;function yWt(n,e,t,r,s,i,o){const a=[e];o=o??N0e.CrewConfig.findAddress(n)[0];const c=N0e.SftRedemption.findAddress(n,{redemptionAmount:i.redemptionAmount,crewConfig:o,packType:r,sftMint:s})[0];return u=>gWt(this,void 0,void 0,function*(){return{instruction:yield n.methods.registerSftRedemption(i).accountsStrict({key:e.publicKey(),profile:t,funder:u.publicKey(),sftRedemptionData:c,crewConfig:o,packType:r,sftMint:s,systemProgram:mWt.SystemProgram.programId}).instruction(),signers:[...a,u]}})}T5.registerSftRedemption=yWt;var R5={},pWt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(R5,"__esModule",{value:!0});R5.updateCrewConfig=void 0;function bWt(n,e,t,r,s){const i=[e];return o=>pWt(this,void 0,void 0,function*(){return{instruction:yield n.methods.updateCrewConfig(s).accountsStrict({key:e.publicKey(),profile:t,funder:o.publicKey(),crewConfig:r}).instruction(),signers:[...i,o]}})}R5.updateCrewConfig=bWt;var C5={},SWt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(C5,"__esModule",{value:!0});C5.updatePackTiers=void 0;const kWt=Cd;function vWt(n,e,t,r,s,i){const o=[e];return i=i??kWt.CrewConfig.findAddress(n)[0],a=>SWt(this,void 0,void 0,function*(){return{instruction:yield n.methods.updatePackTiers(s).accountsStrict({key:e.publicKey(),profile:t,funder:a.publicKey(),packTiers:r,crewConfig:i}).instruction(),signers:[...o,a]}})}C5.updatePackTiers=vWt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(CL,n),t(i_,n),t(P5,n),t(_5,n),t(E5,n),t(x5,n),t(T5,n),t(R5,n),t(C5,n)})(RBe);var Xz={},AWt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},wWt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},gc;Object.defineProperty(Xz,"__esModule",{value:!0});Xz.CrewPermissions=void 0;const MDe=tr;let wH=gc=class{constructor(e,t,r,s,i){this.registerSftRedemption=e,this.registerPackType=t,this.managePackTiers=r,this.mintCrewCards=s,this.provideServerHash=i}getPermissions(){const e=(0,MDe.fixedSizeArray)(8,0);return e[0]=(this.registerSftRedemption?1<<0:0)|(this.registerPackType?1<<1:0)|(this.managePackTiers?1<<2:0)|(this.mintCrewCards?1<<3:0)|(this.provideServerHash?1<<4:0),e}static empty(){return new gc(!1,!1,!1,!1,!1)}static all(){return new gc(!0,!0,!0,!0,!0)}static registerSftRedemption(){return gc.permissionsBuilder("registerSftRedemption")}static registerPackType(){return gc.permissionsBuilder("registerPackType")}static managePackTiers(){return gc.permissionsBuilder("managePackTiers")}static mintCrewCards(){return gc.permissionsBuilder("mintCrewCards")}static provideServerHash(){return gc.permissionsBuilder("provideServerHash")}static fromPermissions(e){return new gc((e[0]&1<<0)!==0,(e[0]&1<<1)!==0,(e[0]&1<<2)!==0,(e[0]&1<<3)!==0,(e[0]&1<<4)!==0)}and(e){return new gc(this.registerSftRedemption&&e.registerSftRedemption,this.registerPackType&&e.registerPackType,this.managePackTiers&&e.managePackTiers,this.mintCrewCards&&e.mintCrewCards,this.provideServerHash&&e.provideServerHash)}or(e){return new gc(this.registerSftRedemption||e.registerSftRedemption,this.registerPackType||e.registerPackType,this.managePackTiers||e.managePackTiers,this.mintCrewCards||e.mintCrewCards,this.provideServerHash||e.provideServerHash)}eq(e){return this.registerSftRedemption===e.registerSftRedemption&&this.registerPackType===e.registerPackType&&this.managePackTiers===e.managePackTiers&&this.mintCrewCards===e.mintCrewCards&&this.provideServerHash===e.provideServerHash}contains(e){return this.and(e).eq(e)}static permissionsBuilder(e){const t=Array.isArray(e)?e:[e],r=Object.keys(gc.empty()).map(s=>t.includes(s));if(r.length!==gc.length)throw console.error(r.length,gc.length),"Incorrect number of permissions";return new gc(...r)}};Xz.CrewPermissions=wH;Xz.CrewPermissions=wH=gc=AWt([(0,MDe.staticImplements)(),wWt("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean])],wH);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Cd,n),t(jz,n),t(cse,n),t(RBe,n),t(Xz,n),t(js,n)})(Dne);var IWt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(yL,"__esModule",{value:!0});yL.mintCrewMemberToSage=void 0;const PWt=qs,F0e=Dne;function _Wt(n,e,t,r,s,i,o,a,c,u,l,d,y,h,m=F0e.CrewConfig.findAddress(n)[0]){const{accounts:f,signers:g}=(0,F0e.mintCrewMemberAccounts)(n,e,t,r,s,i,o,a,c,u,l,d,m),b=[];return b.push({pubkey:y.sageProgram.programId,isWritable:!1,isSigner:!1}),b.push({pubkey:y.starbase,isWritable:!0,isSigner:!1}),b.push({pubkey:y.starbasePlayer,isWritable:!0,isSigner:!1}),b.push({pubkey:y.sageCrewConfig,isWritable:!1,isSigner:!1}),b.push({pubkey:PWt.SYSVAR_INSTRUCTIONS_PUBKEY,isWritable:!1,isSigner:!1}),()=>IWt(this,void 0,void 0,function*(){return{instruction:yield n.methods.mintCrewMember(h).accountsStrict(f).remainingAccounts(b).instruction(),signers:g}})}yL.mintCrewMemberToSage=_Wt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(YY,n),t(ud,n),t(UK,n),t(VK,n),t(m6,n),t(b6,n),t(Tl,n),t(em,n),t(Lz,n),t(el,n),t(Hp,n),t(Au,n),t(ld,n),t(yL,n),t(tl,n),t(Rl,n),t(y6,n),t(p6,n),t(Gf,n),t($ne,n),t(mL,n),t(hb,n),t(gL,n)})(Hwe);const H1=Y0e("playerProfileStore",{state:()=>({profile:{},profileKeys:[]}),getters:{},actions:{async createProfile(){var r;const n=(r=HD())==null?void 0:r.pg_playerProfile.value;mue.generate().publicKey,mue.generate().publicKey;const e={publicKey:()=>pue().publicKey,signTransaction:async s=>{try{return await pue().signTransaction(s)}catch(i){throw console.error("Transaction signing failed:",i),i}}},t=pA.PlayerProfile.createProfile(n,R2(),[{key:R2(),expireTime:null,scope:n==null?void 0:n.programId,permissions:pA.ProfilePermissions.all()}],1);await tr.buildAndSignTransaction(t,e,{connection:yue().connection,commitment:"confirmed"}),console.log(await t(e))},async updateStore(){this.profileKeys=[];const n=HD().pg_playerProfile.value,e=await yue().connection.getProgramAccounts(RXe,{filters:[{memcmp:{offset:30,bytes:R2().toString()}}]});console.log(e[0]),this.profile=e[0];let t=e[0].account.data.subarray(30);for(;t.length>=80;){const r=t.subarray(0,80);console.log(`currProfileKey: ${r}`);const s=n.coder.types.decode("profileKey",r);this.profileKeys.push({profileKeys:s,sagePermissions:Hwe.SagePermissions.fromPermissions(s.permissions)}),t=t.subarray(80)}}}}),EWt=ad("div",{class:"col"},"Permission for:",-1),xWt={class:"row"},TWt={class:"col"},RWt=IH({__name:"PlayerProfilePermissions",setup(n){return(e,t)=>(kv(!0),bue(kue,null,Sue(O1(H1)().profileKeys,r=>(kv(),GD(Z0e,{flat:"",bordered:"",key:r},{default:uf(()=>[ml(lD,{class:"row"},{default:uf(()=>[EWt,ad("div",null,C2(r.profileKeys.key),1)]),_:2},1024),ml(aOe,{bordered:"",separator:""},{default:uf(()=>[(kv(!0),bue(kue,null,Sue(Object.keys(r.sagePermissions),s=>(kv(),GD(iOe,{key:s},{default:uf(()=>[ml(oOe,{class:""},{default:uf(()=>[ad("div",xWt,[ad("div",TWt,C2(s.toUpperCase()),1),ml(sOe,{dense:"",modelValue:O1(H1)().profileKeys[0].sagePermissions[s],"onUpdate:modelValue":i=>O1(H1)().profileKeys[0].sagePermissions[s]=i,"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))}}),CWt=IH({__name:"PlayerProfileCreate",setup(n){return JDe("somenamw"),(e,t)=>(kv(),GD(XDe,{label:"Create Profile",onClick:t[0]||(t[0]=r=>O1(H1)().createProfile())}))}}),MWt="SageStore",pV=Y0e("sageStore",{state:()=>({game:{},games:[]}),getters:{},actions:{async updateStore(){var n;if(HD()){const e=(n=HD())==null?void 0:n.pg_sage.value;try{this.games=await(e==null?void 0:e.account.game.all()),this.game=this.games[0]}catch{this.games=void 0,this.game=void 0}console.log(`[Updated] ${MWt}`)}}}}),BWt=ad("div",{class:"col text-h6"},"Player Profile Integration",-1),zWt=ad("div",{class:"text-subtitle1"},"Playerprofile",-1),$Wt=ad("div",{class:"text-subtitle2 text-accent"}," Get access to your player profile data ",-1),DWt={class:"row items-center"},OWt=ad("div",{class:"col text-subtitle1"},"User",-1),KWt={class:"row items-center"},LWt=ad("div",{class:"col text-subtitle1"},"PlayerProfile",-1),rFt=IH({__name:"PlayerProfilePage",setup(n){return QDe(async()=>{await pV().updateStore(),await H1().updateStore()}),eOe(()=>R2(),async()=>{await pV().updateStore(),await H1().updateStore()}),(e,t)=>(kv(),GD(nOe,{class:"bg-black"},{default:uf(()=>[ml(Z0e,{flat:""},{default:uf(()=>[ml(lD,{class:"row items-center q-gutter-x-md"},{default:uf(()=>[ml(tOe,{name:"diversity_3",size:"md"}),BWt]),_:1}),ml(rOe),B5(" "+C2(O1(pV)().game)+" ",1),ml(lD,null,{default:uf(()=>[zWt,$Wt]),_:1}),ml(lD,{class:"q-gutter-y-sm"},{default:uf(()=>{var r,s;return[ad("div",DWt,[OWt,B5(" "+C2(O1(R2)().toString()??"not-found"),1)]),ad("div",KWt,[LWt,B5(" "+C2(((s=(r=O1(H1)().profile)==null?void 0:r.pubkey)==null?void 0:s.toString())??"not-found"),1)]),ml(RWt),ml(CWt)]}),_:1})]),_:1})]),_:1}))}});export{rFt as default};
