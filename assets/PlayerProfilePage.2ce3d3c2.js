import{P as N6e,e1 as F6e,dL as V,dM as fe,d6 as N,dN as F,dO as Ee,d7 as te,dP as we,dQ as Gt,dR as xe,da as ie,dW as tg,dX as rg,dY as ng,dT as Ae,dp as Ni,dc as ya,db as sg,e2 as ay,e3 as cy,e4 as uy,dA as Nve,d3 as rt,dK as Fve,bY as Uve,bW as Wl,bX as K,e5 as U6e,e6 as Cfe,e7 as Yq,e8 as Vve,e9 as qve,ea as GL,eb as V6e,ec as q6e,ed as H6e,ee as j6e,ef as G6e,dn as Y6e,dg as Hve,cp as Z6e,cR as Zq,au as gZ,b1 as LA,ak as Mfe,b7 as zfe,ai as YL,bx as Xf,as as Ql,al as jd,a1 as ZL,a6 as $fe,V as fM,J as J6e,cm as X6e,cP as Q6e,eg as e5e,aX as t5e,bs as r5e,co as n5e,ar as Dfe}from"./index.3efe1a99.js";import{Q as lL}from"./QCardSection.bcdc60f4.js";import{Q as s5e}from"./QSeparator.71133b9a.js";import{Q as jve}from"./use-form.313ff59a.js";import{Q as i5e}from"./QPage.25e16bcf.js";import{l as ga,a as rR}from"./lodash.8a30e658.js";import{s as sv}from"./sha256.db1b4e16.js";import{r as Nl}from"./index.ea984703.js";import{s as H,c as Z,a as Gve}from"./index.886520af.js";import{Q as o5e}from"./QToggle.c146ae66.js";import{Q as a5e,a as c5e}from"./QItem.9faee779.js";import{Q as u5e}from"./QList.f64daceb.js";import{h as l5e}from"./handleTransaction.3ce0ae1f.js";import"./errors.1718b3ce.js";import"./transferChecked.d940b69e.js";import"./associatedTokenAccount.6b1e557e.js";import"./use-checkbox.37a502c1.js";const d5e=new N6e(F6e.address);var Yve={},mZ={};function JL(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function f5e(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function m$(n,...e){if(!f5e(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function h5e(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");JL(n.outputLen),JL(n.blockLen)}function Ww(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Zve(n,e){m$(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const eF=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const g5e=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),tF=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),vf=(n,e)=>n<<32-e|n>>>e,Ofe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,m5e=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function Lfe(n){for(let e=0;e<n.length;e++)n[e]=m5e(n[e])}function y5e(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function yK(n){return typeof n=="string"&&(n=y5e(n)),m$(n),n}function p5e(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];m$(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class yZ{clone(){return this._cloneInto()}}function pZ(n){const e=r=>n().update(yK(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function Jve(n=32){if(eF&&typeof eF.getRandomValues=="function")return eF.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function b5e(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const S5e=(n,e,t)=>n&e^~n&t,k5e=(n,e,t)=>n&e^n&t^e&t;class Xve extends yZ{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=tF(this.buffer)}update(e){Ww(this);const{view:t,buffer:r,blockLen:s}=this;e=yK(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=tF(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ww(this),Zve(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;b5e(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=tF(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const Z8=BigInt(2**32-1),Jq=BigInt(32);function Qve(n,e=!1){return e?{h:Number(n&Z8),l:Number(n>>Jq&Z8)}:{h:Number(n>>Jq&Z8)|0,l:Number(n&Z8)|0}}function eAe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=Qve(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const v5e=(n,e)=>BigInt(n>>>0)<<Jq|BigInt(e>>>0),A5e=(n,e,t)=>n>>>t,w5e=(n,e,t)=>n<<32-t|e>>>t,I5e=(n,e,t)=>n>>>t|e<<32-t,_5e=(n,e,t)=>n<<32-t|e>>>t,P5e=(n,e,t)=>n<<64-t|e>>>t-32,E5e=(n,e,t)=>n>>>t-32|e<<64-t,x5e=(n,e)=>e,T5e=(n,e)=>n,tAe=(n,e,t)=>n<<t|e>>>32-t,rAe=(n,e,t)=>e<<t|n>>>32-t,nAe=(n,e,t)=>e<<t-32|n>>>64-t,sAe=(n,e,t)=>n<<t-32|e>>>64-t;function R5e(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const B5e=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),C5e=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,M5e=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),z5e=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,$5e=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),D5e=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,Kr={fromBig:Qve,split:eAe,toBig:v5e,shrSH:A5e,shrSL:w5e,rotrSH:I5e,rotrSL:_5e,rotrBH:P5e,rotrBL:E5e,rotr32H:x5e,rotr32L:T5e,rotlSH:tAe,rotlSL:rAe,rotlBH:nAe,rotlBL:sAe,add:R5e,add3L:B5e,add3H:C5e,add4L:M5e,add4H:z5e,add5H:D5e,add5L:$5e},[O5e,L5e]=(()=>Kr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),ky=new Uint32Array(80),vy=new Uint32Array(80);class K5e extends Xve{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)ky[p]=e.getUint32(t),vy[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=ky[p-15]|0,w=vy[p-15]|0,A=Kr.rotrSH(I,w,1)^Kr.rotrSH(I,w,8)^Kr.shrSH(I,w,7),P=Kr.rotrSL(I,w,1)^Kr.rotrSL(I,w,8)^Kr.shrSL(I,w,7),E=ky[p-2]|0,M=vy[p-2]|0,x=Kr.rotrSH(E,M,19)^Kr.rotrBH(E,M,61)^Kr.shrSH(E,M,6),R=Kr.rotrSL(E,M,19)^Kr.rotrBL(E,M,61)^Kr.shrSL(E,M,6),$=Kr.add4L(P,R,vy[p-7],vy[p-16]),z=Kr.add4H($,A,x,ky[p-7],ky[p-16]);ky[p]=z|0,vy[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Kr.rotrSH(d,y,14)^Kr.rotrSH(d,y,18)^Kr.rotrBH(d,y,41),w=Kr.rotrSL(d,y,14)^Kr.rotrSL(d,y,18)^Kr.rotrBL(d,y,41),A=d&h^~d&f,P=y&m^~y&g,E=Kr.add5L(S,w,P,L5e[p],vy[p]),M=Kr.add5H(E,b,I,A,O5e[p],ky[p]),x=E|0,R=Kr.rotrSH(r,s,28)^Kr.rotrBH(r,s,34)^Kr.rotrBH(r,s,39),$=Kr.rotrSL(r,s,28)^Kr.rotrBL(r,s,34)^Kr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Kr.add(u|0,l|0,M|0,x|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Kr.add3L(x,$,T);r=Kr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Kr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Kr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Kr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Kr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Kr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Kr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Kr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Kr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){ky.fill(0),vy.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const W5e=pZ(()=>new K5e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bZ=BigInt(0),pK=BigInt(1),N5e=BigInt(2);function nk(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function y$(n){if(!nk(n))throw new Error("Uint8Array expected")}function qm(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const F5e=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function sk(n){y$(n);let e="";for(let t=0;t<n.length;t++)e+=F5e[n[t]];return e}function iAe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function SZ(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const vg={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Kfe(n){if(n>=vg._0&&n<=vg._9)return n-vg._0;if(n>=vg._A&&n<=vg._F)return n-(vg._A-10);if(n>=vg._a&&n<=vg._f)return n-(vg._a-10)}function Nw(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Kfe(n.charCodeAt(i)),a=Kfe(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function jS(n){return SZ(sk(n))}function sw(n){return y$(n),SZ(sk(Uint8Array.from(n).reverse()))}function Fw(n,e){return Nw(n.toString(16).padStart(e*2,"0"))}function $M(n,e){return Fw(n,e).reverse()}function U5e(n){return Nw(iAe(n))}function Ia(n,e,t){let r;if(typeof e=="string")try{r=Nw(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(nk(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function ik(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];y$(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function V5e(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function q5e(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const rF=n=>typeof n=="bigint"&&bZ<=n;function bK(n,e,t){return rF(n)&&rF(e)&&rF(t)&&e<=n&&n<t}function td(n,e,t,r){if(!bK(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function H5e(n){let e;for(e=0;n>bZ;n>>=pK,e+=1);return e}function j5e(n,e){return n>>BigInt(e)&pK}function G5e(n,e,t){return n|(t?pK:bZ)<<BigInt(e)}const kZ=n=>(N5e<<BigInt(n-1))-pK,nF=n=>new Uint8Array(n),Wfe=n=>Uint8Array.from(n);function oAe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=nF(n),s=nF(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=nF())=>{s=a(Wfe([0]),d),r=a(),d.length!==0&&(s=a(Wfe([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return ik(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const Y5e={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||nk(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function nR(n,e,t={}){const r=(s,i,o)=>{const a=Y5e[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const Z5e=()=>{throw new Error("not implemented")};function DM(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var J5e=Object.freeze(Object.defineProperty({__proto__:null,isBytes:nk,abytes:y$,abool:qm,bytesToHex:sk,numberToHexUnpadded:iAe,hexToNumber:SZ,hexToBytes:Nw,bytesToNumberBE:jS,bytesToNumberLE:sw,numberToBytesBE:Fw,numberToBytesLE:$M,numberToVarBytesBE:U5e,ensureBytes:Ia,concatBytes:ik,equalBytes:V5e,utf8ToBytes:q5e,inRange:bK,aInRange:td,bitLen:H5e,bitGet:j5e,bitSet:G5e,bitMask:kZ,createHmacDrbg:oAe,validateObject:nR,notImplemented:Z5e,memoized:DM},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wc=BigInt(0),to=BigInt(1),tS=BigInt(2),X5e=BigInt(3),Xq=BigInt(4),Nfe=BigInt(5),Ffe=BigInt(8);BigInt(9);BigInt(16);function Bi(n,e){const t=n%e;return t>=wc?t:e+t}function Q5e(n,e,t){if(t<=wc||e<wc)throw new Error("Expected power/modulo > 0");if(t===to)return wc;let r=to;for(;e>wc;)e&to&&(r=r*n%t),n=n*n%t,e>>=to;return r}function Ao(n,e,t){let r=n;for(;e-- >wc;)r*=r,r%=t;return r}function Qq(n,e){if(n===wc||e<=wc)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=Bi(n,e),r=e,s=wc,i=to;for(;t!==wc;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==to)throw new Error("invert: does not exist");return Bi(s,e)}function eWe(n){const e=(n-to)/tS;let t,r,s;for(t=n-to,r=0;t%tS===wc;t/=tS,r++);for(s=tS;s<n&&Q5e(s,e,n)!==n-to;s++);if(r===1){const o=(n+to)/Xq;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+to)/tS;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,to<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function tWe(n){if(n%Xq===X5e){const e=(n+to)/Xq;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Ffe===Nfe){const e=(n-Nfe)/Ffe;return function(r,s){const i=r.mul(s,tS),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,tS),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return eWe(n)}const rWe=(n,e)=>(Bi(n,e)&to)===to,nWe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sWe(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=nWe.reduce((r,s)=>(r[s]="function",r),e);return nR(n,t)}function iWe(n,e,t){if(t<wc)throw new Error("Expected power > 0");if(t===wc)return n.ONE;if(t===to)return e;let r=n.ONE,s=e;for(;t>wc;)t&to&&(r=n.mul(r,s)),s=n.sqr(s),t>>=to;return r}function oWe(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function aAe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function cAe(n,e,t=!1,r={}){if(n<=wc)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=aAe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=tWe(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:kZ(s),ZERO:wc,ONE:to,create:c=>Bi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return wc<=c&&c<n},is0:c=>c===wc,isOdd:c=>(c&to)===to,neg:c=>Bi(-c,n),eql:(c,u)=>c===u,sqr:c=>Bi(c*c,n),add:(c,u)=>Bi(c+u,n),sub:(c,u)=>Bi(c-u,n),mul:(c,u)=>Bi(c*u,n),pow:(c,u)=>iWe(a,c,u),div:(c,u)=>Bi(c*Qq(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Qq(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>oWe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?$M(c,i):Fw(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?sw(c):jS(c)}});return Object.freeze(a)}function uAe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function lAe(n){const e=uAe(n);return e+Math.ceil(e/2)}function aWe(n,e,t=!1){const r=n.length,s=uAe(e),i=lAe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?jS(n):sw(n),a=Bi(o,e-to)+to;return t?$M(a,s):Fw(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cWe=BigInt(0),sF=BigInt(1),iF=new WeakMap,Ufe=new WeakMap;function dAe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>cWe;)o&sF&&(a=a.add(c)),c=c.double(),o>>=sF;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=sF);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=Ufe.get(i)||1;let u=iF.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&iF.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),Ufe.set(i,o),iF.delete(i)}}}function vZ(n){return sWe(n.Fp),nR(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...aAe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pd=BigInt(0),pu=BigInt(1),J8=BigInt(2),uWe=BigInt(8),lWe={zip215:!0};function dWe(n){const e=vZ(n);return nR(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function fWe(n){const e=dWe(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=J8<<BigInt(a*8)-pu,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:pd}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,_)=>{if(qm("phflag",_),k.length||_)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){td("coordinate "+v,k,pd,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=DM((v,k)=>{const{ex:_,ey:B,ez:C}=v,O=v.is0();k==null&&(k=O?uWe:t.inv(C));const D=l(_*k),W=l(B*k),L=l(C*k);if(O)return{x:pd,y:pu};if(L!==pu)throw new Error("invZ was invalid");return{x:D,y:W}}),b=DM(v=>{const{a:k,d:_}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:B,ey:C,ez:O,et:D}=v,W=l(B*B),L=l(C*C),U=l(O*O),q=l(U*U),J=l(W*k),Q=l(U*l(J+L)),j=l(q+l(_*l(W*L)));if(Q!==j)throw new Error("bad point: equation left != right (1)");const X=l(B*C),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,_,B,C){this.ex=k,this.ey=_,this.ez=B,this.et=C,m("x",k),m("y",_),m("z",B),m("t",C),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x:_,y:B}=k||{};return m("x",_),m("y",B),new S(_,B,pu,l(_*B))}static normalizeZ(k){const _=t.invertBatch(k.map(B=>B.ez));return k.map((B,C)=>B.toAffine(_[C])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:_,ey:B,ez:C}=this,{ex:O,ey:D,ez:W}=k,L=l(_*W),U=l(O*C),q=l(B*W),J=l(D*C);return L===U&&q===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:_,ey:B,ez:C}=this,O=l(_*_),D=l(B*B),W=l(J8*l(C*C)),L=l(k*O),U=_+B,q=l(l(U*U)-O-D),J=L+D,Q=J-W,j=L-D,X=l(q*Q),re=l(J*j),se=l(q*j),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:_,d:B}=e,{ex:C,ey:O,ez:D,et:W}=this,{ex:L,ey:U,ez:q,et:J}=k;if(_===BigInt(-1)){const $t=l((O-C)*(U+L)),_t=l((O+C)*(U-L)),tt=l(_t-$t);if(tt===pd)return this.double();const Ve=l(D*J8*J),qt=l(W*J8*q),lr=qt+Ve,ur=_t+$t,hr=qt-Ve,Rr=l(lr*tt),ms=l(ur*hr),kn=l(lr*hr),ys=l(tt*ur);return new S(Rr,ms,ys,kn)}const Q=l(C*L),j=l(O*U),X=l(W*B*J),re=l(D*q),se=l((C+O)*(L+U)-Q-j),ee=re-X,ne=re+X,_e=l(j-_*Q),Pe=l(se*ee),We=l(ne*_e),Ne=l(se*_e),Yt=l(ee*ne);return new S(Pe,We,Yt,Ne)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const _=k;td("scalar",_,pu,r);const{p:B,f:C}=this.wNAF(_);return S.normalizeZ([B,C])[0]}multiplyUnsafe(k){const _=k;return td("scalar",_,pd,r),_===pd?I:this.equals(I)||_===pu?this:this.equals(p)?this.wNAF(_).p:w.unsafeLadder(this,_)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===pu?this:this.multiplyUnsafe(k)}static fromHex(k,_=!1){const{d:B,a:C}=e,O=t.BYTES;k=Ia("pointHex",k,O),qm("zip215",_);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=sw(D),U=_?u:t.ORDER;td("pointHex.y",L,pd,U);const q=l(L*L),J=l(q-pu),Q=l(B*q-C);let{isValid:j,value:X}=d(J,Q);if(!j)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&pu)===pu,se=(W&128)!==0;if(!_&&X===pd&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:_}=this.toAffine(),B=$M(_,t.BYTES);return B[B.length-1]|=k&pu?128:0,B}toHex(){return sk(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,pu,l(e.Gx*e.Gy)),S.ZERO=new S(pd,pu,pu,pd);const{BASE:p,ZERO:I}=S,w=dAe(S,a*8);function A(v){return Bi(v,r)}function P(v){return A(sw(v))}function E(v){const k=a;v=Ia("private key",v,k);const _=Ia("hashed private key",i(v),2*k),B=y(_.slice(0,k)),C=_.slice(k,2*k),O=P(B),D=p.multiply(O),W=D.toRawBytes();return{head:B,prefix:C,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function x(v=new Uint8Array,...k){const _=ik(...k);return P(i(h(_,Ia("context",v),!!s)))}function R(v,k,_={}){v=Ia("message",v),s&&(v=s(v));const{prefix:B,scalar:C,pointBytes:O}=E(k),D=x(_.context,B,v),W=p.multiply(D).toRawBytes(),L=x(_.context,W,O,v),U=A(D+L*C);td("signature.s",U,pd,r);const q=ik(W,$M(U,t.BYTES));return Ia("result",q,a*2)}const $=lWe;function z(v,k,_,B=$){const{context:C,zip215:O}=B,D=t.BYTES;v=Ia("signature",v,2*D),k=Ia("message",k),O!==void 0&&qm("zip215",O),s&&(k=s(k));const W=sw(v.slice(D,2*D));let L,U,q;try{L=S.fromHex(_,O),U=S.fromHex(v.slice(0,D),O),q=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=x(C,U.toRawBytes(),L.toRawBytes(),k);return U.add(L.multiplyUnsafe(J)).subtract(q).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const AZ=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Vfe=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const hWe=BigInt(1),qfe=BigInt(2);BigInt(3);const gWe=BigInt(5),mWe=BigInt(8);function yWe(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=AZ,a=n*n%i*n%i,c=Ao(a,qfe,i)*a%i,u=Ao(c,hWe,i)*n%i,l=Ao(u,gWe,i)*u%i,d=Ao(l,e,i)*l%i,y=Ao(d,t,i)*d%i,h=Ao(y,r,i)*y%i,m=Ao(h,s,i)*h%i,f=Ao(m,s,i)*h%i,g=Ao(f,e,i)*l%i;return{pow_p_5_8:Ao(g,qfe,i)*n%i,b2:a}}function pWe(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function bWe(n,e){const t=AZ,r=Bi(e*e*e,t),s=Bi(r*r*e,t),i=yWe(n*s).pow_p_5_8;let o=Bi(n*r*i,t);const a=Bi(e*o*o,t),c=o,u=Bi(o*Vfe,t),l=a===n,d=a===Bi(-n,t),y=a===Bi(-n*Vfe,t);return l&&(o=c),(d||y)&&(o=u),rWe(o,t)&&(o=Bi(-o,t)),{isValid:l||d,value:o}}const SWe=(()=>cAe(AZ,void 0,!0))(),kWe=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:SWe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:mWe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:W5e,randomBytes:Jve,adjustScalarBytes:pWe,uvRatio:bWe}))(),sR=(()=>fWe(kWe))(),vWe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ay=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wy=new Uint32Array(64);class AWe extends Xve{constructor(){super(64,32,8,!1),this.A=Ay[0]|0,this.B=Ay[1]|0,this.C=Ay[2]|0,this.D=Ay[3]|0,this.E=Ay[4]|0,this.F=Ay[5]|0,this.G=Ay[6]|0,this.H=Ay[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)wy[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=wy[d-15],h=wy[d-2],m=vf(y,7)^vf(y,18)^y>>>3,f=vf(h,17)^vf(h,19)^h>>>10;wy[d]=f+wy[d-7]+m+wy[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=vf(a,6)^vf(a,11)^vf(a,25),h=l+y+S5e(a,c,u)+vWe[d]+wy[d]|0,f=(vf(r,2)^vf(r,13)^vf(r,22))+k5e(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){wy.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const eH=pZ(()=>new AWe);class wWe extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function IWe(n){return p$(n)&&typeof n[Symbol.iterator]=="function"}function p$(n){return typeof n=="object"&&n!=null}function XL(n){return p$(n)&&!Array.isArray(n)}function Jd(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function _We(n){const{done:e,value:t}=n.next();return e?void 0:t}function PWe(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Jd(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*Hfe(n,e,t,r){IWe(n)||(n=[n]);for(const s of n){const i=PWe(s,e,t,r);i&&(yield i)}}function*wZ(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=wZ(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):p$(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class ig{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return Hfe(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return Hfe(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return fAe(e,this,t)}create(e,t){return mt(e,this,t)}is(e){return hAe(e,this)}mask(e,t){return EWe(e,this,t)}validate(e,t={}){return b$(e,this,t)}}function fAe(n,e,t){const r=b$(n,e,{message:t});if(r[0])throw r[0]}function mt(n,e,t){const r=b$(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function EWe(n,e,t){const r=b$(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function hAe(n,e){return!b$(n,e)[0]}function b$(n,e,t={}){const r=wZ(n,e,t),s=_We(r);if(s[0])return[new wWe(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function iv(n,e){return new ig({type:n,schema:null,validator:e})}function xWe(){return iv("any",()=>!0)}function Pt(n){return new ig({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Jd(e)}`}})}function Uh(){return iv("boolean",n=>typeof n=="boolean")}function IZ(n){return iv("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${Jd(e)}`)}function qi(n){const e=Jd(n),t=typeof n;return new ig({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${Jd(r)}`}})}function TWe(){return iv("never",()=>!1)}function Dt(n){return new ig({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function he(){return iv("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${Jd(n)}`)}function br(n){return new ig({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function gAe(n,e){return new ig({type:"record",schema:null,*entries(t){if(p$(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return XL(t)||`Expected an object, but received: ${Jd(t)}`},coercer(t){return XL(t)?{...t}:t}})}function He(){return iv("string",n=>typeof n=="string"||`Expected a string, but received: ${Jd(n)}`)}function _Z(n){const e=TWe();return new ig({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${Jd(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Re(n){const e=Object.keys(n);return new ig({type:"type",schema:n,*entries(t){if(p$(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return XL(t)||`Expected an object, but received: ${Jd(t)}`},coercer(t){return XL(t)?{...t}:t}})}function iu(n){const e=n.map(t=>t.type).join(" | ");return new ig({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=wZ(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Jd(t)}`,...s]}})}function iR(){return iv("unknown",()=>!0)}function S$(n,e,t){return new ig({...n,coercer:(r,s)=>hAe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const mAe=[],yAe=[],pAe=[],RWe=BigInt(0),G2=BigInt(1),BWe=BigInt(2),CWe=BigInt(7),MWe=BigInt(256),zWe=BigInt(113);for(let n=0,e=G2,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],mAe.push(2*(5*r+t)),yAe.push((n+1)*(n+2)/2%64);let s=RWe;for(let i=0;i<7;i++)e=(e<<G2^(e>>CWe)*zWe)%MWe,e&BWe&&(s^=G2<<(G2<<BigInt(i))-G2);pAe.push(s)}const[$We,DWe]=eAe(pAe,!0),jfe=(n,e,t)=>t>32?nAe(n,e,t):tAe(n,e,t),Gfe=(n,e,t)=>t>32?sAe(n,e,t):rAe(n,e,t);function OWe(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=jfe(u,l,1)^t[a],y=Gfe(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=yAe[o],c=jfe(s,i,a),u=Gfe(s,i,a),l=mAe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=$We[r],n[1]^=DWe[r]}t.fill(0)}class PZ extends yZ{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,JL(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=g5e(this.state)}keccak(){Ofe||Lfe(this.state32),OWe(this.state32,this.rounds),Ofe||Lfe(this.state32),this.posOut=0,this.pos=0}update(e){Ww(this);const{blockLen:t,state:r}=this;e=yK(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Ww(this,!1),m$(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return JL(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Zve(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new PZ(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const LWe=(n,e,t)=>pZ(()=>new PZ(e,n,t)),Yfe=LWe(1,136,256/8);class bAe extends yZ{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,h5e(e);const r=yK(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Ww(this),this.iHash.update(e),this}digestInto(e){Ww(this),m$(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const SAe=(n,e,t)=>new bAe(n,e).update(t).digest();SAe.create=(n,e)=>new bAe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Zfe(n){n.lowS!==void 0&&qm("lowS",n.lowS),n.prehash!==void 0&&qm("prehash",n.prehash)}function KWe(n){const e=vZ(n);nR(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:WWe,hexToBytes:NWe}=J5e,_S={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=_S;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:WWe(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=_S,t=typeof n=="string"?NWe(n):n;y$(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=_S._parseInt(t.subarray(2)),{d:o,l:a}=_S._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Tp=BigInt(0),La=BigInt(1);BigInt(2);const Jfe=BigInt(3);BigInt(4);function FWe(n){const e=KWe(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return ik(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return bK(m,La,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(nk(m)&&(m=sk(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:jS(Ia("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=Bi(p,S)),td("private key",p,La,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=DM((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=DM(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(Ia("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),P=t.eql(t.mul(b,w),t.mul(I,S));return A&&P}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,Jfe),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,P=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),x=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),P=t.mul(S,I),P=t.add(P,P),w=t.mul(f,P),A=t.mul(b,x),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),P=t.mul(b,P),x=t.mul(f,x),R=t.sub(E,x),R=t.mul(f,R),R=t.add(R,P),P=t.add(E,E),E=t.add(P,E),E=t.add(E,x),E=t.mul(E,R),A=t.add(A,E),x=t.mul(p,I),x=t.add(x,x),E=t.mul(x,R),w=t.sub(w,E),P=t.mul(x,M),P=t.add(P,P),P=t.add(P,P),new d(w,A,P)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,P=t.ZERO,E=t.ZERO;const M=e.a,x=t.mul(e.b,Jfe);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(x,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),P=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(x,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),P=t.add(P,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,P,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){td("scalar",f,Tp,e.n);const g=d.ZERO;if(f===Tp)return g;if(f===La)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,P=g,E=this;for(;p>Tp||w>Tp;)p&La&&(A=A.add(E)),w&La&&(P=P.add(E)),E=E.double(),p>>=La,w>>=La;return S&&(A=A.negate()),I&&(P=P.negate()),P=new d(t.mul(P.px,b.beta),P.py,P.pz),A.add(P)}multiply(f){const{endo:g,n:b}=e;td("scalar",f,La,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:P}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:x,f:R}=this.wNAF(P);E=h.constTimeNegate(I,E),x=h.constTimeNegate(A,x),x=new d(t.mul(x.px,g.beta),x.py,x.pz),S=E.add(x),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===Tp||A===La||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===La)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===La?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return qm("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return qm("isCompressed",f),sk(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=dAe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function UWe(n){const e=vZ(n);return nR(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function VWe(n){const e=UWe(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return Bi(T,r)}function a(T){return Qq(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=FWe({...e,toBytes(T,v,k){const _=v.toAffine(),B=t.toBytes(_.x),C=ik;return qm("isCompressed",k),k?C(Uint8Array.from([v.hasEvenY()?2:3]),B):C(Uint8Array.from([4]),B,t.toBytes(_.y))},fromBytes(T){const v=T.length,k=T[0],_=T.subarray(1);if(v===s&&(k===2||k===3)){const B=jS(_);if(!bK(B,La,t.ORDER))throw new Error("Point is not on curve");const C=l(B);let O;try{O=t.sqrt(C)}catch(L){const U=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+U)}const D=(O&La)===La;return(k&1)===1!==D&&(O=t.neg(O)),{x:B,y:O}}else if(v===i&&k===4){const B=t.fromBytes(_.subarray(0,t.BYTES)),C=t.fromBytes(_.subarray(t.BYTES,2*t.BYTES));return{x:B,y:C}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>sk(Fw(T,e.nByteLength));function h(T){const v=r>>La;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>jS(T.slice(v,k));class g{constructor(v,k,_){this.r=v,this.s=k,this.recovery=_,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=Ia("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:_}=_S.toSig(Ia("DER",v));return new g(k,_)}assertValidity(){td("r",this.r,La,r),td("s",this.s,La,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:_,recovery:B}=this,C=A(Ia("msgHash",v));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const O=B===2||B===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(B&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),U=o(-C*L),q=o(_*L),J=c.BASE.multiplyAndAddUnsafe(W,U,q);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Nw(this.toDERHex())}toDERHex(){return _S.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Nw(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=lAe(e.n);return aWe(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=nk(T),k=typeof T=="string",_=(v||k)&&T.length;return v?_===s||_===i:k?_===2*s||_===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=jS(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},P=kZ(e.nBitLength);function E(T){return td(`num < 2^${e.nBitLength}`,T,Tp,P),Fw(T,e.nByteLength)}function M(T,v,k=x){if(["recovered","canonical"].some(j=>j in k))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:B}=e;let{lowS:C,prehash:O,extraEntropy:D}=k;C==null&&(C=!0),T=Ia("msgHash",T),Zfe(k),O&&(T=Ia("prehashed msgHash",_(T)));const W=A(T),L=u(v),U=[E(L),E(W)];if(D!=null&&D!==!1){const j=D===!0?B(t.BYTES):D;U.push(Ia("extraEntropy",j))}const q=ik(...U),J=W;function Q(j){const X=w(j);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Tp)return;const ne=o(re*o(J+ee*L));if(ne===Tp)return;let _e=(se.x===ee?0:2)|Number(se.y&La),Pe=ne;return C&&h(ne)&&(Pe=m(ne),_e^=1),new g(ee,Pe,_e)}return{seed:q,k2sig:Q}}const x={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=x){const{seed:_,k2sig:B}=M(T,v,k),C=e;return oAe(C.hash.outputLen,C.nByteLength,C.hmac)(_,B)}c.BASE._setWindowSize(8);function z(T,v,k,_=R){var se;const B=T;if(v=Ia("msgHash",v),k=Ia("publicKey",k),"strict"in _)throw new Error("options.strict was renamed to lowS");Zfe(_);const{lowS:C,prehash:O}=_;let D,W;try{if(typeof B=="string"||nk(B))try{D=g.fromDER(B)}catch(ee){if(!(ee instanceof _S.Err))throw ee;D=g.fromCompact(B)}else if(typeof B=="object"&&typeof B.r=="bigint"&&typeof B.s=="bigint"){const{r:ee,s:ne}=B;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(C&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:U}=D,q=A(v),J=a(U),Q=o(q*J),j=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,j))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function qWe(n){return{hash:n,hmac:(e,...t)=>SAe(n,e,p5e(...t)),randomBytes:Jve}}function HWe(n,e){const t=r=>VWe({...n,...qWe(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kAe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Xfe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),jWe=BigInt(1),tH=BigInt(2),Qfe=(n,e)=>(n+e/tH)/e;function GWe(n){const e=kAe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=Ao(l,t,e)*l%e,y=Ao(d,t,e)*l%e,h=Ao(y,tH,e)*u%e,m=Ao(h,s,e)*h%e,f=Ao(m,i,e)*m%e,g=Ao(f,a,e)*f%e,b=Ao(g,c,e)*g%e,S=Ao(b,a,e)*f%e,p=Ao(S,t,e)*l%e,I=Ao(p,o,e)*m%e,w=Ao(I,r,e)*u%e,A=Ao(w,tH,e);if(!rH.eql(rH.sqr(A),n))throw new Error("Cannot find square root");return A}const rH=cAe(kAe,void 0,void 0,{sqrt:GWe}),SK=HWe({a:BigInt(0),b:BigInt(7),Fp:rH,n:Xfe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Xfe,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-jWe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=Qfe(i*n,e),c=Qfe(-r*n,e);let u=Bi(n-a*t-c*s,e),l=Bi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},eH);BigInt(0);SK.ProjectivePoint;const YWe=sR.utils.randomPrivateKey,ehe=()=>{const n=sR.utils.randomPrivateKey(),e=QL(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},QL=sR.getPublicKey;function the(n){try{return sR.ExtendedPoint.fromHex(n),!0}catch{return!1}}const EZ=(n,e)=>sR.sign(n,e.slice(0,32)),ZWe=sR.verify,cn=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class xZ{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(tg(hM,this))}static decode(e){return rg(hM,this,e)}static decodeUnchecked(e){return ng(hM,this,e)}}class JWe extends xZ{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const hM=new Map;var vAe;const AAe=32,Bh=32;function XWe(n){return n._bn!==void 0}let rhe=1;class Te extends xZ{constructor(e){if(super({}),this._bn=void 0,XWe(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ae.decode(e);if(t.length!=Bh)throw new Error("Invalid public key input");this._bn=new Ni(t)}else this._bn=new Ni(e);if(this._bn.byteLength()>Bh)throw new Error("Invalid public key input")}}static unique(){const e=new Te(rhe);return rhe+=1,new Te(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ae.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Bh)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=eH(s);return new Te(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>AAe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,cn(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=eH(r);if(the(s))throw new Error("Invalid seeds, address must fall off the curve");return new Te(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new Te(e);return the(t.toBytes())}}vAe=Te;Te.default=new vAe("11111111111111111111111111111111");hM.set(Te,{kind:"struct",fields:[["_bn","u256"]]});class QWe{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=cn(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=cn(YWe()),this._publicKey=cn(QL(this._secretKey))}get publicKey(){return new Te(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const eNe=new Te("BPFLoader1111111111111111111111111111111111"),Hp=1280-40-8,kK=127,OM=64;class TZ extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TZ.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class RZ extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(RZ.prototype,"name",{value:"TransactionExpiredTimeoutError"});class KA extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(KA.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class LM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const En=(n="publicKey")=>ie(32,n),tNe=(n="signature")=>ie(64,n),PS=(n="string")=>{const e=N([F("length"),F("lengthPadding"),ie(Gt(F(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>F().span+F().span+V.Buffer.from(i,"utf8").length,s},rNe=(n="authorized")=>N([En("staker"),En("withdrawer")],n),nNe=(n="lockup")=>N([Ee("unixTimestamp"),Ee("epoch"),En("custodian")],n),sNe=(n="voteInit")=>N([En("nodePubkey"),En("authorizedVoter"),En("authorizedWithdrawer"),te("commission")],n),iNe=(n="voteAuthorizeWithSeedArgs")=>N([F("voteAuthorizationType"),En("currentAuthorityDerivedKeyOwnerPubkey"),PS("currentAuthorityDerivedKeySeed"),En("newAuthorized")],n);function wAe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return wAe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function Mu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function pl(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Jn(n,e){if(!n)throw new Error(e||"Assertion failed")}class vK{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new vK(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Jn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Jn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Jn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new Te(c)),...r.map(([c])=>new Te(c)),...s.map(([c])=>new Te(c)),...i.map(([c])=>new Te(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new Te(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Jn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const IAe="Reached end of buffer unexpectedly";function Qf(n){if(n.length===0)throw new Error(IAe);return n.shift()}function zu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(IAe);return n.splice(...e)}class Xd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new Te(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ae.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new LM(this.staticAccountKeys)}static compile(e){const t=vK.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new LM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ae.encode(a.data)}));return new Xd({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];pl(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ae.decode(d.data));let f=[];pl(f,y.length);let g=[];return pl(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];pl(s,r.length);let i=V.Buffer.alloc(Hp);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=N([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=N([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(En("key"),e,"keys"),En("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>cn(d.toBytes())),recentBlockhash:Ae.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=Qf(t);if(r!==(r&kK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Qf(t),i=Qf(t),o=Mu(t);let a=[];for(let y=0;y<o;y++){const h=zu(t,0,Bh);a.push(new Te(V.Buffer.from(h)))}const c=zu(t,0,Bh),u=Mu(t);let l=[];for(let y=0;y<u;y++){const h=Qf(t),m=Mu(t),f=zu(t,0,m),g=Mu(t),b=zu(t,0,g),S=Ae.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ae.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new Xd(d)}}class ok{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new LM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=vK.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new LM(a,s).compileInstructions(e.instructions);return new ok({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();pl(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();pl(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();pl(i,this.addressTableLookups.length);const o=N([te("prefix"),N([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(En(),this.staticAccountKeys.length,"staticAccountKeys"),En("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Hp),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ae.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Hp);for(const r of this.compiledInstructions){const s=Array();pl(s,r.accountKeyIndexes.length);const i=Array();pl(i,r.data.length),e+=N([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Hp);for(const r of this.addressTableLookups){const s=Array();pl(s,r.writableIndexes.length);const i=Array();pl(i,r.readonlyIndexes.length),e+=N([En("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Qf(t),s=r&kK;Jn(r!==s,"Expected versioned message but received legacy message");const i=s;Jn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:Qf(t),numReadonlySignedAccounts:Qf(t),numReadonlyUnsignedAccounts:Qf(t)},a=[],c=Mu(t);for(let m=0;m<c;m++)a.push(new Te(zu(t,0,Bh)));const u=Ae.encode(zu(t,0,Bh)),l=Mu(t),d=[];for(let m=0;m<l;m++){const f=Qf(t),g=Mu(t),b=zu(t,0,g),S=Mu(t),p=new Uint8Array(zu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=Mu(t),h=[];for(let m=0;m<y;m++){const f=new Te(zu(t,0,Bh)),g=Mu(t),b=zu(t,0,g),S=Mu(t),p=zu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new ok({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const BZ={deserializeMessageVersion(n){const e=n[0],t=e&kK;return t===e?"legacy":t},deserialize:n=>{const e=BZ.deserializeMessageVersion(n);if(e==="legacy")return Xd.from(n);if(e===0)return ok.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let gm=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const oNe=V.Buffer.alloc(OM).fill(0);class xs{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Zn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new xs(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new Te(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ae.encode(g)}});return m.forEach(f=>{Jn(f.programIdIndex>=0),f.accounts.forEach(g=>Jn(g>=0))}),new Xd({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=EZ(r,s.secretKey);this._addSignature(s.publicKey,cn(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Jn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):ZWe(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];pl(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Jn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Jn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Jn(i.length<=Hp,`Transaction too large: ${i.length} > ${Hp}`),i}get keys(){return Jn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Jn(this.instructions.length===1),this.instructions[0].programId}get data(){return Jn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Mu(t);let s=[];for(let i=0;i<r;i++){const o=zu(t,0,OM);s.push(Ae.encode(V.Buffer.from(o)))}return Zn.populate(Xd.from(t),s)}static populate(e,t=[]){const r=new Zn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ae.encode(oNe)?null:Ae.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new xs({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ae.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class CZ{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Jn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Jn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new xs({programId:g,data:cn(m.data),keys:f}))}return new CZ({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return Xd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return ok.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class MZ{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Jn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(OM));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();pl(t,this.signatures.length);const r=N([ie(t.length,"encodedSignaturesLength"),we(tNe(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=Mu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(zu(t,0,OM)));const i=BZ.deserialize(new Uint8Array(t));return new MZ(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Jn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=EZ(t,s.secretKey)}}addSignature(e,t){Jn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Jn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const aNe=160,cNe=64,uNe=aNe/cNe,_Ae=1e3/uNe,Wf=new Te("SysvarC1ock11111111111111111111111111111111"),lNe=new Te("SysvarEpochSchedu1e111111111111111111111111"),dNe=new Te("Sysvar1nstructions1111111111111111111111111"),dL=new Te("SysvarRecentB1ockHashes11111111111111111111"),ak=new Te("SysvarRent111111111111111111111111111111111"),fNe=new Te("SysvarRewards111111111111111111111111111111"),hNe=new Te("SysvarS1otHashes111111111111111111111111111"),gNe=new Te("SysvarS1otHistory11111111111111111111111111"),fL=new Te("SysvarStakeHistory1111111111111111111111111");class Yb extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const mNe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Qt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function nH(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new Yb({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function rS(n){return new Promise(e=>setTimeout(e,n))}function Wn(n,e){const t=n.layout.span>=0?n.layout.span:wAe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function ps(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const PAe=fe("lamportsPerSignature"),EAe=N([F("version"),F("state"),En("authorizedPubkey"),En("nonce"),N([PAe],"feeCalculator")]),KM=EAe.span;class AK{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=EAe.decode(cn(e),0);return new AK({authorizedPubkey:new Te(t.authorizedPubkey),nonce:new Te(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const yNe=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},pNe=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=yNe(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return sg(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=ya(o,n);return r(u,a,c)},i},Uw=pNe(8);class bNe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Xs))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=ps(Xs.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new Te(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=ps(Xs.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=ps(Xs.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new Te(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=ps(Xs.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=ps(Xs.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Te(t),seed:r,space:s,programId:new Te(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=ps(Xs.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Te(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=ps(Xs.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Te(t),seed:r,programId:new Te(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=ps(Xs.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Te(t),seed:r,lamports:s,space:i,programId:new Te(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=ps(Xs.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Te(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ps(Xs.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ps(Xs.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=ps(Xs.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Te(t)}}static checkProgramId(e){if(!e.equals(aa.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Xs=Object.freeze({Create:{index:0,layout:N([F("instruction"),Ee("lamports"),Ee("space"),En("programId")])},Assign:{index:1,layout:N([F("instruction"),En("programId")])},Transfer:{index:2,layout:N([F("instruction"),Uw("lamports")])},CreateWithSeed:{index:3,layout:N([F("instruction"),En("base"),PS("seed"),Ee("lamports"),Ee("space"),En("programId")])},AdvanceNonceAccount:{index:4,layout:N([F("instruction")])},WithdrawNonceAccount:{index:5,layout:N([F("instruction"),Ee("lamports")])},InitializeNonceAccount:{index:6,layout:N([F("instruction"),En("authorized")])},AuthorizeNonceAccount:{index:7,layout:N([F("instruction"),En("authorized")])},Allocate:{index:8,layout:N([F("instruction"),Ee("space")])},AllocateWithSeed:{index:9,layout:N([F("instruction"),En("base"),PS("seed"),Ee("space"),En("programId")])},AssignWithSeed:{index:10,layout:N([F("instruction"),En("base"),PS("seed"),En("programId")])},TransferWithSeed:{index:11,layout:N([F("instruction"),Uw("lamports"),PS("seed"),En("programId")])},UpgradeNonceAccount:{index:12,layout:N([F("instruction")])}});class aa{constructor(){}static createAccount(e){const t=Xs.Create,r=Wn(t,{lamports:e.lamports,space:e.space,programId:cn(e.programId.toBuffer())});return new xs({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Xs.TransferWithSeed;t=Wn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:cn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Xs.Transfer;t=Wn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new xs({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Xs.AssignWithSeed;t=Wn(s,{base:cn(e.basePubkey.toBuffer()),seed:e.seed,programId:cn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Xs.Assign;t=Wn(s,{programId:cn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new xs({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Xs.CreateWithSeed,r=Wn(t,{base:cn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:cn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new xs({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Zn;"basePubkey"in e&&"seed"in e?t.add(aa.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:KM,programId:this.programId})):t.add(aa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:KM,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Xs.InitializeNonceAccount,r=Wn(t,{authorized:cn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:dL,isSigner:!1,isWritable:!1},{pubkey:ak,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new xs(s)}static nonceAdvance(e){const t=Xs.AdvanceNonceAccount,r=Wn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:dL,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new xs(s)}static nonceWithdraw(e){const t=Xs.WithdrawNonceAccount,r=Wn(t,{lamports:e.lamports});return new xs({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:dL,isSigner:!1,isWritable:!1},{pubkey:ak,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Xs.AuthorizeNonceAccount,r=Wn(t,{authorized:cn(e.newAuthorizedPubkey.toBuffer())});return new xs({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Xs.AllocateWithSeed;t=Wn(s,{base:cn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:cn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Xs.Allocate;t=Wn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new xs({keys:r,programId:this.programId,data:t})}}aa.programId=new Te("11111111111111111111111111111111");const SNe=Hp-300;class ck{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/ck.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Zn,h.add(aa.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Zn,h.add(aa.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Zn,h.add(aa.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Zn().add(aa.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await nH(e,h,[t,r],{commitment:"confirmed"})}const o=N([F("instruction"),F("offset"),F("bytesLength"),F("bytesLengthPadding"),we(te("byte"),Gt(F(),-8),"bytes")]),a=ck.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Zn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(nH(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await rS(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=N([F("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Zn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:ak,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(_Ae/2)))}}return!0}}ck.chunkSize=SNe;const kNe=new Te("BPFLoader2111111111111111111111111111111111");class vNe{static getMinNumSignatures(e){return ck.getMinNumSignatures(e)}static load(e,t,r,s,i){return ck.load(e,t,r,i,s)}}function ANe(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var oF,nhe;function wNe(){if(nhe)return oF;nhe=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return oF=function(r){var s=t(r,!1);if(s!==void 0)return""+s},oF}var INe=wNe(),she=ANe(INe);const Y2=32;function aF(n){let e=0;for(;n>1;)n/=2,e++;return e}function _Ne(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class xAe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=aF(_Ne(e+Y2+1))-aF(Y2)-1,r=this.getSlotsInEpoch(t),s=e-(r-Y2);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Y2:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+aF(Y2)):this.slotsPerEpoch}}var PNe=globalThis.fetch;class ENe extends ay{constructor(e,t,r){const s=i=>{const o=uy(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function xNe(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const ihe=56;class sH{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=xNe(TNe,e),r=e.length-ihe;Jn(r>=0,"lookup table is invalid"),Jn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=N([we(En(),s,"addresses")]).decode(e.slice(ihe));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new Te(t.authority[0]):void 0,addresses:i.map(o=>new Te(o))}}}const TNe={index:1,layout:N([F("typeIndex"),Uw("deactivationSlot"),fe("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(En(),Gt(te(),-1),"authority")])},RNe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function BNe(n){const e=n.match(RNe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const fo=S$(IZ(Te),He(),n=>new Te(n)),TAe=_Z([He(),qi("base64")]),zZ=S$(IZ(V.Buffer),TAe,n=>V.Buffer.from(n[0],"base64")),RAe=30*1e3;function CNe(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Us(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function ohe(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function BAe(n){return iu([Re({jsonrpc:qi("2.0"),id:He(),result:n}),Re({jsonrpc:qi("2.0"),id:He(),error:Re({code:iR(),message:He(),data:br(xWe())})})])}const MNe=BAe(iR());function Jr(n){return S$(BAe(n),MNe,e=>"error"in e?e:{...e,result:mt(e.result,n)})}function zo(n){return Jr(Re({context:Re({slot:he()}),value:n}))}function wK(n){return Re({context:Re({slot:he()}),value:n})}function cF(n,e){return n===0?new ok({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new Te(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ae.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Xd(e)}const zNe=Re({foundation:he(),foundationTerm:he(),initial:he(),taper:he(),terminal:he()}),$Ne=Jr(Pt(Dt(Re({epoch:he(),effectiveSlot:he(),amount:he(),postBalance:he(),commission:br(Dt(he()))})))),DNe=Pt(Re({slot:he(),prioritizationFee:he()})),ONe=Re({total:he(),validator:he(),foundation:he(),epoch:he()}),LNe=Re({epoch:he(),slotIndex:he(),slotsInEpoch:he(),absoluteSlot:he(),blockHeight:br(he()),transactionCount:br(he())}),KNe=Re({slotsPerEpoch:he(),leaderScheduleSlotOffset:he(),warmup:Uh(),firstNormalEpoch:he(),firstNormalSlot:he()}),WNe=gAe(He(),Pt(he())),ov=Dt(iu([Re({}),He()])),NNe=Re({err:ov}),FNe=qi("receivedSignature"),UNe=Re({"solana-core":He(),"feature-set":br(he())}),VNe=Re({program:He(),programId:fo,parsed:iR()}),qNe=Re({programId:fo,accounts:Pt(fo),data:He()}),ahe=zo(Re({err:Dt(iu([Re({}),He()])),logs:Dt(Pt(He())),accounts:br(Dt(Pt(Dt(Re({executable:Uh(),owner:He(),lamports:he(),data:Pt(He()),rentEpoch:br(he())}))))),unitsConsumed:br(he()),returnData:br(Dt(Re({programId:He(),data:_Z([He(),qi("base64")])}))),innerInstructions:br(Dt(Pt(Re({index:he(),instructions:Pt(iu([VNe,qNe]))}))))})),HNe=zo(Re({byIdentity:gAe(He(),Pt(he())),range:Re({firstSlot:he(),lastSlot:he()})}));function jNe(n,e,t,r,s,i){const o=t||PNe;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new cy(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},GFe)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await rS(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function GNe(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function YNe(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const ZNe=Jr(zNe),JNe=Jr(ONe),XNe=Jr(DNe),QNe=Jr(LNe),eFe=Jr(KNe),tFe=Jr(WNe),rFe=Jr(he()),nFe=zo(Re({total:he(),circulating:he(),nonCirculating:he(),nonCirculatingAccounts:Pt(fo)})),iH=Re({amount:He(),uiAmount:Dt(he()),decimals:he(),uiAmountString:br(He())}),sFe=zo(Pt(Re({address:fo,amount:He(),uiAmount:Dt(he()),decimals:he(),uiAmountString:br(He())}))),iFe=zo(Pt(Re({pubkey:fo,account:Re({executable:Uh(),owner:fo,lamports:he(),data:zZ,rentEpoch:he()})}))),oH=Re({program:He(),parsed:iR(),space:he()}),oFe=zo(Pt(Re({pubkey:fo,account:Re({executable:Uh(),owner:fo,lamports:he(),data:oH,rentEpoch:he()})}))),aFe=zo(Pt(Re({lamports:he(),address:fo}))),WM=Re({executable:Uh(),owner:fo,lamports:he(),data:zZ,rentEpoch:he()}),cFe=Re({pubkey:fo,account:WM}),uFe=S$(iu([IZ(V.Buffer),oH]),iu([TAe,oH]),n=>Array.isArray(n)?mt(n,zZ):n),aH=Re({executable:Uh(),owner:fo,lamports:he(),data:uFe,rentEpoch:he()}),lFe=Re({pubkey:fo,account:aH}),dFe=Re({state:iu([qi("active"),qi("inactive"),qi("activating"),qi("deactivating")]),active:he(),inactive:he()}),fFe=Jr(Pt(Re({signature:He(),slot:he(),err:ov,memo:Dt(He()),blockTime:br(Dt(he()))}))),hFe=Jr(Pt(Re({signature:He(),slot:he(),err:ov,memo:Dt(He()),blockTime:br(Dt(he()))}))),gFe=Re({subscription:he(),result:wK(WM)}),mFe=Re({pubkey:fo,account:WM}),yFe=Re({subscription:he(),result:wK(mFe)}),pFe=Re({parent:he(),slot:he(),root:he()}),bFe=Re({subscription:he(),result:pFe}),SFe=iu([Re({type:iu([qi("firstShredReceived"),qi("completed"),qi("optimisticConfirmation"),qi("root")]),slot:he(),timestamp:he()}),Re({type:qi("createdBank"),parent:he(),slot:he(),timestamp:he()}),Re({type:qi("frozen"),slot:he(),timestamp:he(),stats:Re({numTransactionEntries:he(),numSuccessfulTransactions:he(),numFailedTransactions:he(),maxTransactionsPerEntry:he()})}),Re({type:qi("dead"),slot:he(),timestamp:he(),err:He()})]),kFe=Re({subscription:he(),result:SFe}),vFe=Re({subscription:he(),result:wK(iu([NNe,FNe]))}),AFe=Re({subscription:he(),result:he()}),wFe=Re({pubkey:He(),gossip:Dt(He()),tpu:Dt(He()),rpc:Dt(He()),version:Dt(He())}),che=Re({votePubkey:He(),nodePubkey:He(),activatedStake:he(),epochVoteAccount:Uh(),epochCredits:Pt(_Z([he(),he(),he()])),commission:he(),lastVote:he(),rootSlot:Dt(he())}),IFe=Jr(Re({current:Pt(che),delinquent:Pt(che)})),_Fe=iu([qi("processed"),qi("confirmed"),qi("finalized")]),PFe=Re({slot:he(),confirmations:Dt(he()),err:ov,confirmationStatus:br(_Fe)}),EFe=zo(Pt(Dt(PFe))),xFe=Jr(he()),CAe=Re({accountKey:fo,writableIndexes:Pt(he()),readonlyIndexes:Pt(he())}),$Z=Re({signatures:Pt(He()),message:Re({accountKeys:Pt(He()),header:Re({numRequiredSignatures:he(),numReadonlySignedAccounts:he(),numReadonlyUnsignedAccounts:he()}),instructions:Pt(Re({accounts:Pt(he()),data:He(),programIdIndex:he()})),recentBlockhash:He(),addressTableLookups:br(Pt(CAe))})}),MAe=Re({pubkey:fo,signer:Uh(),writable:Uh(),source:br(iu([qi("transaction"),qi("lookupTable")]))}),zAe=Re({accountKeys:Pt(MAe),signatures:Pt(He())}),$Ae=Re({parsed:iR(),program:He(),programId:fo}),DAe=Re({accounts:Pt(fo),data:He(),programId:fo}),TFe=iu([DAe,$Ae]),RFe=iu([Re({parsed:iR(),program:He(),programId:He()}),Re({accounts:Pt(He()),data:He(),programId:He()})]),OAe=S$(TFe,RFe,n=>"accounts"in n?mt(n,DAe):mt(n,$Ae)),LAe=Re({signatures:Pt(He()),message:Re({accountKeys:Pt(MAe),instructions:Pt(OAe),recentBlockhash:He(),addressTableLookups:br(Dt(Pt(CAe)))})}),e4=Re({accountIndex:he(),mint:He(),owner:br(He()),programId:br(He()),uiTokenAmount:iH}),KAe=Re({writable:Pt(fo),readonly:Pt(fo)}),IK=Re({err:ov,fee:he(),innerInstructions:br(Dt(Pt(Re({index:he(),instructions:Pt(Re({accounts:Pt(he()),data:He(),programIdIndex:he()}))})))),preBalances:Pt(he()),postBalances:Pt(he()),logMessages:br(Dt(Pt(He()))),preTokenBalances:br(Dt(Pt(e4))),postTokenBalances:br(Dt(Pt(e4))),loadedAddresses:br(KAe),computeUnitsConsumed:br(he())}),DZ=Re({err:ov,fee:he(),innerInstructions:br(Dt(Pt(Re({index:he(),instructions:Pt(OAe)})))),preBalances:Pt(he()),postBalances:Pt(he()),logMessages:br(Dt(Pt(He()))),preTokenBalances:br(Dt(Pt(e4))),postTokenBalances:br(Dt(Pt(e4))),loadedAddresses:br(KAe),computeUnitsConsumed:br(he())}),oR=iu([qi(0),qi("legacy")]),av=Re({pubkey:He(),lamports:he(),postBalance:Dt(he()),rewardType:Dt(He()),commission:br(Dt(he()))}),BFe=Jr(Dt(Re({blockhash:He(),previousBlockhash:He(),parentSlot:he(),transactions:Pt(Re({transaction:$Z,meta:Dt(IK),version:br(oR)})),rewards:br(Pt(av)),blockTime:Dt(he()),blockHeight:Dt(he())}))),CFe=Jr(Dt(Re({blockhash:He(),previousBlockhash:He(),parentSlot:he(),rewards:br(Pt(av)),blockTime:Dt(he()),blockHeight:Dt(he())}))),MFe=Jr(Dt(Re({blockhash:He(),previousBlockhash:He(),parentSlot:he(),transactions:Pt(Re({transaction:zAe,meta:Dt(IK),version:br(oR)})),rewards:br(Pt(av)),blockTime:Dt(he()),blockHeight:Dt(he())}))),zFe=Jr(Dt(Re({blockhash:He(),previousBlockhash:He(),parentSlot:he(),transactions:Pt(Re({transaction:LAe,meta:Dt(DZ),version:br(oR)})),rewards:br(Pt(av)),blockTime:Dt(he()),blockHeight:Dt(he())}))),$Fe=Jr(Dt(Re({blockhash:He(),previousBlockhash:He(),parentSlot:he(),transactions:Pt(Re({transaction:zAe,meta:Dt(DZ),version:br(oR)})),rewards:br(Pt(av)),blockTime:Dt(he()),blockHeight:Dt(he())}))),DFe=Jr(Dt(Re({blockhash:He(),previousBlockhash:He(),parentSlot:he(),rewards:br(Pt(av)),blockTime:Dt(he()),blockHeight:Dt(he())}))),OFe=Jr(Dt(Re({blockhash:He(),previousBlockhash:He(),parentSlot:he(),transactions:Pt(Re({transaction:$Z,meta:Dt(IK)})),rewards:br(Pt(av)),blockTime:Dt(he())}))),uhe=Jr(Dt(Re({blockhash:He(),previousBlockhash:He(),parentSlot:he(),signatures:Pt(He()),blockTime:Dt(he())}))),uF=Jr(Dt(Re({slot:he(),meta:Dt(IK),blockTime:br(Dt(he())),transaction:$Z,version:br(oR)}))),X8=Jr(Dt(Re({slot:he(),transaction:LAe,meta:Dt(DZ),blockTime:br(Dt(he())),version:br(oR)}))),LFe=zo(Re({blockhash:He(),feeCalculator:Re({lamportsPerSignature:he()})})),KFe=zo(Re({blockhash:He(),lastValidBlockHeight:he()})),WFe=zo(Uh()),NFe=Re({slot:he(),numTransactions:he(),numSlots:he(),samplePeriodSecs:he()}),FFe=Jr(Pt(NFe)),UFe=zo(Dt(Re({feeCalculator:Re({lamportsPerSignature:he()})}))),VFe=Jr(He()),qFe=Jr(He()),HFe=Re({err:ov,logs:Pt(He()),signature:He()}),jFe=Re({result:wK(HFe),subscription:he()}),GFe={"solana-client":"js/1.0.0-maintenance"};class YFe{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Us(l),h=this._buildArgs([],d,void 0,y),m=she(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=mt(f,Jr(he()));if("error"in g)throw new Qt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=CNe(e),this._rpcWsEndpoint=r||BNe(e),this._rpcClient=jNe(e,s,i,o,a,c),this._rpcRequest=GNe(this._rpcClient),this._rpcBatchRequest=YNe(this._rpcClient),this._rpcWebSocket=new ENe(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Us(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=mt(o,zo(he()));if("error"in a)throw new Qt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=mt(t,Jr(Dt(he())));if("error"in r)throw new Qt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=mt(e,Jr(he()));if("error"in t)throw new Qt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=mt(e,rFe);if("error"in t)throw new Qt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=mt(r,nFe);if("error"in s)throw new Qt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=mt(s,zo(iH));if("error"in i)throw new Qt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=mt(s,zo(iH));if("error"in i)throw new Qt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Us(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=mt(c,iFe);if("error"in u)throw new Qt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=mt(o,oFe);if("error"in a)throw new Qt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=mt(s,aFe);if("error"in i)throw new Qt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=mt(s,sFe);if("error"in i)throw new Qt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Us(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=mt(o,zo(Dt(WM)));if("error"in a)throw new Qt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Us(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=mt(o,zo(Dt(aH)));if("error"in a)throw new Qt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Us(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=mt(a,zo(Pt(Dt(aH))));if("error"in c)throw new Qt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Us(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=mt(a,zo(Pt(Dt(WM))));if("error"in c)throw new Qt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Us(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=mt(a,Jr(dFe));if("error"in c)throw new Qt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Us(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:ohe(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=Pt(cFe),l=o.withContext===!0?mt(c,zo(u)):mt(c,Jr(u));if("error"in l)throw new Qt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Us(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=mt(o,Jr(Pt(lFe)));if("error"in a)throw new Qt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ae.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Jn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:gm.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:gm.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await rS(1e3),i||(h=await y(),i))return;d({__type:gm.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===gm.PROCESSED)l=d.response;else throw new TZ(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:gm.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await rS(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===gm.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await rS(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new KA(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new KA(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new KA(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new KA(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:gm.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===gm.PROCESSED)a=c.response;else throw new RZ(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=mt(e,Jr(Pt(wFe)));if("error"in t)throw new Qt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=mt(r,IFe);if("error"in s)throw new Qt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Us(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=mt(i,Jr(he()));if("error"in o)throw new Qt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Us(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=mt(i,Jr(He()));if("error"in o)throw new Qt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=mt(s,Jr(Pt(fo)));if("error"in i)throw new Qt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Jn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=mt(s,EFe);if("error"in i)throw new Qt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Us(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=mt(i,Jr(he()));if("error"in o)throw new Qt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=mt(r,ZNe);if("error"in s)throw new Qt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Us(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=mt(a,$Ne);if("error"in c)throw new Qt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=mt(e,JNe);if("error"in t)throw new Qt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Us(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=mt(i,QNe);if("error"in o)throw new Qt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=mt(e,eFe);if("error"in t)throw new Qt(t.error,"failed to get epoch schedule");const r=t.result;return new xAe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=mt(e,tFe);if("error"in t)throw new Qt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=mt(s,xFe);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=mt(r,LFe);if("error"in s)throw new Qt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=mt(t,FFe);if("error"in r)throw new Qt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=mt(s,UFe);if("error"in i)throw new Qt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=cn(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=mt(i,zo(Dt(he())));if("error"in o)throw new Qt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=mt(s,XNe);if("error"in i)throw new Qt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Us(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=mt(i,KFe);if("error"in o)throw new Qt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Us(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=mt(o,WFe);if("error"in a)throw new Qt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=mt(e,Jr(UNe));if("error"in t)throw new Qt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=mt(e,Jr(He()));if("error"in t)throw new Qt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Us(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=mt(o,MFe);if("error"in a)throw a.error;return a.result}case"none":{const a=mt(o,CFe);if("error"in a)throw a.error;return a.result}default:{const a=mt(o,BFe);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:cF(d,u.message)},version:d}))}:null}}}catch(a){throw new Qt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Us(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=mt(o,$Fe);if("error"in a)throw a.error;return a.result}case"none":{const a=mt(o,DFe);if("error"in a)throw a.error;return a.result}default:{const a=mt(o,zFe);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Qt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=mt(i,HNe);if("error"in o)throw new Qt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Us(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=mt(o,uF);if("error"in a)throw new Qt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:cF(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Us(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=mt(o,X8);if("error"in a)throw new Qt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Us(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=mt(c,X8);if("error"in u)throw new Qt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Us(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=mt(c,uF);if("error"in u)throw new Qt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:cF(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=mt(s,OFe);if("error"in i)throw new Qt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new Xd(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Zn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=mt(i,Jr(Pt(he())));if("error"in o)throw new Qt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=mt(s,uhe);if("error"in i)throw new Qt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=mt(s,uhe);if("error"in i)throw new Qt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=mt(s,uF);if("error"in i)throw new Qt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new Xd(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Zn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=mt(s,X8);if("error"in i)throw new Qt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=mt(o,X8);if("error"in a)throw new Qt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=mt(i,fFe);if("error"in o)throw new Qt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=mt(i,hFe);if("error"in o)throw new Qt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new sH({key:e,state:sH.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=AK.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=mt(r,VFe);if("error"in s)throw new Qt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await rS(100);const r=Date.now()-this._blockhashInfo.lastFetch>=RAe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await rS(_Ae/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Us(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=mt(i,zo(he()));if("error"in o)throw new Qt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=mt(p,ahe);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Zn){let m=e;s=new Zn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Zn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=mt(y,ahe);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new Yb({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=cn(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=mt(a,qFe);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new Yb({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=mt(e,gFe);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=she([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Jn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Us(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=mt(e,yFe);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Us(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:ohe(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=mt(e,jFe);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=mt(e,bFe);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=mt(e,kFe);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=mt(e,vFe);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=mt(e,AFe);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class iw{constructor(e){this._keypair=void 0,this._keypair=e??ehe()}static generate(){return new iw(ehe())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=QL(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new iw({publicKey:r,secretKey:e})}static fromSeed(e){const t=QL(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new iw({publicKey:t,secretKey:r})}get publicKey(){return new Te(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Em=Object.freeze({CreateLookupTable:{index:0,layout:N([F("instruction"),Uw("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:N([F("instruction")])},ExtendLookupTable:{index:2,layout:N([F("instruction"),Uw(),we(En(),Gt(F(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:N([F("instruction")])},CloseLookupTable:{index:4,layout:N([F("instruction")])}});class ZFe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Em))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=ps(Em.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=ps(Em.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new Te(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(OZ.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class OZ{constructor(){}static createLookupTable(e){const[t,r]=Te.findProgramAddressSync([e.authority.toBuffer(),ya(BigInt(e.recentSlot),8)],this.programId),s=Em.CreateLookupTable,i=Wn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:aa.programId,isSigner:!1,isWritable:!1}];return[new xs({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Em.FreezeLookupTable,r=Wn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new xs({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Em.ExtendLookupTable,r=Wn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:aa.programId,isSigner:!1,isWritable:!1}),new xs({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Em.DeactivateLookupTable,r=Wn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new xs({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Em.CloseLookupTable,r=Wn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new xs({programId:this.programId,keys:s,data:r})}}OZ.programId=new Te("AddressLookupTab1e1111111111111111111111111");class JFe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(eh))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=ps(eh.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=ps(eh.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=ps(eh.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=ps(eh.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(LZ.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const eh=Object.freeze({RequestUnits:{index:0,layout:N([te("instruction"),F("units"),F("additionalFee")])},RequestHeapFrame:{index:1,layout:N([te("instruction"),F("bytes")])},SetComputeUnitLimit:{index:2,layout:N([te("instruction"),F("units")])},SetComputeUnitPrice:{index:3,layout:N([te("instruction"),Uw("microLamports")])}});class LZ{constructor(){}static requestUnits(e){const t=eh.RequestUnits,r=Wn(t,e);return new xs({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=eh.RequestHeapFrame,r=Wn(t,e);return new xs({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=eh.SetComputeUnitLimit,r=Wn(t,e);return new xs({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=eh.SetComputeUnitPrice,r=Wn(t,{microLamports:BigInt(e.microLamports)});return new xs({keys:[],programId:this.programId,data:r})}}LZ.programId=new Te("ComputeBudget111111111111111111111111111111");const lhe=64,dhe=32,fhe=64,hhe=N([te("numSignatures"),te("padding"),xe("signatureOffset"),xe("signatureInstructionIndex"),xe("publicKeyOffset"),xe("publicKeyInstructionIndex"),xe("messageDataOffset"),xe("messageDataSize"),xe("messageInstructionIndex")]);class _K{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Jn(t.length===dhe,`Public Key must be ${dhe} bytes but received ${t.length} bytes`),Jn(s.length===fhe,`Signature must be ${fhe} bytes but received ${s.length} bytes`);const o=hhe.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return hhe.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new xs({keys:[],programId:_K.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Jn(t.length===lhe,`Private key must be ${lhe} bytes but received ${t.length} bytes`);try{const i=iw.fromSecretKey(t),o=i.publicKey.toBytes(),a=EZ(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}_K.programId=new Te("Ed25519SigVerify111111111111111111111111111");const XFe=(n,e)=>{const t=SK.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};SK.utils.isValidPrivateKey;const QFe=SK.getPublicKey,ghe=32,lF=20,mhe=64,eUe=11,dF=N([te("numSignatures"),xe("signatureOffset"),te("signatureInstructionIndex"),xe("ethAddressOffset"),te("ethAddressInstructionIndex"),xe("messageDataOffset"),xe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class ow{constructor(){}static publicKeyToEthAddress(e){Jn(e.length===mhe,`Public key must be ${mhe} bytes but received ${e.length} bytes`);try{return V.Buffer.from(Yfe(cn(e))).slice(-lF)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return ow.createInstructionWithEthAddress({ethAddress:ow.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Jn(a.length===lF,`Address must be ${lF} bytes but received ${a.length} bytes`);const c=1+eUe,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(dF.span+r.length);return dF.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:cn(s),ethAddress:cn(a),recoveryId:i},h),h.fill(cn(r),dF.span),new xs({keys:[],programId:ow.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Jn(t.length===ghe,`Private key must be ${ghe} bytes but received ${t.length} bytes`);try{const i=cn(t),o=QFe(i,!1).slice(1),a=V.Buffer.from(Yfe(cn(r))),[c,u]=XFe(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}ow.programId=new Te("KeccakSecp256k11111111111111111111111111111");var WAe;const NAe=new Te("StakeConfig11111111111111111111111111111111");class FAe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class k${constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}WAe=k$;k$.default=new WAe(0,0,Te.default);class tUe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ja))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=ps(ja.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new FAe(new Te(t.staker),new Te(t.withdrawer)),lockup:new k$(r.unixTimestamp,r.epoch,new Te(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),ps(ja.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=ps(ja.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Te(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=ps(ja.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new Te(i),newAuthorizedPubkey:new Te(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ps(ja.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ps(ja.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ps(ja.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ps(ja.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(PK.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ja=Object.freeze({Initialize:{index:0,layout:N([F("instruction"),rNe(),nNe()])},Authorize:{index:1,layout:N([F("instruction"),En("newAuthorized"),F("stakeAuthorizationType")])},Delegate:{index:2,layout:N([F("instruction")])},Split:{index:3,layout:N([F("instruction"),Ee("lamports")])},Withdraw:{index:4,layout:N([F("instruction"),Ee("lamports")])},Deactivate:{index:5,layout:N([F("instruction")])},Merge:{index:7,layout:N([F("instruction")])},AuthorizeWithSeed:{index:8,layout:N([F("instruction"),En("newAuthorized"),F("stakeAuthorizationType"),PS("authoritySeed"),En("authorityOwner")])}}),rUe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class PK{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||k$.default,o=ja.Initialize,a=Wn(o,{authorized:{staker:cn(r.staker.toBuffer()),withdrawer:cn(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:cn(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ak,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new xs(c)}static createAccountWithSeed(e){const t=new Zn;t.add(aa.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Zn;t.add(aa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=ja.Delegate,o=Wn(i);return new Zn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Wf,isSigner:!1,isWritable:!1},{pubkey:fL,isSigner:!1,isWritable:!1},{pubkey:NAe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=ja.Authorize,c=Wn(a,{newAuthorized:cn(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Wf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Zn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=ja.AuthorizeWithSeed,l=Wn(u,{newAuthorized:cn(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:cn(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Wf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Zn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=ja.Split,a=Wn(o,{lamports:i});return new xs({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Zn;return r.add(aa.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Zn;return u.add(aa.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(aa.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=ja.Merge,o=Wn(i);return new Zn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Wf,isSigner:!1,isWritable:!1},{pubkey:fL,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=ja.Withdraw,c=Wn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Wf,isSigner:!1,isWritable:!1},{pubkey:fL,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Zn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=ja.Deactivate,i=Wn(s);return new Zn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Wf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}PK.programId=new Te("Stake11111111111111111111111111111111111111");PK.space=200;class UAe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class nUe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(th))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=ps(th.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new UAe(new Te(t.nodePubkey),new Te(t.authorizedVoter),new Te(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=ps(th.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Te(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=ps(th.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Te(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new Te(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ps(th.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(aR.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const th=Object.freeze({InitializeAccount:{index:0,layout:N([F("instruction"),sNe()])},Authorize:{index:1,layout:N([F("instruction"),En("newAuthorized"),F("voteAuthorizationType")])},Withdraw:{index:3,layout:N([F("instruction"),Ee("lamports")])},UpdateValidatorIdentity:{index:4,layout:N([F("instruction")])},AuthorizeWithSeed:{index:10,layout:N([F("instruction"),iNe()])}}),sUe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class aR{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=th.InitializeAccount,o=Wn(i,{voteInit:{nodePubkey:cn(s.nodePubkey.toBuffer()),authorizedVoter:cn(s.authorizedVoter.toBuffer()),authorizedWithdrawer:cn(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ak,isSigner:!1,isWritable:!1},{pubkey:Wf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new xs(a)}static createAccount(e){const t=new Zn;return t.add(aa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=th.Authorize,a=Wn(o,{newAuthorized:cn(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Wf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Zn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=th.AuthorizeWithSeed,u=Wn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:cn(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:cn(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Wf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Zn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=th.Withdraw,a=Wn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Zn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return aR.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=th.UpdateValidatorIdentity,o=Wn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Zn().add({keys:a,programId:this.programId,data:o})}}aR.programId=new Te("Vote111111111111111111111111111111111111111");aR.space=3762;const VAe=new Te("Va1idator1nfo111111111111111111111111111111"),iUe=Re({name:He(),website:br(He()),details:br(He()),iconUrl:br(He()),keybaseUsername:br(He())});class KZ{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Mu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new Te(zu(t,0,Bh)),a=Qf(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(VAe)&&s[1].isSigner){const i=PS().decode(V.Buffer.from(t)),o=JSON.parse(i);return fAe(o,iUe),new KZ(s[1].publicKey,o)}return null}}const oUe=new Te("Vote111111111111111111111111111111111111111"),aUe=N([En("nodePubkey"),En("authorizedWithdrawer"),te("commission"),fe(),we(N([fe("slot"),F("confirmationCount")]),Gt(F(),-8),"votes"),te("rootSlotValid"),fe("rootSlot"),fe(),we(N([fe("epoch"),En("authorizedVoter")]),Gt(F(),-8),"authorizedVoters"),N([we(N([En("authorizedPubkey"),fe("epochOfLastAuthorizedSwitch"),fe("targetEpoch")]),32,"buf"),fe("idx"),te("isEmpty")],"priorVoters"),fe(),we(N([fe("epoch"),fe("credits"),fe("prevCredits")]),Gt(F(),-8),"epochCredits"),N([fe("slot"),fe("timestamp")],"lastTimestamp")]);class WZ{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=aUe.decode(cn(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new WZ({nodePubkey:new Te(r.nodePubkey),authorizedWithdrawer:new Te(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(cUe),priorVoters:uUe(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function cUe({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new Te(n)}}function yhe({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new Te(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function uUe({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(yhe),...n.slice(0,e).map(yhe)]}const phe={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function lUe(n,e){const t=e===!1?"http":"https";if(!n)return phe[t].devnet;const r=phe[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function dUe(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new Yb({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const fUe=1e9;var hUe=Object.freeze(Object.defineProperty({__proto__:null,Account:QWe,AddressLookupTableAccount:sH,AddressLookupTableInstruction:ZFe,AddressLookupTableProgram:OZ,Authorized:FAe,BLOCKHASH_CACHE_TIMEOUT_MS:RAe,BPF_LOADER_DEPRECATED_PROGRAM_ID:eNe,BPF_LOADER_PROGRAM_ID:kNe,BpfLoader:vNe,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:eh,ComputeBudgetInstruction:JFe,ComputeBudgetProgram:LZ,Connection:YFe,Ed25519Program:_K,Enum:JWe,EpochSchedule:xAe,FeeCalculatorLayout:PAe,Keypair:iw,LAMPORTS_PER_SOL:fUe,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Em,Loader:ck,Lockup:k$,MAX_SEED_LENGTH:AAe,Message:Xd,MessageAccountKeys:LM,MessageV0:ok,NONCE_ACCOUNT_LENGTH:KM,NonceAccount:AK,PACKET_DATA_SIZE:Hp,PUBLIC_KEY_LENGTH:Bh,PublicKey:Te,SIGNATURE_LENGTH_IN_BYTES:OM,SOLANA_SCHEMA:hM,STAKE_CONFIG_ID:NAe,STAKE_INSTRUCTION_LAYOUTS:ja,SYSTEM_INSTRUCTION_LAYOUTS:Xs,SYSVAR_CLOCK_PUBKEY:Wf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:lNe,SYSVAR_INSTRUCTIONS_PUBKEY:dNe,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:dL,SYSVAR_RENT_PUBKEY:ak,SYSVAR_REWARDS_PUBKEY:fNe,SYSVAR_SLOT_HASHES_PUBKEY:hNe,SYSVAR_SLOT_HISTORY_PUBKEY:gNe,SYSVAR_STAKE_HISTORY_PUBKEY:fL,Secp256k1Program:ow,SendTransactionError:Yb,SolanaJSONRPCError:Qt,SolanaJSONRPCErrorCode:mNe,StakeAuthorizationLayout:rUe,StakeInstruction:tUe,StakeProgram:PK,Struct:xZ,SystemInstruction:bNe,SystemProgram:aa,Transaction:Zn,TransactionExpiredBlockheightExceededError:TZ,TransactionExpiredNonceInvalidError:KA,TransactionExpiredTimeoutError:RZ,TransactionInstruction:xs,TransactionMessage:CZ,TransactionStatus:gm,VALIDATOR_INFO_KEY:VAe,VERSION_PREFIX_MASK:kK,VOTE_PROGRAM_ID:oUe,ValidatorInfo:KZ,VersionedMessage:BZ,VersionedTransaction:MZ,VoteAccount:WZ,VoteAuthorizationLayout:sUe,VoteInit:UAe,VoteInstruction:nUe,VoteProgram:aR,clusterApiUrl:lUe,sendAndConfirmRawTransaction:dUe,sendAndConfirmTransaction:nH},Symbol.toStringTag,{value:"Module"})),Or={};function t4(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function NZ(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function gUe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t4(n.outputLen),t4(n.blockLen)}function Vw(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function qAe(n,e){NZ(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const fF=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const HAe=n=>n instanceof Uint8Array,mUe=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),hF=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Af=(n,e)=>n<<32-e|n>>>e,yUe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!yUe)throw new Error("Non little-endian hardware is not supported");function jAe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function EK(n){if(typeof n=="string"&&(n=jAe(n)),!HAe(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function GAe(...n){const e=new Uint8Array(n.reduce((r,s)=>r+s.length,0));let t=0;return n.forEach(r=>{if(!HAe(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}class FZ{clone(){return this._cloneInto()}}function UZ(n){const e=r=>n().update(EK(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function YAe(n=32){if(fF&&typeof fF.getRandomValues=="function")return fF.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function pUe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}class ZAe extends FZ{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=hF(this.buffer)}update(e){Vw(this);const{view:t,buffer:r,blockLen:s}=this;e=EK(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=hF(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Vw(this),qAe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;pUe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=hF(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const Q8=BigInt(2**32-1),cH=BigInt(32);function JAe(n,e=!1){return e?{h:Number(n&Q8),l:Number(n>>cH&Q8)}:{h:Number(n>>cH&Q8)|0,l:Number(n&Q8)|0}}function XAe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=JAe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const bUe=(n,e)=>BigInt(n>>>0)<<cH|BigInt(e>>>0),SUe=(n,e,t)=>n>>>t,kUe=(n,e,t)=>n<<32-t|e>>>t,vUe=(n,e,t)=>n>>>t|e<<32-t,AUe=(n,e,t)=>n<<32-t|e>>>t,wUe=(n,e,t)=>n<<64-t|e>>>t-32,IUe=(n,e,t)=>n>>>t-32|e<<64-t,_Ue=(n,e)=>e,PUe=(n,e)=>n,QAe=(n,e,t)=>n<<t|e>>>32-t,ewe=(n,e,t)=>e<<t|n>>>32-t,twe=(n,e,t)=>e<<t-32|n>>>64-t,rwe=(n,e,t)=>n<<t-32|e>>>64-t;function EUe(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const xUe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),TUe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,RUe=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),BUe=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,CUe=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),MUe=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,zUe={fromBig:JAe,split:XAe,toBig:bUe,shrSH:SUe,shrSL:kUe,rotrSH:vUe,rotrSL:AUe,rotrBH:wUe,rotrBL:IUe,rotr32H:_Ue,rotr32L:PUe,rotlSH:QAe,rotlSL:ewe,rotlBH:twe,rotlBL:rwe,add:EUe,add3L:xUe,add3H:TUe,add4L:RUe,add4H:BUe,add5H:MUe,add5L:CUe};var Wr=zUe;const[$Ue,DUe]=(()=>Wr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Iy=new Uint32Array(80),_y=new Uint32Array(80);class OUe extends ZAe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Iy[p]=e.getUint32(t),_y[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Iy[p-15]|0,w=_y[p-15]|0,A=Wr.rotrSH(I,w,1)^Wr.rotrSH(I,w,8)^Wr.shrSH(I,w,7),P=Wr.rotrSL(I,w,1)^Wr.rotrSL(I,w,8)^Wr.shrSL(I,w,7),E=Iy[p-2]|0,M=_y[p-2]|0,x=Wr.rotrSH(E,M,19)^Wr.rotrBH(E,M,61)^Wr.shrSH(E,M,6),R=Wr.rotrSL(E,M,19)^Wr.rotrBL(E,M,61)^Wr.shrSL(E,M,6),$=Wr.add4L(P,R,_y[p-7],_y[p-16]),z=Wr.add4H($,A,x,Iy[p-7],Iy[p-16]);Iy[p]=z|0,_y[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Wr.rotrSH(d,y,14)^Wr.rotrSH(d,y,18)^Wr.rotrBH(d,y,41),w=Wr.rotrSL(d,y,14)^Wr.rotrSL(d,y,18)^Wr.rotrBL(d,y,41),A=d&h^~d&f,P=y&m^~y&g,E=Wr.add5L(S,w,P,DUe[p],_y[p]),M=Wr.add5H(E,b,I,A,$Ue[p],Iy[p]),x=E|0,R=Wr.rotrSH(r,s,28)^Wr.rotrBH(r,s,34)^Wr.rotrBH(r,s,39),$=Wr.rotrSL(r,s,28)^Wr.rotrBL(r,s,34)^Wr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Wr.add(u|0,l|0,M|0,x|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Wr.add3L(x,$,T);r=Wr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Wr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Wr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Wr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Wr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Wr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Wr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Wr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Wr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Iy.fill(0),_y.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const nwe=UZ(()=>new OUe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const swe=BigInt(0),xK=BigInt(1),LUe=BigInt(2),TK=n=>n instanceof Uint8Array,KUe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function uk(n){if(!TK(n))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=KUe[n[t]];return e}function iwe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function VZ(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function qw(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let r=0;r<t.length;r++){const s=r*2,i=n.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function GS(n){return VZ(uk(n))}function aw(n){if(!TK(n))throw new Error("Uint8Array expected");return VZ(uk(Uint8Array.from(n).reverse()))}function Hw(n,e){return qw(n.toString(16).padStart(e*2,"0"))}function NM(n,e){return Hw(n,e).reverse()}function WUe(n){return qw(iwe(n))}function _a(n,e,t){let r;if(typeof e=="string")try{r=qw(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(TK(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function lk(...n){const e=new Uint8Array(n.reduce((r,s)=>r+s.length,0));let t=0;return n.forEach(r=>{if(!TK(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}function NUe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function FUe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function UUe(n){let e;for(e=0;n>swe;n>>=xK,e+=1);return e}function VUe(n,e){return n>>BigInt(e)&xK}const qUe=(n,e,t)=>n|(t?xK:swe)<<BigInt(e),qZ=n=>(LUe<<BigInt(n-1))-xK,gF=n=>new Uint8Array(n),bhe=n=>Uint8Array.from(n);function owe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=gF(n),s=gF(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=gF())=>{s=a(bhe([0]),d),r=a(),d.length!==0&&(s=a(bhe([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return lk(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const HUe={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function cR(n,e,t={}){const r=(s,i,o)=>{const a=HUe[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}var jUe=Object.freeze(Object.defineProperty({__proto__:null,bytesToHex:uk,numberToHexUnpadded:iwe,hexToNumber:VZ,hexToBytes:qw,bytesToNumberBE:GS,bytesToNumberLE:aw,numberToBytesBE:Hw,numberToBytesLE:NM,numberToVarBytesBE:WUe,ensureBytes:_a,concatBytes:lk,equalBytes:NUe,utf8ToBytes:FUe,bitLen:UUe,bitGet:VUe,bitSet:qUe,bitMask:qZ,createHmacDrbg:owe,validateObject:cR},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ic=BigInt(0),ro=BigInt(1),nS=BigInt(2),GUe=BigInt(3),uH=BigInt(4),She=BigInt(5),khe=BigInt(8);BigInt(9);BigInt(16);function Ci(n,e){const t=n%e;return t>=Ic?t:e+t}function YUe(n,e,t){if(t<=Ic||e<Ic)throw new Error("Expected power/modulo > 0");if(t===ro)return Ic;let r=ro;for(;e>Ic;)e&ro&&(r=r*n%t),n=n*n%t,e>>=ro;return r}function wo(n,e,t){let r=n;for(;e-- >Ic;)r*=r,r%=t;return r}function lH(n,e){if(n===Ic||e<=Ic)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=Ci(n,e),r=e,s=Ic,i=ro;for(;t!==Ic;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==ro)throw new Error("invert: does not exist");return Ci(s,e)}function ZUe(n){const e=(n-ro)/nS;let t,r,s;for(t=n-ro,r=0;t%nS===Ic;t/=nS,r++);for(s=nS;s<n&&YUe(s,e,n)!==n-ro;s++);if(r===1){const o=(n+ro)/uH;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+ro)/nS;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,ro<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function JUe(n){if(n%uH===GUe){const e=(n+ro)/uH;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%khe===She){const e=(n-She)/khe;return function(r,s){const i=r.mul(s,nS),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,nS),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return ZUe(n)}const XUe=(n,e)=>(Ci(n,e)&ro)===ro,QUe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function e7e(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=QUe.reduce((r,s)=>(r[s]="function",r),e);return cR(n,t)}function t7e(n,e,t){if(t<Ic)throw new Error("Expected power > 0");if(t===Ic)return n.ONE;if(t===ro)return e;let r=n.ONE,s=e;for(;t>Ic;)t&ro&&(r=n.mul(r,s)),s=n.sqr(s),t>>=ro;return r}function r7e(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function awe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function cwe(n,e,t=!1,r={}){if(n<=Ic)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=awe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=JUe(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:qZ(s),ZERO:Ic,ONE:ro,create:c=>Ci(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ic<=c&&c<n},is0:c=>c===Ic,isOdd:c=>(c&ro)===ro,neg:c=>Ci(-c,n),eql:(c,u)=>c===u,sqr:c=>Ci(c*c,n),add:(c,u)=>Ci(c+u,n),sub:(c,u)=>Ci(c-u,n),mul:(c,u)=>Ci(c*u,n),pow:(c,u)=>t7e(a,c,u),div:(c,u)=>Ci(c*lH(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>lH(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>r7e(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?NM(c,i):Hw(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?aw(c):GS(c)}});return Object.freeze(a)}function n7e(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?n.neg(t):t}function uwe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function lwe(n){const e=uwe(n);return e+Math.ceil(e/2)}function s7e(n,e,t=!1){const r=n.length,s=uwe(e),i=lwe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?GS(n):aw(n),a=Ci(o,e-ro)+ro;return t?NM(a,s):Hw(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const i7e=BigInt(0),mF=BigInt(1);function dwe(n,e){const t=(s,i)=>{const o=i.negate();return s?o:i},r=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:t,unsafeLadder(s,i){let o=n.ZERO,a=s;for(;i>i7e;)i&mF&&(o=o.add(a)),a=a.double(),i>>=mF;return o},precomputeWindow(s,i){const{windows:o,windowSize:a}=r(i),c=[];let u=s,l=u;for(let d=0;d<o;d++){l=u,c.push(l);for(let y=1;y<a;y++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(s,i,o){const{windows:a,windowSize:c}=r(s);let u=n.ZERO,l=n.BASE;const d=BigInt(2**s-1),y=2**s,h=BigInt(s);for(let m=0;m<a;m++){const f=m*c;let g=Number(o&d);o>>=h,g>c&&(g-=y,o+=mF);const b=f,S=f+Math.abs(g)-1,p=m%2!==0,I=g<0;g===0?l=l.add(t(p,i[b])):u=u.add(t(I,i[S]))}return{p:u,f:l}},wNAFCached(s,i,o,a){const c=s._WINDOW_SIZE||1;let u=i.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&i.set(s,a(u))),this.wNAF(c,u,o)}}}function HZ(n){return e7e(n.Fp),cR(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...awe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bd=BigInt(0),cl=BigInt(1),e3=BigInt(2),o7e=BigInt(8),a7e={zip215:!0};function c7e(n){const e=HZ(n);return cR(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function jZ(n){const e=c7e(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=e3<<BigInt(a*8)-cl,l=t.create,d=e.uvRatio||((B,C)=>{try{return{isValid:!0,value:t.sqrt(B*t.inv(C))}}catch{return{isValid:!1,value:bd}}}),y=e.adjustScalarBytes||(B=>B),h=e.domain||((B,C,O)=>{if(C.length||O)throw new Error("Contexts/pre-hash are not supported");return B}),m=B=>typeof B=="bigint"&&bd<B,f=(B,C)=>m(B)&&m(C)&&B<C,g=B=>B===bd||f(B,u);function b(B,C){if(f(B,C))return B;throw new Error(`Expected valid scalar < ${C}, got ${typeof B} ${B}`)}function S(B){return B===bd?B:b(B,r)}const p=new Map;function I(B){if(!(B instanceof w))throw new Error("ExtendedPoint expected")}class w{constructor(C,O,D,W){if(this.ex=C,this.ey=O,this.ez=D,this.et=W,!g(C))throw new Error("x required");if(!g(O))throw new Error("y required");if(!g(D))throw new Error("z required");if(!g(W))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(C){if(C instanceof w)throw new Error("extended point not allowed");const{x:O,y:D}=C||{};if(!g(O)||!g(D))throw new Error("invalid affine point");return new w(O,D,cl,l(O*D))}static normalizeZ(C){const O=t.invertBatch(C.map(D=>D.ez));return C.map((D,W)=>D.toAffine(O[W])).map(w.fromAffine)}_setWindowSize(C){this._WINDOW_SIZE=C,p.delete(this)}assertValidity(){const{a:C,d:O}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:D,ey:W,ez:L,et:U}=this,q=l(D*D),J=l(W*W),Q=l(L*L),j=l(Q*Q),X=l(q*C),re=l(Q*l(X+J)),se=l(j+l(O*l(q*J)));if(re!==se)throw new Error("bad point: equation left != right (1)");const ee=l(D*W),ne=l(L*U);if(ee!==ne)throw new Error("bad point: equation left != right (2)")}equals(C){I(C);const{ex:O,ey:D,ez:W}=this,{ex:L,ey:U,ez:q}=C,J=l(O*q),Q=l(L*W),j=l(D*q),X=l(U*W);return J===Q&&j===X}is0(){return this.equals(w.ZERO)}negate(){return new w(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:C}=e,{ex:O,ey:D,ez:W}=this,L=l(O*O),U=l(D*D),q=l(e3*l(W*W)),J=l(C*L),Q=O+D,j=l(l(Q*Q)-L-U),X=J+U,re=X-q,se=J-U,ee=l(j*re),ne=l(X*se),_e=l(j*se),Pe=l(re*X);return new w(ee,ne,Pe,_e)}add(C){I(C);const{a:O,d:D}=e,{ex:W,ey:L,ez:U,et:q}=this,{ex:J,ey:Q,ez:j,et:X}=C;if(O===BigInt(-1)){const Ve=l((L-W)*(Q+J)),qt=l((L+W)*(Q-J)),lr=l(qt-Ve);if(lr===bd)return this.double();const ur=l(U*e3*X),hr=l(q*e3*j),Rr=hr+ur,ms=qt+Ve,kn=hr-ur,ys=l(Rr*lr),Ul=l(ms*kn),J0=l(Rr*kn),QN=l(lr*ms);return new w(ys,Ul,QN,J0)}const re=l(W*J),se=l(L*Q),ee=l(q*D*X),ne=l(U*j),_e=l((W+L)*(J+Q)-re-se),Pe=ne-ee,We=ne+ee,Ne=l(se-O*re),Yt=l(_e*Pe),$t=l(We*Ne),_t=l(_e*Ne),tt=l(Pe*We);return new w(Yt,$t,tt,_t)}subtract(C){return this.add(C.negate())}wNAF(C){return E.wNAFCached(this,p,C,w.normalizeZ)}multiply(C){const{p:O,f:D}=this.wNAF(b(C,r));return w.normalizeZ([O,D])[0]}multiplyUnsafe(C){let O=S(C);return O===bd?P:this.equals(P)||O===cl?this:this.equals(A)?this.wNAF(O).p:E.unsafeLadder(this,O)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return E.unsafeLadder(this,r).is0()}toAffine(C){const{ex:O,ey:D,ez:W}=this,L=this.is0();C==null&&(C=L?o7e:t.inv(W));const U=l(O*C),q=l(D*C),J=l(W*C);if(L)return{x:bd,y:cl};if(J!==cl)throw new Error("invZ was invalid");return{x:U,y:q}}clearCofactor(){const{h:C}=e;return C===cl?this:this.multiplyUnsafe(C)}static fromHex(C,O=!1){const{d:D,a:W}=e,L=t.BYTES;C=_a("pointHex",C,L);const U=C.slice(),q=C[L-1];U[L-1]=q&-129;const J=aw(U);J===bd||(O?b(J,u):b(J,t.ORDER));const Q=l(J*J),j=l(Q-cl),X=l(D*Q-W);let{isValid:re,value:se}=d(j,X);if(!re)throw new Error("Point.fromHex: invalid y coordinate");const ee=(se&cl)===cl,ne=(q&128)!==0;if(!O&&se===bd&&ne)throw new Error("Point.fromHex: x=0 and x_0=1");return ne!==ee&&(se=l(-se)),w.fromAffine({x:se,y:J})}static fromPrivateKey(C){return R(C).point}toRawBytes(){const{x:C,y:O}=this.toAffine(),D=NM(O,t.BYTES);return D[D.length-1]|=C&cl?128:0,D}toHex(){return uk(this.toRawBytes())}}w.BASE=new w(e.Gx,e.Gy,cl,l(e.Gx*e.Gy)),w.ZERO=new w(bd,cl,cl,bd);const{BASE:A,ZERO:P}=w,E=dwe(w,a*8);function M(B){return Ci(B,r)}function x(B){return M(aw(B))}function R(B){const C=a;B=_a("private key",B,C);const O=_a("hashed private key",i(B),2*C),D=y(O.slice(0,C)),W=O.slice(C,2*C),L=x(D),U=A.multiply(L),q=U.toRawBytes();return{head:D,prefix:W,scalar:L,point:U,pointBytes:q}}function $(B){return R(B).pointBytes}function z(B=new Uint8Array,...C){const O=lk(...C);return x(i(h(O,_a("context",B),!!s)))}function T(B,C,O={}){B=_a("message",B),s&&(B=s(B));const{prefix:D,scalar:W,pointBytes:L}=R(C),U=z(O.context,D,B),q=A.multiply(U).toRawBytes(),J=z(O.context,q,L,B),Q=M(U+J*W);S(Q);const j=lk(q,NM(Q,t.BYTES));return _a("result",j,a*2)}const v=a7e;function k(B,C,O,D=v){const{context:W,zip215:L}=D,U=t.BYTES;B=_a("signature",B,2*U),C=_a("message",C),s&&(C=s(C));const q=aw(B.slice(U,2*U));let J,Q,j;try{J=w.fromHex(O,L),Q=w.fromHex(B.slice(0,U),L),j=A.multiplyUnsafe(q)}catch{return!1}if(!L&&J.isSmallOrder())return!1;const X=z(W,Q.toRawBytes(),J.toRawBytes(),C);return Q.add(J.multiplyUnsafe(X)).subtract(j).clearCofactor().equals(w.ZERO)}return A._setWindowSize(8),{CURVE:e,getPublicKey:$,sign:T,verify:k,ExtendedPoint:w,utils:{getExtendedPublicKey:R,randomPrivateKey:()=>o(t.BYTES),precompute(B=8,C=w.BASE){return C._setWindowSize(B),C.multiply(BigInt(3)),C}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const GZ=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),vhe=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const u7e=BigInt(1),dH=BigInt(2),l7e=BigInt(5),Ahe=BigInt(10),d7e=BigInt(20),f7e=BigInt(40),whe=BigInt(80);function h7e(n){const e=GZ,r=n*n%e*n%e,s=wo(r,dH,e)*r%e,i=wo(s,u7e,e)*n%e,o=wo(i,l7e,e)*i%e,a=wo(o,Ahe,e)*o%e,c=wo(a,d7e,e)*a%e,u=wo(c,f7e,e)*c%e,l=wo(u,whe,e)*u%e,d=wo(l,whe,e)*u%e,y=wo(d,Ahe,e)*o%e;return{pow_p_5_8:wo(y,dH,e)*n%e,b2:r}}function g7e(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function m7e(n,e){const t=GZ,r=Ci(e*e*e,t),s=Ci(r*r*e,t),i=h7e(n*s).pow_p_5_8;let o=Ci(n*r*i,t);const a=Ci(e*o*o,t),c=o,u=Ci(o*vhe,t),l=a===n,d=a===Ci(-n,t),y=a===Ci(-n*vhe,t);return l&&(o=c),(d||y)&&(o=u),XUe(o,t)&&(o=Ci(-o,t)),{isValid:l||d,value:o}}const Hm=cwe(GZ,void 0,!0),YZ={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Hm,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:nwe,randomBytes:YAe,adjustScalarBytes:g7e,uvRatio:m7e},uR=jZ(YZ);function fwe(n,e,t){if(e.length>255)throw new Error("Context is too big");return GAe(jAe("SigEd25519 no Ed25519 collisions"),new Uint8Array([t?1:0,e.length]),e,n)}({...YZ});({...YZ});const y7e=(Hm.ORDER+BigInt(3))/BigInt(8);Hm.pow(dH,y7e);Hm.sqrt(Hm.neg(Hm.ONE));(Hm.ORDER-BigInt(5))/BigInt(8);BigInt(486662);n7e(Hm,Hm.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const p7e=(n,e,t)=>n&e^~n&t,b7e=(n,e,t)=>n&e^n&t^e&t,S7e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Py=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ey=new Uint32Array(64);class k7e extends ZAe{constructor(){super(64,32,8,!1),this.A=Py[0]|0,this.B=Py[1]|0,this.C=Py[2]|0,this.D=Py[3]|0,this.E=Py[4]|0,this.F=Py[5]|0,this.G=Py[6]|0,this.H=Py[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Ey[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=Ey[d-15],h=Ey[d-2],m=Af(y,7)^Af(y,18)^y>>>3,f=Af(h,17)^Af(h,19)^h>>>10;Ey[d]=f+Ey[d-7]+m+Ey[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Af(a,6)^Af(a,11)^Af(a,25),h=l+y+p7e(a,c,u)+S7e[d]+Ey[d]|0,f=(Af(r,2)^Af(r,13)^Af(r,22))+b7e(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Ey.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const fH=UZ(()=>new k7e);class v7e extends TypeError{constructor(e,t){let r;const{message:s,...i}=e,{path:o}=e,a=o.length===0?s:"At path: "+o.join(".")+" -- "+s;super(a),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var c;return(c=r)!=null?c:r=[e,...t()]}}}function A7e(n){return jp(n)&&typeof n[Symbol.iterator]=="function"}function jp(n){return typeof n=="object"&&n!=null}function Qd(n){return typeof n=="string"?JSON.stringify(n):""+n}function w7e(n){const{done:e,value:t}=n.next();return e?void 0:t}function I7e(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Qd(r)+"`"}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*Ihe(n,e,t,r){A7e(n)||(n=[n]);for(const s of n){const i=I7e(s,e,t,r);i&&(yield i)}}function*ZZ(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s};if(i&&(n=e.coercer(n,a),o&&e.type!=="type"&&jp(e.schema)&&jp(n)&&!Array.isArray(n)))for(const u in n)e.schema[u]===void 0&&delete n[u];let c=!0;for(const u of e.validator(n,a))c=!1,yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=ZZ(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o});for(const h of y)h[0]?(c=!1,yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):jp(n)&&(n[u]=l))}if(c)for(const u of e.refiner(n,a))c=!1,yield[u,void 0];c&&(yield[void 0,n])}class og{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return Ihe(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return Ihe(l,u,this,c)}:this.refiner=()=>[]}assert(e){return hwe(e,this)}create(e){return yt(e,this)}is(e){return gwe(e,this)}mask(e){return _7e(e,this)}validate(e,t={}){return v$(e,this,t)}}function hwe(n,e){const t=v$(n,e);if(t[0])throw t[0]}function yt(n,e){const t=v$(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function _7e(n,e){const t=v$(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function gwe(n,e){return!v$(n,e)[0]}function v$(n,e,t={}){const r=ZZ(n,e,t),s=w7e(r);if(s[0])return[new v7e(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function cv(n,e){return new og({type:n,schema:null,validator:e})}function P7e(){return cv("any",()=>!0)}function Ht(n){return new og({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+Qd(e)}})}function Vh(){return cv("boolean",n=>typeof n=="boolean")}function JZ(n){return cv("instance",e=>e instanceof n||"Expected a `"+n.name+"` instance, but received: "+Qd(e))}function Hi(n){const e=Qd(n),t=typeof n;return new og({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||"Expected the literal `"+e+"`, but received: "+Qd(r)}})}function E7e(){return cv("never",()=>!1)}function jt(n){return new og({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function Ie(){return cv("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+Qd(n))}function Tr(n){return new og({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function mwe(n,e){return new og({type:"record",schema:null,*entries(t){if(jp(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return jp(t)||"Expected an object, but received: "+Qd(t)}})}function nt(){return cv("string",n=>typeof n=="string"||"Expected a string, but received: "+Qd(n))}function XZ(n){const e=E7e();return new og({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+Qd(t)}})}function Ke(n){const e=Object.keys(n);return new og({type:"type",schema:n,*entries(t){if(jp(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return jp(t)||"Expected an object, but received: "+Qd(t)}})}function il(n){const e=n.map(t=>t.type).join(" | ");return new og({type:"union",schema:null,validator(t,r){const s=[];for(const i of n){const[...o]=ZZ(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Qd(t),...s]}})}function A$(){return cv("unknown",()=>!0)}function w$(n,e,t){return new og({...n,coercer:(r,s)=>gwe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const x7e=Nve.v4,T7e=function(n,e,t,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:n};if(s===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof t>"u"){const o=typeof r.generator=="function"?r.generator:function(){return x7e()};i.id=o(i,r)}else s===2&&t===null?r.notificationIdNull&&(i.id=null):i.id=t;return i};var R7e=T7e;const B7e=Nve.v4,C7e=R7e,FM=function(n,e){if(!(this instanceof FM))return new FM(n,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return B7e()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=n};var M7e=FM;FM.prototype.request=function(n,e,t,r){const s=this;let i=null;const o=Array.isArray(n)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&n&&typeof n=="object"&&typeof e=="function")r=e,i=n;else{typeof t=="function"&&(r=t,t=void 0);const u=typeof r=="function";try{i=C7e(n,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l){if(u)return r(l);throw l}if(!u)return i}let c;try{c=JSON.stringify(i,this.options.replacer)}catch(u){return r(u)}return this.callServer(c,function(u,l){s._parseResponse(u,l,r)}),i};FM.prototype._parseResponse=function(n,e,t){if(n){t(n);return}if(!e)return t();let r;try{r=JSON.parse(e,this.options.reviver)}catch(s){return t(s)}if(t.length===3)if(Array.isArray(r)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return t(null,r.filter(s),r.filter(i))}else return t(null,r.error,r.result);t(null,r)};var ywe={},QZ={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(QZ);var pwe={exports:{}},lR={exports:{}};(function(n){function e(t){return n.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(lR);(function(n){var e=lR.exports.default;function t(){n.exports=t=function(){return s},n.exports.__esModule=!0,n.exports.default=n.exports;var r,s={},i=Object.prototype,o=i.hasOwnProperty,a=Object.defineProperty||function(C,O,D){C[O]=D.value},c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function y(C,O,D){return Object.defineProperty(C,O,{value:D,enumerable:!0,configurable:!0,writable:!0}),C[O]}try{y({},"")}catch{y=function(D,W,L){return D[W]=L}}function h(C,O,D,W){var L=O&&O.prototype instanceof I?O:I,U=Object.create(L.prototype),q=new _(W||[]);return a(U,"_invoke",{value:z(C,D,q)}),U}function m(C,O,D){try{return{type:"normal",arg:C.call(O,D)}}catch(W){return{type:"throw",arg:W}}}s.wrap=h;var f="suspendedStart",g="suspendedYield",b="executing",S="completed",p={};function I(){}function w(){}function A(){}var P={};y(P,u,function(){return this});var E=Object.getPrototypeOf,M=E&&E(E(B([])));M&&M!==i&&o.call(M,u)&&(P=M);var x=A.prototype=I.prototype=Object.create(P);function R(C){["next","throw","return"].forEach(function(O){y(C,O,function(D){return this._invoke(O,D)})})}function $(C,O){function D(L,U,q,J){var Q=m(C[L],C,U);if(Q.type!=="throw"){var j=Q.arg,X=j.value;return X&&e(X)=="object"&&o.call(X,"__await")?O.resolve(X.__await).then(function(re){D("next",re,q,J)},function(re){D("throw",re,q,J)}):O.resolve(X).then(function(re){j.value=re,q(j)},function(re){return D("throw",re,q,J)})}J(Q.arg)}var W;a(this,"_invoke",{value:function(U,q){function J(){return new O(function(Q,j){D(U,q,Q,j)})}return W=W?W.then(J,J):J()}})}function z(C,O,D){var W=f;return function(L,U){if(W===b)throw new Error("Generator is already running");if(W===S){if(L==="throw")throw U;return{value:r,done:!0}}for(D.method=L,D.arg=U;;){var q=D.delegate;if(q){var J=T(q,D);if(J){if(J===p)continue;return J}}if(D.method==="next")D.sent=D._sent=D.arg;else if(D.method==="throw"){if(W===f)throw W=S,D.arg;D.dispatchException(D.arg)}else D.method==="return"&&D.abrupt("return",D.arg);W=b;var Q=m(C,O,D);if(Q.type==="normal"){if(W=D.done?S:g,Q.arg===p)continue;return{value:Q.arg,done:D.done}}Q.type==="throw"&&(W=S,D.method="throw",D.arg=Q.arg)}}}function T(C,O){var D=O.method,W=C.iterator[D];if(W===r)return O.delegate=null,D==="throw"&&C.iterator.return&&(O.method="return",O.arg=r,T(C,O),O.method==="throw")||D!=="return"&&(O.method="throw",O.arg=new TypeError("The iterator does not provide a '"+D+"' method")),p;var L=m(W,C.iterator,O.arg);if(L.type==="throw")return O.method="throw",O.arg=L.arg,O.delegate=null,p;var U=L.arg;return U?U.done?(O[C.resultName]=U.value,O.next=C.nextLoc,O.method!=="return"&&(O.method="next",O.arg=r),O.delegate=null,p):U:(O.method="throw",O.arg=new TypeError("iterator result is not an object"),O.delegate=null,p)}function v(C){var O={tryLoc:C[0]};1 in C&&(O.catchLoc=C[1]),2 in C&&(O.finallyLoc=C[2],O.afterLoc=C[3]),this.tryEntries.push(O)}function k(C){var O=C.completion||{};O.type="normal",delete O.arg,C.completion=O}function _(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(v,this),this.reset(!0)}function B(C){if(C||C===""){var O=C[u];if(O)return O.call(C);if(typeof C.next=="function")return C;if(!isNaN(C.length)){var D=-1,W=function L(){for(;++D<C.length;)if(o.call(C,D))return L.value=C[D],L.done=!1,L;return L.value=r,L.done=!0,L};return W.next=W}}throw new TypeError(e(C)+" is not iterable")}return w.prototype=A,a(x,"constructor",{value:A,configurable:!0}),a(A,"constructor",{value:w,configurable:!0}),w.displayName=y(A,d,"GeneratorFunction"),s.isGeneratorFunction=function(C){var O=typeof C=="function"&&C.constructor;return!!O&&(O===w||(O.displayName||O.name)==="GeneratorFunction")},s.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,A):(C.__proto__=A,y(C,d,"GeneratorFunction")),C.prototype=Object.create(x),C},s.awrap=function(C){return{__await:C}},R($.prototype),y($.prototype,l,function(){return this}),s.AsyncIterator=$,s.async=function(C,O,D,W,L){L===void 0&&(L=Promise);var U=new $(h(C,O,D,W),L);return s.isGeneratorFunction(O)?U:U.next().then(function(q){return q.done?q.value:U.next()})},R(x),y(x,d,"Generator"),y(x,u,function(){return this}),y(x,"toString",function(){return"[object Generator]"}),s.keys=function(C){var O=Object(C),D=[];for(var W in O)D.push(W);return D.reverse(),function L(){for(;D.length;){var U=D.pop();if(U in O)return L.value=U,L.done=!1,L}return L.done=!0,L}},s.values=B,_.prototype={constructor:_,reset:function(O){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(k),!O)for(var D in this)D.charAt(0)==="t"&&o.call(this,D)&&!isNaN(+D.slice(1))&&(this[D]=r)},stop:function(){this.done=!0;var O=this.tryEntries[0].completion;if(O.type==="throw")throw O.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var D=this;function W(j,X){return q.type="throw",q.arg=O,D.next=j,X&&(D.method="next",D.arg=r),!!X}for(var L=this.tryEntries.length-1;L>=0;--L){var U=this.tryEntries[L],q=U.completion;if(U.tryLoc==="root")return W("end");if(U.tryLoc<=this.prev){var J=o.call(U,"catchLoc"),Q=o.call(U,"finallyLoc");if(J&&Q){if(this.prev<U.catchLoc)return W(U.catchLoc,!0);if(this.prev<U.finallyLoc)return W(U.finallyLoc)}else if(J){if(this.prev<U.catchLoc)return W(U.catchLoc,!0)}else{if(!Q)throw new Error("try statement without catch or finally");if(this.prev<U.finallyLoc)return W(U.finallyLoc)}}}},abrupt:function(O,D){for(var W=this.tryEntries.length-1;W>=0;--W){var L=this.tryEntries[W];if(L.tryLoc<=this.prev&&o.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var U=L;break}}U&&(O==="break"||O==="continue")&&U.tryLoc<=D&&D<=U.finallyLoc&&(U=null);var q=U?U.completion:{};return q.type=O,q.arg=D,U?(this.method="next",this.next=U.finallyLoc,p):this.complete(q)},complete:function(O,D){if(O.type==="throw")throw O.arg;return O.type==="break"||O.type==="continue"?this.next=O.arg:O.type==="return"?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):O.type==="normal"&&D&&(this.next=D),p},finish:function(O){for(var D=this.tryEntries.length-1;D>=0;--D){var W=this.tryEntries[D];if(W.finallyLoc===O)return this.complete(W.completion,W.afterLoc),k(W),p}},catch:function(O){for(var D=this.tryEntries.length-1;D>=0;--D){var W=this.tryEntries[D];if(W.tryLoc===O){var L=W.completion;if(L.type==="throw"){var U=L.arg;k(W)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(O,D,W){return this.delegate={iterator:B(O),resultName:D,nextLoc:W},this.method==="next"&&(this.arg=r),p}},s}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(pwe);var hL=pwe.exports(),z7e=hL;try{regeneratorRuntime=hL}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=hL:Function("r","regeneratorRuntime = r")(hL)}var bwe={exports:{}};(function(n){function e(r,s,i,o,a,c,u){try{var l=r[c](u),d=l.value}catch(y){i(y);return}l.done?s(d):Promise.resolve(d).then(o,a)}function t(r){return function(){var s=this,i=arguments;return new Promise(function(o,a){var c=r.apply(s,i);function u(d){e(c,o,a,u,l,"next",d)}function l(d){e(c,o,a,u,l,"throw",d)}u(void 0)})}}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(bwe);var eJ={exports:{}};(function(n){function e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(eJ);var tJ={exports:{}},Swe={exports:{}},kwe={exports:{}};(function(n){var e=lR.exports.default;function t(r,s){if(e(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var o=i.call(r,s||"default");if(e(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(r)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(kwe);(function(n){var e=lR.exports.default,t=kwe.exports;function r(s){var i=t(s,"string");return e(i)==="symbol"?i:String(i)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports})(Swe);(function(n){var e=Swe.exports;function t(s,i){for(var o=0;o<i.length;o++){var a=i[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,e(a.key),a)}}function r(s,i,o){return i&&t(s.prototype,i),o&&t(s,o),Object.defineProperty(s,"prototype",{writable:!1}),s}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports})(tJ);var rJ={exports:{}},vwe={exports:{}};(function(n){function e(t,r){return n.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},n.exports.__esModule=!0,n.exports.default=n.exports,e(t,r)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(vwe);(function(n){var e=vwe.exports;function t(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(s&&s.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),s&&e(r,s)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(rJ);var nJ={exports:{}},Awe={exports:{}};(function(n){function e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(Awe);(function(n){var e=lR.exports.default,t=Awe.exports;function r(s,i){if(i&&(e(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(s)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports})(nJ);var sJ={exports:{}};(function(n){function e(t){return n.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(sJ);(function(n){var e=QZ.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(z7e),r=e(bwe.exports),s=e(lR.exports),i=e(eJ.exports),o=e(tJ.exports),a=e(rJ.exports),c=e(nJ.exports),u=e(sJ.exports),l=Fve.exports;function d(f){var g=y();return function(){var S=(0,u.default)(f),p;if(g){var I=(0,u.default)(this).constructor;p=Reflect.construct(S,arguments,I)}else p=S.apply(this,arguments);return(0,c.default)(this,p)}}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var h=function(f,g){var b={};for(var S in f)Object.prototype.hasOwnProperty.call(f,S)&&g.indexOf(S)<0&&(b[S]=f[S]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,S=Object.getOwnPropertySymbols(f);p<S.length;p++)g.indexOf(S[p])<0&&Object.prototype.propertyIsEnumerable.call(f,S[p])&&(b[S[p]]=f[S[p]]);return b},m=function(f){(0,a.default)(b,f);var g=d(b);function b(S){var p,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},A=arguments.length>3?arguments[3]:void 0;(0,i.default)(this,b);var P=w.autoconnect,E=P===void 0?!0:P,M=w.reconnect,x=M===void 0?!0:M,R=w.reconnect_interval,$=R===void 0?1e3:R,z=w.max_reconnects,T=z===void 0?5:z,v=h(w,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return p=g.call(this),p.webSocketFactory=S,p.queue={},p.rpc_id=0,p.address=I,p.autoconnect=E,p.ready=!1,p.reconnect=x,p.reconnect_timer_id=void 0,p.reconnect_interval=$,p.max_reconnects=T,p.rest_options=v,p.current_reconnects=0,p.generate_request_id=A||function(){return++p.rpc_id},p.autoconnect&&p._connect(p.address,Object.assign({autoconnect:p.autoconnect,reconnect:p.reconnect,reconnect_interval:p.reconnect_interval,max_reconnects:p.max_reconnects},p.rest_options)),p}return(0,o.default)(b,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(p,I,w,A){var P=this;return!A&&(0,s.default)(w)==="object"&&(A=w,w=null),new Promise(function(E,M){if(!P.ready)return M(new Error("socket not ready"));var x=P.generate_request_id(p,I),R={jsonrpc:"2.0",method:p,params:I||null,id:x};P.socket.send(JSON.stringify(R),A,function($){if($)return M($);P.queue[x]={promise:[E,M]},w&&(P.queue[x].timeout=setTimeout(function(){delete P.queue[x],M(new Error("reply timeout"))},w))})})}},{key:"login",value:function(){var S=(0,r.default)(t.default.mark(function I(w){var A;return t.default.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,this.call("rpc.login",w);case 2:if(A=E.sent,A){E.next=5;break}throw new Error("authentication failed");case 5:return E.abrupt("return",A);case 6:case"end":return E.stop()}},I,this)}));function p(I){return S.apply(this,arguments)}return p}()},{key:"listMethods",value:function(){var S=(0,r.default)(t.default.mark(function I(){return t.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,this.call("__listMethods");case 2:return A.abrupt("return",A.sent);case 3:case"end":return A.stop()}},I,this)}));function p(){return S.apply(this,arguments)}return p}()},{key:"notify",value:function(p,I){var w=this;return new Promise(function(A,P){if(!w.ready)return P(new Error("socket not ready"));var E={jsonrpc:"2.0",method:p,params:I||null};w.socket.send(JSON.stringify(E),function(M){if(M)return P(M);A()})})}},{key:"subscribe",value:function(){var S=(0,r.default)(t.default.mark(function I(w){var A;return t.default.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return typeof w=="string"&&(w=[w]),E.next=3,this.call("rpc.on",w);case 3:if(A=E.sent,!(typeof w=="string"&&A[w]!=="ok")){E.next=6;break}throw new Error("Failed subscribing to an event '"+w+"' with: "+A[w]);case 6:return E.abrupt("return",A);case 7:case"end":return E.stop()}},I,this)}));function p(I){return S.apply(this,arguments)}return p}()},{key:"unsubscribe",value:function(){var S=(0,r.default)(t.default.mark(function I(w){var A;return t.default.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return typeof w=="string"&&(w=[w]),E.next=3,this.call("rpc.off",w);case 3:if(A=E.sent,!(typeof w=="string"&&A[w]!=="ok")){E.next=6;break}throw new Error("Failed unsubscribing from an event with: "+A);case 6:return E.abrupt("return",A);case 7:case"end":return E.stop()}},I,this)}));function p(I){return S.apply(this,arguments)}return p}()},{key:"close",value:function(p,I){this.socket.close(p||1e3,I)}},{key:"_connect",value:function(p,I){var w=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(p,I),this.socket.addEventListener("open",function(){w.ready=!0,w.emit("open"),w.current_reconnects=0}),this.socket.addEventListener("message",function(A){var P=A.data;P instanceof ArrayBuffer&&(P=rt.Buffer.from(P).toString());try{P=JSON.parse(P)}catch{return}if(P.notification&&w.listeners(P.notification).length){if(!Object.keys(P.params).length)return w.emit(P.notification);var E=[P.notification];if(P.params.constructor===Object)E.push(P.params);else for(var M=0;M<P.params.length;M++)E.push(P.params[M]);return Promise.resolve().then(function(){w.emit.apply(w,E)})}if(!w.queue[P.id])return P.method&&P.params?Promise.resolve().then(function(){w.emit(P.method,P.params)}):void 0;"error"in P=="result"in P&&w.queue[P.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),w.queue[P.id].timeout&&clearTimeout(w.queue[P.id].timeout),P.error?w.queue[P.id].promise[1](P.error):w.queue[P.id].promise[0](P.result),delete w.queue[P.id]}),this.socket.addEventListener("error",function(A){return w.emit("error",A)}),this.socket.addEventListener("close",function(A){var P=A.code,E=A.reason;w.ready&&setTimeout(function(){return w.emit("close",P,E)},0),w.ready=!1,w.socket=void 0,P!==1e3&&(w.current_reconnects++,w.reconnect&&(w.max_reconnects>w.current_reconnects||w.max_reconnects===0)&&(w.reconnect_timer_id=setTimeout(function(){return w._connect(p,I)},w.reconnect_interval)))})}}]),b}(l.EventEmitter);n.default=m})(ywe);var $7e=Uve(ywe),wwe={};(function(n){var e=QZ.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var t=e(eJ.exports),r=e(tJ.exports),s=e(rJ.exports),i=e(nJ.exports),o=e(sJ.exports),a=Fve.exports;function c(y){var h=u();return function(){var f=(0,o.default)(y),g;if(h){var b=(0,o.default)(this).constructor;g=Reflect.construct(f,arguments,b)}else g=f.apply(this,arguments);return(0,i.default)(this,g)}}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var l=function(y){(0,s.default)(m,y);var h=c(m);function m(f,g,b){var S;return(0,t.default)(this,m),S=h.call(this),S.socket=new window.WebSocket(f,b),S.socket.onopen=function(){return S.emit("open")},S.socket.onmessage=function(p){return S.emit("message",p.data)},S.socket.onerror=function(p){return S.emit("error",p)},S.socket.onclose=function(p){S.emit("close",p.code,p.reason)},S}return(0,r.default)(m,[{key:"send",value:function(g,b,S){var p=S||b;try{this.socket.send(g),p()}catch(I){p(I)}}},{key:"close",value:function(g,b){this.socket.close(g,b)}},{key:"addEventListener",value:function(g,b,S){this.socket.addEventListener(g,b,S)}}]),m}(a.EventEmitter);function d(y,h){return new l(y,h)}})(wwe);var D7e=Uve(wwe);const[Iwe,_we,Pwe]=[[],[],[]],O7e=BigInt(0),Z2=BigInt(1),L7e=BigInt(2),K7e=BigInt(7),W7e=BigInt(256),N7e=BigInt(113);for(let n=0,e=Z2,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],Iwe.push(2*(5*r+t)),_we.push((n+1)*(n+2)/2%64);let s=O7e;for(let i=0;i<7;i++)e=(e<<Z2^(e>>K7e)*N7e)%W7e,e&L7e&&(s^=Z2<<(Z2<<BigInt(i))-Z2);Pwe.push(s)}const[F7e,U7e]=XAe(Pwe,!0),_he=(n,e,t)=>t>32?twe(n,e,t):QAe(n,e,t),Phe=(n,e,t)=>t>32?rwe(n,e,t):ewe(n,e,t);function V7e(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=_he(u,l,1)^t[a],y=Phe(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=_we[o],c=_he(s,i,a),u=Phe(s,i,a),l=Iwe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=F7e[r],n[1]^=U7e[r]}t.fill(0)}class iJ extends FZ{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,t4(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=mUe(this.state)}keccak(){V7e(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Vw(this);const{blockLen:t,state:r}=this;e=EK(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Vw(this,!1),NZ(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return t4(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(qAe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new iJ(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const q7e=(n,e,t)=>UZ(()=>new iJ(e,n,t)),Ehe=q7e(1,136,256/8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function H7e(n){const e=HZ(n);cR(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:j7e,hexToBytes:G7e}=jUe,ES={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=ES;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:j7e(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=ES,t=typeof n=="string"?G7e(n):n;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=ES._parseInt(t.subarray(2)),{d:o,l:a}=ES._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},xm=BigInt(0),ed=BigInt(1);BigInt(2);const xhe=BigInt(3);BigInt(4);function Y7e(n){const e=H7e(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return lk(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return typeof m=="bigint"&&xm<m&&m<e.n}function a(m){if(!o(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=uk(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:GS(_a("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=Ci(p,S)),a(p),p}const u=new Map;function l(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required")}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(_a("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(c(f))}_setWindowSize(f){this._WINDOW_SIZE=f,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=this.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){l(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),P=t.eql(t.mul(b,w),t.mul(I,S));return A&&P}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,xhe),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,P=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),x=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),P=t.mul(S,I),P=t.add(P,P),w=t.mul(f,P),A=t.mul(b,x),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),P=t.mul(b,P),x=t.mul(f,x),R=t.sub(E,x),R=t.mul(f,R),R=t.add(R,P),P=t.add(E,E),E=t.add(P,E),E=t.add(E,x),E=t.mul(E,R),A=t.add(A,E),x=t.mul(p,I),x=t.add(x,x),E=t.mul(x,R),w=t.sub(w,E),P=t.mul(x,M),P=t.add(P,P),P=t.add(P,P),new d(w,A,P)}add(f){l(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,P=t.ZERO,E=t.ZERO;const M=e.a,x=t.mul(e.b,xhe);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(x,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),P=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(x,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),P=t.add(P,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,P,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,u,f,g=>{const b=t.invertBatch(g.map(S=>S.pz));return g.map((S,p)=>S.toAffine(b[p])).map(d.fromAffine)})}multiplyUnsafe(f){const g=d.ZERO;if(f===xm)return g;if(a(f),f===ed)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,P=g,E=this;for(;p>xm||w>xm;)p&ed&&(A=A.add(E)),w&ed&&(P=P.add(E)),E=E.double(),p>>=ed,w>>=ed;return S&&(A=A.negate()),I&&(P=P.negate()),P=new d(t.mul(P.px,b.beta),P.py,P.pz),A.add(P)}multiply(f){a(f);let g=f,b,S;const{endo:p}=e;if(p){const{k1neg:I,k1:w,k2neg:A,k2:P}=p.splitScalar(g);let{p:E,f:M}=this.wNAF(w),{p:x,f:R}=this.wNAF(P);E=h.constTimeNegate(I,E),x=h.constTimeNegate(A,x),x=new d(t.mul(x.px,p.beta),x.py,x.pz),b=E.add(x),S=M.add(R)}else{const{p:I,f:w}=this.wNAF(g);b=I,S=w}return d.normalizeZ([b,S])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===xm||A===ed||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){const{px:g,py:b,pz:S}=this,p=this.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===ed)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===ed?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return this.assertValidity(),r(d,this,f)}toHex(f=!0){return uk(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=dwe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}function Z7e(n){const e=HZ(n);return cR(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function J7e(n){const e=Z7e(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(v){return xm<v&&v<t.ORDER}function a(v){return Ci(v,r)}function c(v){return lH(v,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:y}=Y7e({...e,toBytes(v,k,_){const B=k.toAffine(),C=t.toBytes(B.x),O=lk;return _?O(Uint8Array.from([k.hasEvenY()?2:3]),C):O(Uint8Array.from([4]),C,t.toBytes(B.y))},fromBytes(v){const k=v.length,_=v[0],B=v.subarray(1);if(k===s&&(_===2||_===3)){const C=GS(B);if(!o(C))throw new Error("Point is not on curve");const O=d(C);let D=t.sqrt(O);const W=(D&ed)===ed;return(_&1)===1!==W&&(D=t.neg(D)),{x:C,y:D}}else if(k===i&&_===4){const C=t.fromBytes(B.subarray(0,t.BYTES)),O=t.fromBytes(B.subarray(t.BYTES,2*t.BYTES));return{x:C,y:O}}else throw new Error(`Point of length ${k} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),h=v=>uk(Hw(v,e.nByteLength));function m(v){const k=r>>ed;return v>k}function f(v){return m(v)?a(-v):v}const g=(v,k,_)=>GS(v.slice(k,_));class b{constructor(k,_,B){this.r=k,this.s=_,this.recovery=B,this.assertValidity()}static fromCompact(k){const _=e.nByteLength;return k=_a("compactSignature",k,_*2),new b(g(k,0,_),g(k,_,2*_))}static fromDER(k){const{r:_,s:B}=ES.toSig(_a("DER",k));return new b(_,B)}assertValidity(){if(!y(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!y(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(k){return new b(this.r,this.s,k)}recoverPublicKey(k){const{r:_,s:B,recovery:C}=this,O=P(_a("msgHash",k));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const D=C===2||C===3?_+e.n:_;if(D>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const W=(C&1)===0?"02":"03",L=u.fromHex(W+h(D)),U=c(D),q=a(-O*U),J=a(B*U),Q=u.BASE.multiplyAndAddUnsafe(L,q,J);if(!Q)throw new Error("point at infinify");return Q.assertValidity(),Q}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return qw(this.toDERHex())}toDERHex(){return ES.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return qw(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const S={isValidPrivateKey(v){try{return l(v),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const v=lwe(e.n);return s7e(e.randomBytes(v),e.n)},precompute(v=8,k=u.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}};function p(v,k=!0){return u.fromPrivateKey(v).toRawBytes(k)}function I(v){const k=v instanceof Uint8Array,_=typeof v=="string",B=(k||_)&&v.length;return k?B===s||B===i:_?B===2*s||B===2*i:v instanceof u}function w(v,k,_=!0){if(I(v))throw new Error("first arg must be private key");if(!I(k))throw new Error("second arg must be public key");return u.fromHex(k).multiply(l(v)).toRawBytes(_)}const A=e.bits2int||function(v){const k=GS(v),_=v.length*8-e.nBitLength;return _>0?k>>BigInt(_):k},P=e.bits2int_modN||function(v){return a(A(v))},E=qZ(e.nBitLength);function M(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(xm<=v&&v<E))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Hw(v,e.nByteLength)}function x(v,k,_=R){if(["recovered","canonical"].some(X=>X in _))throw new Error("sign() legacy options not supported");const{hash:B,randomBytes:C}=e;let{lowS:O,prehash:D,extraEntropy:W}=_;O==null&&(O=!0),v=_a("msgHash",v),D&&(v=_a("prehashed msgHash",B(v)));const L=P(v),U=l(k),q=[M(U),M(L)];if(W!=null){const X=W===!0?C(t.BYTES):W;q.push(_a("extraEntropy",X))}const J=lk(...q),Q=L;function j(X){const re=A(X);if(!y(re))return;const se=c(re),ee=u.BASE.multiply(re).toAffine(),ne=a(ee.x);if(ne===xm)return;const _e=a(se*a(Q+ne*U));if(_e===xm)return;let Pe=(ee.x===ne?0:2)|Number(ee.y&ed),We=_e;return O&&m(_e)&&(We=f(_e),Pe^=1),new b(ne,We,Pe)}return{seed:J,k2sig:j}}const R={lowS:e.lowS,prehash:!1},$={lowS:e.lowS,prehash:!1};function z(v,k,_=R){const{seed:B,k2sig:C}=x(v,k,_),O=e;return owe(O.hash.outputLen,O.nByteLength,O.hmac)(B,C)}u.BASE._setWindowSize(8);function T(v,k,_,B=$){var ee;const C=v;if(k=_a("msgHash",k),_=_a("publicKey",_),"strict"in B)throw new Error("options.strict was renamed to lowS");const{lowS:O,prehash:D}=B;let W,L;try{if(typeof C=="string"||C instanceof Uint8Array)try{W=b.fromDER(C)}catch(ne){if(!(ne instanceof ES.Err))throw ne;W=b.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ne,s:_e}=C;W=new b(ne,_e)}else throw new Error("PARSE");L=u.fromHex(_)}catch(ne){if(ne.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(O&&W.hasHighS())return!1;D&&(k=e.hash(k));const{r:U,s:q}=W,J=P(k),Q=c(q),j=a(J*Q),X=a(U*Q),re=(ee=u.BASE.multiplyAndAddUnsafe(L,j,X))==null?void 0:ee.toAffine();return re?a(re.x)===U:!1}return{CURVE:e,getPublicKey:p,getSharedSecret:w,sign:z,verify:T,ProjectivePoint:u,Signature:b,utils:S}}class Ewe extends FZ{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,gUe(e);const r=EK(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Vw(this),this.iHash.update(e),this}digestInto(e){Vw(this),NZ(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const xwe=(n,e,t)=>new Ewe(n,e).update(t).digest();xwe.create=(n,e)=>new Ewe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function X7e(n){return{hash:n,hmac:(e,...t)=>xwe(n,e,GAe(...t)),randomBytes:YAe}}function Q7e(n,e){const t=r=>J7e({...n,...X7e(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Twe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),The=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),e9e=BigInt(1),hH=BigInt(2),Rhe=(n,e)=>(n+e/hH)/e;function t9e(n){const e=Twe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=wo(l,t,e)*l%e,y=wo(d,t,e)*l%e,h=wo(y,hH,e)*u%e,m=wo(h,s,e)*h%e,f=wo(m,i,e)*m%e,g=wo(f,a,e)*f%e,b=wo(g,c,e)*g%e,S=wo(b,a,e)*f%e,p=wo(S,t,e)*l%e,I=wo(p,o,e)*m%e,w=wo(I,r,e)*u%e,A=wo(w,hH,e);if(!gH.eql(gH.sqr(A),n))throw new Error("Cannot find square root");return A}const gH=cwe(Twe,void 0,void 0,{sqrt:t9e}),RK=Q7e({a:BigInt(0),b:BigInt(7),Fp:gH,n:The,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=The,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-e9e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=Rhe(i*n,e),c=Rhe(-r*n,e);let u=Ci(n-a*t-c*s,e),l=Ci(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},fH);BigInt(0);RK.ProjectivePoint;const r9e=uR.utils.randomPrivateKey,Bhe=()=>{const n=uR.utils.randomPrivateKey(),e=r4(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},r4=uR.getPublicKey;function Che(n){try{return uR.ExtendedPoint.fromHex(n),!0}catch{return!1}}const oJ=(n,e)=>uR.sign(n,e.slice(0,32)),n9e=uR.verify,un=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class aJ{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(tg(gM,this))}static decode(e){return rg(gM,this,e)}static decodeUnchecked(e){return ng(gM,this,e)}}class s9e extends aJ{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const gM=new Map;var Rwe;let Bwe;const Cwe=32,Dl=32;function i9e(n){return n._bn!==void 0}let Mhe=1;Bwe=Symbol.toStringTag;class st extends aJ{constructor(e){if(super({}),this._bn=void 0,i9e(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ae.decode(e);if(t.length!=Dl)throw new Error("Invalid public key input");this._bn=new Ni(t)}else this._bn=new Ni(e);if(this._bn.byteLength()>Dl)throw new Error("Invalid public key input")}}static unique(){const e=new st(Mhe);return Mhe+=1,new st(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ae.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Dl)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Bwe](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=fH(s);return new st(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>Cwe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,un(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=fH(r);if(Che(s))throw new Error("Invalid seeds, address must fall off the curve");return new st(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new st(e);return Che(t.toBytes())}}Rwe=st;st.default=new Rwe("11111111111111111111111111111111");gM.set(st,{kind:"struct",fields:[["_bn","u256"]]});class o9e{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=un(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=un(r9e()),this._publicKey=un(r4(this._secretKey))}get publicKey(){return new st(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const a9e=new st("BPFLoader1111111111111111111111111111111111"),Gp=1280-40-8,BK=127,jw=64;class cJ extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(cJ.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class uJ extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(uJ.prototype,"name",{value:"TransactionExpiredTimeoutError"});class WA extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(WA.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class UM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const xn=(n="publicKey")=>ie(32,n),c9e=(n="signature")=>ie(64,n),xS=(n="string")=>{const e=N([F("length"),F("lengthPadding"),ie(Gt(F(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>F().span+F().span+V.Buffer.from(i,"utf8").length,s},u9e=(n="authorized")=>N([xn("staker"),xn("withdrawer")],n),l9e=(n="lockup")=>N([Ee("unixTimestamp"),Ee("epoch"),xn("custodian")],n),d9e=(n="voteInit")=>N([xn("nodePubkey"),xn("authorizedVoter"),xn("authorizedWithdrawer"),te("commission")],n),f9e=(n="voteAuthorizeWithSeedArgs")=>N([F("voteAuthorizationType"),xn("currentAuthorityDerivedKeyOwnerPubkey"),xS("currentAuthorityDerivedKeySeed"),xn("newAuthorized")],n);function Mwe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return Mwe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function $u(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function bl(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Xn(n,e){if(!n)throw new Error(e||"Assertion failed")}class CK{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new CK(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Xn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Xn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Xn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new st(c)),...r.map(([c])=>new st(c)),...s.map(([c])=>new st(c)),...i.map(([c])=>new st(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new st(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Xn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}class ef{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new st(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ae.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new UM(this.staticAccountKeys)}static compile(e){const t=CK.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new UM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ae.encode(a.data)}));return new ef({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];bl(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ae.decode(d.data));let f=[];bl(f,y.length);let g=[];return bl(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];bl(s,r.length);let i=V.Buffer.alloc(Gp);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=N([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=N([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(xn("key"),e,"keys"),xn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>un(d.toBytes())),recentBlockhash:Ae.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=t.shift();if(r!==(r&BK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=t.shift(),i=t.shift(),o=$u(t);let a=[];for(let y=0;y<o;y++){const h=t.slice(0,Dl);t=t.slice(Dl),a.push(new st(V.Buffer.from(h)))}const c=t.slice(0,Dl);t=t.slice(Dl);const u=$u(t);let l=[];for(let y=0;y<u;y++){const h=t.shift(),m=$u(t),f=t.slice(0,m);t=t.slice(m);const g=$u(t),b=t.slice(0,g),S=Ae.encode(V.Buffer.from(b));t=t.slice(g),l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ae.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new ef(d)}}class dk{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new UM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=CK.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new UM(a,s).compileInstructions(e.instructions);return new dk({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();bl(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();bl(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();bl(i,this.addressTableLookups.length);const o=N([te("prefix"),N([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(xn(),this.staticAccountKeys.length,"staticAccountKeys"),xn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Gp),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ae.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Gp);for(const r of this.compiledInstructions){const s=Array();bl(s,r.accountKeyIndexes.length);const i=Array();bl(i,r.data.length),e+=N([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Gp);for(const r of this.addressTableLookups){const s=Array();bl(s,r.writableIndexes.length);const i=Array();bl(i,r.readonlyIndexes.length),e+=N([xn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=t.shift(),s=r&BK;Xn(r!==s,"Expected versioned message but received legacy message");const i=s;Xn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},a=[],c=$u(t);for(let m=0;m<c;m++)a.push(new st(t.splice(0,Dl)));const u=Ae.encode(t.splice(0,Dl)),l=$u(t),d=[];for(let m=0;m<l;m++){const f=t.shift(),g=$u(t),b=t.splice(0,g),S=$u(t),p=new Uint8Array(t.splice(0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=$u(t),h=[];for(let m=0;m<y;m++){const f=new st(t.splice(0,Dl)),g=$u(t),b=t.splice(0,g),S=$u(t),p=t.splice(0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new dk({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const lJ={deserializeMessageVersion(n){const e=n[0],t=e&BK;return t===e?"legacy":t},deserialize:n=>{const e=lJ.deserializeMessageVersion(n);if(e==="legacy")return ef.from(n);if(e===0)return dk.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let mm=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const h9e=V.Buffer.alloc(jw).fill(0);class zs{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Es{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new zs(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new st(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ae.encode(g)}});return m.forEach(f=>{Xn(f.programIdIndex>=0),f.accounts.forEach(g=>Xn(g>=0))}),new ef({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=oJ(r,s.secretKey);this._addSignature(s.publicKey,un(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Xn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(const{signature:r,publicKey:s}of this.signatures)if(r===null){if(t)return!1}else if(!n9e(r,e,s.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r&&!this._verifySignatures(s,t))throw new Error("Signature verification failed");return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];bl(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Xn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Xn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Xn(i.length<=Gp,`Transaction too large: ${i.length} > ${Gp}`),i}get keys(){return Xn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Xn(this.instructions.length===1),this.instructions[0].programId}get data(){return Xn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=$u(t);let s=[];for(let i=0;i<r;i++){const o=t.slice(0,jw);t=t.slice(jw),s.push(Ae.encode(V.Buffer.from(o)))}return Es.populate(ef.from(t),s)}static populate(e,t=[]){const r=new Es;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ae.encode(h9e)?null:Ae.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new zs({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ae.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class dJ{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Xn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Xn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new zs({programId:g,data:un(m.data),keys:f}))}return new dJ({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return ef.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return dk.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class fJ{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Xn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(jw));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();bl(t,this.signatures.length);const r=N([ie(t.length,"encodedSignaturesLength"),we(c9e(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=$u(t);for(let o=0;o<s;o++)r.push(new Uint8Array(t.splice(0,jw)));const i=lJ.deserialize(new Uint8Array(t));return new fJ(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Xn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=oJ(t,s.secretKey)}}addSignature(e,t){Xn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Xn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const g9e=160,m9e=64,y9e=g9e/m9e,zwe=1e3/y9e,Nf=new st("SysvarC1ock11111111111111111111111111111111"),p9e=new st("SysvarEpochSchedu1e111111111111111111111111"),b9e=new st("Sysvar1nstructions1111111111111111111111111"),gL=new st("SysvarRecentB1ockHashes11111111111111111111"),Gw=new st("SysvarRent111111111111111111111111111111111"),S9e=new st("SysvarRewards111111111111111111111111111111"),k9e=new st("SysvarS1otHashes111111111111111111111111111"),v9e=new st("SysvarS1otHistory11111111111111111111111111"),mL=new st("SysvarStakeHistory1111111111111111111111111");async function mH(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function sS(n){return new Promise(e=>setTimeout(e,n))}function Yn(n,e){const t=n.layout.span>=0?n.layout.span:Mwe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function bs(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const $we=fe("lamportsPerSignature"),Dwe=N([F("version"),F("state"),xn("authorizedPubkey"),xn("nonce"),N([$we],"feeCalculator")]),yH=Dwe.span;class MK{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=Dwe.decode(un(e),0);return new MK({authorizedPubkey:new st(t.authorizedPubkey),nonce:new st(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const A9e=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},w9e=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=A9e(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return sg(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=ya(o,n);return r(u,a,c)},i},Yw=w9e(8);class I9e{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Qs))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=bs(Qs.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new st(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=bs(Qs.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=bs(Qs.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new st(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=bs(Qs.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=bs(Qs.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new st(t),seed:r,space:s,programId:new st(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=bs(Qs.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new st(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=bs(Qs.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new st(t),seed:r,programId:new st(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=bs(Qs.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new st(t),seed:r,lamports:s,space:i,programId:new st(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=bs(Qs.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new st(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),bs(Qs.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=bs(Qs.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=bs(Qs.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new st(t)}}static checkProgramId(e){if(!e.equals(Lc.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Qs=Object.freeze({Create:{index:0,layout:N([F("instruction"),Ee("lamports"),Ee("space"),xn("programId")])},Assign:{index:1,layout:N([F("instruction"),xn("programId")])},Transfer:{index:2,layout:N([F("instruction"),Yw("lamports")])},CreateWithSeed:{index:3,layout:N([F("instruction"),xn("base"),xS("seed"),Ee("lamports"),Ee("space"),xn("programId")])},AdvanceNonceAccount:{index:4,layout:N([F("instruction")])},WithdrawNonceAccount:{index:5,layout:N([F("instruction"),Ee("lamports")])},InitializeNonceAccount:{index:6,layout:N([F("instruction"),xn("authorized")])},AuthorizeNonceAccount:{index:7,layout:N([F("instruction"),xn("authorized")])},Allocate:{index:8,layout:N([F("instruction"),Ee("space")])},AllocateWithSeed:{index:9,layout:N([F("instruction"),xn("base"),xS("seed"),Ee("space"),xn("programId")])},AssignWithSeed:{index:10,layout:N([F("instruction"),xn("base"),xS("seed"),xn("programId")])},TransferWithSeed:{index:11,layout:N([F("instruction"),Yw("lamports"),xS("seed"),xn("programId")])},UpgradeNonceAccount:{index:12,layout:N([F("instruction")])}});class Lc{constructor(){}static createAccount(e){const t=Qs.Create,r=Yn(t,{lamports:e.lamports,space:e.space,programId:un(e.programId.toBuffer())});return new zs({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Qs.TransferWithSeed;t=Yn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:un(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Qs.Transfer;t=Yn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new zs({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Qs.AssignWithSeed;t=Yn(s,{base:un(e.basePubkey.toBuffer()),seed:e.seed,programId:un(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Qs.Assign;t=Yn(s,{programId:un(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new zs({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Qs.CreateWithSeed,r=Yn(t,{base:un(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:un(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new zs({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Es;"basePubkey"in e&&"seed"in e?t.add(Lc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:yH,programId:this.programId})):t.add(Lc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:yH,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Qs.InitializeNonceAccount,r=Yn(t,{authorized:un(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:gL,isSigner:!1,isWritable:!1},{pubkey:Gw,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new zs(s)}static nonceAdvance(e){const t=Qs.AdvanceNonceAccount,r=Yn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:gL,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new zs(s)}static nonceWithdraw(e){const t=Qs.WithdrawNonceAccount,r=Yn(t,{lamports:e.lamports});return new zs({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:gL,isSigner:!1,isWritable:!1},{pubkey:Gw,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Qs.AuthorizeNonceAccount,r=Yn(t,{authorized:un(e.newAuthorizedPubkey.toBuffer())});return new zs({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Qs.AllocateWithSeed;t=Yn(s,{base:un(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:un(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Qs.Allocate;t=Yn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new zs({keys:r,programId:this.programId,data:t})}}Lc.programId=new st("11111111111111111111111111111111");const _9e=Gp-300;class fk{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/fk.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Es,h.add(Lc.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Es,h.add(Lc.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Es,h.add(Lc.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Es().add(Lc.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await mH(e,h,[t,r],{commitment:"confirmed"})}const o=N([F("instruction"),F("offset"),F("bytesLength"),F("bytesLengthPadding"),we(te("byte"),Gt(F(),-8),"bytes")]),a=fk.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Es().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(mH(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await sS(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=N([F("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Es().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Gw,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(zwe/2)))}}return!0}}fk.chunkSize=_9e;const P9e=new st("BPFLoader2111111111111111111111111111111111");class E9e{static getMinNumSignatures(e){return fk.getMinNumSignatures(e)}static load(e,t,r,s,i){return fk.load(e,t,r,i,s)}}function x9e(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var T9e=Object.prototype.toString,R9e=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function oM(n,e){var t,r,s,i,o,a,c;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return oM(n.toJSON(),e);if(c=T9e.call(n),c==="[object Array]"){for(s="[",r=n.length-1,t=0;t<r;t++)s+=oM(n[t],!0)+",";return r>-1&&(s+=oM(n[t],!0)),s+"]"}else if(c==="[object Object]"){for(i=R9e(n).sort(),r=i.length,s="",t=0;t<r;)o=i[t],a=oM(n[o],!1),a!==void 0&&(s&&(s+=","),s+=JSON.stringify(o)+":"+a),t++;return"{"+s+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var B9e=function(n){var e=oM(n,!1);if(e!==void 0)return""+e},zhe=x9e(B9e);const J2=32;function yF(n){let e=0;for(;n>1;)n/=2,e++;return e}function C9e(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class Owe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=yF(C9e(e+J2+1))-yF(J2)-1,r=this.getSlotsInEpoch(t),s=e-(r-J2);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*J2:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+yF(J2)):this.slotsPerEpoch}}class pH extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const M9e={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class er extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}var z9e=globalThis.fetch;class $9e extends $7e{constructor(e,t,r){const s=i=>{const o=D7e(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function D9e(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const $he=56;class bH{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=D9e(O9e,e),r=e.length-$he;Xn(r>=0,"lookup table is invalid"),Xn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=N([we(xn(),s,"addresses")]).decode(e.slice($he));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new st(t.authority[0]):void 0,addresses:i.map(o=>new st(o))}}}const O9e={index:1,layout:N([F("typeIndex"),Yw("deactivationSlot"),fe("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(xn(),Gt(te(),-1),"authority")])},L9e=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function K9e(n){const e=n.match(L9e);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const ma=w$(JZ(st),nt(),n=>new st(n)),Lwe=XZ([nt(),Hi("base64")]),hJ=w$(JZ(V.Buffer),Lwe,n=>V.Buffer.from(n[0],"base64")),Kwe=30*1e3;function W9e(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function mi(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function Wwe(n){return il([Ke({jsonrpc:Hi("2.0"),id:nt(),result:n}),Ke({jsonrpc:Hi("2.0"),id:nt(),error:Ke({code:A$(),message:nt(),data:Tr(P7e())})})])}const N9e=Wwe(A$());function Xr(n){return w$(Wwe(n),N9e,e=>"error"in e?e:{...e,result:yt(e.result,n)})}function $o(n){return Xr(Ke({context:Ke({slot:Ie()}),value:n}))}function zK(n){return Ke({context:Ke({slot:Ie()}),value:n})}function pF(n,e){return n===0?new dk({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new st(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ae.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new ef(e)}const F9e=Ke({foundation:Ie(),foundationTerm:Ie(),initial:Ie(),taper:Ie(),terminal:Ie()}),U9e=Xr(Ht(jt(Ke({epoch:Ie(),effectiveSlot:Ie(),amount:Ie(),postBalance:Ie(),commission:Tr(jt(Ie()))})))),V9e=Ht(Ke({slot:Ie(),prioritizationFee:Ie()})),q9e=Ke({total:Ie(),validator:Ie(),foundation:Ie(),epoch:Ie()}),H9e=Ke({epoch:Ie(),slotIndex:Ie(),slotsInEpoch:Ie(),absoluteSlot:Ie(),blockHeight:Tr(Ie()),transactionCount:Tr(Ie())}),j9e=Ke({slotsPerEpoch:Ie(),leaderScheduleSlotOffset:Ie(),warmup:Vh(),firstNormalEpoch:Ie(),firstNormalSlot:Ie()}),G9e=mwe(nt(),Ht(Ie())),uv=jt(il([Ke({}),nt()])),Y9e=Ke({err:uv}),Z9e=Hi("receivedSignature"),J9e=Ke({"solana-core":nt(),"feature-set":Tr(Ie())}),Dhe=$o(Ke({err:jt(il([Ke({}),nt()])),logs:jt(Ht(nt())),accounts:Tr(jt(Ht(jt(Ke({executable:Vh(),owner:nt(),lamports:Ie(),data:Ht(nt()),rentEpoch:Tr(Ie())}))))),unitsConsumed:Tr(Ie()),returnData:Tr(jt(Ke({programId:nt(),data:XZ([nt(),Hi("base64")])})))})),X9e=$o(Ke({byIdentity:mwe(nt(),Ht(Ie())),range:Ke({firstSlot:Ie(),lastSlot:Ie()})}));function Q9e(n,e,t,r,s,i){const o=t||z9e;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new M7e(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},eqe)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.log(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await sS(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function eVe(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function tVe(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const rVe=Xr(F9e),nVe=Xr(q9e),sVe=Xr(V9e),iVe=Xr(H9e),oVe=Xr(j9e),aVe=Xr(G9e),cVe=Xr(Ie()),uVe=$o(Ke({total:Ie(),circulating:Ie(),nonCirculating:Ie(),nonCirculatingAccounts:Ht(ma)})),SH=Ke({amount:nt(),uiAmount:jt(Ie()),decimals:Ie(),uiAmountString:Tr(nt())}),lVe=$o(Ht(Ke({address:ma,amount:nt(),uiAmount:jt(Ie()),decimals:Ie(),uiAmountString:Tr(nt())}))),dVe=$o(Ht(Ke({pubkey:ma,account:Ke({executable:Vh(),owner:ma,lamports:Ie(),data:hJ,rentEpoch:Ie()})}))),kH=Ke({program:nt(),parsed:A$(),space:Ie()}),fVe=$o(Ht(Ke({pubkey:ma,account:Ke({executable:Vh(),owner:ma,lamports:Ie(),data:kH,rentEpoch:Ie()})}))),hVe=$o(Ht(Ke({lamports:Ie(),address:ma}))),VM=Ke({executable:Vh(),owner:ma,lamports:Ie(),data:hJ,rentEpoch:Ie()}),gVe=Ke({pubkey:ma,account:VM}),mVe=w$(il([JZ(V.Buffer),kH]),il([Lwe,kH]),n=>Array.isArray(n)?yt(n,hJ):n),vH=Ke({executable:Vh(),owner:ma,lamports:Ie(),data:mVe,rentEpoch:Ie()}),yVe=Ke({pubkey:ma,account:vH}),pVe=Ke({state:il([Hi("active"),Hi("inactive"),Hi("activating"),Hi("deactivating")]),active:Ie(),inactive:Ie()}),bVe=Xr(Ht(Ke({signature:nt(),slot:Ie(),err:uv,memo:jt(nt()),blockTime:Tr(jt(Ie()))}))),SVe=Xr(Ht(Ke({signature:nt(),slot:Ie(),err:uv,memo:jt(nt()),blockTime:Tr(jt(Ie()))}))),kVe=Ke({subscription:Ie(),result:zK(VM)}),vVe=Ke({pubkey:ma,account:VM}),AVe=Ke({subscription:Ie(),result:zK(vVe)}),wVe=Ke({parent:Ie(),slot:Ie(),root:Ie()}),IVe=Ke({subscription:Ie(),result:wVe}),_Ve=il([Ke({type:il([Hi("firstShredReceived"),Hi("completed"),Hi("optimisticConfirmation"),Hi("root")]),slot:Ie(),timestamp:Ie()}),Ke({type:Hi("createdBank"),parent:Ie(),slot:Ie(),timestamp:Ie()}),Ke({type:Hi("frozen"),slot:Ie(),timestamp:Ie(),stats:Ke({numTransactionEntries:Ie(),numSuccessfulTransactions:Ie(),numFailedTransactions:Ie(),maxTransactionsPerEntry:Ie()})}),Ke({type:Hi("dead"),slot:Ie(),timestamp:Ie(),err:nt()})]),PVe=Ke({subscription:Ie(),result:_Ve}),EVe=Ke({subscription:Ie(),result:zK(il([Y9e,Z9e]))}),xVe=Ke({subscription:Ie(),result:Ie()}),TVe=Ke({pubkey:nt(),gossip:jt(nt()),tpu:jt(nt()),rpc:jt(nt()),version:jt(nt())}),Ohe=Ke({votePubkey:nt(),nodePubkey:nt(),activatedStake:Ie(),epochVoteAccount:Vh(),epochCredits:Ht(XZ([Ie(),Ie(),Ie()])),commission:Ie(),lastVote:Ie(),rootSlot:jt(Ie())}),RVe=Xr(Ke({current:Ht(Ohe),delinquent:Ht(Ohe)})),BVe=il([Hi("processed"),Hi("confirmed"),Hi("finalized")]),CVe=Ke({slot:Ie(),confirmations:jt(Ie()),err:uv,confirmationStatus:Tr(BVe)}),MVe=$o(Ht(jt(CVe))),zVe=Xr(Ie()),Nwe=Ke({accountKey:ma,writableIndexes:Ht(Ie()),readonlyIndexes:Ht(Ie())}),gJ=Ke({signatures:Ht(nt()),message:Ke({accountKeys:Ht(nt()),header:Ke({numRequiredSignatures:Ie(),numReadonlySignedAccounts:Ie(),numReadonlyUnsignedAccounts:Ie()}),instructions:Ht(Ke({accounts:Ht(Ie()),data:nt(),programIdIndex:Ie()})),recentBlockhash:nt(),addressTableLookups:Tr(Ht(Nwe))})}),Fwe=Ke({pubkey:ma,signer:Vh(),writable:Vh(),source:Tr(il([Hi("transaction"),Hi("lookupTable")]))}),Uwe=Ke({accountKeys:Ht(Fwe),signatures:Ht(nt())}),Vwe=Ke({parsed:A$(),program:nt(),programId:ma}),qwe=Ke({accounts:Ht(ma),data:nt(),programId:ma}),$Ve=il([qwe,Vwe]),DVe=il([Ke({parsed:A$(),program:nt(),programId:nt()}),Ke({accounts:Ht(nt()),data:nt(),programId:nt()})]),Hwe=w$($Ve,DVe,n=>"accounts"in n?yt(n,qwe):yt(n,Vwe)),jwe=Ke({signatures:Ht(nt()),message:Ke({accountKeys:Ht(Fwe),instructions:Ht(Hwe),recentBlockhash:nt(),addressTableLookups:Tr(jt(Ht(Nwe)))})}),n4=Ke({accountIndex:Ie(),mint:nt(),owner:Tr(nt()),uiTokenAmount:SH}),Gwe=Ke({writable:Ht(ma),readonly:Ht(ma)}),$K=Ke({err:uv,fee:Ie(),innerInstructions:Tr(jt(Ht(Ke({index:Ie(),instructions:Ht(Ke({accounts:Ht(Ie()),data:nt(),programIdIndex:Ie()}))})))),preBalances:Ht(Ie()),postBalances:Ht(Ie()),logMessages:Tr(jt(Ht(nt()))),preTokenBalances:Tr(jt(Ht(n4))),postTokenBalances:Tr(jt(Ht(n4))),loadedAddresses:Tr(Gwe),computeUnitsConsumed:Tr(Ie())}),mJ=Ke({err:uv,fee:Ie(),innerInstructions:Tr(jt(Ht(Ke({index:Ie(),instructions:Ht(Hwe)})))),preBalances:Ht(Ie()),postBalances:Ht(Ie()),logMessages:Tr(jt(Ht(nt()))),preTokenBalances:Tr(jt(Ht(n4))),postTokenBalances:Tr(jt(Ht(n4))),loadedAddresses:Tr(Gwe),computeUnitsConsumed:Tr(Ie())}),dR=il([Hi(0),Hi("legacy")]),lv=Ke({pubkey:nt(),lamports:Ie(),postBalance:jt(Ie()),rewardType:jt(nt()),commission:Tr(jt(Ie()))}),OVe=Xr(jt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:Ie(),transactions:Ht(Ke({transaction:gJ,meta:jt($K),version:Tr(dR)})),rewards:Tr(Ht(lv)),blockTime:jt(Ie()),blockHeight:jt(Ie())}))),LVe=Xr(jt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:Ie(),rewards:Tr(Ht(lv)),blockTime:jt(Ie()),blockHeight:jt(Ie())}))),KVe=Xr(jt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:Ie(),transactions:Ht(Ke({transaction:Uwe,meta:jt($K),version:Tr(dR)})),rewards:Tr(Ht(lv)),blockTime:jt(Ie()),blockHeight:jt(Ie())}))),WVe=Xr(jt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:Ie(),transactions:Ht(Ke({transaction:jwe,meta:jt(mJ),version:Tr(dR)})),rewards:Tr(Ht(lv)),blockTime:jt(Ie()),blockHeight:jt(Ie())}))),NVe=Xr(jt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:Ie(),transactions:Ht(Ke({transaction:Uwe,meta:jt(mJ),version:Tr(dR)})),rewards:Tr(Ht(lv)),blockTime:jt(Ie()),blockHeight:jt(Ie())}))),FVe=Xr(jt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:Ie(),rewards:Tr(Ht(lv)),blockTime:jt(Ie()),blockHeight:jt(Ie())}))),UVe=Xr(jt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:Ie(),transactions:Ht(Ke({transaction:gJ,meta:jt($K)})),rewards:Tr(Ht(lv)),blockTime:jt(Ie())}))),Lhe=Xr(jt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:Ie(),signatures:Ht(nt()),blockTime:jt(Ie())}))),bF=Xr(jt(Ke({slot:Ie(),meta:$K,blockTime:Tr(jt(Ie())),transaction:gJ,version:Tr(dR)}))),t3=Xr(jt(Ke({slot:Ie(),transaction:jwe,meta:jt(mJ),blockTime:Tr(jt(Ie())),version:Tr(dR)}))),VVe=$o(Ke({blockhash:nt(),feeCalculator:Ke({lamportsPerSignature:Ie()})})),qVe=$o(Ke({blockhash:nt(),lastValidBlockHeight:Ie()})),HVe=$o(Vh()),jVe=Ke({slot:Ie(),numTransactions:Ie(),numSlots:Ie(),samplePeriodSecs:Ie()}),GVe=Xr(Ht(jVe)),YVe=$o(jt(Ke({feeCalculator:Ke({lamportsPerSignature:Ie()})}))),ZVe=Xr(nt()),JVe=Xr(nt()),XVe=Ke({err:uv,logs:Ht(nt()),signature:nt()}),QVe=Ke({result:zK(XVe),subscription:Ie()}),eqe={"solana-client":"js/0.0.0-development"};class tqe{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=mi(l),h=this._buildArgs([],d,void 0,y),m=zhe(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=yt(f,Xr(Ie()));if("error"in g)throw new er(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=W9e(e),this._rpcWsEndpoint=r||K9e(e),this._rpcClient=Q9e(e,s,i,o,a,c),this._rpcRequest=eVe(this._rpcClient),this._rpcBatchRequest=tVe(this._rpcClient),this._rpcWebSocket=new $9e(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=mi(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=yt(o,$o(Ie()));if("error"in a)throw new er(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=yt(t,Xr(jt(Ie())));if("error"in r)throw new er(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=yt(e,Xr(Ie()));if("error"in t)throw new er(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=yt(e,cVe);if("error"in t)throw new er(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=yt(r,uVe);if("error"in s)throw new er(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=yt(s,$o(SH));if("error"in i)throw new er(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=yt(s,$o(SH));if("error"in i)throw new er(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=mi(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=yt(c,dVe);if("error"in u)throw new er(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=yt(o,fVe);if("error"in a)throw new er(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=yt(s,hVe);if("error"in i)throw new er(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=yt(s,lVe);if("error"in i)throw new er(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=mi(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=yt(o,$o(jt(VM)));if("error"in a)throw new er(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=mi(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=yt(o,$o(jt(vH)));if("error"in a)throw new er(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=mi(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=yt(a,$o(Ht(jt(vH))));if("error"in c)throw new er(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=mi(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=yt(a,$o(Ht(jt(VM))));if("error"in c)throw new er(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=mi(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=yt(a,Xr(pVe));if("error"in c)throw new er(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=mi(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",o),c=await this._rpcRequest("getProgramAccounts",a),u=Ht(gVe),l=o.withContext===!0?yt(c,$o(u)):yt(c,Xr(u));if("error"in l)throw new er(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=mi(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=yt(o,Xr(Ht(yVe)));if("error"in a)throw new er(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ae.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Xn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:mm.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:mm.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await sS(1e3),i||(h=await y(),i))return;d({__type:mm.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===mm.PROCESSED)l=d.response;else throw new cJ(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:mm.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await sS(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===mm.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await sS(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new WA(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new WA(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new WA(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new WA(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:mm.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===mm.PROCESSED)a=c.response;else throw new uJ(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=yt(e,Xr(Ht(TVe)));if("error"in t)throw new er(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=yt(r,RVe);if("error"in s)throw new er(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=mi(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=yt(i,Xr(Ie()));if("error"in o)throw new er(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=mi(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=yt(i,Xr(nt()));if("error"in o)throw new er(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=yt(s,Xr(Ht(ma)));if("error"in i)throw new er(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Xn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=yt(s,MVe);if("error"in i)throw new er(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=mi(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=yt(i,Xr(Ie()));if("error"in o)throw new er(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=yt(r,rVe);if("error"in s)throw new er(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=mi(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=yt(a,U9e);if("error"in c)throw new er(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=yt(e,nVe);if("error"in t)throw new er(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=mi(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=yt(i,iVe);if("error"in o)throw new er(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=yt(e,oVe);if("error"in t)throw new er(t.error,"failed to get epoch schedule");const r=t.result;return new Owe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=yt(e,aVe);if("error"in t)throw new er(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=yt(s,zVe);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=yt(r,VVe);if("error"in s)throw new er(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=yt(t,GVe);if("error"in r)throw new er(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=yt(s,YVe);if("error"in i)throw new er(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=un(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=yt(i,$o(jt(Ie())));if("error"in o)throw new er(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=yt(s,sVe);if("error"in i)throw new er(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=mi(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=yt(i,qVe);if("error"in o)throw new er(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=mi(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=yt(o,HVe);if("error"in a)throw new er(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=yt(e,Xr(J9e));if("error"in t)throw new er(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=yt(e,Xr(nt()));if("error"in t)throw new er(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=mi(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=yt(o,KVe);if("error"in a)throw a.error;return a.result}case"none":{const a=yt(o,LVe);if("error"in a)throw a.error;return a.result}default:{const a=yt(o,OVe);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:pF(d,u.message)},version:d}))}:null}}}catch(a){throw new er(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=mi(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=yt(o,NVe);if("error"in a)throw a.error;return a.result}case"none":{const a=yt(o,FVe);if("error"in a)throw a.error;return a.result}default:{const a=yt(o,WVe);if("error"in a)throw a.error;return a.result}}}catch(a){throw new er(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=yt(i,X9e);if("error"in o)throw new er(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=mi(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=yt(o,bF);if("error"in a)throw new er(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:pF(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=mi(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=yt(o,t3);if("error"in a)throw new er(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=mi(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=yt(c,t3);if("error"in u)throw new er(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=mi(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=yt(c,bF);if("error"in u)throw new er(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:pF(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=yt(s,UVe);if("error"in i)throw new er(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new ef(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Es.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=yt(i,Xr(Ht(Ie())));if("error"in o)throw new er(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=yt(s,Lhe);if("error"in i)throw new er(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=yt(s,Lhe);if("error"in i)throw new er(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=yt(s,bF);if("error"in i)throw new er(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new ef(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Es.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=yt(s,t3);if("error"in i)throw new er(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=yt(o,t3);if("error"in a)throw new er(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=yt(i,bVe);if("error"in o)throw new er(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=yt(i,SVe);if("error"in o)throw new er(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new bH({key:e,state:bH.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=MK.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=yt(r,ZVe);if("error"in s)throw new er(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await sS(100);const r=Date.now()-this._blockhashInfo.lastFetch>=Kwe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await sS(zwe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=mi(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=yt(i,$o(Ie()));if("error"in o)throw new er(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=yt(p,Dhe);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Es){let m=e;s=new Es,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Es.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=yt(y,Dhe);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new pH("failed to simulate transaction: "+h.error.message,m)}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=un(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=yt(a,JVe);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new pH("failed to send transaction: "+c.error.message,u)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,i,a.message),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=yt(e,kVe);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=zhe([e.method,t],!0),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Xn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=yt(e,AVe);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",s?{filters:s}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=yt(e,QVe);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=yt(e,IVe);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=yt(e,PVe);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=yt(e,EVe);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=yt(e,xVe);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class cw{constructor(e){this._keypair=void 0,this._keypair=e??Bhe()}static generate(){return new cw(Bhe())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=r4(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new cw({publicKey:r,secretKey:e})}static fromSeed(e){const t=r4(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new cw({publicKey:t,secretKey:r})}get publicKey(){return new st(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Tm=Object.freeze({CreateLookupTable:{index:0,layout:N([F("instruction"),Yw("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:N([F("instruction")])},ExtendLookupTable:{index:2,layout:N([F("instruction"),Yw(),we(xn(),Gt(F(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:N([F("instruction")])},CloseLookupTable:{index:4,layout:N([F("instruction")])}});class rqe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Tm))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=bs(Tm.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=bs(Tm.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new st(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(yJ.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class yJ{constructor(){}static createLookupTable(e){const[t,r]=st.findProgramAddressSync([e.authority.toBuffer(),ya(BigInt(e.recentSlot),8)],this.programId),s=Tm.CreateLookupTable,i=Yn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Lc.programId,isSigner:!1,isWritable:!1}];return[new zs({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Tm.FreezeLookupTable,r=Yn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new zs({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Tm.ExtendLookupTable,r=Yn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Lc.programId,isSigner:!1,isWritable:!1}),new zs({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Tm.DeactivateLookupTable,r=Yn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new zs({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Tm.CloseLookupTable,r=Yn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new zs({programId:this.programId,keys:s,data:r})}}yJ.programId=new st("AddressLookupTab1e1111111111111111111111111");class nqe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(rh))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=bs(rh.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=bs(rh.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=bs(rh.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=bs(rh.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(pJ.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const rh=Object.freeze({RequestUnits:{index:0,layout:N([te("instruction"),F("units"),F("additionalFee")])},RequestHeapFrame:{index:1,layout:N([te("instruction"),F("bytes")])},SetComputeUnitLimit:{index:2,layout:N([te("instruction"),F("units")])},SetComputeUnitPrice:{index:3,layout:N([te("instruction"),Yw("microLamports")])}});class pJ{constructor(){}static requestUnits(e){const t=rh.RequestUnits,r=Yn(t,e);return new zs({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=rh.RequestHeapFrame,r=Yn(t,e);return new zs({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=rh.SetComputeUnitLimit,r=Yn(t,e);return new zs({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=rh.SetComputeUnitPrice,r=Yn(t,{microLamports:BigInt(e.microLamports)});return new zs({keys:[],programId:this.programId,data:r})}}pJ.programId=new st("ComputeBudget111111111111111111111111111111");const Khe=64,Whe=32,Nhe=64,Fhe=N([te("numSignatures"),te("padding"),xe("signatureOffset"),xe("signatureInstructionIndex"),xe("publicKeyOffset"),xe("publicKeyInstructionIndex"),xe("messageDataOffset"),xe("messageDataSize"),xe("messageInstructionIndex")]);class DK{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Xn(t.length===Whe,`Public Key must be ${Whe} bytes but received ${t.length} bytes`),Xn(s.length===Nhe,`Signature must be ${Nhe} bytes but received ${s.length} bytes`);const o=Fhe.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return Fhe.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new zs({keys:[],programId:DK.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Xn(t.length===Khe,`Private key must be ${Khe} bytes but received ${t.length} bytes`);try{const i=cw.fromSecretKey(t),o=i.publicKey.toBytes(),a=oJ(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}DK.programId=new st("Ed25519SigVerify111111111111111111111111111");const sqe=(n,e)=>{const t=RK.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};RK.utils.isValidPrivateKey;const iqe=RK.getPublicKey,Uhe=32,SF=20,Vhe=64,oqe=11,kF=N([te("numSignatures"),xe("signatureOffset"),te("signatureInstructionIndex"),xe("ethAddressOffset"),te("ethAddressInstructionIndex"),xe("messageDataOffset"),xe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class uw{constructor(){}static publicKeyToEthAddress(e){Xn(e.length===Vhe,`Public key must be ${Vhe} bytes but received ${e.length} bytes`);try{return V.Buffer.from(Ehe(un(e))).slice(-SF)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return uw.createInstructionWithEthAddress({ethAddress:uw.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Xn(a.length===SF,`Address must be ${SF} bytes but received ${a.length} bytes`);const c=1+oqe,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(kF.span+r.length);return kF.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:un(s),ethAddress:un(a),recoveryId:i},h),h.fill(un(r),kF.span),new zs({keys:[],programId:uw.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Xn(t.length===Uhe,`Private key must be ${Uhe} bytes but received ${t.length} bytes`);try{const i=un(t),o=iqe(i,!1).slice(1),a=V.Buffer.from(Ehe(un(r))),[c,u]=sqe(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}uw.programId=new st("KeccakSecp256k11111111111111111111111111111");var Ywe;const Zwe=new st("StakeConfig11111111111111111111111111111111");class Jwe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class I${constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Ywe=I$;I$.default=new Ywe(0,0,st.default);class aqe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ga))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=bs(Ga.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Jwe(new st(t.staker),new st(t.withdrawer)),lockup:new I$(r.unixTimestamp,r.epoch,new st(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),bs(Ga.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=bs(Ga.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new st(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=bs(Ga.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new st(i),newAuthorizedPubkey:new st(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=bs(Ga.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),bs(Ga.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=bs(Ga.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),bs(Ga.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(OK.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ga=Object.freeze({Initialize:{index:0,layout:N([F("instruction"),u9e(),l9e()])},Authorize:{index:1,layout:N([F("instruction"),xn("newAuthorized"),F("stakeAuthorizationType")])},Delegate:{index:2,layout:N([F("instruction")])},Split:{index:3,layout:N([F("instruction"),Ee("lamports")])},Withdraw:{index:4,layout:N([F("instruction"),Ee("lamports")])},Deactivate:{index:5,layout:N([F("instruction")])},Merge:{index:7,layout:N([F("instruction")])},AuthorizeWithSeed:{index:8,layout:N([F("instruction"),xn("newAuthorized"),F("stakeAuthorizationType"),xS("authoritySeed"),xn("authorityOwner")])}}),cqe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class OK{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||I$.default,o=Ga.Initialize,a=Yn(o,{authorized:{staker:un(r.staker.toBuffer()),withdrawer:un(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:un(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Gw,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new zs(c)}static createAccountWithSeed(e){const t=new Es;t.add(Lc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Es;t.add(Lc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=Ga.Delegate,o=Yn(i);return new Es().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Nf,isSigner:!1,isWritable:!1},{pubkey:mL,isSigner:!1,isWritable:!1},{pubkey:Zwe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=Ga.Authorize,c=Yn(a,{newAuthorized:un(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Nf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!1,isWritable:!1}),new Es().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Ga.AuthorizeWithSeed,l=Yn(u,{newAuthorized:un(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:un(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Nf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!1,isWritable:!1}),new Es().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=Ga.Split,a=Yn(o,{lamports:i});return new zs({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e){const t=new Es;return t.add(Lc.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,basePubkey:i,seed:o,lamports:a}=e,c=new Es;return c.add(Lc.allocate({accountPubkey:s,basePubkey:i,seed:o,space:this.space,programId:this.programId})),c.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:a}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=Ga.Merge,o=Yn(i);return new Es().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Nf,isSigner:!1,isWritable:!1},{pubkey:mL,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=Ga.Withdraw,c=Yn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Nf,isSigner:!1,isWritable:!1},{pubkey:mL,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!1,isWritable:!1}),new Es().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=Ga.Deactivate,i=Yn(s);return new Es().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Nf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}OK.programId=new st("Stake11111111111111111111111111111111111111");OK.space=200;class Xwe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class uqe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Rm))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=bs(Rm.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Xwe(new st(t.nodePubkey),new st(t.authorizedVoter),new st(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=bs(Rm.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new st(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=bs(Rm.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new st(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new st(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=bs(Rm.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(fR.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Rm=Object.freeze({InitializeAccount:{index:0,layout:N([F("instruction"),d9e()])},Authorize:{index:1,layout:N([F("instruction"),xn("newAuthorized"),F("voteAuthorizationType")])},Withdraw:{index:3,layout:N([F("instruction"),Ee("lamports")])},AuthorizeWithSeed:{index:10,layout:N([F("instruction"),f9e()])}}),lqe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class fR{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=Rm.InitializeAccount,o=Yn(i,{voteInit:{nodePubkey:un(s.nodePubkey.toBuffer()),authorizedVoter:un(s.authorizedVoter.toBuffer()),authorizedWithdrawer:un(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Gw,isSigner:!1,isWritable:!1},{pubkey:Nf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new zs(a)}static createAccount(e){const t=new Es;return t.add(Lc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=Rm.Authorize,a=Yn(o,{newAuthorized:un(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Nf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Es().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=Rm.AuthorizeWithSeed,u=Yn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:un(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:un(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Nf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Es().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=Rm.Withdraw,a=Yn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Es().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insuffcient funds.");return fR.withdraw(e)}}fR.programId=new st("Vote111111111111111111111111111111111111111");fR.space=3731;const Qwe=new st("Va1idator1nfo111111111111111111111111111111"),dqe=Ke({name:nt(),website:Tr(nt()),details:Tr(nt()),keybaseUsername:Tr(nt())});class bJ{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if($u(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new st(t.slice(0,Dl));t=t.slice(Dl);const a=t.slice(0,1)[0]===1;t=t.slice(1),s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(Qwe)&&s[1].isSigner){const i=xS().decode(V.Buffer.from(t)),o=JSON.parse(i);return hwe(o,dqe),new bJ(s[1].publicKey,o)}return null}}const fqe=new st("Vote111111111111111111111111111111111111111"),hqe=N([xn("nodePubkey"),xn("authorizedWithdrawer"),te("commission"),fe(),we(N([fe("slot"),F("confirmationCount")]),Gt(F(),-8),"votes"),te("rootSlotValid"),fe("rootSlot"),fe(),we(N([fe("epoch"),xn("authorizedVoter")]),Gt(F(),-8),"authorizedVoters"),N([we(N([xn("authorizedPubkey"),fe("epochOfLastAuthorizedSwitch"),fe("targetEpoch")]),32,"buf"),fe("idx"),te("isEmpty")],"priorVoters"),fe(),we(N([fe("epoch"),fe("credits"),fe("prevCredits")]),Gt(F(),-8),"epochCredits"),N([fe("slot"),fe("timestamp")],"lastTimestamp")]);class SJ{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=hqe.decode(un(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new SJ({nodePubkey:new st(r.nodePubkey),authorizedWithdrawer:new st(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(gqe),priorVoters:mqe(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function gqe({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new st(n)}}function qhe({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new st(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function mqe({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(qhe),...n.slice(0,e).map(qhe)]}const Hhe={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function yqe(n,e){const t=e===!1?"http":"https";if(!n)return Hhe[t].devnet;const r=Hhe[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function pqe(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const bqe=1e9;var Sqe=Object.freeze(Object.defineProperty({__proto__:null,Account:o9e,AddressLookupTableAccount:bH,AddressLookupTableInstruction:rqe,AddressLookupTableProgram:yJ,Authorized:Jwe,BLOCKHASH_CACHE_TIMEOUT_MS:Kwe,BPF_LOADER_DEPRECATED_PROGRAM_ID:a9e,BPF_LOADER_PROGRAM_ID:P9e,BpfLoader:E9e,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:rh,ComputeBudgetInstruction:nqe,ComputeBudgetProgram:pJ,Connection:tqe,Ed25519Program:DK,Enum:s9e,EpochSchedule:Owe,FeeCalculatorLayout:$we,Keypair:cw,LAMPORTS_PER_SOL:bqe,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Tm,Loader:fk,Lockup:I$,MAX_SEED_LENGTH:Cwe,Message:ef,MessageAccountKeys:UM,MessageV0:dk,NONCE_ACCOUNT_LENGTH:yH,NonceAccount:MK,PACKET_DATA_SIZE:Gp,PUBLIC_KEY_LENGTH:Dl,PublicKey:st,SIGNATURE_LENGTH_IN_BYTES:jw,SOLANA_SCHEMA:gM,STAKE_CONFIG_ID:Zwe,STAKE_INSTRUCTION_LAYOUTS:Ga,SYSTEM_INSTRUCTION_LAYOUTS:Qs,SYSVAR_CLOCK_PUBKEY:Nf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:p9e,SYSVAR_INSTRUCTIONS_PUBKEY:b9e,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:gL,SYSVAR_RENT_PUBKEY:Gw,SYSVAR_REWARDS_PUBKEY:S9e,SYSVAR_SLOT_HASHES_PUBKEY:k9e,SYSVAR_SLOT_HISTORY_PUBKEY:v9e,SYSVAR_STAKE_HISTORY_PUBKEY:mL,Secp256k1Program:uw,SendTransactionError:pH,SolanaJSONRPCError:er,SolanaJSONRPCErrorCode:M9e,StakeAuthorizationLayout:cqe,StakeInstruction:aqe,StakeProgram:OK,Struct:aJ,SystemInstruction:I9e,SystemProgram:Lc,Transaction:Es,TransactionExpiredBlockheightExceededError:cJ,TransactionExpiredNonceInvalidError:WA,TransactionExpiredTimeoutError:uJ,TransactionInstruction:zs,TransactionMessage:dJ,TransactionStatus:mm,VALIDATOR_INFO_KEY:Qwe,VERSION_PREFIX_MASK:BK,VOTE_PROGRAM_ID:fqe,ValidatorInfo:bJ,VersionedMessage:lJ,VersionedTransaction:fJ,VoteAccount:SJ,VoteAuthorizationLayout:lqe,VoteInit:Xwe,VoteInstruction:uqe,VoteProgram:fR,clusterApiUrl:yqe,sendAndConfirmRawTransaction:pqe,sendAndConfirmTransaction:mH},Symbol.toStringTag,{value:"Module"})),kqe=Wl(Sqe);(function(n){var e=K&&K.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(n,"__esModule",{value:!0}),n.map=n.array=n.rustEnum=n.str=n.vecU8=n.tagged=n.vec=n.bool=n.option=n.publicKey=n.i128=n.u128=n.i64=n.u64=n.struct=n.f64=n.f32=n.i32=n.u32=n.i16=n.u16=n.i8=n.u8=void 0;const t=Cfe,r=kqe,s=e(U6e.exports);var i=Cfe;Object.defineProperty(n,"u8",{enumerable:!0,get:function(){return i.u8}}),Object.defineProperty(n,"i8",{enumerable:!0,get:function(){return i.s8}}),Object.defineProperty(n,"u16",{enumerable:!0,get:function(){return i.u16}}),Object.defineProperty(n,"i16",{enumerable:!0,get:function(){return i.s16}}),Object.defineProperty(n,"u32",{enumerable:!0,get:function(){return i.u32}}),Object.defineProperty(n,"i32",{enumerable:!0,get:function(){return i.s32}}),Object.defineProperty(n,"f32",{enumerable:!0,get:function(){return i.f32}}),Object.defineProperty(n,"f64",{enumerable:!0,get:function(){return i.f64}}),Object.defineProperty(n,"struct",{enumerable:!0,get:function(){return i.struct}});class o extends t.Layout{constructor(R,$,z){super(R,z),this.blob=t.blob(R),this.signed=$}decode(R,$=0){const z=new s.default(this.blob.decode(R,$),10,"le");return this.signed?z.fromTwos(this.span*8).clone():z}encode(R,$,z=0){return this.signed&&(R=R.toTwos(this.span*8)),this.blob.encode(R.toArrayLike(rt.Buffer,"le",this.span),$,z)}}function a(x){return new o(8,!1,x)}n.u64=a;function c(x){return new o(8,!0,x)}n.i64=c;function u(x){return new o(16,!1,x)}n.u128=u;function l(x){return new o(16,!0,x)}n.i128=l;class d extends t.Layout{constructor(R,$,z,T){super(R.span,T),this.layout=R,this.decoder=$,this.encoder=z}decode(R,$){return this.decoder(this.layout.decode(R,$))}encode(R,$,z){return this.layout.encode(this.encoder(R),$,z)}getSpan(R,$){return this.layout.getSpan(R,$)}}function y(x){return new d(t.blob(32),R=>new r.PublicKey(R),R=>R.toBuffer(),x)}n.publicKey=y;class h extends t.Layout{constructor(R,$){super(-1,$),this.layout=R,this.discriminator=t.u8()}encode(R,$,z=0){return R==null?this.discriminator.encode(0,$,z):(this.discriminator.encode(1,$,z),this.layout.encode(R,$,z+1)+1)}decode(R,$=0){const z=this.discriminator.decode(R,$);if(z===0)return null;if(z===1)return this.layout.decode(R,$+1);throw new Error("Invalid option "+this.property)}getSpan(R,$=0){const z=this.discriminator.decode(R,$);if(z===0)return 1;if(z===1)return this.layout.getSpan(R,$+1)+1;throw new Error("Invalid option "+this.property)}}function m(x,R){return new h(x,R)}n.option=m;function f(x){return new d(t.u8(),g,b,x)}n.bool=f;function g(x){if(x===0)return!1;if(x===1)return!0;throw new Error("Invalid bool: "+x)}function b(x){return x?1:0}function S(x,R){const $=t.u32("length"),z=t.struct([$,t.seq(x,t.offset($,-$.span),"values")]);return new d(z,({values:T})=>T,T=>({values:T}),R)}n.vec=S;function p(x,R,$){const z=t.struct([a("tag"),R.replicate("data")]);function T({tag:v,data:k}){if(!v.eq(x))throw new Error("Invalid tag, expected: "+x.toString("hex")+", got: "+v.toString("hex"));return k}return new d(z,T,v=>({tag:x,data:v}),$)}n.tagged=p;function I(x){const R=t.u32("length"),$=t.struct([R,t.blob(t.offset(R,-R.span),"data")]);return new d($,({data:z})=>z,z=>({data:z}),x)}n.vecU8=I;function w(x){return new d(I(),R=>R.toString("utf-8"),R=>rt.Buffer.from(R,"utf-8"),x)}n.str=w;function A(x,R,$){const z=t.union($??t.u8(),R);return x.forEach((T,v)=>z.addVariant(v,T,T.property)),z}n.rustEnum=A;function P(x,R,$){const z=t.struct([t.seq(x,R,"values")]);return new d(z,({values:T})=>T,T=>({values:T}),$)}n.array=P;class E extends t.Layout{constructor(R,$,z){super(R.span+$.span,z),this.keyLayout=R,this.valueLayout=$}decode(R,$){$=$||0;const z=this.keyLayout.decode(R,$),T=this.valueLayout.decode(R,$+this.keyLayout.getSpan(R,$));return[z,T]}encode(R,$,z){z=z||0;const T=this.keyLayout.encode(R[0],$,z),v=this.valueLayout.encode(R[1],$,z+T);return T+v}getSpan(R,$){return this.keyLayout.getSpan(R,$)+this.valueLayout.getSpan(R,$)}}function M(x,R,$){const z=t.u32("length"),T=t.struct([z,t.seq(new E(x,R),t.offset(z,-z.span),"values")]);return new d(T,({values:v})=>new Map(v),v=>({values:Array.from(v.entries())}),$)}n.map=M})(Or);const X2=n=>"version"in n;var vqe=Object.freeze({__proto__:null,encode:function(n){return n.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"0x")},decode:function(n){n.indexOf("0x")===0&&(n=n.substr(2)),n.length%2==1&&(n="0"+n);let e=n.match(/.{2}/g);return e===null?V.Buffer.from([]):V.Buffer.from(e.map(t=>parseInt(t,16)))}});function eIe(n){return new TextDecoder("utf-8").decode(n)}function tIe(n){return new TextEncoder().encode(n)}var Aqe=Object.freeze({__proto__:null,decode:eIe,encode:tIe});function AH(n){return Ae.encode(n)}var wqe=Object.freeze({__proto__:null,encode:AH,decode:function(n){return Ae.decode(n)}});function rIe(n){return V.Buffer.from(Vve(n))}var Iqe=Object.freeze({__proto__:null,encode:function(n){return Yq(n)},decode:rIe}),_qe=Object.freeze({__proto__:null,hex:vqe,utf8:Aqe,bs58:wqe,base64:Iqe});function kJ(n){const e=new Map;return n.errors&&n.errors.forEach(t=>{var r;let s=(r=t.msg)!==null&&r!==void 0?r:t.name;e.set(t.code,s)}),e}function nIe(n,...e){if(n.args.length!=e.length)throw new Error("Invalid argument length");const t={};let r=0;return n.args.forEach(s=>{t[s.name]=e[r],r+=1}),t}function LK(n,e={}){n.forEach(t=>{if("accounts"in t)LK(t.accounts,e[t.name]);else if(e[t.name]===void 0)throw new Error(`Invalid arguments: ${t.name} not provided.`)})}function Gd(n){return n instanceof Te?n:new Te(n)}class Pqe extends TypeError{constructor(e,t){let r;const{message:s,...i}=e,{path:o}=e;super(o.length===0?s:"At path: "+o.join(".")+" -- "+s),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var a;return(a=r)!=null?a:r=[e,...t()]}}}function lw(n){return typeof n=="object"&&n!=null}function Zb(n){return typeof n=="string"?JSON.stringify(n):""+n}function Eqe(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Zb(r)+"`"}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*jhe(n,e,t,r){var s;lw(s=n)&&typeof s[Symbol.iterator]=="function"||(n=[n]);for(const i of n){const o=Eqe(i,e,t,r);o&&(yield o)}}function*vJ(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s};if(i&&(n=e.coercer(n,a),o&&e.type!=="type"&&lw(e.schema)&&lw(n)&&!Array.isArray(n)))for(const u in n)e.schema[u]===void 0&&delete n[u];let c=!0;for(const u of e.validator(n,a))c=!1,yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=vJ(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o});for(const h of y)h[0]?(c=!1,yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):lw(n)&&(n[u]=l))}if(c)for(const u of e.refiner(n,a))c=!1,yield[u,void 0];c&&(yield[void 0,n])}class K0{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,this.validator=s?(c,u)=>jhe(s(c,u),u,this,c):()=>[],this.refiner=i?(c,u)=>jhe(i(c,u),u,this,c):()=>[]}assert(e){return function(t,r){const s=mM(t,r);if(s[0])throw s[0]}(e,this)}create(e){return AJ(e,this)}is(e){return sIe(e,this)}mask(e){return function(t,r){const s=mM(t,r,{coerce:!0,mask:!0});if(s[0])throw s[0];return s[1]}(e,this)}validate(e,t={}){return mM(e,this,t)}}function AJ(n,e){const t=mM(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function sIe(n,e){return!mM(n,e)[0]}function mM(n,e,t={}){const r=vJ(n,e,t),s=function(i){const{done:o,value:a}=i.next();return o?void 0:a}(r);return s[0]?[new Pqe(s[0],function*(){for(const i of r)i[0]&&(yield i[0])}),void 0]:[void 0,s[1]]}function _$(n,e){return new K0({type:n,schema:null,validator:e})}function vF(n){return new K0({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+Zb(e)})}function Ghe(n){const e=Zb(n),t=typeof n;return new K0({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator:r=>r===n||"Expected the literal `"+e+"`, but received: "+Zb(r)})}function r3(n){return new K0({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function n3(){return _$("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+Zb(n))}function yL(n){return new K0({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function TS(){return _$("string",n=>typeof n=="string"||"Expected a string, but received: "+Zb(n))}function Rp(n){const e=Object.keys(n);return new K0({type:"type",schema:n,*entries(t){if(lw(t))for(const r of e)yield[r,t[r],n[r]]},validator:t=>lw(t)||"Expected an object, but received: "+Zb(t)})}function iIe(n){const e=n.map(t=>t.type).join(" | ");return new K0({type:"union",schema:null,coercer:(t,r)=>(n.find(s=>{const[i]=s.validate(t,{coerce:!0});return!i})||wJ()).coercer(t,r),validator(t,r){const s=[];for(const i of n){const[...o]=vJ(t,i,r),[a]=o;if(!a[0])return[];for(const[c]of o)c&&s.push(c)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Zb(t),...s]}})}function wJ(){return _$("unknown",()=>!0)}async function oIe(n,e,t){if(e.length<=99)return await Yhe(n,e,t);{const r=function(s,i){return Array.apply(0,new Array(Math.ceil(s.length/i))).map((o,a)=>s.slice(a*i,(a+1)*i))}(e,99);return(await Promise.all(r.map(s=>Yhe(n,s,t)))).flat()}}async function Yhe(n,e,t){const r=t??n.commitment;return(await n.getMultipleAccountsInfo(e,r)).map((s,i)=>s===null?null:{publicKey:e[i],account:s})}async function aIe(n,e,t,r,s){t&&t.length>0&&e.sign(...t);const i=e._compile(),o=i.serialize(),a=e._serialize(o).toString("base64"),c={encoding:"base64",commitment:r??n.commitment};if(s){const d=(Array.isArray(s)?s:i.nonProgramIds()).map(y=>y.toBase58());c.accounts={encoding:"base64",addresses:d}}t&&(c.sigVerify=!0);const u=[a,c],l=AJ(await n._rpcRequest("simulateTransaction",u),Rqe);if("error"in l){let d;if("data"in l.error&&(d=l.error.data.logs,d&&Array.isArray(d))){const y=`
    `,h=y+d.join(y);console.error(l.error.message,h)}throw new Yb("failed to simulate transaction: "+l.error.message,d)}return l.result}function xqe(n){return function(e,t,r){return new K0({...e,coercer:(s,i)=>sIe(s,t)?e.coercer(r(s,i),i):e.coercer(s,i)})}(cIe(n),Tqe,e=>"error"in e?e:{...e,result:AJ(e.result,n)})}const Tqe=cIe(wJ());function cIe(n){return iIe([Rp({jsonrpc:Ghe("2.0"),id:TS(),result:n}),Rp({jsonrpc:Ghe("2.0"),id:TS(),error:Rp({code:wJ(),message:TS(),data:yL(_$("any",()=>!0))})})])}const Rqe=(Zhe=Rp({err:r3(iIe([Rp({}),TS()])),logs:r3(vF(TS())),accounts:yL(r3(vF(r3(Rp({executable:_$("boolean",n=>typeof n=="boolean"),owner:TS(),lamports:n3(),data:vF(TS()),rentEpoch:yL(n3())}))))),unitsConsumed:yL(n3())}),xqe(Rp({context:Rp({slot:n3()}),value:Zhe})));var Zhe,Bqe=Object.freeze({__proto__:null,invoke:async function(n,e,t,r){n=Gd(n),r||(r=Zw());const s=new Zn;if(s.add(new xs({programId:n,keys:e??[],data:t})),r.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await r.sendAndConfirm(s,[])},getMultipleAccounts:oIe,simulateTransaction:aIe});class uIe{constructor(e,t,r){this.connection=e,this.wallet=t,this.opts=r,this.publicKey=t==null?void 0:t.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,r){var s,i,o,a;if(r===void 0&&(r=this.opts),X2(e))t&&e.sign(t);else if(e.feePayer=(s=e.feePayer)!==null&&s!==void 0?s:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,t)for(const u of t)e.partialSign(u);const c=(e=await this.wallet.signTransaction(e)).serialize();try{return await Jhe(this.connection,c,r)}catch(u){if(u instanceof wH){const l=AH(X2(e)?((i=e.signatures)===null||i===void 0?void 0:i[0])||new Uint8Array:(o=e.signature)!==null&&o!==void 0?o:new Uint8Array),d=await this.connection.getTransaction(l,{commitment:"confirmed"});if(d){const y=(a=d.meta)===null||a===void 0?void 0:a.logMessages;throw y?new Yb(u.message,y):u}throw u}throw u}}async sendAll(e,t){var r,s,i;t===void 0&&(t=this.opts);const o=(await this.connection.getLatestBlockhash(t.preflightCommitment)).blockhash;let a=e.map(l=>{var d,y;if(X2(l.tx)){let h=l.tx;return l.signers&&h.sign(l.signers),h}{let h=l.tx,m=(d=l.signers)!==null&&d!==void 0?d:[];return h.feePayer=(y=h.feePayer)!==null&&y!==void 0?y:this.wallet.publicKey,h.recentBlockhash=o,m.forEach(f=>{h.partialSign(f)}),h}});const c=await this.wallet.signAllTransactions(a),u=[];for(let l=0;l<a.length;l+=1){const d=c[l],y=d.serialize();try{u.push(await Jhe(this.connection,y,t))}catch(h){if(h instanceof wH){const m=AH(X2(d)?((r=d.signatures)===null||r===void 0?void 0:r[0])||new Uint8Array:(s=d.signature)!==null&&s!==void 0?s:new Uint8Array),f=await this.connection.getTransaction(m,{commitment:"confirmed"});if(f){const g=(i=f.meta)===null||i===void 0?void 0:i.logMessages;throw g?new Yb(h.message,g):h}throw h}throw h}}return u}async simulate(e,t,r,s){let i,o=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash;if(X2(e)?(t&&(e.sign(t),e=await this.wallet.signTransaction(e)),i=await this.connection.simulateTransaction(e,{commitment:r})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=o,t&&(e=await this.wallet.signTransaction(e)),i=await aIe(this.connection,e,t,r,s)),i.value.err)throw new Cqe(i.value);return i.value}}class Cqe extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function Jhe(n,e,t){const r=t&&{skipPreflight:t.skipPreflight,preflightCommitment:t.preflightCommitment||t.commitment},s=await n.sendRawTransaction(e,r),i=(await n.confirmTransaction(s,t&&t.commitment)).value;if(i.err)throw new wH(`Raw transaction ${s} failed (${JSON.stringify(i)})`);return s}class wH extends Error{constructor(e){super(e)}}function Mqe(n){IH=n}function Zw(){return IH===null?uIe.local():IH}let IH=null;const zqe=new Set(["anchor-deprecated-state","debug-logs"]),lIe=new Map;function KK(n){return lIe.get(n)!==void 0}var $qe=Object.freeze({__proto__:null,set:function(n){if(!zqe.has(n))throw new Error("Invalid feature");lIe.set(n,!0)},isSet:KK});class qM extends Error{constructor(e){super(e),this.name="IdlError"}}class hR{constructor(e){this.stack=e}static parse(e){var t;const r=/^Program (\w*) invoke/,s=/^Program \w* success/,i=[];for(let o=0;o<e.length;o++){if(s.exec(e[o])){i.pop();continue}const a=(t=r.exec(e[o]))===null||t===void 0?void 0:t[1];a&&i.push(new Te(a))}return new hR(i)}}class dw extends Error{constructor(e,t,r,s,i,o){super(r.join(`
`).replace("Program log: ","")),this.errorLogs=r,this.logs=s,this.error={errorCode:e,errorMessage:t,comparedValues:o,origin:i},this._programErrorStack=hR.parse(s)}static parse(e){if(!e)return null;const t=e.findIndex(u=>u.startsWith("Program log: AnchorError"));if(t===-1)return null;const r=e[t],s=[r];let i;if(t+1<e.length){if(e[t+1]==="Program log: Left:"){const u=/^Program log: (.*)$/,l=u.exec(e[t+2])[1],d=u.exec(e[t+4])[1];i=[new Te(l),new Te(d)],s.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const u=/^Program log: (Left|Right): (.*)$/,l=u.exec(e[t+1])[2],d=u.exec(e[t+2])[2];s.push(...e.slice(t+1,t+3)),i=[l,d]}}const o=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),c=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(o){const[u,l,d]=o.slice(1,4),y={code:u,number:parseInt(l)};return new dw(y,d,s,e,void 0,i)}if(a){const[u,l,d,y,h]=a.slice(1,6),m={code:d,number:parseInt(y)},f={file:u,line:parseInt(l)};return new dw(m,h,s,e,f,i)}if(c){const[u,l,d,y]=c.slice(1,5),h=u,m={code:l,number:parseInt(d)};return new dw(m,y,s,e,h,i)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class HM extends Error{constructor(e,t,r){super(),this.code=e,this.msg=t,this.logs=r,r&&(this._programErrorStack=hR.parse(r))}static parse(e,t){const r=e.toString();let s,i;if(r.includes("custom program error:")){let a=r.split("custom program error: ");if(a.length!==2)return null;s=a[1]}else{const a=r.match(/"Custom":([0-9]+)}/g);if(!a||a.length>1)return null;s=a[0].match(/([0-9]+)/g)[0]}try{i=parseInt(s)}catch{return null}let o=t.get(i);return o!==void 0?new HM(i,o,e.logs):(o=dIe.get(i),o!==void 0?new HM(i,o,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function IJ(n,e){KK("debug-logs")&&console.log("Translating error:",n);const t=dw.parse(n.logs);if(t)return t;const r=HM.parse(n,e);if(r)return r;if(n.logs){const s={get:function(i,o){return o==="programErrorStack"?i.programErrorStack.stack:o==="program"?i.programErrorStack.stack[n.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return n.programErrorStack=hR.parse(n.logs),new Proxy(n,s)}return n}const dr={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,AccountReallocExceedsLimit:3016,AccountDuplicateReallocs:3017,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},dIe=new Map([[dr.InstructionMissing,"8 byte instruction identifier not provided"],[dr.InstructionFallbackNotFound,"Fallback functions are not supported"],[dr.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[dr.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[dr.IdlInstructionStub,"The program was compiled without idl instructions"],[dr.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[dr.ConstraintMut,"A mut constraint was violated"],[dr.ConstraintHasOne,"A has_one constraint was violated"],[dr.ConstraintSigner,"A signer constraint was violated"],[dr.ConstraintRaw,"A raw constraint was violated"],[dr.ConstraintOwner,"An owner constraint was violated"],[dr.ConstraintRentExempt,"A rent exemption constraint was violated"],[dr.ConstraintSeeds,"A seeds constraint was violated"],[dr.ConstraintExecutable,"An executable constraint was violated"],[dr.ConstraintState,"A state constraint was violated"],[dr.ConstraintAssociated,"An associated constraint was violated"],[dr.ConstraintAssociatedInit,"An associated init constraint was violated"],[dr.ConstraintClose,"A close constraint was violated"],[dr.ConstraintAddress,"An address constraint was violated"],[dr.ConstraintZero,"Expected zero account discriminant"],[dr.ConstraintTokenMint,"A token mint constraint was violated"],[dr.ConstraintTokenOwner,"A token owner constraint was violated"],[dr.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[dr.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[dr.ConstraintMintDecimals,"A mint decimals constraint was violated"],[dr.ConstraintSpace,"A space constraint was violated"],[dr.RequireViolated,"A require expression was violated"],[dr.RequireEqViolated,"A require_eq expression was violated"],[dr.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[dr.RequireNeqViolated,"A require_neq expression was violated"],[dr.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[dr.RequireGtViolated,"A require_gt expression was violated"],[dr.RequireGteViolated,"A require_gte expression was violated"],[dr.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[dr.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[dr.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[dr.AccountDidNotDeserialize,"Failed to deserialize the account"],[dr.AccountDidNotSerialize,"Failed to serialize the account"],[dr.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[dr.AccountNotMutable,"The given account is not mutable"],[dr.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[dr.InvalidProgramId,"Program ID was not as expected"],[dr.InvalidProgramExecutable,"Program account is not executable"],[dr.AccountNotSigner,"The given account did not sign"],[dr.AccountNotSystemOwned,"The given account is not owned by the system program"],[dr.AccountNotInitialized,"The program expected this account to be already initialized"],[dr.AccountNotProgramData,"The given account is not a program data account"],[dr.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[dr.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[dr.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[dr.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[dr.StateInvalidAddress,"The given state account does not have the correct address"],[dr.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[dr.Deprecated,"The API being used is deprecated and should no longer be used"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var s4=function(){return s4=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var s in e=arguments[t])Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s]);return n},s4.apply(this,arguments)};function Dqe(n){return n.toLowerCase()}var Oqe=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Lqe=/[^A-Z0-9]+/gi;function Xhe(n,e,t){return e instanceof RegExp?n.replace(e,t):e.reduce(function(r,s){return r.replace(s,t)},n)}function Kqe(n,e){return e===void 0&&(e={}),function(t,r){r===void 0&&(r={});for(var s=r.splitRegexp,i=s===void 0?Oqe:s,o=r.stripRegexp,a=o===void 0?Lqe:o,c=r.transform,u=c===void 0?Dqe:c,l=r.delimiter,d=l===void 0?" ":l,y=Xhe(Xhe(t,i,"$1\0$2"),a,"\0"),h=0,m=y.length;y.charAt(h)==="\0";)h++;for(;y.charAt(m-1)==="\0";)m--;return y.slice(h,m).split("\0").map(u).join(d)}(n,s4({delimiter:"."},e))}class Xu{static fieldLayout(e,t){const r=e.name!==void 0?ga(e.name):void 0;switch(e.type){case"bool":return Or.bool(r);case"u8":return Or.u8(r);case"i8":return Or.i8(r);case"u16":return Or.u16(r);case"i16":return Or.i16(r);case"u32":return Or.u32(r);case"i32":return Or.i32(r);case"f32":return Or.f32(r);case"u64":return Or.u64(r);case"i64":return Or.i64(r);case"f64":return Or.f64(r);case"u128":return Or.u128(r);case"i128":return Or.i128(r);case"bytes":return Or.vecU8(r);case"string":return Or.str(r);case"publicKey":return Or.publicKey(r);default:if("vec"in e.type)return Or.vec(Xu.fieldLayout({name:void 0,type:e.type.vec},t),r);if("option"in e.type)return Or.option(Xu.fieldLayout({name:void 0,type:e.type.option},t),r);if("defined"in e.type){const s=e.type.defined;if(t===void 0)throw new qM("User defined types not provided");const i=t.filter(o=>o.name===s);if(i.length!==1)throw new qM(`Type not found: ${JSON.stringify(e)}`);return Xu.typeDefLayout(i[0],t,r)}if("array"in e.type){let s=e.type.array[0],i=e.type.array[1],o=Xu.fieldLayout({name:void 0,type:s},t);return Or.array(o,i,r)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,t=[],r){if(e.type.kind==="struct"){const s=e.type.fields.map(i=>Xu.fieldLayout(i,t));return Or.struct(s,r)}if(e.type.kind==="enum"){let s=e.type.variants.map(i=>{const o=ga(i.name);if(i.fields===void 0)return Or.struct([],o);const a=i.fields.map(c=>{if(!c.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return Xu.fieldLayout(c,t)});return Or.struct(a,o)});return r!==void 0?Or.rustEnum(s).replicate(r):Or.rustEnum(s,r)}throw new Error(`Unknown type kint: ${e}`)}}class WK{constructor(e){this.idl=e,this.ixLayout=WK.parseIxLayout(e);const t=new Map;e.instructions.forEach(r=>{const s=AF("global",r.name);t.set(Ae.encode(s),{layout:this.ixLayout.get(r.name),name:r.name})}),e.state&&e.state.methods.map(r=>{const s=AF("state",r.name);t.set(Ae.encode(s),{layout:this.ixLayout.get(r.name),name:r.name})}),this.sighashLayouts=t}encode(e,t){return this._encode("global",e,t)}encodeState(e,t){return this._encode("state",e,t)}_encode(e,t,r){const s=V.Buffer.alloc(1e3),i=ga(t),o=this.ixLayout.get(i);if(!o)throw new Error(`Unknown method: ${i}`);const a=o.encode(r,s),c=s.slice(0,a);return V.Buffer.concat([AF(e,t),c])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map(r=>{let s=r.args.map(o=>{var a,c;return Xu.fieldLayout(o,Array.from([...(a=e.accounts)!==null&&a!==void 0?a:[],...(c=e.types)!==null&&c!==void 0?c:[]]))});const i=ga(r.name);return[i,Or.struct(s,i)]}).concat(e.instructions.map(r=>{let s=r.args.map(o=>{var a,c;return Xu.fieldLayout(o,Array.from([...(a=e.accounts)!==null&&a!==void 0?a:[],...(c=e.types)!==null&&c!==void 0?c:[]]))});const i=ga(r.name);return[i,Or.struct(s,i)]}));return new Map(t)}decode(e,t="hex"){typeof e=="string"&&(e=t==="hex"?V.Buffer.from(e,"hex"):Ae.decode(e));let r=Ae.encode(e.slice(0,8)),s=e.slice(8);const i=this.sighashLayouts.get(r);return i?{data:i.layout.decode(s),name:i.name}:null}format(e,t){return _m.format(e,t,this.idl)}}class _m{static format(e,t,r){const s=r.instructions.filter(a=>e.name===a.name)[0];if(s===void 0)return console.error("Invalid instruction given"),null;const i=s.args.map(a=>({name:a.name,type:_m.formatIdlType(a.type),data:_m.formatIdlData(a,e.data[a.name],r.types)})),o=_m.flattenIdlAccounts(s.accounts);return{args:i,accounts:t.map((a,c)=>c<o.length?{name:o[c].name,...a}:{name:void 0,...a})}}static formatIdlType(e){if(typeof e=="string")return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,r){if(typeof e.type=="string")return t.toString();if(e.type.hasOwnProperty("vec"))return"["+t.map(s=>this.formatIdlData({name:"",type:e.type.vec},s)).join(", ")+"]";if(e.type.hasOwnProperty("option"))return t===null?"null":this.formatIdlData({name:"",type:e.type.option},t,r);if(e.type.hasOwnProperty("defined")){if(r===void 0)throw new Error("User defined types not provided");const s=r.filter(i=>i.name===e.type.defined);if(s.length!==1)throw new Error(`Type not found: ${e.type.defined}`);return _m.formatIdlDataDefined(s[0],t,r)}return"unknown"}static formatIdlDataDefined(e,t,r){if(e.type.kind==="struct"){const s=e.type;return"{ "+Object.keys(t).map(i=>{const o=s.fields.filter(a=>a.name===i)[0];if(o===void 0)throw new Error("Unable to find type");return i+": "+_m.formatIdlData(o,t[i],r)}).join(", ")+" }"}if(e.type.variants.length===0)return"{}";if(e.type.variants[0].name){const s=e.type.variants,i=Object.keys(t)[0],o=t[i],a=Object.keys(o).map(u=>{var l;const d=o[u],y=(l=s[i])===null||l===void 0?void 0:l.filter(h=>h.name===u)[0];if(y===void 0)throw new Error("Unable to find variant");return u+": "+_m.formatIdlData(y,d,r)}).join(", "),c=ga(i,{pascalCase:!0});return a.length===0?c:`${c} { ${a} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map(r=>{const s=function(i){const o=i.replace(/([A-Z])/g," $1");return o.charAt(0).toUpperCase()+o.slice(1)}(r.name);if(r.hasOwnProperty("accounts")){const i=t?`${t} > ${s}`:s;return _m.flattenIdlAccounts(r.accounts,i)}return{...r,name:t?`${t} > ${s}`:s}}).flat()}}function AF(n,e){var t;let r=`${n}:${t===void 0&&(t={}),Kqe(e,s4({delimiter:"_"},t))}`;return V.Buffer.from(sv.exports.sha256.digest(r)).slice(0,8)}function P$(n,e){if(e.type.kind==="enum"){let t=e.type.variants.map(r=>r.fields===void 0?0:r.fields.map(s=>{if(typeof s!="object"||!("name"in s))throw new Error("Tuple enum variants not yet implemented.");return yM(n,s.type)}).reduce((s,i)=>s+i));return Math.max(...t)+1}return e.type.fields===void 0?0:e.type.fields.map(t=>yM(n,t.type)).reduce((t,r)=>t+r,0)}function yM(n,e){var t,r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+yM(n,e.option);if("coption"in e)return 4+yM(n,e.coption);if("defined"in e){const s=(r=(t=n.types)===null||t===void 0?void 0:t.filter(i=>i.name===e.defined))!==null&&r!==void 0?r:[];if(s.length!==1)throw new qM(`Type not found: ${JSON.stringify(e)}`);return P$(n,s[0])}if("array"in e){let s=e.array[0],i=e.array[1];return yM(n,s)*i}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const Wqe=8;class fw{constructor(e){if(e.accounts===void 0)return void(this.accountLayouts=new Map);const t=e.accounts.map(r=>[r.name,Xu.typeDefLayout(r,e.types)]);this.accountLayouts=new Map(t),this.idl=e}async encode(e,t){const r=V.Buffer.alloc(1e3),s=this.accountLayouts.get(e);if(!s)throw new Error(`Unknown account: ${e}`);const i=s.encode(t,r);let o=r.slice(0,i),a=fw.accountDiscriminator(e);return V.Buffer.concat([a,o])}decode(e,t){if(fw.accountDiscriminator(e).compare(t.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){const r=t.slice(8),s=this.accountLayouts.get(e);if(!s)throw new Error(`Unknown account: ${e}`);return s.decode(r)}memcmp(e,t){const r=fw.accountDiscriminator(e);return{offset:0,bytes:Ae.encode(t?V.Buffer.concat([r,t]):r)}}size(e){var t;return 8+((t=P$(this.idl,e))!==null&&t!==void 0?t:0)}static accountDiscriminator(e){return V.Buffer.from(sv.exports.sha256.digest(`account:${ga(e,{pascalCase:!0})}`)).slice(0,8)}}class fIe{constructor(e){if(e.events===void 0)return void(this.layouts=new Map);const t=e.events.map(r=>{let s={name:r.name,type:{kind:"struct",fields:r.fields.map(i=>({name:i.name,type:i.type}))}};return[r.name,Xu.typeDefLayout(s,e.types)]});this.layouts=new Map(t),this.discriminators=new Map(e.events===void 0?[]:e.events.map(r=>[Yq(hIe(r.name)),r.name]))}decode(e){let t;try{t=V.Buffer.from(Vve(e))}catch{return null}const r=Yq(t.slice(0,8)),s=this.discriminators.get(r);if(s===void 0)return null;const i=this.layouts.get(s);if(!i)throw new Error(`Unknown event: ${s}`);return{data:i.decode(t.slice(8)),name:s}}}function hIe(n){return V.Buffer.from(sv.exports.sha256.digest(`event:${n}`)).slice(0,8)}class gIe{constructor(e){if(e.state===void 0)throw new Error("Idl state not defined.");this.layout=Xu.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const r=V.Buffer.alloc(1e3),s=this.layout.encode(t,r),i=await _J(e),o=r.slice(0,s);return V.Buffer.concat([i,o])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function _J(n){let e=KK("anchor-deprecated-state")?"account":"state";return V.Buffer.from(sv.exports.sha256.digest(`${e}:${n}`)).slice(0,8)}class Nqe{constructor(e){if(e.types===void 0)return void(this.typeLayouts=new Map);const t=e.types.map(r=>[r.name,Xu.typeDefLayout(r,e.types)]);this.typeLayouts=new Map(t),this.idl=e}encode(e,t){const r=V.Buffer.alloc(1e3),s=this.typeLayouts.get(e);if(!s)throw new Error(`Unknown type: ${e}`);const i=s.encode(t,r);return r.slice(0,i)}decode(e,t){const r=this.typeLayouts.get(e);if(!r)throw new Error(`Unknown type: ${e}`);return r.decode(t)}}class NK{constructor(e){this.instruction=new WK(e),this.accounts=new fw(e),this.events=new fIe(e),e.state&&(this.state=new gIe(e)),this.types=new Nqe(e)}}var Fqe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof rt.global<"u"?rt.global:typeof self<"u"?self:{};function Uqe(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}class ol{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var FK=ol;class RS extends ol{isCount(){throw new Error("ExternalLayout is abstract")}}class mIe extends RS{constructor(e,t,r){if(!(e instanceof ol))throw new TypeError("layout must be a Layout");if(t===void 0)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof UK||this.layout instanceof yIe}decode(e,t){return t===void 0&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return r===void 0&&(r=0),this.layout.encode(e,t,r+this.offset)}}class UK extends ol{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class yIe extends ol{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}const _H=Math.pow(2,32);function pIe(n){const e=Math.floor(n/_H);return{hi32:e,lo32:n-e*_H}}function bIe(n,e){return n*_H+e}class Vqe extends ol{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t);return bIe(e.readUInt32LE(t+4),r)}encode(e,t,r){r===void 0&&(r=0);const s=pIe(e);return t.writeUInt32LE(s.lo32,r),t.writeUInt32LE(s.hi32,r+4),8}}class qqe extends ol{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t);return bIe(e.readInt32LE(t+4),r)}encode(e,t,r){r===void 0&&(r=0);const s=pIe(e);return t.writeUInt32LE(s.lo32,r),t.writeInt32LE(s.hi32,r+4),8}}class Hqe extends ol{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce((i,o)=>i&&o instanceof ol,!0))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;try{r=this.fields.reduce((s,i)=>{const o=i.getSpan(e,t);return t+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){t===void 0&&(t=0);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(e,t)),t+=s.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){r===void 0&&(r=0);const s=r;let i=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,t,r),0>c&&(c=a.getSpan(t,r)))}i=r,r+=c}return i+o-s}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class SIe{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Qhe extends SIe{constructor(e,t){if(!(e instanceof RS&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class kIe extends ol{constructor(e,t,r){const s=e instanceof UK||e instanceof yIe;if(s)e=new Qhe(new mIe(e));else if(e instanceof RS&&e.isCount())e=new Qhe(e);else if(!(e instanceof SIe))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof ol))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&s&&(i+=e.layout.span)),super(i,r),this.discriminator=e,this.usesPrefixDiscriminator=s,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){let r;t===void 0&&(t=0);const s=this.discriminator,i=s.decode(e,t);let o=this.registry[i];if(o===void 0){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[o.property]=this.defaultLayout.decode(e,t+a)}else r=o.decode(e,t);return r}encode(e,t,r){r===void 0&&(r=0);const s=this.getSourceVariant(e);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],t,r),a+o.encode(e[o.property],t,r+a)}return s.encode(e,t,r)}addVariant(e,t,r){const s=new jqe(this,e,t,r);return this.registry[e]=s,s}getVariant(e,t){let r=e;return rt.Buffer.isBuffer(e)&&(t===void 0&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class jqe extends ol{constructor(e,t,r,s){if(!(e instanceof kIe))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof ol))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(t===void 0&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){r===void 0&&(r=0);let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=s;if(this.layout&&(this.layout.encode(e[this.property],t,r+s),i+=this.layout.getSpan(t,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class Gqe extends ol{constructor(e,t){if(!(e instanceof RS&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof RS||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){t===void 0&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let s=this.length;if(this.length instanceof RS&&(s=e.length),!rt.Buffer.isBuffer(e)||s!==e.length)throw new TypeError((i="Blob.encode",((o=this).property?i+"["+o.property+"]":i)+" requires (length "+s+") Buffer as src"));var i,o;if(r+s>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,s,"hex"),this.length instanceof RS&&this.length.encode(s,t,r),s}}var Yqe=(n,e,t)=>new mIe(n,e,t),qc=n=>new UK(1,n),Bm=n=>new UK(4,n),ym=n=>new Vqe(n),Ag=n=>new qqe(n),Pn=(n,e,t)=>new Hqe(n,e,t),vIe=(n,e,t)=>new kIe(n,e,t),dv=(n,e)=>new Gqe(n,e);class Zqe{constructor(e){}encode(e,t){switch(ga(e)){case"initializeMint":return function({decimals:r,mintAuthority:s,freezeAuthority:i}){return ia({initializeMint:{decimals:r,mintAuthority:s.toBuffer(),freezeAuthorityOption:!!i,freezeAuthority:(i||Te.default).toBuffer()}})}(t);case"initializeAccount":return ia({initializeAccount:{}});case"initializeMultisig":return function({m:r}){return ia({initializeMultisig:{m:r}})}(t);case"transfer":return function({amount:r}){return ia({transfer:{amount:r}})}(t);case"approve":return function({amount:r}){return ia({approve:{amount:r}})}(t);case"revoke":return ia({revoke:{}});case"setAuthority":return function({authorityType:r,newAuthority:s}){return ia({setAuthority:{authorityType:r,newAuthority:s}})}(t);case"mintTo":return function({amount:r}){return ia({mintTo:{amount:r}})}(t);case"burn":return function({amount:r}){return ia({burn:{amount:r}})}(t);case"closeAccount":return ia({closeAccount:{}});case"freezeAccount":return ia({freezeAccount:{}});case"thawAccount":return ia({thawAccount:{}});case"transferChecked":return function({amount:r,decimals:s}){return ia({transferChecked:{amount:r,decimals:s}})}(t);case"approvedChecked":return function({amount:r,decimals:s}){return ia({approveChecked:{amount:r,decimals:s}})}(t);case"mintToChecked":return function({amount:r,decimals:s}){return ia({mintToChecked:{amount:r,decimals:s}})}(t);case"burnChecked":return function({amount:r,decimals:s}){return ia({burnChecked:{amount:r,decimals:s}})}(t);case"intializeAccount2":return function({authority:r}){return ia({initilaizeAccount2:{authority:r}})}(t);case"syncNative":return ia({syncNative:{}});case"initializeAccount3":return function({authority:r}){return ia({initializeAccount3:{authority:r}})}(t);case"initializeMultisig2":return function({m:r}){return ia({initializeMultisig2:{m:r}})}(t);case"initializeMint2":return function({decimals:r,mintAuthority:s,freezeAuthority:i}){return ia({encodeInitializeMint2:{decimals:r,mintAuthority:s,freezeAuthority:i}})}(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("SPL token does not have state")}}const Fi=vIe(qc("instruction"));function Uv(n){return dv(32,n)}function ia(n){let e=rt.Buffer.alloc(Jqe),t=Fi.encode(n,e);return e.slice(0,t)}Fi.addVariant(0,Pn([qc("decimals"),dv(32,"mintAuthority"),qc("freezeAuthorityOption"),Uv("freezeAuthority")]),"initializeMint"),Fi.addVariant(1,Pn([]),"initializeAccount"),Fi.addVariant(2,Pn([qc("m")]),"initializeMultisig"),Fi.addVariant(3,Pn([ym("amount")]),"transfer"),Fi.addVariant(4,Pn([ym("amount")]),"approve"),Fi.addVariant(5,Pn([]),"revoke"),Fi.addVariant(6,Pn([qc("authorityType"),qc("newAuthorityOption"),Uv("newAuthority")]),"setAuthority"),Fi.addVariant(7,Pn([ym("amount")]),"mintTo"),Fi.addVariant(8,Pn([ym("amount")]),"burn"),Fi.addVariant(9,Pn([]),"closeAccount"),Fi.addVariant(10,Pn([]),"freezeAccount"),Fi.addVariant(11,Pn([]),"thawAccount"),Fi.addVariant(12,Pn([ym("amount"),qc("decimals")]),"transferChecked"),Fi.addVariant(13,Pn([ym("amount"),qc("decimals")]),"approvedChecked"),Fi.addVariant(14,Pn([ym("amount"),qc("decimals")]),"mintToChecked"),Fi.addVariant(15,Pn([ym("amount"),qc("decimals")]),"burnedChecked"),Fi.addVariant(16,Pn([Uv("authority")]),"InitializeAccount2"),Fi.addVariant(17,Pn([]),"syncNative"),Fi.addVariant(18,Pn([Uv("authority")]),"initializeAccount3"),Fi.addVariant(19,Pn([qc("m")]),"initializeMultisig2"),Fi.addVariant(20,Pn([qc("decimals"),Uv("mintAuthority"),qc("freezeAuthorityOption"),Uv("freezeAuthority")]),"initializeMint2");const Jqe=Math.max(...Object.values(Fi.registry).map(n=>n.span));class Xqe{constructor(e){}encode(e,t){throw new Error("SPL token does not have state")}decode(e){throw new Error("SPL token does not have state")}}function pL(n){return new PJ(dv(8),e=>EJ.fromBuffer(e),e=>e.toBuffer(),n)}function NA(n){return new PJ(dv(32),e=>new Te(e),e=>e.toBuffer(),n)}function pM(n,e){return new Qqe(n,e)}class PJ extends FK{constructor(e,t,r,s){super(e.span,s),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}class Qqe extends FK{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=Bm()}encode(e,t,r=0){return e==null?this.layout.span+this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+4)+4)}decode(e,t=0){const r=this.discriminator.decode(e,t);if(r===0)return null;if(r===1)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}function eHe(n){if(n===0)return!1;if(n===1)return!0;throw new Error("Invalid bool: "+n)}function tHe(n){return n?1:0}class EJ extends Ni{toBuffer(){const e=super.toArray().reverse(),t=rt.Buffer.from(e);if(t.length===8)return t;if(t.length>=8)throw new Error("u64 too large");const r=rt.Buffer.alloc(8);return t.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new EJ([...e].reverse().map(t=>`00${t.toString(16)}`.slice(-2)).join(""),16)}}class rHe{constructor(e){this.idl=e}async encode(e,t){switch(e){case"token":{const r=rt.Buffer.alloc(165),s=rge.encode(t,r);return r.slice(0,s)}case"mint":{const r=rt.Buffer.alloc(82),s=ege.encode(t,r);return r.slice(0,s)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){switch(e){case"token":return function(r){return rge.decode(r)}(t);case"mint":return function(r){return ege.decode(r)}(t);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,t){switch(e){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${e}`)}}size(e){var t;return(t=P$(this.idl,e))!==null&&t!==void 0?t:0}}const ege=Pn([pM(NA(),"mintAuthority"),pL("supply"),qc("decimals"),(tge="isInitialized",new PJ(qc(),eHe,tHe,tge)),pM(NA(),"freezeAuthority")]);var tge;const rge=Pn([NA("mint"),NA("authority"),pL("amount"),pM(NA(),"delegate"),qc("state"),pM(pL(),"isNative"),pL("delegatedAmount"),pM(NA(),"closeAuthority")]);class nHe{constructor(e){}decode(e){throw new Error("SPL token program does not have events")}}class sHe{constructor(e){}encode(e,t){throw new Error("SPL token does not have user-defined types")}decode(e,t){throw new Error("SPL token does not have user-defined types")}}class AIe{constructor(e){this.instruction=new Zqe(e),this.accounts=new rHe(e),this.events=new nHe(e),this.state=new Xqe(e),this.types=new sHe(e)}}class iHe{constructor(e){}encode(e,t){switch(ga(e)){case"createAccount":return function({lamports:r,space:s,owner:i}){return ql({createAccount:{lamports:r,space:s,owner:i.toBuffer()}})}(t);case"assign":return function({owner:r}){return ql({assign:{owner:r.toBuffer()}})}(t);case"transfer":return function({lamports:r}){return ql({transfer:{lamports:r}})}(t);case"createAccountWithSeed":return function({base:r,seed:s,lamports:i,space:o,owner:a}){return ql({createAccountWithSeed:{base:r.toBuffer(),seed:s,lamports:i,space:o,owner:a.toBuffer()}},Oa.getVariant(3).span+s.length)}(t);case"advanceNonceAccount":return function({authorized:r}){return ql({advanceNonceAccount:{authorized:r.toBuffer()}})}(t);case"withdrawNonceAccount":return function({lamports:r}){return ql({withdrawNonceAccount:{lamports:r}})}(t);case"initializeNonceAccount":return function({authorized:r}){return ql({initializeNonceAccount:{authorized:r.toBuffer()}})}(t);case"authorizeNonceAccount":return function({authorized:r}){return ql({authorizeNonceAccount:{authorized:r.toBuffer()}})}(t);case"allocate":return function({space:r}){return ql({allocate:{space:r}})}(t);case"allocateWithSeed":return function({base:r,seed:s,space:i,owner:o}){return ql({allocateWithSeed:{base:r.toBuffer(),seed:s,space:i,owner:o.toBuffer()}},Oa.getVariant(9).span+s.length)}(t);case"assignWithSeed":return function({base:r,seed:s,owner:i}){return ql({assignWithSeed:{base:r.toBuffer(),seed:s,owner:i.toBuffer()}},Oa.getVariant(10).span+s.length)}(t);case"transferWithSeed":return function({lamports:r,seed:s,owner:i}){return ql({transferWithSeed:{lamports:r,seed:s,owner:i.toBuffer()}},Oa.getVariant(11).span+s.length)}(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("System does not have state")}}class oHe extends FK{constructor(e){super(-1,e),this.property=e,this.layout=Pn([Bm("length"),Bm("lengthPadding"),dv(Yqe(Bm(),-8),"chars")],this.property)}encode(e,t,r=0){if(e==null)return this.layout.span;const s={chars:rt.Buffer.from(e,"utf8")};return this.layout.encode(s,t,r)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return Bm().span+Bm().span+new Ni(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function s3(n){return new oHe(n)}function Vl(n){return dv(32,n)}const Oa=vIe(Bm("instruction"));function ql(n,e){const t=rt.Buffer.alloc(e??aHe),r=Oa.encode(n,t);return e===void 0?t.slice(0,r):t}Oa.addVariant(0,Pn([Ag("lamports"),Ag("space"),Vl("owner")]),"createAccount"),Oa.addVariant(1,Pn([Vl("owner")]),"assign"),Oa.addVariant(2,Pn([Ag("lamports")]),"transfer"),Oa.addVariant(3,Pn([Vl("base"),s3("seed"),Ag("lamports"),Ag("space"),Vl("owner")]),"createAccountWithSeed"),Oa.addVariant(4,Pn([Vl("authorized")]),"advanceNonceAccount"),Oa.addVariant(5,Pn([Ag("lamports")]),"withdrawNonceAccount"),Oa.addVariant(6,Pn([Vl("authorized")]),"initializeNonceAccount"),Oa.addVariant(7,Pn([Vl("authorized")]),"authorizeNonceAccount"),Oa.addVariant(8,Pn([Ag("space")]),"allocate"),Oa.addVariant(9,Pn([Vl("base"),s3("seed"),Ag("space"),Vl("owner")]),"allocateWithSeed"),Oa.addVariant(10,Pn([Vl("base"),s3("seed"),Vl("owner")]),"assignWithSeed"),Oa.addVariant(11,Pn([Ag("lamports"),s3("seed"),Vl("owner")]),"transferWithSeed");const aHe=Math.max(...Object.values(Oa.registry).map(n=>n.span));class cHe{constructor(e){}encode(e,t){throw new Error("System does not have state")}decode(e){throw new Error("System does not have state")}}class uHe{constructor(e){this.idl=e}async encode(e,t){if(e==="nonce"){const r=rt.Buffer.alloc(KM),s=sge.encode(t,r);return r.slice(0,s)}throw new Error(`Invalid account name: ${e}`)}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){if(e==="nonce")return function(r){return sge.decode(r)}(t);throw new Error(`Invalid account name: ${e}`)}memcmp(e,t){if(e==="nonce")return{dataSize:KM};throw new Error(`Invalid account name: ${e}`)}size(e){var t;return(t=P$(this.idl,e))!==null&&t!==void 0?t:0}}class lHe extends FK{constructor(e,t,r,s){super(e.span,s),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}function nge(n){return new lHe(dv(32),e=>new Te(e),e=>e.toBuffer(),n)}const sge=Pn([Bm("version"),Bm("state"),nge("authorizedPubkey"),nge("nonce"),Pn([ym("lamportsPerSignature")],"feeCalculator")]);class dHe{constructor(e){}decode(e){throw new Error("System program does not have events")}}class fHe{constructor(e){}encode(e,t){throw new Error("System does not have user-defined types")}decode(e,t){throw new Error("System does not have user-defined types")}}class wIe{constructor(e){this.instruction=new iHe(e),this.accounts=new uHe(e),this.events=new dHe(e),this.state=new cHe(e),this.types=new fHe(e)}}var hHe=Object.freeze({__proto__:null,hash:function(n){return sv.exports.sha256(n)}});function IIe(n,e,t){const r=V.Buffer.concat([n.toBuffer(),V.Buffer.from(e),t.toBuffer()]),s=sv.exports.sha256.digest(r);return new Te(V.Buffer.from(s))}function _Ie(n,e){let t=V.Buffer.alloc(0);n.forEach(function(i){if(i.length>32)throw new TypeError("Max seed length exceeded");t=V.Buffer.concat([t,gHe(i)])}),t=V.Buffer.concat([t,e.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);let r=sv.exports.sha256(new Uint8Array(t)),s=new Ni(r,16).toArray(void 0,32);if(Te.isOnCurve(new Uint8Array(s)))throw new Error("Invalid seeds, address must fall off the curve");return new Te(s)}function xJ(n,e){let t,r=255;for(;r!=0;){try{t=_Ie(n.concat(V.Buffer.from([r])),e)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[t,r]}throw new Error("Unable to find a viable program address nonce")}const gHe=n=>n instanceof V.Buffer?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);async function PIe(n,...e){let t=[V.Buffer.from([97,110,99,104,111,114])];e.forEach(s=>{t.push(s instanceof V.Buffer?s:Gd(s).toBuffer())});const[r]=await Te.findProgramAddress(t,Gd(n));return r}var mHe=Object.freeze({__proto__:null,createWithSeedSync:IIe,createProgramAddressSync:_Ie,findProgramAddressSync:xJ,associated:PIe});const PH=new Te("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),EH=new Te("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var yHe=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:PH,ASSOCIATED_PROGRAM_ID:EH,associatedAddress:async function({mint:n,owner:e}){return(await Te.findProgramAddress([e.toBuffer(),PH.toBuffer(),n.toBuffer()],EH))[0]}}),xH={exports:{}};(function(n,e){var t=typeof self<"u"?self:Fqe,r=function(){function i(){this.fetch=!1,this.DOMException=t.DOMException}return i.prototype=t,new i}();(function(i){(function(o){var a="URLSearchParams"in i,c="Symbol"in i&&"iterator"in Symbol,u="FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),l="FormData"in i,d="ArrayBuffer"in i;if(d)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(z){return z&&y.indexOf(Object.prototype.toString.call(z))>-1};function m(z){if(typeof z!="string"&&(z=String(z)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(z))throw new TypeError("Invalid character in header field name");return z.toLowerCase()}function f(z){return typeof z!="string"&&(z=String(z)),z}function g(z){var T={next:function(){var v=z.shift();return{done:v===void 0,value:v}}};return c&&(T[Symbol.iterator]=function(){return T}),T}function b(z){this.map={},z instanceof b?z.forEach(function(T,v){this.append(v,T)},this):Array.isArray(z)?z.forEach(function(T){this.append(T[0],T[1])},this):z&&Object.getOwnPropertyNames(z).forEach(function(T){this.append(T,z[T])},this)}function S(z){if(z.bodyUsed)return Promise.reject(new TypeError("Already read"));z.bodyUsed=!0}function p(z){return new Promise(function(T,v){z.onload=function(){T(z.result)},z.onerror=function(){v(z.error)}})}function I(z){var T=new FileReader,v=p(T);return T.readAsArrayBuffer(z),v}function w(z){if(z.slice)return z.slice(0);var T=new Uint8Array(z.byteLength);return T.set(new Uint8Array(z)),T.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(z){var T;this._bodyInit=z,z?typeof z=="string"?this._bodyText=z:u&&Blob.prototype.isPrototypeOf(z)?this._bodyBlob=z:l&&FormData.prototype.isPrototypeOf(z)?this._bodyFormData=z:a&&URLSearchParams.prototype.isPrototypeOf(z)?this._bodyText=z.toString():d&&u&&(T=z)&&DataView.prototype.isPrototypeOf(T)?(this._bodyArrayBuffer=w(z.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d&&(ArrayBuffer.prototype.isPrototypeOf(z)||h(z))?this._bodyArrayBuffer=w(z):this._bodyText=z=Object.prototype.toString.call(z):this._bodyText="",this.headers.get("content-type")||(typeof z=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a&&URLSearchParams.prototype.isPrototypeOf(z)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u&&(this.blob=function(){var z=S(this);if(z)return z;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?S(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(I)}),this.text=function(){var z=S(this);if(z)return z;if(this._bodyBlob)return function(T){var v=new FileReader,k=p(v);return v.readAsText(T),k}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(T){for(var v=new Uint8Array(T),k=new Array(v.length),_=0;_<v.length;_++)k[_]=String.fromCharCode(v[_]);return k.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}b.prototype.append=function(z,T){z=m(z),T=f(T);var v=this.map[z];this.map[z]=v?v+", "+T:T},b.prototype.delete=function(z){delete this.map[m(z)]},b.prototype.get=function(z){return z=m(z),this.has(z)?this.map[z]:null},b.prototype.has=function(z){return this.map.hasOwnProperty(m(z))},b.prototype.set=function(z,T){this.map[m(z)]=f(T)},b.prototype.forEach=function(z,T){for(var v in this.map)this.map.hasOwnProperty(v)&&z.call(T,this.map[v],v,this)},b.prototype.keys=function(){var z=[];return this.forEach(function(T,v){z.push(v)}),g(z)},b.prototype.values=function(){var z=[];return this.forEach(function(T){z.push(T)}),g(z)},b.prototype.entries=function(){var z=[];return this.forEach(function(T,v){z.push([v,T])}),g(z)},c&&(b.prototype[Symbol.iterator]=b.prototype.entries);var P=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function E(z,T){var v,k,_=(T=T||{}).body;if(z instanceof E){if(z.bodyUsed)throw new TypeError("Already read");this.url=z.url,this.credentials=z.credentials,T.headers||(this.headers=new b(z.headers)),this.method=z.method,this.mode=z.mode,this.signal=z.signal,_||z._bodyInit==null||(_=z._bodyInit,z.bodyUsed=!0)}else this.url=String(z);if(this.credentials=T.credentials||this.credentials||"same-origin",!T.headers&&this.headers||(this.headers=new b(T.headers)),this.method=(v=T.method||this.method||"GET",k=v.toUpperCase(),P.indexOf(k)>-1?k:v),this.mode=T.mode||this.mode||null,this.signal=T.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&_)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(_)}function M(z){var T=new FormData;return z.trim().split("&").forEach(function(v){if(v){var k=v.split("="),_=k.shift().replace(/\+/g," "),B=k.join("=").replace(/\+/g," ");T.append(decodeURIComponent(_),decodeURIComponent(B))}}),T}function x(z,T){T||(T={}),this.type="default",this.status=T.status===void 0?200:T.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in T?T.statusText:"OK",this.headers=new b(T.headers),this.url=T.url||"",this._initBody(z)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},A.call(E.prototype),A.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},x.error=function(){var z=new x(null,{status:0,statusText:""});return z.type="error",z};var R=[301,302,303,307,308];x.redirect=function(z,T){if(R.indexOf(T)===-1)throw new RangeError("Invalid status code");return new x(null,{status:T,headers:{location:z}})},o.DOMException=i.DOMException;try{new o.DOMException}catch{o.DOMException=function(T,v){this.message=T,this.name=v;var k=Error(T);this.stack=k.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function $(z,T){return new Promise(function(v,k){var _=new E(z,T);if(_.signal&&_.signal.aborted)return k(new o.DOMException("Aborted","AbortError"));var B=new XMLHttpRequest;function C(){B.abort()}B.onload=function(){var O,D,W={status:B.status,statusText:B.statusText,headers:(O=B.getAllResponseHeaders()||"",D=new b,O.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(U){var q=U.split(":"),J=q.shift().trim();if(J){var Q=q.join(":").trim();D.append(J,Q)}}),D)};W.url="responseURL"in B?B.responseURL:W.headers.get("X-Request-URL");var L="response"in B?B.response:B.responseText;v(new x(L,W))},B.onerror=function(){k(new TypeError("Network request failed"))},B.ontimeout=function(){k(new TypeError("Network request failed"))},B.onabort=function(){k(new o.DOMException("Aborted","AbortError"))},B.open(_.method,_.url,!0),_.credentials==="include"?B.withCredentials=!0:_.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&u&&(B.responseType="blob"),_.headers.forEach(function(O,D){B.setRequestHeader(D,O)}),_.signal&&(_.signal.addEventListener("abort",C),B.onreadystatechange=function(){B.readyState===4&&_.signal.removeEventListener("abort",C)}),B.send(_._bodyInit===void 0?null:_._bodyInit)})}$.polyfill=!0,i.fetch||(i.fetch=$,i.Headers=b,i.Request=E,i.Response=x),o.Headers=b,o.Request=E,o.Response=x,o.fetch=$,Object.defineProperty(o,"__esModule",{value:!0})})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=r;(e=s.fetch).default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,n.exports=e})(xH,xH.exports);var pHe=Uqe(xH.exports);async function ige(n,e){const t=await n.getAccountInfo(e);if(t===null)throw new Error("program account not found");const{program:r}=TH(t.data),s=await n.getAccountInfo(r.programdataAddress);if(s===null)throw new Error("program data account not found");const{programData:i}=TH(s.data);return i}const bHe=Or.rustEnum([Or.struct([],"uninitialized"),Or.struct([Or.option(Or.publicKey(),"authorityAddress")],"buffer"),Or.struct([Or.publicKey("programdataAddress")],"program"),Or.struct([Or.u64("slot"),Or.option(Or.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,Or.u32());function TH(n){return bHe.decode(n)}var SHe=Object.freeze({__proto__:null,verifiedBuild:async function(n,e,t=5){const r=`https://api.apr.dev/api/v0/program/${e.toString()}/latest?limit=${t}`,[s,i]=await Promise.all([ige(n,e),pHe(r)]),o=(await i.json()).filter(c=>!c.aborted&&c.state==="Built"&&c.verified==="Verified");if(o.length===0)return null;const a=o[0];return s.slot.toNumber()!==a.verified_slot?null:a},fetchData:ige,decodeUpgradeableLoaderState:TH}),kHe=Object.freeze({__proto__:null,sha256:hHe,rpc:Bqe,publicKey:mHe,bytes:_qe,token:yHe,features:$qe,registry:SHe});const vHe=Or.struct([Or.publicKey("authority"),Or.vecU8("data")]);function E$(n,e){var t,r;let s={};const i=n.args?n.args.length:0;if(e.length>i){if(e.length!==i+1)throw new Error(`provided too many arguments ${e} to instruction ${n==null?void 0:n.name} expecting: ${(r=(t=n.args)===null||t===void 0?void 0:t.map(o=>o.name))!==null&&r!==void 0?r:[]}`);s=e.pop()}return[e,s]}class Jw{static build(e,t,r){if(e.name==="_inner")throw new qM("the _inner name is reserved");const s=(...i)=>{const[o,a]=E$(e,[...i]);LK(e.accounts,a.accounts);const c=s.accounts(a.accounts);return a.remainingAccounts!==void 0&&c.push(...a.remainingAccounts),KK("debug-logs")&&console.log("Outgoing account metas:",c),new xs({keys:c,programId:r,data:t(e.name,nIe(e,...o))})};return s.accounts=i=>Jw.accountsArray(i,e.accounts,e.name),s}static accountsArray(e,t,r){return e?t.map(s=>{if(("accounts"in s?s.accounts:void 0)!==void 0){const i=e[s.name];return Jw.accountsArray(i,s.accounts,r).flat()}{const i=s;let o;try{o=Gd(e[s.name])}catch{throw new Error(`Wrong input type for account "${s.name}" in the instruction accounts object${r!==void 0?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}return{pubkey:o,isWritable:i.isMut,isSigner:i.isSigner}}}).flat():[]}}class EIe{static build(e,t,r,s){return async(...i)=>{var o;const a=t(...i),[,c]=E$(e,[...i]);if(s.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await s.sendAndConfirm(a,(o=c.signers)!==null&&o!==void 0?o:[],c.options)}catch(u){throw IJ(u,r)}}}}class xIe{static build(e,t){return(...r)=>{var s,i,o;const[,a]=E$(e,[...r]),c=new Zn;if(a.preInstructions&&a.instructions)throw new Error("instructions is deprecated, use preInstructions");return(s=a.preInstructions)===null||s===void 0||s.forEach(u=>c.add(u)),(i=a.instructions)===null||i===void 0||i.forEach(u=>c.add(u)),c.add(t(...r)),(o=a.postInstructions)===null||o===void 0||o.forEach(u=>c.add(u)),c}}}class TIe{constructor(e,t,r=Zw(),s=new NK(e)){this.provider=r,this.coder=s,this._idl=e,this._programId=t,this._address=wF(t),this._sub=null;const[i,o,a]=(()=>{var c;let u={},l={},d={};return(c=e.state)===null||c===void 0||c.methods.forEach(y=>{const h=Jw.build(y,(b,S)=>s.instruction.encodeState(b,S),t);h.accounts=b=>function(p,I,w,A){if(w.name==="new"){const[P]=xJ([],p);if(I.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return[{pubkey:I.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:wF(p),isWritable:!0,isSigner:!1},{pubkey:P,isWritable:!1,isSigner:!1},{pubkey:aa.programId,isWritable:!1,isSigner:!1},{pubkey:p,isWritable:!1,isSigner:!1}]}return LK(w.accounts,A),[{pubkey:wF(p),isWritable:!0,isSigner:!1}]}(t,r,y,b).concat(Jw.accountsArray(b,y.accounts,y.name));const m=xIe.build(y,h),f=EIe.build(y,m,kJ(e),r),g=ga(y.name);u[g]=h,l[g]=m,d[g]=f}),[u,l,d]})();this.instruction=i,this.transaction=o,this.rpc=a}get programId(){return this._programId}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(t===null)throw new Error(`Account does not exist ${e.toString()}`);const r=this._idl.state;if(!r)throw new Error("State is not specified in IDL.");if((await _J(r.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(this._sub!==null)return this._sub.ee;const t=new qve,r=this.provider.connection.onAccountChange(this.address(),s=>{const i=this.coder.state.decode(s.data);t.emit("change",i)},e);return this._sub={ee:t,listener:r},t}unsubscribe(){this._sub!==null&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then(async()=>{this._sub=null}).catch(console.error)}}function wF(n){let[e]=xJ([],n);return IIe(e,"unversioned",n)}class RIe{constructor(e,t,r,s,i){this._idlAccount=t,this._programId=r,this._provider=s??Zw(),this._coder=i??new NK(e),this._size=this._coder.accounts.size(t)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e,t){const r=await this.getAccountInfo(e,t);return r===null?null:this._coder.accounts.decode(this._idlAccount.name,r.data)}async fetch(e,t){const r=await this.fetchNullable(e,t);if(r===null)throw new Error(`Account does not exist ${e.toString()}`);return r}async fetchMultiple(e,t){return(await oIe(this._provider.connection,e.map(r=>Gd(r)),t)).map(r=>r==null?null:this._coder.accounts.decode(this._idlAccount.name,r==null?void 0:r.account.data))}async all(e){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,e instanceof rt.Buffer?e:void 0)},...Array.isArray(e)?e:[]]})).map(({pubkey:t,account:r})=>({publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,r.data)}))}subscribe(e,t){const r=Q2.get(e.toString());if(r)return r.ee;const s=new qve;e=Gd(e);const i=this._provider.connection.onAccountChange(e,o=>{const a=this._coder.accounts.decode(this._idlAccount.name,o.data);s.emit("change",a)},t);return Q2.set(e.toString(),{ee:s,listener:i}),s}async unsubscribe(e){let t=Q2.get(e.toString());t?Q2&&await this._provider.connection.removeAccountChangeListener(t.listener).then(()=>{Q2.delete(e.toString())}).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const r=this.size;if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return aa.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:t??r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(t??r),programId:this._programId})}async associated(...e){const t=await this.associatedAddress(...e);return await this.fetch(t)}async associatedAddress(...e){return await PIe(this._programId,...e)}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(Gd(e),t)}}const Q2=new Map,AHe=13,wHe=14;class BIe{constructor(e,t,r){this._programId=e,this._provider=t,this._eventParser=new TJ(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var r;let s=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,((r=this._eventListeners.get(e))!==null&&r!==void 0?r:[]).concat(s)),this._eventCallbacks.set(s,[e,t]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(i,o)=>{if(!i.err)for(const a of this._eventParser.parseLogs(i.logs)){const c=this._eventListeners.get(a.name);c&&c.forEach(u=>{const l=this._eventCallbacks.get(u);if(l){const[,d]=l;d(a.data,o.slot,i.signature)}})}})),s}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[r]=t;let s=this._eventListeners.get(r);if(!s)throw new Error(`Event listeners don't exist for ${r}!`);this._eventCallbacks.delete(e),s=s.filter(i=>i!==e),s.length===0&&this._eventListeners.delete(r),this._eventCallbacks.size==0&&(GL.exports.ok(this._eventListeners.size===0),this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class TJ{constructor(e,t){this.coder=t,this.programId=e}*parseLogs(e){const t=new _He(e),r=new IHe;let s=t.next();for(;s!==null;){let[i,o,a]=this.handleLog(r,s);i&&(yield i),o&&r.push(o),a&&r.pop(),s=t.next()}}handleLog(e,t){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log: ")||e.startsWith("Program data: ")){const t=e.startsWith("Program log: ")?e.slice(AHe):e.slice(wHe);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return t.match(/^Program (.*) success/g)!==null?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class IHe{constructor(){this.stack=[]}program(){return GL.exports.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){GL.exports.ok(this.stack.length>0),this.stack.pop()}}class _He{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}const PHe=new Te("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function CIe(){return new AIe(MIe)}const MIe={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class jM{constructor(e,t,r,s,i,o){this._args=e,this._accounts=t,this._provider=r,this._programId=s,this._idlIx=i,this._accountStore=new EHe(r,o)}async resolve(){for(let e=0;e<this._idlIx.accounts.length;e+=1){const t=this._idlIx.accounts[e],r=ga(t.name);if(!t.isSigner||this._accounts[r])Reflect.has(jM.CONST_ACCOUNTS,r)&&!this._accounts[r]&&(this._accounts[r]=jM.CONST_ACCOUNTS[r]);else{if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this._accounts[r]=this._provider.wallet.publicKey}}for(let e=0;e<this._idlIx.accounts.length;e+=1){const t=this._idlIx.accounts[e],r=ga(t.name);t.pda&&t.pda.seeds.length>0&&!this._accounts[r]&&await this.autoPopulatePda(t)}}async autoPopulatePda(e){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const t=await Promise.all(e.pda.seeds.map(i=>this.toBuffer(i))),r=await this.parseProgramId(e),[s]=await Te.findProgramAddress(t,r);this._accounts[ga(e.name)]=s}async parseProgramId(e){var t;if(!(!((t=e.pda)===null||t===void 0)&&t.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new Te(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}toBufferConst(e){return this.toBufferValue(e.type,e.value)}async toBufferArg(e){const t=this.argValue(e);return this.toBufferValue(e.type,t)}argValue(e){const t=ga(e.path.split(".")[0]),r=this._idlIx.args.findIndex(s=>s.name===t);if(r===-1)throw new Error(`Unable to find argument for seed: ${t}`);return this._args[r]}async toBufferAccount(e){const t=await this.accountValue(e);return this.toBufferValue(e.type,t)}async accountValue(e){const t=e.path.split("."),r=t[0],s=this._accounts[ga(r)];if(t.length===1)return s;const i=await this._accountStore.fetchAccount(e.account,s);return this.parseAccountValue(i,t.slice(1))}parseAccountValue(e,t){let r;for(;t.length>0;)r=e[ga(t[0])],t=t.slice(1);return r}toBufferValue(e,t){switch(e){case"u8":return rt.Buffer.from([t]);case"u16":let r=rt.Buffer.alloc(2);return r.writeUInt16LE(t),r;case"u32":let s=rt.Buffer.alloc(4);return s.writeUInt32LE(t),s;case"u64":let i=rt.Buffer.alloc(8);return i.writeBigUInt64LE(BigInt(t)),i;case"string":return rt.Buffer.from(tIe(t));case"publicKey":return t.toBuffer();default:if(e.array)return rt.Buffer.from(t);throw new Error(`Unexpected seed type: ${e}`)}}}jM.CONST_ACCOUNTS={associatedTokenProgram:EH,rent:ak,systemProgram:aa.programId,tokenProgram:PH};class EHe{constructor(e,t){this._provider=e,this._accounts=t,this._cache=new Map}async fetchAccount(e,t){const r=t.toString();if(!this._cache.has(r))if(e==="TokenAccount"){const s=await this._provider.connection.getAccountInfo(t);if(s===null)throw new Error(`invalid account info for ${r}`);const i=CIe().accounts.decode("token",s.data);this._cache.set(r,i)}else{const s=this._accounts[ga(e)].fetch(t);this._cache.set(r,s)}return this._cache.get(r)}}class zIe{static build(e,t,r,s,i,o,a,c,u){return(...l)=>new xHe(l,s,i,o,a,c,e,t,r,u)}}class xHe{constructor(e,t,r,s,i,o,a,c,u,l){this._args=e,this._ixFn=t,this._txFn=r,this._rpcFn=s,this._simulateFn=i,this._viewFn=o,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._accountsResolver=new jM(e,this._accounts,a,c,u,l)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(e){return this._autoResolveAccounts=!0,Object.assign(this._accounts,e),this}accountsStrict(e){return this._autoResolveAccounts=!1,Object.assign(this._accounts,e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class hk{constructor(e,t,r,s){t=Gd(t),r||(r=Zw()),this._idl=e,this._provider=r,this._programId=t,this._coder=s??new NK(e),this._events=new BIe(this._programId,r,this._coder);const[i,o,a,c,u,l,d,y]=class{static build(h,m,f,g){const b={},S={},p={},I={},w={},A={},P=kJ(h),E=h.accounts?class{static build(x,R,$,z){var T;const v={};return(T=x.accounts)===null||T===void 0||T.forEach(k=>{const _=ga(k.name);v[_]=new RIe(x,k,$,z,R)}),v}}.build(h,m,f,g):{},M=class{static build(x,R,$,z){if(x.state!==void 0)return new TIe(x,$,z,R)}}.build(h,m,f,g);return h.instructions.forEach(x=>{const R=Jw.build(x,(B,C)=>m.instruction.encode(B,C),f),$=xIe.build(x,R),z=EIe.build(x,$,P,g),T=class{static build(B,C,O,D,W,L,U){return async(...q)=>{var J;const Q=C(...q),[,j]=E$(B,[...q]);let X;if(D.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{X=await D.simulate(Q,j.signers,(J=j.options)===null||J===void 0?void 0:J.commitment)}catch(ee){throw IJ(ee,O)}if(X===void 0)throw new Error("Unable to simulate transaction");const re=X.logs;if(!re)throw new Error("Simulated logs not found");const se=[];if(U.events){let ee=new TJ(L,W);for(const ne of ee.parseLogs(re))se.push(ne)}return{events:se,raw:re}}}}.build(x,$,P,g,m,f,h),v=class{static build(B,C,O,D){const W=C.accounts.find(U=>U.isMut),L=!!C.returns;if(!W&&L)return async(...U)=>{var q,J;let Q=await O(...U);const j=`Program return: ${B} `;let X=Q.raw.find(ee=>ee.startsWith(j));if(!X)throw new Error("View expected return log");let re=rIe(X.slice(j.length)),se=C.returns;if(!se)throw new Error("View expected return type");return Xu.fieldLayout({type:se},Array.from([...(q=D.accounts)!==null&&q!==void 0?q:[],...(J=D.types)!==null&&J!==void 0?J:[]])).decode(re)}}}.build(f,x,T,h),k=zIe.build(g,f,x,R,$,z,T,v,E),_=ga(x.name);S[_]=R,p[_]=$,b[_]=z,I[_]=T,w[_]=k,v&&(A[_]=v)}),[b,S,p,E,I,w,M,A]}}.build(e,this._coder,t,r);this.rpc=i,this.instruction=o,this.transaction=a,this.account=c,this.simulate=u,this.methods=l,this.state=d,this.views=y}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const r=Gd(e),s=await hk.fetchIdl(r,t);if(!s)throw new Error(`IDL not found for program: ${e.toString()}`);return new hk(s,r,t)}static async fetchIdl(e,t){t=t??Zw();const r=Gd(e),s=await async function(u){const l=(await Te.findProgramAddress([],u))[0];return await Te.createWithSeed(l,"anchor:idl",u)}(r),i=await t.connection.getAccountInfo(s);if(!i)return null;let o=(a=i.data.slice(8),vHe.decode(a));var a;const c=V6e(o.data);return JSON.parse(eIe(c))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}class THe{constructor(e){}encode(e,t){if(ga(e)==="create")return rt.Buffer.alloc(0);throw new Error(`Invalid instruction: ${e}`)}encodeState(e,t){throw new Error("SPL associated token does not have state")}}class RHe{constructor(e){}encode(e,t){throw new Error("SPL associated token does not have state")}decode(e){throw new Error("SPL associated token does not have state")}}class BHe{constructor(e){this.idl=e}async encode(e,t){throw new Error(`Invalid account name: ${e}`)}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){throw new Error(`Invalid account name: ${e}`)}memcmp(e,t){throw new Error(`Invalid account name: ${e}`)}size(e){var t;return(t=P$(this.idl,e))!==null&&t!==void 0?t:0}}class CHe{constructor(e){}decode(e){throw new Error("SPL associated token program does not have events")}}class MHe{constructor(e){}encode(e,t){throw new Error("SPL associated token does not have user-defined types")}decode(e,t){throw new Error("SPL associated token does not have user-defined types")}}class zHe{constructor(e){this.instruction=new THe(e),this.accounts=new BHe(e),this.events=new CHe(e),this.state=new RHe(e),this.types=new MHe(e)}}const $He=new Te("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function DHe(n){return new hk(oge,$He,n,new zHe(oge))}const oge={version:"0.1.0",name:"spl_associated_token",instructions:[{name:"create",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"associatedAccount",isMut:!0,isSigner:!1},{name:"owner",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]}]};class OHe{static token(e){return function(t){return new hk(MIe,PHe,t,CIe())}(e)}static associatedToken(e){return DHe(e)}}const LHe=new Te("11111111111111111111111111111111");function KHe(n){return new hk(age,LHe,n,new wIe(age))}const age={version:"0.1.0",name:"system_program",instructions:[{name:"createAccount",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!0}],args:[{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assign",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"owner",type:"publicKey"}]},{name:"transfer",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"}]},{name:"createAccountWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"advanceNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"withdrawNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"lamports",type:"u64"}]},{name:"initializeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!0},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authorized",type:"publicKey"}]},{name:"authorizeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"allocate",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"space",type:"u64"}]},{name:"allocateWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assignWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]},{name:"transferWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]}],accounts:[{name:"nonce",type:{kind:"struct",fields:[{name:"version",type:"u32"},{name:"state",type:"u32"},{name:"authorizedPubkey",type:"publicKey"},{name:"nonce",type:"publicKey"},{name:"feeCalculator",type:{defined:"FeeCalculator"}}]}}],types:[{name:"FeeCalculator",type:{kind:"struct",fields:[{name:"lamportsPerSignature",type:"u64"}]}}]};class WHe{static system(e){return KHe(e)}}var NHe=Object.freeze(Object.defineProperty({__proto__:null,web3:hUe,ACCOUNT_DISCRIMINATOR_SIZE:Wqe,AccountClient:RIe,AnchorError:dw,AnchorProvider:uIe,BorshAccountsCoder:fw,BorshCoder:NK,BorshEventCoder:fIe,BorshInstructionCoder:WK,BorshStateCoder:gIe,EventManager:BIe,EventParser:TJ,IdlError:qM,LangErrorCode:dr,LangErrorMessage:dIe,MethodsBuilderFactory:zIe,Native:WHe,Program:hk,ProgramError:HM,ProgramErrorStack:hR,Spl:OHe,SplTokenCoder:AIe,StateClient:TIe,SystemCoder:wIe,eventDiscriminator:hIe,getProvider:Zw,parseIdlErrors:kJ,setProvider:Mqe,splitArgsAndCtx:E$,stateDiscriminator:_J,toInstruction:nIe,translateAddress:Gd,translateError:IJ,utils:kHe,validateAccounts:LK,BN:Ni},Symbol.toStringTag,{value:"Module"})),Kc=Wl(NHe),fr={},VK={};Object.defineProperty(VK,"__esModule",{value:!0});VK.decodeAccount=FHe;VK.decodeAccountWithRemaining=UHe;const $Ie=Kc;function FHe(n,e,t){if(n.accountInfo.owner.equals(e.programId))if(n.accountInfo.data.subarray(0,8).equals($Ie.BorshAccountsCoder.accountDiscriminator(t.ACCOUNT_NAME)))try{const s=e.coder.accounts.decode(t.ACCOUNT_NAME,n.accountInfo.data);return{type:"ok",key:n.accountId,data:new t(s,n.accountId)}}catch(r){return{type:"error",key:n.accountId,error:r}}else return{type:"error",key:n.accountId,error:new Error("discriminator mismatch")};else return{type:"error",key:n.accountId,error:new Error("not owned by program")}}function UHe(n,e,t,r){if(n.accountInfo.owner.equals(e.programId))if(n.accountInfo.data.subarray(0,8).equals($Ie.BorshAccountsCoder.accountDiscriminator(t.ACCOUNT_NAME)))try{const i=e.coder.accounts.decode(t.ACCOUNT_NAME,n.accountInfo.data.subarray(0,t.MIN_DATA_SIZE));return{type:"ok",key:n.accountId,data:new t(i,n.accountId,r(n.accountInfo.data.subarray(t.MIN_DATA_SIZE),i))}}catch(s){return{type:"error",key:n.accountId,error:s}}else return{type:"error",key:n.accountId,error:new Error("discriminator mismatch")};else return{type:"error",key:n.accountId,error:new Error("not owned by program")}}var x$={};function i4(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function VHe(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function T$(n,...e){if(!VHe(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function qHe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");i4(n.outputLen),i4(n.blockLen)}function Xw(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function DIe(n,e){T$(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const IF=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const HHe=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),_F=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),wf=(n,e)=>n<<32-e|n>>>e,cge=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,jHe=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function uge(n){for(let e=0;e<n.length;e++)n[e]=jHe(n[e])}function GHe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function qK(n){return typeof n=="string"&&(n=GHe(n)),T$(n),n}function YHe(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];T$(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class RJ{clone(){return this._cloneInto()}}function BJ(n){const e=r=>n().update(qK(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function OIe(n=32){if(IF&&typeof IF.getRandomValues=="function")return IF.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function ZHe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const JHe=(n,e,t)=>n&e^~n&t,XHe=(n,e,t)=>n&e^n&t^e&t;class LIe extends RJ{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=_F(this.buffer)}update(e){Xw(this);const{view:t,buffer:r,blockLen:s}=this;e=qK(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=_F(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Xw(this),DIe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;ZHe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=_F(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const i3=BigInt(2**32-1),RH=BigInt(32);function KIe(n,e=!1){return e?{h:Number(n&i3),l:Number(n>>RH&i3)}:{h:Number(n>>RH&i3)|0,l:Number(n&i3)|0}}function WIe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=KIe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const QHe=(n,e)=>BigInt(n>>>0)<<RH|BigInt(e>>>0),eje=(n,e,t)=>n>>>t,tje=(n,e,t)=>n<<32-t|e>>>t,rje=(n,e,t)=>n>>>t|e<<32-t,nje=(n,e,t)=>n<<32-t|e>>>t,sje=(n,e,t)=>n<<64-t|e>>>t-32,ije=(n,e,t)=>n>>>t-32|e<<64-t,oje=(n,e)=>e,aje=(n,e)=>n,NIe=(n,e,t)=>n<<t|e>>>32-t,FIe=(n,e,t)=>e<<t|n>>>32-t,UIe=(n,e,t)=>e<<t-32|n>>>64-t,VIe=(n,e,t)=>n<<t-32|e>>>64-t;function cje(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const uje=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),lje=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,dje=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),fje=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,hje=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),gje=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,mje={fromBig:KIe,split:WIe,toBig:QHe,shrSH:eje,shrSL:tje,rotrSH:rje,rotrSL:nje,rotrBH:sje,rotrBL:ije,rotr32H:oje,rotr32L:aje,rotlSH:NIe,rotlSL:FIe,rotlBH:UIe,rotlBL:VIe,add:cje,add3L:uje,add3H:lje,add4L:dje,add4H:fje,add5H:gje,add5L:hje};var Nr=mje;const[yje,pje]=(()=>Nr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),xy=new Uint32Array(80),Ty=new Uint32Array(80);class bje extends LIe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)xy[p]=e.getUint32(t),Ty[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=xy[p-15]|0,w=Ty[p-15]|0,A=Nr.rotrSH(I,w,1)^Nr.rotrSH(I,w,8)^Nr.shrSH(I,w,7),P=Nr.rotrSL(I,w,1)^Nr.rotrSL(I,w,8)^Nr.shrSL(I,w,7),E=xy[p-2]|0,M=Ty[p-2]|0,x=Nr.rotrSH(E,M,19)^Nr.rotrBH(E,M,61)^Nr.shrSH(E,M,6),R=Nr.rotrSL(E,M,19)^Nr.rotrBL(E,M,61)^Nr.shrSL(E,M,6),$=Nr.add4L(P,R,Ty[p-7],Ty[p-16]),z=Nr.add4H($,A,x,xy[p-7],xy[p-16]);xy[p]=z|0,Ty[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Nr.rotrSH(d,y,14)^Nr.rotrSH(d,y,18)^Nr.rotrBH(d,y,41),w=Nr.rotrSL(d,y,14)^Nr.rotrSL(d,y,18)^Nr.rotrBL(d,y,41),A=d&h^~d&f,P=y&m^~y&g,E=Nr.add5L(S,w,P,pje[p],Ty[p]),M=Nr.add5H(E,b,I,A,yje[p],xy[p]),x=E|0,R=Nr.rotrSH(r,s,28)^Nr.rotrBH(r,s,34)^Nr.rotrBH(r,s,39),$=Nr.rotrSL(r,s,28)^Nr.rotrBL(r,s,34)^Nr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Nr.add(u|0,l|0,M|0,x|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Nr.add3L(x,$,T);r=Nr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Nr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Nr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Nr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Nr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Nr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Nr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Nr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Nr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){xy.fill(0),Ty.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Sje=BJ(()=>new bje);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const CJ=BigInt(0),HK=BigInt(1),kje=BigInt(2);function gk(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function R$(n){if(!gk(n))throw new Error("Uint8Array expected")}function jm(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const vje=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function mk(n){R$(n);let e="";for(let t=0;t<n.length;t++)e+=vje[n[t]];return e}function qIe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function MJ(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const wg={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function lge(n){if(n>=wg._0&&n<=wg._9)return n-wg._0;if(n>=wg._A&&n<=wg._F)return n-(wg._A-10);if(n>=wg._a&&n<=wg._f)return n-(wg._a-10)}function Qw(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=lge(n.charCodeAt(i)),a=lge(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function YS(n){return MJ(mk(n))}function hw(n){return R$(n),MJ(mk(Uint8Array.from(n).reverse()))}function eI(n,e){return Qw(n.toString(16).padStart(e*2,"0"))}function GM(n,e){return eI(n,e).reverse()}function Aje(n){return Qw(qIe(n))}function Pa(n,e,t){let r;if(typeof e=="string")try{r=Qw(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(gk(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function yk(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];R$(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function wje(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function Ije(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const PF=n=>typeof n=="bigint"&&CJ<=n;function jK(n,e,t){return PF(n)&&PF(e)&&PF(t)&&e<=n&&n<t}function rd(n,e,t,r){if(!jK(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function _je(n){let e;for(e=0;n>CJ;n>>=HK,e+=1);return e}function Pje(n,e){return n>>BigInt(e)&HK}function Eje(n,e,t){return n|(t?HK:CJ)<<BigInt(e)}const zJ=n=>(kje<<BigInt(n-1))-HK,EF=n=>new Uint8Array(n),dge=n=>Uint8Array.from(n);function HIe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=EF(n),s=EF(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=EF())=>{s=a(dge([0]),d),r=a(),d.length!==0&&(s=a(dge([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return yk(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const xje={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||gk(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function gR(n,e,t={}){const r=(s,i,o)=>{const a=xje[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const Tje=()=>{throw new Error("not implemented")};function YM(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var Rje=Object.freeze(Object.defineProperty({__proto__:null,isBytes:gk,abytes:R$,abool:jm,bytesToHex:mk,numberToHexUnpadded:qIe,hexToNumber:MJ,hexToBytes:Qw,bytesToNumberBE:YS,bytesToNumberLE:hw,numberToBytesBE:eI,numberToBytesLE:GM,numberToVarBytesBE:Aje,ensureBytes:Pa,concatBytes:yk,equalBytes:wje,utf8ToBytes:Ije,inRange:jK,aInRange:rd,bitLen:_je,bitGet:Pje,bitSet:Eje,bitMask:zJ,createHmacDrbg:HIe,validateObject:gR,notImplemented:Tje,memoized:YM},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _c=BigInt(0),no=BigInt(1),iS=BigInt(2),Bje=BigInt(3),BH=BigInt(4),fge=BigInt(5),hge=BigInt(8);BigInt(9);BigInt(16);function Mi(n,e){const t=n%e;return t>=_c?t:e+t}function Cje(n,e,t){if(t<=_c||e<_c)throw new Error("Expected power/modulo > 0");if(t===no)return _c;let r=no;for(;e>_c;)e&no&&(r=r*n%t),n=n*n%t,e>>=no;return r}function Io(n,e,t){let r=n;for(;e-- >_c;)r*=r,r%=t;return r}function CH(n,e){if(n===_c||e<=_c)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=Mi(n,e),r=e,s=_c,i=no;for(;t!==_c;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==no)throw new Error("invert: does not exist");return Mi(s,e)}function Mje(n){const e=(n-no)/iS;let t,r,s;for(t=n-no,r=0;t%iS===_c;t/=iS,r++);for(s=iS;s<n&&Cje(s,e,n)!==n-no;s++);if(r===1){const o=(n+no)/BH;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+no)/iS;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,no<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function zje(n){if(n%BH===Bje){const e=(n+no)/BH;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%hge===fge){const e=(n-fge)/hge;return function(r,s){const i=r.mul(s,iS),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,iS),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return Mje(n)}const $je=(n,e)=>(Mi(n,e)&no)===no,Dje=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Oje(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=Dje.reduce((r,s)=>(r[s]="function",r),e);return gR(n,t)}function Lje(n,e,t){if(t<_c)throw new Error("Expected power > 0");if(t===_c)return n.ONE;if(t===no)return e;let r=n.ONE,s=e;for(;t>_c;)t&no&&(r=n.mul(r,s)),s=n.sqr(s),t>>=no;return r}function Kje(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function jIe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function GIe(n,e,t=!1,r={}){if(n<=_c)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=jIe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=zje(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:zJ(s),ZERO:_c,ONE:no,create:c=>Mi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return _c<=c&&c<n},is0:c=>c===_c,isOdd:c=>(c&no)===no,neg:c=>Mi(-c,n),eql:(c,u)=>c===u,sqr:c=>Mi(c*c,n),add:(c,u)=>Mi(c+u,n),sub:(c,u)=>Mi(c-u,n),mul:(c,u)=>Mi(c*u,n),pow:(c,u)=>Lje(a,c,u),div:(c,u)=>Mi(c*CH(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>CH(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>Kje(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?GM(c,i):eI(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?hw(c):YS(c)}});return Object.freeze(a)}function YIe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function ZIe(n){const e=YIe(n);return e+Math.ceil(e/2)}function Wje(n,e,t=!1){const r=n.length,s=YIe(e),i=ZIe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?YS(n):hw(n),a=Mi(o,e-no)+no;return t?GM(a,s):eI(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nje=BigInt(0),xF=BigInt(1),TF=new WeakMap,gge=new WeakMap;function JIe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>Nje;)o&xF&&(a=a.add(c)),c=c.double(),o>>=xF;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=xF);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=gge.get(i)||1;let u=TF.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&TF.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),gge.set(i,o),TF.delete(i)}}}function $J(n){return Oje(n.Fp),gR(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...jIe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Sd=BigInt(0),bu=BigInt(1),o3=BigInt(2),Fje=BigInt(8),Uje={zip215:!0};function Vje(n){const e=$J(n);return gR(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function qje(n){const e=Vje(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=o3<<BigInt(a*8)-bu,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Sd}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,_)=>{if(jm("phflag",_),k.length||_)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){rd("coordinate "+v,k,Sd,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=YM((v,k)=>{const{ex:_,ey:B,ez:C}=v,O=v.is0();k==null&&(k=O?Fje:t.inv(C));const D=l(_*k),W=l(B*k),L=l(C*k);if(O)return{x:Sd,y:bu};if(L!==bu)throw new Error("invZ was invalid");return{x:D,y:W}}),b=YM(v=>{const{a:k,d:_}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:B,ey:C,ez:O,et:D}=v,W=l(B*B),L=l(C*C),U=l(O*O),q=l(U*U),J=l(W*k),Q=l(U*l(J+L)),j=l(q+l(_*l(W*L)));if(Q!==j)throw new Error("bad point: equation left != right (1)");const X=l(B*C),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,_,B,C){this.ex=k,this.ey=_,this.ez=B,this.et=C,m("x",k),m("y",_),m("z",B),m("t",C),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x:_,y:B}=k||{};return m("x",_),m("y",B),new S(_,B,bu,l(_*B))}static normalizeZ(k){const _=t.invertBatch(k.map(B=>B.ez));return k.map((B,C)=>B.toAffine(_[C])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:_,ey:B,ez:C}=this,{ex:O,ey:D,ez:W}=k,L=l(_*W),U=l(O*C),q=l(B*W),J=l(D*C);return L===U&&q===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:_,ey:B,ez:C}=this,O=l(_*_),D=l(B*B),W=l(o3*l(C*C)),L=l(k*O),U=_+B,q=l(l(U*U)-O-D),J=L+D,Q=J-W,j=L-D,X=l(q*Q),re=l(J*j),se=l(q*j),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:_,d:B}=e,{ex:C,ey:O,ez:D,et:W}=this,{ex:L,ey:U,ez:q,et:J}=k;if(_===BigInt(-1)){const $t=l((O-C)*(U+L)),_t=l((O+C)*(U-L)),tt=l(_t-$t);if(tt===Sd)return this.double();const Ve=l(D*o3*J),qt=l(W*o3*q),lr=qt+Ve,ur=_t+$t,hr=qt-Ve,Rr=l(lr*tt),ms=l(ur*hr),kn=l(lr*hr),ys=l(tt*ur);return new S(Rr,ms,ys,kn)}const Q=l(C*L),j=l(O*U),X=l(W*B*J),re=l(D*q),se=l((C+O)*(L+U)-Q-j),ee=re-X,ne=re+X,_e=l(j-_*Q),Pe=l(se*ee),We=l(ne*_e),Ne=l(se*_e),Yt=l(ee*ne);return new S(Pe,We,Yt,Ne)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const _=k;rd("scalar",_,bu,r);const{p:B,f:C}=this.wNAF(_);return S.normalizeZ([B,C])[0]}multiplyUnsafe(k){const _=k;return rd("scalar",_,Sd,r),_===Sd?I:this.equals(I)||_===bu?this:this.equals(p)?this.wNAF(_).p:w.unsafeLadder(this,_)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===bu?this:this.multiplyUnsafe(k)}static fromHex(k,_=!1){const{d:B,a:C}=e,O=t.BYTES;k=Pa("pointHex",k,O),jm("zip215",_);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=hw(D),U=_?u:t.ORDER;rd("pointHex.y",L,Sd,U);const q=l(L*L),J=l(q-bu),Q=l(B*q-C);let{isValid:j,value:X}=d(J,Q);if(!j)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&bu)===bu,se=(W&128)!==0;if(!_&&X===Sd&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:_}=this.toAffine(),B=GM(_,t.BYTES);return B[B.length-1]|=k&bu?128:0,B}toHex(){return mk(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,bu,l(e.Gx*e.Gy)),S.ZERO=new S(Sd,bu,bu,Sd);const{BASE:p,ZERO:I}=S,w=JIe(S,a*8);function A(v){return Mi(v,r)}function P(v){return A(hw(v))}function E(v){const k=a;v=Pa("private key",v,k);const _=Pa("hashed private key",i(v),2*k),B=y(_.slice(0,k)),C=_.slice(k,2*k),O=P(B),D=p.multiply(O),W=D.toRawBytes();return{head:B,prefix:C,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function x(v=new Uint8Array,...k){const _=yk(...k);return P(i(h(_,Pa("context",v),!!s)))}function R(v,k,_={}){v=Pa("message",v),s&&(v=s(v));const{prefix:B,scalar:C,pointBytes:O}=E(k),D=x(_.context,B,v),W=p.multiply(D).toRawBytes(),L=x(_.context,W,O,v),U=A(D+L*C);rd("signature.s",U,Sd,r);const q=yk(W,GM(U,t.BYTES));return Pa("result",q,a*2)}const $=Uje;function z(v,k,_,B=$){const{context:C,zip215:O}=B,D=t.BYTES;v=Pa("signature",v,2*D),k=Pa("message",k),O!==void 0&&jm("zip215",O),s&&(k=s(k));const W=hw(v.slice(D,2*D));let L,U,q;try{L=S.fromHex(_,O),U=S.fromHex(v.slice(0,D),O),q=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=x(C,U.toRawBytes(),L.toRawBytes(),k);return U.add(L.multiplyUnsafe(J)).subtract(q).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const DJ=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),mge=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Hje=BigInt(1),yge=BigInt(2);BigInt(3);const jje=BigInt(5),Gje=BigInt(8);function Yje(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=DJ,a=n*n%i*n%i,c=Io(a,yge,i)*a%i,u=Io(c,Hje,i)*n%i,l=Io(u,jje,i)*u%i,d=Io(l,e,i)*l%i,y=Io(d,t,i)*d%i,h=Io(y,r,i)*y%i,m=Io(h,s,i)*h%i,f=Io(m,s,i)*h%i,g=Io(f,e,i)*l%i;return{pow_p_5_8:Io(g,yge,i)*n%i,b2:a}}function Zje(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function Jje(n,e){const t=DJ,r=Mi(e*e*e,t),s=Mi(r*r*e,t),i=Yje(n*s).pow_p_5_8;let o=Mi(n*r*i,t);const a=Mi(e*o*o,t),c=o,u=Mi(o*mge,t),l=a===n,d=a===Mi(-n,t),y=a===Mi(-n*mge,t);return l&&(o=c),(d||y)&&(o=u),$je(o,t)&&(o=Mi(-o,t)),{isValid:l||d,value:o}}const Xje=(()=>GIe(DJ,void 0,!0))(),Qje=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Xje,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Gje,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Sje,randomBytes:OIe,adjustScalarBytes:Zje,uvRatio:Jje}))(),mR=(()=>qje(Qje))();var a3=q6e.exports.Buffer;function eGe(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var s=n.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=n.length,a=n.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(h){if((Array.isArray(h)||h instanceof Uint8Array)&&(h=a3.from(h)),!a3.isBuffer(h))throw new TypeError("Expected Buffer");if(h.length===0)return"";for(var m=0,f=0,g=0,b=h.length;g!==b&&h[g]===0;)g++,m++;for(var S=(b-g)*u+1>>>0,p=new Uint8Array(S);g!==b;){for(var I=h[g],w=0,A=S-1;(I!==0||w<f)&&A!==-1;A--,w++)I+=256*p[A]>>>0,p[A]=I%o>>>0,I=I/o>>>0;if(I!==0)throw new Error("Non-zero carry");f=w,g++}for(var P=S-f;P!==S&&p[P]===0;)P++;for(var E=a.repeat(m);P<S;++P)E+=n.charAt(p[P]);return E}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return a3.alloc(0);for(var m=0,f=0,g=0;h[m]===a;)f++,m++;for(var b=(h.length-m)*c+1>>>0,S=new Uint8Array(b);h[m];){var p=e[h.charCodeAt(m)];if(p===255)return;for(var I=0,w=b-1;(p!==0||I<g)&&w!==-1;w--,I++)p+=o*S[w]>>>0,S[w]=p%256>>>0,p=p/256>>>0;if(p!==0)throw new Error("Non-zero carry");g=I,m++}for(var A=b-g;A!==b&&S[A]===0;)A++;var P=a3.allocUnsafe(f+(b-A));P.fill(0,0,f);for(var E=f;A!==b;)P[E++]=S[A++];return P}function y(h){var m=d(h);if(m)return m;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:d,decode:y}}var tGe=eGe,rGe=tGe,nGe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Oc=rGe(nGe);const sGe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ry=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),By=new Uint32Array(64);class iGe extends LIe{constructor(){super(64,32,8,!1),this.A=Ry[0]|0,this.B=Ry[1]|0,this.C=Ry[2]|0,this.D=Ry[3]|0,this.E=Ry[4]|0,this.F=Ry[5]|0,this.G=Ry[6]|0,this.H=Ry[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)By[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=By[d-15],h=By[d-2],m=wf(y,7)^wf(y,18)^y>>>3,f=wf(h,17)^wf(h,19)^h>>>10;By[d]=f+By[d-7]+m+By[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=wf(a,6)^wf(a,11)^wf(a,25),h=l+y+JHe(a,c,u)+sGe[d]+By[d]|0,f=(wf(r,2)^wf(r,13)^wf(r,22))+XHe(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){By.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const MH=BJ(()=>new iGe);class oGe extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function aGe(n){return B$(n)&&typeof n[Symbol.iterator]=="function"}function B$(n){return typeof n=="object"&&n!=null}function o4(n){return B$(n)&&!Array.isArray(n)}function tf(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function cGe(n){const{done:e,value:t}=n.next();return e?void 0:t}function uGe(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${tf(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*pge(n,e,t,r){aGe(n)||(n=[n]);for(const s of n){const i=uGe(s,e,t,r);i&&(yield i)}}function*OJ(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=OJ(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):B$(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class ag{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return pge(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return pge(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return XIe(e,this,t)}create(e,t){return pt(e,this,t)}is(e){return QIe(e,this)}mask(e,t){return lGe(e,this,t)}validate(e,t={}){return C$(e,this,t)}}function XIe(n,e,t){const r=C$(n,e,{message:t});if(r[0])throw r[0]}function pt(n,e,t){const r=C$(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function lGe(n,e,t){const r=C$(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function QIe(n,e){return!C$(n,e)[0]}function C$(n,e,t={}){const r=OJ(n,e,t),s=cGe(r);if(s[0])return[new oGe(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function fv(n,e){return new ag({type:n,schema:null,validator:e})}function dGe(){return fv("any",()=>!0)}function Et(n){return new ag({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${tf(e)}`}})}function qh(){return fv("boolean",n=>typeof n=="boolean")}function LJ(n){return fv("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${tf(e)}`)}function ji(n){const e=tf(n),t=typeof n;return new ag({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${tf(r)}`}})}function fGe(){return fv("never",()=>!1)}function Ot(n){return new ag({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function ge(){return fv("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${tf(n)}`)}function Sr(n){return new ag({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function e_e(n,e){return new ag({type:"record",schema:null,*entries(t){if(B$(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return o4(t)||`Expected an object, but received: ${tf(t)}`},coercer(t){return o4(t)?{...t}:t}})}function je(){return fv("string",n=>typeof n=="string"||`Expected a string, but received: ${tf(n)}`)}function KJ(n){const e=fGe();return new ag({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${tf(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Be(n){const e=Object.keys(n);return new ag({type:"type",schema:n,*entries(t){if(B$(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return o4(t)||`Expected an object, but received: ${tf(t)}`},coercer(t){return o4(t)?{...t}:t}})}function ou(n){const e=n.map(t=>t.type).join(" | ");return new ag({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=OJ(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${tf(t)}`,...s]}})}function yR(){return fv("unknown",()=>!0)}function M$(n,e,t){return new ag({...n,coercer:(r,s)=>QIe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const t_e=[],r_e=[],n_e=[],hGe=BigInt(0),eB=BigInt(1),gGe=BigInt(2),mGe=BigInt(7),yGe=BigInt(256),pGe=BigInt(113);for(let n=0,e=eB,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],t_e.push(2*(5*r+t)),r_e.push((n+1)*(n+2)/2%64);let s=hGe;for(let i=0;i<7;i++)e=(e<<eB^(e>>mGe)*pGe)%yGe,e&gGe&&(s^=eB<<(eB<<BigInt(i))-eB);n_e.push(s)}const[bGe,SGe]=WIe(n_e,!0),bge=(n,e,t)=>t>32?UIe(n,e,t):NIe(n,e,t),Sge=(n,e,t)=>t>32?VIe(n,e,t):FIe(n,e,t);function kGe(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=bge(u,l,1)^t[a],y=Sge(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=r_e[o],c=bge(s,i,a),u=Sge(s,i,a),l=t_e[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=bGe[r],n[1]^=SGe[r]}t.fill(0)}class WJ extends RJ{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,i4(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=HHe(this.state)}keccak(){cge||uge(this.state32),kGe(this.state32,this.rounds),cge||uge(this.state32),this.posOut=0,this.pos=0}update(e){Xw(this);const{blockLen:t,state:r}=this;e=qK(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Xw(this,!1),T$(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return i4(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(DIe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new WJ(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const vGe=(n,e,t)=>BJ(()=>new WJ(e,n,t)),kge=vGe(1,136,256/8);class s_e extends RJ{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,qHe(e);const r=qK(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Xw(this),this.iHash.update(e),this}digestInto(e){Xw(this),T$(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const i_e=(n,e,t)=>new s_e(n,e).update(t).digest();i_e.create=(n,e)=>new s_e(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function vge(n){n.lowS!==void 0&&jm("lowS",n.lowS),n.prehash!==void 0&&jm("prehash",n.prehash)}function AGe(n){const e=$J(n);gR(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:wGe,hexToBytes:IGe}=Rje,BS={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=BS;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:wGe(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=BS,t=typeof n=="string"?IGe(n):n;R$(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=BS._parseInt(t.subarray(2)),{d:o,l:a}=BS._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Bp=BigInt(0),Ka=BigInt(1);BigInt(2);const Age=BigInt(3);BigInt(4);function _Ge(n){const e=AGe(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return yk(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return jK(m,Ka,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(gk(m)&&(m=mk(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:YS(Pa("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=Mi(p,S)),rd("private key",p,Ka,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=YM((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=YM(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(Pa("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),P=t.eql(t.mul(b,w),t.mul(I,S));return A&&P}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,Age),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,P=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),x=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),P=t.mul(S,I),P=t.add(P,P),w=t.mul(f,P),A=t.mul(b,x),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),P=t.mul(b,P),x=t.mul(f,x),R=t.sub(E,x),R=t.mul(f,R),R=t.add(R,P),P=t.add(E,E),E=t.add(P,E),E=t.add(E,x),E=t.mul(E,R),A=t.add(A,E),x=t.mul(p,I),x=t.add(x,x),E=t.mul(x,R),w=t.sub(w,E),P=t.mul(x,M),P=t.add(P,P),P=t.add(P,P),new d(w,A,P)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,P=t.ZERO,E=t.ZERO;const M=e.a,x=t.mul(e.b,Age);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(x,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),P=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(x,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),P=t.add(P,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,P,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){rd("scalar",f,Bp,e.n);const g=d.ZERO;if(f===Bp)return g;if(f===Ka)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,P=g,E=this;for(;p>Bp||w>Bp;)p&Ka&&(A=A.add(E)),w&Ka&&(P=P.add(E)),E=E.double(),p>>=Ka,w>>=Ka;return S&&(A=A.negate()),I&&(P=P.negate()),P=new d(t.mul(P.px,b.beta),P.py,P.pz),A.add(P)}multiply(f){const{endo:g,n:b}=e;rd("scalar",f,Ka,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:P}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:x,f:R}=this.wNAF(P);E=h.constTimeNegate(I,E),x=h.constTimeNegate(A,x),x=new d(t.mul(x.px,g.beta),x.py,x.pz),S=E.add(x),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===Bp||A===Ka||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===Ka)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===Ka?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return jm("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return jm("isCompressed",f),mk(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=JIe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function PGe(n){const e=$J(n);return gR(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function EGe(n){const e=PGe(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return Mi(T,r)}function a(T){return CH(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=_Ge({...e,toBytes(T,v,k){const _=v.toAffine(),B=t.toBytes(_.x),C=yk;return jm("isCompressed",k),k?C(Uint8Array.from([v.hasEvenY()?2:3]),B):C(Uint8Array.from([4]),B,t.toBytes(_.y))},fromBytes(T){const v=T.length,k=T[0],_=T.subarray(1);if(v===s&&(k===2||k===3)){const B=YS(_);if(!jK(B,Ka,t.ORDER))throw new Error("Point is not on curve");const C=l(B);let O;try{O=t.sqrt(C)}catch(L){const U=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+U)}const D=(O&Ka)===Ka;return(k&1)===1!==D&&(O=t.neg(O)),{x:B,y:O}}else if(v===i&&k===4){const B=t.fromBytes(_.subarray(0,t.BYTES)),C=t.fromBytes(_.subarray(t.BYTES,2*t.BYTES));return{x:B,y:C}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>mk(eI(T,e.nByteLength));function h(T){const v=r>>Ka;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>YS(T.slice(v,k));class g{constructor(v,k,_){this.r=v,this.s=k,this.recovery=_,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=Pa("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:_}=BS.toSig(Pa("DER",v));return new g(k,_)}assertValidity(){rd("r",this.r,Ka,r),rd("s",this.s,Ka,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:_,recovery:B}=this,C=A(Pa("msgHash",v));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const O=B===2||B===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(B&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),U=o(-C*L),q=o(_*L),J=c.BASE.multiplyAndAddUnsafe(W,U,q);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Qw(this.toDERHex())}toDERHex(){return BS.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Qw(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=ZIe(e.n);return Wje(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=gk(T),k=typeof T=="string",_=(v||k)&&T.length;return v?_===s||_===i:k?_===2*s||_===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=YS(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},P=zJ(e.nBitLength);function E(T){return rd(`num < 2^${e.nBitLength}`,T,Bp,P),eI(T,e.nByteLength)}function M(T,v,k=x){if(["recovered","canonical"].some(j=>j in k))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:B}=e;let{lowS:C,prehash:O,extraEntropy:D}=k;C==null&&(C=!0),T=Pa("msgHash",T),vge(k),O&&(T=Pa("prehashed msgHash",_(T)));const W=A(T),L=u(v),U=[E(L),E(W)];if(D!=null&&D!==!1){const j=D===!0?B(t.BYTES):D;U.push(Pa("extraEntropy",j))}const q=yk(...U),J=W;function Q(j){const X=w(j);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Bp)return;const ne=o(re*o(J+ee*L));if(ne===Bp)return;let _e=(se.x===ee?0:2)|Number(se.y&Ka),Pe=ne;return C&&h(ne)&&(Pe=m(ne),_e^=1),new g(ee,Pe,_e)}return{seed:q,k2sig:Q}}const x={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=x){const{seed:_,k2sig:B}=M(T,v,k),C=e;return HIe(C.hash.outputLen,C.nByteLength,C.hmac)(_,B)}c.BASE._setWindowSize(8);function z(T,v,k,_=R){var se;const B=T;if(v=Pa("msgHash",v),k=Pa("publicKey",k),"strict"in _)throw new Error("options.strict was renamed to lowS");vge(_);const{lowS:C,prehash:O}=_;let D,W;try{if(typeof B=="string"||gk(B))try{D=g.fromDER(B)}catch(ee){if(!(ee instanceof BS.Err))throw ee;D=g.fromCompact(B)}else if(typeof B=="object"&&typeof B.r=="bigint"&&typeof B.s=="bigint"){const{r:ee,s:ne}=B;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(C&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:U}=D,q=A(v),J=a(U),Q=o(q*J),j=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,j))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xGe(n){return{hash:n,hmac:(e,...t)=>i_e(n,e,YHe(...t)),randomBytes:OIe}}function TGe(n,e){const t=r=>EGe({...n,...xGe(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const o_e=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),wge=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),RGe=BigInt(1),zH=BigInt(2),Ige=(n,e)=>(n+e/zH)/e;function BGe(n){const e=o_e,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=Io(l,t,e)*l%e,y=Io(d,t,e)*l%e,h=Io(y,zH,e)*u%e,m=Io(h,s,e)*h%e,f=Io(m,i,e)*m%e,g=Io(f,a,e)*f%e,b=Io(g,c,e)*g%e,S=Io(b,a,e)*f%e,p=Io(S,t,e)*l%e,I=Io(p,o,e)*m%e,w=Io(I,r,e)*u%e,A=Io(w,zH,e);if(!$H.eql($H.sqr(A),n))throw new Error("Cannot find square root");return A}const $H=GIe(o_e,void 0,void 0,{sqrt:BGe}),GK=TGe({a:BigInt(0),b:BigInt(7),Fp:$H,n:wge,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=wge,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-RGe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=Ige(i*n,e),c=Ige(-r*n,e);let u=Mi(n-a*t-c*s,e),l=Mi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},MH);BigInt(0);GK.ProjectivePoint;const CGe=mR.utils.randomPrivateKey,_ge=()=>{const n=mR.utils.randomPrivateKey(),e=a4(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},a4=mR.getPublicKey;function Pge(n){try{return mR.ExtendedPoint.fromHex(n),!0}catch{return!1}}const NJ=(n,e)=>mR.sign(n,e.slice(0,32)),MGe=mR.verify,ln=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class FJ{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(tg(bM,this))}static decode(e){return rg(bM,this,e)}static decodeUnchecked(e){return ng(bM,this,e)}}class zGe extends FJ{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const bM=new Map;var a_e;const c_e=32,Ch=32;function $Ge(n){return n._bn!==void 0}let Ege=1;class it extends FJ{constructor(e){if(super({}),this._bn=void 0,$Ge(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Oc.decode(e);if(t.length!=Ch)throw new Error("Invalid public key input");this._bn=new Ni(t)}else this._bn=new Ni(e);if(this._bn.byteLength()>Ch)throw new Error("Invalid public key input")}}static unique(){const e=new it(Ege);return Ege+=1,new it(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Oc.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Ch)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=MH(s);return new it(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>c_e)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,ln(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=MH(r);if(Pge(s))throw new Error("Invalid seeds, address must fall off the curve");return new it(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new it(e);return Pge(t.toBytes())}}a_e=it;it.default=new a_e("11111111111111111111111111111111");bM.set(it,{kind:"struct",fields:[["_bn","u256"]]});class DGe{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=ln(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=ln(CGe()),this._publicKey=ln(a4(this._secretKey))}get publicKey(){return new it(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const OGe=new it("BPFLoader1111111111111111111111111111111111"),Yp=1280-40-8,YK=127,ZM=64;class UJ extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(UJ.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class VJ extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(VJ.prototype,"name",{value:"TransactionExpiredTimeoutError"});class FA extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(FA.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class JM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const Tn=(n="publicKey")=>ie(32,n),LGe=(n="signature")=>ie(64,n),CS=(n="string")=>{const e=N([F("length"),F("lengthPadding"),ie(Gt(F(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>F().span+F().span+V.Buffer.from(i,"utf8").length,s},KGe=(n="authorized")=>N([Tn("staker"),Tn("withdrawer")],n),WGe=(n="lockup")=>N([Ee("unixTimestamp"),Ee("epoch"),Tn("custodian")],n),NGe=(n="voteInit")=>N([Tn("nodePubkey"),Tn("authorizedVoter"),Tn("authorizedWithdrawer"),te("commission")],n),FGe=(n="voteAuthorizeWithSeedArgs")=>N([F("voteAuthorizationType"),Tn("currentAuthorityDerivedKeyOwnerPubkey"),CS("currentAuthorityDerivedKeySeed"),Tn("newAuthorized")],n);function u_e(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return u_e({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function Du(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Sl(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Qn(n,e){if(!n)throw new Error(e||"Assertion failed")}class ZK{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new ZK(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Qn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Qn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Qn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new it(c)),...r.map(([c])=>new it(c)),...s.map(([c])=>new it(c)),...i.map(([c])=>new it(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new it(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Qn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const l_e="Reached end of buffer unexpectedly";function nh(n){if(n.length===0)throw new Error(l_e);return n.shift()}function Ou(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(l_e);return n.splice(...e)}class rf{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new it(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Oc.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new JM(this.staticAccountKeys)}static compile(e){const t=ZK.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new JM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Oc.encode(a.data)}));return new rf({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Sl(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Oc.decode(d.data));let f=[];Sl(f,y.length);let g=[];return Sl(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Sl(s,r.length);let i=V.Buffer.alloc(Yp);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=N([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=N([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(Tn("key"),e,"keys"),Tn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>ln(d.toBytes())),recentBlockhash:Oc.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=nh(t);if(r!==(r&YK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=nh(t),i=nh(t),o=Du(t);let a=[];for(let y=0;y<o;y++){const h=Ou(t,0,Ch);a.push(new it(V.Buffer.from(h)))}const c=Ou(t,0,Ch),u=Du(t);let l=[];for(let y=0;y<u;y++){const h=nh(t),m=Du(t),f=Ou(t,0,m),g=Du(t),b=Ou(t,0,g),S=Oc.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Oc.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new rf(d)}}class pk{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new JM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=ZK.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new JM(a,s).compileInstructions(e.instructions);return new pk({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Sl(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Sl(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Sl(i,this.addressTableLookups.length);const o=N([te("prefix"),N([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(Tn(),this.staticAccountKeys.length,"staticAccountKeys"),Tn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Yp),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Oc.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Yp);for(const r of this.compiledInstructions){const s=Array();Sl(s,r.accountKeyIndexes.length);const i=Array();Sl(i,r.data.length),e+=N([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Yp);for(const r of this.addressTableLookups){const s=Array();Sl(s,r.writableIndexes.length);const i=Array();Sl(i,r.readonlyIndexes.length),e+=N([Tn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=nh(t),s=r&YK;Qn(r!==s,"Expected versioned message but received legacy message");const i=s;Qn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:nh(t),numReadonlySignedAccounts:nh(t),numReadonlyUnsignedAccounts:nh(t)},a=[],c=Du(t);for(let m=0;m<c;m++)a.push(new it(Ou(t,0,Ch)));const u=Oc.encode(Ou(t,0,Ch)),l=Du(t),d=[];for(let m=0;m<l;m++){const f=nh(t),g=Du(t),b=Ou(t,0,g),S=Du(t),p=new Uint8Array(Ou(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=Du(t),h=[];for(let m=0;m<y;m++){const f=new it(Ou(t,0,Ch)),g=Du(t),b=Ou(t,0,g),S=Du(t),p=Ou(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new pk({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const qJ={deserializeMessageVersion(n){const e=n[0],t=e&YK;return t===e?"legacy":t},deserialize:n=>{const e=qJ.deserializeMessageVersion(n);if(e==="legacy")return rf.from(n);if(e===0)return pk.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let pm=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const UGe=V.Buffer.alloc(ZM).fill(0);class $s{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class as{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new $s(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new it(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Oc.encode(g)}});return m.forEach(f=>{Qn(f.programIdIndex>=0),f.accounts.forEach(g=>Qn(g>=0))}),new rf({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=NJ(r,s.secretKey);this._addSignature(s.publicKey,ln(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Qn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):MGe(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Sl(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Qn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Qn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Qn(i.length<=Yp,`Transaction too large: ${i.length} > ${Yp}`),i}get keys(){return Qn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Qn(this.instructions.length===1),this.instructions[0].programId}get data(){return Qn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Du(t);let s=[];for(let i=0;i<r;i++){const o=Ou(t,0,ZM);s.push(Oc.encode(V.Buffer.from(o)))}return as.populate(rf.from(t),s)}static populate(e,t=[]){const r=new as;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Oc.encode(UGe)?null:Oc.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new $s({keys:i,programId:e.accountKeys[s.programIdIndex],data:Oc.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class HJ{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Qn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Qn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new $s({programId:g,data:ln(m.data),keys:f}))}return new HJ({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return rf.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return pk.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class jJ{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Qn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(ZM));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Sl(t,this.signatures.length);const r=N([ie(t.length,"encodedSignaturesLength"),we(LGe(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=Du(t);for(let o=0;o<s;o++)r.push(new Uint8Array(Ou(t,0,ZM)));const i=qJ.deserialize(new Uint8Array(t));return new jJ(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Qn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=NJ(t,s.secretKey)}}addSignature(e,t){Qn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Qn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const VGe=160,qGe=64,HGe=VGe/qGe,d_e=1e3/HGe,Ff=new it("SysvarC1ock11111111111111111111111111111111"),jGe=new it("SysvarEpochSchedu1e111111111111111111111111"),GGe=new it("Sysvar1nstructions1111111111111111111111111"),bL=new it("SysvarRecentB1ockHashes11111111111111111111"),tI=new it("SysvarRent111111111111111111111111111111111"),YGe=new it("SysvarRewards111111111111111111111111111111"),ZGe=new it("SysvarS1otHashes111111111111111111111111111"),JGe=new it("SysvarS1otHistory11111111111111111111111111"),SL=new it("SysvarStakeHistory1111111111111111111111111");class XM extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const XGe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class tr extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function DH(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new XM({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function oS(n){return new Promise(e=>setTimeout(e,n))}function Nn(n,e){const t=n.layout.span>=0?n.layout.span:u_e(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function Ss(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const f_e=fe("lamportsPerSignature"),h_e=N([F("version"),F("state"),Tn("authorizedPubkey"),Tn("nonce"),N([f_e],"feeCalculator")]),OH=h_e.span;class JK{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=h_e.decode(ln(e),0);return new JK({authorizedPubkey:new it(t.authorizedPubkey),nonce:new it(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const QGe=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},eYe=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=QGe(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return sg(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=ya(o,n);return r(u,a,c)},i},rI=eYe(8);class tYe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ei))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=Ss(ei.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new it(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Ss(ei.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=Ss(ei.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new it(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Ss(ei.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=Ss(ei.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new it(t),seed:r,space:s,programId:new it(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Ss(ei.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new it(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=Ss(ei.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new it(t),seed:r,programId:new it(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=Ss(ei.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new it(t),seed:r,lamports:s,space:i,programId:new it(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Ss(ei.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new it(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Ss(ei.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Ss(ei.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Ss(ei.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new it(t)}}static checkProgramId(e){if(!e.equals(mc.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ei=Object.freeze({Create:{index:0,layout:N([F("instruction"),Ee("lamports"),Ee("space"),Tn("programId")])},Assign:{index:1,layout:N([F("instruction"),Tn("programId")])},Transfer:{index:2,layout:N([F("instruction"),rI("lamports")])},CreateWithSeed:{index:3,layout:N([F("instruction"),Tn("base"),CS("seed"),Ee("lamports"),Ee("space"),Tn("programId")])},AdvanceNonceAccount:{index:4,layout:N([F("instruction")])},WithdrawNonceAccount:{index:5,layout:N([F("instruction"),Ee("lamports")])},InitializeNonceAccount:{index:6,layout:N([F("instruction"),Tn("authorized")])},AuthorizeNonceAccount:{index:7,layout:N([F("instruction"),Tn("authorized")])},Allocate:{index:8,layout:N([F("instruction"),Ee("space")])},AllocateWithSeed:{index:9,layout:N([F("instruction"),Tn("base"),CS("seed"),Ee("space"),Tn("programId")])},AssignWithSeed:{index:10,layout:N([F("instruction"),Tn("base"),CS("seed"),Tn("programId")])},TransferWithSeed:{index:11,layout:N([F("instruction"),rI("lamports"),CS("seed"),Tn("programId")])},UpgradeNonceAccount:{index:12,layout:N([F("instruction")])}});class mc{constructor(){}static createAccount(e){const t=ei.Create,r=Nn(t,{lamports:e.lamports,space:e.space,programId:ln(e.programId.toBuffer())});return new $s({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=ei.TransferWithSeed;t=Nn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:ln(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=ei.Transfer;t=Nn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new $s({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=ei.AssignWithSeed;t=Nn(s,{base:ln(e.basePubkey.toBuffer()),seed:e.seed,programId:ln(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=ei.Assign;t=Nn(s,{programId:ln(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new $s({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=ei.CreateWithSeed,r=Nn(t,{base:ln(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:ln(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new $s({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new as;"basePubkey"in e&&"seed"in e?t.add(mc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:OH,programId:this.programId})):t.add(mc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:OH,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=ei.InitializeNonceAccount,r=Nn(t,{authorized:ln(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:bL,isSigner:!1,isWritable:!1},{pubkey:tI,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new $s(s)}static nonceAdvance(e){const t=ei.AdvanceNonceAccount,r=Nn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:bL,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new $s(s)}static nonceWithdraw(e){const t=ei.WithdrawNonceAccount,r=Nn(t,{lamports:e.lamports});return new $s({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:bL,isSigner:!1,isWritable:!1},{pubkey:tI,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=ei.AuthorizeNonceAccount,r=Nn(t,{authorized:ln(e.newAuthorizedPubkey.toBuffer())});return new $s({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=ei.AllocateWithSeed;t=Nn(s,{base:ln(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:ln(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=ei.Allocate;t=Nn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new $s({keys:r,programId:this.programId,data:t})}}mc.programId=new it("11111111111111111111111111111111");const rYe=Yp-300;class bk{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/bk.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new as,h.add(mc.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new as,h.add(mc.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new as,h.add(mc.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new as().add(mc.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await DH(e,h,[t,r],{commitment:"confirmed"})}const o=N([F("instruction"),F("offset"),F("bytesLength"),F("bytesLengthPadding"),we(te("byte"),Gt(F(),-8),"bytes")]),a=bk.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new as().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(DH(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await oS(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=N([F("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new as().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:tI,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(d_e/2)))}}return!0}}bk.chunkSize=rYe;const nYe=new it("BPFLoader2111111111111111111111111111111111");class sYe{static getMinNumSignatures(e){return bk.getMinNumSignatures(e)}static load(e,t,r,s,i){return bk.load(e,t,r,i,s)}}function iYe(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var RF,xge;function oYe(){if(xge)return RF;xge=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return RF=function(r){var s=t(r,!1);if(s!==void 0)return""+s},RF}var aYe=oYe(),Tge=iYe(aYe);const tB=32;function BF(n){let e=0;for(;n>1;)n/=2,e++;return e}function cYe(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class g_e{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=BF(cYe(e+tB+1))-BF(tB)-1,r=this.getSlotsInEpoch(t),s=e-(r-tB);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*tB:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+BF(tB)):this.slotsPerEpoch}}var uYe=globalThis.fetch;class lYe extends ay{constructor(e,t,r){const s=i=>{const o=uy(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function dYe(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Rge=56;class LH{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=dYe(fYe,e),r=e.length-Rge;Qn(r>=0,"lookup table is invalid"),Qn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=N([we(Tn(),s,"addresses")]).decode(e.slice(Rge));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new it(t.authority[0]):void 0,addresses:i.map(o=>new it(o))}}}const fYe={index:1,layout:N([F("typeIndex"),rI("deactivationSlot"),fe("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(Tn(),Gt(te(),-1),"authority")])},hYe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function gYe(n){const e=n.match(hYe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const ho=M$(LJ(it),je(),n=>new it(n)),m_e=KJ([je(),ji("base64")]),GJ=M$(LJ(V.Buffer),m_e,n=>V.Buffer.from(n[0],"base64")),y_e=30*1e3;function mYe(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Vs(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function Bge(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function p_e(n){return ou([Be({jsonrpc:ji("2.0"),id:je(),result:n}),Be({jsonrpc:ji("2.0"),id:je(),error:Be({code:yR(),message:je(),data:Sr(dGe())})})])}const yYe=p_e(yR());function Qr(n){return M$(p_e(n),yYe,e=>"error"in e?e:{...e,result:pt(e.result,n)})}function Do(n){return Qr(Be({context:Be({slot:ge()}),value:n}))}function XK(n){return Be({context:Be({slot:ge()}),value:n})}function CF(n,e){return n===0?new pk({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new it(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Oc.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new rf(e)}const pYe=Be({foundation:ge(),foundationTerm:ge(),initial:ge(),taper:ge(),terminal:ge()}),bYe=Qr(Et(Ot(Be({epoch:ge(),effectiveSlot:ge(),amount:ge(),postBalance:ge(),commission:Sr(Ot(ge()))})))),SYe=Et(Be({slot:ge(),prioritizationFee:ge()})),kYe=Be({total:ge(),validator:ge(),foundation:ge(),epoch:ge()}),vYe=Be({epoch:ge(),slotIndex:ge(),slotsInEpoch:ge(),absoluteSlot:ge(),blockHeight:Sr(ge()),transactionCount:Sr(ge())}),AYe=Be({slotsPerEpoch:ge(),leaderScheduleSlotOffset:ge(),warmup:qh(),firstNormalEpoch:ge(),firstNormalSlot:ge()}),wYe=e_e(je(),Et(ge())),hv=Ot(ou([Be({}),je()])),IYe=Be({err:hv}),_Ye=ji("receivedSignature"),PYe=Be({"solana-core":je(),"feature-set":Sr(ge())}),EYe=Be({program:je(),programId:ho,parsed:yR()}),xYe=Be({programId:ho,accounts:Et(ho),data:je()}),Cge=Do(Be({err:Ot(ou([Be({}),je()])),logs:Ot(Et(je())),accounts:Sr(Ot(Et(Ot(Be({executable:qh(),owner:je(),lamports:ge(),data:Et(je()),rentEpoch:Sr(ge())}))))),unitsConsumed:Sr(ge()),returnData:Sr(Ot(Be({programId:je(),data:KJ([je(),ji("base64")])}))),innerInstructions:Sr(Ot(Et(Be({index:ge(),instructions:Et(ou([EYe,xYe]))}))))})),TYe=Do(Be({byIdentity:e_e(je(),Et(ge())),range:Be({firstSlot:ge(),lastSlot:ge()})}));function RYe(n,e,t,r,s,i){const o=t||uYe;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new cy(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},BZe)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await oS(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function BYe(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function CYe(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const MYe=Qr(pYe),zYe=Qr(kYe),$Ye=Qr(SYe),DYe=Qr(vYe),OYe=Qr(AYe),LYe=Qr(wYe),KYe=Qr(ge()),WYe=Do(Be({total:ge(),circulating:ge(),nonCirculating:ge(),nonCirculatingAccounts:Et(ho)})),KH=Be({amount:je(),uiAmount:Ot(ge()),decimals:ge(),uiAmountString:Sr(je())}),NYe=Do(Et(Be({address:ho,amount:je(),uiAmount:Ot(ge()),decimals:ge(),uiAmountString:Sr(je())}))),FYe=Do(Et(Be({pubkey:ho,account:Be({executable:qh(),owner:ho,lamports:ge(),data:GJ,rentEpoch:ge()})}))),WH=Be({program:je(),parsed:yR(),space:ge()}),UYe=Do(Et(Be({pubkey:ho,account:Be({executable:qh(),owner:ho,lamports:ge(),data:WH,rentEpoch:ge()})}))),VYe=Do(Et(Be({lamports:ge(),address:ho}))),QM=Be({executable:qh(),owner:ho,lamports:ge(),data:GJ,rentEpoch:ge()}),qYe=Be({pubkey:ho,account:QM}),HYe=M$(ou([LJ(V.Buffer),WH]),ou([m_e,WH]),n=>Array.isArray(n)?pt(n,GJ):n),NH=Be({executable:qh(),owner:ho,lamports:ge(),data:HYe,rentEpoch:ge()}),jYe=Be({pubkey:ho,account:NH}),GYe=Be({state:ou([ji("active"),ji("inactive"),ji("activating"),ji("deactivating")]),active:ge(),inactive:ge()}),YYe=Qr(Et(Be({signature:je(),slot:ge(),err:hv,memo:Ot(je()),blockTime:Sr(Ot(ge()))}))),ZYe=Qr(Et(Be({signature:je(),slot:ge(),err:hv,memo:Ot(je()),blockTime:Sr(Ot(ge()))}))),JYe=Be({subscription:ge(),result:XK(QM)}),XYe=Be({pubkey:ho,account:QM}),QYe=Be({subscription:ge(),result:XK(XYe)}),eZe=Be({parent:ge(),slot:ge(),root:ge()}),tZe=Be({subscription:ge(),result:eZe}),rZe=ou([Be({type:ou([ji("firstShredReceived"),ji("completed"),ji("optimisticConfirmation"),ji("root")]),slot:ge(),timestamp:ge()}),Be({type:ji("createdBank"),parent:ge(),slot:ge(),timestamp:ge()}),Be({type:ji("frozen"),slot:ge(),timestamp:ge(),stats:Be({numTransactionEntries:ge(),numSuccessfulTransactions:ge(),numFailedTransactions:ge(),maxTransactionsPerEntry:ge()})}),Be({type:ji("dead"),slot:ge(),timestamp:ge(),err:je()})]),nZe=Be({subscription:ge(),result:rZe}),sZe=Be({subscription:ge(),result:XK(ou([IYe,_Ye]))}),iZe=Be({subscription:ge(),result:ge()}),oZe=Be({pubkey:je(),gossip:Ot(je()),tpu:Ot(je()),rpc:Ot(je()),version:Ot(je())}),Mge=Be({votePubkey:je(),nodePubkey:je(),activatedStake:ge(),epochVoteAccount:qh(),epochCredits:Et(KJ([ge(),ge(),ge()])),commission:ge(),lastVote:ge(),rootSlot:Ot(ge())}),aZe=Qr(Be({current:Et(Mge),delinquent:Et(Mge)})),cZe=ou([ji("processed"),ji("confirmed"),ji("finalized")]),uZe=Be({slot:ge(),confirmations:Ot(ge()),err:hv,confirmationStatus:Sr(cZe)}),lZe=Do(Et(Ot(uZe))),dZe=Qr(ge()),b_e=Be({accountKey:ho,writableIndexes:Et(ge()),readonlyIndexes:Et(ge())}),YJ=Be({signatures:Et(je()),message:Be({accountKeys:Et(je()),header:Be({numRequiredSignatures:ge(),numReadonlySignedAccounts:ge(),numReadonlyUnsignedAccounts:ge()}),instructions:Et(Be({accounts:Et(ge()),data:je(),programIdIndex:ge()})),recentBlockhash:je(),addressTableLookups:Sr(Et(b_e))})}),S_e=Be({pubkey:ho,signer:qh(),writable:qh(),source:Sr(ou([ji("transaction"),ji("lookupTable")]))}),k_e=Be({accountKeys:Et(S_e),signatures:Et(je())}),v_e=Be({parsed:yR(),program:je(),programId:ho}),A_e=Be({accounts:Et(ho),data:je(),programId:ho}),fZe=ou([A_e,v_e]),hZe=ou([Be({parsed:yR(),program:je(),programId:je()}),Be({accounts:Et(je()),data:je(),programId:je()})]),w_e=M$(fZe,hZe,n=>"accounts"in n?pt(n,A_e):pt(n,v_e)),I_e=Be({signatures:Et(je()),message:Be({accountKeys:Et(S_e),instructions:Et(w_e),recentBlockhash:je(),addressTableLookups:Sr(Ot(Et(b_e)))})}),c4=Be({accountIndex:ge(),mint:je(),owner:Sr(je()),programId:Sr(je()),uiTokenAmount:KH}),__e=Be({writable:Et(ho),readonly:Et(ho)}),QK=Be({err:hv,fee:ge(),innerInstructions:Sr(Ot(Et(Be({index:ge(),instructions:Et(Be({accounts:Et(ge()),data:je(),programIdIndex:ge()}))})))),preBalances:Et(ge()),postBalances:Et(ge()),logMessages:Sr(Ot(Et(je()))),preTokenBalances:Sr(Ot(Et(c4))),postTokenBalances:Sr(Ot(Et(c4))),loadedAddresses:Sr(__e),computeUnitsConsumed:Sr(ge())}),ZJ=Be({err:hv,fee:ge(),innerInstructions:Sr(Ot(Et(Be({index:ge(),instructions:Et(w_e)})))),preBalances:Et(ge()),postBalances:Et(ge()),logMessages:Sr(Ot(Et(je()))),preTokenBalances:Sr(Ot(Et(c4))),postTokenBalances:Sr(Ot(Et(c4))),loadedAddresses:Sr(__e),computeUnitsConsumed:Sr(ge())}),pR=ou([ji(0),ji("legacy")]),gv=Be({pubkey:je(),lamports:ge(),postBalance:Ot(ge()),rewardType:Ot(je()),commission:Sr(Ot(ge()))}),gZe=Qr(Ot(Be({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),transactions:Et(Be({transaction:YJ,meta:Ot(QK),version:Sr(pR)})),rewards:Sr(Et(gv)),blockTime:Ot(ge()),blockHeight:Ot(ge())}))),mZe=Qr(Ot(Be({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),rewards:Sr(Et(gv)),blockTime:Ot(ge()),blockHeight:Ot(ge())}))),yZe=Qr(Ot(Be({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),transactions:Et(Be({transaction:k_e,meta:Ot(QK),version:Sr(pR)})),rewards:Sr(Et(gv)),blockTime:Ot(ge()),blockHeight:Ot(ge())}))),pZe=Qr(Ot(Be({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),transactions:Et(Be({transaction:I_e,meta:Ot(ZJ),version:Sr(pR)})),rewards:Sr(Et(gv)),blockTime:Ot(ge()),blockHeight:Ot(ge())}))),bZe=Qr(Ot(Be({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),transactions:Et(Be({transaction:k_e,meta:Ot(ZJ),version:Sr(pR)})),rewards:Sr(Et(gv)),blockTime:Ot(ge()),blockHeight:Ot(ge())}))),SZe=Qr(Ot(Be({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),rewards:Sr(Et(gv)),blockTime:Ot(ge()),blockHeight:Ot(ge())}))),kZe=Qr(Ot(Be({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),transactions:Et(Be({transaction:YJ,meta:Ot(QK)})),rewards:Sr(Et(gv)),blockTime:Ot(ge())}))),zge=Qr(Ot(Be({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),signatures:Et(je()),blockTime:Ot(ge())}))),MF=Qr(Ot(Be({slot:ge(),meta:Ot(QK),blockTime:Sr(Ot(ge())),transaction:YJ,version:Sr(pR)}))),c3=Qr(Ot(Be({slot:ge(),transaction:I_e,meta:Ot(ZJ),blockTime:Sr(Ot(ge())),version:Sr(pR)}))),vZe=Do(Be({blockhash:je(),feeCalculator:Be({lamportsPerSignature:ge()})})),AZe=Do(Be({blockhash:je(),lastValidBlockHeight:ge()})),wZe=Do(qh()),IZe=Be({slot:ge(),numTransactions:ge(),numSlots:ge(),samplePeriodSecs:ge()}),_Ze=Qr(Et(IZe)),PZe=Do(Ot(Be({feeCalculator:Be({lamportsPerSignature:ge()})}))),EZe=Qr(je()),xZe=Qr(je()),TZe=Be({err:hv,logs:Et(je()),signature:je()}),RZe=Be({result:XK(TZe),subscription:ge()}),BZe={"solana-client":"js/1.0.0-maintenance"};class CZe{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Vs(l),h=this._buildArgs([],d,void 0,y),m=Tge(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=pt(f,Qr(ge()));if("error"in g)throw new tr(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=mYe(e),this._rpcWsEndpoint=r||gYe(e),this._rpcClient=RYe(e,s,i,o,a,c),this._rpcRequest=BYe(this._rpcClient),this._rpcBatchRequest=CYe(this._rpcClient),this._rpcWebSocket=new lYe(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Vs(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=pt(o,Do(ge()));if("error"in a)throw new tr(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=pt(t,Qr(Ot(ge())));if("error"in r)throw new tr(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=pt(e,Qr(ge()));if("error"in t)throw new tr(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=pt(e,KYe);if("error"in t)throw new tr(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=pt(r,WYe);if("error"in s)throw new tr(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=pt(s,Do(KH));if("error"in i)throw new tr(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=pt(s,Do(KH));if("error"in i)throw new tr(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Vs(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=pt(c,FYe);if("error"in u)throw new tr(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=pt(o,UYe);if("error"in a)throw new tr(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=pt(s,VYe);if("error"in i)throw new tr(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=pt(s,NYe);if("error"in i)throw new tr(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Vs(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=pt(o,Do(Ot(QM)));if("error"in a)throw new tr(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Vs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=pt(o,Do(Ot(NH)));if("error"in a)throw new tr(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Vs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=pt(a,Do(Et(Ot(NH))));if("error"in c)throw new tr(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Vs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=pt(a,Do(Et(Ot(QM))));if("error"in c)throw new tr(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Vs(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=pt(a,Qr(GYe));if("error"in c)throw new tr(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Vs(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:Bge(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=Et(qYe),l=o.withContext===!0?pt(c,Do(u)):pt(c,Qr(u));if("error"in l)throw new tr(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Vs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=pt(o,Qr(Et(jYe)));if("error"in a)throw new tr(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Oc.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Qn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:pm.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:pm.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await oS(1e3),i||(h=await y(),i))return;d({__type:pm.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===pm.PROCESSED)l=d.response;else throw new UJ(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:pm.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await oS(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===pm.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await oS(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new FA(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new FA(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new FA(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new FA(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:pm.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===pm.PROCESSED)a=c.response;else throw new VJ(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=pt(e,Qr(Et(oZe)));if("error"in t)throw new tr(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=pt(r,aZe);if("error"in s)throw new tr(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Vs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=pt(i,Qr(ge()));if("error"in o)throw new tr(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Vs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=pt(i,Qr(je()));if("error"in o)throw new tr(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=pt(s,Qr(Et(ho)));if("error"in i)throw new tr(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Qn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=pt(s,lZe);if("error"in i)throw new tr(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Vs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=pt(i,Qr(ge()));if("error"in o)throw new tr(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=pt(r,MYe);if("error"in s)throw new tr(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Vs(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=pt(a,bYe);if("error"in c)throw new tr(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=pt(e,zYe);if("error"in t)throw new tr(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Vs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=pt(i,DYe);if("error"in o)throw new tr(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=pt(e,OYe);if("error"in t)throw new tr(t.error,"failed to get epoch schedule");const r=t.result;return new g_e(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=pt(e,LYe);if("error"in t)throw new tr(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=pt(s,dZe);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=pt(r,vZe);if("error"in s)throw new tr(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=pt(t,_Ze);if("error"in r)throw new tr(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=pt(s,PZe);if("error"in i)throw new tr(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=ln(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=pt(i,Do(Ot(ge())));if("error"in o)throw new tr(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=pt(s,$Ye);if("error"in i)throw new tr(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Vs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=pt(i,AZe);if("error"in o)throw new tr(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Vs(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=pt(o,wZe);if("error"in a)throw new tr(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=pt(e,Qr(PYe));if("error"in t)throw new tr(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=pt(e,Qr(je()));if("error"in t)throw new tr(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Vs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=pt(o,yZe);if("error"in a)throw a.error;return a.result}case"none":{const a=pt(o,mZe);if("error"in a)throw a.error;return a.result}default:{const a=pt(o,gZe);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:CF(d,u.message)},version:d}))}:null}}}catch(a){throw new tr(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Vs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=pt(o,bZe);if("error"in a)throw a.error;return a.result}case"none":{const a=pt(o,SZe);if("error"in a)throw a.error;return a.result}default:{const a=pt(o,pZe);if("error"in a)throw a.error;return a.result}}}catch(a){throw new tr(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=pt(i,TYe);if("error"in o)throw new tr(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Vs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=pt(o,MF);if("error"in a)throw new tr(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:CF(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Vs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=pt(o,c3);if("error"in a)throw new tr(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Vs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=pt(c,c3);if("error"in u)throw new tr(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Vs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=pt(c,MF);if("error"in u)throw new tr(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:CF(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=pt(s,kZe);if("error"in i)throw new tr(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new rf(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:as.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=pt(i,Qr(Et(ge())));if("error"in o)throw new tr(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=pt(s,zge);if("error"in i)throw new tr(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=pt(s,zge);if("error"in i)throw new tr(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=pt(s,MF);if("error"in i)throw new tr(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new rf(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:as.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=pt(s,c3);if("error"in i)throw new tr(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=pt(o,c3);if("error"in a)throw new tr(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=pt(i,YYe);if("error"in o)throw new tr(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=pt(i,ZYe);if("error"in o)throw new tr(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new LH({key:e,state:LH.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=JK.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=pt(r,EZe);if("error"in s)throw new tr(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await oS(100);const r=Date.now()-this._blockhashInfo.lastFetch>=y_e;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await oS(d_e/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Vs(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=pt(i,Do(ge()));if("error"in o)throw new tr(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=pt(p,Cge);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof as){let m=e;s=new as,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=as.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=pt(y,Cge);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new XM({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=ln(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=pt(a,xZe);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new XM({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=pt(e,JYe);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=Tge([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Qn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Vs(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=pt(e,QYe);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Vs(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:Bge(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=pt(e,RZe);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=pt(e,tZe);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=pt(e,nZe);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=pt(e,sZe);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=pt(e,iZe);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class gw{constructor(e){this._keypair=void 0,this._keypair=e??_ge()}static generate(){return new gw(_ge())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=a4(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new gw({publicKey:r,secretKey:e})}static fromSeed(e){const t=a4(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new gw({publicKey:t,secretKey:r})}get publicKey(){return new it(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Cm=Object.freeze({CreateLookupTable:{index:0,layout:N([F("instruction"),rI("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:N([F("instruction")])},ExtendLookupTable:{index:2,layout:N([F("instruction"),rI(),we(Tn(),Gt(F(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:N([F("instruction")])},CloseLookupTable:{index:4,layout:N([F("instruction")])}});class MZe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Cm))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Ss(Cm.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Ss(Cm.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new it(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(JJ.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class JJ{constructor(){}static createLookupTable(e){const[t,r]=it.findProgramAddressSync([e.authority.toBuffer(),ya(BigInt(e.recentSlot),8)],this.programId),s=Cm.CreateLookupTable,i=Nn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:mc.programId,isSigner:!1,isWritable:!1}];return[new $s({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Cm.FreezeLookupTable,r=Nn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new $s({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Cm.ExtendLookupTable,r=Nn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:mc.programId,isSigner:!1,isWritable:!1}),new $s({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Cm.DeactivateLookupTable,r=Nn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new $s({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Cm.CloseLookupTable,r=Nn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new $s({programId:this.programId,keys:s,data:r})}}JJ.programId=new it("AddressLookupTab1e1111111111111111111111111");class zZe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(sh))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=Ss(sh.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Ss(sh.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Ss(sh.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Ss(sh.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(XJ.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const sh=Object.freeze({RequestUnits:{index:0,layout:N([te("instruction"),F("units"),F("additionalFee")])},RequestHeapFrame:{index:1,layout:N([te("instruction"),F("bytes")])},SetComputeUnitLimit:{index:2,layout:N([te("instruction"),F("units")])},SetComputeUnitPrice:{index:3,layout:N([te("instruction"),rI("microLamports")])}});class XJ{constructor(){}static requestUnits(e){const t=sh.RequestUnits,r=Nn(t,e);return new $s({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=sh.RequestHeapFrame,r=Nn(t,e);return new $s({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=sh.SetComputeUnitLimit,r=Nn(t,e);return new $s({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=sh.SetComputeUnitPrice,r=Nn(t,{microLamports:BigInt(e.microLamports)});return new $s({keys:[],programId:this.programId,data:r})}}XJ.programId=new it("ComputeBudget111111111111111111111111111111");const $ge=64,Dge=32,Oge=64,Lge=N([te("numSignatures"),te("padding"),xe("signatureOffset"),xe("signatureInstructionIndex"),xe("publicKeyOffset"),xe("publicKeyInstructionIndex"),xe("messageDataOffset"),xe("messageDataSize"),xe("messageInstructionIndex")]);class e6{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Qn(t.length===Dge,`Public Key must be ${Dge} bytes but received ${t.length} bytes`),Qn(s.length===Oge,`Signature must be ${Oge} bytes but received ${s.length} bytes`);const o=Lge.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return Lge.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new $s({keys:[],programId:e6.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Qn(t.length===$ge,`Private key must be ${$ge} bytes but received ${t.length} bytes`);try{const i=gw.fromSecretKey(t),o=i.publicKey.toBytes(),a=NJ(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}e6.programId=new it("Ed25519SigVerify111111111111111111111111111");const $Ze=(n,e)=>{const t=GK.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};GK.utils.isValidPrivateKey;const DZe=GK.getPublicKey,Kge=32,zF=20,Wge=64,OZe=11,$F=N([te("numSignatures"),xe("signatureOffset"),te("signatureInstructionIndex"),xe("ethAddressOffset"),te("ethAddressInstructionIndex"),xe("messageDataOffset"),xe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class mw{constructor(){}static publicKeyToEthAddress(e){Qn(e.length===Wge,`Public key must be ${Wge} bytes but received ${e.length} bytes`);try{return V.Buffer.from(kge(ln(e))).slice(-zF)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return mw.createInstructionWithEthAddress({ethAddress:mw.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Qn(a.length===zF,`Address must be ${zF} bytes but received ${a.length} bytes`);const c=1+OZe,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc($F.span+r.length);return $F.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:ln(s),ethAddress:ln(a),recoveryId:i},h),h.fill(ln(r),$F.span),new $s({keys:[],programId:mw.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Qn(t.length===Kge,`Private key must be ${Kge} bytes but received ${t.length} bytes`);try{const i=ln(t),o=DZe(i,!1).slice(1),a=V.Buffer.from(kge(ln(r))),[c,u]=$Ze(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}mw.programId=new it("KeccakSecp256k11111111111111111111111111111");var P_e;const E_e=new it("StakeConfig11111111111111111111111111111111");class x_e{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class z${constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}P_e=z$;z$.default=new P_e(0,0,it.default);class LZe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ya))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=Ss(Ya.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new x_e(new it(t.staker),new it(t.withdrawer)),lockup:new z$(r.unixTimestamp,r.epoch,new it(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Ss(Ya.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=Ss(Ya.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new it(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=Ss(Ya.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new it(i),newAuthorizedPubkey:new it(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Ss(Ya.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Ss(Ya.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Ss(Ya.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Ss(Ya.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(t6.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ya=Object.freeze({Initialize:{index:0,layout:N([F("instruction"),KGe(),WGe()])},Authorize:{index:1,layout:N([F("instruction"),Tn("newAuthorized"),F("stakeAuthorizationType")])},Delegate:{index:2,layout:N([F("instruction")])},Split:{index:3,layout:N([F("instruction"),Ee("lamports")])},Withdraw:{index:4,layout:N([F("instruction"),Ee("lamports")])},Deactivate:{index:5,layout:N([F("instruction")])},Merge:{index:7,layout:N([F("instruction")])},AuthorizeWithSeed:{index:8,layout:N([F("instruction"),Tn("newAuthorized"),F("stakeAuthorizationType"),CS("authoritySeed"),Tn("authorityOwner")])}}),KZe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class t6{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||z$.default,o=Ya.Initialize,a=Nn(o,{authorized:{staker:ln(r.staker.toBuffer()),withdrawer:ln(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:ln(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:tI,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new $s(c)}static createAccountWithSeed(e){const t=new as;t.add(mc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new as;t.add(mc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=Ya.Delegate,o=Nn(i);return new as().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Ff,isSigner:!1,isWritable:!1},{pubkey:SL,isSigner:!1,isWritable:!1},{pubkey:E_e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=Ya.Authorize,c=Nn(a,{newAuthorized:ln(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ff,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new as().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Ya.AuthorizeWithSeed,l=Nn(u,{newAuthorized:ln(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:ln(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Ff,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new as().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=Ya.Split,a=Nn(o,{lamports:i});return new $s({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new as;return r.add(mc.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new as;return u.add(mc.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(mc.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=Ya.Merge,o=Nn(i);return new as().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Ff,isSigner:!1,isWritable:!1},{pubkey:SL,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=Ya.Withdraw,c=Nn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Ff,isSigner:!1,isWritable:!1},{pubkey:SL,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new as().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=Ya.Deactivate,i=Nn(s);return new as().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ff,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}t6.programId=new it("Stake11111111111111111111111111111111111111");t6.space=200;class T_e{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class WZe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ih))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Ss(ih.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new T_e(new it(t.nodePubkey),new it(t.authorizedVoter),new it(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=Ss(ih.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new it(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=Ss(ih.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new it(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new it(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Ss(ih.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(bR.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ih=Object.freeze({InitializeAccount:{index:0,layout:N([F("instruction"),NGe()])},Authorize:{index:1,layout:N([F("instruction"),Tn("newAuthorized"),F("voteAuthorizationType")])},Withdraw:{index:3,layout:N([F("instruction"),Ee("lamports")])},UpdateValidatorIdentity:{index:4,layout:N([F("instruction")])},AuthorizeWithSeed:{index:10,layout:N([F("instruction"),FGe()])}}),NZe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class bR{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=ih.InitializeAccount,o=Nn(i,{voteInit:{nodePubkey:ln(s.nodePubkey.toBuffer()),authorizedVoter:ln(s.authorizedVoter.toBuffer()),authorizedWithdrawer:ln(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:tI,isSigner:!1,isWritable:!1},{pubkey:Ff,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new $s(a)}static createAccount(e){const t=new as;return t.add(mc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=ih.Authorize,a=Nn(o,{newAuthorized:ln(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ff,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new as().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=ih.AuthorizeWithSeed,u=Nn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:ln(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:ln(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Ff,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new as().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=ih.Withdraw,a=Nn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new as().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return bR.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=ih.UpdateValidatorIdentity,o=Nn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new as().add({keys:a,programId:this.programId,data:o})}}bR.programId=new it("Vote111111111111111111111111111111111111111");bR.space=3762;const R_e=new it("Va1idator1nfo111111111111111111111111111111"),FZe=Be({name:je(),website:Sr(je()),details:Sr(je()),iconUrl:Sr(je()),keybaseUsername:Sr(je())});class QJ{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Du(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new it(Ou(t,0,Ch)),a=nh(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(R_e)&&s[1].isSigner){const i=CS().decode(V.Buffer.from(t)),o=JSON.parse(i);return XIe(o,FZe),new QJ(s[1].publicKey,o)}return null}}const UZe=new it("Vote111111111111111111111111111111111111111"),VZe=N([Tn("nodePubkey"),Tn("authorizedWithdrawer"),te("commission"),fe(),we(N([fe("slot"),F("confirmationCount")]),Gt(F(),-8),"votes"),te("rootSlotValid"),fe("rootSlot"),fe(),we(N([fe("epoch"),Tn("authorizedVoter")]),Gt(F(),-8),"authorizedVoters"),N([we(N([Tn("authorizedPubkey"),fe("epochOfLastAuthorizedSwitch"),fe("targetEpoch")]),32,"buf"),fe("idx"),te("isEmpty")],"priorVoters"),fe(),we(N([fe("epoch"),fe("credits"),fe("prevCredits")]),Gt(F(),-8),"epochCredits"),N([fe("slot"),fe("timestamp")],"lastTimestamp")]);class eX{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=VZe.decode(ln(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new eX({nodePubkey:new it(r.nodePubkey),authorizedWithdrawer:new it(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(qZe),priorVoters:HZe(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function qZe({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new it(n)}}function Nge({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new it(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function HZe({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(Nge),...n.slice(0,e).map(Nge)]}const Fge={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function jZe(n,e){const t=e===!1?"http":"https";if(!n)return Fge[t].devnet;const r=Fge[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function GZe(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new XM({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const YZe=1e9;var ZZe=Object.freeze(Object.defineProperty({__proto__:null,Account:DGe,AddressLookupTableAccount:LH,AddressLookupTableInstruction:MZe,AddressLookupTableProgram:JJ,Authorized:x_e,BLOCKHASH_CACHE_TIMEOUT_MS:y_e,BPF_LOADER_DEPRECATED_PROGRAM_ID:OGe,BPF_LOADER_PROGRAM_ID:nYe,BpfLoader:sYe,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:sh,ComputeBudgetInstruction:zZe,ComputeBudgetProgram:XJ,Connection:CZe,Ed25519Program:e6,Enum:zGe,EpochSchedule:g_e,FeeCalculatorLayout:f_e,Keypair:gw,LAMPORTS_PER_SOL:YZe,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Cm,Loader:bk,Lockup:z$,MAX_SEED_LENGTH:c_e,Message:rf,MessageAccountKeys:JM,MessageV0:pk,NONCE_ACCOUNT_LENGTH:OH,NonceAccount:JK,PACKET_DATA_SIZE:Yp,PUBLIC_KEY_LENGTH:Ch,PublicKey:it,SIGNATURE_LENGTH_IN_BYTES:ZM,SOLANA_SCHEMA:bM,STAKE_CONFIG_ID:E_e,STAKE_INSTRUCTION_LAYOUTS:Ya,SYSTEM_INSTRUCTION_LAYOUTS:ei,SYSVAR_CLOCK_PUBKEY:Ff,SYSVAR_EPOCH_SCHEDULE_PUBKEY:jGe,SYSVAR_INSTRUCTIONS_PUBKEY:GGe,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:bL,SYSVAR_RENT_PUBKEY:tI,SYSVAR_REWARDS_PUBKEY:YGe,SYSVAR_SLOT_HASHES_PUBKEY:ZGe,SYSVAR_SLOT_HISTORY_PUBKEY:JGe,SYSVAR_STAKE_HISTORY_PUBKEY:SL,Secp256k1Program:mw,SendTransactionError:XM,SolanaJSONRPCError:tr,SolanaJSONRPCErrorCode:XGe,StakeAuthorizationLayout:KZe,StakeInstruction:LZe,StakeProgram:t6,Struct:FJ,SystemInstruction:tYe,SystemProgram:mc,Transaction:as,TransactionExpiredBlockheightExceededError:UJ,TransactionExpiredNonceInvalidError:FA,TransactionExpiredTimeoutError:VJ,TransactionInstruction:$s,TransactionMessage:HJ,TransactionStatus:pm,VALIDATOR_INFO_KEY:R_e,VERSION_PREFIX_MASK:YK,VOTE_PROGRAM_ID:UZe,ValidatorInfo:QJ,VersionedMessage:qJ,VersionedTransaction:jJ,VoteAccount:eX,VoteAuthorizationLayout:NZe,VoteInit:T_e,VoteInstruction:WZe,VoteProgram:bR,clusterApiUrl:jZe,sendAndConfirmRawTransaction:GZe,sendAndConfirmTransaction:DH},Symbol.toStringTag,{value:"Module"})),W0=Wl(ZZe);const JZe={withStackTrace:!1},B_e=(n,e,t=JZe)=>{const r=e.isOk()?{type:"Ok",value:e.value}:{type:"Err",value:e.error},s=t.withStackTrace?new Error().stack:void 0;return{data:r,message:n,stack:s}};function Vv(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function Uge(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Uf(n){return this instanceof Uf?(this.v=n,this):new Uf(n)}function Vge(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(h){return function(m){return Promise.resolve(m).then(h,d)}}function a(h,m){r[h]&&(s[h]=function(f){return new Promise(function(g,b){i.push([h,f,g,b])>1||c(h,f)})},m&&(s[h]=m(s[h])))}function c(h,m){try{u(r[h](m))}catch(f){y(i[0][3],f)}}function u(h){h.value instanceof Uf?Promise.resolve(h.value.v).then(l,d):y(i[0][2],h)}function l(h){c("next",h)}function d(h){c("throw",h)}function y(h,m){h(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}function XZe(n){var e,t;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=n[s]?function(o){return(t=!t)?{value:Uf(n[s](o)),done:!1}:i?i(o):o}:i}}function QZe(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Uge=="function"?Uge(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(o){return new Promise(function(a,c){o=n[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}class oa{constructor(e){this._promise=e}static fromSafePromise(e){const t=e.then(r=>new Dd(r));return new oa(t)}static fromPromise(e,t){const r=e.then(s=>new Dd(s)).catch(s=>new Od(t(s)));return new oa(r)}static fromThrowable(e,t){return(...r)=>new oa((()=>Vv(this,void 0,void 0,function*(){try{return new Dd(yield e(...r))}catch(s){return new Od(t?t(s):s)}}))())}static combine(e){return sJe(e)}static combineWithAllErrors(e){return iJe(e)}map(e){return new oa(this._promise.then(t=>Vv(this,void 0,void 0,function*(){return t.isErr()?new Od(t.error):new Dd(yield e(t.value))})))}andThrough(e){return new oa(this._promise.then(t=>Vv(this,void 0,void 0,function*(){if(t.isErr())return new Od(t.error);const r=yield e(t.value);return r.isErr()?new Od(r.error):new Dd(t.value)})))}andTee(e){return new oa(this._promise.then(t=>Vv(this,void 0,void 0,function*(){if(t.isErr())return new Od(t.error);try{yield e(t.value)}catch{}return new Dd(t.value)})))}mapErr(e){return new oa(this._promise.then(t=>Vv(this,void 0,void 0,function*(){return t.isOk()?new Dd(t.value):new Od(yield e(t.error))})))}andThen(e){return new oa(this._promise.then(t=>{if(t.isErr())return new Od(t.error);const r=e(t.value);return r instanceof oa?r._promise:r}))}orElse(e){return new oa(this._promise.then(t=>Vv(this,void 0,void 0,function*(){return t.isErr()?e(t.error):new Dd(t.value)})))}match(e,t){return this._promise.then(r=>r.match(e,t))}unwrapOr(e){return this._promise.then(t=>t.unwrapOr(e))}safeUnwrap(){return Vge(this,arguments,function*(){return yield Uf(yield Uf(yield*XZe(QZe(yield Uf(this._promise.then(t=>t.safeUnwrap()))))))})}then(e,t){return this._promise.then(e,t)}[Symbol.asyncIterator](){return Vge(this,arguments,function*(){const t=yield Uf(this._promise);return t.isErr()&&(yield yield Uf(SM(t.error))),yield Uf(t.value)})}}const eJe=n=>new oa(Promise.resolve(new Dd(n))),SM=n=>new oa(Promise.resolve(new Od(n))),tJe=oa.fromPromise,rJe=oa.fromSafePromise,nJe=oa.fromThrowable,C_e=n=>{let e=Np([]);for(const t of n)if(t.isErr()){e=Vf(t.error);break}else e.map(r=>r.push(t.value));return e},sJe=n=>oa.fromSafePromise(Promise.all(n)).andThen(C_e),M_e=n=>{let e=Np([]);for(const t of n)t.isErr()&&e.isErr()?e.error.push(t.error):t.isErr()&&e.isOk()?e=Vf([t.error]):t.isOk()&&e.isOk()&&e.value.push(t.value);return e},iJe=n=>oa.fromSafePromise(Promise.all(n)).andThen(M_e);var u4;(function(n){function e(s,i){return(...o)=>{try{const a=s(...o);return Np(a)}catch(a){return Vf(i?i(a):a)}}}n.fromThrowable=e;function t(s){return C_e(s)}n.combine=t;function r(s){return M_e(s)}n.combineWithAllErrors=r})(u4||(u4={}));const Np=n=>new Dd(n);function Vf(n){return new Od(n)}function oJe(n){const e=n().next();return e instanceof Promise?new oa(e.then(t=>t.value)):e.value}class Dd{constructor(e){this.value=e}isOk(){return!0}isErr(){return!this.isOk()}map(e){return Np(e(this.value))}mapErr(e){return Np(this.value)}andThen(e){return e(this.value)}andThrough(e){return e(this.value).map(t=>this.value)}andTee(e){try{e(this.value)}catch{}return Np(this.value)}orElse(e){return Np(this.value)}asyncAndThen(e){return e(this.value)}asyncAndThrough(e){return e(this.value).map(()=>this.value)}asyncMap(e){return oa.fromSafePromise(e(this.value))}unwrapOr(e){return this.value}match(e,t){return e(this.value)}safeUnwrap(){const e=this.value;return function*(){return e}()}_unsafeUnwrap(e){return this.value}_unsafeUnwrapErr(e){throw B_e("Called `_unsafeUnwrapErr` on an Ok",this,e)}*[Symbol.iterator](){return this.value}}class Od{constructor(e){this.error=e}isOk(){return!1}isErr(){return!this.isOk()}map(e){return Vf(this.error)}mapErr(e){return Vf(e(this.error))}andThrough(e){return Vf(this.error)}andTee(e){return Vf(this.error)}andThen(e){return Vf(this.error)}orElse(e){return e(this.error)}asyncAndThen(e){return SM(this.error)}asyncAndThrough(e){return SM(this.error)}asyncMap(e){return SM(this.error)}unwrapOr(e){return e}match(e,t){return t(this.error)}safeUnwrap(){const e=this.error;return function*(){throw yield Vf(e),new Error("Do not use this generator out of `safeTry`")}()}_unsafeUnwrap(e){throw B_e("Called `_unsafeUnwrap` on an Err",this,e)}_unsafeUnwrapErr(e){return this.error}*[Symbol.iterator](){const e=this;return yield e,e}}const aJe=u4.fromThrowable;var cJe=Object.freeze(Object.defineProperty({__proto__:null,Err:Od,Ok:Dd,get Result(){return u4},ResultAsync:oa,err:Vf,errAsync:SM,fromAsyncThrowable:nJe,fromPromise:tJe,fromSafePromise:rJe,fromThrowable:aJe,ok:Np,okAsync:eJe,safeTry:oJe},Symbol.toStringTag,{value:"Module"})),$$=Wl(cJe),tX={},Jb={},N0={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.EXEMPTION_THRESHOLD=n.LAMPORTS_PER_BYTE_YEAR=n.ACCOUNT_STORAGE_OVERHEAD=n.snakeCaseToTitleCase=n.getElementOrError=n.isNull=void 0,n.optionalToArray=t,n.remapObject=r,n.fixedSizeArray=s,n.fixedSizeArrayInit=i,n.fixedSizeArrayFromArray=o,n.arrayDeepEquals=a,n.stringToByteArray=c,n.byteArrayToString=u,n.assertNever=l,n.staticImplements=d,n.normalizeArray=m,n.calculateMinimumRent=g;const e=rR.exports;function t(b){return b==null?[]:[b]}function r(b,S){return Object.entries(b).map(([p,I])=>({[p]:S(I,p)})).reduce((p,I)=>Object.assign(Object.assign({},p),I))}function s(b,S){return new Array(b).fill(S)}function i(b,S){return(0,e.range)(0,b).map(S)}function o(b,S){return S.length===b?S:null}function a(b,S,p){return b.length!==S.length?!1:b.reduce((I,w,A)=>{const P=S[A];return P==null?!1:I&&p(w,P)},!0)}function c(b,S){const p=new TextEncoder().encode(b);if(S===void 0)return Array.from(p);if(p.length>S)throw new Error("name too long");return Array.from(p).concat(new Array(S-p.length).fill(0))}function u(b){const S=b.findIndex(p=>p===0);return new TextDecoder().decode(Uint8Array.from(b).slice(0,S===-1?void 0:S))}function l(b){throw new Error("Unexpected object: "+b)}function d(){return b=>{}}const y=b=>Object.values(b).every(S=>S===null);n.isNull=y;const h=(b,S)=>{const p=b[S];if(p==null)throw new Error(`element at index ${S} doesn't exist in ${typeof b}`);return p};n.getElementOrError=h;function m(b){return Array.isArray(b)?b:[b]}const f=b=>{const S=b.replace(/([A-Z])/g," $1");return S.charAt(0).toUpperCase()+S.slice(1)};n.snakeCaseToTitleCase=f,n.ACCOUNT_STORAGE_OVERHEAD=128,n.LAMPORTS_PER_BYTE_YEAR=1e9/100*365/(1024*1024),n.EXEMPTION_THRESHOLD=2;function g(b){return(n.ACCOUNT_STORAGE_OVERHEAD+b)*n.LAMPORTS_PER_BYTE_YEAR*n.EXEMPTION_THRESHOLD}})(N0);var rX={},r6={},sa={},z_e={},nc={},Zp={},bf={};Object.defineProperty(bf,"__esModule",{value:!0});bf.anumber=ez;bf.number=ez;bf.abytes=n6;bf.bytes=n6;bf.ahash=$_e;bf.aexists=D_e;bf.aoutput=O_e;function ez(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function uJe(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function n6(n,...e){if(!uJe(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function $_e(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ez(n.outputLen),ez(n.blockLen)}function D_e(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function O_e(n,e){n6(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}const lJe={number:ez,bytes:n6,hash:$_e,exists:D_e,output:O_e};bf.default=lJe;var s6={},i6={};Object.defineProperty(i6,"__esModule",{value:!0});i6.crypto=void 0;i6.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(n){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(n,"__esModule",{value:!0}),n.Hash=n.nextTick=n.byteSwapIfBE=n.byteSwap=n.isLE=n.rotl=n.rotr=n.createView=n.u32=n.u8=void 0,n.isBytes=r,n.byteSwap32=l,n.bytesToHex=y,n.hexToBytes=f,n.asyncLoop=b,n.utf8ToBytes=S,n.toBytes=p,n.concatBytes=I,n.checkOpts=A,n.wrapConstructor=P,n.wrapConstructorWithOpts=E,n.wrapXOFConstructorWithOpts=M,n.randomBytes=x;const e=i6,t=bf;function r(R){return R instanceof Uint8Array||ArrayBuffer.isView(R)&&R.constructor.name==="Uint8Array"}const s=R=>new Uint8Array(R.buffer,R.byteOffset,R.byteLength);n.u8=s;const i=R=>new Uint32Array(R.buffer,R.byteOffset,Math.floor(R.byteLength/4));n.u32=i;const o=R=>new DataView(R.buffer,R.byteOffset,R.byteLength);n.createView=o;const a=(R,$)=>R<<32-$|R>>>$;n.rotr=a;const c=(R,$)=>R<<$|R>>>32-$>>>0;n.rotl=c,n.isLE=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();const u=R=>R<<24&4278190080|R<<8&16711680|R>>>8&65280|R>>>24&255;n.byteSwap=u,n.byteSwapIfBE=n.isLE?R=>R:R=>(0,n.byteSwap)(R);function l(R){for(let $=0;$<R.length;$++)R[$]=(0,n.byteSwap)(R[$])}const d=Array.from({length:256},(R,$)=>$.toString(16).padStart(2,"0"));function y(R){(0,t.abytes)(R);let $="";for(let z=0;z<R.length;z++)$+=d[R[z]];return $}const h={_0:48,_9:57,A:65,F:70,a:97,f:102};function m(R){if(R>=h._0&&R<=h._9)return R-h._0;if(R>=h.A&&R<=h.F)return R-(h.A-10);if(R>=h.a&&R<=h.f)return R-(h.a-10)}function f(R){if(typeof R!="string")throw new Error("hex string expected, got "+typeof R);const $=R.length,z=$/2;if($%2)throw new Error("padded hex string expected, got unpadded hex of length "+$);const T=new Uint8Array(z);for(let v=0,k=0;v<z;v++,k+=2){const _=m(R.charCodeAt(k)),B=m(R.charCodeAt(k+1));if(_===void 0||B===void 0){const C=R[k]+R[k+1];throw new Error('hex string expected, got non-hex character "'+C+'" at index '+k)}T[v]=_*16+B}return T}const g=async()=>{};n.nextTick=g;async function b(R,$,z){let T=Date.now();for(let v=0;v<R;v++){z(v);const k=Date.now()-T;k>=0&&k<$||(await(0,n.nextTick)(),T+=k)}}function S(R){if(typeof R!="string")throw new Error("utf8ToBytes expected string, got "+typeof R);return new Uint8Array(new TextEncoder().encode(R))}function p(R){return typeof R=="string"&&(R=S(R)),(0,t.abytes)(R),R}function I(...R){let $=0;for(let T=0;T<R.length;T++){const v=R[T];(0,t.abytes)(v),$+=v.length}const z=new Uint8Array($);for(let T=0,v=0;T<R.length;T++){const k=R[T];z.set(k,v),v+=k.length}return z}class w{clone(){return this._cloneInto()}}n.Hash=w;function A(R,$){if($!==void 0&&{}.toString.call($)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(R,$)}function P(R){const $=T=>R().update(p(T)).digest(),z=R();return $.outputLen=z.outputLen,$.blockLen=z.blockLen,$.create=()=>R(),$}function E(R){const $=(T,v)=>R(v).update(p(T)).digest(),z=R({});return $.outputLen=z.outputLen,$.blockLen=z.blockLen,$.create=T=>R(T),$}function M(R){const $=(T,v)=>R(v).update(p(T)).digest(),z=R({});return $.outputLen=z.outputLen,$.blockLen=z.blockLen,$.create=T=>R(T),$}function x(R=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(R));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(R);throw new Error("crypto.getRandomValues must be defined")}})(s6);Object.defineProperty(Zp,"__esModule",{value:!0});Zp.HashMD=Zp.Maj=Zp.Chi=void 0;const DF=bf,rB=s6;function dJe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const fJe=(n,e,t)=>n&e^~n&t;Zp.Chi=fJe;const hJe=(n,e,t)=>n&e^n&t^e&t;Zp.Maj=hJe;class gJe extends rB.Hash{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,rB.createView)(this.buffer)}update(e){(0,DF.aexists)(this);const{view:t,buffer:r,blockLen:s}=this;e=(0,rB.toBytes)(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=(0,rB.createView)(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,DF.aexists)(this),(0,DF.aoutput)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;dJe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=(0,rB.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}Zp.HashMD=gJe;var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.add5L=Mr.add5H=Mr.add4H=Mr.add4L=Mr.add3H=Mr.add3L=Mr.rotlBL=Mr.rotlBH=Mr.rotlSL=Mr.rotlSH=Mr.rotr32L=Mr.rotr32H=Mr.rotrBL=Mr.rotrBH=Mr.rotrSL=Mr.rotrSH=Mr.shrSL=Mr.shrSH=Mr.toBig=void 0;Mr.fromBig=nX;Mr.split=L_e;Mr.add=X_e;const u3=BigInt(2**32-1),FH=BigInt(32);function nX(n,e=!1){return e?{h:Number(n&u3),l:Number(n>>FH&u3)}:{h:Number(n>>FH&u3)|0,l:Number(n&u3)|0}}function L_e(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=nX(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const K_e=(n,e)=>BigInt(n>>>0)<<FH|BigInt(e>>>0);Mr.toBig=K_e;const W_e=(n,e,t)=>n>>>t;Mr.shrSH=W_e;const N_e=(n,e,t)=>n<<32-t|e>>>t;Mr.shrSL=N_e;const F_e=(n,e,t)=>n>>>t|e<<32-t;Mr.rotrSH=F_e;const U_e=(n,e,t)=>n<<32-t|e>>>t;Mr.rotrSL=U_e;const V_e=(n,e,t)=>n<<64-t|e>>>t-32;Mr.rotrBH=V_e;const q_e=(n,e,t)=>n>>>t-32|e<<64-t;Mr.rotrBL=q_e;const H_e=(n,e)=>e;Mr.rotr32H=H_e;const j_e=(n,e)=>n;Mr.rotr32L=j_e;const G_e=(n,e,t)=>n<<t|e>>>32-t;Mr.rotlSH=G_e;const Y_e=(n,e,t)=>e<<t|n>>>32-t;Mr.rotlSL=Y_e;const Z_e=(n,e,t)=>e<<t-32|n>>>64-t;Mr.rotlBH=Z_e;const J_e=(n,e,t)=>n<<t-32|e>>>64-t;Mr.rotlBL=J_e;function X_e(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const Q_e=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0);Mr.add3L=Q_e;const ePe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0;Mr.add3H=ePe;const tPe=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0);Mr.add4L=tPe;const rPe=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0;Mr.add4H=rPe;const nPe=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0);Mr.add5L=nPe;const sPe=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0;Mr.add5H=sPe;const mJe={fromBig:nX,split:L_e,toBig:K_e,shrSH:W_e,shrSL:N_e,rotrSH:F_e,rotrSL:U_e,rotrBH:V_e,rotrBL:q_e,rotr32H:H_e,rotr32L:j_e,rotlSH:G_e,rotlSL:Y_e,rotlBH:Z_e,rotlBL:J_e,add:X_e,add3L:Q_e,add3H:ePe,add4L:tPe,add4H:rPe,add5H:sPe,add5L:nPe};Mr.default=mJe;Object.defineProperty(nc,"__esModule",{value:!0});nc.sha384=nc.sha512_256=nc.sha512_224=nc.sha512=nc.SHA384=nc.SHA512_256=nc.SHA512_224=nc.SHA512=void 0;const yJe=Zp,Fr=Mr,o6=s6,[pJe,bJe]=(()=>Fr.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Cy=new Uint32Array(80),My=new Uint32Array(80);class D$ extends yJe.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Cy[p]=e.getUint32(t),My[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Cy[p-15]|0,w=My[p-15]|0,A=Fr.default.rotrSH(I,w,1)^Fr.default.rotrSH(I,w,8)^Fr.default.shrSH(I,w,7),P=Fr.default.rotrSL(I,w,1)^Fr.default.rotrSL(I,w,8)^Fr.default.shrSL(I,w,7),E=Cy[p-2]|0,M=My[p-2]|0,x=Fr.default.rotrSH(E,M,19)^Fr.default.rotrBH(E,M,61)^Fr.default.shrSH(E,M,6),R=Fr.default.rotrSL(E,M,19)^Fr.default.rotrBL(E,M,61)^Fr.default.shrSL(E,M,6),$=Fr.default.add4L(P,R,My[p-7],My[p-16]),z=Fr.default.add4H($,A,x,Cy[p-7],Cy[p-16]);Cy[p]=z|0,My[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Fr.default.rotrSH(d,y,14)^Fr.default.rotrSH(d,y,18)^Fr.default.rotrBH(d,y,41),w=Fr.default.rotrSL(d,y,14)^Fr.default.rotrSL(d,y,18)^Fr.default.rotrBL(d,y,41),A=d&h^~d&f,P=y&m^~y&g,E=Fr.default.add5L(S,w,P,bJe[p],My[p]),M=Fr.default.add5H(E,b,I,A,pJe[p],Cy[p]),x=E|0,R=Fr.default.rotrSH(r,s,28)^Fr.default.rotrBH(r,s,34)^Fr.default.rotrBH(r,s,39),$=Fr.default.rotrSL(r,s,28)^Fr.default.rotrBL(r,s,34)^Fr.default.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Fr.default.add(u|0,l|0,M|0,x|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Fr.default.add3L(x,$,T);r=Fr.default.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Fr.default.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Fr.default.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Fr.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Fr.default.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Fr.default.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Fr.default.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Fr.default.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Fr.default.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Cy.fill(0),My.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}nc.SHA512=D$;class iPe extends D${constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}nc.SHA512_224=iPe;class oPe extends D${constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}nc.SHA512_256=oPe;class aPe extends D${constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}nc.SHA384=aPe;nc.sha512=(0,o6.wrapConstructor)(()=>new D$);nc.sha512_224=(0,o6.wrapConstructor)(()=>new iPe);nc.sha512_256=(0,o6.wrapConstructor)(()=>new oPe);nc.sha384=(0,o6.wrapConstructor)(()=>new aPe);var sX={},SR={},Rs={},On={};Object.defineProperty(On,"__esModule",{value:!0});On.notImplemented=On.bitMask=void 0;On.isBytes=u6;On.abytes=l6;On.abool=kJe;On.bytesToHex=iX;On.numberToHexUnpadded=cPe;On.hexToNumber=oX;On.hexToBytes=d6;On.bytesToNumberBE=AJe;On.bytesToNumberLE=wJe;On.numberToBytesBE=uPe;On.numberToBytesLE=IJe;On.numberToVarBytesBE=_Je;On.ensureBytes=PJe;On.concatBytes=lPe;On.equalBytes=EJe;On.utf8ToBytes=xJe;On.inRange=dPe;On.aInRange=TJe;On.bitLen=RJe;On.bitGet=BJe;On.bitSet=CJe;On.createHmacDrbg=zJe;On.validateObject=DJe;On.memoized=LJe;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const a6=BigInt(0),c6=BigInt(1),SJe=BigInt(2);function u6(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function l6(n){if(!u6(n))throw new Error("Uint8Array expected")}function kJe(n,e){if(typeof e!="boolean")throw new Error(n+" boolean expected, got "+e)}const vJe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function iX(n){l6(n);let e="";for(let t=0;t<n.length;t++)e+=vJe[n[t]];return e}function cPe(n){const e=n.toString(16);return e.length&1?"0"+e:e}function oX(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?a6:BigInt("0x"+n)}const Ig={_0:48,_9:57,A:65,F:70,a:97,f:102};function qge(n){if(n>=Ig._0&&n<=Ig._9)return n-Ig._0;if(n>=Ig.A&&n<=Ig.F)return n-(Ig.A-10);if(n>=Ig.a&&n<=Ig.f)return n-(Ig.a-10)}function d6(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=qge(n.charCodeAt(i)),a=qge(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function AJe(n){return oX(iX(n))}function wJe(n){return l6(n),oX(iX(Uint8Array.from(n).reverse()))}function uPe(n,e){return d6(n.toString(16).padStart(e*2,"0"))}function IJe(n,e){return uPe(n,e).reverse()}function _Je(n){return d6(cPe(n))}function PJe(n,e,t){let r;if(typeof e=="string")try{r=d6(e)}catch(i){throw new Error(n+" must be hex string or Uint8Array, cause: "+i)}else if(u6(e))r=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(n+" of length "+t+" expected, got "+s);return r}function lPe(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];l6(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function EJe(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function xJe(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}const OF=n=>typeof n=="bigint"&&a6<=n;function dPe(n,e,t){return OF(n)&&OF(e)&&OF(t)&&e<=n&&n<t}function TJe(n,e,t,r){if(!dPe(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}function RJe(n){let e;for(e=0;n>a6;n>>=c6,e+=1);return e}function BJe(n,e){return n>>BigInt(e)&c6}function CJe(n,e,t){return n|(t?c6:a6)<<BigInt(e)}const MJe=n=>(SJe<<BigInt(n-1))-c6;On.bitMask=MJe;const LF=n=>new Uint8Array(n),Hge=n=>Uint8Array.from(n);function zJe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=LF(n),s=LF(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=LF())=>{s=a(Hge([0]),d),r=a(),d.length!==0&&(s=a(Hge([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return lPe(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const $Je={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||u6(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function DJe(n,e,t={}){const r=(s,i,o)=>{const a=$Je[i];if(typeof a!="function")throw new Error("invalid validator function");const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const OJe=()=>{throw new Error("not implemented")};On.notImplemented=OJe;function LJe(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}Object.defineProperty(Rs,"__esModule",{value:!0});Rs.isNegativeLE=void 0;Rs.mod=kl;Rs.pow=fPe;Rs.pow2=WJe;Rs.invert=l4;Rs.tonelliShanks=hPe;Rs.FpSqrt=gPe;Rs.validateField=UJe;Rs.FpPow=mPe;Rs.FpInvertBatch=yPe;Rs.FpDiv=VJe;Rs.FpLegendre=pPe;Rs.FpIsSquare=qJe;Rs.nLength=aX;Rs.Field=HJe;Rs.FpSqrtOdd=jJe;Rs.FpSqrtEven=GJe;Rs.hashToPrivateScalar=YJe;Rs.getFieldBytesLength=cX;Rs.getMinHashLength=bPe;Rs.mapHashToField=ZJe;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bl=On,Pc=BigInt(0),ci=BigInt(1),Cp=BigInt(2),KJe=BigInt(3),UH=BigInt(4),jge=BigInt(5),Gge=BigInt(8);function kl(n,e){const t=n%e;return t>=Pc?t:e+t}function fPe(n,e,t){if(e<Pc)throw new Error("invalid exponent, negatives unsupported");if(t<=Pc)throw new Error("invalid modulus");if(t===ci)return Pc;let r=ci;for(;e>Pc;)e&ci&&(r=r*n%t),n=n*n%t,e>>=ci;return r}function WJe(n,e,t){let r=n;for(;e-- >Pc;)r*=r,r%=t;return r}function l4(n,e){if(n===Pc)throw new Error("invert: expected non-zero number");if(e<=Pc)throw new Error("invert: expected positive modulus, got "+e);let t=kl(n,e),r=e,s=Pc,i=ci;for(;t!==Pc;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==ci)throw new Error("invert: does not exist");return kl(s,e)}function hPe(n){const e=(n-ci)/Cp;let t,r,s;for(t=n-ci,r=0;t%Cp===Pc;t/=Cp,r++);for(s=Cp;s<n&&fPe(s,e,n)!==n-ci;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(n+ci)/UH;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+ci)/Cp;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,ci<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function gPe(n){if(n%UH===KJe){const e=(n+ci)/UH;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Gge===jge){const e=(n-jge)/Gge;return function(r,s){const i=r.mul(s,Cp),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,Cp),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return hPe(n)}const NJe=(n,e)=>(kl(n,e)&ci)===ci;Rs.isNegativeLE=NJe;const FJe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function UJe(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=FJe.reduce((r,s)=>(r[s]="function",r),e);return(0,Bl.validateObject)(n,t)}function mPe(n,e,t){if(t<Pc)throw new Error("invalid exponent, negatives unsupported");if(t===Pc)return n.ONE;if(t===ci)return e;let r=n.ONE,s=e;for(;t>Pc;)t&ci&&(r=n.mul(r,s)),s=n.sqr(s),t>>=ci;return r}function yPe(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function VJe(n,e,t){return n.mul(e,typeof t=="bigint"?l4(t,n.ORDER):n.inv(t))}function pPe(n){const e=(n-ci)/Cp;return(t,r)=>t.pow(r,e)}function qJe(n){const e=pPe(n.ORDER);return t=>{const r=e(n,t);return n.eql(r,n.ZERO)||n.eql(r,n.ONE)}}function aX(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function HJe(n,e,t=!1,r={}){if(n<=Pc)throw new Error("invalid field: expected ORDER > 0, got "+n);const{nBitLength:s,nByteLength:i}=aX(n,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:(0,Bl.bitMask)(s),ZERO:Pc,ONE:ci,create:c=>kl(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Pc<=c&&c<n},is0:c=>c===Pc,isOdd:c=>(c&ci)===ci,neg:c=>kl(-c,n),eql:(c,u)=>c===u,sqr:c=>kl(c*c,n),add:(c,u)=>kl(c+u,n),sub:(c,u)=>kl(c-u,n),mul:(c,u)=>kl(c*u,n),pow:(c,u)=>mPe(a,c,u),div:(c,u)=>kl(c*l4(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>l4(c,n),sqrt:r.sqrt||(c=>(o||(o=gPe(n)),o(a,c))),invertBatch:c=>yPe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?(0,Bl.numberToBytesLE)(c,i):(0,Bl.numberToBytesBE)(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return t?(0,Bl.bytesToNumberLE)(c):(0,Bl.bytesToNumberBE)(c)}});return Object.freeze(a)}function jJe(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?t:n.neg(t)}function GJe(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?n.neg(t):t}function YJe(n,e,t=!1){n=(0,Bl.ensureBytes)("privateHash",n);const r=n.length,s=aX(e).nByteLength+8;if(s<24||r<s||r>1024)throw new Error("hashToPrivateScalar: expected "+s+"-1024 bytes of input, got "+r);const i=t?(0,Bl.bytesToNumberLE)(n):(0,Bl.bytesToNumberBE)(n);return kl(i,e-ci)+ci}function cX(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function bPe(n){const e=cX(n);return e+Math.ceil(e/2)}function ZJe(n,e,t=!1){const r=n.length,s=cX(e),i=bPe(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=t?(0,Bl.bytesToNumberBE)(n):(0,Bl.bytesToNumberLE)(n),a=kl(o,e-ci)+ci;return t?(0,Bl.numberToBytesLE)(a,s):(0,Bl.numberToBytesBE)(a,s)}Object.defineProperty(SR,"__esModule",{value:!0});SR.wNAF=JJe;SR.pippenger=XJe;SR.precomputeMSMUnsafe=QJe;SR.validateBasic=eXe;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yge=Rs,SPe=On,Zge=BigInt(0),l3=BigInt(1);function KF(n,e){const t=e.negate();return n?t:e}function uX(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function WF(n,e){uX(n,e);const t=Math.ceil(e/n)+1,r=2**(n-1);return{windows:t,windowSize:r}}function kPe(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})}function vPe(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}const NF=new WeakMap,APe=new WeakMap;function FF(n){return APe.get(n)||1}function JJe(n,e){return{constTimeNegate:KF,hasPrecomputes(t){return FF(t)!==1},unsafeLadder(t,r,s=n.ZERO){let i=t;for(;r>Zge;)r&l3&&(s=s.add(i)),i=i.double(),r>>=l3;return s},precomputeWindow(t,r){const{windows:s,windowSize:i}=WF(r,e),o=[];let a=t,c=a;for(let u=0;u<s;u++){c=a,o.push(c);for(let l=1;l<i;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(t,r,s){const{windows:i,windowSize:o}=WF(t,e);let a=n.ZERO,c=n.BASE;const u=BigInt(2**t-1),l=2**t,d=BigInt(t);for(let y=0;y<i;y++){const h=y*o;let m=Number(s&u);s>>=d,m>o&&(m-=l,s+=l3);const f=h,g=h+Math.abs(m)-1,b=y%2!==0,S=m<0;m===0?c=c.add(KF(b,r[f])):a=a.add(KF(S,r[g]))}return{p:a,f:c}},wNAFUnsafe(t,r,s,i=n.ZERO){const{windows:o,windowSize:a}=WF(t,e),c=BigInt(2**t-1),u=2**t,l=BigInt(t);for(let d=0;d<o;d++){const y=d*a;if(s===Zge)break;let h=Number(s&c);if(s>>=l,h>a&&(h-=u,s+=l3),h===0)continue;let m=r[y+Math.abs(h)-1];h<0&&(m=m.negate()),i=i.add(m)}return i},getPrecomputes(t,r,s){let i=NF.get(r);return i||(i=this.precomputeWindow(r,t),t!==1&&NF.set(r,s(i))),i},wNAFCached(t,r,s){const i=FF(t);return this.wNAF(i,this.getPrecomputes(i,t,s),r)},wNAFCachedUnsafe(t,r,s,i){const o=FF(t);return o===1?this.unsafeLadder(t,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,t,s),r,i)},setWindowSize(t,r){uX(r,e),APe.set(t,r),NF.delete(t)}}}function XJe(n,e,t,r){if(kPe(t,n),vPe(r,e),t.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=n.ZERO,i=(0,SPe.bitLen)(BigInt(t.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),u=Math.floor((e.BITS-1)/o)*o;let l=s;for(let d=u;d>=0;d-=o){c.fill(s);for(let h=0;h<r.length;h++){const m=r[h],f=Number(m>>BigInt(d)&BigInt(a));c[f]=c[f].add(t[h])}let y=s;for(let h=c.length-1,m=s;h>0;h--)m=m.add(c[h]),y=y.add(m);if(l=l.add(y),d!==0)for(let h=0;h<o;h++)l=l.double()}return l}function QJe(n,e,t,r){uX(r,e.BITS),kPe(t,n);const s=n.ZERO,i=2**r-1,o=Math.ceil(e.BITS/r),a=BigInt((1<<r)-1),c=t.map(u=>{const l=[];for(let d=0,y=u;d<i;d++)l.push(y),y=y.add(u);return l});return u=>{if(vPe(u,e),u.length>t.length)throw new Error("array of scalars must be smaller than array of points");let l=s;for(let d=0;d<o;d++){if(l!==s)for(let h=0;h<r;h++)l=l.double();const y=BigInt(o*r-(d+1)*r);for(let h=0;h<u.length;h++){const m=u[h],f=Number(m>>y&a);!f||(l=l.add(c[h][f-1]))}}return l}}function eXe(n){return(0,Yge.validateField)(n.Fp),(0,SPe.validateObject)(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,Yge.nLength)(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}Object.defineProperty(sX,"__esModule",{value:!0});sX.twistedEdwards=sXe;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const VH=SR,Jge=Rs,Ru=On,Su=On,kd=BigInt(0),ku=BigInt(1),d3=BigInt(2),tXe=BigInt(8),rXe={zip215:!0};function nXe(n){const e=(0,VH.validateBasic)(n);return Ru.validateObject(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function sXe(n){const e=nXe(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=d3<<BigInt(a*8)-ku,l=t.create,d=(0,Jge.Field)(e.n,e.nBitLength),y=e.uvRatio||((k,_)=>{try{return{isValid:!0,value:t.sqrt(k*t.inv(_))}}catch{return{isValid:!1,value:kd}}}),h=e.adjustScalarBytes||(k=>k),m=e.domain||((k,_,B)=>{if((0,Su.abool)("phflag",B),_.length||B)throw new Error("Contexts/pre-hash are not supported");return k});function f(k,_){Ru.aInRange("coordinate "+k,_,kd,u)}function g(k){if(!(k instanceof p))throw new Error("ExtendedPoint expected")}const b=(0,Su.memoized)((k,_)=>{const{ex:B,ey:C,ez:O}=k,D=k.is0();_==null&&(_=D?tXe:t.inv(O));const W=l(B*_),L=l(C*_),U=l(O*_);if(D)return{x:kd,y:ku};if(U!==ku)throw new Error("invZ was invalid");return{x:W,y:L}}),S=(0,Su.memoized)(k=>{const{a:_,d:B}=e;if(k.is0())throw new Error("bad point: ZERO");const{ex:C,ey:O,ez:D,et:W}=k,L=l(C*C),U=l(O*O),q=l(D*D),J=l(q*q),Q=l(L*_),j=l(q*l(Q+U)),X=l(J+l(B*l(L*U)));if(j!==X)throw new Error("bad point: equation left != right (1)");const re=l(C*O),se=l(D*W);if(re!==se)throw new Error("bad point: equation left != right (2)");return!0});class p{constructor(_,B,C,O){this.ex=_,this.ey=B,this.ez=C,this.et=O,f("x",_),f("y",B),f("z",C),f("t",O),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(_){if(_ instanceof p)throw new Error("extended point not allowed");const{x:B,y:C}=_||{};return f("x",B),f("y",C),new p(B,C,ku,l(B*C))}static normalizeZ(_){const B=t.invertBatch(_.map(C=>C.ez));return _.map((C,O)=>C.toAffine(B[O])).map(p.fromAffine)}static msm(_,B){return(0,VH.pippenger)(p,d,_,B)}_setWindowSize(_){A.setWindowSize(this,_)}assertValidity(){S(this)}equals(_){g(_);const{ex:B,ey:C,ez:O}=this,{ex:D,ey:W,ez:L}=_,U=l(B*L),q=l(D*O),J=l(C*L),Q=l(W*O);return U===q&&J===Q}is0(){return this.equals(p.ZERO)}negate(){return new p(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:_}=e,{ex:B,ey:C,ez:O}=this,D=l(B*B),W=l(C*C),L=l(d3*l(O*O)),U=l(_*D),q=B+C,J=l(l(q*q)-D-W),Q=U+W,j=Q-L,X=U-W,re=l(J*j),se=l(Q*X),ee=l(J*X),ne=l(j*Q);return new p(re,se,ne,ee)}add(_){g(_);const{a:B,d:C}=e,{ex:O,ey:D,ez:W,et:L}=this,{ex:U,ey:q,ez:J,et:Q}=_;if(B===BigInt(-1)){const _t=l((D-O)*(q+U)),tt=l((D+O)*(q-U)),Ve=l(tt-_t);if(Ve===kd)return this.double();const qt=l(W*d3*Q),lr=l(L*d3*J),ur=lr+qt,hr=tt+_t,Rr=lr-qt,ms=l(ur*Ve),kn=l(hr*Rr),ys=l(ur*Rr),Ul=l(Ve*hr);return new p(ms,kn,Ul,ys)}const j=l(O*U),X=l(D*q),re=l(L*C*Q),se=l(W*J),ee=l((O+D)*(U+q)-j-X),ne=se-re,_e=se+re,Pe=l(X-B*j),We=l(ee*ne),Ne=l(_e*Pe),Yt=l(ee*Pe),$t=l(ne*_e);return new p(We,Ne,$t,Yt)}subtract(_){return this.add(_.negate())}wNAF(_){return A.wNAFCached(this,_,p.normalizeZ)}multiply(_){const B=_;Ru.aInRange("scalar",B,ku,r);const{p:C,f:O}=this.wNAF(B);return p.normalizeZ([C,O])[0]}multiplyUnsafe(_,B=p.ZERO){const C=_;return Ru.aInRange("scalar",C,kd,r),C===kd?w:this.is0()||C===ku?this:A.wNAFCachedUnsafe(this,C,p.normalizeZ,B)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(_){return b(this,_)}clearCofactor(){const{h:_}=e;return _===ku?this:this.multiplyUnsafe(_)}static fromHex(_,B=!1){const{d:C,a:O}=e,D=t.BYTES;_=(0,Su.ensureBytes)("pointHex",_,D),(0,Su.abool)("zip215",B);const W=_.slice(),L=_[D-1];W[D-1]=L&-129;const U=Ru.bytesToNumberLE(W),q=B?u:t.ORDER;Ru.aInRange("pointHex.y",U,kd,q);const J=l(U*U),Q=l(J-ku),j=l(C*J-O);let{isValid:X,value:re}=y(Q,j);if(!X)throw new Error("Point.fromHex: invalid y coordinate");const se=(re&ku)===ku,ee=(L&128)!==0;if(!B&&re===kd&&ee)throw new Error("Point.fromHex: x=0 and x_0=1");return ee!==se&&(re=l(-re)),p.fromAffine({x:re,y:U})}static fromPrivateKey(_){return M(_).point}toRawBytes(){const{x:_,y:B}=this.toAffine(),C=Ru.numberToBytesLE(B,t.BYTES);return C[C.length-1]|=_&ku?128:0,C}toHex(){return Ru.bytesToHex(this.toRawBytes())}}p.BASE=new p(e.Gx,e.Gy,ku,l(e.Gx*e.Gy)),p.ZERO=new p(kd,ku,ku,kd);const{BASE:I,ZERO:w}=p,A=(0,VH.wNAF)(p,a*8);function P(k){return(0,Jge.mod)(k,r)}function E(k){return P(Ru.bytesToNumberLE(k))}function M(k){const _=t.BYTES;k=(0,Su.ensureBytes)("private key",k,_);const B=(0,Su.ensureBytes)("hashed private key",i(k),2*_),C=h(B.slice(0,_)),O=B.slice(_,2*_),D=E(C),W=I.multiply(D),L=W.toRawBytes();return{head:C,prefix:O,scalar:D,point:W,pointBytes:L}}function x(k){return M(k).pointBytes}function R(k=new Uint8Array,..._){const B=Ru.concatBytes(..._);return E(i(m(B,(0,Su.ensureBytes)("context",k),!!s)))}function $(k,_,B={}){k=(0,Su.ensureBytes)("message",k),s&&(k=s(k));const{prefix:C,scalar:O,pointBytes:D}=M(_),W=R(B.context,C,k),L=I.multiply(W).toRawBytes(),U=R(B.context,L,D,k),q=P(W+U*O);Ru.aInRange("signature.s",q,kd,r);const J=Ru.concatBytes(L,Ru.numberToBytesLE(q,t.BYTES));return(0,Su.ensureBytes)("result",J,t.BYTES*2)}const z=rXe;function T(k,_,B,C=z){const{context:O,zip215:D}=C,W=t.BYTES;k=(0,Su.ensureBytes)("signature",k,2*W),_=(0,Su.ensureBytes)("message",_),B=(0,Su.ensureBytes)("publicKey",B,W),D!==void 0&&(0,Su.abool)("zip215",D),s&&(_=s(_));const L=Ru.bytesToNumberLE(k.slice(W,2*W));let U,q,J;try{U=p.fromHex(B,D),q=p.fromHex(k.slice(0,W),D),J=I.multiplyUnsafe(L)}catch{return!1}if(!D&&U.isSmallOrder())return!1;const Q=R(O,q.toRawBytes(),U.toRawBytes(),_);return q.add(U.multiplyUnsafe(Q)).subtract(J).clearCofactor().equals(p.ZERO)}return I._setWindowSize(8),{CURVE:e,getPublicKey:x,sign:$,verify:T,ExtendedPoint:p,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>o(t.BYTES),precompute(k=8,_=p.BASE){return _._setWindowSize(k),_.multiply(BigInt(3)),_}}}}var mv={};Object.defineProperty(mv,"__esModule",{value:!0});mv.expand_message_xmd=wPe;mv.expand_message_xof=IPe;mv.hash_to_field=qH;mv.isogenyMap=cXe;mv.createHasher=uXe;const iXe=Rs,Hc=On,oXe=Hc.bytesToNumberBE;function _p(n,e){if(tz(n),tz(e),n<0||n>=1<<8*e)throw new Error("invalid I2OSP input: "+n);const t=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)t[r]=n&255,n>>>=8;return new Uint8Array(t)}function aXe(n,e){const t=new Uint8Array(n.length);for(let r=0;r<n.length;r++)t[r]=n[r]^e[r];return t}function tz(n){if(!Number.isSafeInteger(n))throw new Error("number expected")}function wPe(n,e,t,r){(0,Hc.abytes)(n),(0,Hc.abytes)(e),tz(t),e.length>255&&(e=r((0,Hc.concatBytes)((0,Hc.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));const{outputLen:s,blockLen:i}=r,o=Math.ceil(t/s);if(t>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=(0,Hc.concatBytes)(e,_p(e.length,1)),c=_p(0,i),u=_p(t,2),l=new Array(o),d=r((0,Hc.concatBytes)(c,n,u,_p(0,1),a));l[0]=r((0,Hc.concatBytes)(d,_p(1,1),a));for(let h=1;h<=o;h++){const m=[aXe(d,l[h-1]),_p(h+1,1),a];l[h]=r((0,Hc.concatBytes)(...m))}return(0,Hc.concatBytes)(...l).slice(0,t)}function IPe(n,e,t,r,s){if((0,Hc.abytes)(n),(0,Hc.abytes)(e),tz(t),e.length>255){const i=Math.ceil(2*r/8);e=s.create({dkLen:i}).update((0,Hc.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(t>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:t}).update(n).update(_p(t,2)).update(e).update(_p(e.length,1)).digest()}function qH(n,e,t){(0,Hc.validateObject)(t,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:s,m:i,hash:o,expand:a,DST:c}=t;(0,Hc.abytes)(n),tz(e);const u=typeof c=="string"?(0,Hc.utf8ToBytes)(c):c,l=r.toString(2).length,d=Math.ceil((l+s)/8),y=e*i*d;let h;if(a==="xmd")h=wPe(n,u,y,o);else if(a==="xof")h=IPe(n,u,y,s,o);else if(a==="_internal_pass")h=n;else throw new Error('expand must be "xmd" or "xof"');const m=new Array(e);for(let f=0;f<e;f++){const g=new Array(i);for(let b=0;b<i;b++){const S=d*(b+f*i),p=h.subarray(S,S+d);g[b]=(0,iXe.mod)(oXe(p),r)}m[f]=g}return m}function cXe(n,e){const t=e.map(r=>Array.from(r).reverse());return(r,s)=>{const[i,o,a,c]=t.map(u=>u.reduce((l,d)=>n.add(n.mul(l,r),d)));return r=n.div(i,o),s=n.mul(s,n.div(a,c)),{x:r,y:s}}}function uXe(n,e,t){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,s){const i=qH(r,2,{...t,DST:t.DST,...s}),o=n.fromAffine(e(i[0])),a=n.fromAffine(e(i[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,s){const i=qH(r,1,{...t,DST:t.encodeDST,...s}),o=n.fromAffine(e(i[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const i of r)if(typeof i!="bigint")throw new Error("mapToCurve: expected array of bigints");const s=n.fromAffine(e(r)).clearCofactor();return s.assertValidity(),s}}}var lX={};Object.defineProperty(lX,"__esModule",{value:!0});lX.montgomery=dXe;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xge=Rs,bp=On,qv=BigInt(0),UF=BigInt(1);function lXe(n){return(0,bp.validateObject)(n,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...n})}function dXe(n){const e=lXe(n),{P:t}=e,r=S=>(0,Xge.mod)(S,t),s=e.montgomeryBits,i=Math.ceil(s/8),o=e.nByteLength,a=e.adjustScalarBytes||(S=>S),c=e.powPminus2||(S=>(0,Xge.pow)(S,t-BigInt(2),t));function u(S,p,I){const w=r(S*(p-I));return p=r(p-w),I=r(I+w),[p,I]}const l=(e.a-BigInt(2))/BigInt(4);function d(S,p){(0,bp.aInRange)("u",S,qv,t),(0,bp.aInRange)("scalar",p,qv,t);const I=p,w=S;let A=UF,P=qv,E=S,M=UF,x=qv,R;for(let z=BigInt(s-1);z>=qv;z--){const T=I>>z&UF;x^=T,R=u(x,A,E),A=R[0],E=R[1],R=u(x,P,M),P=R[0],M=R[1],x=T;const v=A+P,k=r(v*v),_=A-P,B=r(_*_),C=k-B,O=E+M,D=E-M,W=r(D*v),L=r(O*_),U=W+L,q=W-L;E=r(U*U),M=r(w*r(q*q)),A=r(k*B),P=r(C*(k+r(l*C)))}R=u(x,A,E),A=R[0],E=R[1],R=u(x,P,M),P=R[0],M=R[1];const $=c(P);return r(A*$)}function y(S){return(0,bp.numberToBytesLE)(r(S),i)}function h(S){const p=(0,bp.ensureBytes)("u coordinate",S,i);return o===32&&(p[31]&=127),(0,bp.bytesToNumberLE)(p)}function m(S){const p=(0,bp.ensureBytes)("scalar",S),I=p.length;if(I!==i&&I!==o){let w=""+i+" or "+o;throw new Error("invalid scalar, expected "+w+" bytes, got "+I)}return(0,bp.bytesToNumberLE)(a(p))}function f(S,p){const I=h(p),w=m(S),A=d(I,w);if(A===qv)throw new Error("invalid private or public key received");return y(A)}const g=y(e.Gu);function b(S){return f(S,g)}return{scalarMult:f,scalarMultBase:b,getSharedSecret:(S,p)=>f(S,p),getPublicKey:S=>b(S),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:g}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.hash_to_ristretto255=n.hashToRistretto255=n.RistrettoPoint=n.encodeToCurve=n.hashToCurve=n.edwardsToMontgomery=n.x25519=n.ed25519ph=n.ed25519ctx=n.ed25519=n.ED25519_TORSION_SUBGROUP=void 0,n.edwardsToMontgomeryPub=A,n.edwardsToMontgomeryPriv=P;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=nc,t=s6,r=sX,s=mv,i=Rs,o=lX,a=On,c=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),u=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),l=BigInt(0),d=BigInt(1),y=BigInt(2),h=BigInt(3),m=BigInt(5),f=BigInt(8);function g(Q){const j=BigInt(10),X=BigInt(20),re=BigInt(40),se=BigInt(80),ee=c,_e=Q*Q%ee*Q%ee,Pe=(0,i.pow2)(_e,y,ee)*_e%ee,We=(0,i.pow2)(Pe,d,ee)*Q%ee,Ne=(0,i.pow2)(We,m,ee)*We%ee,Yt=(0,i.pow2)(Ne,j,ee)*Ne%ee,$t=(0,i.pow2)(Yt,X,ee)*Yt%ee,_t=(0,i.pow2)($t,re,ee)*$t%ee,tt=(0,i.pow2)(_t,se,ee)*_t%ee,Ve=(0,i.pow2)(tt,se,ee)*_t%ee,qt=(0,i.pow2)(Ve,j,ee)*Ne%ee;return{pow_p_5_8:(0,i.pow2)(qt,y,ee)*Q%ee,b2:_e}}function b(Q){return Q[0]&=248,Q[31]&=127,Q[31]|=64,Q}function S(Q,j){const X=c,re=(0,i.mod)(j*j*j,X),se=(0,i.mod)(re*re*j,X),ee=g(Q*se).pow_p_5_8;let ne=(0,i.mod)(Q*re*ee,X);const _e=(0,i.mod)(j*ne*ne,X),Pe=ne,We=(0,i.mod)(ne*u,X),Ne=_e===Q,Yt=_e===(0,i.mod)(-Q,X),$t=_e===(0,i.mod)(-Q*u,X);return Ne&&(ne=Pe),(Yt||$t)&&(ne=We),(0,i.isNegativeLE)(ne,X)&&(ne=(0,i.mod)(-ne,X)),{isValid:Ne||Yt,value:ne}}n.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const p=(()=>(0,i.Field)(c,void 0,!0))(),I=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:p,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:f,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:e.sha512,randomBytes:t.randomBytes,adjustScalarBytes:b,uvRatio:S}))();n.ed25519=(()=>(0,r.twistedEdwards)(I))();function w(Q,j,X){if(j.length>255)throw new Error("Context is too big");return(0,t.concatBytes)((0,t.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([X?1:0,j.length]),j,Q)}n.ed25519ctx=(()=>(0,r.twistedEdwards)({...I,domain:w}))(),n.ed25519ph=(()=>(0,r.twistedEdwards)(Object.assign({},I,{domain:w,prehash:e.sha512})))(),n.x25519=(()=>(0,o.montgomery)({P:c,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Q=>{const j=c,{pow_p_5_8:X,b2:re}=g(Q);return(0,i.mod)((0,i.pow2)(X,h,j)*re,j)},adjustScalarBytes:b,randomBytes:t.randomBytes}))();function A(Q){const{y:j}=n.ed25519.ExtendedPoint.fromHex(Q),X=BigInt(1);return p.toBytes(p.create((X+j)*p.inv(X-j)))}n.edwardsToMontgomery=A;function P(Q){const j=I.hash(Q.subarray(0,32));return I.adjustScalarBytes(j).subarray(0,32)}const E=(()=>(p.ORDER+h)/f)(),M=(()=>p.pow(y,E))(),x=(()=>p.sqrt(p.neg(p.ONE)))();function R(Q){const j=(p.ORDER-m)/f,X=BigInt(486662);let re=p.sqr(Q);re=p.mul(re,y);let se=p.add(re,p.ONE),ee=p.neg(X),ne=p.sqr(se),_e=p.mul(ne,se),Pe=p.mul(re,X);Pe=p.mul(Pe,ee),Pe=p.add(Pe,ne),Pe=p.mul(Pe,ee);let We=p.sqr(_e);ne=p.sqr(We),We=p.mul(We,_e),We=p.mul(We,Pe),ne=p.mul(ne,We);let Ne=p.pow(ne,j);Ne=p.mul(Ne,We);let Yt=p.mul(Ne,x);ne=p.sqr(Ne),ne=p.mul(ne,_e);let $t=p.eql(ne,Pe),_t=p.cmov(Yt,Ne,$t),tt=p.mul(ee,re),Ve=p.mul(Ne,Q);Ve=p.mul(Ve,M);let qt=p.mul(Ve,x),lr=p.mul(Pe,re);ne=p.sqr(Ve),ne=p.mul(ne,_e);let ur=p.eql(ne,lr),hr=p.cmov(qt,Ve,ur);ne=p.sqr(_t),ne=p.mul(ne,_e);let Rr=p.eql(ne,Pe),ms=p.cmov(tt,ee,Rr),kn=p.cmov(hr,_t,Rr),ys=p.isOdd(kn);return kn=p.cmov(kn,p.neg(kn),Rr!==ys),{xMn:ms,xMd:se,yMn:kn,yMd:d}}const $=(()=>(0,i.FpSqrtEven)(p,p.neg(BigInt(486664))))();function z(Q){const{xMn:j,xMd:X,yMn:re,yMd:se}=R(Q);let ee=p.mul(j,se);ee=p.mul(ee,$);let ne=p.mul(X,re),_e=p.sub(j,X),Pe=p.add(j,X),We=p.mul(ne,Pe),Ne=p.eql(We,p.ZERO);ee=p.cmov(ee,p.ZERO,Ne),ne=p.cmov(ne,p.ONE,Ne),_e=p.cmov(_e,p.ONE,Ne),Pe=p.cmov(Pe,p.ONE,Ne);const Yt=p.invertBatch([ne,Pe]);return{x:p.mul(ee,Yt[0]),y:p.mul(_e,Yt[1])}}const T=(()=>(0,s.createHasher)(n.ed25519.ExtendedPoint,Q=>z(Q[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:p.ORDER,m:1,k:128,expand:"xmd",hash:e.sha512}))();n.hashToCurve=(()=>T.hashToCurve)(),n.encodeToCurve=(()=>T.encodeToCurve)();function v(Q){if(!(Q instanceof q))throw new Error("RistrettoPoint expected")}const k=u,_=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),B=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),C=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),O=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),D=Q=>S(d,Q),W=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),L=Q=>n.ed25519.CURVE.Fp.create((0,a.bytesToNumberLE)(Q)&W);function U(Q){const{d:j}=n.ed25519.CURVE,X=n.ed25519.CURVE.Fp.ORDER,re=n.ed25519.CURVE.Fp.create,se=re(k*Q*Q),ee=re((se+d)*C);let ne=BigInt(-1);const _e=re((ne-j*se)*re(se+j));let{isValid:Pe,value:We}=S(ee,_e),Ne=re(We*Q);(0,i.isNegativeLE)(Ne,X)||(Ne=re(-Ne)),Pe||(We=Ne),Pe||(ne=se);const Yt=re(ne*(se-d)*O-_e),$t=We*We,_t=re((We+We)*_e),tt=re(Yt*_),Ve=re(d-$t),qt=re(d+$t);return new n.ed25519.ExtendedPoint(re(_t*qt),re(Ve*tt),re(tt*qt),re(_t*Ve))}class q{constructor(j){this.ep=j}static fromAffine(j){return new q(n.ed25519.ExtendedPoint.fromAffine(j))}static hashToCurve(j){j=(0,a.ensureBytes)("ristrettoHash",j,64);const X=L(j.slice(0,32)),re=U(X),se=L(j.slice(32,64)),ee=U(se);return new q(re.add(ee))}static fromHex(j){j=(0,a.ensureBytes)("ristrettoHex",j,32);const{a:X,d:re}=n.ed25519.CURVE,se=n.ed25519.CURVE.Fp.ORDER,ee=n.ed25519.CURVE.Fp.create,ne="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",_e=L(j);if(!(0,a.equalBytes)((0,a.numberToBytesLE)(_e,32),j)||(0,i.isNegativeLE)(_e,se))throw new Error(ne);const Pe=ee(_e*_e),We=ee(d+X*Pe),Ne=ee(d-X*Pe),Yt=ee(We*We),$t=ee(Ne*Ne),_t=ee(X*re*Yt-$t),{isValid:tt,value:Ve}=D(ee(_t*$t)),qt=ee(Ve*Ne),lr=ee(Ve*qt*_t);let ur=ee((_e+_e)*qt);(0,i.isNegativeLE)(ur,se)&&(ur=ee(-ur));const hr=ee(We*lr),Rr=ee(ur*hr);if(!tt||(0,i.isNegativeLE)(Rr,se)||hr===l)throw new Error(ne);return new q(new n.ed25519.ExtendedPoint(ur,hr,d,Rr))}toRawBytes(){let{ex:j,ey:X,ez:re,et:se}=this.ep;const ee=n.ed25519.CURVE.Fp.ORDER,ne=n.ed25519.CURVE.Fp.create,_e=ne(ne(re+X)*ne(re-X)),Pe=ne(j*X),We=ne(Pe*Pe),{value:Ne}=D(ne(_e*We)),Yt=ne(Ne*_e),$t=ne(Ne*Pe),_t=ne(Yt*$t*se);let tt;if((0,i.isNegativeLE)(se*_t,ee)){let qt=ne(X*k),lr=ne(j*k);j=qt,X=lr,tt=ne(Yt*B)}else tt=$t;(0,i.isNegativeLE)(j*_t,ee)&&(X=ne(-X));let Ve=ne((re-X)*tt);return(0,i.isNegativeLE)(Ve,ee)&&(Ve=ne(-Ve)),(0,a.numberToBytesLE)(Ve,32)}toHex(){return(0,a.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(j){v(j);const{ex:X,ey:re}=this.ep,{ex:se,ey:ee}=j.ep,ne=n.ed25519.CURVE.Fp.create,_e=ne(X*ee)===ne(re*se),Pe=ne(re*ee)===ne(X*se);return _e||Pe}add(j){return v(j),new q(this.ep.add(j.ep))}subtract(j){return v(j),new q(this.ep.subtract(j.ep))}multiply(j){return new q(this.ep.multiply(j))}multiplyUnsafe(j){return new q(this.ep.multiplyUnsafe(j))}double(){return new q(this.ep.double())}negate(){return new q(this.ep.negate())}}n.RistrettoPoint=(()=>(q.BASE||(q.BASE=new q(n.ed25519.ExtendedPoint.BASE)),q.ZERO||(q.ZERO=new q(n.ed25519.ExtendedPoint.ZERO)),q))();const J=(Q,j)=>{const X=j.DST,re=typeof X=="string"?(0,t.utf8ToBytes)(X):X,se=(0,s.expand_message_xmd)(Q,re,64,e.sha512);return q.hashToCurve(se)};n.hashToRistretto255=J,n.hash_to_ristretto255=n.hashToRistretto255})(z_e);var f6={},dX={};Object.defineProperty(dX,"__esModule",{value:!0});function fXe(n){if(n.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<n.length;u++){const l=n.charAt(u),d=l.charCodeAt(0);if(e[d]!==255)throw new TypeError(l+" is ambiguous");e[d]=u}const t=n.length,r=n.charAt(0),s=Math.log(t)/Math.log(256),i=Math.log(256)/Math.log(t);function o(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let l=0,d=0,y=0;const h=u.length;for(;y!==h&&u[y]===0;)y++,l++;const m=(h-y)*i+1>>>0,f=new Uint8Array(m);for(;y!==h;){let S=u[y],p=0;for(let I=m-1;(S!==0||p<d)&&I!==-1;I--,p++)S+=256*f[I]>>>0,f[I]=S%t>>>0,S=S/t>>>0;if(S!==0)throw new Error("Non-zero carry");d=p,y++}let g=m-d;for(;g!==m&&f[g]===0;)g++;let b=r.repeat(l);for(;g<m;++g)b+=n.charAt(f[g]);return b}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let l=0,d=0,y=0;for(;u[l]===r;)d++,l++;const h=(u.length-l)*s+1>>>0,m=new Uint8Array(h);for(;u[l];){let S=e[u.charCodeAt(l)];if(S===255)return;let p=0;for(let I=h-1;(S!==0||p<y)&&I!==-1;I--,p++)S+=t*m[I]>>>0,m[I]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");y=p,l++}let f=h-y;for(;f!==h&&m[f]===0;)f++;const g=new Uint8Array(d+(h-f));let b=d;for(;f!==h;)g[b++]=m[f++];return g}function c(u){const l=a(u);if(l)return l;throw new Error("Non-base"+t+" character")}return{encode:o,decodeUnsafe:a,decode:c}}dX.default=fXe;var hXe=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(f6,"__esModule",{value:!0});var gXe=hXe(dX),mXe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";f6.default=(0,gXe.default)(mXe);var Kl=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},_Pe=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(sa,"__esModule",{value:!0});sa.isVersionedTransaction=kR;sa.verifySignatures=PPe;sa.getSignature=SXe;sa.ixToIxReturn=kXe;sa.ixReturnsToIxs=vXe;sa.buildAndSignTransaction=EPe;sa.buildAndSignTransactions=xPe;sa.formatExplorerMessageLink=AXe;sa.formatExplorerLink=TPe;sa.convertBuildTransactionReturn=RPe;sa.buildTransactionsFromIxWithSigners=BPe;sa.signTransactionReturns=CPe;sa.buildAndSignTransactionsFromIxWithSigners=MPe;sa.sendAndConfirmTransaction=zPe;sa.sendTransaction=wXe;sa.buildSendAndCheck=IXe;sa.prettyTransaction=_Xe;const yXe=z_e,Qge=W0,pXe=_Pe(GL.exports),bXe=_Pe(f6),eme=$$,rz=N0;function kR(n){return"version"in n}function PPe(n){if(kR(n)){const e=n.message.serialize();for(const[t,r]of n.signatures.entries()){const s=n.message.staticAccountKeys[t];if(r.every(i=>i===0))throw new Error(`Missing required signature for key ${s} at index ${t}`);if(!yXe.ed25519.verify(r,e,s.toBytes()))throw new Error(`Signature ${t} failed to verify for key ${s}`)}}else n.serialize()}function SXe(n){const e=kR(n)?n.signatures[0]:n.signature;return e?bXe.default.encode(e):void 0}function kXe(n,e=[]){return()=>Kl(this,void 0,void 0,function*(){return{signers:e,instruction:n}})}function vXe(n,e){return Kl(this,void 0,void 0,function*(){return(yield Promise.all((0,rz.normalizeArray)(n).map(r=>r(e)))).flat().map(r=>r.instruction)})}function EPe(n,e,t){return Kl(this,arguments,void 0,function*(r,s,i,o=[]){const a=(yield xPe([{ixs:r,connectionOrRbh:i,lookupTables:o}],s))[0];if(a===void 0)throw new Error("Transaction was not built correctly");return a})}function xPe(n,e){return Kl(this,void 0,void 0,function*(){return yield MPe(yield Promise.all(n.map(t=>Kl(this,[t],void 0,function*({ixs:r,connectionOrRbh:s,lookupTables:i}){return{ixs:(0,rz.normalizeArray)(yield Promise.all((0,rz.normalizeArray)(r).map(o=>o(e)))).flat(),connectionOrRbh:s,lookupTables:i}}))),e)})}function AXe(n,e){const t=encodeURIComponent(e.rpcEndpoint);let r;return kR(n)?r=rt.Buffer.from(n.message.serialize()):r=n.serializeMessage(),`https://explorer.solana.com/tx/inspector?message=${encodeURIComponent(r.toString("base64"))}&cluster=custom&customUrl=${t}`}function TPe(n,e){const t=encodeURIComponent(e.rpcEndpoint);return`https://explorer.solana.com/tx/${n}?cluster=custom&customUrl=${t}`}function RPe(n){const e=Qge.MessageV0.compile(n.compileArgs),t=new Qge.VersionedTransaction(e);return Object.assign(Object.assign({},n),{transaction:t})}function BPe(n,e){return Kl(this,void 0,void 0,function*(){const t=new Map;if("signer"in e){const s=e.signer.publicKey().toBase58(),i={signer:e.signer,transactions:new Set};for(let o=0;o<n.length;o++)i.transactions.add(o);t.set(s,i)}const r="signer"in e?e.signer.publicKey():e.key;return{tx:yield Promise.all(n.map((s,i)=>Kl(this,[s,i],void 0,function*({ixs:o,connectionOrRbh:a,lookupTables:c},u){const l=(0,rz.normalizeArray)(o);for(const f of l.flatMap(g=>g.signers)){const g=f.publicKey().toBase58(),b=t.get(g);b===void 0?t.set(g,{signer:f,transactions:new Set([u])}):b.transactions.add(u)}let d,y;"connection"in a?(d=yield a.connection.getLatestBlockhash(a.commitment),y=a.commitment||a.connection.commitment||"processed"):(d=a.rbh,y=a.commitment);const h=l.map(f=>f.instruction);return{compileArgs:{addressLookupTableAccounts:c,instructions:[...h],payerKey:r,recentBlockhash:d.blockhash},commitment:y,rbh:d}}))),signers:t}})}function CPe(n,e){return Kl(this,void 0,void 0,function*(){const t=r=>Kl(this,[r],void 0,function*({signer:s,transactions:i}){const o=n.map((c,u)=>({tx:c,index:u})).filter(({index:c})=>i.has(c)),a=yield s.signAll(o.map(({tx:c})=>c.transaction));(0,pXe.default)(a.length===o.length);for(let c=0;c<o.length;c++)n[o[c].index].transaction=a[c]});for(const r of e.values())r.signer.requiresAsync()&&(yield t(r));for(const r of e.values())r.signer.requiresAsync()||(yield t(r));return n})}function MPe(n,e){return Kl(this,void 0,void 0,function*(){const{tx:t,signers:r}=yield BPe(n,{signer:e}),s=t.map(i=>RPe(i));return CPe(s,r)})}function zPe(n,e,t,r){return Kl(this,void 0,void 0,function*(){const s=yield e.sendRawTransaction(n.transaction.serialize(),t);return{signature:s,signatureResult:(yield e.confirmTransaction(Object.assign(Object.assign({},n.rbh),{signature:s}),n.commitment)).value}})}function wXe(n,e,t){return Kl(this,arguments,void 0,function*(r,s,i,o=3e3,a=10){const c=r.transaction.serialize();kR(r.transaction)&&PPe(r.transaction);const u=(i==null?void 0:i.commitment)||"confirmed",l=yield s.sendRawTransaction(c,i==null?void 0:i.sendOptions);let d=0;const y=setInterval(()=>{d<a&&s.sendRawTransaction(c,Object.assign(Object.assign({},i==null?void 0:i.sendOptions),{skipPreflight:!0})),d++},o);let h;try{h=yield s.confirmTransaction(Object.assign({signature:l},r.rbh),u)}finally{clearInterval(y)}return h.value.err!==null?{context:h.context,value:(0,eme.err)(h.value.err)}:{context:h.context,value:(0,eme.ok)(l)}})}function IXe(n,e,t,r,s){return Kl(this,void 0,void 0,function*(){var i,o;n=(0,rz.normalizeArray)(n);const a=(r==null?void 0:r.commitment)||"confirmed";let c=yield EPe(n,e,{connection:t,commitment:a},s);if(r!=null&&r.postTransactionHandler){const d=r.postTransactionHandler(c);d&&(c=d)}const{signature:u,signatureResult:l}=yield zPe(c,t,Object.assign({skipPreflight:!1},r==null?void 0:r.sendOptions),r==null?void 0:r.serializeConfig);if(l.err!==null){if(!(r!=null&&r.suppressLogging)){console.error("Transaction signature: ",u);const d=yield t.getTransaction(u,{commitment:a,maxSupportedTransactionVersion:1});console.error("Transaction logs: ",(i=d==null?void 0:d.meta)===null||i===void 0?void 0:i.logMessages),console.error(`Explorer link: ${TPe(u,t)}`)}throw new Error("Transaction error: "+JSON.stringify(l.err,null,2))}else if(r!=null&&r.suppressLogging!=null&&!r.suppressLogging){console.info("Transaction signature: ",u);const d=yield t.getTransaction(u,{commitment:a,maxSupportedTransactionVersion:1});console.info("Transaction logs: ",(o=d==null?void 0:d.meta)===null||o===void 0?void 0:o.logMessages)}return u})}function _Xe(n,e){var t;if(kR(n)){const r=n.message.getAccountKeys(e);return{signatures:PXe(n.signatures,r),instructions:EXe(n.message,r),feePayer:n.message.staticAccountKeys[0].toBase58(),recentBlockhash:n.message.recentBlockhash}}else return{signatures:n.signatures.map(r=>({publicKey:r.publicKey.toBase58(),signature:r.signature!==null})),instructions:n.instructions.map(r=>({keys:r.keys.map(s=>Object.assign(Object.assign({},s),{pubkey:s.pubkey.toBase58()})),programId:r.programId.toBase58()})),feePayer:(t=n.feePayer)===null||t===void 0?void 0:t.toBase58(),recentBlockhash:n.recentBlockhash}}function PXe(n,e){return n.map((t,r)=>{var s;return{publicKey:(s=e.get(r))===null||s===void 0?void 0:s.toBase58(),signature:t.every(i=>i!==0)}})}function EXe(n,e){return n.compiledInstructions.map(t=>{var r;return{keys:t.accountKeyIndexes.map(s=>{const i=e.get(s);return{pubkey:i==null?void 0:i.toBase58(),isSigner:n.isAccountSigner(s),isWritable:n.isAccountWritable(s)}}),programId:(r=e.get(t.programIdIndex))===null||r===void 0?void 0:r.toBase58()}})}(function(n){var e=K&&K.__awaiter||function(b,S,p,I){function w(A){return A instanceof p?A:new p(function(P){P(A)})}return new(p||(p=Promise))(function(A,P){function E(R){try{x(I.next(R))}catch($){P($)}}function M(R){try{x(I.throw(R))}catch($){P($)}}function x(R){R.done?A(R.value):w(R.value).then(E,M)}x((I=I.apply(b,S||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.deepCopyInstructions=n.insert=n.MAX_UNIQUE_KEYS_COUNT=n.MAX_TRANSACTION_SIZE=void 0,n.containedInLUTCount=o,n.getTransactionSize=a,n.buildLookupTableSet=y,n.getNextFullTransaction=h,n.buildDynamicTransactionsNoSigning=m,n.buildDynamicTransactions=f;const t=W0,r=$$,s=N0,i=sa;n.MAX_TRANSACTION_SIZE=1232,n.MAX_UNIQUE_KEYS_COUNT=128;function o(b,S){let p=0;const I=new Set;return b.forEach(w=>{S.has(w)?p++:I.add(w)}),[p,I]}function a(b,S,p=[]){const I=new Set,w=new Set,A=new Set;I.add(S.toBase58()),b.forEach(({instruction:z})=>{w.add(z.programId.toBase58()),z.keys.forEach(T=>{T.isSigner&&I.add(T.pubkey.toBase58()),A.add(T.pubkey.toBase58())})});for(const z of I)A.delete(z);for(const z of w)A.delete(z);const P=new Set([...I,...w]);let E=0;b.forEach(({instruction:z})=>{E+=1+g(z.keys.length)+z.keys.length+g(z.data.length)+z.data.length});const x={staticSize:g(I.size)+I.size*64+3+32+1+g(b.length)+E+1,staticAccounts:P.size},R=u(x,0,0,A.size),$=P.size+A.size;return R<=n.MAX_TRANSACTION_SIZE||p.length===0?{size:R,lookupTables:[],uniqueKeyCount:$}:$>n.MAX_UNIQUE_KEYS_COUNT?{size:R,lookupTables:[],uniqueKeyCount:$}:c(x,R,0,0,A,[],[...p])}function c(b,S,p,I,w,A,P){if(P.length===0)return{size:S,lookupTables:A,uniqueKeyCount:I+w.size};let E=w,M=S,x=I,R=0;for(const[z,T]of P.entries()){const[v,k]=o(w,T[0]),_=I+v,B=u(b,p+1,_,k.size);if(B<n.MAX_TRANSACTION_SIZE)return A.push(T[1]),{size:B,lookupTables:A,uniqueKeyCount:_+k.size};B<M&&(M=B,E=k,x=_,R=z)}if(S===M)return{size:S,lookupTables:A,uniqueKeyCount:I+w.size};const $=P.splice(R,1)[0];return A.push($[1]),c(b,M,p+1,x,E,A,P)}function u(b,S,p,I){const w=b.staticAccounts+I;return b.staticSize+34*S+p+g(w)+w*32}const l=(b,S,p)=>[...b.slice(0,S),p,...b.slice(S)];n.insert=l;const d=b=>({instructions:b.instructions.map(S=>Object.assign(Object.assign({},S),{instruction:new t.TransactionInstruction({keys:S.instruction.keys.map(p=>Object.assign({},p)),programId:S.instruction.programId,data:S.instruction.data?rt.Buffer.from(S.instruction.data):void 0})})),lookupTables:b.lookupTables});n.deepCopyInstructions=d;function y(b){return b.map(S=>{const p=S.state.addresses.map(w=>w.toBase58());return[new Set(p),S]})}function h(b,S){return e(this,arguments,void 0,function*(p,I,w=[],A=[],P=[],E=64){const M=(yield Promise.all(p.map(B=>B(I)))).flat(),x=(yield Promise.all(w.map(B=>B(I)))).flat(),R=(yield Promise.all(A.map(B=>B(I)))).flat(),$=y(P);let z={instructions:[...x,...R],lookupTables:[]};const{size:T,lookupTables:v,uniqueKeyCount:k}=a(z.instructions,I.publicKey(),$);if(T>n.MAX_TRANSACTION_SIZE)return(0,r.err)("Before and after instructions alone are too big to fit in transaction");if(k>n.MAX_UNIQUE_KEYS_COUNT)return(0,r.err)("Before and after instructions alone have too many unique keys to fit in transaction");z.lookupTables=v;let _=0;for(const B of M){const C=(0,n.insert)(z.instructions,z.instructions.length-R.length,B),{size:O,lookupTables:D,uniqueKeyCount:W}=a(C,I.publicKey(),$);if(O>n.MAX_TRANSACTION_SIZE||W>n.MAX_UNIQUE_KEYS_COUNT||C.length>E)return _===0?(0,r.err)("Only the before and after instructions fit"):(0,r.ok)([(0,n.deepCopyInstructions)(z),_]);_++,z={instructions:C,lookupTables:D}}return(0,r.ok)([(0,n.deepCopyInstructions)(z),_])})}function m(b,S){return e(this,arguments,void 0,function*(p,I,w=[],A=[],P=[],E=64){const M=(0,s.normalizeArray)(yield Promise.all((0,s.normalizeArray)(p).map(B=>B(I)))).flat(),x=(0,s.normalizeArray)(yield Promise.all((0,s.normalizeArray)(w).map(B=>B(I)))).flat(),R=(0,s.normalizeArray)(yield Promise.all((0,s.normalizeArray)(A).map(B=>B(I)))).flat(),$=[],z=y(P);let T={instructions:[...x,...R],lookupTables:[]};const{size:v,lookupTables:k,uniqueKeyCount:_}=a(T.instructions,I.publicKey(),z);if(v>n.MAX_TRANSACTION_SIZE)return(0,r.err)("Before and after instructions alone are too big to fit in transaction");if(_>n.MAX_UNIQUE_KEYS_COUNT)return(0,r.err)("Before and after instructions alone have too many unique keys to fit in transaction");T.lookupTables=k;for(const B of M){const C=(0,n.insert)(T.instructions,T.instructions.length-R.length,B),{size:O,lookupTables:D,uniqueKeyCount:W}=a(C,I.publicKey(),z);if(O>n.MAX_TRANSACTION_SIZE||W>n.MAX_UNIQUE_KEYS_COUNT||C.length>E){$.push((0,n.deepCopyInstructions)(T));const L=[...x,B,...R],{size:U,lookupTables:q,uniqueKeyCount:J}=a(L,I.publicKey(),z);if(U>n.MAX_TRANSACTION_SIZE)return(0,r.err)(`Instruction too large to fit in transaction: ${B.instruction.programId.toBase58()}`);if(J>n.MAX_UNIQUE_KEYS_COUNT)return(0,r.err)(`Instruction has too many unique accounts to fit in transaction: ${B.instruction.programId.toBase58()}`);T={instructions:L,lookupTables:q}}else T={instructions:C,lookupTables:D}}return T.instructions.length>x.length+R.length&&$.push((0,n.deepCopyInstructions)(T)),(0,r.ok)($)})}function f(b,S,p){return e(this,arguments,void 0,function*(I,w,A,P=[],E=[],M=[],x=64){const R=yield m(I,w,P,E,M,x);if(R.isErr())return(0,r.err)(R.error);const $=R.value.map(z=>({ixs:z.instructions,connectionOrRbh:A,lookupTables:z.lookupTables}));return(0,r.ok)(yield(0,i.buildAndSignTransactionsFromIxWithSigners)($,w))})}function g(b){return b>127?2:1}})(r6);(function(n){var e=K&&K.__awaiter||function(h,m,f,g){function b(S){return S instanceof f?S:new f(function(p){p(S)})}return new(f||(f=Promise))(function(S,p){function I(P){try{A(g.next(P))}catch(E){p(E)}}function w(P){try{A(g.throw(P))}catch(E){p(E)}}function A(P){P.done?S(P.value):b(P.value).then(I,w)}A((g=g.apply(h,m||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.getSimulationUnits=n.DEFAULT_COMPUTE_UNIT_LIMIT=n.COMPUTE_TEST_INSTRUCTIONS=n.COMPUTE_TEST_INSTRUCTION_RETURNS=void 0,n.getWritableAccounts=a,n.buildSimulationTransaction=c,n.buildAndSignOptimalTransaction=l,n.buildOptimalDynamicTransactions=d,n.buildOptimalDynamicTransactionsNoSigning=y;const t=W0,r=$$,s=N0,i=r6,o=sa;n.COMPUTE_TEST_INSTRUCTION_RETURNS=[(0,o.ixToIxReturn)(t.ComputeBudgetProgram.setComputeUnitPrice({microLamports:426})),(0,o.ixToIxReturn)(t.ComputeBudgetProgram.setComputeUnitLimit({units:14e5}))],n.COMPUTE_TEST_INSTRUCTIONS=[t.ComputeBudgetProgram.setComputeUnitPrice({microLamports:426}),t.ComputeBudgetProgram.setComputeUnitLimit({units:14e5})],n.DEFAULT_COMPUTE_UNIT_LIMIT=5e5;function a(h){const m=h.map(g=>g.keys.filter(b=>b.isWritable).map(b=>b.pubkey)).flat(),f=new Set(m);return Array.from(f)}function c(h,m,f){return new t.VersionedTransaction(new t.TransactionMessage({instructions:h,payerKey:f,recentBlockhash:t.PublicKey.default.toString()}).compileToV0Message(m))}const u=(h,m)=>e(void 0,void 0,void 0,function*(){var f;try{const g=yield m.simulateTransaction(h,{sigVerify:!1,replaceRecentBlockhash:!0});return g.value.err?n.DEFAULT_COMPUTE_UNIT_LIMIT:(f=g.value)===null||f===void 0?void 0:f.unitsConsumed}catch(g){return console.debug(g),n.DEFAULT_COMPUTE_UNIT_LIMIT}});n.getSimulationUnits=u;function l(h,m,f,g){return e(this,arguments,void 0,function*(b,S,p,I,w=[]){var A;const P=(0,s.normalizeArray)(S),E=()=>e(this,void 0,void 0,function*(){if(I.getLimit===void 0)return;const z=c([...n.COMPUTE_TEST_INSTRUCTIONS,...yield(0,o.ixReturnsToIxs)(P,p)],w,p.publicKey());return I.getLimit(z,b)}),M=()=>e(this,void 0,void 0,function*(){if(I.getFee===void 0)return;const z=yield(0,o.ixReturnsToIxs)(P,p),T=a(z);return I.getFee(T,b)}),[x,R,$]=yield Promise.all([E(),M(),b.getLatestBlockhash()]);return x&&P.unshift((0,o.ixToIxReturn)(t.ComputeBudgetProgram.setComputeUnitLimit({units:x}))),R&&P.unshift((0,o.ixToIxReturn)(t.ComputeBudgetProgram.setComputeUnitPrice({microLamports:R}))),(0,o.buildAndSignTransaction)(P,p,{rbh:$,commitment:(A=b.commitment)!==null&&A!==void 0?A:"confirmed"},w)})}function d(h,m,f,g){return e(this,arguments,void 0,function*(b,S,p,I,w=[],A,P,E=64){const[M,x]=yield Promise.all([y(b,S,p,I,w,A,P,E),b.getLatestBlockhash()]);return M.forEach(R=>{var $;R.connectionOrRbh={rbh:x,commitment:($=b.commitment)!==null&&$!==void 0?$:"confirmed"}}),(0,r.ok)(yield(0,o.buildAndSignTransactionsFromIxWithSigners)(M,p))})}function y(h,m,f,g){return e(this,arguments,void 0,function*(b,S,p,I,w=[],A,P,E=64){const M=[...n.COMPUTE_TEST_INSTRUCTION_RETURNS,...A??[]],x=yield(0,i.buildDynamicTransactionsNoSigning)(S,p,M,P,w,E);if(x.isErr())throw x.error;const R=x.value.map(T=>{const v=T.instructions.map(B=>B.instruction),k=I.getFee?a(v):[],_=c(v,T.lookupTables,p.publicKey());return T.instructions.splice(0,2),{simulationTransaction:_,writableKeys:k,instructionsWithSigners:T}});return(yield(()=>Promise.all(R.map(T=>e(this,[T],void 0,function*({writableKeys:v,simulationTransaction:k,instructionsWithSigners:_}){const[B,C]=yield Promise.all([I.getLimit?I.getLimit(k,b):void 0,I.getFee?I.getFee(v,b):void 0]);return{simulationUnits:B,fees:C,instructionsWithSigners:_}}))))()).map(T=>{const v=T.instructionsWithSigners;return T.fees!==void 0&&v.instructions.unshift({instruction:t.ComputeBudgetProgram.setComputeUnitPrice({microLamports:T.fees}),signers:[]}),T.simulationUnits!==void 0&&v.instructions.unshift({instruction:t.ComputeBudgetProgram.setComputeUnitLimit({units:T.simulationUnits}),signers:[]}),{connectionOrRbh:{connection:b},ixs:v.instructions,lookupTables:v.lookupTables}})})}})(rX);var UA=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},nI=K&&K.__await||function(n){return this instanceof nI?(this.v=n,this):new nI(n)},$Pe=K&&K.__asyncGenerator||function(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(h){return function(m){return Promise.resolve(m).then(h,d)}}function a(h,m){r[h]&&(s[h]=function(f){return new Promise(function(g,b){i.push([h,f,g,b])>1||c(h,f)})},m&&(s[h]=m(s[h])))}function c(h,m){try{u(r[h](m))}catch(f){y(i[0][3],f)}}function u(h){h.value instanceof nI?Promise.resolve(h.value.v).then(l,d):y(i[0][2],h)}function l(h){c("next",h)}function d(h){c("throw",h)}function y(h,m){h(m),i.shift(),i.length&&c(i[0][0],i[0][1])}};Object.defineProperty(Jb,"__esModule",{value:!0});Jb.TransactionBuilder=Jb.TransactionBuilderCore=void 0;Jb.checkTraceExceeded=DPe;Jb.transactionReturnIterator=TXe;const tme=W0,va=$$,xXe=N0,Mm=rX,VF=r6,HH=sa;function DPe(n){const e=n.value.err;if(e&&typeof e=="object"&&"InstructionError"in e){const t=e.InstructionError;if(t&&typeof t=="object"&&"1"in t&&typeof t[1]=="string"&&t[1]==="MaxInstructionTraceLengthExceeded"&&"0"in t&&typeof t[0]=="number"){const s=[];return{traceExceeded:t[0],unitsConsumed:n.value.unitsConsumed,ixTraces:s}}}}class OPe{constructor(e){var t,r,s,i,o,a,c;this.instructions=[],this.lastBuilt=null,this.lastTransaction=null,this.lastTryIterations=0,this.isBuildingNext=!1,this.connection=e.connection,this.commitment=(r=(t=e.commitment)!==null&&t!==void 0?t:e.connection.commitment)!==null&&r!==void 0?r:"confirmed",this.feePayer=e.feePayer,this.lookupTables=(s=e.lookupTables)!==null&&s!==void 0?s:[],this.beforeIxs=(i=e.beforeIxs)!==null&&i!==void 0?i:[],this.afterIxs=(o=e.afterIxs)!==null&&o!==void 0?o:[],this.instructionCountConfig={max:(a=e.instructionCount)===null||a===void 0?void 0:a.max,maxOnFail:(c=e.instructionCount)===null||c===void 0?void 0:c.maxOnFail};const u=l=>l+Math.min(1e5,Math.max(1e4,l*.1));this.mapLimit=e.mapLimit||u,this.getFee=e.getFee}add(e,t){const r=(0,xXe.normalizeArray)(e);return r.length===0?this:(typeof r[0]=="function"?this.instructions.push(...r):this.instructions.push(...r.map(s=>{let i;if(t){const o=s.keys.filter(a=>a.isSigner).map(a=>a.pubkey);i=t.filter(a=>o.some(c=>c.equals(a.publicKey())))}return(0,HH.ixToIxReturn)(s,i)})),this)}getPopCount(e){return e.instructions.length-e.computeCount-e.beforeCount-e.afterCount}resetIterations(){this.lastTryIterations=0}computeBeforeIxs(){return[...Mm.COMPUTE_TEST_INSTRUCTION_RETURNS,...this.beforeIxs]}resetDummyComputeInstructions(e){e.instructions.splice(0,e.computeCount),e.computeCount=2,e.instructions.unshift(...Mm.COMPUTE_TEST_INSTRUCTIONS.map(t=>({instruction:t,signers:[]})))}getLatestBlockhash(){return this.connection.getLatestBlockhash({commitment:this.commitment})}parseSimulationResult(e){var t;if(!e.value.err)return(0,va.ok)((t=e.value)===null||t===void 0?void 0:t.unitsConsumed);const s=DPe(e);return s?(0,va.err)(s):(0,va.err)(void 0)}simulateTransaction(e){return UA(this,void 0,void 0,function*(){const t=this.commitment==="processed"?"processed":"confirmed",r=yield this.connection.simulateTransaction(e,{commitment:t,replaceRecentBlockhash:!0});return this.parseSimulationResult(r)})}handlePriorityOptimization(e,t,r){return UA(this,arguments,void 0,function*(s,i,o,a=3){var c;if(o>a)return(0,va.err)("Priority optimizer depth exceeded");const u=(0,Mm.buildSimulationTransaction)(s.instructions.map(m=>m.instruction),s.lookupTables,this.feePayer.publicKey()),l=(0,Mm.getWritableAccounts)(s.instructions.map(m=>m.instruction));this.lastTryIterations++;const[d,y]=yield Promise.all([this.simulateTransaction(u),this.getFee?yield this.getFee(l,this.connection):void 0]);let h;if(d.isOk()){const m=d.value;m!==void 0&&(h=this.mapLimit(m))}else{if(typeof d.error=="string")return(0,va.err)(d.error);if(!i){const m=d.error;let f=!1;if(typeof m=="string")return(0,va.err)(m);if(m!==void 0){const{traceExceeded:g,ixTraces:b,unitsConsumed:S}=m;if(s.afterCount===0)return s.instructions.splice(g-1),this.handlePriorityOptimization(s,!0,o+1);f=!0}else f=!0;if(f){const g=(c=this.instructionCountConfig.maxOnFail)!==null&&c!==void 0?c:14;if(s.instructions.length<=g)console.warn("TransactionBuilder: simulation failed; instructions count is less than max on fail. Ignoring error...");else{const b=this.getPopCount(s);let S=s.instructions.length-g;return S>b&&(console.warn(`TransactionBuilder: simulation failed; remove count is greater than max removable of ${b}. Removing ${b-1} instructions`),S=b-1),s.instructions.splice(s.beforeCount+s.computeCount,S),this.handlePriorityOptimization(s,!0,o+1)}}}}return(0,va.ok)({limit:h,fee:y})})}replaceComputeInstructions(e,t){const{limit:r,fee:s}=t;e.instructions.splice(0,e.computeCount),e.computeCount=0,r!==void 0&&(e.instructions.unshift({instruction:tme.ComputeBudgetProgram.setComputeUnitLimit({units:r}),signers:[]}),e.computeCount++),s!==void 0&&(e.instructions.unshift({instruction:tme.ComputeBudgetProgram.setComputeUnitPrice({microLamports:s}),signers:[]}),e.computeCount++)}startBuildingNext(){if(this.isBuildingNext)throw new Error("Already building next optimal transaction");this.isBuildingNext=!0}buildNextOptimalTransactionNoSigning(){return UA(this,void 0,void 0,function*(){this.resetIterations();const e=this.computeBeforeIxs(),t=yield(0,VF.getNextFullTransaction)(this.instructions,this.feePayer,e,this.afterIxs.map(l=>l.ix),this.lookupTables,this.instructionCountConfig.max);if(t.isErr())return(0,va.err)(t.error);const[r]=t.value,s=Object.assign(Object.assign({},r),{computeCount:Mm.COMPUTE_TEST_INSTRUCTION_RETURNS.length,beforeCount:this.beforeIxs.length,afterCount:this.afterIxs.length}),[i,o]=yield Promise.all([this.handlePriorityOptimization(s,!1,0),this.getLatestBlockhash()]);if(i.isErr())return(0,va.err)(i.error);const{fee:a,limit:c}=i.value;this.replaceComputeInstructions(s,{limit:c,fee:a});const u=Object.assign(Object.assign({},s),(0,VF.deepCopyInstructions)(s));return(0,va.ok)({rbh:o,lastBuilt:u})})}rebuildLastNoSigning(e){return UA(this,void 0,void 0,function*(){if(this.resetIterations(),this.lastBuilt===null)return(0,va.err)("No last built transaction to rebuild");const t=Object.assign(Object.assign({},this.lastBuilt),(0,VF.deepCopyInstructions)(this.lastBuilt));let r;if(e){this.resetDummyComputeInstructions(t);const s=this.getPopCount(t),[i,o]=yield Promise.all([this.handlePriorityOptimization(t,!1,0,1),this.getLatestBlockhash()]);if(r=o,i.isErr())return(0,va.err)(i.error);const{fee:a,limit:c}=i.value,u=this.getPopCount(t);u!==s&&console.warn(`TransactionBuilder: pop count changed from ${s} to ${u} in rebuildLastBuilt`),this.replaceComputeInstructions(t,{limit:c,fee:a})}else r=yield this.getLatestBlockhash();return(0,va.ok)({lastBuilt:t,rbh:r})})}handlePostBuild(e,t){if(this.getPopCount(t)<=0)throw new Error("TransactionBuilder: pop count is less than or equal to 0");this.instructions.splice(0,this.getPopCount(t)),this.lastBuilt=t,this.lastTransaction=e}clear(){return this.instructions.splice(0,this.instructions.length)}}Jb.TransactionBuilderCore=OPe;function TXe(n){return $Pe(this,arguments,function*(){if(n.isErr())yield yield nI((0,va.err)(n.error));else for(const t of n.value)yield yield nI((0,va.ok)(t))})}class RXe extends OPe{constructor(e){super(e)}optimalTransactions(){return $Pe(this,arguments,function*(){for(;this.instructions.length>0;)yield yield nI(this.buildNextOptimalTransaction())})}buildNextOptimalTransaction(){return UA(this,void 0,void 0,function*(){this.startBuildingNext();try{const e=yield this.buildNextOptimalTransactionNoSigning();if(e.isErr())return(0,va.err)(e.error);const{rbh:t,lastBuilt:r}=e.value,s=(yield(0,HH.buildAndSignTransactionsFromIxWithSigners)([{ixs:r.instructions,lookupTables:r.lookupTables,connectionOrRbh:{rbh:t,commitment:this.commitment}}],this.feePayer))[0];return this.handlePostBuild(s,r),(0,va.ok)(s)}finally{this.isBuildingNext=!1}})}rebuildLast(){return UA(this,arguments,void 0,function*(e=!0){const t=yield this.rebuildLastNoSigning(e);if(t.isErr())return(0,va.err)(t.error);const{lastBuilt:r,rbh:s}=t.value,i=(yield(0,HH.buildAndSignTransactionsFromIxWithSigners)([{ixs:r.instructions,lookupTables:r.lookupTables,connectionOrRbh:{rbh:s,commitment:this.commitment}}],this.feePayer))[0];return(0,va.ok)(i)})}buildDynamic(){return(0,Mm.buildOptimalDynamicTransactions)(this.connection,this.instructions,this.feePayer,{getFee:this.getFee,getLimit:(...e)=>(0,Mm.getSimulationUnits)(...e).then(t=>{if(t!==void 0)return this.mapLimit(t)})},this.lookupTables,this.beforeIxs,this.afterIxs.map(e=>e.ix),this.instructionCountConfig.max)}buildAndSignOptimal(){var e;const t=[...this.beforeIxs,...this.instructions,...this.afterIxs.map(s=>s.ix)],r={getLimit:(...s)=>(0,Mm.getSimulationUnits)(...s).then(i=>{if(i!==void 0)return this.mapLimit(i)}),getFee:(e=this.getFee)!==null&&e!==void 0?e:void 0};return(0,Mm.buildAndSignOptimalTransaction)(this.connection,t,this.feePayer,r,this.lookupTables)}}Jb.TransactionBuilder=RXe;var LPe={};Object.defineProperty(LPe,"__esModule",{value:!0});(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Jb,n),t(rX,n),t(r6,n),t(sa,n),t(LPe,n)})(tX);var fX=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(x$,"__esModule",{value:!0});x$.createAddressLookupTable=WPe;x$.extendAddressLookupTable=NPe;x$.createAndExtendAddressLookupTable=CXe;const KPe=W0,VA=$$,d4=tX;function WPe(n,e,t,r,s){return fX(this,void 0,void 0,function*(){const[i,o]=KPe.AddressLookupTableProgram.createLookupTable({authority:e.publicKey(),payer:t.publicKey(),recentSlot:r??(yield n.getSlot("confirmed"))}),c=yield new d4.TransactionBuilder({connection:n,commitment:"confirmed",feePayer:t}).add(i,[e,t]).buildAndSignOptimal(),u=yield(0,d4.sendTransaction)(c,n,Object.assign(Object.assign({},s),{sendOptions:{skipPreflight:!0}}));return u.value.isErr()?(0,VA.err)(`Failed to create address lookup table: ${u.value.error}`):(0,VA.ok)(o)})}const BXe=400;function NPe(n,e,t,r,s,i){return fX(this,void 0,void 0,function*(){var o;if(s.length>256)return(0,VA.err)("Transaction lookup table can only hold up to 256 addresses");const a=[...s],c=[];for(;a.length>0;){const h=a.splice(0,20),m=KPe.AddressLookupTableProgram.extendLookupTable({lookupTable:e,authority:t.publicKey(),payer:r.publicKey(),addresses:h});c.push(m)}const u=c.map(h=>m=>Promise.resolve({instruction:h,signers:[m,r,t]})),l=yield new d4.TransactionBuilder({connection:n,commitment:i==null?void 0:i.commitment,feePayer:r}).add(u).buildDynamic();if(l.isErr())return new VA.Err(`Failed to build dynamic transactions: ${l.error}`);const d=yield Promise.all(l.value.map(h=>(0,d4.sendTransaction)(h,n,i))),y=d.find(h=>h.value.isErr());if(y)return(0,VA.err)(`Failed to extend address lookup table: ${y.value}`);if(i!=null&&i.awaitNewSlot){const h=d.map(g=>g.context.slot),m=Math.max(...h),f=(o=i==null?void 0:i.commitment)!==null&&o!==void 0?o:"confirmed";for(;(yield n.getSlot(f))<=m;)yield new Promise(g=>setTimeout(g,BXe/2))}return(0,VA.ok)(e)})}function CXe(n,e,t,r,s,i){return fX(this,void 0,void 0,function*(){const o=yield WPe(n,e,t,s,i);return o.isErr()?o:yield NPe(n,o.value,e,t,r,i)})}var FPe={};Object.defineProperty(FPe,"__esModule",{value:!0});var yv={};Object.defineProperty(yv,"__esModule",{value:!0});yv.isAsyncSigner=MXe;yv.keypairToAsyncSigner=zXe;yv.walletToAsyncSigner=$Xe;yv.signerToAsyncSigner=DXe;yv.createDummyAsyncSigner=OXe;function MXe(n){return"inner"in n&&"requiresAsync"in n&&"publicKey"in n&&"sign"in n&&"signAll"in n}function f4(n,e){"instructions"in n?n.partialSign(e):n.sign([e])}function zXe(n){return{inner:()=>n,requiresAsync(){return!1},publicKey(){return n.publicKey},sign:e=>(f4(e,n),Promise.resolve(e)),signAll:e=>{for(const t of e)f4(t,n);return Promise.resolve(e)}}}function $Xe(n){return{inner(){return n},publicKey(){return n.publicKey},requiresAsync(){return!0},sign(e){return n.signTransaction(e)},signAll(e){return n.signAllTransactions(e)}}}function DXe(n){return{inner:()=>n,publicKey:()=>n.publicKey,requiresAsync:()=>!1,sign:e=>(f4(e,n),Promise.resolve(e)),signAll:e=>{for(const t of e)f4(t,n);return Promise.resolve(e)}}}function OXe(n){return{requiresAsync(){return!1},publicKey(){return n},sign:e=>(e.addSignature(n,rt.Buffer.alloc(64)),Promise.resolve(e)),signAll:e=>{for(const t of e)t.addSignature(n,rt.Buffer.alloc(64));return Promise.resolve(e)}}}var UPe={};Object.defineProperty(UPe,"__esModule",{value:!0});var sI={};Object.defineProperty(sI,"__esModule",{value:!0});sI.getNumberFromEnum=sI.getAnchorEnum=void 0;const LXe=(n,e)=>{const t=Object.entries(n);for(let r=0;r<t.length;r++){const s=t[r];if(s&&e===s[1])return{[s[0].toUpperCase()===s[0]?s[0].toLowerCase():s[0].charAt(0).toLowerCase()+s[0].slice(1)]:{}}}throw new Error(`${e} is not found in the enum`)};sI.getAnchorEnum=LXe;const KXe=(n,e,t=1)=>{const r=Object.entries(n);for(let s=0;s<r.length;s++){const i=r[s];if(i&&e===i[1])return i[1]+t}throw new Error(`${e} is not found in the enum`)};sI.getNumberFromEnum=KXe;var h6={};Object.defineProperty(h6,"__esModule",{value:!0});h6.generateErrorMap=void 0;const WXe=n=>{var e,t;return(t=(e=n.errors)===null||e===void 0?void 0:e.reduce((r,s)=>Object.assign(Object.assign({},r),{[s.name]:s}),{}))!==null&&t!==void 0?t:{}};h6.generateErrorMap=WXe;var g6={};Object.defineProperty(g6,"__esModule",{value:!0});g6.ListenProgram=void 0;const NXe=Kc,rme=N0;class FXe{constructor(e,t){this.program=e,this.parsers=t,this.accountClosedListener=null,this.accountDiscriminants=(0,rme.remapObject)(t,r=>NXe.BorshAccountsCoder.accountDiscriminator(r.ACCOUNT_NAME)),this.listeners=(0,rme.remapObject)(t,()=>null)}setAccountClosedListener(e){this.accountClosedListener=e}get programId(){return this.program.programId}accountDiscriminant(e){return this.accountDiscriminants[e]}discriminantToAccountId(e){for(const[t,r]of Object.entries(this.accountDiscriminants))if(e.subarray(0,r.length).equals(r))return{key:t,discriminantLength:r.length};return null}provideDecodedAccountEvent(e,t,r,s,i,o,a){const c=this.listeners[e];c&&c({account:t,slot:r,confirmationStatus:s,isStartup:i,accountInfo:o,writeVersion:a})}provideAccountEvent(e,t,r,s,i,o=a=>{console.error(`Unknown account \`${a.toBase58()}\` for program \`${this.programId.toBase58()}\``)}){const a=this.discriminantToAccountId(e.accountInfo.data);if(a===null){o(e.accountId);return}if(this.listeners[a.key]){const c=this.parsers[a.key].decodeData(e,this.program);if("error"in c)throw c.error;this.provideDecodedAccountEvent(a.key,c.data,t,r,s,e.accountInfo,i)}}setAccountListener(e,t,r){r?this.listeners[e]=s=>{s.account instanceof t?r(Object.assign(Object.assign({},s),{account:s.account})):console.error("Wrong account type passed, account: ",JSON.stringify(s.account))}:this.listeners[e]=null}discriminantToAccountIdNoSubarray(e){const t=Object.keys(this.accountDiscriminants);for(const r of t){const s=this.accountDiscriminants[r];if(e.equals(s))return{key:r,discriminantLength:s.length}}return null}provideAccountClosedEvent(e,t,r,s,i,o,a){const c=this.accountClosedListener;c&&c({accountInfo:a,slot:s,confirmationStatus:i,writeVersion:o,key:e,oldOwner:t,newOwner:r})}}g6.ListenProgram=FXe;var yd={},nd=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},UXe=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(yd,"__esModule",{value:!0});yd.getCurrentTimestampOnChain=void 0;yd.buildRPCDataSource=GXe;yd.readAllFromRPC=YXe;yd.readFromRPC=hX;yd.readFromRPCOrError=ZXe;yd.readFromRPCNullable=JXe;yd.accountRPCSubscribe=XXe;yd.airdrop=QXe;yd.readMultipleFromRPC=eQe;const VPe=W0,VXe=Kc,qXe=UXe(f6),HXe=rR.exports,jXe=N0;function GXe(n){const e={programs:[]},t=(r,s,i)=>(o,a)=>{r.provideAccountEvent(o,a.slot,s,i,0)};return{insertProgram(r,s){return nd(this,arguments,void 0,function*(i,o,a=!1){if(e.programs===null)throw new Error("Data source closed");if(o==="recent")throw new Error("RPC Data Source does not support recent");const c=(0,jXe.fixedSizeArrayFromArray)(3,[n.onProgramAccountChange(i.programId,t(i,"processed",!1),"processed"),n.onProgramAccountChange(i.programId,t(i,"confirmed",!1),"confirmed"),n.onProgramAccountChange(i.programId,t(i,"finalized",!1),"finalized")]);if(c===null)throw new Error("Could not create listener array");const u=e.programs.length,l=()=>nd(this,void 0,void 0,function*(){if(e.programs===null)return;const d=e.programs[u];if(!d)return;const{program:y}=d,{context:h,value:m}=yield n.getProgramAccounts(y.programId,{commitment:o,withContext:!0});for(const f of m)y.provideAccountEvent({accountId:f.pubkey,accountInfo:f.account},h.slot,o,!0,0)});return e.programs.push({program:i,listenerId:c,refresh:l}),a||(yield l()),{close:()=>nd(this,void 0,void 0,function*(){if(e.programs===null)return;const d=e.programs[u];if(!d)return;const{listenerId:y}=d;e.programs[u]=null,yield Promise.all([n.removeProgramAccountChangeListener(y[0]),n.removeProgramAccountChangeListener(y[1]),n.removeProgramAccountChangeListener(y[2])])}),refresh:l}})},closeDataSource(){return nd(this,void 0,void 0,function*(){if(e.programs===null)throw new Error("Data source already closed");const r=[];for(const s of e.programs.filter(i=>i!==null).flatMap(i=>i.listenerId))try{r.push(n.removeAccountChangeListener(s))}catch(i){console.error("Could not remove listener: ",i)}e.programs=null,yield Promise.all(r)})},refreshAll(){return nd(this,void 0,void 0,function*(){var r,s;yield Promise.all((s=(r=e.programs)===null||r===void 0?void 0:r.map(i=>i==null?void 0:i.refresh()))!==null&&s!==void 0?s:[])})}}}function YXe(n,e,t,r){return nd(this,arguments,void 0,function*(s,i,o,a,c=[]){return(yield s.getProgramAccounts(i.programId,Object.assign(Object.assign({},a?{commitment:a}:{}),{filters:[{memcmp:{offset:0,bytes:qXe.default.encode(VXe.BorshAccountsCoder.accountDiscriminator(o.ACCOUNT_NAME))}},...c]}))).map(l=>o.decodeData({accountInfo:l.account,accountId:l.pubkey},i))})}function hX(n,e,t,r,s){return nd(this,void 0,void 0,function*(){const i=yield n.getAccountInfo(t,s);return i===null?{type:"error",key:t,error:new Error("account does not exist")}:r.decodeData({accountInfo:i,accountId:t},e)})}function ZXe(n,e,t,r,s){return nd(this,void 0,void 0,function*(){const i=yield hX(n,e,t,r,s);if("error"in i)throw i.error;return i.data})}function JXe(n,e,t,r,s){return nd(this,void 0,void 0,function*(){const i=yield hX(n,e,t,r,s);return"error"in i?null:i.data})}function XXe(n,e,t,r,s,i){return n.onAccountChange(t,o=>{s(r.decodeData({accountInfo:o,accountId:t},e))},i)}function QXe(n,e){return nd(this,arguments,void 0,function*(t,r,s=VPe.LAMPORTS_PER_SOL,i){const o=yield t.requestAirdrop(r,s);return yield t.confirmTransaction(o,i),o})}function eQe(n,e,t,r,s){return nd(this,void 0,void 0,function*(){const i=(yield Promise.all((0,HXe.chunk)(n,100).map(a=>e.getMultipleAccountsInfo(a,s)))).flat(),o=[];for(let a=0;a<i.length;a++){const c=i[a],u=n[a];c&&o.push(r.decodeData({accountInfo:c,accountId:u},t))}return o})}const tQe=n=>nd(void 0,void 0,void 0,function*(){const e=yield n.getAccountInfo(VPe.SYSVAR_CLOCK_PUBKEY);if(e===null)throw"Failed to fetch Clock account info";return e.data.readBigInt64LE(8*4)});yd.getCurrentTimestampOnChain=tQe;var m6={};Object.defineProperty(m6,"__esModule",{value:!0});m6.combineObjectArrays=qPe;m6.runForAll=rQe;function qPe(n,e){return n.map(t=>e.map(r=>Object.assign(Object.assign({},t),r))).flat()}function rQe(n,e){return Object.keys(n).map(r=>n[r].map(s=>({[r]:s}))).reduce((r,s)=>qPe(r,s),[{}]).map(r=>e(r))}var gX={};Object.defineProperty(gX,"__esModule",{value:!0});gX.transfer=sQe;const nQe=W0;function sQe(n,e,t){return r=>{var s;return Promise.resolve({instruction:nQe.SystemProgram.transfer({fromPubkey:(s=n==null?void 0:n.publicKey())!==null&&s!==void 0?s:r.publicKey(),toPubkey:e,lamports:t}),signers:[n??r]})}}var Fl={},cg=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(Fl,"__esModule",{value:!0});Fl.getParsedTokenAccountsByOwner=void 0;Fl.createMint=oQe;Fl.createTokenAccount=aQe;Fl.mintToTokenAccount=cQe;Fl.setMintAuthority=uQe;Fl.setFreezeAuthority=lQe;Fl.setAccountAuthority=dQe;Fl.transferToTokenAccount=fQe;Fl.createAssociatedTokenAccount=hQe;Fl.createAssociatedTokenAccountIdempotent=gQe;const li=Nl,HPe=W0,jPe=fr,iQe=(n,e,...t)=>cg(void 0,[n,e,...t],void 0,function*(r,s,i=li.TOKEN_PROGRAM_ID){return(yield r.getTokenAccountsByOwner(s,{programId:i})).value.map(o=>(0,li.unpackAccount)(o.pubkey,o.account,i))});Fl.getParsedTokenAccountsByOwner=iQe;function oQe(n,e,t,r){return s=>cg(this,void 0,void 0,function*(){return[{instruction:HPe.SystemProgram.createAccount({fromPubkey:s.publicKey(),lamports:(0,jPe.calculateMinimumRent)(li.MINT_SIZE),newAccountPubkey:n.publicKey(),programId:li.TOKEN_PROGRAM_ID,space:li.MINT_SIZE}),signers:[n,s]},{instruction:(0,li.createInitializeMintInstruction)(n.publicKey(),e,t,r),signers:[]}]})}function aQe(n,e,t){return r=>cg(this,void 0,void 0,function*(){return[{instruction:HPe.SystemProgram.createAccount({fromPubkey:r.publicKey(),lamports:(0,jPe.calculateMinimumRent)(li.ACCOUNT_SIZE),newAccountPubkey:n.publicKey(),programId:li.TOKEN_PROGRAM_ID,space:li.ACCOUNT_SIZE}),signers:[n,r]},{instruction:(0,li.createInitializeAccountInstruction)(n.publicKey(),t,e),signers:[]}]})}function cQe(n,e,t,r){return()=>cg(this,void 0,void 0,function*(){return{instruction:(0,li.createMintToInstruction)(e,t,n.publicKey(),r,[]),signers:[n]}})}function uQe(n,e,t){return()=>cg(this,void 0,void 0,function*(){return{instruction:(0,li.createSetAuthorityInstruction)(n,e.publicKey(),li.AuthorityType.MintTokens,t),signers:[e]}})}function lQe(n,e,t){return()=>cg(this,void 0,void 0,function*(){return{instruction:(0,li.createSetAuthorityInstruction)(n,e.publicKey(),li.AuthorityType.FreezeAccount,t),signers:[e]}})}function dQe(n,e,t){return()=>cg(this,void 0,void 0,function*(){return{instruction:(0,li.createSetAuthorityInstruction)(n,e.publicKey(),li.AuthorityType.AccountOwner,t),signers:[e]}})}function fQe(n,e,t,r){return()=>cg(this,void 0,void 0,function*(){return{instruction:(0,li.createTransferInstruction)(e,t,n.publicKey(),r,[]),signers:[n]}})}function hQe(n,e,t=!0,r=li.TOKEN_PROGRAM_ID,s=li.ASSOCIATED_TOKEN_PROGRAM_ID){const i=(0,li.getAssociatedTokenAddressSync)(n,e,t,r,s);return{instructions:o=>cg(this,void 0,void 0,function*(){return{instruction:(0,li.createAssociatedTokenAccountInstruction)(o.publicKey(),i,e,n,r,s),signers:[o]}}),address:i}}function gQe(n,e,t=!0,r=li.TOKEN_PROGRAM_ID,s=li.ASSOCIATED_TOKEN_PROGRAM_ID){const i=(0,li.getAssociatedTokenAddressSync)(n,e,t,r,s);return{instructions:o=>cg(this,void 0,void 0,function*(){return{instruction:(0,li.createAssociatedTokenAccountIdempotentInstruction)(o.publicKey(),i,e,n,r,s),signers:[o]}}),address:i}}(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(VK,n),t(x$,n),t(FPe,n),t(yv,n),t(UPe,n),t(sI,n),t(h6,n),t(g6,n),t(yd,n),t(m6,n),t(gX,n),t(Fl,n),t(tX,n),t(N0,n)})(fr);var Yd={};function h4(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function mQe(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function O$(n,...e){if(!mQe(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function yQe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");h4(n.outputLen),h4(n.blockLen)}function iI(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function GPe(n,e){O$(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const qF=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pQe=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),HF=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),If=(n,e)=>n<<32-e|n>>>e,nme=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,bQe=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function sme(n){for(let e=0;e<n.length;e++)n[e]=bQe(n[e])}function SQe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function y6(n){return typeof n=="string"&&(n=SQe(n)),O$(n),n}function kQe(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];O$(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class mX{clone(){return this._cloneInto()}}function yX(n){const e=r=>n().update(y6(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function YPe(n=32){if(qF&&typeof qF.getRandomValues=="function")return qF.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function vQe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const AQe=(n,e,t)=>n&e^~n&t,wQe=(n,e,t)=>n&e^n&t^e&t;class ZPe extends mX{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=HF(this.buffer)}update(e){iI(this);const{view:t,buffer:r,blockLen:s}=this;e=y6(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=HF(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){iI(this),GPe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;vQe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=HF(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const f3=BigInt(2**32-1),jH=BigInt(32);function JPe(n,e=!1){return e?{h:Number(n&f3),l:Number(n>>jH&f3)}:{h:Number(n>>jH&f3)|0,l:Number(n&f3)|0}}function XPe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=JPe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const IQe=(n,e)=>BigInt(n>>>0)<<jH|BigInt(e>>>0),_Qe=(n,e,t)=>n>>>t,PQe=(n,e,t)=>n<<32-t|e>>>t,EQe=(n,e,t)=>n>>>t|e<<32-t,xQe=(n,e,t)=>n<<32-t|e>>>t,TQe=(n,e,t)=>n<<64-t|e>>>t-32,RQe=(n,e,t)=>n>>>t-32|e<<64-t,BQe=(n,e)=>e,CQe=(n,e)=>n,QPe=(n,e,t)=>n<<t|e>>>32-t,eEe=(n,e,t)=>e<<t|n>>>32-t,tEe=(n,e,t)=>e<<t-32|n>>>64-t,rEe=(n,e,t)=>n<<t-32|e>>>64-t;function MQe(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const zQe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),$Qe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,DQe=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),OQe=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,LQe=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),KQe=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,WQe={fromBig:JPe,split:XPe,toBig:IQe,shrSH:_Qe,shrSL:PQe,rotrSH:EQe,rotrSL:xQe,rotrBH:TQe,rotrBL:RQe,rotr32H:BQe,rotr32L:CQe,rotlSH:QPe,rotlSL:eEe,rotlBH:tEe,rotlBL:rEe,add:MQe,add3L:zQe,add3H:$Qe,add4L:DQe,add4H:OQe,add5H:KQe,add5L:LQe};var Ur=WQe;const[NQe,FQe]=(()=>Ur.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),zy=new Uint32Array(80),$y=new Uint32Array(80);class UQe extends ZPe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)zy[p]=e.getUint32(t),$y[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=zy[p-15]|0,w=$y[p-15]|0,A=Ur.rotrSH(I,w,1)^Ur.rotrSH(I,w,8)^Ur.shrSH(I,w,7),P=Ur.rotrSL(I,w,1)^Ur.rotrSL(I,w,8)^Ur.shrSL(I,w,7),E=zy[p-2]|0,M=$y[p-2]|0,x=Ur.rotrSH(E,M,19)^Ur.rotrBH(E,M,61)^Ur.shrSH(E,M,6),R=Ur.rotrSL(E,M,19)^Ur.rotrBL(E,M,61)^Ur.shrSL(E,M,6),$=Ur.add4L(P,R,$y[p-7],$y[p-16]),z=Ur.add4H($,A,x,zy[p-7],zy[p-16]);zy[p]=z|0,$y[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Ur.rotrSH(d,y,14)^Ur.rotrSH(d,y,18)^Ur.rotrBH(d,y,41),w=Ur.rotrSL(d,y,14)^Ur.rotrSL(d,y,18)^Ur.rotrBL(d,y,41),A=d&h^~d&f,P=y&m^~y&g,E=Ur.add5L(S,w,P,FQe[p],$y[p]),M=Ur.add5H(E,b,I,A,NQe[p],zy[p]),x=E|0,R=Ur.rotrSH(r,s,28)^Ur.rotrBH(r,s,34)^Ur.rotrBH(r,s,39),$=Ur.rotrSL(r,s,28)^Ur.rotrBL(r,s,34)^Ur.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Ur.add(u|0,l|0,M|0,x|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Ur.add3L(x,$,T);r=Ur.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Ur.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Ur.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Ur.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Ur.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Ur.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Ur.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Ur.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Ur.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){zy.fill(0),$y.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const VQe=yX(()=>new UQe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pX=BigInt(0),p6=BigInt(1),qQe=BigInt(2);function Sk(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function L$(n){if(!Sk(n))throw new Error("Uint8Array expected")}function Gm(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const HQe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function kk(n){L$(n);let e="";for(let t=0;t<n.length;t++)e+=HQe[n[t]];return e}function nEe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function bX(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const _g={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ime(n){if(n>=_g._0&&n<=_g._9)return n-_g._0;if(n>=_g._A&&n<=_g._F)return n-(_g._A-10);if(n>=_g._a&&n<=_g._f)return n-(_g._a-10)}function oI(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=ime(n.charCodeAt(i)),a=ime(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function ZS(n){return bX(kk(n))}function yw(n){return L$(n),bX(kk(Uint8Array.from(n).reverse()))}function aI(n,e){return oI(n.toString(16).padStart(e*2,"0"))}function nz(n,e){return aI(n,e).reverse()}function jQe(n){return oI(nEe(n))}function Ea(n,e,t){let r;if(typeof e=="string")try{r=oI(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Sk(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function vk(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];L$(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function GQe(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function YQe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const jF=n=>typeof n=="bigint"&&pX<=n;function b6(n,e,t){return jF(n)&&jF(e)&&jF(t)&&e<=n&&n<t}function sd(n,e,t,r){if(!b6(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function ZQe(n){let e;for(e=0;n>pX;n>>=p6,e+=1);return e}function JQe(n,e){return n>>BigInt(e)&p6}function XQe(n,e,t){return n|(t?p6:pX)<<BigInt(e)}const SX=n=>(qQe<<BigInt(n-1))-p6,GF=n=>new Uint8Array(n),ome=n=>Uint8Array.from(n);function sEe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=GF(n),s=GF(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=GF())=>{s=a(ome([0]),d),r=a(),d.length!==0&&(s=a(ome([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return vk(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const QQe={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||Sk(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function vR(n,e,t={}){const r=(s,i,o)=>{const a=QQe[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const eet=()=>{throw new Error("not implemented")};function sz(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var tet=Object.freeze(Object.defineProperty({__proto__:null,isBytes:Sk,abytes:L$,abool:Gm,bytesToHex:kk,numberToHexUnpadded:nEe,hexToNumber:bX,hexToBytes:oI,bytesToNumberBE:ZS,bytesToNumberLE:yw,numberToBytesBE:aI,numberToBytesLE:nz,numberToVarBytesBE:jQe,ensureBytes:Ea,concatBytes:vk,equalBytes:GQe,utf8ToBytes:YQe,inRange:b6,aInRange:sd,bitLen:ZQe,bitGet:JQe,bitSet:XQe,bitMask:SX,createHmacDrbg:sEe,validateObject:vR,notImplemented:eet,memoized:sz},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ec=BigInt(0),so=BigInt(1),aS=BigInt(2),ret=BigInt(3),GH=BigInt(4),ame=BigInt(5),cme=BigInt(8);BigInt(9);BigInt(16);function zi(n,e){const t=n%e;return t>=Ec?t:e+t}function net(n,e,t){if(t<=Ec||e<Ec)throw new Error("Expected power/modulo > 0");if(t===so)return Ec;let r=so;for(;e>Ec;)e&so&&(r=r*n%t),n=n*n%t,e>>=so;return r}function _o(n,e,t){let r=n;for(;e-- >Ec;)r*=r,r%=t;return r}function YH(n,e){if(n===Ec||e<=Ec)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=zi(n,e),r=e,s=Ec,i=so;for(;t!==Ec;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==so)throw new Error("invert: does not exist");return zi(s,e)}function set(n){const e=(n-so)/aS;let t,r,s;for(t=n-so,r=0;t%aS===Ec;t/=aS,r++);for(s=aS;s<n&&net(s,e,n)!==n-so;s++);if(r===1){const o=(n+so)/GH;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+so)/aS;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,so<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function iet(n){if(n%GH===ret){const e=(n+so)/GH;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%cme===ame){const e=(n-ame)/cme;return function(r,s){const i=r.mul(s,aS),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,aS),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return set(n)}const oet=(n,e)=>(zi(n,e)&so)===so,aet=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function cet(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=aet.reduce((r,s)=>(r[s]="function",r),e);return vR(n,t)}function uet(n,e,t){if(t<Ec)throw new Error("Expected power > 0");if(t===Ec)return n.ONE;if(t===so)return e;let r=n.ONE,s=e;for(;t>Ec;)t&so&&(r=n.mul(r,s)),s=n.sqr(s),t>>=so;return r}function det(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function iEe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function oEe(n,e,t=!1,r={}){if(n<=Ec)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=iEe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=iet(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:SX(s),ZERO:Ec,ONE:so,create:c=>zi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ec<=c&&c<n},is0:c=>c===Ec,isOdd:c=>(c&so)===so,neg:c=>zi(-c,n),eql:(c,u)=>c===u,sqr:c=>zi(c*c,n),add:(c,u)=>zi(c+u,n),sub:(c,u)=>zi(c-u,n),mul:(c,u)=>zi(c*u,n),pow:(c,u)=>uet(a,c,u),div:(c,u)=>zi(c*YH(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>YH(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>det(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?nz(c,i):aI(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?yw(c):ZS(c)}});return Object.freeze(a)}function aEe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function cEe(n){const e=aEe(n);return e+Math.ceil(e/2)}function fet(n,e,t=!1){const r=n.length,s=aEe(e),i=cEe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?ZS(n):yw(n),a=zi(o,e-so)+so;return t?nz(a,s):aI(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const het=BigInt(0),YF=BigInt(1),ZF=new WeakMap,ume=new WeakMap;function uEe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>het;)o&YF&&(a=a.add(c)),c=c.double(),o>>=YF;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=YF);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=ume.get(i)||1;let u=ZF.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&ZF.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),ume.set(i,o),ZF.delete(i)}}}function kX(n){return cet(n.Fp),vR(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...iEe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vd=BigInt(0),vu=BigInt(1),h3=BigInt(2),get=BigInt(8),met={zip215:!0};function yet(n){const e=kX(n);return vR(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function pet(n){const e=yet(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=h3<<BigInt(a*8)-vu,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:vd}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,_)=>{if(Gm("phflag",_),k.length||_)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){sd("coordinate "+v,k,vd,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=sz((v,k)=>{const{ex:_,ey:B,ez:C}=v,O=v.is0();k==null&&(k=O?get:t.inv(C));const D=l(_*k),W=l(B*k),L=l(C*k);if(O)return{x:vd,y:vu};if(L!==vu)throw new Error("invZ was invalid");return{x:D,y:W}}),b=sz(v=>{const{a:k,d:_}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:B,ey:C,ez:O,et:D}=v,W=l(B*B),L=l(C*C),U=l(O*O),q=l(U*U),J=l(W*k),Q=l(U*l(J+L)),j=l(q+l(_*l(W*L)));if(Q!==j)throw new Error("bad point: equation left != right (1)");const X=l(B*C),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,_,B,C){this.ex=k,this.ey=_,this.ez=B,this.et=C,m("x",k),m("y",_),m("z",B),m("t",C),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x:_,y:B}=k||{};return m("x",_),m("y",B),new S(_,B,vu,l(_*B))}static normalizeZ(k){const _=t.invertBatch(k.map(B=>B.ez));return k.map((B,C)=>B.toAffine(_[C])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:_,ey:B,ez:C}=this,{ex:O,ey:D,ez:W}=k,L=l(_*W),U=l(O*C),q=l(B*W),J=l(D*C);return L===U&&q===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:_,ey:B,ez:C}=this,O=l(_*_),D=l(B*B),W=l(h3*l(C*C)),L=l(k*O),U=_+B,q=l(l(U*U)-O-D),J=L+D,Q=J-W,j=L-D,X=l(q*Q),re=l(J*j),se=l(q*j),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:_,d:B}=e,{ex:C,ey:O,ez:D,et:W}=this,{ex:L,ey:U,ez:q,et:J}=k;if(_===BigInt(-1)){const $t=l((O-C)*(U+L)),_t=l((O+C)*(U-L)),tt=l(_t-$t);if(tt===vd)return this.double();const Ve=l(D*h3*J),qt=l(W*h3*q),lr=qt+Ve,ur=_t+$t,hr=qt-Ve,Rr=l(lr*tt),ms=l(ur*hr),kn=l(lr*hr),ys=l(tt*ur);return new S(Rr,ms,ys,kn)}const Q=l(C*L),j=l(O*U),X=l(W*B*J),re=l(D*q),se=l((C+O)*(L+U)-Q-j),ee=re-X,ne=re+X,_e=l(j-_*Q),Pe=l(se*ee),We=l(ne*_e),Ne=l(se*_e),Yt=l(ee*ne);return new S(Pe,We,Yt,Ne)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const _=k;sd("scalar",_,vu,r);const{p:B,f:C}=this.wNAF(_);return S.normalizeZ([B,C])[0]}multiplyUnsafe(k){const _=k;return sd("scalar",_,vd,r),_===vd?I:this.equals(I)||_===vu?this:this.equals(p)?this.wNAF(_).p:w.unsafeLadder(this,_)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===vu?this:this.multiplyUnsafe(k)}static fromHex(k,_=!1){const{d:B,a:C}=e,O=t.BYTES;k=Ea("pointHex",k,O),Gm("zip215",_);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=yw(D),U=_?u:t.ORDER;sd("pointHex.y",L,vd,U);const q=l(L*L),J=l(q-vu),Q=l(B*q-C);let{isValid:j,value:X}=d(J,Q);if(!j)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&vu)===vu,se=(W&128)!==0;if(!_&&X===vd&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:_}=this.toAffine(),B=nz(_,t.BYTES);return B[B.length-1]|=k&vu?128:0,B}toHex(){return kk(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,vu,l(e.Gx*e.Gy)),S.ZERO=new S(vd,vu,vu,vd);const{BASE:p,ZERO:I}=S,w=uEe(S,a*8);function A(v){return zi(v,r)}function P(v){return A(yw(v))}function E(v){const k=a;v=Ea("private key",v,k);const _=Ea("hashed private key",i(v),2*k),B=y(_.slice(0,k)),C=_.slice(k,2*k),O=P(B),D=p.multiply(O),W=D.toRawBytes();return{head:B,prefix:C,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function x(v=new Uint8Array,...k){const _=vk(...k);return P(i(h(_,Ea("context",v),!!s)))}function R(v,k,_={}){v=Ea("message",v),s&&(v=s(v));const{prefix:B,scalar:C,pointBytes:O}=E(k),D=x(_.context,B,v),W=p.multiply(D).toRawBytes(),L=x(_.context,W,O,v),U=A(D+L*C);sd("signature.s",U,vd,r);const q=vk(W,nz(U,t.BYTES));return Ea("result",q,a*2)}const $=met;function z(v,k,_,B=$){const{context:C,zip215:O}=B,D=t.BYTES;v=Ea("signature",v,2*D),k=Ea("message",k),O!==void 0&&Gm("zip215",O),s&&(k=s(k));const W=yw(v.slice(D,2*D));let L,U,q;try{L=S.fromHex(_,O),U=S.fromHex(v.slice(0,D),O),q=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=x(C,U.toRawBytes(),L.toRawBytes(),k);return U.add(L.multiplyUnsafe(J)).subtract(q).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vX=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),lme=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const bet=BigInt(1),dme=BigInt(2);BigInt(3);const ket=BigInt(5),vet=BigInt(8);function Aet(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=vX,a=n*n%i*n%i,c=_o(a,dme,i)*a%i,u=_o(c,bet,i)*n%i,l=_o(u,ket,i)*u%i,d=_o(l,e,i)*l%i,y=_o(d,t,i)*d%i,h=_o(y,r,i)*y%i,m=_o(h,s,i)*h%i,f=_o(m,s,i)*h%i,g=_o(f,e,i)*l%i;return{pow_p_5_8:_o(g,dme,i)*n%i,b2:a}}function wet(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function Iet(n,e){const t=vX,r=zi(e*e*e,t),s=zi(r*r*e,t),i=Aet(n*s).pow_p_5_8;let o=zi(n*r*i,t);const a=zi(e*o*o,t),c=o,u=zi(o*lme,t),l=a===n,d=a===zi(-n,t),y=a===zi(-n*lme,t);return l&&(o=c),(d||y)&&(o=u),oet(o,t)&&(o=zi(-o,t)),{isValid:l||d,value:o}}const _et=(()=>oEe(vX,void 0,!0))(),Pet=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:_et,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:vet,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:VQe,randomBytes:YPe,adjustScalarBytes:wet,uvRatio:Iet}))(),AR=(()=>pet(Pet))(),Eet=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Dy=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Oy=new Uint32Array(64);class xet extends ZPe{constructor(){super(64,32,8,!1),this.A=Dy[0]|0,this.B=Dy[1]|0,this.C=Dy[2]|0,this.D=Dy[3]|0,this.E=Dy[4]|0,this.F=Dy[5]|0,this.G=Dy[6]|0,this.H=Dy[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Oy[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=Oy[d-15],h=Oy[d-2],m=If(y,7)^If(y,18)^y>>>3,f=If(h,17)^If(h,19)^h>>>10;Oy[d]=f+Oy[d-7]+m+Oy[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=If(a,6)^If(a,11)^If(a,25),h=l+y+AQe(a,c,u)+Eet[d]+Oy[d]|0,f=(If(r,2)^If(r,13)^If(r,22))+wQe(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Oy.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ZH=yX(()=>new xet);class Tet extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function Ret(n){return K$(n)&&typeof n[Symbol.iterator]=="function"}function K$(n){return typeof n=="object"&&n!=null}function g4(n){return K$(n)&&!Array.isArray(n)}function nf(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function Bet(n){const{done:e,value:t}=n.next();return e?void 0:t}function Cet(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${nf(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*fme(n,e,t,r){Ret(n)||(n=[n]);for(const s of n){const i=Cet(s,e,t,r);i&&(yield i)}}function*AX(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=AX(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):K$(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class ug{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return fme(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return fme(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return lEe(e,this,t)}create(e,t){return bt(e,this,t)}is(e){return dEe(e,this)}mask(e,t){return Met(e,this,t)}validate(e,t={}){return W$(e,this,t)}}function lEe(n,e,t){const r=W$(n,e,{message:t});if(r[0])throw r[0]}function bt(n,e,t){const r=W$(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function Met(n,e,t){const r=W$(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function dEe(n,e){return!W$(n,e)[0]}function W$(n,e,t={}){const r=AX(n,e,t),s=Bet(r);if(s[0])return[new Tet(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function pv(n,e){return new ug({type:n,schema:null,validator:e})}function zet(){return pv("any",()=>!0)}function xt(n){return new ug({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${nf(e)}`}})}function Hh(){return pv("boolean",n=>typeof n=="boolean")}function wX(n){return pv("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${nf(e)}`)}function Gi(n){const e=nf(n),t=typeof n;return new ug({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${nf(r)}`}})}function $et(){return pv("never",()=>!1)}function Lt(n){return new ug({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function me(){return pv("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${nf(n)}`)}function kr(n){return new ug({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function fEe(n,e){return new ug({type:"record",schema:null,*entries(t){if(K$(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return g4(t)||`Expected an object, but received: ${nf(t)}`},coercer(t){return g4(t)?{...t}:t}})}function Ge(){return pv("string",n=>typeof n=="string"||`Expected a string, but received: ${nf(n)}`)}function IX(n){const e=$et();return new ug({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${nf(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Ce(n){const e=Object.keys(n);return new ug({type:"type",schema:n,*entries(t){if(K$(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return g4(t)||`Expected an object, but received: ${nf(t)}`},coercer(t){return g4(t)?{...t}:t}})}function au(n){const e=n.map(t=>t.type).join(" | ");return new ug({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=AX(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${nf(t)}`,...s]}})}function wR(){return pv("unknown",()=>!0)}function N$(n,e,t){return new ug({...n,coercer:(r,s)=>dEe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const hEe=[],gEe=[],mEe=[],Det=BigInt(0),nB=BigInt(1),Oet=BigInt(2),Let=BigInt(7),Ket=BigInt(256),Wet=BigInt(113);for(let n=0,e=nB,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],hEe.push(2*(5*r+t)),gEe.push((n+1)*(n+2)/2%64);let s=Det;for(let i=0;i<7;i++)e=(e<<nB^(e>>Let)*Wet)%Ket,e&Oet&&(s^=nB<<(nB<<BigInt(i))-nB);mEe.push(s)}const[Net,Fet]=XPe(mEe,!0),hme=(n,e,t)=>t>32?tEe(n,e,t):QPe(n,e,t),gme=(n,e,t)=>t>32?rEe(n,e,t):eEe(n,e,t);function Uet(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=hme(u,l,1)^t[a],y=gme(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=gEe[o],c=hme(s,i,a),u=gme(s,i,a),l=hEe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=Net[r],n[1]^=Fet[r]}t.fill(0)}class _X extends mX{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,h4(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=pQe(this.state)}keccak(){nme||sme(this.state32),Uet(this.state32,this.rounds),nme||sme(this.state32),this.posOut=0,this.pos=0}update(e){iI(this);const{blockLen:t,state:r}=this;e=y6(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){iI(this,!1),O$(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return h4(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(GPe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new _X(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Vet=(n,e,t)=>yX(()=>new _X(e,n,t)),mme=Vet(1,136,256/8);class yEe extends mX{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,yQe(e);const r=y6(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return iI(this),this.iHash.update(e),this}digestInto(e){iI(this),O$(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const pEe=(n,e,t)=>new yEe(n,e).update(t).digest();pEe.create=(n,e)=>new yEe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function yme(n){n.lowS!==void 0&&Gm("lowS",n.lowS),n.prehash!==void 0&&Gm("prehash",n.prehash)}function qet(n){const e=kX(n);vR(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Het,hexToBytes:jet}=tet,MS={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=MS;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Het(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=MS,t=typeof n=="string"?jet(n):n;L$(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=MS._parseInt(t.subarray(2)),{d:o,l:a}=MS._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Mp=BigInt(0),Wa=BigInt(1);BigInt(2);const pme=BigInt(3);BigInt(4);function Get(n){const e=qet(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return vk(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return b6(m,Wa,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(Sk(m)&&(m=kk(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:ZS(Ea("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=zi(p,S)),sd("private key",p,Wa,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=sz((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=sz(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(Ea("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),P=t.eql(t.mul(b,w),t.mul(I,S));return A&&P}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,pme),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,P=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),x=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),P=t.mul(S,I),P=t.add(P,P),w=t.mul(f,P),A=t.mul(b,x),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),P=t.mul(b,P),x=t.mul(f,x),R=t.sub(E,x),R=t.mul(f,R),R=t.add(R,P),P=t.add(E,E),E=t.add(P,E),E=t.add(E,x),E=t.mul(E,R),A=t.add(A,E),x=t.mul(p,I),x=t.add(x,x),E=t.mul(x,R),w=t.sub(w,E),P=t.mul(x,M),P=t.add(P,P),P=t.add(P,P),new d(w,A,P)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,P=t.ZERO,E=t.ZERO;const M=e.a,x=t.mul(e.b,pme);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(x,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),P=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(x,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),P=t.add(P,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,P,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){sd("scalar",f,Mp,e.n);const g=d.ZERO;if(f===Mp)return g;if(f===Wa)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,P=g,E=this;for(;p>Mp||w>Mp;)p&Wa&&(A=A.add(E)),w&Wa&&(P=P.add(E)),E=E.double(),p>>=Wa,w>>=Wa;return S&&(A=A.negate()),I&&(P=P.negate()),P=new d(t.mul(P.px,b.beta),P.py,P.pz),A.add(P)}multiply(f){const{endo:g,n:b}=e;sd("scalar",f,Wa,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:P}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:x,f:R}=this.wNAF(P);E=h.constTimeNegate(I,E),x=h.constTimeNegate(A,x),x=new d(t.mul(x.px,g.beta),x.py,x.pz),S=E.add(x),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===Mp||A===Wa||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===Wa)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===Wa?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Gm("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Gm("isCompressed",f),kk(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=uEe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function Yet(n){const e=kX(n);return vR(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Zet(n){const e=Yet(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return zi(T,r)}function a(T){return YH(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=Get({...e,toBytes(T,v,k){const _=v.toAffine(),B=t.toBytes(_.x),C=vk;return Gm("isCompressed",k),k?C(Uint8Array.from([v.hasEvenY()?2:3]),B):C(Uint8Array.from([4]),B,t.toBytes(_.y))},fromBytes(T){const v=T.length,k=T[0],_=T.subarray(1);if(v===s&&(k===2||k===3)){const B=ZS(_);if(!b6(B,Wa,t.ORDER))throw new Error("Point is not on curve");const C=l(B);let O;try{O=t.sqrt(C)}catch(L){const U=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+U)}const D=(O&Wa)===Wa;return(k&1)===1!==D&&(O=t.neg(O)),{x:B,y:O}}else if(v===i&&k===4){const B=t.fromBytes(_.subarray(0,t.BYTES)),C=t.fromBytes(_.subarray(t.BYTES,2*t.BYTES));return{x:B,y:C}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>kk(aI(T,e.nByteLength));function h(T){const v=r>>Wa;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>ZS(T.slice(v,k));class g{constructor(v,k,_){this.r=v,this.s=k,this.recovery=_,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=Ea("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:_}=MS.toSig(Ea("DER",v));return new g(k,_)}assertValidity(){sd("r",this.r,Wa,r),sd("s",this.s,Wa,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:_,recovery:B}=this,C=A(Ea("msgHash",v));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const O=B===2||B===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(B&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),U=o(-C*L),q=o(_*L),J=c.BASE.multiplyAndAddUnsafe(W,U,q);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return oI(this.toDERHex())}toDERHex(){return MS.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return oI(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=cEe(e.n);return fet(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=Sk(T),k=typeof T=="string",_=(v||k)&&T.length;return v?_===s||_===i:k?_===2*s||_===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=ZS(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},P=SX(e.nBitLength);function E(T){return sd(`num < 2^${e.nBitLength}`,T,Mp,P),aI(T,e.nByteLength)}function M(T,v,k=x){if(["recovered","canonical"].some(j=>j in k))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:B}=e;let{lowS:C,prehash:O,extraEntropy:D}=k;C==null&&(C=!0),T=Ea("msgHash",T),yme(k),O&&(T=Ea("prehashed msgHash",_(T)));const W=A(T),L=u(v),U=[E(L),E(W)];if(D!=null&&D!==!1){const j=D===!0?B(t.BYTES):D;U.push(Ea("extraEntropy",j))}const q=vk(...U),J=W;function Q(j){const X=w(j);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Mp)return;const ne=o(re*o(J+ee*L));if(ne===Mp)return;let _e=(se.x===ee?0:2)|Number(se.y&Wa),Pe=ne;return C&&h(ne)&&(Pe=m(ne),_e^=1),new g(ee,Pe,_e)}return{seed:q,k2sig:Q}}const x={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=x){const{seed:_,k2sig:B}=M(T,v,k),C=e;return sEe(C.hash.outputLen,C.nByteLength,C.hmac)(_,B)}c.BASE._setWindowSize(8);function z(T,v,k,_=R){var se;const B=T;if(v=Ea("msgHash",v),k=Ea("publicKey",k),"strict"in _)throw new Error("options.strict was renamed to lowS");yme(_);const{lowS:C,prehash:O}=_;let D,W;try{if(typeof B=="string"||Sk(B))try{D=g.fromDER(B)}catch(ee){if(!(ee instanceof MS.Err))throw ee;D=g.fromCompact(B)}else if(typeof B=="object"&&typeof B.r=="bigint"&&typeof B.s=="bigint"){const{r:ee,s:ne}=B;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(C&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:U}=D,q=A(v),J=a(U),Q=o(q*J),j=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,j))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Jet(n){return{hash:n,hmac:(e,...t)=>pEe(n,e,kQe(...t)),randomBytes:YPe}}function Xet(n,e){const t=r=>Zet({...n,...Jet(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bEe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),bme=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Qet=BigInt(1),JH=BigInt(2),Sme=(n,e)=>(n+e/JH)/e;function ett(n){const e=bEe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=_o(l,t,e)*l%e,y=_o(d,t,e)*l%e,h=_o(y,JH,e)*u%e,m=_o(h,s,e)*h%e,f=_o(m,i,e)*m%e,g=_o(f,a,e)*f%e,b=_o(g,c,e)*g%e,S=_o(b,a,e)*f%e,p=_o(S,t,e)*l%e,I=_o(p,o,e)*m%e,w=_o(I,r,e)*u%e,A=_o(w,JH,e);if(!XH.eql(XH.sqr(A),n))throw new Error("Cannot find square root");return A}const XH=oEe(bEe,void 0,void 0,{sqrt:ett}),S6=Xet({a:BigInt(0),b:BigInt(7),Fp:XH,n:bme,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=bme,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Qet*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=Sme(i*n,e),c=Sme(-r*n,e);let u=zi(n-a*t-c*s,e),l=zi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},ZH);BigInt(0);S6.ProjectivePoint;const ttt=AR.utils.randomPrivateKey,kme=()=>{const n=AR.utils.randomPrivateKey(),e=m4(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},m4=AR.getPublicKey;function vme(n){try{return AR.ExtendedPoint.fromHex(n),!0}catch{return!1}}const PX=(n,e)=>AR.sign(n,e.slice(0,32)),rtt=AR.verify,dn=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class EX{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(tg(kM,this))}static decode(e){return rg(kM,this,e)}static decodeUnchecked(e){return ng(kM,this,e)}}class ntt extends EX{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const kM=new Map;var SEe;const kEe=32,Mh=32;function stt(n){return n._bn!==void 0}let Ame=1;class ot extends EX{constructor(e){if(super({}),this._bn=void 0,stt(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ae.decode(e);if(t.length!=Mh)throw new Error("Invalid public key input");this._bn=new Ni(t)}else this._bn=new Ni(e);if(this._bn.byteLength()>Mh)throw new Error("Invalid public key input")}}static unique(){const e=new ot(Ame);return Ame+=1,new ot(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ae.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Mh)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=ZH(s);return new ot(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>kEe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,dn(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=ZH(r);if(vme(s))throw new Error("Invalid seeds, address must fall off the curve");return new ot(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new ot(e);return vme(t.toBytes())}}SEe=ot;ot.default=new SEe("11111111111111111111111111111111");kM.set(ot,{kind:"struct",fields:[["_bn","u256"]]});class itt{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=dn(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=dn(ttt()),this._publicKey=dn(m4(this._secretKey))}get publicKey(){return new ot(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const ott=new ot("BPFLoader1111111111111111111111111111111111"),Jp=1280-40-8,k6=127,iz=64;class xX extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(xX.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TX extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TX.prototype,"name",{value:"TransactionExpiredTimeoutError"});class qA extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(qA.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class oz{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const Rn=(n="publicKey")=>ie(32,n),att=(n="signature")=>ie(64,n),zS=(n="string")=>{const e=N([F("length"),F("lengthPadding"),ie(Gt(F(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>F().span+F().span+V.Buffer.from(i,"utf8").length,s},ctt=(n="authorized")=>N([Rn("staker"),Rn("withdrawer")],n),utt=(n="lockup")=>N([Ee("unixTimestamp"),Ee("epoch"),Rn("custodian")],n),ltt=(n="voteInit")=>N([Rn("nodePubkey"),Rn("authorizedVoter"),Rn("authorizedWithdrawer"),te("commission")],n),dtt=(n="voteAuthorizeWithSeedArgs")=>N([F("voteAuthorizationType"),Rn("currentAuthorityDerivedKeyOwnerPubkey"),zS("currentAuthorityDerivedKeySeed"),Rn("newAuthorized")],n);function vEe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return vEe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function Lu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function vl(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function es(n,e){if(!n)throw new Error(e||"Assertion failed")}class v6{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new v6(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];es(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{es(t.length>0,"Expected at least one writable signer key");const[c]=t[0];es(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new ot(c)),...r.map(([c])=>new ot(c)),...s.map(([c])=>new ot(c)),...i.map(([c])=>new ot(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new ot(i),c=e.findIndex(u=>u.equals(a));c>=0&&(es(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const AEe="Reached end of buffer unexpectedly";function oh(n){if(n.length===0)throw new Error(AEe);return n.shift()}function Ku(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(AEe);return n.splice(...e)}class sf{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ot(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ae.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new oz(this.staticAccountKeys)}static compile(e){const t=v6.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new oz(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ae.encode(a.data)}));return new sf({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];vl(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ae.decode(d.data));let f=[];vl(f,y.length);let g=[];return vl(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];vl(s,r.length);let i=V.Buffer.alloc(Jp);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=N([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=N([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(Rn("key"),e,"keys"),Rn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>dn(d.toBytes())),recentBlockhash:Ae.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=oh(t);if(r!==(r&k6))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=oh(t),i=oh(t),o=Lu(t);let a=[];for(let y=0;y<o;y++){const h=Ku(t,0,Mh);a.push(new ot(V.Buffer.from(h)))}const c=Ku(t,0,Mh),u=Lu(t);let l=[];for(let y=0;y<u;y++){const h=oh(t),m=Lu(t),f=Ku(t,0,m),g=Lu(t),b=Ku(t,0,g),S=Ae.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ae.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new sf(d)}}class Ak{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new oz(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=v6.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new oz(a,s).compileInstructions(e.instructions);return new Ak({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();vl(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();vl(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();vl(i,this.addressTableLookups.length);const o=N([te("prefix"),N([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(Rn(),this.staticAccountKeys.length,"staticAccountKeys"),Rn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Jp),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ae.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Jp);for(const r of this.compiledInstructions){const s=Array();vl(s,r.accountKeyIndexes.length);const i=Array();vl(i,r.data.length),e+=N([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Jp);for(const r of this.addressTableLookups){const s=Array();vl(s,r.writableIndexes.length);const i=Array();vl(i,r.readonlyIndexes.length),e+=N([Rn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=oh(t),s=r&k6;es(r!==s,"Expected versioned message but received legacy message");const i=s;es(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:oh(t),numReadonlySignedAccounts:oh(t),numReadonlyUnsignedAccounts:oh(t)},a=[],c=Lu(t);for(let m=0;m<c;m++)a.push(new ot(Ku(t,0,Mh)));const u=Ae.encode(Ku(t,0,Mh)),l=Lu(t),d=[];for(let m=0;m<l;m++){const f=oh(t),g=Lu(t),b=Ku(t,0,g),S=Lu(t),p=new Uint8Array(Ku(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=Lu(t),h=[];for(let m=0;m<y;m++){const f=new ot(Ku(t,0,Mh)),g=Lu(t),b=Ku(t,0,g),S=Lu(t),p=Ku(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new Ak({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const RX={deserializeMessageVersion(n){const e=n[0],t=e&k6;return t===e?"legacy":t},deserialize:n=>{const e=RX.deserializeMessageVersion(n);if(e==="legacy")return sf.from(n);if(e===0)return Ak.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let bm=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const ftt=V.Buffer.alloc(iz).fill(0);class Ds{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class cs{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Ds(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new ot(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ae.encode(g)}});return m.forEach(f=>{es(f.programIdIndex>=0),f.accounts.forEach(g=>es(g>=0))}),new sf({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=PX(r,s.secretKey);this._addSignature(s.publicKey,dn(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){es(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):rtt(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];vl(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return es(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(es(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),es(i.length<=Jp,`Transaction too large: ${i.length} > ${Jp}`),i}get keys(){return es(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return es(this.instructions.length===1),this.instructions[0].programId}get data(){return es(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Lu(t);let s=[];for(let i=0;i<r;i++){const o=Ku(t,0,iz);s.push(Ae.encode(V.Buffer.from(o)))}return cs.populate(sf.from(t),s)}static populate(e,t=[]){const r=new cs;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ae.encode(ftt)?null:Ae.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Ds({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ae.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class BX{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;es(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;es(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new Ds({programId:g,data:dn(m.data),keys:f}))}return new BX({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return sf.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Ak.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class CX{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)es(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(iz));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();vl(t,this.signatures.length);const r=N([ie(t.length,"encodedSignaturesLength"),we(att(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=Lu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(Ku(t,0,iz)));const i=RX.deserialize(new Uint8Array(t));return new CX(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));es(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=PX(t,s.secretKey)}}addSignature(e,t){es(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));es(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const htt=160,gtt=64,mtt=htt/gtt,wEe=1e3/mtt,qf=new ot("SysvarC1ock11111111111111111111111111111111"),ytt=new ot("SysvarEpochSchedu1e111111111111111111111111"),ptt=new ot("Sysvar1nstructions1111111111111111111111111"),kL=new ot("SysvarRecentB1ockHashes11111111111111111111"),cI=new ot("SysvarRent111111111111111111111111111111111"),btt=new ot("SysvarRewards111111111111111111111111111111"),Stt=new ot("SysvarS1otHashes111111111111111111111111111"),ktt=new ot("SysvarS1otHistory11111111111111111111111111"),vL=new ot("SysvarStakeHistory1111111111111111111111111");class az extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const vtt={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class rr extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function QH(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new az({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function cS(n){return new Promise(e=>setTimeout(e,n))}function Fn(n,e){const t=n.layout.span>=0?n.layout.span:vEe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function ks(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const IEe=fe("lamportsPerSignature"),_Ee=N([F("version"),F("state"),Rn("authorizedPubkey"),Rn("nonce"),N([IEe],"feeCalculator")]),ej=_Ee.span;class A6{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=_Ee.decode(dn(e),0);return new A6({authorizedPubkey:new ot(t.authorizedPubkey),nonce:new ot(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const Att=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},wtt=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=Att(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return sg(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=ya(o,n);return r(u,a,c)},i},uI=wtt(8);class Itt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ti))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=ks(ti.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new ot(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=ks(ti.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=ks(ti.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new ot(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=ks(ti.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=ks(ti.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ot(t),seed:r,space:s,programId:new ot(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=ks(ti.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ot(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=ks(ti.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ot(t),seed:r,programId:new ot(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=ks(ti.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ot(t),seed:r,lamports:s,space:i,programId:new ot(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=ks(ti.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ot(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ks(ti.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ks(ti.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=ks(ti.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ot(t)}}static checkProgramId(e){if(!e.equals(yc.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ti=Object.freeze({Create:{index:0,layout:N([F("instruction"),Ee("lamports"),Ee("space"),Rn("programId")])},Assign:{index:1,layout:N([F("instruction"),Rn("programId")])},Transfer:{index:2,layout:N([F("instruction"),uI("lamports")])},CreateWithSeed:{index:3,layout:N([F("instruction"),Rn("base"),zS("seed"),Ee("lamports"),Ee("space"),Rn("programId")])},AdvanceNonceAccount:{index:4,layout:N([F("instruction")])},WithdrawNonceAccount:{index:5,layout:N([F("instruction"),Ee("lamports")])},InitializeNonceAccount:{index:6,layout:N([F("instruction"),Rn("authorized")])},AuthorizeNonceAccount:{index:7,layout:N([F("instruction"),Rn("authorized")])},Allocate:{index:8,layout:N([F("instruction"),Ee("space")])},AllocateWithSeed:{index:9,layout:N([F("instruction"),Rn("base"),zS("seed"),Ee("space"),Rn("programId")])},AssignWithSeed:{index:10,layout:N([F("instruction"),Rn("base"),zS("seed"),Rn("programId")])},TransferWithSeed:{index:11,layout:N([F("instruction"),uI("lamports"),zS("seed"),Rn("programId")])},UpgradeNonceAccount:{index:12,layout:N([F("instruction")])}});class yc{constructor(){}static createAccount(e){const t=ti.Create,r=Fn(t,{lamports:e.lamports,space:e.space,programId:dn(e.programId.toBuffer())});return new Ds({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=ti.TransferWithSeed;t=Fn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:dn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=ti.Transfer;t=Fn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ds({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=ti.AssignWithSeed;t=Fn(s,{base:dn(e.basePubkey.toBuffer()),seed:e.seed,programId:dn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=ti.Assign;t=Fn(s,{programId:dn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ds({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=ti.CreateWithSeed,r=Fn(t,{base:dn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:dn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ds({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new cs;"basePubkey"in e&&"seed"in e?t.add(yc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:ej,programId:this.programId})):t.add(yc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:ej,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=ti.InitializeNonceAccount,r=Fn(t,{authorized:dn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:kL,isSigner:!1,isWritable:!1},{pubkey:cI,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Ds(s)}static nonceAdvance(e){const t=ti.AdvanceNonceAccount,r=Fn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:kL,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Ds(s)}static nonceWithdraw(e){const t=ti.WithdrawNonceAccount,r=Fn(t,{lamports:e.lamports});return new Ds({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:kL,isSigner:!1,isWritable:!1},{pubkey:cI,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=ti.AuthorizeNonceAccount,r=Fn(t,{authorized:dn(e.newAuthorizedPubkey.toBuffer())});return new Ds({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=ti.AllocateWithSeed;t=Fn(s,{base:dn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:dn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=ti.Allocate;t=Fn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ds({keys:r,programId:this.programId,data:t})}}yc.programId=new ot("11111111111111111111111111111111");const _tt=Jp-300;class wk{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/wk.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new cs,h.add(yc.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new cs,h.add(yc.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new cs,h.add(yc.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new cs().add(yc.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await QH(e,h,[t,r],{commitment:"confirmed"})}const o=N([F("instruction"),F("offset"),F("bytesLength"),F("bytesLengthPadding"),we(te("byte"),Gt(F(),-8),"bytes")]),a=wk.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new cs().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(QH(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await cS(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=N([F("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new cs().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:cI,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(wEe/2)))}}return!0}}wk.chunkSize=_tt;const Ptt=new ot("BPFLoader2111111111111111111111111111111111");class Ett{static getMinNumSignatures(e){return wk.getMinNumSignatures(e)}static load(e,t,r,s,i){return wk.load(e,t,r,i,s)}}function xtt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var JF,wme;function Ttt(){if(wme)return JF;wme=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return JF=function(r){var s=t(r,!1);if(s!==void 0)return""+s},JF}var Rtt=Ttt(),Ime=xtt(Rtt);const sB=32;function XF(n){let e=0;for(;n>1;)n/=2,e++;return e}function Btt(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class PEe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=XF(Btt(e+sB+1))-XF(sB)-1,r=this.getSlotsInEpoch(t),s=e-(r-sB);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*sB:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+XF(sB)):this.slotsPerEpoch}}var Ctt=globalThis.fetch;class Mtt extends ay{constructor(e,t,r){const s=i=>{const o=uy(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function ztt(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const _me=56;class tj{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=ztt($tt,e),r=e.length-_me;es(r>=0,"lookup table is invalid"),es(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=N([we(Rn(),s,"addresses")]).decode(e.slice(_me));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new ot(t.authority[0]):void 0,addresses:i.map(o=>new ot(o))}}}const $tt={index:1,layout:N([F("typeIndex"),uI("deactivationSlot"),fe("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(Rn(),Gt(te(),-1),"authority")])},Dtt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Ott(n){const e=n.match(Dtt);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const go=N$(wX(ot),Ge(),n=>new ot(n)),EEe=IX([Ge(),Gi("base64")]),MX=N$(wX(V.Buffer),EEe,n=>V.Buffer.from(n[0],"base64")),xEe=30*1e3;function Ltt(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function qs(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function Pme(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function TEe(n){return au([Ce({jsonrpc:Gi("2.0"),id:Ge(),result:n}),Ce({jsonrpc:Gi("2.0"),id:Ge(),error:Ce({code:wR(),message:Ge(),data:kr(zet())})})])}const Ktt=TEe(wR());function en(n){return N$(TEe(n),Ktt,e=>"error"in e?e:{...e,result:bt(e.result,n)})}function Oo(n){return en(Ce({context:Ce({slot:me()}),value:n}))}function w6(n){return Ce({context:Ce({slot:me()}),value:n})}function QF(n,e){return n===0?new Ak({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new ot(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ae.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new sf(e)}const Wtt=Ce({foundation:me(),foundationTerm:me(),initial:me(),taper:me(),terminal:me()}),Ntt=en(xt(Lt(Ce({epoch:me(),effectiveSlot:me(),amount:me(),postBalance:me(),commission:kr(Lt(me()))})))),Ftt=xt(Ce({slot:me(),prioritizationFee:me()})),Utt=Ce({total:me(),validator:me(),foundation:me(),epoch:me()}),Vtt=Ce({epoch:me(),slotIndex:me(),slotsInEpoch:me(),absoluteSlot:me(),blockHeight:kr(me()),transactionCount:kr(me())}),qtt=Ce({slotsPerEpoch:me(),leaderScheduleSlotOffset:me(),warmup:Hh(),firstNormalEpoch:me(),firstNormalSlot:me()}),Htt=fEe(Ge(),xt(me())),bv=Lt(au([Ce({}),Ge()])),jtt=Ce({err:bv}),Gtt=Gi("receivedSignature"),Ytt=Ce({"solana-core":Ge(),"feature-set":kr(me())}),Ztt=Ce({program:Ge(),programId:go,parsed:wR()}),Jtt=Ce({programId:go,accounts:xt(go),data:Ge()}),Eme=Oo(Ce({err:Lt(au([Ce({}),Ge()])),logs:Lt(xt(Ge())),accounts:kr(Lt(xt(Lt(Ce({executable:Hh(),owner:Ge(),lamports:me(),data:xt(Ge()),rentEpoch:kr(me())}))))),unitsConsumed:kr(me()),returnData:kr(Lt(Ce({programId:Ge(),data:IX([Ge(),Gi("base64")])}))),innerInstructions:kr(Lt(xt(Ce({index:me(),instructions:xt(au([Ztt,Jtt]))}))))})),Xtt=Oo(Ce({byIdentity:fEe(Ge(),xt(me())),range:Ce({firstSlot:me(),lastSlot:me()})}));function Qtt(n,e,t,r,s,i){const o=t||Ctt;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new cy(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},ent)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await cS(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function ert(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function trt(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const rrt=en(Wtt),nrt=en(Utt),srt=en(Ftt),irt=en(Vtt),ort=en(qtt),art=en(Htt),crt=en(me()),urt=Oo(Ce({total:me(),circulating:me(),nonCirculating:me(),nonCirculatingAccounts:xt(go)})),rj=Ce({amount:Ge(),uiAmount:Lt(me()),decimals:me(),uiAmountString:kr(Ge())}),lrt=Oo(xt(Ce({address:go,amount:Ge(),uiAmount:Lt(me()),decimals:me(),uiAmountString:kr(Ge())}))),drt=Oo(xt(Ce({pubkey:go,account:Ce({executable:Hh(),owner:go,lamports:me(),data:MX,rentEpoch:me()})}))),nj=Ce({program:Ge(),parsed:wR(),space:me()}),frt=Oo(xt(Ce({pubkey:go,account:Ce({executable:Hh(),owner:go,lamports:me(),data:nj,rentEpoch:me()})}))),hrt=Oo(xt(Ce({lamports:me(),address:go}))),cz=Ce({executable:Hh(),owner:go,lamports:me(),data:MX,rentEpoch:me()}),grt=Ce({pubkey:go,account:cz}),mrt=N$(au([wX(V.Buffer),nj]),au([EEe,nj]),n=>Array.isArray(n)?bt(n,MX):n),sj=Ce({executable:Hh(),owner:go,lamports:me(),data:mrt,rentEpoch:me()}),yrt=Ce({pubkey:go,account:sj}),prt=Ce({state:au([Gi("active"),Gi("inactive"),Gi("activating"),Gi("deactivating")]),active:me(),inactive:me()}),brt=en(xt(Ce({signature:Ge(),slot:me(),err:bv,memo:Lt(Ge()),blockTime:kr(Lt(me()))}))),Srt=en(xt(Ce({signature:Ge(),slot:me(),err:bv,memo:Lt(Ge()),blockTime:kr(Lt(me()))}))),krt=Ce({subscription:me(),result:w6(cz)}),vrt=Ce({pubkey:go,account:cz}),Art=Ce({subscription:me(),result:w6(vrt)}),wrt=Ce({parent:me(),slot:me(),root:me()}),Irt=Ce({subscription:me(),result:wrt}),_rt=au([Ce({type:au([Gi("firstShredReceived"),Gi("completed"),Gi("optimisticConfirmation"),Gi("root")]),slot:me(),timestamp:me()}),Ce({type:Gi("createdBank"),parent:me(),slot:me(),timestamp:me()}),Ce({type:Gi("frozen"),slot:me(),timestamp:me(),stats:Ce({numTransactionEntries:me(),numSuccessfulTransactions:me(),numFailedTransactions:me(),maxTransactionsPerEntry:me()})}),Ce({type:Gi("dead"),slot:me(),timestamp:me(),err:Ge()})]),Prt=Ce({subscription:me(),result:_rt}),Ert=Ce({subscription:me(),result:w6(au([jtt,Gtt]))}),xrt=Ce({subscription:me(),result:me()}),Trt=Ce({pubkey:Ge(),gossip:Lt(Ge()),tpu:Lt(Ge()),rpc:Lt(Ge()),version:Lt(Ge())}),xme=Ce({votePubkey:Ge(),nodePubkey:Ge(),activatedStake:me(),epochVoteAccount:Hh(),epochCredits:xt(IX([me(),me(),me()])),commission:me(),lastVote:me(),rootSlot:Lt(me())}),Rrt=en(Ce({current:xt(xme),delinquent:xt(xme)})),Brt=au([Gi("processed"),Gi("confirmed"),Gi("finalized")]),Crt=Ce({slot:me(),confirmations:Lt(me()),err:bv,confirmationStatus:kr(Brt)}),Mrt=Oo(xt(Lt(Crt))),zrt=en(me()),REe=Ce({accountKey:go,writableIndexes:xt(me()),readonlyIndexes:xt(me())}),zX=Ce({signatures:xt(Ge()),message:Ce({accountKeys:xt(Ge()),header:Ce({numRequiredSignatures:me(),numReadonlySignedAccounts:me(),numReadonlyUnsignedAccounts:me()}),instructions:xt(Ce({accounts:xt(me()),data:Ge(),programIdIndex:me()})),recentBlockhash:Ge(),addressTableLookups:kr(xt(REe))})}),BEe=Ce({pubkey:go,signer:Hh(),writable:Hh(),source:kr(au([Gi("transaction"),Gi("lookupTable")]))}),CEe=Ce({accountKeys:xt(BEe),signatures:xt(Ge())}),MEe=Ce({parsed:wR(),program:Ge(),programId:go}),zEe=Ce({accounts:xt(go),data:Ge(),programId:go}),$rt=au([zEe,MEe]),Drt=au([Ce({parsed:wR(),program:Ge(),programId:Ge()}),Ce({accounts:xt(Ge()),data:Ge(),programId:Ge()})]),$Ee=N$($rt,Drt,n=>"accounts"in n?bt(n,zEe):bt(n,MEe)),DEe=Ce({signatures:xt(Ge()),message:Ce({accountKeys:xt(BEe),instructions:xt($Ee),recentBlockhash:Ge(),addressTableLookups:kr(Lt(xt(REe)))})}),y4=Ce({accountIndex:me(),mint:Ge(),owner:kr(Ge()),programId:kr(Ge()),uiTokenAmount:rj}),OEe=Ce({writable:xt(go),readonly:xt(go)}),I6=Ce({err:bv,fee:me(),innerInstructions:kr(Lt(xt(Ce({index:me(),instructions:xt(Ce({accounts:xt(me()),data:Ge(),programIdIndex:me()}))})))),preBalances:xt(me()),postBalances:xt(me()),logMessages:kr(Lt(xt(Ge()))),preTokenBalances:kr(Lt(xt(y4))),postTokenBalances:kr(Lt(xt(y4))),loadedAddresses:kr(OEe),computeUnitsConsumed:kr(me())}),$X=Ce({err:bv,fee:me(),innerInstructions:kr(Lt(xt(Ce({index:me(),instructions:xt($Ee)})))),preBalances:xt(me()),postBalances:xt(me()),logMessages:kr(Lt(xt(Ge()))),preTokenBalances:kr(Lt(xt(y4))),postTokenBalances:kr(Lt(xt(y4))),loadedAddresses:kr(OEe),computeUnitsConsumed:kr(me())}),IR=au([Gi(0),Gi("legacy")]),Sv=Ce({pubkey:Ge(),lamports:me(),postBalance:Lt(me()),rewardType:Lt(Ge()),commission:kr(Lt(me()))}),Ort=en(Lt(Ce({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:me(),transactions:xt(Ce({transaction:zX,meta:Lt(I6),version:kr(IR)})),rewards:kr(xt(Sv)),blockTime:Lt(me()),blockHeight:Lt(me())}))),Lrt=en(Lt(Ce({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:me(),rewards:kr(xt(Sv)),blockTime:Lt(me()),blockHeight:Lt(me())}))),Krt=en(Lt(Ce({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:me(),transactions:xt(Ce({transaction:CEe,meta:Lt(I6),version:kr(IR)})),rewards:kr(xt(Sv)),blockTime:Lt(me()),blockHeight:Lt(me())}))),Wrt=en(Lt(Ce({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:me(),transactions:xt(Ce({transaction:DEe,meta:Lt($X),version:kr(IR)})),rewards:kr(xt(Sv)),blockTime:Lt(me()),blockHeight:Lt(me())}))),Nrt=en(Lt(Ce({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:me(),transactions:xt(Ce({transaction:CEe,meta:Lt($X),version:kr(IR)})),rewards:kr(xt(Sv)),blockTime:Lt(me()),blockHeight:Lt(me())}))),Frt=en(Lt(Ce({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:me(),rewards:kr(xt(Sv)),blockTime:Lt(me()),blockHeight:Lt(me())}))),Urt=en(Lt(Ce({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:me(),transactions:xt(Ce({transaction:zX,meta:Lt(I6)})),rewards:kr(xt(Sv)),blockTime:Lt(me())}))),Tme=en(Lt(Ce({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:me(),signatures:xt(Ge()),blockTime:Lt(me())}))),eU=en(Lt(Ce({slot:me(),meta:Lt(I6),blockTime:kr(Lt(me())),transaction:zX,version:kr(IR)}))),g3=en(Lt(Ce({slot:me(),transaction:DEe,meta:Lt($X),blockTime:kr(Lt(me())),version:kr(IR)}))),Vrt=Oo(Ce({blockhash:Ge(),feeCalculator:Ce({lamportsPerSignature:me()})})),qrt=Oo(Ce({blockhash:Ge(),lastValidBlockHeight:me()})),Hrt=Oo(Hh()),jrt=Ce({slot:me(),numTransactions:me(),numSlots:me(),samplePeriodSecs:me()}),Grt=en(xt(jrt)),Yrt=Oo(Lt(Ce({feeCalculator:Ce({lamportsPerSignature:me()})}))),Zrt=en(Ge()),Jrt=en(Ge()),Xrt=Ce({err:bv,logs:xt(Ge()),signature:Ge()}),Qrt=Ce({result:w6(Xrt),subscription:me()}),ent={"solana-client":"js/1.0.0-maintenance"};class tnt{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=qs(l),h=this._buildArgs([],d,void 0,y),m=Ime(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=bt(f,en(me()));if("error"in g)throw new rr(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=Ltt(e),this._rpcWsEndpoint=r||Ott(e),this._rpcClient=Qtt(e,s,i,o,a,c),this._rpcRequest=ert(this._rpcClient),this._rpcBatchRequest=trt(this._rpcClient),this._rpcWebSocket=new Mtt(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=qs(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=bt(o,Oo(me()));if("error"in a)throw new rr(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=bt(t,en(Lt(me())));if("error"in r)throw new rr(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=bt(e,en(me()));if("error"in t)throw new rr(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=bt(e,crt);if("error"in t)throw new rr(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=bt(r,urt);if("error"in s)throw new rr(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=bt(s,Oo(rj));if("error"in i)throw new rr(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=bt(s,Oo(rj));if("error"in i)throw new rr(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=qs(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=bt(c,drt);if("error"in u)throw new rr(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=bt(o,frt);if("error"in a)throw new rr(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=bt(s,hrt);if("error"in i)throw new rr(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=bt(s,lrt);if("error"in i)throw new rr(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=qs(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=bt(o,Oo(Lt(cz)));if("error"in a)throw new rr(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=qs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=bt(o,Oo(Lt(sj)));if("error"in a)throw new rr(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=qs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=bt(a,Oo(xt(Lt(sj))));if("error"in c)throw new rr(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=qs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=bt(a,Oo(xt(Lt(cz))));if("error"in c)throw new rr(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=qs(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=bt(a,en(prt));if("error"in c)throw new rr(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=qs(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:Pme(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=xt(grt),l=o.withContext===!0?bt(c,Oo(u)):bt(c,en(u));if("error"in l)throw new rr(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=qs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=bt(o,en(xt(yrt)));if("error"in a)throw new rr(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ae.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return es(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:bm.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:bm.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await cS(1e3),i||(h=await y(),i))return;d({__type:bm.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===bm.PROCESSED)l=d.response;else throw new xX(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:bm.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await cS(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===bm.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await cS(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new qA(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new qA(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new qA(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new qA(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:bm.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===bm.PROCESSED)a=c.response;else throw new TX(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=bt(e,en(xt(Trt)));if("error"in t)throw new rr(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=bt(r,Rrt);if("error"in s)throw new rr(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=qs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=bt(i,en(me()));if("error"in o)throw new rr(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=qs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=bt(i,en(Ge()));if("error"in o)throw new rr(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=bt(s,en(xt(go)));if("error"in i)throw new rr(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);es(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=bt(s,Mrt);if("error"in i)throw new rr(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=qs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=bt(i,en(me()));if("error"in o)throw new rr(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=bt(r,rrt);if("error"in s)throw new rr(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=qs(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=bt(a,Ntt);if("error"in c)throw new rr(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=bt(e,nrt);if("error"in t)throw new rr(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=qs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=bt(i,irt);if("error"in o)throw new rr(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=bt(e,ort);if("error"in t)throw new rr(t.error,"failed to get epoch schedule");const r=t.result;return new PEe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=bt(e,art);if("error"in t)throw new rr(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=bt(s,zrt);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=bt(r,Vrt);if("error"in s)throw new rr(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=bt(t,Grt);if("error"in r)throw new rr(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=bt(s,Yrt);if("error"in i)throw new rr(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=dn(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=bt(i,Oo(Lt(me())));if("error"in o)throw new rr(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=bt(s,srt);if("error"in i)throw new rr(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=qs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=bt(i,qrt);if("error"in o)throw new rr(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=qs(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=bt(o,Hrt);if("error"in a)throw new rr(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=bt(e,en(Ytt));if("error"in t)throw new rr(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=bt(e,en(Ge()));if("error"in t)throw new rr(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=qs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=bt(o,Krt);if("error"in a)throw a.error;return a.result}case"none":{const a=bt(o,Lrt);if("error"in a)throw a.error;return a.result}default:{const a=bt(o,Ort);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:QF(d,u.message)},version:d}))}:null}}}catch(a){throw new rr(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=qs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=bt(o,Nrt);if("error"in a)throw a.error;return a.result}case"none":{const a=bt(o,Frt);if("error"in a)throw a.error;return a.result}default:{const a=bt(o,Wrt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new rr(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=bt(i,Xtt);if("error"in o)throw new rr(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=qs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=bt(o,eU);if("error"in a)throw new rr(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:QF(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=qs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=bt(o,g3);if("error"in a)throw new rr(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=qs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=bt(c,g3);if("error"in u)throw new rr(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=qs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=bt(c,eU);if("error"in u)throw new rr(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:QF(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=bt(s,Urt);if("error"in i)throw new rr(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new sf(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:cs.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=bt(i,en(xt(me())));if("error"in o)throw new rr(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=bt(s,Tme);if("error"in i)throw new rr(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=bt(s,Tme);if("error"in i)throw new rr(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=bt(s,eU);if("error"in i)throw new rr(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new sf(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:cs.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=bt(s,g3);if("error"in i)throw new rr(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=bt(o,g3);if("error"in a)throw new rr(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=bt(i,brt);if("error"in o)throw new rr(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=bt(i,Srt);if("error"in o)throw new rr(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new tj({key:e,state:tj.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=A6.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=bt(r,Zrt);if("error"in s)throw new rr(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await cS(100);const r=Date.now()-this._blockhashInfo.lastFetch>=xEe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await cS(wEe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=qs(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=bt(i,Oo(me()));if("error"in o)throw new rr(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=bt(p,Eme);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof cs){let m=e;s=new cs,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=cs.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=bt(y,Eme);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new az({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=dn(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=bt(a,Jrt);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new az({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=bt(e,krt);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=Ime([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];es(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=qs(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=bt(e,Art);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=qs(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:Pme(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=bt(e,Qrt);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=bt(e,Irt);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=bt(e,Prt);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=bt(e,Ert);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=bt(e,xrt);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class pw{constructor(e){this._keypair=void 0,this._keypair=e??kme()}static generate(){return new pw(kme())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=m4(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new pw({publicKey:r,secretKey:e})}static fromSeed(e){const t=m4(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new pw({publicKey:t,secretKey:r})}get publicKey(){return new ot(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const zm=Object.freeze({CreateLookupTable:{index:0,layout:N([F("instruction"),uI("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:N([F("instruction")])},ExtendLookupTable:{index:2,layout:N([F("instruction"),uI(),we(Rn(),Gt(F(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:N([F("instruction")])},CloseLookupTable:{index:4,layout:N([F("instruction")])}});class rnt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(zm))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=ks(zm.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=ks(zm.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new ot(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(DX.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class DX{constructor(){}static createLookupTable(e){const[t,r]=ot.findProgramAddressSync([e.authority.toBuffer(),ya(BigInt(e.recentSlot),8)],this.programId),s=zm.CreateLookupTable,i=Fn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:yc.programId,isSigner:!1,isWritable:!1}];return[new Ds({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=zm.FreezeLookupTable,r=Fn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ds({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=zm.ExtendLookupTable,r=Fn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:yc.programId,isSigner:!1,isWritable:!1}),new Ds({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=zm.DeactivateLookupTable,r=Fn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ds({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=zm.CloseLookupTable,r=Fn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Ds({programId:this.programId,keys:s,data:r})}}DX.programId=new ot("AddressLookupTab1e1111111111111111111111111");class nnt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ah))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=ks(ah.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=ks(ah.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=ks(ah.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=ks(ah.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(OX.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const ah=Object.freeze({RequestUnits:{index:0,layout:N([te("instruction"),F("units"),F("additionalFee")])},RequestHeapFrame:{index:1,layout:N([te("instruction"),F("bytes")])},SetComputeUnitLimit:{index:2,layout:N([te("instruction"),F("units")])},SetComputeUnitPrice:{index:3,layout:N([te("instruction"),uI("microLamports")])}});class OX{constructor(){}static requestUnits(e){const t=ah.RequestUnits,r=Fn(t,e);return new Ds({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=ah.RequestHeapFrame,r=Fn(t,e);return new Ds({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=ah.SetComputeUnitLimit,r=Fn(t,e);return new Ds({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=ah.SetComputeUnitPrice,r=Fn(t,{microLamports:BigInt(e.microLamports)});return new Ds({keys:[],programId:this.programId,data:r})}}OX.programId=new ot("ComputeBudget111111111111111111111111111111");const Rme=64,Bme=32,Cme=64,Mme=N([te("numSignatures"),te("padding"),xe("signatureOffset"),xe("signatureInstructionIndex"),xe("publicKeyOffset"),xe("publicKeyInstructionIndex"),xe("messageDataOffset"),xe("messageDataSize"),xe("messageInstructionIndex")]);class _6{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;es(t.length===Bme,`Public Key must be ${Bme} bytes but received ${t.length} bytes`),es(s.length===Cme,`Signature must be ${Cme} bytes but received ${s.length} bytes`);const o=Mme.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return Mme.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new Ds({keys:[],programId:_6.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;es(t.length===Rme,`Private key must be ${Rme} bytes but received ${t.length} bytes`);try{const i=pw.fromSecretKey(t),o=i.publicKey.toBytes(),a=PX(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}_6.programId=new ot("Ed25519SigVerify111111111111111111111111111");const snt=(n,e)=>{const t=S6.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};S6.utils.isValidPrivateKey;const int=S6.getPublicKey,zme=32,tU=20,$me=64,ont=11,rU=N([te("numSignatures"),xe("signatureOffset"),te("signatureInstructionIndex"),xe("ethAddressOffset"),te("ethAddressInstructionIndex"),xe("messageDataOffset"),xe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class bw{constructor(){}static publicKeyToEthAddress(e){es(e.length===$me,`Public key must be ${$me} bytes but received ${e.length} bytes`);try{return V.Buffer.from(mme(dn(e))).slice(-tU)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return bw.createInstructionWithEthAddress({ethAddress:bw.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,es(a.length===tU,`Address must be ${tU} bytes but received ${a.length} bytes`);const c=1+ont,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(rU.span+r.length);return rU.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:dn(s),ethAddress:dn(a),recoveryId:i},h),h.fill(dn(r),rU.span),new Ds({keys:[],programId:bw.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;es(t.length===zme,`Private key must be ${zme} bytes but received ${t.length} bytes`);try{const i=dn(t),o=int(i,!1).slice(1),a=V.Buffer.from(mme(dn(r))),[c,u]=snt(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}bw.programId=new ot("KeccakSecp256k11111111111111111111111111111");var LEe;const KEe=new ot("StakeConfig11111111111111111111111111111111");class WEe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class F${constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}LEe=F$;F$.default=new LEe(0,0,ot.default);class ant{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Za))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=ks(Za.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new WEe(new ot(t.staker),new ot(t.withdrawer)),lockup:new F$(r.unixTimestamp,r.epoch,new ot(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),ks(Za.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=ks(Za.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ot(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=ks(Za.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new ot(i),newAuthorizedPubkey:new ot(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ks(Za.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ks(Za.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ks(Za.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ks(Za.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(P6.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Za=Object.freeze({Initialize:{index:0,layout:N([F("instruction"),ctt(),utt()])},Authorize:{index:1,layout:N([F("instruction"),Rn("newAuthorized"),F("stakeAuthorizationType")])},Delegate:{index:2,layout:N([F("instruction")])},Split:{index:3,layout:N([F("instruction"),Ee("lamports")])},Withdraw:{index:4,layout:N([F("instruction"),Ee("lamports")])},Deactivate:{index:5,layout:N([F("instruction")])},Merge:{index:7,layout:N([F("instruction")])},AuthorizeWithSeed:{index:8,layout:N([F("instruction"),Rn("newAuthorized"),F("stakeAuthorizationType"),zS("authoritySeed"),Rn("authorityOwner")])}}),cnt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class P6{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||F$.default,o=Za.Initialize,a=Fn(o,{authorized:{staker:dn(r.staker.toBuffer()),withdrawer:dn(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:dn(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cI,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Ds(c)}static createAccountWithSeed(e){const t=new cs;t.add(yc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new cs;t.add(yc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=Za.Delegate,o=Fn(i);return new cs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:qf,isSigner:!1,isWritable:!1},{pubkey:vL,isSigner:!1,isWritable:!1},{pubkey:KEe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=Za.Authorize,c=Fn(a,{newAuthorized:dn(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:qf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new cs().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Za.AuthorizeWithSeed,l=Fn(u,{newAuthorized:dn(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:dn(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:qf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new cs().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=Za.Split,a=Fn(o,{lamports:i});return new Ds({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new cs;return r.add(yc.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new cs;return u.add(yc.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(yc.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=Za.Merge,o=Fn(i);return new cs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:qf,isSigner:!1,isWritable:!1},{pubkey:vL,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=Za.Withdraw,c=Fn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:qf,isSigner:!1,isWritable:!1},{pubkey:vL,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new cs().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=Za.Deactivate,i=Fn(s);return new cs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:qf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}P6.programId=new ot("Stake11111111111111111111111111111111111111");P6.space=200;class NEe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class unt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ch))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=ks(ch.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new NEe(new ot(t.nodePubkey),new ot(t.authorizedVoter),new ot(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=ks(ch.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ot(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=ks(ch.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ot(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new ot(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ks(ch.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(_R.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ch=Object.freeze({InitializeAccount:{index:0,layout:N([F("instruction"),ltt()])},Authorize:{index:1,layout:N([F("instruction"),Rn("newAuthorized"),F("voteAuthorizationType")])},Withdraw:{index:3,layout:N([F("instruction"),Ee("lamports")])},UpdateValidatorIdentity:{index:4,layout:N([F("instruction")])},AuthorizeWithSeed:{index:10,layout:N([F("instruction"),dtt()])}}),lnt=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class _R{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=ch.InitializeAccount,o=Fn(i,{voteInit:{nodePubkey:dn(s.nodePubkey.toBuffer()),authorizedVoter:dn(s.authorizedVoter.toBuffer()),authorizedWithdrawer:dn(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cI,isSigner:!1,isWritable:!1},{pubkey:qf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Ds(a)}static createAccount(e){const t=new cs;return t.add(yc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=ch.Authorize,a=Fn(o,{newAuthorized:dn(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:qf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new cs().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=ch.AuthorizeWithSeed,u=Fn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:dn(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:dn(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:qf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new cs().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=ch.Withdraw,a=Fn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new cs().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return _R.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=ch.UpdateValidatorIdentity,o=Fn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new cs().add({keys:a,programId:this.programId,data:o})}}_R.programId=new ot("Vote111111111111111111111111111111111111111");_R.space=3762;const FEe=new ot("Va1idator1nfo111111111111111111111111111111"),dnt=Ce({name:Ge(),website:kr(Ge()),details:kr(Ge()),iconUrl:kr(Ge()),keybaseUsername:kr(Ge())});class LX{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Lu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new ot(Ku(t,0,Mh)),a=oh(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(FEe)&&s[1].isSigner){const i=zS().decode(V.Buffer.from(t)),o=JSON.parse(i);return lEe(o,dnt),new LX(s[1].publicKey,o)}return null}}const fnt=new ot("Vote111111111111111111111111111111111111111"),hnt=N([Rn("nodePubkey"),Rn("authorizedWithdrawer"),te("commission"),fe(),we(N([fe("slot"),F("confirmationCount")]),Gt(F(),-8),"votes"),te("rootSlotValid"),fe("rootSlot"),fe(),we(N([fe("epoch"),Rn("authorizedVoter")]),Gt(F(),-8),"authorizedVoters"),N([we(N([Rn("authorizedPubkey"),fe("epochOfLastAuthorizedSwitch"),fe("targetEpoch")]),32,"buf"),fe("idx"),te("isEmpty")],"priorVoters"),fe(),we(N([fe("epoch"),fe("credits"),fe("prevCredits")]),Gt(F(),-8),"epochCredits"),N([fe("slot"),fe("timestamp")],"lastTimestamp")]);class KX{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=hnt.decode(dn(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new KX({nodePubkey:new ot(r.nodePubkey),authorizedWithdrawer:new ot(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(gnt),priorVoters:mnt(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function gnt({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new ot(n)}}function Dme({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new ot(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function mnt({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(Dme),...n.slice(0,e).map(Dme)]}const Ome={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function ynt(n,e){const t=e===!1?"http":"https";if(!n)return Ome[t].devnet;const r=Ome[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function pnt(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new az({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const bnt=1e9;var Snt=Object.freeze(Object.defineProperty({__proto__:null,Account:itt,AddressLookupTableAccount:tj,AddressLookupTableInstruction:rnt,AddressLookupTableProgram:DX,Authorized:WEe,BLOCKHASH_CACHE_TIMEOUT_MS:xEe,BPF_LOADER_DEPRECATED_PROGRAM_ID:ott,BPF_LOADER_PROGRAM_ID:Ptt,BpfLoader:Ett,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:ah,ComputeBudgetInstruction:nnt,ComputeBudgetProgram:OX,Connection:tnt,Ed25519Program:_6,Enum:ntt,EpochSchedule:PEe,FeeCalculatorLayout:IEe,Keypair:pw,LAMPORTS_PER_SOL:bnt,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:zm,Loader:wk,Lockup:F$,MAX_SEED_LENGTH:kEe,Message:sf,MessageAccountKeys:oz,MessageV0:Ak,NONCE_ACCOUNT_LENGTH:ej,NonceAccount:A6,PACKET_DATA_SIZE:Jp,PUBLIC_KEY_LENGTH:Mh,PublicKey:ot,SIGNATURE_LENGTH_IN_BYTES:iz,SOLANA_SCHEMA:kM,STAKE_CONFIG_ID:KEe,STAKE_INSTRUCTION_LAYOUTS:Za,SYSTEM_INSTRUCTION_LAYOUTS:ti,SYSVAR_CLOCK_PUBKEY:qf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:ytt,SYSVAR_INSTRUCTIONS_PUBKEY:ptt,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:kL,SYSVAR_RENT_PUBKEY:cI,SYSVAR_REWARDS_PUBKEY:btt,SYSVAR_SLOT_HASHES_PUBKEY:Stt,SYSVAR_SLOT_HISTORY_PUBKEY:ktt,SYSVAR_STAKE_HISTORY_PUBKEY:vL,Secp256k1Program:bw,SendTransactionError:az,SolanaJSONRPCError:rr,SolanaJSONRPCErrorCode:vtt,StakeAuthorizationLayout:cnt,StakeInstruction:ant,StakeProgram:P6,Struct:EX,SystemInstruction:Itt,SystemProgram:yc,Transaction:cs,TransactionExpiredBlockheightExceededError:xX,TransactionExpiredNonceInvalidError:qA,TransactionExpiredTimeoutError:TX,TransactionInstruction:Ds,TransactionMessage:BX,TransactionStatus:bm,VALIDATOR_INFO_KEY:FEe,VERSION_PREFIX_MASK:k6,VOTE_PROGRAM_ID:fnt,ValidatorInfo:LX,VersionedMessage:RX,VersionedTransaction:CX,VoteAccount:KX,VoteAuthorizationLayout:lnt,VoteInit:NEe,VoteInstruction:unt,VoteProgram:_R,clusterApiUrl:ynt,sendAndConfirmRawTransaction:pnt,sendAndConfirmTransaction:QH},Symbol.toStringTag,{value:"Module"})),di=Wl(Snt),WX={},UEe={};Object.defineProperty(UEe,"__esModule",{value:!0});var VEe={},Xb={};function p4(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function knt(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function U$(n,...e){if(!knt(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function vnt(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");p4(n.outputLen),p4(n.blockLen)}function lI(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function qEe(n,e){U$(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const nU=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ant=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),sU=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),_f=(n,e)=>n<<32-e|n>>>e,Lme=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,wnt=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function Kme(n){for(let e=0;e<n.length;e++)n[e]=wnt(n[e])}function Int(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function E6(n){return typeof n=="string"&&(n=Int(n)),U$(n),n}function _nt(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];U$(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class NX{clone(){return this._cloneInto()}}function FX(n){const e=r=>n().update(E6(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function HEe(n=32){if(nU&&typeof nU.getRandomValues=="function")return nU.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function Pnt(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const Ent=(n,e,t)=>n&e^~n&t,xnt=(n,e,t)=>n&e^n&t^e&t;class jEe extends NX{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=sU(this.buffer)}update(e){lI(this);const{view:t,buffer:r,blockLen:s}=this;e=E6(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=sU(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){lI(this),qEe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;Pnt(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=sU(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const m3=BigInt(2**32-1),ij=BigInt(32);function GEe(n,e=!1){return e?{h:Number(n&m3),l:Number(n>>ij&m3)}:{h:Number(n>>ij&m3)|0,l:Number(n&m3)|0}}function YEe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=GEe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const Tnt=(n,e)=>BigInt(n>>>0)<<ij|BigInt(e>>>0),Rnt=(n,e,t)=>n>>>t,Bnt=(n,e,t)=>n<<32-t|e>>>t,Cnt=(n,e,t)=>n>>>t|e<<32-t,Mnt=(n,e,t)=>n<<32-t|e>>>t,znt=(n,e,t)=>n<<64-t|e>>>t-32,$nt=(n,e,t)=>n>>>t-32|e<<64-t,Dnt=(n,e)=>e,Ont=(n,e)=>n,ZEe=(n,e,t)=>n<<t|e>>>32-t,JEe=(n,e,t)=>e<<t|n>>>32-t,XEe=(n,e,t)=>e<<t-32|n>>>64-t,QEe=(n,e,t)=>n<<t-32|e>>>64-t;function Lnt(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const Knt=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),Wnt=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,Nnt=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),Fnt=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,Unt=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),Vnt=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,qnt={fromBig:GEe,split:YEe,toBig:Tnt,shrSH:Rnt,shrSL:Bnt,rotrSH:Cnt,rotrSL:Mnt,rotrBH:znt,rotrBL:$nt,rotr32H:Dnt,rotr32L:Ont,rotlSH:ZEe,rotlSL:JEe,rotlBH:XEe,rotlBL:QEe,add:Lnt,add3L:Knt,add3H:Wnt,add4L:Nnt,add4H:Fnt,add5H:Vnt,add5L:Unt};var Vr=qnt;const[Hnt,jnt]=(()=>Vr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Ly=new Uint32Array(80),Ky=new Uint32Array(80);class Gnt extends jEe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Ly[p]=e.getUint32(t),Ky[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Ly[p-15]|0,w=Ky[p-15]|0,A=Vr.rotrSH(I,w,1)^Vr.rotrSH(I,w,8)^Vr.shrSH(I,w,7),P=Vr.rotrSL(I,w,1)^Vr.rotrSL(I,w,8)^Vr.shrSL(I,w,7),E=Ly[p-2]|0,M=Ky[p-2]|0,x=Vr.rotrSH(E,M,19)^Vr.rotrBH(E,M,61)^Vr.shrSH(E,M,6),R=Vr.rotrSL(E,M,19)^Vr.rotrBL(E,M,61)^Vr.shrSL(E,M,6),$=Vr.add4L(P,R,Ky[p-7],Ky[p-16]),z=Vr.add4H($,A,x,Ly[p-7],Ly[p-16]);Ly[p]=z|0,Ky[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Vr.rotrSH(d,y,14)^Vr.rotrSH(d,y,18)^Vr.rotrBH(d,y,41),w=Vr.rotrSL(d,y,14)^Vr.rotrSL(d,y,18)^Vr.rotrBL(d,y,41),A=d&h^~d&f,P=y&m^~y&g,E=Vr.add5L(S,w,P,jnt[p],Ky[p]),M=Vr.add5H(E,b,I,A,Hnt[p],Ly[p]),x=E|0,R=Vr.rotrSH(r,s,28)^Vr.rotrBH(r,s,34)^Vr.rotrBH(r,s,39),$=Vr.rotrSL(r,s,28)^Vr.rotrBL(r,s,34)^Vr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Vr.add(u|0,l|0,M|0,x|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Vr.add3L(x,$,T);r=Vr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Vr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Vr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Vr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Vr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Vr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Vr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Vr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Vr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Ly.fill(0),Ky.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Ynt=FX(()=>new Gnt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const UX=BigInt(0),x6=BigInt(1),Znt=BigInt(2);function Ik(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function V$(n){if(!Ik(n))throw new Error("Uint8Array expected")}function Ym(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const Jnt=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function _k(n){V$(n);let e="";for(let t=0;t<n.length;t++)e+=Jnt[n[t]];return e}function exe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function VX(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Pg={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Wme(n){if(n>=Pg._0&&n<=Pg._9)return n-Pg._0;if(n>=Pg._A&&n<=Pg._F)return n-(Pg._A-10);if(n>=Pg._a&&n<=Pg._f)return n-(Pg._a-10)}function dI(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Wme(n.charCodeAt(i)),a=Wme(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function JS(n){return VX(_k(n))}function Sw(n){return V$(n),VX(_k(Uint8Array.from(n).reverse()))}function fI(n,e){return dI(n.toString(16).padStart(e*2,"0"))}function uz(n,e){return fI(n,e).reverse()}function Xnt(n){return dI(exe(n))}function xa(n,e,t){let r;if(typeof e=="string")try{r=dI(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Ik(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function Pk(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];V$(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function Qnt(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function est(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const iU=n=>typeof n=="bigint"&&UX<=n;function T6(n,e,t){return iU(n)&&iU(e)&&iU(t)&&e<=n&&n<t}function id(n,e,t,r){if(!T6(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function tst(n){let e;for(e=0;n>UX;n>>=x6,e+=1);return e}function rst(n,e){return n>>BigInt(e)&x6}function nst(n,e,t){return n|(t?x6:UX)<<BigInt(e)}const qX=n=>(Znt<<BigInt(n-1))-x6,oU=n=>new Uint8Array(n),Nme=n=>Uint8Array.from(n);function txe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=oU(n),s=oU(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=oU())=>{s=a(Nme([0]),d),r=a(),d.length!==0&&(s=a(Nme([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return Pk(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const sst={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||Ik(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function PR(n,e,t={}){const r=(s,i,o)=>{const a=sst[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const ist=()=>{throw new Error("not implemented")};function lz(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var ost=Object.freeze(Object.defineProperty({__proto__:null,isBytes:Ik,abytes:V$,abool:Ym,bytesToHex:_k,numberToHexUnpadded:exe,hexToNumber:VX,hexToBytes:dI,bytesToNumberBE:JS,bytesToNumberLE:Sw,numberToBytesBE:fI,numberToBytesLE:uz,numberToVarBytesBE:Xnt,ensureBytes:xa,concatBytes:Pk,equalBytes:Qnt,utf8ToBytes:est,inRange:T6,aInRange:id,bitLen:tst,bitGet:rst,bitSet:nst,bitMask:qX,createHmacDrbg:txe,validateObject:PR,notImplemented:ist,memoized:lz},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xc=BigInt(0),io=BigInt(1),uS=BigInt(2),ast=BigInt(3),oj=BigInt(4),Fme=BigInt(5),Ume=BigInt(8);BigInt(9);BigInt(16);function $i(n,e){const t=n%e;return t>=xc?t:e+t}function cst(n,e,t){if(t<=xc||e<xc)throw new Error("Expected power/modulo > 0");if(t===io)return xc;let r=io;for(;e>xc;)e&io&&(r=r*n%t),n=n*n%t,e>>=io;return r}function Po(n,e,t){let r=n;for(;e-- >xc;)r*=r,r%=t;return r}function aj(n,e){if(n===xc||e<=xc)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=$i(n,e),r=e,s=xc,i=io;for(;t!==xc;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==io)throw new Error("invert: does not exist");return $i(s,e)}function ust(n){const e=(n-io)/uS;let t,r,s;for(t=n-io,r=0;t%uS===xc;t/=uS,r++);for(s=uS;s<n&&cst(s,e,n)!==n-io;s++);if(r===1){const o=(n+io)/oj;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+io)/uS;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,io<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function lst(n){if(n%oj===ast){const e=(n+io)/oj;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Ume===Fme){const e=(n-Fme)/Ume;return function(r,s){const i=r.mul(s,uS),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,uS),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return ust(n)}const dst=(n,e)=>($i(n,e)&io)===io,fst=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function hst(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=fst.reduce((r,s)=>(r[s]="function",r),e);return PR(n,t)}function gst(n,e,t){if(t<xc)throw new Error("Expected power > 0");if(t===xc)return n.ONE;if(t===io)return e;let r=n.ONE,s=e;for(;t>xc;)t&io&&(r=n.mul(r,s)),s=n.sqr(s),t>>=io;return r}function mst(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function rxe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function nxe(n,e,t=!1,r={}){if(n<=xc)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=rxe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=lst(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:qX(s),ZERO:xc,ONE:io,create:c=>$i(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return xc<=c&&c<n},is0:c=>c===xc,isOdd:c=>(c&io)===io,neg:c=>$i(-c,n),eql:(c,u)=>c===u,sqr:c=>$i(c*c,n),add:(c,u)=>$i(c+u,n),sub:(c,u)=>$i(c-u,n),mul:(c,u)=>$i(c*u,n),pow:(c,u)=>gst(a,c,u),div:(c,u)=>$i(c*aj(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>aj(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>mst(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?uz(c,i):fI(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?Sw(c):JS(c)}});return Object.freeze(a)}function sxe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function ixe(n){const e=sxe(n);return e+Math.ceil(e/2)}function yst(n,e,t=!1){const r=n.length,s=sxe(e),i=ixe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?JS(n):Sw(n),a=$i(o,e-io)+io;return t?uz(a,s):fI(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pst=BigInt(0),aU=BigInt(1),cU=new WeakMap,Vme=new WeakMap;function oxe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>pst;)o&aU&&(a=a.add(c)),c=c.double(),o>>=aU;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=aU);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=Vme.get(i)||1;let u=cU.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&cU.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),Vme.set(i,o),cU.delete(i)}}}function HX(n){return hst(n.Fp),PR(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...rxe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ad=BigInt(0),Au=BigInt(1),y3=BigInt(2),bst=BigInt(8),Sst={zip215:!0};function kst(n){const e=HX(n);return PR(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function vst(n){const e=kst(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=y3<<BigInt(a*8)-Au,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Ad}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,_)=>{if(Ym("phflag",_),k.length||_)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){id("coordinate "+v,k,Ad,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=lz((v,k)=>{const{ex:_,ey:B,ez:C}=v,O=v.is0();k==null&&(k=O?bst:t.inv(C));const D=l(_*k),W=l(B*k),L=l(C*k);if(O)return{x:Ad,y:Au};if(L!==Au)throw new Error("invZ was invalid");return{x:D,y:W}}),b=lz(v=>{const{a:k,d:_}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:B,ey:C,ez:O,et:D}=v,W=l(B*B),L=l(C*C),U=l(O*O),q=l(U*U),J=l(W*k),Q=l(U*l(J+L)),j=l(q+l(_*l(W*L)));if(Q!==j)throw new Error("bad point: equation left != right (1)");const X=l(B*C),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,_,B,C){this.ex=k,this.ey=_,this.ez=B,this.et=C,m("x",k),m("y",_),m("z",B),m("t",C),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x:_,y:B}=k||{};return m("x",_),m("y",B),new S(_,B,Au,l(_*B))}static normalizeZ(k){const _=t.invertBatch(k.map(B=>B.ez));return k.map((B,C)=>B.toAffine(_[C])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:_,ey:B,ez:C}=this,{ex:O,ey:D,ez:W}=k,L=l(_*W),U=l(O*C),q=l(B*W),J=l(D*C);return L===U&&q===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:_,ey:B,ez:C}=this,O=l(_*_),D=l(B*B),W=l(y3*l(C*C)),L=l(k*O),U=_+B,q=l(l(U*U)-O-D),J=L+D,Q=J-W,j=L-D,X=l(q*Q),re=l(J*j),se=l(q*j),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:_,d:B}=e,{ex:C,ey:O,ez:D,et:W}=this,{ex:L,ey:U,ez:q,et:J}=k;if(_===BigInt(-1)){const $t=l((O-C)*(U+L)),_t=l((O+C)*(U-L)),tt=l(_t-$t);if(tt===Ad)return this.double();const Ve=l(D*y3*J),qt=l(W*y3*q),lr=qt+Ve,ur=_t+$t,hr=qt-Ve,Rr=l(lr*tt),ms=l(ur*hr),kn=l(lr*hr),ys=l(tt*ur);return new S(Rr,ms,ys,kn)}const Q=l(C*L),j=l(O*U),X=l(W*B*J),re=l(D*q),se=l((C+O)*(L+U)-Q-j),ee=re-X,ne=re+X,_e=l(j-_*Q),Pe=l(se*ee),We=l(ne*_e),Ne=l(se*_e),Yt=l(ee*ne);return new S(Pe,We,Yt,Ne)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const _=k;id("scalar",_,Au,r);const{p:B,f:C}=this.wNAF(_);return S.normalizeZ([B,C])[0]}multiplyUnsafe(k){const _=k;return id("scalar",_,Ad,r),_===Ad?I:this.equals(I)||_===Au?this:this.equals(p)?this.wNAF(_).p:w.unsafeLadder(this,_)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Au?this:this.multiplyUnsafe(k)}static fromHex(k,_=!1){const{d:B,a:C}=e,O=t.BYTES;k=xa("pointHex",k,O),Ym("zip215",_);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=Sw(D),U=_?u:t.ORDER;id("pointHex.y",L,Ad,U);const q=l(L*L),J=l(q-Au),Q=l(B*q-C);let{isValid:j,value:X}=d(J,Q);if(!j)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Au)===Au,se=(W&128)!==0;if(!_&&X===Ad&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:_}=this.toAffine(),B=uz(_,t.BYTES);return B[B.length-1]|=k&Au?128:0,B}toHex(){return _k(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Au,l(e.Gx*e.Gy)),S.ZERO=new S(Ad,Au,Au,Ad);const{BASE:p,ZERO:I}=S,w=oxe(S,a*8);function A(v){return $i(v,r)}function P(v){return A(Sw(v))}function E(v){const k=a;v=xa("private key",v,k);const _=xa("hashed private key",i(v),2*k),B=y(_.slice(0,k)),C=_.slice(k,2*k),O=P(B),D=p.multiply(O),W=D.toRawBytes();return{head:B,prefix:C,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function x(v=new Uint8Array,...k){const _=Pk(...k);return P(i(h(_,xa("context",v),!!s)))}function R(v,k,_={}){v=xa("message",v),s&&(v=s(v));const{prefix:B,scalar:C,pointBytes:O}=E(k),D=x(_.context,B,v),W=p.multiply(D).toRawBytes(),L=x(_.context,W,O,v),U=A(D+L*C);id("signature.s",U,Ad,r);const q=Pk(W,uz(U,t.BYTES));return xa("result",q,a*2)}const $=Sst;function z(v,k,_,B=$){const{context:C,zip215:O}=B,D=t.BYTES;v=xa("signature",v,2*D),k=xa("message",k),O!==void 0&&Ym("zip215",O),s&&(k=s(k));const W=Sw(v.slice(D,2*D));let L,U,q;try{L=S.fromHex(_,O),U=S.fromHex(v.slice(0,D),O),q=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=x(C,U.toRawBytes(),L.toRawBytes(),k);return U.add(L.multiplyUnsafe(J)).subtract(q).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jX=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),qme=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Ast=BigInt(1),Hme=BigInt(2);BigInt(3);const wst=BigInt(5),Ist=BigInt(8);function _st(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=jX,a=n*n%i*n%i,c=Po(a,Hme,i)*a%i,u=Po(c,Ast,i)*n%i,l=Po(u,wst,i)*u%i,d=Po(l,e,i)*l%i,y=Po(d,t,i)*d%i,h=Po(y,r,i)*y%i,m=Po(h,s,i)*h%i,f=Po(m,s,i)*h%i,g=Po(f,e,i)*l%i;return{pow_p_5_8:Po(g,Hme,i)*n%i,b2:a}}function Pst(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function Est(n,e){const t=jX,r=$i(e*e*e,t),s=$i(r*r*e,t),i=_st(n*s).pow_p_5_8;let o=$i(n*r*i,t);const a=$i(e*o*o,t),c=o,u=$i(o*qme,t),l=a===n,d=a===$i(-n,t),y=a===$i(-n*qme,t);return l&&(o=c),(d||y)&&(o=u),dst(o,t)&&(o=$i(-o,t)),{isValid:l||d,value:o}}const xst=(()=>nxe(jX,void 0,!0))(),Tst=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:xst,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Ist,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Ynt,randomBytes:HEe,adjustScalarBytes:Pst,uvRatio:Est}))(),ER=(()=>vst(Tst))(),Rst=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wy=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ny=new Uint32Array(64);class Bst extends jEe{constructor(){super(64,32,8,!1),this.A=Wy[0]|0,this.B=Wy[1]|0,this.C=Wy[2]|0,this.D=Wy[3]|0,this.E=Wy[4]|0,this.F=Wy[5]|0,this.G=Wy[6]|0,this.H=Wy[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Ny[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=Ny[d-15],h=Ny[d-2],m=_f(y,7)^_f(y,18)^y>>>3,f=_f(h,17)^_f(h,19)^h>>>10;Ny[d]=f+Ny[d-7]+m+Ny[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=_f(a,6)^_f(a,11)^_f(a,25),h=l+y+Ent(a,c,u)+Rst[d]+Ny[d]|0,f=(_f(r,2)^_f(r,13)^_f(r,22))+xnt(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Ny.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const cj=FX(()=>new Bst);class Cst extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function Mst(n){return q$(n)&&typeof n[Symbol.iterator]=="function"}function q$(n){return typeof n=="object"&&n!=null}function b4(n){return q$(n)&&!Array.isArray(n)}function of(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function zst(n){const{done:e,value:t}=n.next();return e?void 0:t}function $st(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${of(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*jme(n,e,t,r){Mst(n)||(n=[n]);for(const s of n){const i=$st(s,e,t,r);i&&(yield i)}}function*GX(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=GX(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):q$(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class lg{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return jme(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return jme(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return axe(e,this,t)}create(e,t){return St(e,this,t)}is(e){return cxe(e,this)}mask(e,t){return Dst(e,this,t)}validate(e,t={}){return H$(e,this,t)}}function axe(n,e,t){const r=H$(n,e,{message:t});if(r[0])throw r[0]}function St(n,e,t){const r=H$(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function Dst(n,e,t){const r=H$(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function cxe(n,e){return!H$(n,e)[0]}function H$(n,e,t={}){const r=GX(n,e,t),s=zst(r);if(s[0])return[new Cst(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function kv(n,e){return new lg({type:n,schema:null,validator:e})}function Ost(){return kv("any",()=>!0)}function Tt(n){return new lg({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${of(e)}`}})}function jh(){return kv("boolean",n=>typeof n=="boolean")}function YX(n){return kv("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${of(e)}`)}function Yi(n){const e=of(n),t=typeof n;return new lg({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${of(r)}`}})}function Lst(){return kv("never",()=>!1)}function Kt(n){return new lg({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function ye(){return kv("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${of(n)}`)}function vr(n){return new lg({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function uxe(n,e){return new lg({type:"record",schema:null,*entries(t){if(q$(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return b4(t)||`Expected an object, but received: ${of(t)}`},coercer(t){return b4(t)?{...t}:t}})}function Ye(){return kv("string",n=>typeof n=="string"||`Expected a string, but received: ${of(n)}`)}function ZX(n){const e=Lst();return new lg({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${of(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Me(n){const e=Object.keys(n);return new lg({type:"type",schema:n,*entries(t){if(q$(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return b4(t)||`Expected an object, but received: ${of(t)}`},coercer(t){return b4(t)?{...t}:t}})}function cu(n){const e=n.map(t=>t.type).join(" | ");return new lg({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=GX(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${of(t)}`,...s]}})}function xR(){return kv("unknown",()=>!0)}function j$(n,e,t){return new lg({...n,coercer:(r,s)=>cxe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const lxe=[],dxe=[],fxe=[],Kst=BigInt(0),iB=BigInt(1),Wst=BigInt(2),Nst=BigInt(7),Fst=BigInt(256),Ust=BigInt(113);for(let n=0,e=iB,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],lxe.push(2*(5*r+t)),dxe.push((n+1)*(n+2)/2%64);let s=Kst;for(let i=0;i<7;i++)e=(e<<iB^(e>>Nst)*Ust)%Fst,e&Wst&&(s^=iB<<(iB<<BigInt(i))-iB);fxe.push(s)}const[Vst,qst]=YEe(fxe,!0),Gme=(n,e,t)=>t>32?XEe(n,e,t):ZEe(n,e,t),Yme=(n,e,t)=>t>32?QEe(n,e,t):JEe(n,e,t);function Hst(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=Gme(u,l,1)^t[a],y=Yme(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=dxe[o],c=Gme(s,i,a),u=Yme(s,i,a),l=lxe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=Vst[r],n[1]^=qst[r]}t.fill(0)}class JX extends NX{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,p4(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Ant(this.state)}keccak(){Lme||Kme(this.state32),Hst(this.state32,this.rounds),Lme||Kme(this.state32),this.posOut=0,this.pos=0}update(e){lI(this);const{blockLen:t,state:r}=this;e=E6(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){lI(this,!1),U$(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return p4(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(qEe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new JX(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const jst=(n,e,t)=>FX(()=>new JX(e,n,t)),Zme=jst(1,136,256/8);class hxe extends NX{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,vnt(e);const r=E6(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return lI(this),this.iHash.update(e),this}digestInto(e){lI(this),U$(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const gxe=(n,e,t)=>new hxe(n,e).update(t).digest();gxe.create=(n,e)=>new hxe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Jme(n){n.lowS!==void 0&&Ym("lowS",n.lowS),n.prehash!==void 0&&Ym("prehash",n.prehash)}function Gst(n){const e=HX(n);PR(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Yst,hexToBytes:Zst}=ost,$S={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=$S;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Yst(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=$S,t=typeof n=="string"?Zst(n):n;V$(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=$S._parseInt(t.subarray(2)),{d:o,l:a}=$S._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},zp=BigInt(0),Na=BigInt(1);BigInt(2);const Xme=BigInt(3);BigInt(4);function Jst(n){const e=Gst(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return Pk(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return T6(m,Na,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(Ik(m)&&(m=_k(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:JS(xa("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=$i(p,S)),id("private key",p,Na,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=lz((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=lz(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(xa("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),P=t.eql(t.mul(b,w),t.mul(I,S));return A&&P}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,Xme),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,P=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),x=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),P=t.mul(S,I),P=t.add(P,P),w=t.mul(f,P),A=t.mul(b,x),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),P=t.mul(b,P),x=t.mul(f,x),R=t.sub(E,x),R=t.mul(f,R),R=t.add(R,P),P=t.add(E,E),E=t.add(P,E),E=t.add(E,x),E=t.mul(E,R),A=t.add(A,E),x=t.mul(p,I),x=t.add(x,x),E=t.mul(x,R),w=t.sub(w,E),P=t.mul(x,M),P=t.add(P,P),P=t.add(P,P),new d(w,A,P)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,P=t.ZERO,E=t.ZERO;const M=e.a,x=t.mul(e.b,Xme);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(x,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),P=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(x,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),P=t.add(P,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,P,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){id("scalar",f,zp,e.n);const g=d.ZERO;if(f===zp)return g;if(f===Na)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,P=g,E=this;for(;p>zp||w>zp;)p&Na&&(A=A.add(E)),w&Na&&(P=P.add(E)),E=E.double(),p>>=Na,w>>=Na;return S&&(A=A.negate()),I&&(P=P.negate()),P=new d(t.mul(P.px,b.beta),P.py,P.pz),A.add(P)}multiply(f){const{endo:g,n:b}=e;id("scalar",f,Na,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:P}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:x,f:R}=this.wNAF(P);E=h.constTimeNegate(I,E),x=h.constTimeNegate(A,x),x=new d(t.mul(x.px,g.beta),x.py,x.pz),S=E.add(x),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===zp||A===Na||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===Na)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===Na?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Ym("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Ym("isCompressed",f),_k(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=oxe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function Xst(n){const e=HX(n);return PR(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Qst(n){const e=Xst(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return $i(T,r)}function a(T){return aj(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=Jst({...e,toBytes(T,v,k){const _=v.toAffine(),B=t.toBytes(_.x),C=Pk;return Ym("isCompressed",k),k?C(Uint8Array.from([v.hasEvenY()?2:3]),B):C(Uint8Array.from([4]),B,t.toBytes(_.y))},fromBytes(T){const v=T.length,k=T[0],_=T.subarray(1);if(v===s&&(k===2||k===3)){const B=JS(_);if(!T6(B,Na,t.ORDER))throw new Error("Point is not on curve");const C=l(B);let O;try{O=t.sqrt(C)}catch(L){const U=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+U)}const D=(O&Na)===Na;return(k&1)===1!==D&&(O=t.neg(O)),{x:B,y:O}}else if(v===i&&k===4){const B=t.fromBytes(_.subarray(0,t.BYTES)),C=t.fromBytes(_.subarray(t.BYTES,2*t.BYTES));return{x:B,y:C}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>_k(fI(T,e.nByteLength));function h(T){const v=r>>Na;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>JS(T.slice(v,k));class g{constructor(v,k,_){this.r=v,this.s=k,this.recovery=_,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=xa("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:_}=$S.toSig(xa("DER",v));return new g(k,_)}assertValidity(){id("r",this.r,Na,r),id("s",this.s,Na,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:_,recovery:B}=this,C=A(xa("msgHash",v));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const O=B===2||B===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(B&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),U=o(-C*L),q=o(_*L),J=c.BASE.multiplyAndAddUnsafe(W,U,q);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return dI(this.toDERHex())}toDERHex(){return $S.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return dI(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=ixe(e.n);return yst(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=Ik(T),k=typeof T=="string",_=(v||k)&&T.length;return v?_===s||_===i:k?_===2*s||_===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=JS(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},P=qX(e.nBitLength);function E(T){return id(`num < 2^${e.nBitLength}`,T,zp,P),fI(T,e.nByteLength)}function M(T,v,k=x){if(["recovered","canonical"].some(j=>j in k))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:B}=e;let{lowS:C,prehash:O,extraEntropy:D}=k;C==null&&(C=!0),T=xa("msgHash",T),Jme(k),O&&(T=xa("prehashed msgHash",_(T)));const W=A(T),L=u(v),U=[E(L),E(W)];if(D!=null&&D!==!1){const j=D===!0?B(t.BYTES):D;U.push(xa("extraEntropy",j))}const q=Pk(...U),J=W;function Q(j){const X=w(j);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===zp)return;const ne=o(re*o(J+ee*L));if(ne===zp)return;let _e=(se.x===ee?0:2)|Number(se.y&Na),Pe=ne;return C&&h(ne)&&(Pe=m(ne),_e^=1),new g(ee,Pe,_e)}return{seed:q,k2sig:Q}}const x={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=x){const{seed:_,k2sig:B}=M(T,v,k),C=e;return txe(C.hash.outputLen,C.nByteLength,C.hmac)(_,B)}c.BASE._setWindowSize(8);function z(T,v,k,_=R){var se;const B=T;if(v=xa("msgHash",v),k=xa("publicKey",k),"strict"in _)throw new Error("options.strict was renamed to lowS");Jme(_);const{lowS:C,prehash:O}=_;let D,W;try{if(typeof B=="string"||Ik(B))try{D=g.fromDER(B)}catch(ee){if(!(ee instanceof $S.Err))throw ee;D=g.fromCompact(B)}else if(typeof B=="object"&&typeof B.r=="bigint"&&typeof B.s=="bigint"){const{r:ee,s:ne}=B;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(C&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:U}=D,q=A(v),J=a(U),Q=o(q*J),j=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,j))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function eit(n){return{hash:n,hmac:(e,...t)=>gxe(n,e,_nt(...t)),randomBytes:HEe}}function tit(n,e){const t=r=>Qst({...n,...eit(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mxe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Qme=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),rit=BigInt(1),uj=BigInt(2),eye=(n,e)=>(n+e/uj)/e;function nit(n){const e=mxe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=Po(l,t,e)*l%e,y=Po(d,t,e)*l%e,h=Po(y,uj,e)*u%e,m=Po(h,s,e)*h%e,f=Po(m,i,e)*m%e,g=Po(f,a,e)*f%e,b=Po(g,c,e)*g%e,S=Po(b,a,e)*f%e,p=Po(S,t,e)*l%e,I=Po(p,o,e)*m%e,w=Po(I,r,e)*u%e,A=Po(w,uj,e);if(!lj.eql(lj.sqr(A),n))throw new Error("Cannot find square root");return A}const lj=nxe(mxe,void 0,void 0,{sqrt:nit}),R6=tit({a:BigInt(0),b:BigInt(7),Fp:lj,n:Qme,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Qme,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-rit*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=eye(i*n,e),c=eye(-r*n,e);let u=$i(n-a*t-c*s,e),l=$i(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},cj);BigInt(0);R6.ProjectivePoint;const sit=ER.utils.randomPrivateKey,tye=()=>{const n=ER.utils.randomPrivateKey(),e=S4(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},S4=ER.getPublicKey;function rye(n){try{return ER.ExtendedPoint.fromHex(n),!0}catch{return!1}}const XX=(n,e)=>ER.sign(n,e.slice(0,32)),iit=ER.verify,fn=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class QX{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(tg(vM,this))}static decode(e){return rg(vM,this,e)}static decodeUnchecked(e){return ng(vM,this,e)}}class oit extends QX{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const vM=new Map;var yxe;const pxe=32,zh=32;function ait(n){return n._bn!==void 0}let nye=1;class at extends QX{constructor(e){if(super({}),this._bn=void 0,ait(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ae.decode(e);if(t.length!=zh)throw new Error("Invalid public key input");this._bn=new Ni(t)}else this._bn=new Ni(e);if(this._bn.byteLength()>zh)throw new Error("Invalid public key input")}}static unique(){const e=new at(nye);return nye+=1,new at(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ae.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===zh)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=cj(s);return new at(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>pxe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,fn(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=cj(r);if(rye(s))throw new Error("Invalid seeds, address must fall off the curve");return new at(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new at(e);return rye(t.toBytes())}}yxe=at;at.default=new yxe("11111111111111111111111111111111");vM.set(at,{kind:"struct",fields:[["_bn","u256"]]});class cit{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=fn(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=fn(sit()),this._publicKey=fn(S4(this._secretKey))}get publicKey(){return new at(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const uit=new at("BPFLoader1111111111111111111111111111111111"),Xp=1280-40-8,B6=127,dz=64;class eQ extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(eQ.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class tQ extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(tQ.prototype,"name",{value:"TransactionExpiredTimeoutError"});class HA extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(HA.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class fz{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const Bn=(n="publicKey")=>ie(32,n),lit=(n="signature")=>ie(64,n),DS=(n="string")=>{const e=N([F("length"),F("lengthPadding"),ie(Gt(F(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>F().span+F().span+V.Buffer.from(i,"utf8").length,s},dit=(n="authorized")=>N([Bn("staker"),Bn("withdrawer")],n),fit=(n="lockup")=>N([Ee("unixTimestamp"),Ee("epoch"),Bn("custodian")],n),hit=(n="voteInit")=>N([Bn("nodePubkey"),Bn("authorizedVoter"),Bn("authorizedWithdrawer"),te("commission")],n),git=(n="voteAuthorizeWithSeedArgs")=>N([F("voteAuthorizationType"),Bn("currentAuthorityDerivedKeyOwnerPubkey"),DS("currentAuthorityDerivedKeySeed"),Bn("newAuthorized")],n);function bxe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return bxe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function Wu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Al(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function ts(n,e){if(!n)throw new Error(e||"Assertion failed")}class C6{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new C6(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];ts(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{ts(t.length>0,"Expected at least one writable signer key");const[c]=t[0];ts(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new at(c)),...r.map(([c])=>new at(c)),...s.map(([c])=>new at(c)),...i.map(([c])=>new at(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new at(i),c=e.findIndex(u=>u.equals(a));c>=0&&(ts(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const Sxe="Reached end of buffer unexpectedly";function uh(n){if(n.length===0)throw new Error(Sxe);return n.shift()}function Nu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(Sxe);return n.splice(...e)}class af{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new at(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ae.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new fz(this.staticAccountKeys)}static compile(e){const t=C6.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new fz(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ae.encode(a.data)}));return new af({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Al(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ae.decode(d.data));let f=[];Al(f,y.length);let g=[];return Al(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Al(s,r.length);let i=V.Buffer.alloc(Xp);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=N([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=N([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(Bn("key"),e,"keys"),Bn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>fn(d.toBytes())),recentBlockhash:Ae.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=uh(t);if(r!==(r&B6))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=uh(t),i=uh(t),o=Wu(t);let a=[];for(let y=0;y<o;y++){const h=Nu(t,0,zh);a.push(new at(V.Buffer.from(h)))}const c=Nu(t,0,zh),u=Wu(t);let l=[];for(let y=0;y<u;y++){const h=uh(t),m=Wu(t),f=Nu(t,0,m),g=Wu(t),b=Nu(t,0,g),S=Ae.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ae.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new af(d)}}class Ek{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new fz(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=C6.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new fz(a,s).compileInstructions(e.instructions);return new Ek({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Al(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Al(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Al(i,this.addressTableLookups.length);const o=N([te("prefix"),N([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(Bn(),this.staticAccountKeys.length,"staticAccountKeys"),Bn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Xp),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ae.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Xp);for(const r of this.compiledInstructions){const s=Array();Al(s,r.accountKeyIndexes.length);const i=Array();Al(i,r.data.length),e+=N([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Xp);for(const r of this.addressTableLookups){const s=Array();Al(s,r.writableIndexes.length);const i=Array();Al(i,r.readonlyIndexes.length),e+=N([Bn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=uh(t),s=r&B6;ts(r!==s,"Expected versioned message but received legacy message");const i=s;ts(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:uh(t),numReadonlySignedAccounts:uh(t),numReadonlyUnsignedAccounts:uh(t)},a=[],c=Wu(t);for(let m=0;m<c;m++)a.push(new at(Nu(t,0,zh)));const u=Ae.encode(Nu(t,0,zh)),l=Wu(t),d=[];for(let m=0;m<l;m++){const f=uh(t),g=Wu(t),b=Nu(t,0,g),S=Wu(t),p=new Uint8Array(Nu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=Wu(t),h=[];for(let m=0;m<y;m++){const f=new at(Nu(t,0,zh)),g=Wu(t),b=Nu(t,0,g),S=Wu(t),p=Nu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new Ek({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const rQ={deserializeMessageVersion(n){const e=n[0],t=e&B6;return t===e?"legacy":t},deserialize:n=>{const e=rQ.deserializeMessageVersion(n);if(e==="legacy")return af.from(n);if(e===0)return Ek.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Sm=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const mit=V.Buffer.alloc(dz).fill(0);class Os{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class us{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Os(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new at(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ae.encode(g)}});return m.forEach(f=>{ts(f.programIdIndex>=0),f.accounts.forEach(g=>ts(g>=0))}),new af({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=XX(r,s.secretKey);this._addSignature(s.publicKey,fn(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){ts(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):iit(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Al(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return ts(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(ts(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),ts(i.length<=Xp,`Transaction too large: ${i.length} > ${Xp}`),i}get keys(){return ts(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return ts(this.instructions.length===1),this.instructions[0].programId}get data(){return ts(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Wu(t);let s=[];for(let i=0;i<r;i++){const o=Nu(t,0,dz);s.push(Ae.encode(V.Buffer.from(o)))}return us.populate(af.from(t),s)}static populate(e,t=[]){const r=new us;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ae.encode(mit)?null:Ae.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Os({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ae.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class nQ{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;ts(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;ts(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new Os({programId:g,data:fn(m.data),keys:f}))}return new nQ({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return af.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Ek.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class sQ{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)ts(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(dz));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Al(t,this.signatures.length);const r=N([ie(t.length,"encodedSignaturesLength"),we(lit(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=Wu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(Nu(t,0,dz)));const i=rQ.deserialize(new Uint8Array(t));return new sQ(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));ts(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=XX(t,s.secretKey)}}addSignature(e,t){ts(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));ts(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const yit=160,pit=64,bit=yit/pit,kxe=1e3/bit,Hf=new at("SysvarC1ock11111111111111111111111111111111"),Sit=new at("SysvarEpochSchedu1e111111111111111111111111"),kit=new at("Sysvar1nstructions1111111111111111111111111"),AL=new at("SysvarRecentB1ockHashes11111111111111111111"),hI=new at("SysvarRent111111111111111111111111111111111"),vit=new at("SysvarRewards111111111111111111111111111111"),Ait=new at("SysvarS1otHashes111111111111111111111111111"),wit=new at("SysvarS1otHistory11111111111111111111111111"),wL=new at("SysvarStakeHistory1111111111111111111111111");class hz extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const Iit={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class nr extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function dj(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new hz({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function lS(n){return new Promise(e=>setTimeout(e,n))}function Un(n,e){const t=n.layout.span>=0?n.layout.span:bxe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function vs(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const vxe=fe("lamportsPerSignature"),Axe=N([F("version"),F("state"),Bn("authorizedPubkey"),Bn("nonce"),N([vxe],"feeCalculator")]),fj=Axe.span;class M6{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=Axe.decode(fn(e),0);return new M6({authorizedPubkey:new at(t.authorizedPubkey),nonce:new at(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const _it=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},Pit=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=_it(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return sg(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=ya(o,n);return r(u,a,c)},i},gI=Pit(8);class Eit{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ri))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=vs(ri.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new at(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=vs(ri.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=vs(ri.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new at(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=vs(ri.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=vs(ri.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new at(t),seed:r,space:s,programId:new at(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=vs(ri.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new at(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=vs(ri.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new at(t),seed:r,programId:new at(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=vs(ri.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new at(t),seed:r,lamports:s,space:i,programId:new at(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=vs(ri.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new at(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),vs(ri.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=vs(ri.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=vs(ri.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new at(t)}}static checkProgramId(e){if(!e.equals(pc.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ri=Object.freeze({Create:{index:0,layout:N([F("instruction"),Ee("lamports"),Ee("space"),Bn("programId")])},Assign:{index:1,layout:N([F("instruction"),Bn("programId")])},Transfer:{index:2,layout:N([F("instruction"),gI("lamports")])},CreateWithSeed:{index:3,layout:N([F("instruction"),Bn("base"),DS("seed"),Ee("lamports"),Ee("space"),Bn("programId")])},AdvanceNonceAccount:{index:4,layout:N([F("instruction")])},WithdrawNonceAccount:{index:5,layout:N([F("instruction"),Ee("lamports")])},InitializeNonceAccount:{index:6,layout:N([F("instruction"),Bn("authorized")])},AuthorizeNonceAccount:{index:7,layout:N([F("instruction"),Bn("authorized")])},Allocate:{index:8,layout:N([F("instruction"),Ee("space")])},AllocateWithSeed:{index:9,layout:N([F("instruction"),Bn("base"),DS("seed"),Ee("space"),Bn("programId")])},AssignWithSeed:{index:10,layout:N([F("instruction"),Bn("base"),DS("seed"),Bn("programId")])},TransferWithSeed:{index:11,layout:N([F("instruction"),gI("lamports"),DS("seed"),Bn("programId")])},UpgradeNonceAccount:{index:12,layout:N([F("instruction")])}});class pc{constructor(){}static createAccount(e){const t=ri.Create,r=Un(t,{lamports:e.lamports,space:e.space,programId:fn(e.programId.toBuffer())});return new Os({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=ri.TransferWithSeed;t=Un(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:fn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=ri.Transfer;t=Un(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Os({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=ri.AssignWithSeed;t=Un(s,{base:fn(e.basePubkey.toBuffer()),seed:e.seed,programId:fn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=ri.Assign;t=Un(s,{programId:fn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Os({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=ri.CreateWithSeed,r=Un(t,{base:fn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:fn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Os({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new us;"basePubkey"in e&&"seed"in e?t.add(pc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:fj,programId:this.programId})):t.add(pc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:fj,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=ri.InitializeNonceAccount,r=Un(t,{authorized:fn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:AL,isSigner:!1,isWritable:!1},{pubkey:hI,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Os(s)}static nonceAdvance(e){const t=ri.AdvanceNonceAccount,r=Un(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:AL,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Os(s)}static nonceWithdraw(e){const t=ri.WithdrawNonceAccount,r=Un(t,{lamports:e.lamports});return new Os({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:AL,isSigner:!1,isWritable:!1},{pubkey:hI,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=ri.AuthorizeNonceAccount,r=Un(t,{authorized:fn(e.newAuthorizedPubkey.toBuffer())});return new Os({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=ri.AllocateWithSeed;t=Un(s,{base:fn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:fn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=ri.Allocate;t=Un(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Os({keys:r,programId:this.programId,data:t})}}pc.programId=new at("11111111111111111111111111111111");const xit=Xp-300;class xk{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/xk.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new us,h.add(pc.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new us,h.add(pc.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new us,h.add(pc.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new us().add(pc.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await dj(e,h,[t,r],{commitment:"confirmed"})}const o=N([F("instruction"),F("offset"),F("bytesLength"),F("bytesLengthPadding"),we(te("byte"),Gt(F(),-8),"bytes")]),a=xk.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new us().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(dj(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await lS(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=N([F("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new us().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:hI,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(kxe/2)))}}return!0}}xk.chunkSize=xit;const Tit=new at("BPFLoader2111111111111111111111111111111111");class Rit{static getMinNumSignatures(e){return xk.getMinNumSignatures(e)}static load(e,t,r,s,i){return xk.load(e,t,r,i,s)}}function Bit(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var uU,sye;function Cit(){if(sye)return uU;sye=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return uU=function(r){var s=t(r,!1);if(s!==void 0)return""+s},uU}var Mit=Cit(),iye=Bit(Mit);const oB=32;function lU(n){let e=0;for(;n>1;)n/=2,e++;return e}function zit(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class wxe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=lU(zit(e+oB+1))-lU(oB)-1,r=this.getSlotsInEpoch(t),s=e-(r-oB);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*oB:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+lU(oB)):this.slotsPerEpoch}}var $it=globalThis.fetch;class Dit extends ay{constructor(e,t,r){const s=i=>{const o=uy(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function Oit(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const oye=56;class hj{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=Oit(Lit,e),r=e.length-oye;ts(r>=0,"lookup table is invalid"),ts(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=N([we(Bn(),s,"addresses")]).decode(e.slice(oye));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new at(t.authority[0]):void 0,addresses:i.map(o=>new at(o))}}}const Lit={index:1,layout:N([F("typeIndex"),gI("deactivationSlot"),fe("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(Bn(),Gt(te(),-1),"authority")])},Kit=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Wit(n){const e=n.match(Kit);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const mo=j$(YX(at),Ye(),n=>new at(n)),Ixe=ZX([Ye(),Yi("base64")]),iQ=j$(YX(V.Buffer),Ixe,n=>V.Buffer.from(n[0],"base64")),_xe=30*1e3;function Nit(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Hs(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function aye(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function Pxe(n){return cu([Me({jsonrpc:Yi("2.0"),id:Ye(),result:n}),Me({jsonrpc:Yi("2.0"),id:Ye(),error:Me({code:xR(),message:Ye(),data:vr(Ost())})})])}const Fit=Pxe(xR());function tn(n){return j$(Pxe(n),Fit,e=>"error"in e?e:{...e,result:St(e.result,n)})}function Lo(n){return tn(Me({context:Me({slot:ye()}),value:n}))}function z6(n){return Me({context:Me({slot:ye()}),value:n})}function dU(n,e){return n===0?new Ek({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new at(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ae.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new af(e)}const Uit=Me({foundation:ye(),foundationTerm:ye(),initial:ye(),taper:ye(),terminal:ye()}),Vit=tn(Tt(Kt(Me({epoch:ye(),effectiveSlot:ye(),amount:ye(),postBalance:ye(),commission:vr(Kt(ye()))})))),qit=Tt(Me({slot:ye(),prioritizationFee:ye()})),Hit=Me({total:ye(),validator:ye(),foundation:ye(),epoch:ye()}),jit=Me({epoch:ye(),slotIndex:ye(),slotsInEpoch:ye(),absoluteSlot:ye(),blockHeight:vr(ye()),transactionCount:vr(ye())}),Git=Me({slotsPerEpoch:ye(),leaderScheduleSlotOffset:ye(),warmup:jh(),firstNormalEpoch:ye(),firstNormalSlot:ye()}),Yit=uxe(Ye(),Tt(ye())),vv=Kt(cu([Me({}),Ye()])),Zit=Me({err:vv}),Jit=Yi("receivedSignature"),Xit=Me({"solana-core":Ye(),"feature-set":vr(ye())}),Qit=Me({program:Ye(),programId:mo,parsed:xR()}),eot=Me({programId:mo,accounts:Tt(mo),data:Ye()}),cye=Lo(Me({err:Kt(cu([Me({}),Ye()])),logs:Kt(Tt(Ye())),accounts:vr(Kt(Tt(Kt(Me({executable:jh(),owner:Ye(),lamports:ye(),data:Tt(Ye()),rentEpoch:vr(ye())}))))),unitsConsumed:vr(ye()),returnData:vr(Kt(Me({programId:Ye(),data:ZX([Ye(),Yi("base64")])}))),innerInstructions:vr(Kt(Tt(Me({index:ye(),instructions:Tt(cu([Qit,eot]))}))))})),tot=Lo(Me({byIdentity:uxe(Ye(),Tt(ye())),range:Me({firstSlot:ye(),lastSlot:ye()})}));function rot(n,e,t,r,s,i){const o=t||$it;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new cy(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},nat)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await lS(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function not(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function sot(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const iot=tn(Uit),oot=tn(Hit),aot=tn(qit),cot=tn(jit),uot=tn(Git),lot=tn(Yit),dot=tn(ye()),fot=Lo(Me({total:ye(),circulating:ye(),nonCirculating:ye(),nonCirculatingAccounts:Tt(mo)})),gj=Me({amount:Ye(),uiAmount:Kt(ye()),decimals:ye(),uiAmountString:vr(Ye())}),hot=Lo(Tt(Me({address:mo,amount:Ye(),uiAmount:Kt(ye()),decimals:ye(),uiAmountString:vr(Ye())}))),got=Lo(Tt(Me({pubkey:mo,account:Me({executable:jh(),owner:mo,lamports:ye(),data:iQ,rentEpoch:ye()})}))),mj=Me({program:Ye(),parsed:xR(),space:ye()}),mot=Lo(Tt(Me({pubkey:mo,account:Me({executable:jh(),owner:mo,lamports:ye(),data:mj,rentEpoch:ye()})}))),yot=Lo(Tt(Me({lamports:ye(),address:mo}))),gz=Me({executable:jh(),owner:mo,lamports:ye(),data:iQ,rentEpoch:ye()}),pot=Me({pubkey:mo,account:gz}),bot=j$(cu([YX(V.Buffer),mj]),cu([Ixe,mj]),n=>Array.isArray(n)?St(n,iQ):n),yj=Me({executable:jh(),owner:mo,lamports:ye(),data:bot,rentEpoch:ye()}),Sot=Me({pubkey:mo,account:yj}),kot=Me({state:cu([Yi("active"),Yi("inactive"),Yi("activating"),Yi("deactivating")]),active:ye(),inactive:ye()}),vot=tn(Tt(Me({signature:Ye(),slot:ye(),err:vv,memo:Kt(Ye()),blockTime:vr(Kt(ye()))}))),Aot=tn(Tt(Me({signature:Ye(),slot:ye(),err:vv,memo:Kt(Ye()),blockTime:vr(Kt(ye()))}))),wot=Me({subscription:ye(),result:z6(gz)}),Iot=Me({pubkey:mo,account:gz}),_ot=Me({subscription:ye(),result:z6(Iot)}),Pot=Me({parent:ye(),slot:ye(),root:ye()}),Eot=Me({subscription:ye(),result:Pot}),xot=cu([Me({type:cu([Yi("firstShredReceived"),Yi("completed"),Yi("optimisticConfirmation"),Yi("root")]),slot:ye(),timestamp:ye()}),Me({type:Yi("createdBank"),parent:ye(),slot:ye(),timestamp:ye()}),Me({type:Yi("frozen"),slot:ye(),timestamp:ye(),stats:Me({numTransactionEntries:ye(),numSuccessfulTransactions:ye(),numFailedTransactions:ye(),maxTransactionsPerEntry:ye()})}),Me({type:Yi("dead"),slot:ye(),timestamp:ye(),err:Ye()})]),Tot=Me({subscription:ye(),result:xot}),Rot=Me({subscription:ye(),result:z6(cu([Zit,Jit]))}),Bot=Me({subscription:ye(),result:ye()}),Cot=Me({pubkey:Ye(),gossip:Kt(Ye()),tpu:Kt(Ye()),rpc:Kt(Ye()),version:Kt(Ye())}),uye=Me({votePubkey:Ye(),nodePubkey:Ye(),activatedStake:ye(),epochVoteAccount:jh(),epochCredits:Tt(ZX([ye(),ye(),ye()])),commission:ye(),lastVote:ye(),rootSlot:Kt(ye())}),Mot=tn(Me({current:Tt(uye),delinquent:Tt(uye)})),zot=cu([Yi("processed"),Yi("confirmed"),Yi("finalized")]),$ot=Me({slot:ye(),confirmations:Kt(ye()),err:vv,confirmationStatus:vr(zot)}),Dot=Lo(Tt(Kt($ot))),Oot=tn(ye()),Exe=Me({accountKey:mo,writableIndexes:Tt(ye()),readonlyIndexes:Tt(ye())}),oQ=Me({signatures:Tt(Ye()),message:Me({accountKeys:Tt(Ye()),header:Me({numRequiredSignatures:ye(),numReadonlySignedAccounts:ye(),numReadonlyUnsignedAccounts:ye()}),instructions:Tt(Me({accounts:Tt(ye()),data:Ye(),programIdIndex:ye()})),recentBlockhash:Ye(),addressTableLookups:vr(Tt(Exe))})}),xxe=Me({pubkey:mo,signer:jh(),writable:jh(),source:vr(cu([Yi("transaction"),Yi("lookupTable")]))}),Txe=Me({accountKeys:Tt(xxe),signatures:Tt(Ye())}),Rxe=Me({parsed:xR(),program:Ye(),programId:mo}),Bxe=Me({accounts:Tt(mo),data:Ye(),programId:mo}),Lot=cu([Bxe,Rxe]),Kot=cu([Me({parsed:xR(),program:Ye(),programId:Ye()}),Me({accounts:Tt(Ye()),data:Ye(),programId:Ye()})]),Cxe=j$(Lot,Kot,n=>"accounts"in n?St(n,Bxe):St(n,Rxe)),Mxe=Me({signatures:Tt(Ye()),message:Me({accountKeys:Tt(xxe),instructions:Tt(Cxe),recentBlockhash:Ye(),addressTableLookups:vr(Kt(Tt(Exe)))})}),k4=Me({accountIndex:ye(),mint:Ye(),owner:vr(Ye()),programId:vr(Ye()),uiTokenAmount:gj}),zxe=Me({writable:Tt(mo),readonly:Tt(mo)}),$6=Me({err:vv,fee:ye(),innerInstructions:vr(Kt(Tt(Me({index:ye(),instructions:Tt(Me({accounts:Tt(ye()),data:Ye(),programIdIndex:ye()}))})))),preBalances:Tt(ye()),postBalances:Tt(ye()),logMessages:vr(Kt(Tt(Ye()))),preTokenBalances:vr(Kt(Tt(k4))),postTokenBalances:vr(Kt(Tt(k4))),loadedAddresses:vr(zxe),computeUnitsConsumed:vr(ye())}),aQ=Me({err:vv,fee:ye(),innerInstructions:vr(Kt(Tt(Me({index:ye(),instructions:Tt(Cxe)})))),preBalances:Tt(ye()),postBalances:Tt(ye()),logMessages:vr(Kt(Tt(Ye()))),preTokenBalances:vr(Kt(Tt(k4))),postTokenBalances:vr(Kt(Tt(k4))),loadedAddresses:vr(zxe),computeUnitsConsumed:vr(ye())}),TR=cu([Yi(0),Yi("legacy")]),Av=Me({pubkey:Ye(),lamports:ye(),postBalance:Kt(ye()),rewardType:Kt(Ye()),commission:vr(Kt(ye()))}),Wot=tn(Kt(Me({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:ye(),transactions:Tt(Me({transaction:oQ,meta:Kt($6),version:vr(TR)})),rewards:vr(Tt(Av)),blockTime:Kt(ye()),blockHeight:Kt(ye())}))),Not=tn(Kt(Me({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:ye(),rewards:vr(Tt(Av)),blockTime:Kt(ye()),blockHeight:Kt(ye())}))),Fot=tn(Kt(Me({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:ye(),transactions:Tt(Me({transaction:Txe,meta:Kt($6),version:vr(TR)})),rewards:vr(Tt(Av)),blockTime:Kt(ye()),blockHeight:Kt(ye())}))),Uot=tn(Kt(Me({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:ye(),transactions:Tt(Me({transaction:Mxe,meta:Kt(aQ),version:vr(TR)})),rewards:vr(Tt(Av)),blockTime:Kt(ye()),blockHeight:Kt(ye())}))),Vot=tn(Kt(Me({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:ye(),transactions:Tt(Me({transaction:Txe,meta:Kt(aQ),version:vr(TR)})),rewards:vr(Tt(Av)),blockTime:Kt(ye()),blockHeight:Kt(ye())}))),qot=tn(Kt(Me({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:ye(),rewards:vr(Tt(Av)),blockTime:Kt(ye()),blockHeight:Kt(ye())}))),Hot=tn(Kt(Me({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:ye(),transactions:Tt(Me({transaction:oQ,meta:Kt($6)})),rewards:vr(Tt(Av)),blockTime:Kt(ye())}))),lye=tn(Kt(Me({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:ye(),signatures:Tt(Ye()),blockTime:Kt(ye())}))),fU=tn(Kt(Me({slot:ye(),meta:Kt($6),blockTime:vr(Kt(ye())),transaction:oQ,version:vr(TR)}))),p3=tn(Kt(Me({slot:ye(),transaction:Mxe,meta:Kt(aQ),blockTime:vr(Kt(ye())),version:vr(TR)}))),jot=Lo(Me({blockhash:Ye(),feeCalculator:Me({lamportsPerSignature:ye()})})),Got=Lo(Me({blockhash:Ye(),lastValidBlockHeight:ye()})),Yot=Lo(jh()),Zot=Me({slot:ye(),numTransactions:ye(),numSlots:ye(),samplePeriodSecs:ye()}),Jot=tn(Tt(Zot)),Xot=Lo(Kt(Me({feeCalculator:Me({lamportsPerSignature:ye()})}))),Qot=tn(Ye()),eat=tn(Ye()),tat=Me({err:vv,logs:Tt(Ye()),signature:Ye()}),rat=Me({result:z6(tat),subscription:ye()}),nat={"solana-client":"js/1.0.0-maintenance"};class sat{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Hs(l),h=this._buildArgs([],d,void 0,y),m=iye(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=St(f,tn(ye()));if("error"in g)throw new nr(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=Nit(e),this._rpcWsEndpoint=r||Wit(e),this._rpcClient=rot(e,s,i,o,a,c),this._rpcRequest=not(this._rpcClient),this._rpcBatchRequest=sot(this._rpcClient),this._rpcWebSocket=new Dit(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Hs(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=St(o,Lo(ye()));if("error"in a)throw new nr(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=St(t,tn(Kt(ye())));if("error"in r)throw new nr(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=St(e,tn(ye()));if("error"in t)throw new nr(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=St(e,dot);if("error"in t)throw new nr(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=St(r,fot);if("error"in s)throw new nr(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=St(s,Lo(gj));if("error"in i)throw new nr(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=St(s,Lo(gj));if("error"in i)throw new nr(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Hs(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=St(c,got);if("error"in u)throw new nr(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=St(o,mot);if("error"in a)throw new nr(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=St(s,yot);if("error"in i)throw new nr(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=St(s,hot);if("error"in i)throw new nr(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Hs(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=St(o,Lo(Kt(gz)));if("error"in a)throw new nr(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Hs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=St(o,Lo(Kt(yj)));if("error"in a)throw new nr(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Hs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=St(a,Lo(Tt(Kt(yj))));if("error"in c)throw new nr(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Hs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=St(a,Lo(Tt(Kt(gz))));if("error"in c)throw new nr(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Hs(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=St(a,tn(kot));if("error"in c)throw new nr(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Hs(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:aye(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=Tt(pot),l=o.withContext===!0?St(c,Lo(u)):St(c,tn(u));if("error"in l)throw new nr(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Hs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=St(o,tn(Tt(Sot)));if("error"in a)throw new nr(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ae.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return ts(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:Sm.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:Sm.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await lS(1e3),i||(h=await y(),i))return;d({__type:Sm.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===Sm.PROCESSED)l=d.response;else throw new eQ(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:Sm.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await lS(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===Sm.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await lS(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new HA(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new HA(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new HA(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new HA(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:Sm.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===Sm.PROCESSED)a=c.response;else throw new tQ(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=St(e,tn(Tt(Cot)));if("error"in t)throw new nr(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=St(r,Mot);if("error"in s)throw new nr(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Hs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=St(i,tn(ye()));if("error"in o)throw new nr(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Hs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=St(i,tn(Ye()));if("error"in o)throw new nr(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=St(s,tn(Tt(mo)));if("error"in i)throw new nr(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);ts(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=St(s,Dot);if("error"in i)throw new nr(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Hs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=St(i,tn(ye()));if("error"in o)throw new nr(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=St(r,iot);if("error"in s)throw new nr(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Hs(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=St(a,Vit);if("error"in c)throw new nr(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=St(e,oot);if("error"in t)throw new nr(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Hs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=St(i,cot);if("error"in o)throw new nr(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=St(e,uot);if("error"in t)throw new nr(t.error,"failed to get epoch schedule");const r=t.result;return new wxe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=St(e,lot);if("error"in t)throw new nr(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=St(s,Oot);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=St(r,jot);if("error"in s)throw new nr(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=St(t,Jot);if("error"in r)throw new nr(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=St(s,Xot);if("error"in i)throw new nr(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=fn(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=St(i,Lo(Kt(ye())));if("error"in o)throw new nr(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=St(s,aot);if("error"in i)throw new nr(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Hs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=St(i,Got);if("error"in o)throw new nr(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Hs(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=St(o,Yot);if("error"in a)throw new nr(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=St(e,tn(Xit));if("error"in t)throw new nr(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=St(e,tn(Ye()));if("error"in t)throw new nr(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Hs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=St(o,Fot);if("error"in a)throw a.error;return a.result}case"none":{const a=St(o,Not);if("error"in a)throw a.error;return a.result}default:{const a=St(o,Wot);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:dU(d,u.message)},version:d}))}:null}}}catch(a){throw new nr(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Hs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=St(o,Vot);if("error"in a)throw a.error;return a.result}case"none":{const a=St(o,qot);if("error"in a)throw a.error;return a.result}default:{const a=St(o,Uot);if("error"in a)throw a.error;return a.result}}}catch(a){throw new nr(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=St(i,tot);if("error"in o)throw new nr(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Hs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=St(o,fU);if("error"in a)throw new nr(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:dU(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Hs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=St(o,p3);if("error"in a)throw new nr(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Hs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=St(c,p3);if("error"in u)throw new nr(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Hs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=St(c,fU);if("error"in u)throw new nr(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:dU(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=St(s,Hot);if("error"in i)throw new nr(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new af(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:us.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=St(i,tn(Tt(ye())));if("error"in o)throw new nr(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=St(s,lye);if("error"in i)throw new nr(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=St(s,lye);if("error"in i)throw new nr(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=St(s,fU);if("error"in i)throw new nr(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new af(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:us.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=St(s,p3);if("error"in i)throw new nr(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=St(o,p3);if("error"in a)throw new nr(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=St(i,vot);if("error"in o)throw new nr(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=St(i,Aot);if("error"in o)throw new nr(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new hj({key:e,state:hj.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=M6.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=St(r,Qot);if("error"in s)throw new nr(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await lS(100);const r=Date.now()-this._blockhashInfo.lastFetch>=_xe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await lS(kxe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Hs(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=St(i,Lo(ye()));if("error"in o)throw new nr(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=St(p,cye);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof us){let m=e;s=new us,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=us.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=St(y,cye);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new hz({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=fn(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=St(a,eat);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new hz({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=St(e,wot);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=iye([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];ts(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Hs(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=St(e,_ot);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Hs(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:aye(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=St(e,rat);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=St(e,Eot);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=St(e,Tot);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=St(e,Rot);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=St(e,Bot);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class kw{constructor(e){this._keypair=void 0,this._keypair=e??tye()}static generate(){return new kw(tye())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=S4(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new kw({publicKey:r,secretKey:e})}static fromSeed(e){const t=S4(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new kw({publicKey:t,secretKey:r})}get publicKey(){return new at(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const $m=Object.freeze({CreateLookupTable:{index:0,layout:N([F("instruction"),gI("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:N([F("instruction")])},ExtendLookupTable:{index:2,layout:N([F("instruction"),gI(),we(Bn(),Gt(F(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:N([F("instruction")])},CloseLookupTable:{index:4,layout:N([F("instruction")])}});class iat{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries($m))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=vs($m.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=vs($m.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new at(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(cQ.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class cQ{constructor(){}static createLookupTable(e){const[t,r]=at.findProgramAddressSync([e.authority.toBuffer(),ya(BigInt(e.recentSlot),8)],this.programId),s=$m.CreateLookupTable,i=Un(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:pc.programId,isSigner:!1,isWritable:!1}];return[new Os({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=$m.FreezeLookupTable,r=Un(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Os({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=$m.ExtendLookupTable,r=Un(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:pc.programId,isSigner:!1,isWritable:!1}),new Os({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=$m.DeactivateLookupTable,r=Un(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Os({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=$m.CloseLookupTable,r=Un(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Os({programId:this.programId,keys:s,data:r})}}cQ.programId=new at("AddressLookupTab1e1111111111111111111111111");class oat{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(lh))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=vs(lh.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=vs(lh.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=vs(lh.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=vs(lh.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(uQ.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const lh=Object.freeze({RequestUnits:{index:0,layout:N([te("instruction"),F("units"),F("additionalFee")])},RequestHeapFrame:{index:1,layout:N([te("instruction"),F("bytes")])},SetComputeUnitLimit:{index:2,layout:N([te("instruction"),F("units")])},SetComputeUnitPrice:{index:3,layout:N([te("instruction"),gI("microLamports")])}});class uQ{constructor(){}static requestUnits(e){const t=lh.RequestUnits,r=Un(t,e);return new Os({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=lh.RequestHeapFrame,r=Un(t,e);return new Os({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=lh.SetComputeUnitLimit,r=Un(t,e);return new Os({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=lh.SetComputeUnitPrice,r=Un(t,{microLamports:BigInt(e.microLamports)});return new Os({keys:[],programId:this.programId,data:r})}}uQ.programId=new at("ComputeBudget111111111111111111111111111111");const dye=64,fye=32,hye=64,gye=N([te("numSignatures"),te("padding"),xe("signatureOffset"),xe("signatureInstructionIndex"),xe("publicKeyOffset"),xe("publicKeyInstructionIndex"),xe("messageDataOffset"),xe("messageDataSize"),xe("messageInstructionIndex")]);class D6{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;ts(t.length===fye,`Public Key must be ${fye} bytes but received ${t.length} bytes`),ts(s.length===hye,`Signature must be ${hye} bytes but received ${s.length} bytes`);const o=gye.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return gye.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new Os({keys:[],programId:D6.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;ts(t.length===dye,`Private key must be ${dye} bytes but received ${t.length} bytes`);try{const i=kw.fromSecretKey(t),o=i.publicKey.toBytes(),a=XX(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}D6.programId=new at("Ed25519SigVerify111111111111111111111111111");const aat=(n,e)=>{const t=R6.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};R6.utils.isValidPrivateKey;const cat=R6.getPublicKey,mye=32,hU=20,yye=64,uat=11,gU=N([te("numSignatures"),xe("signatureOffset"),te("signatureInstructionIndex"),xe("ethAddressOffset"),te("ethAddressInstructionIndex"),xe("messageDataOffset"),xe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class vw{constructor(){}static publicKeyToEthAddress(e){ts(e.length===yye,`Public key must be ${yye} bytes but received ${e.length} bytes`);try{return V.Buffer.from(Zme(fn(e))).slice(-hU)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return vw.createInstructionWithEthAddress({ethAddress:vw.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,ts(a.length===hU,`Address must be ${hU} bytes but received ${a.length} bytes`);const c=1+uat,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(gU.span+r.length);return gU.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:fn(s),ethAddress:fn(a),recoveryId:i},h),h.fill(fn(r),gU.span),new Os({keys:[],programId:vw.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;ts(t.length===mye,`Private key must be ${mye} bytes but received ${t.length} bytes`);try{const i=fn(t),o=cat(i,!1).slice(1),a=V.Buffer.from(Zme(fn(r))),[c,u]=aat(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}vw.programId=new at("KeccakSecp256k11111111111111111111111111111");var $xe;const Dxe=new at("StakeConfig11111111111111111111111111111111");class Oxe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class G${constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}$xe=G$;G$.default=new $xe(0,0,at.default);class lat{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ja))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=vs(Ja.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Oxe(new at(t.staker),new at(t.withdrawer)),lockup:new G$(r.unixTimestamp,r.epoch,new at(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),vs(Ja.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=vs(Ja.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new at(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=vs(Ja.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new at(i),newAuthorizedPubkey:new at(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=vs(Ja.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),vs(Ja.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=vs(Ja.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),vs(Ja.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(O6.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ja=Object.freeze({Initialize:{index:0,layout:N([F("instruction"),dit(),fit()])},Authorize:{index:1,layout:N([F("instruction"),Bn("newAuthorized"),F("stakeAuthorizationType")])},Delegate:{index:2,layout:N([F("instruction")])},Split:{index:3,layout:N([F("instruction"),Ee("lamports")])},Withdraw:{index:4,layout:N([F("instruction"),Ee("lamports")])},Deactivate:{index:5,layout:N([F("instruction")])},Merge:{index:7,layout:N([F("instruction")])},AuthorizeWithSeed:{index:8,layout:N([F("instruction"),Bn("newAuthorized"),F("stakeAuthorizationType"),DS("authoritySeed"),Bn("authorityOwner")])}}),dat=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class O6{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||G$.default,o=Ja.Initialize,a=Un(o,{authorized:{staker:fn(r.staker.toBuffer()),withdrawer:fn(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:fn(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:hI,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Os(c)}static createAccountWithSeed(e){const t=new us;t.add(pc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new us;t.add(pc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=Ja.Delegate,o=Un(i);return new us().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Hf,isSigner:!1,isWritable:!1},{pubkey:wL,isSigner:!1,isWritable:!1},{pubkey:Dxe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=Ja.Authorize,c=Un(a,{newAuthorized:fn(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Hf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new us().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Ja.AuthorizeWithSeed,l=Un(u,{newAuthorized:fn(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:fn(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Hf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new us().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=Ja.Split,a=Un(o,{lamports:i});return new Os({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new us;return r.add(pc.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new us;return u.add(pc.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(pc.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=Ja.Merge,o=Un(i);return new us().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Hf,isSigner:!1,isWritable:!1},{pubkey:wL,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=Ja.Withdraw,c=Un(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Hf,isSigner:!1,isWritable:!1},{pubkey:wL,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new us().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=Ja.Deactivate,i=Un(s);return new us().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Hf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}O6.programId=new at("Stake11111111111111111111111111111111111111");O6.space=200;class Lxe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class fat{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(dh))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=vs(dh.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Lxe(new at(t.nodePubkey),new at(t.authorizedVoter),new at(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=vs(dh.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new at(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=vs(dh.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new at(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new at(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=vs(dh.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(RR.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const dh=Object.freeze({InitializeAccount:{index:0,layout:N([F("instruction"),hit()])},Authorize:{index:1,layout:N([F("instruction"),Bn("newAuthorized"),F("voteAuthorizationType")])},Withdraw:{index:3,layout:N([F("instruction"),Ee("lamports")])},UpdateValidatorIdentity:{index:4,layout:N([F("instruction")])},AuthorizeWithSeed:{index:10,layout:N([F("instruction"),git()])}}),hat=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class RR{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=dh.InitializeAccount,o=Un(i,{voteInit:{nodePubkey:fn(s.nodePubkey.toBuffer()),authorizedVoter:fn(s.authorizedVoter.toBuffer()),authorizedWithdrawer:fn(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:hI,isSigner:!1,isWritable:!1},{pubkey:Hf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Os(a)}static createAccount(e){const t=new us;return t.add(pc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=dh.Authorize,a=Un(o,{newAuthorized:fn(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Hf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new us().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=dh.AuthorizeWithSeed,u=Un(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:fn(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:fn(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Hf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new us().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=dh.Withdraw,a=Un(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new us().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return RR.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=dh.UpdateValidatorIdentity,o=Un(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new us().add({keys:a,programId:this.programId,data:o})}}RR.programId=new at("Vote111111111111111111111111111111111111111");RR.space=3762;const Kxe=new at("Va1idator1nfo111111111111111111111111111111"),gat=Me({name:Ye(),website:vr(Ye()),details:vr(Ye()),iconUrl:vr(Ye()),keybaseUsername:vr(Ye())});class lQ{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Wu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new at(Nu(t,0,zh)),a=uh(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(Kxe)&&s[1].isSigner){const i=DS().decode(V.Buffer.from(t)),o=JSON.parse(i);return axe(o,gat),new lQ(s[1].publicKey,o)}return null}}const mat=new at("Vote111111111111111111111111111111111111111"),yat=N([Bn("nodePubkey"),Bn("authorizedWithdrawer"),te("commission"),fe(),we(N([fe("slot"),F("confirmationCount")]),Gt(F(),-8),"votes"),te("rootSlotValid"),fe("rootSlot"),fe(),we(N([fe("epoch"),Bn("authorizedVoter")]),Gt(F(),-8),"authorizedVoters"),N([we(N([Bn("authorizedPubkey"),fe("epochOfLastAuthorizedSwitch"),fe("targetEpoch")]),32,"buf"),fe("idx"),te("isEmpty")],"priorVoters"),fe(),we(N([fe("epoch"),fe("credits"),fe("prevCredits")]),Gt(F(),-8),"epochCredits"),N([fe("slot"),fe("timestamp")],"lastTimestamp")]);class dQ{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=yat.decode(fn(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new dQ({nodePubkey:new at(r.nodePubkey),authorizedWithdrawer:new at(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(pat),priorVoters:bat(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function pat({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new at(n)}}function pye({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new at(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function bat({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(pye),...n.slice(0,e).map(pye)]}const bye={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Sat(n,e){const t=e===!1?"http":"https";if(!n)return bye[t].devnet;const r=bye[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function kat(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new hz({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const vat=1e9;var Aat=Object.freeze(Object.defineProperty({__proto__:null,Account:cit,AddressLookupTableAccount:hj,AddressLookupTableInstruction:iat,AddressLookupTableProgram:cQ,Authorized:Oxe,BLOCKHASH_CACHE_TIMEOUT_MS:_xe,BPF_LOADER_DEPRECATED_PROGRAM_ID:uit,BPF_LOADER_PROGRAM_ID:Tit,BpfLoader:Rit,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:lh,ComputeBudgetInstruction:oat,ComputeBudgetProgram:uQ,Connection:sat,Ed25519Program:D6,Enum:oit,EpochSchedule:wxe,FeeCalculatorLayout:vxe,Keypair:kw,LAMPORTS_PER_SOL:vat,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:$m,Loader:xk,Lockup:G$,MAX_SEED_LENGTH:pxe,Message:af,MessageAccountKeys:fz,MessageV0:Ek,NONCE_ACCOUNT_LENGTH:fj,NonceAccount:M6,PACKET_DATA_SIZE:Xp,PUBLIC_KEY_LENGTH:zh,PublicKey:at,SIGNATURE_LENGTH_IN_BYTES:dz,SOLANA_SCHEMA:vM,STAKE_CONFIG_ID:Dxe,STAKE_INSTRUCTION_LAYOUTS:Ja,SYSTEM_INSTRUCTION_LAYOUTS:ri,SYSVAR_CLOCK_PUBKEY:Hf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:Sit,SYSVAR_INSTRUCTIONS_PUBKEY:kit,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:AL,SYSVAR_RENT_PUBKEY:hI,SYSVAR_REWARDS_PUBKEY:vit,SYSVAR_SLOT_HASHES_PUBKEY:Ait,SYSVAR_SLOT_HISTORY_PUBKEY:wit,SYSVAR_STAKE_HISTORY_PUBKEY:wL,Secp256k1Program:vw,SendTransactionError:hz,SolanaJSONRPCError:nr,SolanaJSONRPCErrorCode:Iit,StakeAuthorizationLayout:dat,StakeInstruction:lat,StakeProgram:O6,Struct:QX,SystemInstruction:Eit,SystemProgram:pc,Transaction:us,TransactionExpiredBlockheightExceededError:eQ,TransactionExpiredNonceInvalidError:HA,TransactionExpiredTimeoutError:tQ,TransactionInstruction:Os,TransactionMessage:nQ,TransactionStatus:Sm,VALIDATOR_INFO_KEY:Kxe,VERSION_PREFIX_MASK:B6,VOTE_PROGRAM_ID:mat,ValidatorInfo:lQ,VersionedMessage:rQ,VersionedTransaction:sQ,VoteAccount:dQ,VoteAuthorizationLayout:hat,VoteInit:Lxe,VoteInstruction:fat,VoteProgram:RR,clusterApiUrl:Sat,sendAndConfirmRawTransaction:kat,sendAndConfirmTransaction:dj},Symbol.toStringTag,{value:"Module"})),BR=Wl(Aat),wat=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Iat=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Sye=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},pj;Object.defineProperty(Xb,"__esModule",{value:!0});Xb.CraftableItem=Xb.craftableItemDataEquals=void 0;const kye=Nl,bj=BR,Sj=fr,_at=rR.exports;function Pat(n,e){return n.version===e.version&&n.bump===e.bump&&(0,_at.isEqual)(n.namespace,e.namespace)&&n.domain.equals(e.domain)&&n.mint.equals(e.mint)}Xb.craftableItemDataEquals=Pat;let mz=pj=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return bj.PublicKey.findProgramAddressSync([rt.Buffer.from("CraftableItem"),t.toBuffer(),r.toBuffer()],e.programId)}static registerCraftableItem(e,t,r,s,i,o){return a=>Sye(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerCraftableItem(o).accountsStrict({key:t.publicKey(),profile:r,funder:a.publicKey(),craftableItem:this.findAddress(e,s,i)[0],domain:s,mint:i,systemProgram:bj.SystemProgram.programId}).instruction(),signers:[t,a]}]})}static fundCraftableItemBank(e,t,r,s,i){const o=(0,kye.getAssociatedTokenAddressSync)(t,e,!0);return(0,Sj.transferToTokenAccount)(r,s,o,i)}static drainCraftableItemBank(e,t,r,s,i,o,a,c,u){return l=>Sye(this,void 0,void 0,function*(){return[{instruction:yield e.methods.drainCraftableItemBank(u).accountsStrict({key:r.publicKey(),profile:s,fundsTo:i==="funder"?l.publicKey():i,craftableItem:t,domain:o,tokenFrom:a,tokenTo:c,tokenProgram:kye.TOKEN_PROGRAM_ID}).instruction(),signers:[r]}]})}static decodeData(e,t){return(0,Sj.decodeAccount)(e,t,pj)}};Xb.CraftableItem=mz;mz.ACCOUNT_NAME="craftableItem";mz.MIN_DATA_SIZE=8+1+32+32+32+32+1;Xb.CraftableItem=mz=pj=wat([(0,Sj.staticImplements)(),Iat("design:paramtypes",[Object,bj.PublicKey])],mz);var fQ={};(function(n){var e=K&&K.__decorate||function(l,d,y,h){var m=arguments.length,f=m<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,y):h,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(l,d,y,h);else for(var b=l.length-1;b>=0;b--)(g=l[b])&&(f=(m<3?g(f):m>3?g(d,y,f):g(d,y))||f);return m>3&&f&&Object.defineProperty(d,y,f),f},t=K&&K.__metadata||function(l,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,d)},r=K&&K.__awaiter||function(l,d,y,h){function m(f){return f instanceof y?f:new y(function(g){g(f)})}return new(y||(y=Promise))(function(f,g){function b(I){try{p(h.next(I))}catch(w){g(w)}}function S(I){try{p(h.throw(I))}catch(w){g(w)}}function p(I){I.done?f(I.value):m(I.value).then(b,S)}p((h=h.apply(l,d||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.CraftingFacility=n.craftingFacilityDataEquals=n.CRAFTING_FACILITY_MIN_DATA_SIZE=n.CraftingFacilityLocationType=void 0;const i=BR,o=fr;var a;(function(l){l[l.Starbase=0]="Starbase"})(a||(n.CraftingFacilityLocationType=a={})),n.CRAFTING_FACILITY_MIN_DATA_SIZE=8+1+32+32+1+4+4+4+4;function c(l,d){return l.version===d.version&&l.locationType===d.locationType&&l.maxConcurrentProcesses===d.maxConcurrentProcesses&&l.numConcurrentProcesses===d.numConcurrentProcesses&&l.efficiency===d.efficiency&&l.numRecipeCategories===d.numRecipeCategories&&l.domain.equals(d.domain)&&l.location.equals(d.location)}n.craftingFacilityDataEquals=c;let u=s=class{constructor(d,y,h){this._data=d,this._key=y,this._recipeCategories=h}get data(){return this._data}get key(){return this._key}get recipeCategories(){return this._recipeCategories||[]}static registerCraftingFacility(d,y,h,m,f,g,b){return S=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.registerCraftingFacility(Object.assign(Object.assign({},b),{locationType:(0,o.getAnchorEnum)(a,b.locationType)})).accountsStrict({key:h.publicKey(),profile:m,funder:S.publicKey(),craftingFacility:y.publicKey(),domain:f,location:g,systemProgram:i.SystemProgram.programId}).instruction(),signers:[h,S,y]}]})}static updateCraftingFacility(d,y,h,m,f,g){const b=Object.assign(Object.assign({},g),{efficiency:g.efficiency==null?null:g.efficiency,maxConcurrentProcesses:g.maxConcurrentProcesses==null?null:g.maxConcurrentProcesses});return()=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.updateCraftingFacility(b).accountsStrict({key:h.publicKey(),profile:m,craftingFacility:y,domain:f}).instruction(),signers:[h]}]})}static addCraftingFacilityRecipeCategory(d,y,h,m,f,g,b){return S=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.addCraftingFacilityRecipeCategory(b).accountsStrict({key:h.publicKey(),profile:m,funder:S.publicKey(),craftingFacility:y,recipeCategory:g,domain:f,systemProgram:i.SystemProgram.programId}).instruction(),signers:[h,S]}]})}static removeCraftingFacilityRecipeCategory(d,y,h,m,f,g,b){return S=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.removeCraftingFacilityRecipeCategory(b).accountsStrict({key:h.publicKey(),profile:m,funder:S.publicKey(),craftingFacility:y,recipeCategory:g,domain:f,systemProgram:i.SystemProgram.programId}).instruction(),signers:[h,S]}]})}static deregisterCraftingFacility(d,y,h,m,f,g,b){return S=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.deregisterCraftingFacility(b).accountsStrict({key:h.publicKey(),profile:m,fundsTo:f==="funder"?S.publicKey():f,craftingFacility:y,domain:g}).instruction(),signers:[h]}]})}static decodeData(d,y){return(0,o.decodeAccountWithRemaining)(d,y,s,(h,m)=>Array(m.numRecipeCategories).fill(0).map((f,g)=>y.coder.types.decode("WrappedRecipeCategory",h.subarray(32*g).subarray(0,32)).id))}};n.CraftingFacility=u,u.ACCOUNT_NAME="craftingFacility",u.MIN_DATA_SIZE=n.CRAFTING_FACILITY_MIN_DATA_SIZE,n.CraftingFacility=u=s=e([(0,o.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey,Array])],u)})(fQ);var $h={},Eat=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},xat=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},wd=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},kj;Object.defineProperty($h,"__esModule",{value:!0});$h.CraftingProcess=$h.craftingProcessDataEquals=$h.CraftingProcessStatus=void 0;const Eg=Nl,IL=BR,v4=fr;var vye;(function(n){n[n.Initialized=0]="Initialized",n[n.Started=1]="Started",n[n.Completed=2]="Completed"})(vye||($h.CraftingProcessStatus=vye={}));function Tat(n,e){return n.version===e.version&&n.craftingId.eq(e.craftingId)&&n.authority.equals(e.authority)&&n.recipe.equals(e.recipe)&&n.craftingFacility.equals(e.craftingFacility)&&(0,v4.arrayDeepEquals)(n.inputsChecksum,e.inputsChecksum,(t,r)=>t===r)&&(0,v4.arrayDeepEquals)(n.outputsChecksum,e.outputsChecksum,(t,r)=>t===r)&&n.quantity.eq(e.quantity)&&n.status===e.status&&n.startTime.eq(e.startTime)&&n.endTime.eq(e.endTime)&&n.denyPermissionlessClaiming===e.denyPermissionlessClaiming&&n.useLocalTime===e.useLocalTime&&n.bump===e.bump}$h.craftingProcessDataEquals=Tat;let yz=kj=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static getCargoPodSeeds(){return IL.Keypair.generate().publicKey.toBuffer()}static findAddress(e,t,r,s){return IL.PublicKey.findProgramAddressSync([rt.Buffer.from("CraftingProcess"),t.toBuffer(),r.toBuffer(),s.toArrayLike(rt.Buffer,"le",8)],e.programId)}static createCraftingProcess(e,t,r,s,i,o){const a=this.findAddress(e,s,i,o.craftingId)[0];return c=>wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.createCraftingProcess(o).accountsStrict({location:t.publicKey(),authority:r.publicKey(),funder:c.publicKey(),craftingProcess:a,recipe:i,craftingFacility:s,systemProgram:IL.SystemProgram.programId}).instruction(),signers:[t,r,c]}]})}static addRecipeIngredient(e,t,r,s,i,o,a,c,u){return()=>wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.addRecipeIngredient(u).accountsStrict({location:t.publicKey(),authority:r.publicKey(),craftingProcess:s,recipe:i,craftingFacility:o,tokenFrom:a,tokenTo:c,tokenProgram:Eg.TOKEN_PROGRAM_ID}).instruction(),signers:[t,r]}]})}static legitimizeRecipeIngredient(e,t,r,s,i,o,a,c){return()=>wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.legitimizeRecipeIngredient(c).accountsStrict({location:t.publicKey(),authority:r.publicKey(),craftingProcess:s,recipe:i,craftingFacility:o,tokenTo:a,tokenProgram:Eg.TOKEN_PROGRAM_ID}).instruction(),signers:[t,r]}]})}static removeRecipeIngredient(e,t,r,s,i,o,a,c,u,l){return()=>wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.removeRecipeIngredient(l).accountsStrict({location:t.publicKey(),authority:r.publicKey(),craftingProcess:s,recipe:i,craftingFacility:o,tokenFrom:a,tokenTo:c,mint:u,tokenProgram:Eg.TOKEN_PROGRAM_ID}).instruction(),signers:[t,r]}]})}static startCraftingProcess(e,t,r,s,i,o,a,c,u,l){const d=[t],y=[];return a&&c&&u&&l&&(d.map(h=>h.publicKey().toBase58()).includes(c.publicKey().toBase58())||d.push(c),y.push({pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c.publicKey(),isSigner:!0,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:Eg.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1})),()=>wd(this,void 0,void 0,function*(){var h,m;return[{instruction:yield e.methods.startCraftingProcess({recipeDurationOverride:(h=o==null?void 0:o.recipeDurationOverride)!==null&&h!==void 0?h:null,localTime:(m=o==null?void 0:o.localTime)!==null&&m!==void 0?m:null}).accountsStrict({location:t.publicKey(),craftingProcess:r,recipe:s,craftingFacility:i}).remainingAccounts(y).instruction(),signers:d}]})}static stopCraftingProcess(e,t,r,s,i,o,a,c){const u=[t],l=[];return a&&c&&l.push({pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:Eg.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}),()=>wd(this,void 0,void 0,function*(){var d;return[{instruction:yield e.methods.stopCraftingProcess({localTime:(d=o==null?void 0:o.localTime)!==null&&d!==void 0?d:null}).accountsStrict({location:t.publicKey(),craftingProcess:r,recipe:s,craftingFacility:i}).remainingAccounts(l).instruction(),signers:u}]})}static cancelCraftingProcess(e,t,r,s,i,o){return a=>wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.cancelCraftingProcess().accountsStrict({location:t.publicKey(),authority:r.publicKey(),fundsTo:s==="funder"?a.publicKey():s,craftingProcess:i,craftingFacility:o}).instruction(),signers:[t,r]}]})}static burnConsumableIngredient(e,t,r,s,i,o){return()=>wd(this,void 0,void 0,function*(){var a;return[{instruction:yield e.methods.burnConsumableIngredient(Object.assign(Object.assign({},o),{localTime:(a=o.localTime)!==null&&a!==void 0?a:null})).accountsStrict({craftingProcess:t,recipe:r,tokenFrom:s,mint:i,tokenProgram:Eg.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static claimNonConsumableIngredient(e,t,r,s,i,o,a,c){return()=>wd(this,void 0,void 0,function*(){var u;return[{instruction:yield e.methods.claimNonConsumableIngredient(Object.assign(Object.assign({},c),{localTime:(u=c.localTime)!==null&&u!==void 0?u:null})).accountsStrict({authority:r,craftingProcess:t,recipe:s,tokenFrom:i,tokenTo:o,mint:a,tokenProgram:Eg.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static claimRecipeOutput(e,t,r,s,i,o,a,c){return()=>wd(this,void 0,void 0,function*(){var u;return[{instruction:yield e.methods.claimRecipeOutput(Object.assign(Object.assign({},c),{localTime:(u=c.localTime)!==null&&u!==void 0?u:null})).accountsStrict({authority:r,craftingProcess:t,recipe:s,tokenFrom:i,tokenTo:o,craftableItem:a,tokenProgram:Eg.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static closeCraftingProcess(e,t,r,s,i,o,a,c){const u=[];return a&&c&&u.push({pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:Eg.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}),l=>wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.closeCraftingProcess().accountsStrict({authority:t.publicKey(),fundsTo:r==="funder"?l.publicKey():r,craftingProcess:s,recipe:i,craftingFacility:o}).remainingAccounts(u).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,v4.decodeAccount)(e,t,kj)}};$h.CraftingProcess=yz;yz.ACCOUNT_NAME="craftingProcess";yz.MIN_DATA_SIZE=8+1+8+32+32+32+32+16+16+8+1+8+8+1;$h.CraftingProcess=yz=kj=Eat([(0,v4.staticImplements)(),xat("design:paramtypes",[Object,IL.PublicKey])],yz);var Qb={},Rat=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Bat=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Aye=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},vj;Object.defineProperty(Qb,"__esModule",{value:!0});Qb.CraftingDomain=Qb.craftingDomainDataEquals=void 0;const Wxe=BR,Nxe=fr,Cat=rR.exports;function Mat(n,e){return n.version===e.version&&n.profile.equals(e.profile)&&(0,Cat.isEqual)(n.namespace,e.namespace)}Qb.craftingDomainDataEquals=Mat;let pz=vj=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static decodeData(e,t){return(0,Nxe.decodeAccount)(e,t,vj)}static initializeDomain(e,t,r,s,i){return o=>Aye(this,void 0,void 0,function*(){return[{instruction:yield e.methods.initializeDomain(i).accountsStrict({signer:r.publicKey(),domain:t.publicKey(),funder:o.publicKey(),profile:s,systemProgram:Wxe.SystemProgram.programId}).instruction(),signers:[r,t,o]}]})}static updateDomain(e,t,r,s,i,o){return()=>Aye(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateDomain(o).accountsStrict({key:r.publicKey(),domain:t,profile:s,newProfile:i}).instruction(),signers:[r]}]})}};Qb.CraftingDomain=pz;pz.ACCOUNT_NAME="domain";pz.MIN_DATA_SIZE=8+1+32+32+32;Qb.CraftingDomain=pz=vj=Rat([(0,Nxe.staticImplements)(),Bat("design:paramtypes",[Object,Wxe.PublicKey])],pz);var bz={};Object.defineProperty(bz,"__esModule",{value:!0});bz.IDL=void 0;bz.IDL={version:"0.1.0",name:"crafting",instructions:[{name:"addConsumableInputToRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The Mint Account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RecipeIngredients"}}]},{name:"addCraftingFacilityRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipeCategory",isMut:!1,isSigner:!1,docs:["The [`RecipeCategory`] account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"addNonConsumableInputToRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RecipeIngredients"}}]},{name:"addOutputToRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"craftableItem",isMut:!1,isSigner:!1,docs:["The Craftable Item that the output represents"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RecipeIngredients"}}]},{name:"addRecipeIngredient",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The recipe ingredient token account."]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"AddRecipeIngredientInput"}}]},{name:"burnConsumableIngredient",accounts:[{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint of the consumable recipe ingredient"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"BurnConsumableIngredientInput"}}]},{name:"cancelCraftingProcess",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]}],args:[]},{name:"claimNonConsumableIngredient",accounts:[{name:"authority",isMut:!1,isSigner:!1,docs:["The owner/authority of crafting_process account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The token account to receive the non-consumable ingredient."]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint of the recipe ingredient"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"ClaimNonConsumableIngredientInput"}}]},{name:"claimRecipeOutput",accounts:[{name:"authority",isMut:!1,isSigner:!1,docs:["The owner/authority of crafting_process account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The token account owned by `craftable_item`."]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The recipe ingredient token account."]},{name:"craftableItem",isMut:!1,isSigner:!1,docs:["The craftable_item (this is also the mint authority)"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"ClaimRecipeOutputInput"}}]},{name:"closeCraftingProcess",accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]}],args:[]},{name:"createCraftingProcess",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The owner/authority for the new crafting_process account"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"CreateCraftingProcessInput"}}]},{name:"deregisterCraftingFacility",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"recipeCategory",isMut:!0,isSigner:!1,docs:["The [RecipeCategory] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"drainCraftableItemBank",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"craftableItem",isMut:!0,isSigner:!1,docs:["The Craftable Item account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [omain account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The craftable item token bank to drain"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["Where to send tokens from the bank"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"initializeDomain",accounts:[{name:"signer",isMut:!0,isSigner:!0,docs:["The entity calling this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] that handles the crafting program permissions"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"domain",isMut:!0,isSigner:!0,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"namespace",type:{array:["u8",32]}}]},{name:"legitimizeRecipeIngredient",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"LegitimizeRecipeIngredientInput"}}]},{name:"registerCraftableItem",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint of the Craftable Item to be registered"]},{name:"craftableItem",isMut:!0,isSigner:!1,docs:["The Craftable Item to be registered"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterCraftableItemInput"}}]},{name:"registerCraftingFacility",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"craftingFacility",isMut:!0,isSigner:!0,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"location",isMut:!1,isSigner:!1,docs:["The Location address"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterCraftingFacilityInput"}}]},{name:"registerRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!0,docs:["The [Recipe] account"]},{name:"recipeCategory",isMut:!0,isSigner:!1,docs:["The [RecipeCategory] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterRecipeInput"}}]},{name:"registerRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipeCategory",isMut:!0,isSigner:!0,docs:["The [RecipeCategory] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"RegisterRecipeCategoryInput"}}]},{name:"removeConsumableInputFromRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RemoveRecipeIngredients"}}]},{name:"removeCraftingFacilityRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipeCategory",isMut:!1,isSigner:!1,docs:["The recipe category to remove."]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RemoveCraftingFacilityRecipeCategoryInput"}}]},{name:"removeNonConsumableInputFromRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RemoveRecipeIngredients"}}]},{name:"removeOutputFromRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RemoveRecipeIngredients"}}]},{name:"removeRecipeIngredient",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The token account that receives the recipe ingredient."]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint of the recipe ingredient"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [`Token`] program"]}],args:[{name:"input",type:{defined:"RemoveRecipeIngredientInput"}}]},{name:"startCraftingProcess",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]}],args:[{name:"input",type:{defined:"StartCraftingProcessInput"}}]},{name:"stopCraftingProcess",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]}],args:[{name:"input",type:{defined:"StopCraftingProcessInput"}}]},{name:"updateCraftingFacility",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"UpdateCraftingFacilityInput"}}]},{name:"updateDomain",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"newProfile",isMut:!1,isSigner:!1,docs:["The new crafting permissions profile"]},{name:"domain",isMut:!0,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"updateRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] to update"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"UpdateRecipeInput"}}]},{name:"updateRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] to update"]},{name:"recipeCategoryOld",isMut:!0,isSigner:!1,docs:["The old [RecipeCategory] account"]},{name:"recipeCategoryNew",isMut:!0,isSigner:!1,docs:["The new [RecipeCategory] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]}],accounts:[{name:"craftableItem",docs:["This PDA represents a token registered as an item that can be crafted"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"domain",docs:["the domain"],type:"publicKey"},{name:"mint",docs:["the mint representing the items crafted"],type:"publicKey"},{name:"creator",docs:["TODO: remove this"],type:"publicKey"},{name:"namespace",docs:["the name of this account"],type:{array:["u8",32]}},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"craftingFacility",docs:["Represents a crafting facility account"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"domain",docs:["the domain"],type:"publicKey"},{name:"location",docs:["the location's pubkey"],type:"publicKey"},{name:"locationType",docs:["the location type"],type:"u8"},{name:"maxConcurrentProcesses",docs:["the max. number of concurrent crafting processes that can be handled by this facility","if 0 then there is no max"],type:"u32"},{name:"numConcurrentProcesses",docs:["the current number of concurrent crafting processes"],type:"u32"},{name:"efficiency",docs:["the efficiency rate for this crafting_facility (as basis points)"],type:"u32"},{name:"numRecipeCategories",docs:["number of recipe categories"],type:"u32"}]}},{name:"craftingProcess",docs:["This account represents crafting in progress"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"craftingId",docs:["the crafting id"],type:"u64"},{name:"authority",docs:["the owner/authority of this crafting process"],type:"publicKey"},{name:"recipe",docs:["the recipe"],type:"publicKey"},{name:"craftingFacility",docs:["the crafting facility"],type:"publicKey"},{name:"inputsChecksum",docs:["used to check if expected inputs have been supplied"],type:{array:["u8",16]}},{name:"outputsChecksum",docs:["used to check if expected outputs have been claimed"],type:{array:["u8",16]}},{name:"quantity",docs:["Quantity of outputs to craft"],type:"u64"},{name:"status",docs:["The status of this crafting process"],type:"u8"},{name:"startTime",docs:["the start timestamp"],type:"i64"},{name:"endTime",docs:["the end timestamp"],type:"i64"},{name:"denyPermissionlessClaiming",docs:["Whether or not to deny permission-less claiming.  True when > 0"],type:"u8"},{name:"useLocalTime",docs:["Whether or not to local time supplied by the location.  True when > 0"],type:"u8"},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"domain",docs:['This account allows for a crafting "domain" which allows an admin to set up',"craftable items, recipes and crafting facilities tied to a domain that the control"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The [`Profile`] that handles the crafting program permissions"],type:"publicKey"},{name:"namespace",docs:["the namespace"],type:{array:["u8",32]}}]}},{name:"recipe",docs:["The definition of a recipe."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"domain",docs:["the domain"],type:"publicKey"},{name:"category",docs:["The Recipe Category"],type:"publicKey"},{name:"creator",docs:["TODO: remove this"],type:"publicKey"},{name:"duration",docs:["The time required to craft this Recipe."],type:"i64"},{name:"minDuration",docs:["The minimum time required to craft this Recipe."],type:"i64"},{name:"namespace",docs:["The name of this recipe."],type:{array:["u8",32]}},{name:"status",docs:["The status of the recipe"],type:"u8"},{name:"feeAmount",docs:["The amount to charge when this recipe is used"],type:"u64"},{name:"feeRecipient",docs:["The token account that receives the `fee_amount`.  If [`None`] the recipe requires no fees when used."],type:{defined:"OptionalNonSystemPubkey"}},{name:"usageCount",docs:["The number of times that this recipe has been used"],type:"u64"},{name:"usageLimit",docs:["The maximum number of times that this recipe can be used"],type:"u64"},{name:"value",docs:['The value of this recipe e.g. might be "economic value"','The precise meaning of "value" is left to the person creating recipes to determine'],type:"u64"},{name:"consumablesCount",docs:["The number of consumable inputs in this recipe."],type:"u8"},{name:"nonConsumablesCount",docs:["The number of non-consumable inputs in this recipe."],type:"u8"},{name:"outputsCount",docs:["The number of outputs from this recipe."],type:"u8"},{name:"totalCount",docs:["The number of all inputs and outputs in this recipe."],type:"u16"}]}},{name:"recipeCategory",docs:["A Crafting Recipe Category account"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"domain",docs:["the domain"],type:"publicKey"},{name:"creator",docs:["TODO: remove this"],type:"publicKey"},{name:"recipeCount",docs:["The number of recipes in this category."],type:"u32"},{name:"namespace",docs:["the name of this account"],type:{array:["u8",32]}}]}}],types:[{name:"AddRecipeIngredientInput",docs:["Struct for data input to add an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to deposit"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"BurnConsumableIngredientInput",docs:["Struct for data input to burn a consumable ingredient"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the consumable recipe ingredient"],type:"u16"},{name:"localTime",docs:["the current time as supplied by the location; required if `use_local_time` is set on the `CraftingProcess`"],type:{option:"i64"}}]}},{name:"ClaimNonConsumableIngredientInput",docs:["Struct for data input to claim a non-consumable ingredient"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"},{name:"localTime",docs:["the current time as supplied by the location; required if `use_local_time` is set on the `CraftingProcess`"],type:{option:"i64"}}]}},{name:"ClaimRecipeOutputInput",docs:["Struct for data input to claim an output"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the recipe output"],type:"u16"},{name:"localTime",docs:["the current time as supplied by the location; required if `use_local_time` is set on the `CraftingProcess`"],type:{option:"i64"}}]}},{name:"CreateCraftingProcessInput",docs:["Struct for data input to create a `CraftingProcess`"],type:{kind:"struct",fields:[{name:"craftingId",docs:["crafting id"],type:"u64"},{name:"recipeCategoryIndex",docs:["the index of the recipe's category"],type:"u16"},{name:"quantity",docs:["quantity of outputs to craft"],type:"u64"},{name:"denyPermissionlessClaiming",docs:["Whether or not to deny permission-less claiming.  True when > 0"],type:"bool"},{name:"useLocalTime",docs:["Whether or not to local time supplied by the location.  True when > 0"],type:"bool"}]}},{name:"KeyIndexInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"LegitimizeRecipeIngredientInput",docs:["Struct for data input to legitimize an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to deposit"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"LocationType",docs:["Represents different types of locations that a `CraftingFacility` might be found"],type:{kind:"enum",variants:[{name:"Starbase"}]}},{name:"OptionalNonSystemPubkey",docs:["A pubkey sized option that is none if set to the system program."],type:{kind:"struct",fields:[{name:"key",type:"publicKey"}]}},{name:"ProcessStatus",docs:["The `CraftingProcess` `status`"],type:{kind:"enum",variants:[{name:"Initialized"},{name:"Started"},{name:"Completed"}]}},{name:"RecipeIngredients",docs:["A copy of the [`RecipeInputsOutputs`] struct --> to be used as inputs into the program, avoiding using Borsch Serialization with Zero Copy serialization"],type:{kind:"struct",fields:[{name:"amount",docs:["Amount of Input/Output required/produced."],type:"u64"},{name:"mint",docs:["Mint pubkey of the Input/Output."],type:"publicKey"},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RecipeInputsOutputs",docs:["The [`RecipeInputsOutputs`] struct."],type:{kind:"struct",fields:[{name:"amount",docs:["Amount of Input/Output required/produced."],type:"u64"},{name:"mint",docs:["Mint pubkey of the Input/Output."],type:"publicKey"}]}},{name:"RecipeStatus",docs:["Represents the `Recipe` status"],type:{kind:"enum",variants:[{name:"Initializing"},{name:"Active"},{name:"Deactivated"}]}},{name:"RegisterCraftableItemInput",docs:["used as input struct when registering a `CraftableItem`"],type:{kind:"struct",fields:[{name:"namespace",docs:["the `CraftableItem` namespace"],type:{array:["u8",32]}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RegisterCraftingFacilityInput",docs:["Struct for data input to Register a `CraftingFacility`"],type:{kind:"struct",fields:[{name:"locationType",docs:["`CraftingFacility` location type"],type:{defined:"LocationType"}},{name:"efficiency",docs:["`CraftingFacility` efficiency"],type:"u32"},{name:"maxConcurrentProcesses",docs:["the max. number of concurrent crafting processes that can be handled by this facility","if 0 then there is no max"],type:"u32"},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RegisterRecipeCategoryInput",docs:["Struct for data input for `RegisterRecipeCategory`"],type:{kind:"struct",fields:[{name:"namespace",docs:["the `RecipeCategory` namespace"],type:{array:["u8",32]}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RegisterRecipeInput",docs:["used as input struct when registering a Recipe"],type:{kind:"struct",fields:[{name:"duration",docs:["the recipe duration (seconds)"],type:"i64"},{name:"minDuration",docs:["the recipe minimum duration (seconds)"],type:"i64"},{name:"namespace",docs:["the recipe namespace"],type:{array:["u8",32]}},{name:"feeAmount",docs:["the recipe fee amount"],type:{option:"u64"}},{name:"usageLimit",docs:["the maximum number of times that this recipe can be used; if not provided a limit will not be set"],type:{option:"u64"}},{name:"value",docs:["the recipe's value"],type:{option:"u64"}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RemoveCraftingFacilityRecipeCategoryInput",docs:["Struct for data input for removing a [`CraftingFacility`] `RecipeCategory`"],type:{kind:"struct",fields:[{name:"recipeCategoryIndex",docs:["the index of the `RecipeCategory` in the [`CraftingFacility`]"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RemoveRecipeIngredientInput",docs:["Struct for data input to remove an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to withdraw/remove"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"RemoveRecipeIngredients",docs:["used as input struct when removing recipe ingredients"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"StartCraftingProcessInput",docs:["Inputs for `StartCraftingProcess`"],type:{kind:"struct",fields:[{name:"recipeDurationOverride",docs:["recipe duration override"],type:{option:"u64"}},{name:"localTime",docs:["the current time as supplied by the location; required if `use_local_time` is set on the `CraftingProcess`"],type:{option:"i64"}}]}},{name:"StopCraftingProcessInput",docs:["Inputs for `StopCraftingProcess`"],type:{kind:"struct",fields:[{name:"localTime",docs:["the current time as supplied by the location; required if `use_local_time` is set on the `CraftingProcess`"],type:{option:"i64"}}]}},{name:"UpdateCraftingFacilityInput",docs:["Struct for data input to Update `CraftingFacility`"],type:{kind:"struct",fields:[{name:"efficiency",docs:["`CraftingFacility` efficiency"],type:{option:"u32"}},{name:"maxConcurrentProcesses",docs:["the max. number of concurrent crafting processes that can be handled by this facility","if 0 then there is no max"],type:{option:"u32"}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"UpdateRecipeInput",docs:["Struct for data input to Update `Recipe`"],type:{kind:"struct",fields:[{name:"duration",docs:["`Recipe` duration"],type:{option:"i64"}},{name:"minDuration",docs:["`Recipe` minimum duration"],type:{option:"i64"}},{name:"feeAmount",docs:["`Recipe` fee amount"],type:{option:"u64"}},{name:"status",docs:["`Recipe` status"],type:{option:"u8"}},{name:"usageLimit",docs:["the maximum number of times that this recipe can be used"],type:{option:"u64"}},{name:"value",docs:["the recipe's value"],type:{option:"u64"}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"WrappedRecipeCategory",docs:["Wrapped recipe category","We are wrapping this around Pubkey so that we can use Anchor's coder to decode it"],type:{kind:"struct",fields:[{name:"id",docs:["The recipe category public key"],type:"publicKey"}]}}],errors:[{code:6e3,name:"IncorrectProfileAddress",msg:"Incorrect profile address."},{code:6001,name:"IncorrectAuthority",msg:"The authority is incorrect."},{code:6002,name:"NumericOverflow",msg:"Numeric overflow"},{code:6003,name:"MintAuthorityIsNone",msg:"The mint authority should exist."},{code:6004,name:"AdminNotMintAuthority",msg:"Admin wallet is not the mint authority of the entered token."},{code:6005,name:"IncorrectMintAddress",msg:"Incorrect mint address entered."},{code:6006,name:"LocationTypeNotSupported",msg:"The provided location type is not supported."},{code:6007,name:"IncorrectLocation",msg:"The location is incorrect."},{code:6008,name:"IncorrectDomain",msg:"The domain is incorrect."},{code:6009,name:"IncorrectRecipe",msg:"The recipe is incorrect."},{code:6010,name:"IncorrectRecipeCategory",msg:"The recipe category is incorrect."},{code:6011,name:"IncorrectCraftingFacility",msg:"The crafting facility is incorrect."},{code:6012,name:"OverCraftingFacilityCapacity",msg:"The crafting facility capacity has been exceeded."},{code:6013,name:"InsufficientAmount",msg:"The amount is insufficient."},{code:6014,name:"AmountRequired",msg:"An amount greater than 0 must be provided."},{code:6015,name:"AmountTooMuch",msg:"The amount is more than what is required."},{code:6016,name:"InputAlreadySupplied",msg:"The input has already been supplied."},{code:6017,name:"InputNotSupplied",msg:"The input has NOT been supplied."},{code:6018,name:"OutputAlreadyClaimed",msg:"The output has already been claimed."},{code:6019,name:"CraftingProcessAlreadyStarted",msg:"The crafting process has already started."},{code:6020,name:"CraftingProcessNotStarted",msg:"The crafting process has not started."},{code:6021,name:"CraftingProcessNotCompleted",msg:"The crafting process has not completed."},{code:6022,name:"CraftingProcessAlreadyCompleted",msg:"The crafting process has already completed."},{code:6023,name:"IngredientNotAnInput",msg:"The ingredient is not an input."},{code:6024,name:"IngredientNotAConsumableInput",msg:"The ingredient is not a consumable input."},{code:6025,name:"IngredientNotANonConsumableInput",msg:"The ingredient is not a non-consumable input."},{code:6026,name:"IngredientNotAnOutput",msg:"The ingredient is not an output."},{code:6027,name:"IncorrectInputsChecksum",msg:"The inputs checksum is incorrect."},{code:6028,name:"IncorrectOutputsChecksum",msg:"The outputs checksum is incorrect."},{code:6029,name:"RecipeCountNotZero",msg:"The recipe count is not zero."},{code:6030,name:"RecipeCategoryCountNotZero",msg:"The recipe category count is not zero."},{code:6031,name:"ConcurrentProcessCountNotZero",msg:"The concurrent process count is not zero."},{code:6032,name:"KeyIndexOutOfBounds",msg:"Key index out of bounds."},{code:6033,name:"InvalidDuration",msg:"Duration is invalid."},{code:6034,name:"MissingRequiredSignature",msg:"Missing required signature."},{code:6035,name:"AddressMismatchATA",msg:"ATA address does not match"},{code:6036,name:"CannotUpdateDeactivatedRecipe",msg:"Cannot Update Deactivated Recipe"},{code:6037,name:"InvalidRecipeStatus",msg:"Invalid Recipe Status"},{code:6038,name:"EfficiencyIsZero",msg:"Crafting Facility Efficiency Is Zero"},{code:6039,name:"AddressMismatch",msg:"Address Mismatch"},{code:6040,name:"RecipeLimitExceeded",msg:"Recipe Limit Exceeded"}]};var hQ={};(function(n){var e=K&&K.__createBinding||(Object.create?function(f,g,b,S){S===void 0&&(S=b);var p=Object.getOwnPropertyDescriptor(g,b);(!p||("get"in p?!g.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return g[b]}}),Object.defineProperty(f,S,p)}:function(f,g,b,S){S===void 0&&(S=b),f[S]=g[b]}),t=K&&K.__setModuleDefault||(Object.create?function(f,g){Object.defineProperty(f,"default",{enumerable:!0,value:g})}:function(f,g){f.default=g}),r=K&&K.__decorate||function(f,g,b,S){var p=arguments.length,I=p<3?g:S===null?S=Object.getOwnPropertyDescriptor(g,b):S,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(f,g,b,S);else for(var A=f.length-1;A>=0;A--)(w=f[A])&&(I=(p<3?w(I):p>3?w(g,b,I):w(g,b))||I);return p>3&&I&&Object.defineProperty(g,b,I),I},s=K&&K.__importStar||function(f){if(f&&f.__esModule)return f;var g={};if(f!=null)for(var b in f)b!=="default"&&Object.prototype.hasOwnProperty.call(f,b)&&e(g,f,b);return t(g,f),g},i=K&&K.__metadata||function(f,g){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,g)},o=K&&K.__awaiter||function(f,g,b,S){function p(I){return I instanceof b?I:new b(function(w){w(I)})}return new(b||(b=Promise))(function(I,w){function A(M){try{E(S.next(M))}catch(x){w(x)}}function P(M){try{E(S.throw(M))}catch(x){w(x)}}function E(M){M.done?I(M.value):p(M.value).then(A,P)}E((S=S.apply(f,g||[])).next())})},a;Object.defineProperty(n,"__esModule",{value:!0}),n.Recipe=n.recipeDataEquals=n.RECIPE_MIN_DATA_SIZE=n.RecipeStatus=void 0;const c=BR,u=s(Kc),l=fr,d=rR.exports;var y;(function(f){f[f.Initializing=1]="Initializing",f[f.Active=2]="Active",f[f.Deactivated=3]="Deactivated"})(y||(n.RecipeStatus=y={})),n.RECIPE_MIN_DATA_SIZE=8+1+32+32+32+8+8+32+1+1+1+1+8+8+8+8+32+2;function h(f,g){return f.version===g.version&&f.domain.equals(g.domain)&&f.category.equals(g.category)&&f.duration.eq(g.duration)&&f.minDuration.eq(g.minDuration)&&(0,d.isEqual)(f.namespace,g.namespace)&&f.consumablesCount===g.consumablesCount&&f.nonConsumablesCount===g.nonConsumablesCount&&f.outputsCount===g.outputsCount&&f.totalCount===g.totalCount&&f.feeAmount.eq(g.feeAmount)&&f.usageCount.eq(g.usageCount)&&f.usageLimit.eq(g.usageLimit)&&f.value.eq(g.value)&&f.feeRecipient.key.equals(g.feeRecipient.key)&&f.status===g.status}n.recipeDataEquals=h;let m=a=class{constructor(g,b,S){this._data=g,this._key=b,this._ingredientInputsOutputs=S}get data(){return this._data}get key(){return this._key}get ingredientInputsOutputs(){return this._ingredientInputsOutputs}static registerRecipe(g,b,S,p,I,w,A,P){if(A.feeAmount&&A.feeAmount.gt(new u.BN(0))&&!P||P&&(!A.feeAmount||A.feeAmount.lte(new u.BN(0))))throw"feeRecipient must be set if feeAmount is set";const E=P&&A.feeAmount&&A.feeAmount.gt(new u.BN(0))?[{pubkey:P,isSigner:!1,isWritable:!1}]:[];return M=>o(this,void 0,void 0,function*(){var x,R;return[{instruction:yield g.methods.registerRecipe(Object.assign(Object.assign({},A),{feeAmount:A.feeAmount&&A.feeAmount.gt(new u.BN(0))?A.feeAmount:null,usageLimit:(x=A.usageLimit)!==null&&x!==void 0?x:null,value:(R=A.value)!==null&&R!==void 0?R:null})).accountsStrict({key:S.publicKey(),profile:p,funder:M.publicKey(),recipe:b.publicKey(),recipeCategory:w,domain:I,systemProgram:c.SystemProgram.programId}).remainingAccounts(E).instruction(),signers:[S,M,b]}]})}static addConsumableInputToRecipe(g,b,S,p,I,w,A){return P=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.addConsumableInputToRecipe(A).accountsStrict({key:S.publicKey(),profile:p,funder:P.publicKey(),recipe:b,domain:I,mint:w,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,P]}]})}static addNonConsumableInputToRecipe(g,b,S,p,I,w,A){return P=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.addNonConsumableInputToRecipe(A).accountsStrict({key:S.publicKey(),profile:p,funder:P.publicKey(),recipe:b,domain:I,mint:w,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,P]}]})}static addOutputToRecipe(g,b,S,p,I,w,A){return P=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.addOutputToRecipe(A).accountsStrict({key:S.publicKey(),profile:p,funder:P.publicKey(),recipe:b,domain:I,craftableItem:w,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,P]}]})}static removeConsumableInputFromRecipe(g,b,S,p,I,w){return A=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.removeConsumableInputFromRecipe(w).accountsStrict({key:S.publicKey(),profile:p,funder:A.publicKey(),recipe:b,domain:I,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,A]}]})}static removeNonConsumableInputFromRecipe(g,b,S,p,I,w){return A=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.removeNonConsumableInputFromRecipe(w).accountsStrict({key:S.publicKey(),profile:p,funder:A.publicKey(),recipe:b,domain:I,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,A]}]})}static removeOutputFromRecipe(g,b,S,p,I,w){return A=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.removeOutputFromRecipe(w).accountsStrict({key:S.publicKey(),profile:p,funder:A.publicKey(),recipe:b,domain:I,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,A]}]})}static updateRecipeCategory(g,b,S,p,I,w,A,P){return()=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.updateRecipeCategory(P).accountsStrict({key:S.publicKey(),profile:p,recipe:b,recipeCategoryOld:w,recipeCategoryNew:A,domain:I}).instruction(),signers:[S]}]})}static updateRecipe(g,b,S,p,I,w,A){if(w.feeAmount&&w.feeAmount.gt(new u.BN(0))&&!A||A&&(!w.feeAmount||w.feeAmount.lte(new u.BN(0))))throw"feeRecipient must be set if feeAmount is set";const P=A&&w.feeAmount&&w.feeAmount.gt(new u.BN(0))?[{pubkey:A,isSigner:!1,isWritable:!1}]:[];return()=>o(this,void 0,void 0,function*(){var E,M,x,R,$,z;return[{instruction:yield g.methods.updateRecipe({keyIndex:w.keyIndex,duration:(E=w.duration)!==null&&E!==void 0?E:null,minDuration:(M=w.minDuration)!==null&&M!==void 0?M:null,status:(x=w.status)!==null&&x!==void 0?x:null,usageLimit:(R=w.usageLimit)!==null&&R!==void 0?R:null,feeAmount:($=w.feeAmount)!==null&&$!==void 0?$:null,value:(z=w.value)!==null&&z!==void 0?z:null}).accountsStrict({key:S.publicKey(),profile:p,recipe:b,domain:I}).remainingAccounts(P).instruction(),signers:[S]}]})}static decodeData(g,b){return(0,l.decodeAccountWithRemaining)(g,b,a,(p,I)=>Array(I.totalCount).fill(0).map((w,A)=>b.coder.types.decode("RecipeInputsOutputs",p.subarray(A*40).subarray(0,40))))}};n.Recipe=m,m.ACCOUNT_NAME="recipe",m.MIN_DATA_SIZE=n.RECIPE_MIN_DATA_SIZE,n.Recipe=m=a=r([(0,l.staticImplements)(),i("design:paramtypes",[Object,c.PublicKey,Array])],m)})(hQ);var e0={},zat=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},$at=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},wye=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Aj;Object.defineProperty(e0,"__esModule",{value:!0});e0.RecipeCategory=e0.recipeCategoryDataEquals=void 0;const wj=BR,gQ=fr;function Dat(n,e){return n.version===e.version&&n.domain.equals(e.domain)&&n.recipeCount===e.recipeCount&&(0,gQ.arrayDeepEquals)(n.namespace,e.namespace,(t,r)=>t===r)}e0.recipeCategoryDataEquals=Dat;let Sz=Aj=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static registerRecipeCategory(e,t,r,s,i,o){return a=>wye(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerRecipeCategory(o).accountsStrict({key:r.publicKey(),profile:s,funder:a.publicKey(),recipeCategory:t.publicKey(),domain:i,systemProgram:wj.SystemProgram.programId}).instruction(),signers:[r,a,t]}]})}static deregisterRecipeCategory(e,t,r,s,i,o,a){return c=>wye(this,void 0,void 0,function*(){return[{instruction:yield e.methods.deregisterRecipeCategory(a).accountsStrict({key:r.publicKey(),profile:s,fundsTo:i==="funder"?c.publicKey():i,recipeCategory:t,domain:o,systemProgram:wj.SystemProgram.programId}).instruction(),signers:[r]}]})}static decodeData(e,t){return(0,gQ.decodeAccount)(e,t,Aj)}};e0.RecipeCategory=Sz;Sz.ACCOUNT_NAME="recipeCategory";Sz.MIN_DATA_SIZE=8+1+32+32+4+32;e0.RecipeCategory=Sz=Aj=zat([(0,gQ.staticImplements)(),$at("design:paramtypes",[Object,wj.PublicKey])],Sz);(function(n){var e=K&&K.__decorate||function(m,f,g,b){var S=arguments.length,p=S<3?f:b===null?b=Object.getOwnPropertyDescriptor(f,g):b,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(m,f,g,b);else for(var w=m.length-1;w>=0;w--)(I=m[w])&&(p=(S<3?I(p):S>3?I(f,g,p):I(f,g))||p);return S>3&&p&&Object.defineProperty(f,g,p),p},t=K&&K.__metadata||function(m,f){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(m,f)};Object.defineProperty(n,"__esModule",{value:!0}),n.CraftingProgram=n.craftingErrorMap=n.CRAFTING_IDL=void 0;const r=Kc,s=fr,i=Xb,o=fQ,a=$h,c=Qb,u=bz,l=hQ,d=e0;var y=bz;Object.defineProperty(n,"CRAFTING_IDL",{enumerable:!0,get:function(){return y.IDL}}),n.craftingErrorMap=(0,s.generateErrorMap)(u.IDL);let h=class extends s.ListenProgram{constructor(f){super(f,{craftableItem:i.CraftableItem,craftingFacility:o.CraftingFacility,craftingProcess:a.CraftingProcess,domain:c.CraftingDomain,recipe:l.Recipe,recipeCategory:d.RecipeCategory})}static buildProgram(f,g,b){return new r.Program(u.IDL,f,g,b)}};n.CraftingProgram=h,n.CraftingProgram=h=e([(0,s.staticImplements)(),t("design:paramtypes",[Object])],h)})(VEe);var Y$={},Oat=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Lat=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},vo;Object.defineProperty(Y$,"__esModule",{value:!0});Y$.CraftingPermissions=void 0;const Fxe=fr;let Ij=vo=class{constructor(e,t,r,s,i,o,a,c){this.manageDomain=e,this.createCraftableItem=t,this.manageCraftableItem=r,this.manageCraftingFacility=s,this.createRecipeCategory=i,this.manageRecipeCategory=o,this.createRecipe=a,this.manageRecipe=c}getPermissions(){const e=(0,Fxe.fixedSizeArray)(8,0);return e[0]=(this.manageDomain?1<<0:0)|(this.createCraftableItem?1<<1:0)|(this.manageCraftableItem?1<<2:0)|(this.manageCraftingFacility?1<<3:0)|(this.createRecipeCategory?1<<4:0)|(this.manageRecipeCategory?1<<5:0)|(this.createRecipe?1<<6:0)|(this.manageRecipe?1<<7:0),e}static empty(){return new vo(!1,!1,!1,!1,!1,!1,!1,!1)}static all(){return new vo(!0,!0,!0,!0,!0,!0,!0,!0)}static manageDomain(){return vo.permissionsBuilder("manageDomain")}static createCraftableItem(){return vo.permissionsBuilder("createCraftableItem")}static manageCraftableItem(){return vo.permissionsBuilder("manageCraftableItem")}static manageCraftingFacility(){return vo.permissionsBuilder("manageCraftingFacility")}static createRecipeCategory(){return vo.permissionsBuilder("createRecipeCategory")}static manageRecipeCategory(){return vo.permissionsBuilder("manageRecipeCategory")}static createRecipe(){return vo.permissionsBuilder("createRecipe")}static manageRecipe(){return vo.permissionsBuilder("manageRecipe")}static craftableItemPermissions(){return vo.permissionsBuilder(["createCraftableItem","manageCraftableItem"])}static recipeCategoryPermissions(){return vo.permissionsBuilder(["createRecipeCategory","manageRecipeCategory"])}static recipePermissions(){return vo.permissionsBuilder(["createRecipe","manageRecipe"])}static fromPermissions(e){return new vo((e[0]&1<<0)!==0,(e[0]&1<<1)!==0,(e[0]&1<<2)!==0,(e[0]&1<<3)!==0,(e[0]&1<<4)!==0,(e[0]&1<<5)!==0,(e[0]&1<<6)!==0,(e[0]&1<<7)!==0)}and(e){return new vo(this.manageDomain&&e.manageDomain,this.createCraftableItem&&e.createCraftableItem,this.manageCraftableItem&&e.manageCraftableItem,this.manageCraftingFacility&&e.manageCraftingFacility,this.createRecipeCategory&&e.createRecipeCategory,this.manageRecipeCategory&&e.manageRecipeCategory,this.createRecipe&&e.createRecipe,this.manageRecipe&&e.manageRecipe)}or(e){return new vo(this.manageDomain||e.manageDomain,this.createCraftableItem||e.createCraftableItem,this.manageCraftableItem||e.manageCraftableItem,this.manageCraftingFacility||e.manageCraftingFacility,this.createRecipeCategory||e.createRecipeCategory,this.manageRecipeCategory||e.manageRecipeCategory,this.createRecipe||e.createRecipe,this.manageRecipe||e.manageRecipe)}eq(e){return this.manageDomain===e.manageDomain&&this.createCraftableItem===e.createCraftableItem&&this.manageCraftableItem===e.manageCraftableItem&&this.manageCraftingFacility===e.manageCraftingFacility&&this.createRecipeCategory===e.createRecipeCategory&&this.manageRecipeCategory===e.manageRecipeCategory&&this.createRecipe===e.createRecipe&&this.manageRecipe===e.manageRecipe}contains(e){return this.and(e).eq(e)}static permissionsBuilder(e){const t=Array.isArray(e)?e:[e],r=Object.keys(vo.empty()).map(s=>t.includes(s));if(r.length!=vo.length)throw console.log(r.length,vo.length),"Incorrect permissions array";return new vo(...r)}};Y$.CraftingPermissions=Ij;Y$.CraftingPermissions=Ij=vo=Oat([(0,Fxe.staticImplements)(),Lat("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean])],Ij);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(UEe,n),t(VEe,n),t(Xb,n),t(fQ,n),t($h,n),t(Qb,n),t(Y$,n),t(hQ,n),t(e0,n)})(WX);var sl={},Kat=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Wat=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},mU=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Sp;Object.defineProperty(sl,"__esModule",{value:!0});sl.ProgressionConfig=sl.progressionConfigDataEquals=sl.ProgressionItemType=void 0;const aM=di,Uxe=fr;var Iye;(function(n){n[n.Subwarp=0]="Subwarp",n[n.Warp=1]="Warp",n[n.WarpLane=2]="WarpLane",n[n.AsteroidExit=3]="AsteroidExit",n[n.ScanUnsuccessful=4]="ScanUnsuccessful",n[n.ScanSuccessful=5]="ScanSuccessful",n[n.Mining=6]="Mining",n[n.Crafting=7]="Crafting",n[n.Upkeep=8]="Upkeep",n[n.Upgrade=9]="Upgrade"})(Iye||(sl.ProgressionItemType=Iye={}));function Nat(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.dailyLpLimit.eq(e.dailyLpLimit)&&n.dailyCouncilRankXpLimit.eq(e.dailyCouncilRankXpLimit)&&n.dailyPilotXpLimit.eq(e.dailyPilotXpLimit)&&n.dailyDataRunningXpLimit.eq(e.dailyDataRunningXpLimit)&&n.dailyMiningXpLimit.eq(e.dailyMiningXpLimit)&&n.dailyCraftingXpLimit.eq(e.dailyCraftingXpLimit)&&n.numItems===e.numItems}sl.progressionConfigDataEquals=Nat;let mI=Sp=class{constructor(e,t,r){this._data=e,this._key=t,this._items=r}get data(){return this._data}get key(){return this._key}get items(){return this._items||[]}static findAddress(e,t){return aM.PublicKey.findProgramAddressSync([rt.Buffer.from("ProgressionConfig"),t.toBuffer()],e.programId)}static registerProgressionConfig(e,t,r,s,i){const o=Sp.findAddress(e,s);return{configKey:o,instructions:a=>mU(this,void 0,void 0,function*(){var c,u,l,d,y,h;return[{instruction:yield e.methods.registerProgressionConfig(Object.assign(Object.assign({},i),{dailyLpLimit:(c=i.dailyLpLimit)!==null&&c!==void 0?c:null,dailyCouncilRankXpLimit:(u=i.dailyCouncilRankXpLimit)!==null&&u!==void 0?u:null,dailyPilotXpLimit:(l=i.dailyPilotXpLimit)!==null&&l!==void 0?l:null,dailyDataRunningXpLimit:(d=i.dailyDataRunningXpLimit)!==null&&d!==void 0?d:null,dailyMiningXpLimit:(y=i.dailyMiningXpLimit)!==null&&y!==void 0?y:null,dailyCraftingXpLimit:(h=i.dailyCraftingXpLimit)!==null&&h!==void 0?h:null})).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},funder:a.publicKey(),progressionConfig:o[0],systemProgram:aM.SystemProgram.programId}).instruction(),signers:[t,a]}]})}}static updateProgressionConfig(e,t,r,s,i){return()=>mU(this,void 0,void 0,function*(){var o,a,c,u,l,d,y;return[{instruction:yield e.methods.updateProgressionConfig({keyIndex:i.keyIndex,items:(o=i.items)!==null&&o!==void 0?o:null,dailyLpLimit:(a=i.dailyLpLimit)!==null&&a!==void 0?a:null,dailyCouncilRankXpLimit:(c=i.dailyCouncilRankXpLimit)!==null&&c!==void 0?c:null,dailyPilotXpLimit:(u=i.dailyPilotXpLimit)!==null&&u!==void 0?u:null,dailyDataRunningXpLimit:(l=i.dailyDataRunningXpLimit)!==null&&l!==void 0?l:null,dailyMiningXpLimit:(d=i.dailyMiningXpLimit)!==null&&d!==void 0?d:null,dailyCraftingXpLimit:(y=i.dailyCraftingXpLimit)!==null&&y!==void 0?y:null}).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},progressionConfig:Sp.findAddress(e,s)[0],systemProgram:aM.SystemProgram.programId}).instruction(),signers:[t]}]})}static deregisterProgressionConfig(e,t,r,s,i,o){return a=>mU(this,void 0,void 0,function*(){return[{instruction:yield e.methods.deregisterProgressionConfig(o).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:i},fundsTo:s==="funder"?a.publicKey():s,progressionConfig:Sp.findAddress(e,i)[0],systemProgram:aM.SystemProgram.programId}).instruction(),signers:[t,a]}]})}static decodeData(e,t){return(0,Uxe.decodeAccountWithRemaining)(e,t,Sp,(r,s)=>Array(s.numItems).fill(0).map((i,o)=>t.coder.types.decode("ProgressionItem",r.subarray(Sp.PROGRESSION_ITEM_DATA_SIZE*o).subarray(0,Sp.PROGRESSION_ITEM_DATA_SIZE))))}};sl.ProgressionConfig=mI;mI.ACCOUNT_NAME="progressionConfig";mI.MIN_DATA_SIZE=8+1+32+8+8+8+8+8+8+2;mI.PROGRESSION_ITEM_DATA_SIZE=4;sl.ProgressionConfig=mI=Sp=Kat([(0,Uxe.staticImplements)(),Wat("design:paramtypes",[Object,aM.PublicKey,Array])],mI);var Fat=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Uat=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Pf=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},_j;Object.defineProperty(Yd,"__esModule",{value:!0});Yd.CraftingInstance=Yd.craftingInstanceDataEquals=Yd.CraftingInstanceType=void 0;const Fy=Nl,Pj=di,Hv=Kc,Vat=WX,Vxe=fr,qat=sl;var _ye;(function(n){n[n.StarbaseCrafting=1]="StarbaseCrafting",n[n.StarbaseUpgradeMaterial=2]="StarbaseUpgradeMaterial"})(_ye||(Yd.CraftingInstanceType=_ye={}));function Hat(n,e){return n.version===e.version&&n.seqId===e.seqId&&n.numCrew.eq(e.numCrew)&&n.authority.equals(e.authority)&&n.craftingProcess.equals(e.craftingProcess)&&n.instanceType===e.instanceType&&n.bump===e.bump}Yd.craftingInstanceDataEquals=Hat;let kz=_j=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static calculateCraftingDuration(e,t,r,s=0,i=1){if(r.isZero())throw new Error("Invalid value for numCrew");const o=t.div(r),a=t.mod(r),c=o.add(Hv.BN.min(a,new Hv.BN(1))).mul(e),u=Number(c);if(s>=u)return new Hv.BN(u);{const l=Math.max(0,s),y=(u-l)/i;return new Hv.BN(l+y)}}static calculateUpgradeDuration(e,t,r){if(r.isZero())throw new Error("Invalid value for numCrew");const s=t.div(r),i=t.mod(r);return s.add(Hv.BN.min(i,new Hv.BN(1))).mul(e)}static findAddress(e,t,r){return Pj.PublicKey.findProgramAddressSync([rt.Buffer.from("CraftingInstance"),t.toBuffer(),r.toBuffer()],e.programId)}static createCraftingProcess(e,t,r,s,i,o,a,c,u,l,d,y,h){const m=Vat.CraftingProcess.findAddress(t,l,d,h.craftingId)[0];return f=>Pf(this,void 0,void 0,function*(){return[{instruction:yield e.methods.createCraftingProcess(h).accountsStrict({funder:f.publicKey(),starbaseAndStarbasePlayer:{starbase:a,starbasePlayer:o},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:c,key:r.publicKey(),profile:s,profileFaction:i},gameState:u},craftingInstance:this.findAddress(e,o,m)[0],craftingProcess:m,craftingFacility:l,craftingRecipe:d,craftingDomain:y,craftingProgram:t.programId,systemProgram:Pj.SystemProgram.programId}).instruction(),signers:[r,f]}]})}static depositCraftingIngredient(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S,p,I){return()=>Pf(this,void 0,void 0,function*(){return[{instruction:yield e.methods.depositCraftingIngredient(I).accountsStrict({starbaseAndStarbasePlayer:{starbase:c,starbasePlayer:a},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:S,key:s.publicKey(),profile:i,profileFaction:o},gameState:p},craftingInstance:u,craftingProcess:l,craftingFacility:d,craftingRecipe:y,cargoPodFrom:h,cargoType:m,cargoStatsDefinition:f,tokenFrom:g,tokenTo:b,craftingProgram:r.programId,cargoProgram:t.programId,tokenProgram:Fy.TOKEN_PROGRAM_ID}).instruction(),signers:[s]}]})}static withdrawCraftingIngredient(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S,p,I,w){return()=>Pf(this,void 0,void 0,function*(){return[{instruction:yield e.methods.withdrawCraftingIngredient(w).accountsStrict({starbaseAndStarbasePlayer:{starbase:c,starbasePlayer:a},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:p,key:s.publicKey(),profile:i,profileFaction:o},gameState:I},craftingInstance:u,craftingProcess:l,craftingFacility:d,craftingRecipe:y,cargoPodTo:h,cargoType:m,cargoStatsDefinition:f,tokenFrom:g,tokenTo:b,tokenMint:S,craftingProgram:r.programId,cargoProgram:t.programId,tokenProgram:Fy.TOKEN_PROGRAM_ID}).instruction(),signers:[s]}]})}static startCraftingProcess(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S){const p=[r],I=[];return f&&g&&b&&S&&(p.map(w=>w.publicKey().toBase58()).includes(g.publicKey().toBase58())||p.push(g),I.push({pubkey:f,isSigner:!1,isWritable:!1},{pubkey:g.publicKey(),isSigner:!0,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:Fy.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1})),()=>Pf(this,void 0,void 0,function*(){return[{instruction:yield e.methods.startCraftingProcess(m).accountsStrict({starbaseAndStarbasePlayer:{starbase:a,starbasePlayer:o},craftingInstance:c,craftingProcess:u,craftingRecipe:d,craftingFacility:l,gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:y,key:r.publicKey(),profile:s,profileFaction:i},gameState:h},craftingProgram:t.programId}).remainingAccounts(I).instruction(),signers:p}]})}static stopCraftingProcess(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){const b=[];return f&&g&&b.push({pubkey:f,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:Fy.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}),()=>Pf(this,void 0,void 0,function*(){return[{instruction:yield e.methods.stopCraftingProcess(m).accountsStrict({starbaseAndStarbasePlayer:{starbase:a,starbasePlayer:o},craftingInstance:c,craftingProcess:u,craftingRecipe:d,craftingFacility:l,gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:y,key:r.publicKey(),profile:s,profileFaction:i},gameState:h},craftingProgram:t.programId}).remainingAccounts(b).instruction(),signers:[r]}]})}static cancelCraftingProcess(e,t,r,s,i,o,a,c,u,l,d,y,h,m){return f=>Pf(this,void 0,void 0,function*(){return[{instruction:yield e.methods.cancelCraftingProcess(m).accountsStrict({fundsTo:o==="funder"?f.publicKey():o,starbaseAndStarbasePlayer:{starbase:c,starbasePlayer:a},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:y,key:r.publicKey(),profile:s,profileFaction:i},gameState:h},craftingInstance:u,craftingProcess:l,craftingFacility:d,craftingProgram:t.programId}).instruction(),signers:[r]}]})}static claimCraftingNonConsumables(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S){return()=>Pf(this,void 0,void 0,function*(){return[{instruction:yield e.methods.claimCraftingNonConsumables(S).accountsStrict({starbaseAndStarbasePlayer:{starbase:i,starbasePlayer:s},gameAccounts:{gameId:h,gameState:m},craftingInstance:o,craftingProcess:a,craftingFacility:c,craftingRecipe:u,cargoPodTo:l,cargoType:d,cargoStatsDefinition:y,tokenFrom:f,tokenTo:g,tokenMint:b,craftingProgram:r.programId,cargoProgram:t.programId,tokenProgram:Fy.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static burnCraftingConsumables(e,t,r,s,i,o,a,c,u,l,d,y,h){return()=>Pf(this,void 0,void 0,function*(){return[{instruction:yield e.methods.burnCraftingConsumables(h).accountsStrict({starbaseAndStarbasePlayer:{starbase:s,starbasePlayer:r},gameAccounts:{gameId:u,gameState:l},craftingInstance:i,craftingProcess:o,craftingFacility:a,craftingRecipe:c,tokenFrom:d,tokenMint:y,craftingProgram:t.programId,tokenProgram:Fy.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static claimCraftingOutputs(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S){return()=>Pf(this,void 0,void 0,function*(){return[{instruction:yield e.methods.claimCraftingOutputs(S).accountsStrict({starbaseAndStarbasePlayer:{starbase:i,starbasePlayer:s},gameAccounts:{gameId:m,gameState:f},craftingInstance:o,craftingProcess:a,craftingFacility:c,craftingRecipe:u,craftableItem:l,cargoPodTo:d,cargoType:y,cargoStatsDefinition:h,tokenFrom:g,tokenTo:b,craftingProgram:r.programId,cargoProgram:t.programId,tokenProgram:Fy.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static closeCraftingProcess(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S,p,I,w,A,P,E){const M=[];return P&&E&&M.push({pubkey:P,isSigner:!1,isWritable:!0},{pubkey:E,isSigner:!1,isWritable:!0},{pubkey:Fy.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}),x=>Pf(this,void 0,void 0,function*(){return[{instruction:yield e.methods.closeCraftingProcess(A).accountsStrict({fundsTo:a==="funder"?x.publicKey():a,starbaseAndStarbasePlayer:{starbase:u,starbasePlayer:c},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:I,key:s.publicKey(),profile:i,profileFaction:o},gameState:w},craftingInstance:l,craftingProcess:d,craftingRecipe:h,craftingFacility:y,craftingXpAccounts:{userPointsAccount:m,pointsCategory:f,pointsModifierAccount:g},councilRankXpAccounts:{userPointsAccount:b,pointsCategory:S,pointsModifierAccount:p},progressionConfig:qat.ProgressionConfig.findAddress(e,I)[0],pointsProgram:r.programId,craftingProgram:t.programId}).remainingAccounts(M).instruction(),signers:[s]}]})}static decodeData(e,t){return(0,Vxe.decodeAccount)(e,t,_j)}};Yd.CraftingInstance=kz;kz.ACCOUNT_NAME="craftingInstance";kz.MIN_DATA_SIZE=8+1+2+8+32+32+1+1;Yd.CraftingInstance=kz=_j=Fat([(0,Vxe.staticImplements)(),Uat("design:paramtypes",[Object,Pj.PublicKey])],kz);var L6={};(function(n){var e=K&&K.__decorate||function(u,l,d,y){var h=arguments.length,m=h<3?l:y===null?y=Object.getOwnPropertyDescriptor(l,d):y,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,l,d,y);else for(var g=u.length-1;g>=0;g--)(f=u[g])&&(m=(h<3?f(m):h>3?f(l,d,m):f(l,d))||m);return h>3&&m&&Object.defineProperty(l,d,m),m},t=K&&K.__metadata||function(u,l){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,l)},r=K&&K.__awaiter||function(u,l,d,y){function h(m){return m instanceof d?m:new d(function(f){f(m)})}return new(d||(d=Promise))(function(m,f){function g(p){try{S(y.next(p))}catch(I){f(I)}}function b(p){try{S(y.throw(p))}catch(I){f(I)}}function S(p){p.done?m(p.value):h(p.value).then(g,b)}S((y=y.apply(u,l||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.DisbandedFleet=n.SHIP_COUNTS_SIZE=n.disbandedFleetDataEquals=void 0;const i=di,o=fr;function a(u,l){return u.version===l.version&&u.bump===l.bump&&u.gameId.equals(l.gameId)&&u.ownerProfile.equals(l.ownerProfile)&&u.fleetShips.equals(l.fleetShips)&&u.starbase.equals(l.starbase)&&(0,o.arrayDeepEquals)(u.fleetLabel,l.fleetLabel,(d,y)=>d===y)}n.disbandedFleetDataEquals=a,n.SHIP_COUNTS_SIZE=9*2;let c=s=class{constructor(l,d){this._data=l,this._key=d}get data(){return this._data}get key(){return this._key}static findAddress(l,d,y,h){return i.PublicKey.findProgramAddressSync([rt.Buffer.from("DisbandedFleet"),d.toBuffer(),y.toBuffer(),rt.Buffer.from(h)],l.programId)}static disbandedFleetToEscrow(l,d,y,h,m,f,g,b,S,p,I,w){return A=>r(this,void 0,void 0,function*(){return[{instruction:yield l.methods.disbandedFleetToEscrow(w).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:d.publicKey(),profile:y,profileFaction:h,gameId:p},gameState:I},funder:A.publicKey(),disbandedFleet:m,fleetShips:f,ship:g,starbaseAndStarbasePlayer:{starbase:S,starbasePlayer:b},systemProgram:i.SystemProgram.programId}).instruction(),signers:[d,A]}]})}static closeDisbandedFleet(l,d,y,h,m,f,g){return b=>r(this,void 0,void 0,function*(){return[{instruction:yield l.methods.closeDisbandedFleet(g).accountsStrict({key:d.publicKey(),playerProfile:y,fundsTo:h==="funder"?b.publicKey():h,disbandedFleet:m,fleetShips:f}).instruction(),signers:[d]}]})}static decodeData(l,d){return(0,o.decodeAccount)(l,d,s)}};n.DisbandedFleet=c,c.ACCOUNT_NAME="disbandedFleet",c.MIN_DATA_SIZE=8+1+32+32+32+32+n.SHIP_COUNTS_SIZE+1,n.DisbandedFleet=c=s=e([(0,o.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey])],c)})(L6);var K6={},W6={},mQ={};function A4(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function jat(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Z$(n,...e){if(!jat(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function Gat(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");A4(n.outputLen),A4(n.blockLen)}function yI(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function qxe(n,e){Z$(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const yU=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yat=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),pU=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Ef=(n,e)=>n<<32-e|n>>>e,Pye=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,Zat=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function Eye(n){for(let e=0;e<n.length;e++)n[e]=Zat(n[e])}function Jat(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function N6(n){return typeof n=="string"&&(n=Jat(n)),Z$(n),n}function Xat(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];Z$(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class yQ{clone(){return this._cloneInto()}}function pQ(n){const e=r=>n().update(N6(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function Hxe(n=32){if(yU&&typeof yU.getRandomValues=="function")return yU.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function Qat(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const ect=(n,e,t)=>n&e^~n&t,tct=(n,e,t)=>n&e^n&t^e&t;class jxe extends yQ{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=pU(this.buffer)}update(e){yI(this);const{view:t,buffer:r,blockLen:s}=this;e=N6(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=pU(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){yI(this),qxe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;Qat(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=pU(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const b3=BigInt(2**32-1),Ej=BigInt(32);function Gxe(n,e=!1){return e?{h:Number(n&b3),l:Number(n>>Ej&b3)}:{h:Number(n>>Ej&b3)|0,l:Number(n&b3)|0}}function Yxe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=Gxe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const rct=(n,e)=>BigInt(n>>>0)<<Ej|BigInt(e>>>0),nct=(n,e,t)=>n>>>t,sct=(n,e,t)=>n<<32-t|e>>>t,ict=(n,e,t)=>n>>>t|e<<32-t,oct=(n,e,t)=>n<<32-t|e>>>t,act=(n,e,t)=>n<<64-t|e>>>t-32,cct=(n,e,t)=>n>>>t-32|e<<64-t,uct=(n,e)=>e,lct=(n,e)=>n,Zxe=(n,e,t)=>n<<t|e>>>32-t,Jxe=(n,e,t)=>e<<t|n>>>32-t,Xxe=(n,e,t)=>e<<t-32|n>>>64-t,Qxe=(n,e,t)=>n<<t-32|e>>>64-t;function dct(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const fct=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),hct=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,gct=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),mct=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,yct=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),pct=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,bct={fromBig:Gxe,split:Yxe,toBig:rct,shrSH:nct,shrSL:sct,rotrSH:ict,rotrSL:oct,rotrBH:act,rotrBL:cct,rotr32H:uct,rotr32L:lct,rotlSH:Zxe,rotlSL:Jxe,rotlBH:Xxe,rotlBL:Qxe,add:dct,add3L:fct,add3H:hct,add4L:gct,add4H:mct,add5H:pct,add5L:yct};var qr=bct;const[Sct,kct]=(()=>qr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Uy=new Uint32Array(80),Vy=new Uint32Array(80);class vct extends jxe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Uy[p]=e.getUint32(t),Vy[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Uy[p-15]|0,w=Vy[p-15]|0,A=qr.rotrSH(I,w,1)^qr.rotrSH(I,w,8)^qr.shrSH(I,w,7),P=qr.rotrSL(I,w,1)^qr.rotrSL(I,w,8)^qr.shrSL(I,w,7),E=Uy[p-2]|0,M=Vy[p-2]|0,x=qr.rotrSH(E,M,19)^qr.rotrBH(E,M,61)^qr.shrSH(E,M,6),R=qr.rotrSL(E,M,19)^qr.rotrBL(E,M,61)^qr.shrSL(E,M,6),$=qr.add4L(P,R,Vy[p-7],Vy[p-16]),z=qr.add4H($,A,x,Uy[p-7],Uy[p-16]);Uy[p]=z|0,Vy[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=qr.rotrSH(d,y,14)^qr.rotrSH(d,y,18)^qr.rotrBH(d,y,41),w=qr.rotrSL(d,y,14)^qr.rotrSL(d,y,18)^qr.rotrBL(d,y,41),A=d&h^~d&f,P=y&m^~y&g,E=qr.add5L(S,w,P,kct[p],Vy[p]),M=qr.add5H(E,b,I,A,Sct[p],Uy[p]),x=E|0,R=qr.rotrSH(r,s,28)^qr.rotrBH(r,s,34)^qr.rotrBH(r,s,39),$=qr.rotrSL(r,s,28)^qr.rotrBL(r,s,34)^qr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=qr.add(u|0,l|0,M|0,x|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=qr.add3L(x,$,T);r=qr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=qr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=qr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=qr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=qr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=qr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=qr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=qr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=qr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Uy.fill(0),Vy.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Act=pQ(()=>new vct);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bQ=BigInt(0),F6=BigInt(1),wct=BigInt(2);function Tk(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function J$(n){if(!Tk(n))throw new Error("Uint8Array expected")}function Zm(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const Ict=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Rk(n){J$(n);let e="";for(let t=0;t<n.length;t++)e+=Ict[n[t]];return e}function eTe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function SQ(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const xg={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function xye(n){if(n>=xg._0&&n<=xg._9)return n-xg._0;if(n>=xg._A&&n<=xg._F)return n-(xg._A-10);if(n>=xg._a&&n<=xg._f)return n-(xg._a-10)}function pI(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=xye(n.charCodeAt(i)),a=xye(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function XS(n){return SQ(Rk(n))}function Aw(n){return J$(n),SQ(Rk(Uint8Array.from(n).reverse()))}function bI(n,e){return pI(n.toString(16).padStart(e*2,"0"))}function vz(n,e){return bI(n,e).reverse()}function _ct(n){return pI(eTe(n))}function Ta(n,e,t){let r;if(typeof e=="string")try{r=pI(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Tk(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function Bk(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];J$(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function Pct(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function Ect(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const bU=n=>typeof n=="bigint"&&bQ<=n;function U6(n,e,t){return bU(n)&&bU(e)&&bU(t)&&e<=n&&n<t}function od(n,e,t,r){if(!U6(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function xct(n){let e;for(e=0;n>bQ;n>>=F6,e+=1);return e}function Tct(n,e){return n>>BigInt(e)&F6}function Rct(n,e,t){return n|(t?F6:bQ)<<BigInt(e)}const kQ=n=>(wct<<BigInt(n-1))-F6,SU=n=>new Uint8Array(n),Tye=n=>Uint8Array.from(n);function tTe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=SU(n),s=SU(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=SU())=>{s=a(Tye([0]),d),r=a(),d.length!==0&&(s=a(Tye([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return Bk(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const Bct={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||Tk(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function CR(n,e,t={}){const r=(s,i,o)=>{const a=Bct[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const Cct=()=>{throw new Error("not implemented")};function Az(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var Mct=Object.freeze(Object.defineProperty({__proto__:null,isBytes:Tk,abytes:J$,abool:Zm,bytesToHex:Rk,numberToHexUnpadded:eTe,hexToNumber:SQ,hexToBytes:pI,bytesToNumberBE:XS,bytesToNumberLE:Aw,numberToBytesBE:bI,numberToBytesLE:vz,numberToVarBytesBE:_ct,ensureBytes:Ta,concatBytes:Bk,equalBytes:Pct,utf8ToBytes:Ect,inRange:U6,aInRange:od,bitLen:xct,bitGet:Tct,bitSet:Rct,bitMask:kQ,createHmacDrbg:tTe,validateObject:CR,notImplemented:Cct,memoized:Az},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Tc=BigInt(0),oo=BigInt(1),dS=BigInt(2),zct=BigInt(3),xj=BigInt(4),Rye=BigInt(5),Bye=BigInt(8);BigInt(9);BigInt(16);function Di(n,e){const t=n%e;return t>=Tc?t:e+t}function $ct(n,e,t){if(t<=Tc||e<Tc)throw new Error("Expected power/modulo > 0");if(t===oo)return Tc;let r=oo;for(;e>Tc;)e&oo&&(r=r*n%t),n=n*n%t,e>>=oo;return r}function Eo(n,e,t){let r=n;for(;e-- >Tc;)r*=r,r%=t;return r}function Tj(n,e){if(n===Tc||e<=Tc)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=Di(n,e),r=e,s=Tc,i=oo;for(;t!==Tc;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==oo)throw new Error("invert: does not exist");return Di(s,e)}function Dct(n){const e=(n-oo)/dS;let t,r,s;for(t=n-oo,r=0;t%dS===Tc;t/=dS,r++);for(s=dS;s<n&&$ct(s,e,n)!==n-oo;s++);if(r===1){const o=(n+oo)/xj;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+oo)/dS;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,oo<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function Oct(n){if(n%xj===zct){const e=(n+oo)/xj;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Bye===Rye){const e=(n-Rye)/Bye;return function(r,s){const i=r.mul(s,dS),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,dS),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return Dct(n)}const Lct=(n,e)=>(Di(n,e)&oo)===oo,Kct=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Wct(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=Kct.reduce((r,s)=>(r[s]="function",r),e);return CR(n,t)}function Nct(n,e,t){if(t<Tc)throw new Error("Expected power > 0");if(t===Tc)return n.ONE;if(t===oo)return e;let r=n.ONE,s=e;for(;t>Tc;)t&oo&&(r=n.mul(r,s)),s=n.sqr(s),t>>=oo;return r}function Fct(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function rTe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function nTe(n,e,t=!1,r={}){if(n<=Tc)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=rTe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Oct(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:kQ(s),ZERO:Tc,ONE:oo,create:c=>Di(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Tc<=c&&c<n},is0:c=>c===Tc,isOdd:c=>(c&oo)===oo,neg:c=>Di(-c,n),eql:(c,u)=>c===u,sqr:c=>Di(c*c,n),add:(c,u)=>Di(c+u,n),sub:(c,u)=>Di(c-u,n),mul:(c,u)=>Di(c*u,n),pow:(c,u)=>Nct(a,c,u),div:(c,u)=>Di(c*Tj(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Tj(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>Fct(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?vz(c,i):bI(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?Aw(c):XS(c)}});return Object.freeze(a)}function sTe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function iTe(n){const e=sTe(n);return e+Math.ceil(e/2)}function Uct(n,e,t=!1){const r=n.length,s=sTe(e),i=iTe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?XS(n):Aw(n),a=Di(o,e-oo)+oo;return t?vz(a,s):bI(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vct=BigInt(0),kU=BigInt(1),vU=new WeakMap,Cye=new WeakMap;function oTe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>Vct;)o&kU&&(a=a.add(c)),c=c.double(),o>>=kU;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=kU);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=Cye.get(i)||1;let u=vU.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&vU.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),Cye.set(i,o),vU.delete(i)}}}function vQ(n){return Wct(n.Fp),CR(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...rTe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Id=BigInt(0),wu=BigInt(1),S3=BigInt(2),qct=BigInt(8),Hct={zip215:!0};function jct(n){const e=vQ(n);return CR(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Gct(n){const e=jct(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=S3<<BigInt(a*8)-wu,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Id}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,_)=>{if(Zm("phflag",_),k.length||_)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){od("coordinate "+v,k,Id,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=Az((v,k)=>{const{ex:_,ey:B,ez:C}=v,O=v.is0();k==null&&(k=O?qct:t.inv(C));const D=l(_*k),W=l(B*k),L=l(C*k);if(O)return{x:Id,y:wu};if(L!==wu)throw new Error("invZ was invalid");return{x:D,y:W}}),b=Az(v=>{const{a:k,d:_}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:B,ey:C,ez:O,et:D}=v,W=l(B*B),L=l(C*C),U=l(O*O),q=l(U*U),J=l(W*k),Q=l(U*l(J+L)),j=l(q+l(_*l(W*L)));if(Q!==j)throw new Error("bad point: equation left != right (1)");const X=l(B*C),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,_,B,C){this.ex=k,this.ey=_,this.ez=B,this.et=C,m("x",k),m("y",_),m("z",B),m("t",C),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x:_,y:B}=k||{};return m("x",_),m("y",B),new S(_,B,wu,l(_*B))}static normalizeZ(k){const _=t.invertBatch(k.map(B=>B.ez));return k.map((B,C)=>B.toAffine(_[C])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:_,ey:B,ez:C}=this,{ex:O,ey:D,ez:W}=k,L=l(_*W),U=l(O*C),q=l(B*W),J=l(D*C);return L===U&&q===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:_,ey:B,ez:C}=this,O=l(_*_),D=l(B*B),W=l(S3*l(C*C)),L=l(k*O),U=_+B,q=l(l(U*U)-O-D),J=L+D,Q=J-W,j=L-D,X=l(q*Q),re=l(J*j),se=l(q*j),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:_,d:B}=e,{ex:C,ey:O,ez:D,et:W}=this,{ex:L,ey:U,ez:q,et:J}=k;if(_===BigInt(-1)){const $t=l((O-C)*(U+L)),_t=l((O+C)*(U-L)),tt=l(_t-$t);if(tt===Id)return this.double();const Ve=l(D*S3*J),qt=l(W*S3*q),lr=qt+Ve,ur=_t+$t,hr=qt-Ve,Rr=l(lr*tt),ms=l(ur*hr),kn=l(lr*hr),ys=l(tt*ur);return new S(Rr,ms,ys,kn)}const Q=l(C*L),j=l(O*U),X=l(W*B*J),re=l(D*q),se=l((C+O)*(L+U)-Q-j),ee=re-X,ne=re+X,_e=l(j-_*Q),Pe=l(se*ee),We=l(ne*_e),Ne=l(se*_e),Yt=l(ee*ne);return new S(Pe,We,Yt,Ne)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const _=k;od("scalar",_,wu,r);const{p:B,f:C}=this.wNAF(_);return S.normalizeZ([B,C])[0]}multiplyUnsafe(k){const _=k;return od("scalar",_,Id,r),_===Id?I:this.equals(I)||_===wu?this:this.equals(p)?this.wNAF(_).p:w.unsafeLadder(this,_)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===wu?this:this.multiplyUnsafe(k)}static fromHex(k,_=!1){const{d:B,a:C}=e,O=t.BYTES;k=Ta("pointHex",k,O),Zm("zip215",_);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=Aw(D),U=_?u:t.ORDER;od("pointHex.y",L,Id,U);const q=l(L*L),J=l(q-wu),Q=l(B*q-C);let{isValid:j,value:X}=d(J,Q);if(!j)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&wu)===wu,se=(W&128)!==0;if(!_&&X===Id&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:_}=this.toAffine(),B=vz(_,t.BYTES);return B[B.length-1]|=k&wu?128:0,B}toHex(){return Rk(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,wu,l(e.Gx*e.Gy)),S.ZERO=new S(Id,wu,wu,Id);const{BASE:p,ZERO:I}=S,w=oTe(S,a*8);function A(v){return Di(v,r)}function P(v){return A(Aw(v))}function E(v){const k=a;v=Ta("private key",v,k);const _=Ta("hashed private key",i(v),2*k),B=y(_.slice(0,k)),C=_.slice(k,2*k),O=P(B),D=p.multiply(O),W=D.toRawBytes();return{head:B,prefix:C,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function x(v=new Uint8Array,...k){const _=Bk(...k);return P(i(h(_,Ta("context",v),!!s)))}function R(v,k,_={}){v=Ta("message",v),s&&(v=s(v));const{prefix:B,scalar:C,pointBytes:O}=E(k),D=x(_.context,B,v),W=p.multiply(D).toRawBytes(),L=x(_.context,W,O,v),U=A(D+L*C);od("signature.s",U,Id,r);const q=Bk(W,vz(U,t.BYTES));return Ta("result",q,a*2)}const $=Hct;function z(v,k,_,B=$){const{context:C,zip215:O}=B,D=t.BYTES;v=Ta("signature",v,2*D),k=Ta("message",k),O!==void 0&&Zm("zip215",O),s&&(k=s(k));const W=Aw(v.slice(D,2*D));let L,U,q;try{L=S.fromHex(_,O),U=S.fromHex(v.slice(0,D),O),q=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=x(C,U.toRawBytes(),L.toRawBytes(),k);return U.add(L.multiplyUnsafe(J)).subtract(q).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const AQ=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Mye=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Yct=BigInt(1),zye=BigInt(2);BigInt(3);const Zct=BigInt(5),Jct=BigInt(8);function Xct(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=AQ,a=n*n%i*n%i,c=Eo(a,zye,i)*a%i,u=Eo(c,Yct,i)*n%i,l=Eo(u,Zct,i)*u%i,d=Eo(l,e,i)*l%i,y=Eo(d,t,i)*d%i,h=Eo(y,r,i)*y%i,m=Eo(h,s,i)*h%i,f=Eo(m,s,i)*h%i,g=Eo(f,e,i)*l%i;return{pow_p_5_8:Eo(g,zye,i)*n%i,b2:a}}function Qct(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function eut(n,e){const t=AQ,r=Di(e*e*e,t),s=Di(r*r*e,t),i=Xct(n*s).pow_p_5_8;let o=Di(n*r*i,t);const a=Di(e*o*o,t),c=o,u=Di(o*Mye,t),l=a===n,d=a===Di(-n,t),y=a===Di(-n*Mye,t);return l&&(o=c),(d||y)&&(o=u),Lct(o,t)&&(o=Di(-o,t)),{isValid:l||d,value:o}}const tut=(()=>nTe(AQ,void 0,!0))(),rut=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:tut,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Jct,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Act,randomBytes:Hxe,adjustScalarBytes:Qct,uvRatio:eut}))(),MR=(()=>Gct(rut))(),nut=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),qy=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Hy=new Uint32Array(64);class sut extends jxe{constructor(){super(64,32,8,!1),this.A=qy[0]|0,this.B=qy[1]|0,this.C=qy[2]|0,this.D=qy[3]|0,this.E=qy[4]|0,this.F=qy[5]|0,this.G=qy[6]|0,this.H=qy[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Hy[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=Hy[d-15],h=Hy[d-2],m=Ef(y,7)^Ef(y,18)^y>>>3,f=Ef(h,17)^Ef(h,19)^h>>>10;Hy[d]=f+Hy[d-7]+m+Hy[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Ef(a,6)^Ef(a,11)^Ef(a,25),h=l+y+ect(a,c,u)+nut[d]+Hy[d]|0,f=(Ef(r,2)^Ef(r,13)^Ef(r,22))+tct(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Hy.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Rj=pQ(()=>new sut);class iut extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function out(n){return X$(n)&&typeof n[Symbol.iterator]=="function"}function X$(n){return typeof n=="object"&&n!=null}function w4(n){return X$(n)&&!Array.isArray(n)}function cf(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function aut(n){const{done:e,value:t}=n.next();return e?void 0:t}function cut(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${cf(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*$ye(n,e,t,r){out(n)||(n=[n]);for(const s of n){const i=cut(s,e,t,r);i&&(yield i)}}function*wQ(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=wQ(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):X$(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class dg{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return $ye(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return $ye(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return aTe(e,this,t)}create(e,t){return kt(e,this,t)}is(e){return cTe(e,this)}mask(e,t){return uut(e,this,t)}validate(e,t={}){return Q$(e,this,t)}}function aTe(n,e,t){const r=Q$(n,e,{message:t});if(r[0])throw r[0]}function kt(n,e,t){const r=Q$(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function uut(n,e,t){const r=Q$(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function cTe(n,e){return!Q$(n,e)[0]}function Q$(n,e,t={}){const r=wQ(n,e,t),s=aut(r);if(s[0])return[new iut(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function wv(n,e){return new dg({type:n,schema:null,validator:e})}function lut(){return wv("any",()=>!0)}function Rt(n){return new dg({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${cf(e)}`}})}function Gh(){return wv("boolean",n=>typeof n=="boolean")}function IQ(n){return wv("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${cf(e)}`)}function Zi(n){const e=cf(n),t=typeof n;return new dg({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${cf(r)}`}})}function dut(){return wv("never",()=>!1)}function Wt(n){return new dg({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function pe(){return wv("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${cf(n)}`)}function Ar(n){return new dg({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function uTe(n,e){return new dg({type:"record",schema:null,*entries(t){if(X$(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return w4(t)||`Expected an object, but received: ${cf(t)}`},coercer(t){return w4(t)?{...t}:t}})}function Ze(){return wv("string",n=>typeof n=="string"||`Expected a string, but received: ${cf(n)}`)}function _Q(n){const e=dut();return new dg({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${cf(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function ze(n){const e=Object.keys(n);return new dg({type:"type",schema:n,*entries(t){if(X$(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return w4(t)||`Expected an object, but received: ${cf(t)}`},coercer(t){return w4(t)?{...t}:t}})}function uu(n){const e=n.map(t=>t.type).join(" | ");return new dg({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=wQ(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${cf(t)}`,...s]}})}function zR(){return wv("unknown",()=>!0)}function e8(n,e,t){return new dg({...n,coercer:(r,s)=>cTe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const lTe=[],dTe=[],fTe=[],fut=BigInt(0),aB=BigInt(1),hut=BigInt(2),gut=BigInt(7),mut=BigInt(256),yut=BigInt(113);for(let n=0,e=aB,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],lTe.push(2*(5*r+t)),dTe.push((n+1)*(n+2)/2%64);let s=fut;for(let i=0;i<7;i++)e=(e<<aB^(e>>gut)*yut)%mut,e&hut&&(s^=aB<<(aB<<BigInt(i))-aB);fTe.push(s)}const[put,but]=Yxe(fTe,!0),Dye=(n,e,t)=>t>32?Xxe(n,e,t):Zxe(n,e,t),Oye=(n,e,t)=>t>32?Qxe(n,e,t):Jxe(n,e,t);function Sut(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=Dye(u,l,1)^t[a],y=Oye(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=dTe[o],c=Dye(s,i,a),u=Oye(s,i,a),l=lTe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=put[r],n[1]^=but[r]}t.fill(0)}class PQ extends yQ{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,A4(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Yat(this.state)}keccak(){Pye||Eye(this.state32),Sut(this.state32,this.rounds),Pye||Eye(this.state32),this.posOut=0,this.pos=0}update(e){yI(this);const{blockLen:t,state:r}=this;e=N6(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){yI(this,!1),Z$(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return A4(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(qxe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new PQ(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const kut=(n,e,t)=>pQ(()=>new PQ(e,n,t)),Lye=kut(1,136,256/8);class hTe extends yQ{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Gat(e);const r=N6(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return yI(this),this.iHash.update(e),this}digestInto(e){yI(this),Z$(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const gTe=(n,e,t)=>new hTe(n,e).update(t).digest();gTe.create=(n,e)=>new hTe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Kye(n){n.lowS!==void 0&&Zm("lowS",n.lowS),n.prehash!==void 0&&Zm("prehash",n.prehash)}function vut(n){const e=vQ(n);CR(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Aut,hexToBytes:wut}=Mct,OS={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=OS;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Aut(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=OS,t=typeof n=="string"?wut(n):n;J$(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=OS._parseInt(t.subarray(2)),{d:o,l:a}=OS._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},$p=BigInt(0),Fa=BigInt(1);BigInt(2);const Wye=BigInt(3);BigInt(4);function Iut(n){const e=vut(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return Bk(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return U6(m,Fa,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(Tk(m)&&(m=Rk(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:XS(Ta("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=Di(p,S)),od("private key",p,Fa,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=Az((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=Az(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(Ta("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),P=t.eql(t.mul(b,w),t.mul(I,S));return A&&P}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,Wye),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,P=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),x=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),P=t.mul(S,I),P=t.add(P,P),w=t.mul(f,P),A=t.mul(b,x),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),P=t.mul(b,P),x=t.mul(f,x),R=t.sub(E,x),R=t.mul(f,R),R=t.add(R,P),P=t.add(E,E),E=t.add(P,E),E=t.add(E,x),E=t.mul(E,R),A=t.add(A,E),x=t.mul(p,I),x=t.add(x,x),E=t.mul(x,R),w=t.sub(w,E),P=t.mul(x,M),P=t.add(P,P),P=t.add(P,P),new d(w,A,P)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,P=t.ZERO,E=t.ZERO;const M=e.a,x=t.mul(e.b,Wye);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(x,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),P=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(x,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),P=t.add(P,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,P,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){od("scalar",f,$p,e.n);const g=d.ZERO;if(f===$p)return g;if(f===Fa)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,P=g,E=this;for(;p>$p||w>$p;)p&Fa&&(A=A.add(E)),w&Fa&&(P=P.add(E)),E=E.double(),p>>=Fa,w>>=Fa;return S&&(A=A.negate()),I&&(P=P.negate()),P=new d(t.mul(P.px,b.beta),P.py,P.pz),A.add(P)}multiply(f){const{endo:g,n:b}=e;od("scalar",f,Fa,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:P}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:x,f:R}=this.wNAF(P);E=h.constTimeNegate(I,E),x=h.constTimeNegate(A,x),x=new d(t.mul(x.px,g.beta),x.py,x.pz),S=E.add(x),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===$p||A===Fa||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===Fa)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===Fa?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Zm("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Zm("isCompressed",f),Rk(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=oTe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function _ut(n){const e=vQ(n);return CR(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Put(n){const e=_ut(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return Di(T,r)}function a(T){return Tj(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=Iut({...e,toBytes(T,v,k){const _=v.toAffine(),B=t.toBytes(_.x),C=Bk;return Zm("isCompressed",k),k?C(Uint8Array.from([v.hasEvenY()?2:3]),B):C(Uint8Array.from([4]),B,t.toBytes(_.y))},fromBytes(T){const v=T.length,k=T[0],_=T.subarray(1);if(v===s&&(k===2||k===3)){const B=XS(_);if(!U6(B,Fa,t.ORDER))throw new Error("Point is not on curve");const C=l(B);let O;try{O=t.sqrt(C)}catch(L){const U=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+U)}const D=(O&Fa)===Fa;return(k&1)===1!==D&&(O=t.neg(O)),{x:B,y:O}}else if(v===i&&k===4){const B=t.fromBytes(_.subarray(0,t.BYTES)),C=t.fromBytes(_.subarray(t.BYTES,2*t.BYTES));return{x:B,y:C}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>Rk(bI(T,e.nByteLength));function h(T){const v=r>>Fa;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>XS(T.slice(v,k));class g{constructor(v,k,_){this.r=v,this.s=k,this.recovery=_,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=Ta("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:_}=OS.toSig(Ta("DER",v));return new g(k,_)}assertValidity(){od("r",this.r,Fa,r),od("s",this.s,Fa,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:_,recovery:B}=this,C=A(Ta("msgHash",v));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const O=B===2||B===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(B&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),U=o(-C*L),q=o(_*L),J=c.BASE.multiplyAndAddUnsafe(W,U,q);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return pI(this.toDERHex())}toDERHex(){return OS.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return pI(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=iTe(e.n);return Uct(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=Tk(T),k=typeof T=="string",_=(v||k)&&T.length;return v?_===s||_===i:k?_===2*s||_===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=XS(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},P=kQ(e.nBitLength);function E(T){return od(`num < 2^${e.nBitLength}`,T,$p,P),bI(T,e.nByteLength)}function M(T,v,k=x){if(["recovered","canonical"].some(j=>j in k))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:B}=e;let{lowS:C,prehash:O,extraEntropy:D}=k;C==null&&(C=!0),T=Ta("msgHash",T),Kye(k),O&&(T=Ta("prehashed msgHash",_(T)));const W=A(T),L=u(v),U=[E(L),E(W)];if(D!=null&&D!==!1){const j=D===!0?B(t.BYTES):D;U.push(Ta("extraEntropy",j))}const q=Bk(...U),J=W;function Q(j){const X=w(j);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===$p)return;const ne=o(re*o(J+ee*L));if(ne===$p)return;let _e=(se.x===ee?0:2)|Number(se.y&Fa),Pe=ne;return C&&h(ne)&&(Pe=m(ne),_e^=1),new g(ee,Pe,_e)}return{seed:q,k2sig:Q}}const x={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=x){const{seed:_,k2sig:B}=M(T,v,k),C=e;return tTe(C.hash.outputLen,C.nByteLength,C.hmac)(_,B)}c.BASE._setWindowSize(8);function z(T,v,k,_=R){var se;const B=T;if(v=Ta("msgHash",v),k=Ta("publicKey",k),"strict"in _)throw new Error("options.strict was renamed to lowS");Kye(_);const{lowS:C,prehash:O}=_;let D,W;try{if(typeof B=="string"||Tk(B))try{D=g.fromDER(B)}catch(ee){if(!(ee instanceof OS.Err))throw ee;D=g.fromCompact(B)}else if(typeof B=="object"&&typeof B.r=="bigint"&&typeof B.s=="bigint"){const{r:ee,s:ne}=B;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(C&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:U}=D,q=A(v),J=a(U),Q=o(q*J),j=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,j))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Eut(n){return{hash:n,hmac:(e,...t)=>gTe(n,e,Xat(...t)),randomBytes:Hxe}}function xut(n,e){const t=r=>Put({...n,...Eut(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mTe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Nye=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Tut=BigInt(1),Bj=BigInt(2),Fye=(n,e)=>(n+e/Bj)/e;function Rut(n){const e=mTe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=Eo(l,t,e)*l%e,y=Eo(d,t,e)*l%e,h=Eo(y,Bj,e)*u%e,m=Eo(h,s,e)*h%e,f=Eo(m,i,e)*m%e,g=Eo(f,a,e)*f%e,b=Eo(g,c,e)*g%e,S=Eo(b,a,e)*f%e,p=Eo(S,t,e)*l%e,I=Eo(p,o,e)*m%e,w=Eo(I,r,e)*u%e,A=Eo(w,Bj,e);if(!Cj.eql(Cj.sqr(A),n))throw new Error("Cannot find square root");return A}const Cj=nTe(mTe,void 0,void 0,{sqrt:Rut}),V6=xut({a:BigInt(0),b:BigInt(7),Fp:Cj,n:Nye,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Nye,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Tut*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=Fye(i*n,e),c=Fye(-r*n,e);let u=Di(n-a*t-c*s,e),l=Di(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},Rj);BigInt(0);V6.ProjectivePoint;const But=MR.utils.randomPrivateKey,Uye=()=>{const n=MR.utils.randomPrivateKey(),e=I4(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},I4=MR.getPublicKey;function Vye(n){try{return MR.ExtendedPoint.fromHex(n),!0}catch{return!1}}const EQ=(n,e)=>MR.sign(n,e.slice(0,32)),Cut=MR.verify,hn=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class xQ{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(tg(AM,this))}static decode(e){return rg(AM,this,e)}static decodeUnchecked(e){return ng(AM,this,e)}}class Mut extends xQ{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const AM=new Map;var yTe;const pTe=32,Dh=32;function zut(n){return n._bn!==void 0}let qye=1;class ct extends xQ{constructor(e){if(super({}),this._bn=void 0,zut(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ae.decode(e);if(t.length!=Dh)throw new Error("Invalid public key input");this._bn=new Ni(t)}else this._bn=new Ni(e);if(this._bn.byteLength()>Dh)throw new Error("Invalid public key input")}}static unique(){const e=new ct(qye);return qye+=1,new ct(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ae.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Dh)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=Rj(s);return new ct(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>pTe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,hn(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=Rj(r);if(Vye(s))throw new Error("Invalid seeds, address must fall off the curve");return new ct(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new ct(e);return Vye(t.toBytes())}}yTe=ct;ct.default=new yTe("11111111111111111111111111111111");AM.set(ct,{kind:"struct",fields:[["_bn","u256"]]});class $ut{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=hn(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=hn(But()),this._publicKey=hn(I4(this._secretKey))}get publicKey(){return new ct(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const Dut=new ct("BPFLoader1111111111111111111111111111111111"),Qp=1280-40-8,q6=127,wz=64;class TQ extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TQ.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class RQ extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(RQ.prototype,"name",{value:"TransactionExpiredTimeoutError"});class jA extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(jA.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Iz{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const Cn=(n="publicKey")=>ie(32,n),Out=(n="signature")=>ie(64,n),LS=(n="string")=>{const e=N([F("length"),F("lengthPadding"),ie(Gt(F(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>F().span+F().span+V.Buffer.from(i,"utf8").length,s},Lut=(n="authorized")=>N([Cn("staker"),Cn("withdrawer")],n),Kut=(n="lockup")=>N([Ee("unixTimestamp"),Ee("epoch"),Cn("custodian")],n),Wut=(n="voteInit")=>N([Cn("nodePubkey"),Cn("authorizedVoter"),Cn("authorizedWithdrawer"),te("commission")],n),Nut=(n="voteAuthorizeWithSeedArgs")=>N([F("voteAuthorizationType"),Cn("currentAuthorityDerivedKeyOwnerPubkey"),LS("currentAuthorityDerivedKeySeed"),Cn("newAuthorized")],n);function bTe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return bTe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function Fu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function wl(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function rs(n,e){if(!n)throw new Error(e||"Assertion failed")}class H6{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new H6(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];rs(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{rs(t.length>0,"Expected at least one writable signer key");const[c]=t[0];rs(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new ct(c)),...r.map(([c])=>new ct(c)),...s.map(([c])=>new ct(c)),...i.map(([c])=>new ct(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new ct(i),c=e.findIndex(u=>u.equals(a));c>=0&&(rs(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const STe="Reached end of buffer unexpectedly";function fh(n){if(n.length===0)throw new Error(STe);return n.shift()}function Uu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(STe);return n.splice(...e)}class uf{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ct(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ae.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Iz(this.staticAccountKeys)}static compile(e){const t=H6.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new Iz(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ae.encode(a.data)}));return new uf({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];wl(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ae.decode(d.data));let f=[];wl(f,y.length);let g=[];return wl(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];wl(s,r.length);let i=V.Buffer.alloc(Qp);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=N([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=N([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(Cn("key"),e,"keys"),Cn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>hn(d.toBytes())),recentBlockhash:Ae.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=fh(t);if(r!==(r&q6))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=fh(t),i=fh(t),o=Fu(t);let a=[];for(let y=0;y<o;y++){const h=Uu(t,0,Dh);a.push(new ct(V.Buffer.from(h)))}const c=Uu(t,0,Dh),u=Fu(t);let l=[];for(let y=0;y<u;y++){const h=fh(t),m=Fu(t),f=Uu(t,0,m),g=Fu(t),b=Uu(t,0,g),S=Ae.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ae.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new uf(d)}}class Ck{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Iz(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=H6.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new Iz(a,s).compileInstructions(e.instructions);return new Ck({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();wl(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();wl(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();wl(i,this.addressTableLookups.length);const o=N([te("prefix"),N([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(Cn(),this.staticAccountKeys.length,"staticAccountKeys"),Cn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Qp),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ae.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Qp);for(const r of this.compiledInstructions){const s=Array();wl(s,r.accountKeyIndexes.length);const i=Array();wl(i,r.data.length),e+=N([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Qp);for(const r of this.addressTableLookups){const s=Array();wl(s,r.writableIndexes.length);const i=Array();wl(i,r.readonlyIndexes.length),e+=N([Cn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=fh(t),s=r&q6;rs(r!==s,"Expected versioned message but received legacy message");const i=s;rs(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:fh(t),numReadonlySignedAccounts:fh(t),numReadonlyUnsignedAccounts:fh(t)},a=[],c=Fu(t);for(let m=0;m<c;m++)a.push(new ct(Uu(t,0,Dh)));const u=Ae.encode(Uu(t,0,Dh)),l=Fu(t),d=[];for(let m=0;m<l;m++){const f=fh(t),g=Fu(t),b=Uu(t,0,g),S=Fu(t),p=new Uint8Array(Uu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=Fu(t),h=[];for(let m=0;m<y;m++){const f=new ct(Uu(t,0,Dh)),g=Fu(t),b=Uu(t,0,g),S=Fu(t),p=Uu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new Ck({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const BQ={deserializeMessageVersion(n){const e=n[0],t=e&q6;return t===e?"legacy":t},deserialize:n=>{const e=BQ.deserializeMessageVersion(n);if(e==="legacy")return uf.from(n);if(e===0)return Ck.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let km=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const Fut=V.Buffer.alloc(wz).fill(0);class Ls{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class ls{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Ls(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new ct(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ae.encode(g)}});return m.forEach(f=>{rs(f.programIdIndex>=0),f.accounts.forEach(g=>rs(g>=0))}),new uf({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=EQ(r,s.secretKey);this._addSignature(s.publicKey,hn(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){rs(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):Cut(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];wl(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return rs(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(rs(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),rs(i.length<=Qp,`Transaction too large: ${i.length} > ${Qp}`),i}get keys(){return rs(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return rs(this.instructions.length===1),this.instructions[0].programId}get data(){return rs(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Fu(t);let s=[];for(let i=0;i<r;i++){const o=Uu(t,0,wz);s.push(Ae.encode(V.Buffer.from(o)))}return ls.populate(uf.from(t),s)}static populate(e,t=[]){const r=new ls;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ae.encode(Fut)?null:Ae.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Ls({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ae.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class CQ{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;rs(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;rs(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new Ls({programId:g,data:hn(m.data),keys:f}))}return new CQ({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return uf.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Ck.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class MQ{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)rs(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(wz));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();wl(t,this.signatures.length);const r=N([ie(t.length,"encodedSignaturesLength"),we(Out(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=Fu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(Uu(t,0,wz)));const i=BQ.deserialize(new Uint8Array(t));return new MQ(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));rs(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=EQ(t,s.secretKey)}}addSignature(e,t){rs(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));rs(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const Uut=160,Vut=64,qut=Uut/Vut,kTe=1e3/qut,jf=new ct("SysvarC1ock11111111111111111111111111111111"),Hut=new ct("SysvarEpochSchedu1e111111111111111111111111"),jut=new ct("Sysvar1nstructions1111111111111111111111111"),_L=new ct("SysvarRecentB1ockHashes11111111111111111111"),SI=new ct("SysvarRent111111111111111111111111111111111"),Gut=new ct("SysvarRewards111111111111111111111111111111"),Yut=new ct("SysvarS1otHashes111111111111111111111111111"),Zut=new ct("SysvarS1otHistory11111111111111111111111111"),PL=new ct("SysvarStakeHistory1111111111111111111111111");class _z extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const Jut={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class sr extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function Mj(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new _z({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function fS(n){return new Promise(e=>setTimeout(e,n))}function Vn(n,e){const t=n.layout.span>=0?n.layout.span:bTe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function As(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const vTe=fe("lamportsPerSignature"),ATe=N([F("version"),F("state"),Cn("authorizedPubkey"),Cn("nonce"),N([vTe],"feeCalculator")]),zj=ATe.span;class j6{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=ATe.decode(hn(e),0);return new j6({authorizedPubkey:new ct(t.authorizedPubkey),nonce:new ct(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const Xut=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},Qut=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=Xut(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return sg(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=ya(o,n);return r(u,a,c)},i},kI=Qut(8);class elt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ni))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=As(ni.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new ct(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=As(ni.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=As(ni.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new ct(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=As(ni.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=As(ni.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ct(t),seed:r,space:s,programId:new ct(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=As(ni.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ct(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=As(ni.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ct(t),seed:r,programId:new ct(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=As(ni.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ct(t),seed:r,lamports:s,space:i,programId:new ct(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=As(ni.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ct(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),As(ni.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=As(ni.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=As(ni.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ct(t)}}static checkProgramId(e){if(!e.equals(bc.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ni=Object.freeze({Create:{index:0,layout:N([F("instruction"),Ee("lamports"),Ee("space"),Cn("programId")])},Assign:{index:1,layout:N([F("instruction"),Cn("programId")])},Transfer:{index:2,layout:N([F("instruction"),kI("lamports")])},CreateWithSeed:{index:3,layout:N([F("instruction"),Cn("base"),LS("seed"),Ee("lamports"),Ee("space"),Cn("programId")])},AdvanceNonceAccount:{index:4,layout:N([F("instruction")])},WithdrawNonceAccount:{index:5,layout:N([F("instruction"),Ee("lamports")])},InitializeNonceAccount:{index:6,layout:N([F("instruction"),Cn("authorized")])},AuthorizeNonceAccount:{index:7,layout:N([F("instruction"),Cn("authorized")])},Allocate:{index:8,layout:N([F("instruction"),Ee("space")])},AllocateWithSeed:{index:9,layout:N([F("instruction"),Cn("base"),LS("seed"),Ee("space"),Cn("programId")])},AssignWithSeed:{index:10,layout:N([F("instruction"),Cn("base"),LS("seed"),Cn("programId")])},TransferWithSeed:{index:11,layout:N([F("instruction"),kI("lamports"),LS("seed"),Cn("programId")])},UpgradeNonceAccount:{index:12,layout:N([F("instruction")])}});class bc{constructor(){}static createAccount(e){const t=ni.Create,r=Vn(t,{lamports:e.lamports,space:e.space,programId:hn(e.programId.toBuffer())});return new Ls({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=ni.TransferWithSeed;t=Vn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:hn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=ni.Transfer;t=Vn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ls({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=ni.AssignWithSeed;t=Vn(s,{base:hn(e.basePubkey.toBuffer()),seed:e.seed,programId:hn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=ni.Assign;t=Vn(s,{programId:hn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ls({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=ni.CreateWithSeed,r=Vn(t,{base:hn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:hn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ls({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new ls;"basePubkey"in e&&"seed"in e?t.add(bc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:zj,programId:this.programId})):t.add(bc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:zj,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=ni.InitializeNonceAccount,r=Vn(t,{authorized:hn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:_L,isSigner:!1,isWritable:!1},{pubkey:SI,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Ls(s)}static nonceAdvance(e){const t=ni.AdvanceNonceAccount,r=Vn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:_L,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Ls(s)}static nonceWithdraw(e){const t=ni.WithdrawNonceAccount,r=Vn(t,{lamports:e.lamports});return new Ls({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:_L,isSigner:!1,isWritable:!1},{pubkey:SI,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=ni.AuthorizeNonceAccount,r=Vn(t,{authorized:hn(e.newAuthorizedPubkey.toBuffer())});return new Ls({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=ni.AllocateWithSeed;t=Vn(s,{base:hn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:hn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=ni.Allocate;t=Vn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ls({keys:r,programId:this.programId,data:t})}}bc.programId=new ct("11111111111111111111111111111111");const tlt=Qp-300;class Mk{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Mk.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new ls,h.add(bc.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new ls,h.add(bc.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new ls,h.add(bc.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new ls().add(bc.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await Mj(e,h,[t,r],{commitment:"confirmed"})}const o=N([F("instruction"),F("offset"),F("bytesLength"),F("bytesLengthPadding"),we(te("byte"),Gt(F(),-8),"bytes")]),a=Mk.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new ls().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(Mj(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await fS(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=N([F("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new ls().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:SI,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(kTe/2)))}}return!0}}Mk.chunkSize=tlt;const rlt=new ct("BPFLoader2111111111111111111111111111111111");class nlt{static getMinNumSignatures(e){return Mk.getMinNumSignatures(e)}static load(e,t,r,s,i){return Mk.load(e,t,r,i,s)}}function slt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var AU,Hye;function ilt(){if(Hye)return AU;Hye=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return AU=function(r){var s=t(r,!1);if(s!==void 0)return""+s},AU}var olt=ilt(),jye=slt(olt);const cB=32;function wU(n){let e=0;for(;n>1;)n/=2,e++;return e}function alt(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class wTe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=wU(alt(e+cB+1))-wU(cB)-1,r=this.getSlotsInEpoch(t),s=e-(r-cB);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*cB:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+wU(cB)):this.slotsPerEpoch}}var clt=globalThis.fetch;class ult extends ay{constructor(e,t,r){const s=i=>{const o=uy(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function llt(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Gye=56;class $j{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=llt(dlt,e),r=e.length-Gye;rs(r>=0,"lookup table is invalid"),rs(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=N([we(Cn(),s,"addresses")]).decode(e.slice(Gye));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new ct(t.authority[0]):void 0,addresses:i.map(o=>new ct(o))}}}const dlt={index:1,layout:N([F("typeIndex"),kI("deactivationSlot"),fe("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(Cn(),Gt(te(),-1),"authority")])},flt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function hlt(n){const e=n.match(flt);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const yo=e8(IQ(ct),Ze(),n=>new ct(n)),ITe=_Q([Ze(),Zi("base64")]),zQ=e8(IQ(V.Buffer),ITe,n=>V.Buffer.from(n[0],"base64")),_Te=30*1e3;function glt(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function js(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function Yye(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function PTe(n){return uu([ze({jsonrpc:Zi("2.0"),id:Ze(),result:n}),ze({jsonrpc:Zi("2.0"),id:Ze(),error:ze({code:zR(),message:Ze(),data:Ar(lut())})})])}const mlt=PTe(zR());function rn(n){return e8(PTe(n),mlt,e=>"error"in e?e:{...e,result:kt(e.result,n)})}function Ko(n){return rn(ze({context:ze({slot:pe()}),value:n}))}function G6(n){return ze({context:ze({slot:pe()}),value:n})}function IU(n,e){return n===0?new Ck({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new ct(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ae.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new uf(e)}const ylt=ze({foundation:pe(),foundationTerm:pe(),initial:pe(),taper:pe(),terminal:pe()}),plt=rn(Rt(Wt(ze({epoch:pe(),effectiveSlot:pe(),amount:pe(),postBalance:pe(),commission:Ar(Wt(pe()))})))),blt=Rt(ze({slot:pe(),prioritizationFee:pe()})),Slt=ze({total:pe(),validator:pe(),foundation:pe(),epoch:pe()}),klt=ze({epoch:pe(),slotIndex:pe(),slotsInEpoch:pe(),absoluteSlot:pe(),blockHeight:Ar(pe()),transactionCount:Ar(pe())}),vlt=ze({slotsPerEpoch:pe(),leaderScheduleSlotOffset:pe(),warmup:Gh(),firstNormalEpoch:pe(),firstNormalSlot:pe()}),Alt=uTe(Ze(),Rt(pe())),Iv=Wt(uu([ze({}),Ze()])),wlt=ze({err:Iv}),Ilt=Zi("receivedSignature"),_lt=ze({"solana-core":Ze(),"feature-set":Ar(pe())}),Plt=ze({program:Ze(),programId:yo,parsed:zR()}),Elt=ze({programId:yo,accounts:Rt(yo),data:Ze()}),Zye=Ko(ze({err:Wt(uu([ze({}),Ze()])),logs:Wt(Rt(Ze())),accounts:Ar(Wt(Rt(Wt(ze({executable:Gh(),owner:Ze(),lamports:pe(),data:Rt(Ze()),rentEpoch:Ar(pe())}))))),unitsConsumed:Ar(pe()),returnData:Ar(Wt(ze({programId:Ze(),data:_Q([Ze(),Zi("base64")])}))),innerInstructions:Ar(Wt(Rt(ze({index:pe(),instructions:Rt(uu([Plt,Elt]))}))))})),xlt=Ko(ze({byIdentity:uTe(Ze(),Rt(pe())),range:ze({firstSlot:pe(),lastSlot:pe()})}));function Tlt(n,e,t,r,s,i){const o=t||clt;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new cy(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Rdt)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await fS(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function Rlt(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function Blt(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const Clt=rn(ylt),Mlt=rn(Slt),zlt=rn(blt),$lt=rn(klt),Dlt=rn(vlt),Olt=rn(Alt),Llt=rn(pe()),Klt=Ko(ze({total:pe(),circulating:pe(),nonCirculating:pe(),nonCirculatingAccounts:Rt(yo)})),Dj=ze({amount:Ze(),uiAmount:Wt(pe()),decimals:pe(),uiAmountString:Ar(Ze())}),Wlt=Ko(Rt(ze({address:yo,amount:Ze(),uiAmount:Wt(pe()),decimals:pe(),uiAmountString:Ar(Ze())}))),Nlt=Ko(Rt(ze({pubkey:yo,account:ze({executable:Gh(),owner:yo,lamports:pe(),data:zQ,rentEpoch:pe()})}))),Oj=ze({program:Ze(),parsed:zR(),space:pe()}),Flt=Ko(Rt(ze({pubkey:yo,account:ze({executable:Gh(),owner:yo,lamports:pe(),data:Oj,rentEpoch:pe()})}))),Ult=Ko(Rt(ze({lamports:pe(),address:yo}))),Pz=ze({executable:Gh(),owner:yo,lamports:pe(),data:zQ,rentEpoch:pe()}),Vlt=ze({pubkey:yo,account:Pz}),qlt=e8(uu([IQ(V.Buffer),Oj]),uu([ITe,Oj]),n=>Array.isArray(n)?kt(n,zQ):n),Lj=ze({executable:Gh(),owner:yo,lamports:pe(),data:qlt,rentEpoch:pe()}),Hlt=ze({pubkey:yo,account:Lj}),jlt=ze({state:uu([Zi("active"),Zi("inactive"),Zi("activating"),Zi("deactivating")]),active:pe(),inactive:pe()}),Glt=rn(Rt(ze({signature:Ze(),slot:pe(),err:Iv,memo:Wt(Ze()),blockTime:Ar(Wt(pe()))}))),Ylt=rn(Rt(ze({signature:Ze(),slot:pe(),err:Iv,memo:Wt(Ze()),blockTime:Ar(Wt(pe()))}))),Zlt=ze({subscription:pe(),result:G6(Pz)}),Jlt=ze({pubkey:yo,account:Pz}),Xlt=ze({subscription:pe(),result:G6(Jlt)}),Qlt=ze({parent:pe(),slot:pe(),root:pe()}),edt=ze({subscription:pe(),result:Qlt}),tdt=uu([ze({type:uu([Zi("firstShredReceived"),Zi("completed"),Zi("optimisticConfirmation"),Zi("root")]),slot:pe(),timestamp:pe()}),ze({type:Zi("createdBank"),parent:pe(),slot:pe(),timestamp:pe()}),ze({type:Zi("frozen"),slot:pe(),timestamp:pe(),stats:ze({numTransactionEntries:pe(),numSuccessfulTransactions:pe(),numFailedTransactions:pe(),maxTransactionsPerEntry:pe()})}),ze({type:Zi("dead"),slot:pe(),timestamp:pe(),err:Ze()})]),rdt=ze({subscription:pe(),result:tdt}),ndt=ze({subscription:pe(),result:G6(uu([wlt,Ilt]))}),sdt=ze({subscription:pe(),result:pe()}),idt=ze({pubkey:Ze(),gossip:Wt(Ze()),tpu:Wt(Ze()),rpc:Wt(Ze()),version:Wt(Ze())}),Jye=ze({votePubkey:Ze(),nodePubkey:Ze(),activatedStake:pe(),epochVoteAccount:Gh(),epochCredits:Rt(_Q([pe(),pe(),pe()])),commission:pe(),lastVote:pe(),rootSlot:Wt(pe())}),odt=rn(ze({current:Rt(Jye),delinquent:Rt(Jye)})),adt=uu([Zi("processed"),Zi("confirmed"),Zi("finalized")]),cdt=ze({slot:pe(),confirmations:Wt(pe()),err:Iv,confirmationStatus:Ar(adt)}),udt=Ko(Rt(Wt(cdt))),ldt=rn(pe()),ETe=ze({accountKey:yo,writableIndexes:Rt(pe()),readonlyIndexes:Rt(pe())}),$Q=ze({signatures:Rt(Ze()),message:ze({accountKeys:Rt(Ze()),header:ze({numRequiredSignatures:pe(),numReadonlySignedAccounts:pe(),numReadonlyUnsignedAccounts:pe()}),instructions:Rt(ze({accounts:Rt(pe()),data:Ze(),programIdIndex:pe()})),recentBlockhash:Ze(),addressTableLookups:Ar(Rt(ETe))})}),xTe=ze({pubkey:yo,signer:Gh(),writable:Gh(),source:Ar(uu([Zi("transaction"),Zi("lookupTable")]))}),TTe=ze({accountKeys:Rt(xTe),signatures:Rt(Ze())}),RTe=ze({parsed:zR(),program:Ze(),programId:yo}),BTe=ze({accounts:Rt(yo),data:Ze(),programId:yo}),ddt=uu([BTe,RTe]),fdt=uu([ze({parsed:zR(),program:Ze(),programId:Ze()}),ze({accounts:Rt(Ze()),data:Ze(),programId:Ze()})]),CTe=e8(ddt,fdt,n=>"accounts"in n?kt(n,BTe):kt(n,RTe)),MTe=ze({signatures:Rt(Ze()),message:ze({accountKeys:Rt(xTe),instructions:Rt(CTe),recentBlockhash:Ze(),addressTableLookups:Ar(Wt(Rt(ETe)))})}),_4=ze({accountIndex:pe(),mint:Ze(),owner:Ar(Ze()),programId:Ar(Ze()),uiTokenAmount:Dj}),zTe=ze({writable:Rt(yo),readonly:Rt(yo)}),Y6=ze({err:Iv,fee:pe(),innerInstructions:Ar(Wt(Rt(ze({index:pe(),instructions:Rt(ze({accounts:Rt(pe()),data:Ze(),programIdIndex:pe()}))})))),preBalances:Rt(pe()),postBalances:Rt(pe()),logMessages:Ar(Wt(Rt(Ze()))),preTokenBalances:Ar(Wt(Rt(_4))),postTokenBalances:Ar(Wt(Rt(_4))),loadedAddresses:Ar(zTe),computeUnitsConsumed:Ar(pe())}),DQ=ze({err:Iv,fee:pe(),innerInstructions:Ar(Wt(Rt(ze({index:pe(),instructions:Rt(CTe)})))),preBalances:Rt(pe()),postBalances:Rt(pe()),logMessages:Ar(Wt(Rt(Ze()))),preTokenBalances:Ar(Wt(Rt(_4))),postTokenBalances:Ar(Wt(Rt(_4))),loadedAddresses:Ar(zTe),computeUnitsConsumed:Ar(pe())}),$R=uu([Zi(0),Zi("legacy")]),_v=ze({pubkey:Ze(),lamports:pe(),postBalance:Wt(pe()),rewardType:Wt(Ze()),commission:Ar(Wt(pe()))}),hdt=rn(Wt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:pe(),transactions:Rt(ze({transaction:$Q,meta:Wt(Y6),version:Ar($R)})),rewards:Ar(Rt(_v)),blockTime:Wt(pe()),blockHeight:Wt(pe())}))),gdt=rn(Wt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:pe(),rewards:Ar(Rt(_v)),blockTime:Wt(pe()),blockHeight:Wt(pe())}))),mdt=rn(Wt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:pe(),transactions:Rt(ze({transaction:TTe,meta:Wt(Y6),version:Ar($R)})),rewards:Ar(Rt(_v)),blockTime:Wt(pe()),blockHeight:Wt(pe())}))),ydt=rn(Wt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:pe(),transactions:Rt(ze({transaction:MTe,meta:Wt(DQ),version:Ar($R)})),rewards:Ar(Rt(_v)),blockTime:Wt(pe()),blockHeight:Wt(pe())}))),pdt=rn(Wt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:pe(),transactions:Rt(ze({transaction:TTe,meta:Wt(DQ),version:Ar($R)})),rewards:Ar(Rt(_v)),blockTime:Wt(pe()),blockHeight:Wt(pe())}))),bdt=rn(Wt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:pe(),rewards:Ar(Rt(_v)),blockTime:Wt(pe()),blockHeight:Wt(pe())}))),Sdt=rn(Wt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:pe(),transactions:Rt(ze({transaction:$Q,meta:Wt(Y6)})),rewards:Ar(Rt(_v)),blockTime:Wt(pe())}))),Xye=rn(Wt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:pe(),signatures:Rt(Ze()),blockTime:Wt(pe())}))),_U=rn(Wt(ze({slot:pe(),meta:Wt(Y6),blockTime:Ar(Wt(pe())),transaction:$Q,version:Ar($R)}))),k3=rn(Wt(ze({slot:pe(),transaction:MTe,meta:Wt(DQ),blockTime:Ar(Wt(pe())),version:Ar($R)}))),kdt=Ko(ze({blockhash:Ze(),feeCalculator:ze({lamportsPerSignature:pe()})})),vdt=Ko(ze({blockhash:Ze(),lastValidBlockHeight:pe()})),Adt=Ko(Gh()),wdt=ze({slot:pe(),numTransactions:pe(),numSlots:pe(),samplePeriodSecs:pe()}),Idt=rn(Rt(wdt)),_dt=Ko(Wt(ze({feeCalculator:ze({lamportsPerSignature:pe()})}))),Pdt=rn(Ze()),Edt=rn(Ze()),xdt=ze({err:Iv,logs:Rt(Ze()),signature:Ze()}),Tdt=ze({result:G6(xdt),subscription:pe()}),Rdt={"solana-client":"js/1.0.0-maintenance"};class Bdt{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=js(l),h=this._buildArgs([],d,void 0,y),m=jye(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=kt(f,rn(pe()));if("error"in g)throw new sr(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=glt(e),this._rpcWsEndpoint=r||hlt(e),this._rpcClient=Tlt(e,s,i,o,a,c),this._rpcRequest=Rlt(this._rpcClient),this._rpcBatchRequest=Blt(this._rpcClient),this._rpcWebSocket=new ult(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=js(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=kt(o,Ko(pe()));if("error"in a)throw new sr(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=kt(t,rn(Wt(pe())));if("error"in r)throw new sr(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=kt(e,rn(pe()));if("error"in t)throw new sr(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=kt(e,Llt);if("error"in t)throw new sr(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=kt(r,Klt);if("error"in s)throw new sr(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=kt(s,Ko(Dj));if("error"in i)throw new sr(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=kt(s,Ko(Dj));if("error"in i)throw new sr(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=js(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=kt(c,Nlt);if("error"in u)throw new sr(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=kt(o,Flt);if("error"in a)throw new sr(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=kt(s,Ult);if("error"in i)throw new sr(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=kt(s,Wlt);if("error"in i)throw new sr(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=js(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=kt(o,Ko(Wt(Pz)));if("error"in a)throw new sr(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=js(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=kt(o,Ko(Wt(Lj)));if("error"in a)throw new sr(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=js(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=kt(a,Ko(Rt(Wt(Lj))));if("error"in c)throw new sr(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=js(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=kt(a,Ko(Rt(Wt(Pz))));if("error"in c)throw new sr(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=js(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=kt(a,rn(jlt));if("error"in c)throw new sr(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=js(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:Yye(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=Rt(Vlt),l=o.withContext===!0?kt(c,Ko(u)):kt(c,rn(u));if("error"in l)throw new sr(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=js(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=kt(o,rn(Rt(Hlt)));if("error"in a)throw new sr(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ae.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return rs(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:km.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:km.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await fS(1e3),i||(h=await y(),i))return;d({__type:km.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===km.PROCESSED)l=d.response;else throw new TQ(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:km.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await fS(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===km.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await fS(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new jA(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new jA(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new jA(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new jA(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:km.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===km.PROCESSED)a=c.response;else throw new RQ(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=kt(e,rn(Rt(idt)));if("error"in t)throw new sr(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=kt(r,odt);if("error"in s)throw new sr(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=js(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=kt(i,rn(pe()));if("error"in o)throw new sr(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=js(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=kt(i,rn(Ze()));if("error"in o)throw new sr(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=kt(s,rn(Rt(yo)));if("error"in i)throw new sr(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);rs(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=kt(s,udt);if("error"in i)throw new sr(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=js(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=kt(i,rn(pe()));if("error"in o)throw new sr(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=kt(r,Clt);if("error"in s)throw new sr(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=js(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=kt(a,plt);if("error"in c)throw new sr(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=kt(e,Mlt);if("error"in t)throw new sr(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=js(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=kt(i,$lt);if("error"in o)throw new sr(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=kt(e,Dlt);if("error"in t)throw new sr(t.error,"failed to get epoch schedule");const r=t.result;return new wTe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=kt(e,Olt);if("error"in t)throw new sr(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=kt(s,ldt);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=kt(r,kdt);if("error"in s)throw new sr(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=kt(t,Idt);if("error"in r)throw new sr(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=kt(s,_dt);if("error"in i)throw new sr(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=hn(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=kt(i,Ko(Wt(pe())));if("error"in o)throw new sr(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=kt(s,zlt);if("error"in i)throw new sr(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=js(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=kt(i,vdt);if("error"in o)throw new sr(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=js(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=kt(o,Adt);if("error"in a)throw new sr(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=kt(e,rn(_lt));if("error"in t)throw new sr(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=kt(e,rn(Ze()));if("error"in t)throw new sr(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=js(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=kt(o,mdt);if("error"in a)throw a.error;return a.result}case"none":{const a=kt(o,gdt);if("error"in a)throw a.error;return a.result}default:{const a=kt(o,hdt);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:IU(d,u.message)},version:d}))}:null}}}catch(a){throw new sr(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=js(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=kt(o,pdt);if("error"in a)throw a.error;return a.result}case"none":{const a=kt(o,bdt);if("error"in a)throw a.error;return a.result}default:{const a=kt(o,ydt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new sr(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=kt(i,xlt);if("error"in o)throw new sr(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=js(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=kt(o,_U);if("error"in a)throw new sr(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:IU(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=js(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=kt(o,k3);if("error"in a)throw new sr(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=js(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=kt(c,k3);if("error"in u)throw new sr(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=js(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=kt(c,_U);if("error"in u)throw new sr(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:IU(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=kt(s,Sdt);if("error"in i)throw new sr(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new uf(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:ls.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=kt(i,rn(Rt(pe())));if("error"in o)throw new sr(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=kt(s,Xye);if("error"in i)throw new sr(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=kt(s,Xye);if("error"in i)throw new sr(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=kt(s,_U);if("error"in i)throw new sr(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new uf(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:ls.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=kt(s,k3);if("error"in i)throw new sr(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=kt(o,k3);if("error"in a)throw new sr(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=kt(i,Glt);if("error"in o)throw new sr(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=kt(i,Ylt);if("error"in o)throw new sr(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new $j({key:e,state:$j.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=j6.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=kt(r,Pdt);if("error"in s)throw new sr(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await fS(100);const r=Date.now()-this._blockhashInfo.lastFetch>=_Te;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await fS(kTe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=js(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=kt(i,Ko(pe()));if("error"in o)throw new sr(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=kt(p,Zye);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof ls){let m=e;s=new ls,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=ls.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=kt(y,Zye);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new _z({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=hn(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=kt(a,Edt);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new _z({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=kt(e,Zlt);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=jye([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];rs(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=js(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=kt(e,Xlt);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=js(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:Yye(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=kt(e,Tdt);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=kt(e,edt);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=kt(e,rdt);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=kt(e,ndt);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=kt(e,sdt);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class ww{constructor(e){this._keypair=void 0,this._keypair=e??Uye()}static generate(){return new ww(Uye())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=I4(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new ww({publicKey:r,secretKey:e})}static fromSeed(e){const t=I4(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new ww({publicKey:t,secretKey:r})}get publicKey(){return new ct(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Dm=Object.freeze({CreateLookupTable:{index:0,layout:N([F("instruction"),kI("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:N([F("instruction")])},ExtendLookupTable:{index:2,layout:N([F("instruction"),kI(),we(Cn(),Gt(F(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:N([F("instruction")])},CloseLookupTable:{index:4,layout:N([F("instruction")])}});class Cdt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Dm))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=As(Dm.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=As(Dm.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new ct(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(OQ.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class OQ{constructor(){}static createLookupTable(e){const[t,r]=ct.findProgramAddressSync([e.authority.toBuffer(),ya(BigInt(e.recentSlot),8)],this.programId),s=Dm.CreateLookupTable,i=Vn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:bc.programId,isSigner:!1,isWritable:!1}];return[new Ls({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Dm.FreezeLookupTable,r=Vn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ls({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Dm.ExtendLookupTable,r=Vn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:bc.programId,isSigner:!1,isWritable:!1}),new Ls({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Dm.DeactivateLookupTable,r=Vn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ls({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Dm.CloseLookupTable,r=Vn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Ls({programId:this.programId,keys:s,data:r})}}OQ.programId=new ct("AddressLookupTab1e1111111111111111111111111");class Mdt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(hh))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=As(hh.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=As(hh.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=As(hh.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=As(hh.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(LQ.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const hh=Object.freeze({RequestUnits:{index:0,layout:N([te("instruction"),F("units"),F("additionalFee")])},RequestHeapFrame:{index:1,layout:N([te("instruction"),F("bytes")])},SetComputeUnitLimit:{index:2,layout:N([te("instruction"),F("units")])},SetComputeUnitPrice:{index:3,layout:N([te("instruction"),kI("microLamports")])}});class LQ{constructor(){}static requestUnits(e){const t=hh.RequestUnits,r=Vn(t,e);return new Ls({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=hh.RequestHeapFrame,r=Vn(t,e);return new Ls({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=hh.SetComputeUnitLimit,r=Vn(t,e);return new Ls({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=hh.SetComputeUnitPrice,r=Vn(t,{microLamports:BigInt(e.microLamports)});return new Ls({keys:[],programId:this.programId,data:r})}}LQ.programId=new ct("ComputeBudget111111111111111111111111111111");const Qye=64,epe=32,tpe=64,rpe=N([te("numSignatures"),te("padding"),xe("signatureOffset"),xe("signatureInstructionIndex"),xe("publicKeyOffset"),xe("publicKeyInstructionIndex"),xe("messageDataOffset"),xe("messageDataSize"),xe("messageInstructionIndex")]);class Z6{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;rs(t.length===epe,`Public Key must be ${epe} bytes but received ${t.length} bytes`),rs(s.length===tpe,`Signature must be ${tpe} bytes but received ${s.length} bytes`);const o=rpe.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return rpe.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new Ls({keys:[],programId:Z6.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;rs(t.length===Qye,`Private key must be ${Qye} bytes but received ${t.length} bytes`);try{const i=ww.fromSecretKey(t),o=i.publicKey.toBytes(),a=EQ(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Z6.programId=new ct("Ed25519SigVerify111111111111111111111111111");const zdt=(n,e)=>{const t=V6.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};V6.utils.isValidPrivateKey;const $dt=V6.getPublicKey,npe=32,PU=20,spe=64,Ddt=11,EU=N([te("numSignatures"),xe("signatureOffset"),te("signatureInstructionIndex"),xe("ethAddressOffset"),te("ethAddressInstructionIndex"),xe("messageDataOffset"),xe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class Iw{constructor(){}static publicKeyToEthAddress(e){rs(e.length===spe,`Public key must be ${spe} bytes but received ${e.length} bytes`);try{return V.Buffer.from(Lye(hn(e))).slice(-PU)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return Iw.createInstructionWithEthAddress({ethAddress:Iw.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,rs(a.length===PU,`Address must be ${PU} bytes but received ${a.length} bytes`);const c=1+Ddt,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(EU.span+r.length);return EU.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:hn(s),ethAddress:hn(a),recoveryId:i},h),h.fill(hn(r),EU.span),new Ls({keys:[],programId:Iw.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;rs(t.length===npe,`Private key must be ${npe} bytes but received ${t.length} bytes`);try{const i=hn(t),o=$dt(i,!1).slice(1),a=V.Buffer.from(Lye(hn(r))),[c,u]=zdt(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Iw.programId=new ct("KeccakSecp256k11111111111111111111111111111");var $Te;const DTe=new ct("StakeConfig11111111111111111111111111111111");class OTe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class t8{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}$Te=t8;t8.default=new $Te(0,0,ct.default);class Odt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Xa))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=As(Xa.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new OTe(new ct(t.staker),new ct(t.withdrawer)),lockup:new t8(r.unixTimestamp,r.epoch,new ct(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),As(Xa.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=As(Xa.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ct(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=As(Xa.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new ct(i),newAuthorizedPubkey:new ct(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=As(Xa.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),As(Xa.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=As(Xa.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),As(Xa.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(J6.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Xa=Object.freeze({Initialize:{index:0,layout:N([F("instruction"),Lut(),Kut()])},Authorize:{index:1,layout:N([F("instruction"),Cn("newAuthorized"),F("stakeAuthorizationType")])},Delegate:{index:2,layout:N([F("instruction")])},Split:{index:3,layout:N([F("instruction"),Ee("lamports")])},Withdraw:{index:4,layout:N([F("instruction"),Ee("lamports")])},Deactivate:{index:5,layout:N([F("instruction")])},Merge:{index:7,layout:N([F("instruction")])},AuthorizeWithSeed:{index:8,layout:N([F("instruction"),Cn("newAuthorized"),F("stakeAuthorizationType"),LS("authoritySeed"),Cn("authorityOwner")])}}),Ldt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class J6{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||t8.default,o=Xa.Initialize,a=Vn(o,{authorized:{staker:hn(r.staker.toBuffer()),withdrawer:hn(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:hn(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SI,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Ls(c)}static createAccountWithSeed(e){const t=new ls;t.add(bc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new ls;t.add(bc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=Xa.Delegate,o=Vn(i);return new ls().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:jf,isSigner:!1,isWritable:!1},{pubkey:PL,isSigner:!1,isWritable:!1},{pubkey:DTe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=Xa.Authorize,c=Vn(a,{newAuthorized:hn(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:jf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new ls().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Xa.AuthorizeWithSeed,l=Vn(u,{newAuthorized:hn(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:hn(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:jf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new ls().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=Xa.Split,a=Vn(o,{lamports:i});return new Ls({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new ls;return r.add(bc.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new ls;return u.add(bc.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(bc.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=Xa.Merge,o=Vn(i);return new ls().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:jf,isSigner:!1,isWritable:!1},{pubkey:PL,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=Xa.Withdraw,c=Vn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:jf,isSigner:!1,isWritable:!1},{pubkey:PL,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new ls().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=Xa.Deactivate,i=Vn(s);return new ls().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:jf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}J6.programId=new ct("Stake11111111111111111111111111111111111111");J6.space=200;class LTe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class Kdt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(gh))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=As(gh.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new LTe(new ct(t.nodePubkey),new ct(t.authorizedVoter),new ct(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=As(gh.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ct(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=As(gh.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ct(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new ct(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=As(gh.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(DR.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const gh=Object.freeze({InitializeAccount:{index:0,layout:N([F("instruction"),Wut()])},Authorize:{index:1,layout:N([F("instruction"),Cn("newAuthorized"),F("voteAuthorizationType")])},Withdraw:{index:3,layout:N([F("instruction"),Ee("lamports")])},UpdateValidatorIdentity:{index:4,layout:N([F("instruction")])},AuthorizeWithSeed:{index:10,layout:N([F("instruction"),Nut()])}}),Wdt=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class DR{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=gh.InitializeAccount,o=Vn(i,{voteInit:{nodePubkey:hn(s.nodePubkey.toBuffer()),authorizedVoter:hn(s.authorizedVoter.toBuffer()),authorizedWithdrawer:hn(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SI,isSigner:!1,isWritable:!1},{pubkey:jf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Ls(a)}static createAccount(e){const t=new ls;return t.add(bc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=gh.Authorize,a=Vn(o,{newAuthorized:hn(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:jf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new ls().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=gh.AuthorizeWithSeed,u=Vn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:hn(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:hn(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:jf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new ls().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=gh.Withdraw,a=Vn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new ls().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return DR.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=gh.UpdateValidatorIdentity,o=Vn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new ls().add({keys:a,programId:this.programId,data:o})}}DR.programId=new ct("Vote111111111111111111111111111111111111111");DR.space=3762;const KTe=new ct("Va1idator1nfo111111111111111111111111111111"),Ndt=ze({name:Ze(),website:Ar(Ze()),details:Ar(Ze()),iconUrl:Ar(Ze()),keybaseUsername:Ar(Ze())});class KQ{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Fu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new ct(Uu(t,0,Dh)),a=fh(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(KTe)&&s[1].isSigner){const i=LS().decode(V.Buffer.from(t)),o=JSON.parse(i);return aTe(o,Ndt),new KQ(s[1].publicKey,o)}return null}}const Fdt=new ct("Vote111111111111111111111111111111111111111"),Udt=N([Cn("nodePubkey"),Cn("authorizedWithdrawer"),te("commission"),fe(),we(N([fe("slot"),F("confirmationCount")]),Gt(F(),-8),"votes"),te("rootSlotValid"),fe("rootSlot"),fe(),we(N([fe("epoch"),Cn("authorizedVoter")]),Gt(F(),-8),"authorizedVoters"),N([we(N([Cn("authorizedPubkey"),fe("epochOfLastAuthorizedSwitch"),fe("targetEpoch")]),32,"buf"),fe("idx"),te("isEmpty")],"priorVoters"),fe(),we(N([fe("epoch"),fe("credits"),fe("prevCredits")]),Gt(F(),-8),"epochCredits"),N([fe("slot"),fe("timestamp")],"lastTimestamp")]);class WQ{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Udt.decode(hn(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new WQ({nodePubkey:new ct(r.nodePubkey),authorizedWithdrawer:new ct(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(Vdt),priorVoters:qdt(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function Vdt({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new ct(n)}}function ipe({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new ct(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function qdt({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(ipe),...n.slice(0,e).map(ipe)]}const ope={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Hdt(n,e){const t=e===!1?"http":"https";if(!n)return ope[t].devnet;const r=ope[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function jdt(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new _z({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const Gdt=1e9;var Ydt=Object.freeze(Object.defineProperty({__proto__:null,Account:$ut,AddressLookupTableAccount:$j,AddressLookupTableInstruction:Cdt,AddressLookupTableProgram:OQ,Authorized:OTe,BLOCKHASH_CACHE_TIMEOUT_MS:_Te,BPF_LOADER_DEPRECATED_PROGRAM_ID:Dut,BPF_LOADER_PROGRAM_ID:rlt,BpfLoader:nlt,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:hh,ComputeBudgetInstruction:Mdt,ComputeBudgetProgram:LQ,Connection:Bdt,Ed25519Program:Z6,Enum:Mut,EpochSchedule:wTe,FeeCalculatorLayout:vTe,Keypair:ww,LAMPORTS_PER_SOL:Gdt,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Dm,Loader:Mk,Lockup:t8,MAX_SEED_LENGTH:pTe,Message:uf,MessageAccountKeys:Iz,MessageV0:Ck,NONCE_ACCOUNT_LENGTH:zj,NonceAccount:j6,PACKET_DATA_SIZE:Qp,PUBLIC_KEY_LENGTH:Dh,PublicKey:ct,SIGNATURE_LENGTH_IN_BYTES:wz,SOLANA_SCHEMA:AM,STAKE_CONFIG_ID:DTe,STAKE_INSTRUCTION_LAYOUTS:Xa,SYSTEM_INSTRUCTION_LAYOUTS:ni,SYSVAR_CLOCK_PUBKEY:jf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:Hut,SYSVAR_INSTRUCTIONS_PUBKEY:jut,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:_L,SYSVAR_RENT_PUBKEY:SI,SYSVAR_REWARDS_PUBKEY:Gut,SYSVAR_SLOT_HASHES_PUBKEY:Yut,SYSVAR_SLOT_HISTORY_PUBKEY:Zut,SYSVAR_STAKE_HISTORY_PUBKEY:PL,Secp256k1Program:Iw,SendTransactionError:_z,SolanaJSONRPCError:sr,SolanaJSONRPCErrorCode:Jut,StakeAuthorizationLayout:Ldt,StakeInstruction:Odt,StakeProgram:J6,Struct:xQ,SystemInstruction:elt,SystemProgram:bc,Transaction:ls,TransactionExpiredBlockheightExceededError:TQ,TransactionExpiredNonceInvalidError:jA,TransactionExpiredTimeoutError:RQ,TransactionInstruction:Ls,TransactionMessage:CQ,TransactionStatus:km,VALIDATOR_INFO_KEY:KTe,VERSION_PREFIX_MASK:q6,VOTE_PROGRAM_ID:Fdt,ValidatorInfo:KQ,VersionedMessage:BQ,VersionedTransaction:MQ,VoteAccount:WQ,VoteAuthorizationLayout:Wdt,VoteInit:LTe,VoteInstruction:Kdt,VoteProgram:DR,clusterApiUrl:Hdt,sendAndConfirmRawTransaction:jdt,sendAndConfirmTransaction:Mj},Symbol.toStringTag,{value:"Module"})),NQ=Wl(Ydt);(function(n){var e=K&&K.__decorate||function(d,y,h,m){var f=arguments.length,g=f<3?y:m===null?m=Object.getOwnPropertyDescriptor(y,h):m,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(d,y,h,m);else for(var S=d.length-1;S>=0;S--)(b=d[S])&&(g=(f<3?b(g):f>3?b(y,h,g):b(y,h))||g);return f>3&&g&&Object.defineProperty(y,h,g),g},t=K&&K.__metadata||function(d,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,y)},r=K&&K.__awaiter||function(d,y,h,m){function f(g){return g instanceof h?g:new h(function(b){b(g)})}return new(h||(h=Promise))(function(g,b){function S(w){try{I(m.next(w))}catch(A){b(A)}}function p(w){try{I(m.throw(w))}catch(A){b(A)}}function I(w){w.done?g(w.value):f(w.value).then(S,p)}I((m=m.apply(d,y||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.CargoPod=n.CARGO_POD_OFFSET=n.cargoPodDataEquals=void 0;const i=Nl,o=NQ,a=Kc,c=fr;function u(d,y){return d.version===y.version&&d.podBump===y.podBump&&d.openTokenAccounts===y.openTokenAccounts&&(0,c.arrayDeepEquals)(d.podSeeds,y.podSeeds,(h,m)=>h===m)&&d.statsDefinition.equals(y.statsDefinition)&&d.authority.equals(y.authority)&&d.seqId===y.seqId&&d.unupdatedTokenAccounts===y.unupdatedTokenAccounts}n.cargoPodDataEquals=u,n.CARGO_POD_OFFSET=8+1+32+32+1+32+1+2+1;let l=s=class{constructor(y,h,m){this._data=y,this._key=h,this._stats=m}get data(){return this._data}get key(){return this._key}get stats(){return this._stats||[]}static findAddress(y,h){return o.PublicKey.findProgramAddressSync([rt.Buffer.from("cargo_pod"),h],y.programId)}static initCargoPod(y,h,m,f){const g=this.findAddress(y,f);return b=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.initCargoPod(Array.from(f)).accountsStrict({authority:h.publicKey(),funder:b.publicKey(),cargoPod:g[0],statsDefinition:m,systemProgram:o.SystemProgram.programId}).instruction(),signers:[h,b]}]})}static addCargo(y,h,m,f,g,b,S,p,I){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.addCargo(I).accountsStrict({authority:h.publicKey(),signerOriginAccount:m.publicKey(),cargoPod:f,cargoType:g,statsDefinition:b,originTokenAccount:S,cargoTokenAccount:p,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[h,m]}]})}static legitimizeCargo(y,h,m,f,g,b,S){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.legitimizeCargo(S).accountsStrict({authority:h.publicKey(),cargoPod:m,cargoType:f,statsDefinition:g,cargoTokenAccount:b,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[h]}]})}static removeCargo(y,h,m,f,g,b,S,p){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.removeCargo(p).accountsStrict({authority:h.publicKey(),cargoPod:m,cargoType:f,statsDefinition:g,cargoTokenAccount:b,destinationTokenAccount:S,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[h]}]})}static consumeCargo(y,h,m,f,g,b,S,p){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.consumeCargo(p).accountsStrict({authority:h.publicKey(),cargoPod:m,cargoType:f,statsDefinition:g,cargoTokenAccount:b,tokenMint:S,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[h]}]})}static transferCargo(y,h,m,f,g,b,S,p,I,w){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.transferCargo(w).accountsStrict({originPodAuthority:h.publicKey(),destinationPodAuthority:m.publicKey(),originCargoPod:f,destinationCargoPod:g,cargoType:b,statsDefinition:S,originTokenAccount:p,destinationTokenAccount:I,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[h,m]}]})}static transferAuthority(y,h,m,f){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.transferAuthority().accountsStrict({originPodAuthority:h.publicKey(),newPodAuthority:m.publicKey(),cargoPod:f}).instruction(),signers:[h,m]}]})}static mintTo(y,h,m,f,g,b,S,p,I){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.mintTo(h).accountsStrict({authority:m.publicKey(),mintAuthority:f.publicKey(),statsDefinition:g,cargoPod:b,cargoType:S,cargoTokenAccount:p.publicKey(),tokenMint:f.publicKey(),tokenProgram:I}).instruction(),signers:[m,f]}]})}static updateCargoPod(y,h,m){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.updateCargoPod().accountsStrict({cargoPod:h,statsDefinition:m}).instruction(),signers:[]}]})}static updatePodTokenAccount(y,h,m,f,g,b){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.updatePodTokenAccount().accountsStrict({statsDefinition:h,cargoPod:m,oldCargoType:f,cargoType:g,cargoTokenAccount:b,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static closeTokenAccount(y){const{program:h,authority:m,cargoPod:f,tokenAccountToClose:g,cargoType:b,mint:S}=y;return p=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.closeTokenAccount().accountsStrict({funder:p.publicKey(),authority:m.publicKey(),cargoPod:f,cargoType:b,cargoTokenAccount:g,mint:S,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[m]}]})}static closeCargoPod(y,h,m){return f=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.closeCargoPod().accountsStrict({funder:f.publicKey(),authority:h.publicKey(),cargoPod:m,systemProgram:o.SystemProgram.programId}).instruction(),signers:[h]}]})}static decodeData(y,h){return(0,c.decodeAccountWithRemaining)(y,h,s,m=>Array((y.accountInfo.data.length-n.CARGO_POD_OFFSET)/8).fill(0).map((f,g)=>new a.BN(m.subarray(8*g).subarray(0,8),10,"le")))}};n.CargoPod=l,l.ACCOUNT_NAME="cargoPod",l.MIN_DATA_SIZE=n.CARGO_POD_OFFSET,n.CargoPod=l=s=e([(0,c.staticImplements)(),t("design:paramtypes",[Object,o.PublicKey,Array])],l)})(mQ);var FQ={};(function(n){var e=K&&K.__decorate||function(l,d,y,h){var m=arguments.length,f=m<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,y):h,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(l,d,y,h);else for(var b=l.length-1;b>=0;b--)(g=l[b])&&(f=(m<3?g(f):m>3?g(d,y,f):g(d,y))||f);return m>3&&f&&Object.defineProperty(d,y,f),f},t=K&&K.__metadata||function(l,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,d)},r=K&&K.__awaiter||function(l,d,y,h){function m(f){return f instanceof y?f:new y(function(g){g(f)})}return new(y||(y=Promise))(function(f,g){function b(I){try{p(h.next(I))}catch(w){g(w)}}function S(I){try{p(h.throw(I))}catch(w){g(w)}}function p(I){I.done?f(I.value):m(I.value).then(b,S)}p((h=h.apply(l,d||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.CargoType=n.CARGO_TYPE_OFFSET=n.cargoTypeDataEquals=void 0;const i=NQ,o=Kc,a=fr;function c(l,d){return l.version===d.version&&l.bump===d.bump&&l.statsCount===d.statsCount&&l.statsDefinition.equals(d.statsDefinition)&&l.mint.equals(d.mint)&&l.seqId===d.seqId}n.cargoTypeDataEquals=c,n.CARGO_TYPE_OFFSET=8+1+32+32+32+1+2+2;let u=s=class{constructor(d,y,h){this._data=d,this._key=y,this._stats=h}get data(){return this._data}get key(){return this._key}get stats(){return this._stats||[]}static findAddress(d,y,h,m){const f=new ArrayBuffer(2),g=new DataView(f);g.setUint16(0,m,!0);const b=new Uint8Array(g.buffer);return i.PublicKey.findProgramAddressSync([rt.Buffer.from("cargo_type"),b,y.toBuffer(),h.toBuffer()],d.programId)}static initCargoType({program:d,managerKey:y,profile:h,statsDefinition:m,mint:f,input:g,statsDefinitionSeqId:b}){const S=this.findAddress(d,m,f,b);return p=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.initCargoType(g).accountsStrict({funder:p.publicKey(),cargoType:S[0],statsDefinition:m,mint:f,systemProgram:i.SystemProgram.programId,key:y.publicKey(),profile:h}).instruction(),signers:[y,p]}]})}static initCargoTypeFromOldCargoType({program:d,managerKey:y,profile:h,statsDefinition:m,oldCargoType:f,mint:g,input:b}){const[S]=this.findAddress(d,m,g.publicKey(),f.data.seqId+1);return p=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.initCargoTypeFromOldCargoType(b).accountsStrict({key:y.publicKey(),profile:h,funder:p.publicKey(),statsDefinition:m,oldCargoType:f.key,cargoType:S,systemProgram:i.SystemProgram.programId}).instruction(),signers:[y]}]})}static initCargoTypeForNextSeqId({program:d,managerKey:y,profile:h,statsDefinition:m,typeMint:f,input:g}){const[b]=this.findAddress(d,m.key,f,m.data.seqId+1);return S=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.initCargoTypeForNextSeqId(g).accountsStrict({key:y.publicKey(),profile:h,funder:S.publicKey(),mint:f,statsDefinition:m.key,cargoType:b,systemProgram:i.SystemProgram.programId}).instruction(),signers:[y]}]})}static decodeData(d,y){return(0,a.decodeAccountWithRemaining)(d,y,s,h=>Array((d.accountInfo.data.length-n.CARGO_TYPE_OFFSET)/8).fill(0).map((m,f)=>new o.BN(h.subarray(8*f).subarray(0,8),10,"le")))}};n.CargoType=u,u.ACCOUNT_NAME="cargoType",u.MIN_DATA_SIZE=n.CARGO_TYPE_OFFSET,n.CargoType=u=s=e([(0,a.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey,Array])],u)})(FQ);var WTe={},Ez={};Object.defineProperty(Ez,"__esModule",{value:!0});Ez.IDL=void 0;Ez.IDL={version:"0.1.0",name:"cargo",docs:["The `cargo` program"],instructions:[{name:"addCargo",docs:["Adds cargo to a [`CargoPod`](state::CargoPod).","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"signerOriginAccount",isMut:!1,isSigner:!0,docs:["Signer for Cargo Token Transfer"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"originTokenAccount",isMut:!0,isSigner:!1,docs:["The Origin Token Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"closeCargoPod",docs:["Closes the [`CargoPod`](state::CargoPod) if it has no open token accounts.","Requires the authority to sign."],accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The account to return the rent"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The authority for the pod account"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system Program"]}],args:[]},{name:"closeTokenAccount",docs:["Closes and burns any excess tokens in a given token account within a [`CargoPod`](state::CargoPod).","Requires the authority to sign."],accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The account to return the rent"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The authority for [CargoPod] account"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account","If the token account belongs to a registered Cargo Type then this account must be a valid Cargo Type","However, to allow closing token account that are not valid Cargo this is an unchecked account"]},{name:"mint",isMut:!0,isSigner:!1,docs:["The Token Mint"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Token Program"]}],args:[]},{name:"consumeCargo",docs:["Consumes cargo from a [`CargoPod`](state::CargoPod), burning the amount.","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["Token Mint"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"initCargoPod",docs:["Inits a new [`CargoPod`](state::CargoPod) account for the given [`CargoStatsDefinition`](state::CargoStatsDefinition) and authority."],accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new cargo pod"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The authority for the new cargo pod"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition of tracked stats"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"podSeeds",type:{array:["u8",32]}}]},{name:"initCargoType",docs:["Inits a new [`CargoType`](state::CargoType) account for the given [`CargoStatsDefinition`](state::CargoStatsDefinition)."],accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`].","Is going to act as the authority for the new definition."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the cargo type"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint for the new cargo type"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition for the cargo type"]},{name:"cargoType",isMut:!0,isSigner:!1,docs:["The cargo type to init"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitCargoTypeInput"}}]},{name:"initCargoTypeForNextSeqId",docs:["Creates a new cargo type for the next `seq_id`."],accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`].","Is going to act as the authority for the new definition."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the cargo type"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint for the new cargo type"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition for the cargo type"]},{name:"cargoType",isMut:!0,isSigner:!1,docs:["The cargo type to init"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitCargoTypeInput"}}]},{name:"initCargoTypeFromOldCargoType",docs:["Creates a new cargo type for the next `seq_id` from a given cargo type."],accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`].","Is going to act as the authority for the new definition."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the cargo type"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition for the cargo type"]},{name:"oldCargoType",isMut:!1,isSigner:!1,docs:["The old Cargo Type Account"]},{name:"cargoType",isMut:!0,isSigner:!1,docs:["The cargo type to init"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitCargoTypeFromOldCargoTypeInput"}}]},{name:"initDefinition",docs:["Inits a [`CargoStatsDefinition`](state::CargoStatsDefinition) account."],accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`](Profile).","Is going to act as the authority for the new definition."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new definition"]},{name:"statsDefinition",isMut:!0,isSigner:!0,docs:["The new definition"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitDefinitionInput"}}]},{name:"legitimizeCargo",docs:["Legitimizes cargo in a [`CargoPod`](state::CargoPod) that was added outside of [`add_cargo`] or other cargo ix.","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"mintTo",docs:["Mints tokens directly to a [`CargoPod`](state::CargoPod).","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the [`CargoPod`] Account"]},{name:"mintAuthority",isMut:!1,isSigner:!0,docs:["The mint Authority"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [`CargoPod`] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The [`CargoType`] Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The Cargo token mint"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"mintAmount",type:"u64"}]},{name:"removeCargo",docs:["Removes cargo from a [`CargoPod`](state::CargoPod) to a given token account.","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["The Destination Token Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["Cargo Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"transferAuthority",docs:["Transfers authority of a [`CargoPod`](state::CargoPod) to a new authority.","Requires both authorities to sign."],accounts:[{name:"originPodAuthority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"newPodAuthority",isMut:!1,isSigner:!0,docs:["New authority for the cargo pod"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]}],args:[]},{name:"transferCargo",docs:["Transfers cargo between [`CargoPod`](state::CargoPod)s.","Requires both authorities to sign."],accounts:[{name:"originPodAuthority",isMut:!1,isSigner:!0,docs:["Authority for the origin cargo pod"]},{name:"destinationPodAuthority",isMut:!1,isSigner:!0,docs:["Authority for the destination cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"originCargoPod",isMut:!0,isSigner:!1,docs:["The Origin [CargoPod] Account"]},{name:"destinationCargoPod",isMut:!0,isSigner:!1,docs:["The Destination [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"originTokenAccount",isMut:!0,isSigner:!1,docs:["The Origin Token Account"]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["The Destination Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"updateCargoPod",docs:["Updates a [`CargoPod`](state::CargoPod) account to have the newest sequence id from the [`CargoDefinition`](state::CargoStatsDefinition).","This is the first step to update a [`CargoPod`](state::CargoPod) to a new [`CargoStatsDefinition`](state::CargoStatsDefinition).","Permissionless function."],accounts:[{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod to update"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition of tracked stats"]}],args:[]},{name:"updateDefinition",docs:["Updates a [`CargoStatsDefinition`](state::CargoStatsDefinition) account.","Will advance the `seq_id` unless `rollback` is set to true."],accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`](Profile).","Is going to act as the authority for the new definition."]},{name:"statsDefinition",isMut:!0,isSigner:!1,docs:["The [CargoStatsDefinition]"]}],args:[{name:"input",type:{defined:"UpdateDefinitionInput"}}]},{name:"updatePodTokenAccount",docs:["Updates a [`CargoPod`](state::CargoPod)'s token account to have the same sequence id as the [`CargoPod`](state::CargoPod).","This must be called after [`update_cargo_pod`].","Permissionless function."],accounts:[{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"oldCargoType",isMut:!1,isSigner:!1,docs:["The previous version(`seq_id`) Cargo Type"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The updated Cargo Type Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[]}],accounts:[{name:"cargoPod",docs:["A pod that can store any number of resources and tracks stats given a definition."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"statsDefinition",docs:["The definition of tracked stats."],type:"publicKey"},{name:"authority",docs:["The authority for this pod."],type:"publicKey"},{name:"openTokenAccounts",docs:["The number of open token accounts in this pod."],type:"u8"},{name:"podSeeds",docs:["The seeds of the signer for this pod."],type:{array:["u8",32]}},{name:"podBump",docs:["The bump of the signer for this pod."],type:"u8"},{name:"seqId",docs:["The sequence id for the definition"],type:"u16"},{name:"unupdatedTokenAccounts",docs:["The number of unupdated token accounts in this pod. If this is greater than zero means the pod is frozen and only can withdraw cargo but not deposit."],type:"u8"}]}},{name:"cargoStatsDefinition",docs:["A definition of cargo stats."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"authority",docs:["The authority for this definition."],type:"publicKey"},{name:"defaultCargoType",docs:["The default cargo type. System program (all 0s) if none."],type:"publicKey"},{name:"statsCount",docs:["The number of stats in this definition."],type:"u16"},{name:"seqId",docs:["The sequence id for the definition"],type:"u16"}]}},{name:"cargoType",docs:["The stats for a given cargo type (token mint)."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"statsDefinition",docs:["The definition this follows"],type:"publicKey"},{name:"mint",docs:["The mint the cargo type is for"],type:"publicKey"},{name:"creator",docs:["TODO: remove this"],type:"publicKey"},{name:"bump",docs:["The bump for this account"],type:"u8"},{name:"statsCount",docs:["The number of stats in this definition."],type:"u16"},{name:"seqId",docs:["The sequence id for the definition"],type:"u16"}]}}],types:[{name:"InitCargoTypeFromOldCargoTypeInput",docs:["Struct for data input for this IX"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the cargo permissions profile"],type:"u16"},{name:"newValues",docs:["vector with values for all stats tracked by the definition"],type:{option:{vec:"u64"}}}]}},{name:"InitCargoTypeInput",docs:["Struct for data input for this IX"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the cargo permissions profile"],type:"u16"},{name:"values",docs:["vector with values for all stats tracked by the definition"],type:{vec:"u64"}}]}},{name:"InitDefinitionInput",docs:["Struct for data input for [`InitDefinition`]"],type:{kind:"struct",fields:[{name:"cargoStats",docs:["the count of stats the definition has"],type:"u16"}]}},{name:"UpdateDefinitionInput",docs:["Struct for data input for this IX"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the cargo permissions profile"],type:"u16"},{name:"rollback",docs:["flag that if present means we need to decrease the definition seq_id"],type:{option:"bool"}}]}}],errors:[{code:6e3,name:"StatOutOfBounds",msg:"A given stat was out of bounds"},{code:6001,name:"TooManyStats",msg:"There are too many stats"},{code:6002,name:"InvalidRentFunder",msg:"Rent funder was not owned by the system program or this program"},{code:6003,name:"TooFewStats",msg:"Popped a stat when there are no stats left"},{code:6004,name:"MissingSystemProgram",msg:"System program is missing when needed"},{code:6005,name:"InvalidCargoStat",msg:"Cargo stat data was invalid"},{code:6006,name:"InvalidCargoStatSize",msg:"Cargo stat size data was invalid"},{code:6007,name:"InvalidCargoType",msg:"Cargo type is invalid"},{code:6008,name:"WrongNumberOfDefinitions",msg:"Wrong number of definitions provided to init a cargo type"},{code:6009,name:"InvalidValueForStat",msg:"Invalid value provided for stat"},{code:6010,name:"NumericOverflow",msg:"Math overflow"},{code:6011,name:"AuthorityMismatch",msg:"Authority mismatch"},{code:6012,name:"StatsDefinitionMismatch",msg:"Stats definition mismatch"},{code:6013,name:"MintMismatch",msg:"Mint mismatch"},{code:6014,name:"OwnerMismatch",msg:"Owner mismatch"},{code:6015,name:"InvalidDelegation",msg:"Delegated amount is invalid"},{code:6016,name:"FrozenPod",msg:"The pod is frozen"},{code:6017,name:"UnupdatedCargoPodAccount",msg:"Unupdated CargoPod Account"},{code:6018,name:"InvalidSeqId",msg:"Invalid seq_id"},{code:6019,name:"UnupdatedTokenAccount",msg:"Unupdated token account"},{code:6020,name:"OpenTokenAccounts",msg:"Cargo Pod has token accounts open"},{code:6021,name:"NonZeroDelegation",msg:"Non Zero Delegated Amount"},{code:6022,name:"InvalidPreviousType",msg:"Invalid previous cargo_type account"},{code:6023,name:"InsufficientCargoAmount",msg:"Insufficient cargo amount"},{code:6024,name:"InsufficientTokenAmount",msg:"Insufficient token amount"},{code:6025,name:"PodTokenAccountAlreadyUpdated",msg:"Pod Token Account Already Updated"}]};var t0={},Zdt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Jdt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},ape=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Kj;Object.defineProperty(t0,"__esModule",{value:!0});t0.CargoStatsDefinition=t0.cargoStatsDefinitionAccountDataEquals=void 0;const NTe=NQ,FTe=fr;function Xdt(n,e){return n.version===e.version&&n.authority.equals(e.authority)&&n.defaultCargoType.equals(e.defaultCargoType)&&n.statsCount===e.statsCount&&n.seqId===e.seqId}t0.cargoStatsDefinitionAccountDataEquals=Xdt;let xz=Kj=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static initDefinition({program:e,profile:t,statsDefinition:r,input:s}){return i=>ape(this,void 0,void 0,function*(){return[{instruction:yield e.methods.initDefinition(s).accountsStrict({profile:t,funder:i.publicKey(),statsDefinition:r.publicKey(),systemProgram:NTe.SystemProgram.programId}).instruction(),signers:[i,r]}]})}static updateDefinition({program:e,managerKey:t,profile:r,statsDefinition:s,input:i}){return()=>ape(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateDefinition(i).accountsStrict({statsDefinition:s,key:t.publicKey(),profile:r}).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,FTe.decodeAccount)(e,t,Kj)}};t0.CargoStatsDefinition=xz;xz.ACCOUNT_NAME="cargoStatsDefinition";xz.MIN_DATA_SIZE=8+1+32+32+2+2;t0.CargoStatsDefinition=xz=Kj=Zdt([(0,FTe.staticImplements)(),Jdt("design:paramtypes",[Object,NTe.PublicKey])],xz);(function(n){var e=K&&K.__decorate||function(d,y,h,m){var f=arguments.length,g=f<3?y:m===null?m=Object.getOwnPropertyDescriptor(y,h):m,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(d,y,h,m);else for(var S=d.length-1;S>=0;S--)(b=d[S])&&(g=(f<3?b(g):f>3?b(y,h,g):b(y,h))||g);return f>3&&g&&Object.defineProperty(y,h,g),g},t=K&&K.__metadata||function(d,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,y)};Object.defineProperty(n,"__esModule",{value:!0}),n.CargoProgram=n.cargoErrorMap=n.CARGO_IDL=void 0;const r=Kc,s=fr,i=mQ,o=FQ,a=Ez,c=t0;var u=Ez;Object.defineProperty(n,"CARGO_IDL",{enumerable:!0,get:function(){return u.IDL}}),n.cargoErrorMap=(0,s.generateErrorMap)(a.IDL);let l=class extends s.ListenProgram{constructor(y){super(y,{cargoPod:i.CargoPod,cargoType:o.CargoType,cargoStatsDefinition:c.CargoStatsDefinition})}static buildProgram(y,h,m){return new r.Program(a.IDL,y,h,m)}};n.CargoProgram=l,n.CargoProgram=l=e([(0,s.staticImplements)(),t("design:paramtypes",[Object])],l)})(WTe);var r8={},Qdt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},eft=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Jl;Object.defineProperty(r8,"__esModule",{value:!0});r8.CargoPermissions=void 0;const UTe=fr;let Wj=Jl=class{constructor(e,t,r){this.manageDefinition=e,this.createCargoType=t,this.manageCargoType=r}getPermissions(){const e=(0,UTe.fixedSizeArray)(8,0);return e[0]=(this.manageDefinition?1<<0:0)|(this.createCargoType?1<<1:0)|(this.manageCargoType?1<<2:0),e}static empty(){return new Jl(!1,!1,!1)}static all(){return new Jl(!0,!0,!0)}static manageDefinition(){return new Jl(!0,!1,!1)}static createCargoType(){return new Jl(!1,!0,!1)}static manageCargoType(){return new Jl(!1,!1,!0)}static definitionPermissions(){return Jl.manageDefinition()}static cargoTypePermissions(){return new Jl(!1,!0,!0)}static fromPermissions(e){return new Jl((e[0]&1<<0)!==0,(e[0]&1<<1)!==0,(e[0]&1<<2)!==0)}and(e){return new Jl(this.manageDefinition&&e.manageDefinition,this.createCargoType&&e.createCargoType,this.manageCargoType&&e.manageCargoType)}or(e){return new Jl(this.manageDefinition||e.manageDefinition,this.createCargoType||e.createCargoType,this.manageCargoType||e.manageCargoType)}eq(e){return this.manageDefinition===e.manageDefinition&&this.createCargoType===e.createCargoType&&this.manageCargoType===e.manageCargoType}contains(e){return this.and(e).eq(e)}};r8.CargoPermissions=Wj;r8.CargoPermissions=Wj=Jl=Qdt([(0,UTe.staticImplements)(),eft("design:paramtypes",[Boolean,Boolean,Boolean])],Wj);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(mQ,n),t(FQ,n),t(WTe,n),t(r8,n),t(t0,n)})(W6);var X6={},VTe={},Tz={};Object.defineProperty(Tz,"__esModule",{value:!0});Tz.IDL=void 0;Tz.IDL={version:"0.7.1",name:"profile_faction",instructions:[{name:"chooseFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key with auth permissions."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the transaction."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile to change faction for."]},{name:"faction",isMut:!0,isSigner:!1,docs:["The faction to change to."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"keyIndex",type:"u16"},{name:"faction",type:{defined:"Faction"}}]}],accounts:[{name:"profileFactionAccount",docs:["Stores a profile's enlisted faction on-chain."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The profile this faction enlistment is for."],type:"publicKey"},{name:"faction",docs:["The faction of the profile."],type:"u8"},{name:"bump",docs:["The bump for this account."],type:"u8"}]}}],types:[{name:"Faction",docs:["A faction that a player can belong to."],type:{kind:"enum",variants:[{name:"Unaligned"},{name:"MUD"},{name:"ONI"},{name:"Ustur"}]}}]};var Oh={};function P4(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function tft(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function n8(n,...e){if(!tft(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function rft(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");P4(n.outputLen),P4(n.blockLen)}function vI(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function qTe(n,e){n8(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const xU=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nft=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),TU=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),xf=(n,e)=>n<<32-e|n>>>e,cpe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,sft=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function upe(n){for(let e=0;e<n.length;e++)n[e]=sft(n[e])}function ift(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function Q6(n){return typeof n=="string"&&(n=ift(n)),n8(n),n}function oft(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];n8(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class UQ{clone(){return this._cloneInto()}}function VQ(n){const e=r=>n().update(Q6(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function HTe(n=32){if(xU&&typeof xU.getRandomValues=="function")return xU.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function aft(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const cft=(n,e,t)=>n&e^~n&t,uft=(n,e,t)=>n&e^n&t^e&t;class jTe extends UQ{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=TU(this.buffer)}update(e){vI(this);const{view:t,buffer:r,blockLen:s}=this;e=Q6(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=TU(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vI(this),qTe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;aft(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=TU(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const v3=BigInt(2**32-1),Nj=BigInt(32);function GTe(n,e=!1){return e?{h:Number(n&v3),l:Number(n>>Nj&v3)}:{h:Number(n>>Nj&v3)|0,l:Number(n&v3)|0}}function YTe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=GTe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const lft=(n,e)=>BigInt(n>>>0)<<Nj|BigInt(e>>>0),dft=(n,e,t)=>n>>>t,fft=(n,e,t)=>n<<32-t|e>>>t,hft=(n,e,t)=>n>>>t|e<<32-t,gft=(n,e,t)=>n<<32-t|e>>>t,mft=(n,e,t)=>n<<64-t|e>>>t-32,yft=(n,e,t)=>n>>>t-32|e<<64-t,pft=(n,e)=>e,bft=(n,e)=>n,ZTe=(n,e,t)=>n<<t|e>>>32-t,JTe=(n,e,t)=>e<<t|n>>>32-t,XTe=(n,e,t)=>e<<t-32|n>>>64-t,QTe=(n,e,t)=>n<<t-32|e>>>64-t;function Sft(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const kft=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),vft=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,Aft=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),wft=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,Ift=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),_ft=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,Pft={fromBig:GTe,split:YTe,toBig:lft,shrSH:dft,shrSL:fft,rotrSH:hft,rotrSL:gft,rotrBH:mft,rotrBL:yft,rotr32H:pft,rotr32L:bft,rotlSH:ZTe,rotlSL:JTe,rotlBH:XTe,rotlBL:QTe,add:Sft,add3L:kft,add3H:vft,add4L:Aft,add4H:wft,add5H:_ft,add5L:Ift};var Hr=Pft;const[Eft,xft]=(()=>Hr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),jy=new Uint32Array(80),Gy=new Uint32Array(80);class Tft extends jTe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)jy[p]=e.getUint32(t),Gy[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=jy[p-15]|0,w=Gy[p-15]|0,A=Hr.rotrSH(I,w,1)^Hr.rotrSH(I,w,8)^Hr.shrSH(I,w,7),P=Hr.rotrSL(I,w,1)^Hr.rotrSL(I,w,8)^Hr.shrSL(I,w,7),E=jy[p-2]|0,M=Gy[p-2]|0,x=Hr.rotrSH(E,M,19)^Hr.rotrBH(E,M,61)^Hr.shrSH(E,M,6),R=Hr.rotrSL(E,M,19)^Hr.rotrBL(E,M,61)^Hr.shrSL(E,M,6),$=Hr.add4L(P,R,Gy[p-7],Gy[p-16]),z=Hr.add4H($,A,x,jy[p-7],jy[p-16]);jy[p]=z|0,Gy[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Hr.rotrSH(d,y,14)^Hr.rotrSH(d,y,18)^Hr.rotrBH(d,y,41),w=Hr.rotrSL(d,y,14)^Hr.rotrSL(d,y,18)^Hr.rotrBL(d,y,41),A=d&h^~d&f,P=y&m^~y&g,E=Hr.add5L(S,w,P,xft[p],Gy[p]),M=Hr.add5H(E,b,I,A,Eft[p],jy[p]),x=E|0,R=Hr.rotrSH(r,s,28)^Hr.rotrBH(r,s,34)^Hr.rotrBH(r,s,39),$=Hr.rotrSL(r,s,28)^Hr.rotrBL(r,s,34)^Hr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Hr.add(u|0,l|0,M|0,x|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Hr.add3L(x,$,T);r=Hr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Hr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Hr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Hr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Hr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Hr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Hr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Hr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Hr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){jy.fill(0),Gy.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Rft=VQ(()=>new Tft);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qQ=BigInt(0),e5=BigInt(1),Bft=BigInt(2);function zk(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function s8(n){if(!zk(n))throw new Error("Uint8Array expected")}function Jm(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const Cft=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function $k(n){s8(n);let e="";for(let t=0;t<n.length;t++)e+=Cft[n[t]];return e}function eRe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function HQ(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Tg={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function lpe(n){if(n>=Tg._0&&n<=Tg._9)return n-Tg._0;if(n>=Tg._A&&n<=Tg._F)return n-(Tg._A-10);if(n>=Tg._a&&n<=Tg._f)return n-(Tg._a-10)}function AI(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=lpe(n.charCodeAt(i)),a=lpe(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function QS(n){return HQ($k(n))}function _w(n){return s8(n),HQ($k(Uint8Array.from(n).reverse()))}function wI(n,e){return AI(n.toString(16).padStart(e*2,"0"))}function Rz(n,e){return wI(n,e).reverse()}function Mft(n){return AI(eRe(n))}function Ra(n,e,t){let r;if(typeof e=="string")try{r=AI(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(zk(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function Dk(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];s8(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function zft(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function $ft(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const RU=n=>typeof n=="bigint"&&qQ<=n;function t5(n,e,t){return RU(n)&&RU(e)&&RU(t)&&e<=n&&n<t}function ad(n,e,t,r){if(!t5(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function Dft(n){let e;for(e=0;n>qQ;n>>=e5,e+=1);return e}function Oft(n,e){return n>>BigInt(e)&e5}function Lft(n,e,t){return n|(t?e5:qQ)<<BigInt(e)}const jQ=n=>(Bft<<BigInt(n-1))-e5,BU=n=>new Uint8Array(n),dpe=n=>Uint8Array.from(n);function tRe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=BU(n),s=BU(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=BU())=>{s=a(dpe([0]),d),r=a(),d.length!==0&&(s=a(dpe([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return Dk(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const Kft={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||zk(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function OR(n,e,t={}){const r=(s,i,o)=>{const a=Kft[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const Wft=()=>{throw new Error("not implemented")};function Bz(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var Nft=Object.freeze(Object.defineProperty({__proto__:null,isBytes:zk,abytes:s8,abool:Jm,bytesToHex:$k,numberToHexUnpadded:eRe,hexToNumber:HQ,hexToBytes:AI,bytesToNumberBE:QS,bytesToNumberLE:_w,numberToBytesBE:wI,numberToBytesLE:Rz,numberToVarBytesBE:Mft,ensureBytes:Ra,concatBytes:Dk,equalBytes:zft,utf8ToBytes:$ft,inRange:t5,aInRange:ad,bitLen:Dft,bitGet:Oft,bitSet:Lft,bitMask:jQ,createHmacDrbg:tRe,validateObject:OR,notImplemented:Wft,memoized:Bz},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rc=BigInt(0),ao=BigInt(1),hS=BigInt(2),Fft=BigInt(3),Fj=BigInt(4),fpe=BigInt(5),hpe=BigInt(8);BigInt(9);BigInt(16);function Oi(n,e){const t=n%e;return t>=Rc?t:e+t}function Uft(n,e,t){if(t<=Rc||e<Rc)throw new Error("Expected power/modulo > 0");if(t===ao)return Rc;let r=ao;for(;e>Rc;)e&ao&&(r=r*n%t),n=n*n%t,e>>=ao;return r}function xo(n,e,t){let r=n;for(;e-- >Rc;)r*=r,r%=t;return r}function Uj(n,e){if(n===Rc||e<=Rc)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=Oi(n,e),r=e,s=Rc,i=ao;for(;t!==Rc;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==ao)throw new Error("invert: does not exist");return Oi(s,e)}function Vft(n){const e=(n-ao)/hS;let t,r,s;for(t=n-ao,r=0;t%hS===Rc;t/=hS,r++);for(s=hS;s<n&&Uft(s,e,n)!==n-ao;s++);if(r===1){const o=(n+ao)/Fj;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+ao)/hS;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,ao<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function qft(n){if(n%Fj===Fft){const e=(n+ao)/Fj;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%hpe===fpe){const e=(n-fpe)/hpe;return function(r,s){const i=r.mul(s,hS),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,hS),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return Vft(n)}const Hft=(n,e)=>(Oi(n,e)&ao)===ao,jft=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Gft(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=jft.reduce((r,s)=>(r[s]="function",r),e);return OR(n,t)}function Yft(n,e,t){if(t<Rc)throw new Error("Expected power > 0");if(t===Rc)return n.ONE;if(t===ao)return e;let r=n.ONE,s=e;for(;t>Rc;)t&ao&&(r=n.mul(r,s)),s=n.sqr(s),t>>=ao;return r}function Zft(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function rRe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function nRe(n,e,t=!1,r={}){if(n<=Rc)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=rRe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=qft(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:jQ(s),ZERO:Rc,ONE:ao,create:c=>Oi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Rc<=c&&c<n},is0:c=>c===Rc,isOdd:c=>(c&ao)===ao,neg:c=>Oi(-c,n),eql:(c,u)=>c===u,sqr:c=>Oi(c*c,n),add:(c,u)=>Oi(c+u,n),sub:(c,u)=>Oi(c-u,n),mul:(c,u)=>Oi(c*u,n),pow:(c,u)=>Yft(a,c,u),div:(c,u)=>Oi(c*Uj(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Uj(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>Zft(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?Rz(c,i):wI(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?_w(c):QS(c)}});return Object.freeze(a)}function sRe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function iRe(n){const e=sRe(n);return e+Math.ceil(e/2)}function Jft(n,e,t=!1){const r=n.length,s=sRe(e),i=iRe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?QS(n):_w(n),a=Oi(o,e-ao)+ao;return t?Rz(a,s):wI(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xft=BigInt(0),CU=BigInt(1),MU=new WeakMap,gpe=new WeakMap;function oRe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>Xft;)o&CU&&(a=a.add(c)),c=c.double(),o>>=CU;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=CU);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=gpe.get(i)||1;let u=MU.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&MU.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),gpe.set(i,o),MU.delete(i)}}}function GQ(n){return Gft(n.Fp),OR(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...rRe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _d=BigInt(0),Iu=BigInt(1),A3=BigInt(2),Qft=BigInt(8),eht={zip215:!0};function tht(n){const e=GQ(n);return OR(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function rht(n){const e=tht(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=A3<<BigInt(a*8)-Iu,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:_d}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,_)=>{if(Jm("phflag",_),k.length||_)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){ad("coordinate "+v,k,_d,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=Bz((v,k)=>{const{ex:_,ey:B,ez:C}=v,O=v.is0();k==null&&(k=O?Qft:t.inv(C));const D=l(_*k),W=l(B*k),L=l(C*k);if(O)return{x:_d,y:Iu};if(L!==Iu)throw new Error("invZ was invalid");return{x:D,y:W}}),b=Bz(v=>{const{a:k,d:_}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:B,ey:C,ez:O,et:D}=v,W=l(B*B),L=l(C*C),U=l(O*O),q=l(U*U),J=l(W*k),Q=l(U*l(J+L)),j=l(q+l(_*l(W*L)));if(Q!==j)throw new Error("bad point: equation left != right (1)");const X=l(B*C),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,_,B,C){this.ex=k,this.ey=_,this.ez=B,this.et=C,m("x",k),m("y",_),m("z",B),m("t",C),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x:_,y:B}=k||{};return m("x",_),m("y",B),new S(_,B,Iu,l(_*B))}static normalizeZ(k){const _=t.invertBatch(k.map(B=>B.ez));return k.map((B,C)=>B.toAffine(_[C])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:_,ey:B,ez:C}=this,{ex:O,ey:D,ez:W}=k,L=l(_*W),U=l(O*C),q=l(B*W),J=l(D*C);return L===U&&q===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:_,ey:B,ez:C}=this,O=l(_*_),D=l(B*B),W=l(A3*l(C*C)),L=l(k*O),U=_+B,q=l(l(U*U)-O-D),J=L+D,Q=J-W,j=L-D,X=l(q*Q),re=l(J*j),se=l(q*j),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:_,d:B}=e,{ex:C,ey:O,ez:D,et:W}=this,{ex:L,ey:U,ez:q,et:J}=k;if(_===BigInt(-1)){const $t=l((O-C)*(U+L)),_t=l((O+C)*(U-L)),tt=l(_t-$t);if(tt===_d)return this.double();const Ve=l(D*A3*J),qt=l(W*A3*q),lr=qt+Ve,ur=_t+$t,hr=qt-Ve,Rr=l(lr*tt),ms=l(ur*hr),kn=l(lr*hr),ys=l(tt*ur);return new S(Rr,ms,ys,kn)}const Q=l(C*L),j=l(O*U),X=l(W*B*J),re=l(D*q),se=l((C+O)*(L+U)-Q-j),ee=re-X,ne=re+X,_e=l(j-_*Q),Pe=l(se*ee),We=l(ne*_e),Ne=l(se*_e),Yt=l(ee*ne);return new S(Pe,We,Yt,Ne)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const _=k;ad("scalar",_,Iu,r);const{p:B,f:C}=this.wNAF(_);return S.normalizeZ([B,C])[0]}multiplyUnsafe(k){const _=k;return ad("scalar",_,_d,r),_===_d?I:this.equals(I)||_===Iu?this:this.equals(p)?this.wNAF(_).p:w.unsafeLadder(this,_)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Iu?this:this.multiplyUnsafe(k)}static fromHex(k,_=!1){const{d:B,a:C}=e,O=t.BYTES;k=Ra("pointHex",k,O),Jm("zip215",_);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=_w(D),U=_?u:t.ORDER;ad("pointHex.y",L,_d,U);const q=l(L*L),J=l(q-Iu),Q=l(B*q-C);let{isValid:j,value:X}=d(J,Q);if(!j)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Iu)===Iu,se=(W&128)!==0;if(!_&&X===_d&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:_}=this.toAffine(),B=Rz(_,t.BYTES);return B[B.length-1]|=k&Iu?128:0,B}toHex(){return $k(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Iu,l(e.Gx*e.Gy)),S.ZERO=new S(_d,Iu,Iu,_d);const{BASE:p,ZERO:I}=S,w=oRe(S,a*8);function A(v){return Oi(v,r)}function P(v){return A(_w(v))}function E(v){const k=a;v=Ra("private key",v,k);const _=Ra("hashed private key",i(v),2*k),B=y(_.slice(0,k)),C=_.slice(k,2*k),O=P(B),D=p.multiply(O),W=D.toRawBytes();return{head:B,prefix:C,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function x(v=new Uint8Array,...k){const _=Dk(...k);return P(i(h(_,Ra("context",v),!!s)))}function R(v,k,_={}){v=Ra("message",v),s&&(v=s(v));const{prefix:B,scalar:C,pointBytes:O}=E(k),D=x(_.context,B,v),W=p.multiply(D).toRawBytes(),L=x(_.context,W,O,v),U=A(D+L*C);ad("signature.s",U,_d,r);const q=Dk(W,Rz(U,t.BYTES));return Ra("result",q,a*2)}const $=eht;function z(v,k,_,B=$){const{context:C,zip215:O}=B,D=t.BYTES;v=Ra("signature",v,2*D),k=Ra("message",k),O!==void 0&&Jm("zip215",O),s&&(k=s(k));const W=_w(v.slice(D,2*D));let L,U,q;try{L=S.fromHex(_,O),U=S.fromHex(v.slice(0,D),O),q=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=x(C,U.toRawBytes(),L.toRawBytes(),k);return U.add(L.multiplyUnsafe(J)).subtract(q).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const YQ=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),mpe=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const nht=BigInt(1),ype=BigInt(2);BigInt(3);const sht=BigInt(5),iht=BigInt(8);function oht(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=YQ,a=n*n%i*n%i,c=xo(a,ype,i)*a%i,u=xo(c,nht,i)*n%i,l=xo(u,sht,i)*u%i,d=xo(l,e,i)*l%i,y=xo(d,t,i)*d%i,h=xo(y,r,i)*y%i,m=xo(h,s,i)*h%i,f=xo(m,s,i)*h%i,g=xo(f,e,i)*l%i;return{pow_p_5_8:xo(g,ype,i)*n%i,b2:a}}function aht(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function cht(n,e){const t=YQ,r=Oi(e*e*e,t),s=Oi(r*r*e,t),i=oht(n*s).pow_p_5_8;let o=Oi(n*r*i,t);const a=Oi(e*o*o,t),c=o,u=Oi(o*mpe,t),l=a===n,d=a===Oi(-n,t),y=a===Oi(-n*mpe,t);return l&&(o=c),(d||y)&&(o=u),Hft(o,t)&&(o=Oi(-o,t)),{isValid:l||d,value:o}}const uht=(()=>nRe(YQ,void 0,!0))(),lht=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:uht,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:iht,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Rft,randomBytes:HTe,adjustScalarBytes:aht,uvRatio:cht}))(),LR=(()=>rht(lht))(),dht=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Yy=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Zy=new Uint32Array(64);class fht extends jTe{constructor(){super(64,32,8,!1),this.A=Yy[0]|0,this.B=Yy[1]|0,this.C=Yy[2]|0,this.D=Yy[3]|0,this.E=Yy[4]|0,this.F=Yy[5]|0,this.G=Yy[6]|0,this.H=Yy[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Zy[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=Zy[d-15],h=Zy[d-2],m=xf(y,7)^xf(y,18)^y>>>3,f=xf(h,17)^xf(h,19)^h>>>10;Zy[d]=f+Zy[d-7]+m+Zy[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=xf(a,6)^xf(a,11)^xf(a,25),h=l+y+cft(a,c,u)+dht[d]+Zy[d]|0,f=(xf(r,2)^xf(r,13)^xf(r,22))+uft(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Zy.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Vj=VQ(()=>new fht);class hht extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function ght(n){return i8(n)&&typeof n[Symbol.iterator]=="function"}function i8(n){return typeof n=="object"&&n!=null}function E4(n){return i8(n)&&!Array.isArray(n)}function lf(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function mht(n){const{done:e,value:t}=n.next();return e?void 0:t}function yht(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${lf(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*ppe(n,e,t,r){ght(n)||(n=[n]);for(const s of n){const i=yht(s,e,t,r);i&&(yield i)}}function*ZQ(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=ZQ(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):i8(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class fg{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return ppe(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return ppe(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return aRe(e,this,t)}create(e,t){return vt(e,this,t)}is(e){return cRe(e,this)}mask(e,t){return pht(e,this,t)}validate(e,t={}){return o8(e,this,t)}}function aRe(n,e,t){const r=o8(n,e,{message:t});if(r[0])throw r[0]}function vt(n,e,t){const r=o8(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function pht(n,e,t){const r=o8(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function cRe(n,e){return!o8(n,e)[0]}function o8(n,e,t={}){const r=ZQ(n,e,t),s=mht(r);if(s[0])return[new hht(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function Pv(n,e){return new fg({type:n,schema:null,validator:e})}function bht(){return Pv("any",()=>!0)}function Bt(n){return new fg({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${lf(e)}`}})}function Yh(){return Pv("boolean",n=>typeof n=="boolean")}function JQ(n){return Pv("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${lf(e)}`)}function Ji(n){const e=lf(n),t=typeof n;return new fg({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${lf(r)}`}})}function Sht(){return Pv("never",()=>!1)}function Nt(n){return new fg({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function be(){return Pv("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${lf(n)}`)}function wr(n){return new fg({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function uRe(n,e){return new fg({type:"record",schema:null,*entries(t){if(i8(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return E4(t)||`Expected an object, but received: ${lf(t)}`},coercer(t){return E4(t)?{...t}:t}})}function Je(){return Pv("string",n=>typeof n=="string"||`Expected a string, but received: ${lf(n)}`)}function XQ(n){const e=Sht();return new fg({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${lf(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function $e(n){const e=Object.keys(n);return new fg({type:"type",schema:n,*entries(t){if(i8(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return E4(t)||`Expected an object, but received: ${lf(t)}`},coercer(t){return E4(t)?{...t}:t}})}function lu(n){const e=n.map(t=>t.type).join(" | ");return new fg({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=ZQ(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${lf(t)}`,...s]}})}function KR(){return Pv("unknown",()=>!0)}function a8(n,e,t){return new fg({...n,coercer:(r,s)=>cRe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const lRe=[],dRe=[],fRe=[],kht=BigInt(0),uB=BigInt(1),vht=BigInt(2),Aht=BigInt(7),wht=BigInt(256),Iht=BigInt(113);for(let n=0,e=uB,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],lRe.push(2*(5*r+t)),dRe.push((n+1)*(n+2)/2%64);let s=kht;for(let i=0;i<7;i++)e=(e<<uB^(e>>Aht)*Iht)%wht,e&vht&&(s^=uB<<(uB<<BigInt(i))-uB);fRe.push(s)}const[_ht,Pht]=YTe(fRe,!0),bpe=(n,e,t)=>t>32?XTe(n,e,t):ZTe(n,e,t),Spe=(n,e,t)=>t>32?QTe(n,e,t):JTe(n,e,t);function Eht(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=bpe(u,l,1)^t[a],y=Spe(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=dRe[o],c=bpe(s,i,a),u=Spe(s,i,a),l=lRe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=_ht[r],n[1]^=Pht[r]}t.fill(0)}class QQ extends UQ{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,P4(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=nft(this.state)}keccak(){cpe||upe(this.state32),Eht(this.state32,this.rounds),cpe||upe(this.state32),this.posOut=0,this.pos=0}update(e){vI(this);const{blockLen:t,state:r}=this;e=Q6(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){vI(this,!1),n8(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return P4(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(qTe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new QQ(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const xht=(n,e,t)=>VQ(()=>new QQ(e,n,t)),kpe=xht(1,136,256/8);class hRe extends UQ{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,rft(e);const r=Q6(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return vI(this),this.iHash.update(e),this}digestInto(e){vI(this),n8(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const gRe=(n,e,t)=>new hRe(n,e).update(t).digest();gRe.create=(n,e)=>new hRe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function vpe(n){n.lowS!==void 0&&Jm("lowS",n.lowS),n.prehash!==void 0&&Jm("prehash",n.prehash)}function Tht(n){const e=GQ(n);OR(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Rht,hexToBytes:Bht}=Nft,KS={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=KS;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Rht(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=KS,t=typeof n=="string"?Bht(n):n;s8(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=KS._parseInt(t.subarray(2)),{d:o,l:a}=KS._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Dp=BigInt(0),Ua=BigInt(1);BigInt(2);const Ape=BigInt(3);BigInt(4);function Cht(n){const e=Tht(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return Dk(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return t5(m,Ua,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(zk(m)&&(m=$k(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:QS(Ra("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=Oi(p,S)),ad("private key",p,Ua,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=Bz((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=Bz(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(Ra("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),P=t.eql(t.mul(b,w),t.mul(I,S));return A&&P}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,Ape),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,P=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),x=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),P=t.mul(S,I),P=t.add(P,P),w=t.mul(f,P),A=t.mul(b,x),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),P=t.mul(b,P),x=t.mul(f,x),R=t.sub(E,x),R=t.mul(f,R),R=t.add(R,P),P=t.add(E,E),E=t.add(P,E),E=t.add(E,x),E=t.mul(E,R),A=t.add(A,E),x=t.mul(p,I),x=t.add(x,x),E=t.mul(x,R),w=t.sub(w,E),P=t.mul(x,M),P=t.add(P,P),P=t.add(P,P),new d(w,A,P)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,P=t.ZERO,E=t.ZERO;const M=e.a,x=t.mul(e.b,Ape);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(x,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),P=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(x,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),P=t.add(P,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,P,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){ad("scalar",f,Dp,e.n);const g=d.ZERO;if(f===Dp)return g;if(f===Ua)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,P=g,E=this;for(;p>Dp||w>Dp;)p&Ua&&(A=A.add(E)),w&Ua&&(P=P.add(E)),E=E.double(),p>>=Ua,w>>=Ua;return S&&(A=A.negate()),I&&(P=P.negate()),P=new d(t.mul(P.px,b.beta),P.py,P.pz),A.add(P)}multiply(f){const{endo:g,n:b}=e;ad("scalar",f,Ua,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:P}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:x,f:R}=this.wNAF(P);E=h.constTimeNegate(I,E),x=h.constTimeNegate(A,x),x=new d(t.mul(x.px,g.beta),x.py,x.pz),S=E.add(x),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===Dp||A===Ua||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===Ua)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===Ua?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Jm("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Jm("isCompressed",f),$k(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=oRe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function Mht(n){const e=GQ(n);return OR(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function zht(n){const e=Mht(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return Oi(T,r)}function a(T){return Uj(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=Cht({...e,toBytes(T,v,k){const _=v.toAffine(),B=t.toBytes(_.x),C=Dk;return Jm("isCompressed",k),k?C(Uint8Array.from([v.hasEvenY()?2:3]),B):C(Uint8Array.from([4]),B,t.toBytes(_.y))},fromBytes(T){const v=T.length,k=T[0],_=T.subarray(1);if(v===s&&(k===2||k===3)){const B=QS(_);if(!t5(B,Ua,t.ORDER))throw new Error("Point is not on curve");const C=l(B);let O;try{O=t.sqrt(C)}catch(L){const U=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+U)}const D=(O&Ua)===Ua;return(k&1)===1!==D&&(O=t.neg(O)),{x:B,y:O}}else if(v===i&&k===4){const B=t.fromBytes(_.subarray(0,t.BYTES)),C=t.fromBytes(_.subarray(t.BYTES,2*t.BYTES));return{x:B,y:C}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>$k(wI(T,e.nByteLength));function h(T){const v=r>>Ua;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>QS(T.slice(v,k));class g{constructor(v,k,_){this.r=v,this.s=k,this.recovery=_,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=Ra("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:_}=KS.toSig(Ra("DER",v));return new g(k,_)}assertValidity(){ad("r",this.r,Ua,r),ad("s",this.s,Ua,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:_,recovery:B}=this,C=A(Ra("msgHash",v));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const O=B===2||B===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(B&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),U=o(-C*L),q=o(_*L),J=c.BASE.multiplyAndAddUnsafe(W,U,q);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return AI(this.toDERHex())}toDERHex(){return KS.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return AI(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=iRe(e.n);return Jft(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=zk(T),k=typeof T=="string",_=(v||k)&&T.length;return v?_===s||_===i:k?_===2*s||_===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=QS(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},P=jQ(e.nBitLength);function E(T){return ad(`num < 2^${e.nBitLength}`,T,Dp,P),wI(T,e.nByteLength)}function M(T,v,k=x){if(["recovered","canonical"].some(j=>j in k))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:B}=e;let{lowS:C,prehash:O,extraEntropy:D}=k;C==null&&(C=!0),T=Ra("msgHash",T),vpe(k),O&&(T=Ra("prehashed msgHash",_(T)));const W=A(T),L=u(v),U=[E(L),E(W)];if(D!=null&&D!==!1){const j=D===!0?B(t.BYTES):D;U.push(Ra("extraEntropy",j))}const q=Dk(...U),J=W;function Q(j){const X=w(j);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Dp)return;const ne=o(re*o(J+ee*L));if(ne===Dp)return;let _e=(se.x===ee?0:2)|Number(se.y&Ua),Pe=ne;return C&&h(ne)&&(Pe=m(ne),_e^=1),new g(ee,Pe,_e)}return{seed:q,k2sig:Q}}const x={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=x){const{seed:_,k2sig:B}=M(T,v,k),C=e;return tRe(C.hash.outputLen,C.nByteLength,C.hmac)(_,B)}c.BASE._setWindowSize(8);function z(T,v,k,_=R){var se;const B=T;if(v=Ra("msgHash",v),k=Ra("publicKey",k),"strict"in _)throw new Error("options.strict was renamed to lowS");vpe(_);const{lowS:C,prehash:O}=_;let D,W;try{if(typeof B=="string"||zk(B))try{D=g.fromDER(B)}catch(ee){if(!(ee instanceof KS.Err))throw ee;D=g.fromCompact(B)}else if(typeof B=="object"&&typeof B.r=="bigint"&&typeof B.s=="bigint"){const{r:ee,s:ne}=B;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(C&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:U}=D,q=A(v),J=a(U),Q=o(q*J),j=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,j))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $ht(n){return{hash:n,hmac:(e,...t)=>gRe(n,e,oft(...t)),randomBytes:HTe}}function Dht(n,e){const t=r=>zht({...n,...$ht(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mRe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),wpe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Oht=BigInt(1),qj=BigInt(2),Ipe=(n,e)=>(n+e/qj)/e;function Lht(n){const e=mRe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=xo(l,t,e)*l%e,y=xo(d,t,e)*l%e,h=xo(y,qj,e)*u%e,m=xo(h,s,e)*h%e,f=xo(m,i,e)*m%e,g=xo(f,a,e)*f%e,b=xo(g,c,e)*g%e,S=xo(b,a,e)*f%e,p=xo(S,t,e)*l%e,I=xo(p,o,e)*m%e,w=xo(I,r,e)*u%e,A=xo(w,qj,e);if(!Hj.eql(Hj.sqr(A),n))throw new Error("Cannot find square root");return A}const Hj=nRe(mRe,void 0,void 0,{sqrt:Lht}),r5=Dht({a:BigInt(0),b:BigInt(7),Fp:Hj,n:wpe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=wpe,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Oht*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=Ipe(i*n,e),c=Ipe(-r*n,e);let u=Oi(n-a*t-c*s,e),l=Oi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},Vj);BigInt(0);r5.ProjectivePoint;const Kht=LR.utils.randomPrivateKey,_pe=()=>{const n=LR.utils.randomPrivateKey(),e=x4(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},x4=LR.getPublicKey;function Ppe(n){try{return LR.ExtendedPoint.fromHex(n),!0}catch{return!1}}const eee=(n,e)=>LR.sign(n,e.slice(0,32)),Wht=LR.verify,gn=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class tee{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(tg(wM,this))}static decode(e){return rg(wM,this,e)}static decodeUnchecked(e){return ng(wM,this,e)}}class Nht extends tee{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const wM=new Map;var yRe;const pRe=32,Lh=32;function Fht(n){return n._bn!==void 0}let Epe=1;class ut extends tee{constructor(e){if(super({}),this._bn=void 0,Fht(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ae.decode(e);if(t.length!=Lh)throw new Error("Invalid public key input");this._bn=new Ni(t)}else this._bn=new Ni(e);if(this._bn.byteLength()>Lh)throw new Error("Invalid public key input")}}static unique(){const e=new ut(Epe);return Epe+=1,new ut(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ae.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Lh)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=Vj(s);return new ut(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>pRe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,gn(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=Vj(r);if(Ppe(s))throw new Error("Invalid seeds, address must fall off the curve");return new ut(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new ut(e);return Ppe(t.toBytes())}}yRe=ut;ut.default=new yRe("11111111111111111111111111111111");wM.set(ut,{kind:"struct",fields:[["_bn","u256"]]});class Uht{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=gn(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=gn(Kht()),this._publicKey=gn(x4(this._secretKey))}get publicKey(){return new ut(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const Vht=new ut("BPFLoader1111111111111111111111111111111111"),eb=1280-40-8,n5=127,Cz=64;class ree extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ree.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class nee extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(nee.prototype,"name",{value:"TransactionExpiredTimeoutError"});class GA extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(GA.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Mz{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const Mn=(n="publicKey")=>ie(32,n),qht=(n="signature")=>ie(64,n),WS=(n="string")=>{const e=N([F("length"),F("lengthPadding"),ie(Gt(F(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>F().span+F().span+V.Buffer.from(i,"utf8").length,s},Hht=(n="authorized")=>N([Mn("staker"),Mn("withdrawer")],n),jht=(n="lockup")=>N([Ee("unixTimestamp"),Ee("epoch"),Mn("custodian")],n),Ght=(n="voteInit")=>N([Mn("nodePubkey"),Mn("authorizedVoter"),Mn("authorizedWithdrawer"),te("commission")],n),Yht=(n="voteAuthorizeWithSeedArgs")=>N([F("voteAuthorizationType"),Mn("currentAuthorityDerivedKeyOwnerPubkey"),WS("currentAuthorityDerivedKeySeed"),Mn("newAuthorized")],n);function bRe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return bRe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function Vu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Il(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function ns(n,e){if(!n)throw new Error(e||"Assertion failed")}class s5{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new s5(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];ns(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{ns(t.length>0,"Expected at least one writable signer key");const[c]=t[0];ns(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new ut(c)),...r.map(([c])=>new ut(c)),...s.map(([c])=>new ut(c)),...i.map(([c])=>new ut(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new ut(i),c=e.findIndex(u=>u.equals(a));c>=0&&(ns(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const SRe="Reached end of buffer unexpectedly";function mh(n){if(n.length===0)throw new Error(SRe);return n.shift()}function qu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(SRe);return n.splice(...e)}class df{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ut(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ae.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Mz(this.staticAccountKeys)}static compile(e){const t=s5.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new Mz(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ae.encode(a.data)}));return new df({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Il(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ae.decode(d.data));let f=[];Il(f,y.length);let g=[];return Il(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Il(s,r.length);let i=V.Buffer.alloc(eb);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=N([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=N([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(Mn("key"),e,"keys"),Mn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>gn(d.toBytes())),recentBlockhash:Ae.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=mh(t);if(r!==(r&n5))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=mh(t),i=mh(t),o=Vu(t);let a=[];for(let y=0;y<o;y++){const h=qu(t,0,Lh);a.push(new ut(V.Buffer.from(h)))}const c=qu(t,0,Lh),u=Vu(t);let l=[];for(let y=0;y<u;y++){const h=mh(t),m=Vu(t),f=qu(t,0,m),g=Vu(t),b=qu(t,0,g),S=Ae.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ae.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new df(d)}}class Ok{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Mz(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=s5.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new Mz(a,s).compileInstructions(e.instructions);return new Ok({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Il(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Il(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Il(i,this.addressTableLookups.length);const o=N([te("prefix"),N([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(Mn(),this.staticAccountKeys.length,"staticAccountKeys"),Mn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(eb),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ae.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(eb);for(const r of this.compiledInstructions){const s=Array();Il(s,r.accountKeyIndexes.length);const i=Array();Il(i,r.data.length),e+=N([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(eb);for(const r of this.addressTableLookups){const s=Array();Il(s,r.writableIndexes.length);const i=Array();Il(i,r.readonlyIndexes.length),e+=N([Mn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=mh(t),s=r&n5;ns(r!==s,"Expected versioned message but received legacy message");const i=s;ns(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:mh(t),numReadonlySignedAccounts:mh(t),numReadonlyUnsignedAccounts:mh(t)},a=[],c=Vu(t);for(let m=0;m<c;m++)a.push(new ut(qu(t,0,Lh)));const u=Ae.encode(qu(t,0,Lh)),l=Vu(t),d=[];for(let m=0;m<l;m++){const f=mh(t),g=Vu(t),b=qu(t,0,g),S=Vu(t),p=new Uint8Array(qu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=Vu(t),h=[];for(let m=0;m<y;m++){const f=new ut(qu(t,0,Lh)),g=Vu(t),b=qu(t,0,g),S=Vu(t),p=qu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new Ok({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const see={deserializeMessageVersion(n){const e=n[0],t=e&n5;return t===e?"legacy":t},deserialize:n=>{const e=see.deserializeMessageVersion(n);if(e==="legacy")return df.from(n);if(e===0)return Ok.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let vm=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const Zht=V.Buffer.alloc(Cz).fill(0);class Ks{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class ds{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Ks(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new ut(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ae.encode(g)}});return m.forEach(f=>{ns(f.programIdIndex>=0),f.accounts.forEach(g=>ns(g>=0))}),new df({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=eee(r,s.secretKey);this._addSignature(s.publicKey,gn(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){ns(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):Wht(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Il(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return ns(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(ns(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),ns(i.length<=eb,`Transaction too large: ${i.length} > ${eb}`),i}get keys(){return ns(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return ns(this.instructions.length===1),this.instructions[0].programId}get data(){return ns(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Vu(t);let s=[];for(let i=0;i<r;i++){const o=qu(t,0,Cz);s.push(Ae.encode(V.Buffer.from(o)))}return ds.populate(df.from(t),s)}static populate(e,t=[]){const r=new ds;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ae.encode(Zht)?null:Ae.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Ks({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ae.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class iee{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;ns(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;ns(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new Ks({programId:g,data:gn(m.data),keys:f}))}return new iee({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return df.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Ok.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class oee{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)ns(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(Cz));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Il(t,this.signatures.length);const r=N([ie(t.length,"encodedSignaturesLength"),we(qht(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=Vu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(qu(t,0,Cz)));const i=see.deserialize(new Uint8Array(t));return new oee(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));ns(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=eee(t,s.secretKey)}}addSignature(e,t){ns(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));ns(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const Jht=160,Xht=64,Qht=Jht/Xht,kRe=1e3/Qht,Gf=new ut("SysvarC1ock11111111111111111111111111111111"),egt=new ut("SysvarEpochSchedu1e111111111111111111111111"),tgt=new ut("Sysvar1nstructions1111111111111111111111111"),EL=new ut("SysvarRecentB1ockHashes11111111111111111111"),II=new ut("SysvarRent111111111111111111111111111111111"),rgt=new ut("SysvarRewards111111111111111111111111111111"),ngt=new ut("SysvarS1otHashes111111111111111111111111111"),sgt=new ut("SysvarS1otHistory11111111111111111111111111"),xL=new ut("SysvarStakeHistory1111111111111111111111111");class zz extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const igt={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class ir extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function jj(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new zz({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function gS(n){return new Promise(e=>setTimeout(e,n))}function qn(n,e){const t=n.layout.span>=0?n.layout.span:bRe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function ws(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const vRe=fe("lamportsPerSignature"),ARe=N([F("version"),F("state"),Mn("authorizedPubkey"),Mn("nonce"),N([vRe],"feeCalculator")]),Gj=ARe.span;class i5{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=ARe.decode(gn(e),0);return new i5({authorizedPubkey:new ut(t.authorizedPubkey),nonce:new ut(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const ogt=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},agt=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=ogt(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return sg(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=ya(o,n);return r(u,a,c)},i},_I=agt(8);class cgt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(si))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=ws(si.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new ut(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=ws(si.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=ws(si.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new ut(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=ws(si.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=ws(si.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ut(t),seed:r,space:s,programId:new ut(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=ws(si.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ut(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=ws(si.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ut(t),seed:r,programId:new ut(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=ws(si.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ut(t),seed:r,lamports:s,space:i,programId:new ut(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=ws(si.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ut(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ws(si.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ws(si.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=ws(si.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ut(t)}}static checkProgramId(e){if(!e.equals(Sc.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const si=Object.freeze({Create:{index:0,layout:N([F("instruction"),Ee("lamports"),Ee("space"),Mn("programId")])},Assign:{index:1,layout:N([F("instruction"),Mn("programId")])},Transfer:{index:2,layout:N([F("instruction"),_I("lamports")])},CreateWithSeed:{index:3,layout:N([F("instruction"),Mn("base"),WS("seed"),Ee("lamports"),Ee("space"),Mn("programId")])},AdvanceNonceAccount:{index:4,layout:N([F("instruction")])},WithdrawNonceAccount:{index:5,layout:N([F("instruction"),Ee("lamports")])},InitializeNonceAccount:{index:6,layout:N([F("instruction"),Mn("authorized")])},AuthorizeNonceAccount:{index:7,layout:N([F("instruction"),Mn("authorized")])},Allocate:{index:8,layout:N([F("instruction"),Ee("space")])},AllocateWithSeed:{index:9,layout:N([F("instruction"),Mn("base"),WS("seed"),Ee("space"),Mn("programId")])},AssignWithSeed:{index:10,layout:N([F("instruction"),Mn("base"),WS("seed"),Mn("programId")])},TransferWithSeed:{index:11,layout:N([F("instruction"),_I("lamports"),WS("seed"),Mn("programId")])},UpgradeNonceAccount:{index:12,layout:N([F("instruction")])}});class Sc{constructor(){}static createAccount(e){const t=si.Create,r=qn(t,{lamports:e.lamports,space:e.space,programId:gn(e.programId.toBuffer())});return new Ks({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=si.TransferWithSeed;t=qn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:gn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=si.Transfer;t=qn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ks({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=si.AssignWithSeed;t=qn(s,{base:gn(e.basePubkey.toBuffer()),seed:e.seed,programId:gn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=si.Assign;t=qn(s,{programId:gn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ks({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=si.CreateWithSeed,r=qn(t,{base:gn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:gn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ks({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new ds;"basePubkey"in e&&"seed"in e?t.add(Sc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Gj,programId:this.programId})):t.add(Sc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Gj,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=si.InitializeNonceAccount,r=qn(t,{authorized:gn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:EL,isSigner:!1,isWritable:!1},{pubkey:II,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Ks(s)}static nonceAdvance(e){const t=si.AdvanceNonceAccount,r=qn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:EL,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Ks(s)}static nonceWithdraw(e){const t=si.WithdrawNonceAccount,r=qn(t,{lamports:e.lamports});return new Ks({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:EL,isSigner:!1,isWritable:!1},{pubkey:II,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=si.AuthorizeNonceAccount,r=qn(t,{authorized:gn(e.newAuthorizedPubkey.toBuffer())});return new Ks({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=si.AllocateWithSeed;t=qn(s,{base:gn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:gn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=si.Allocate;t=qn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ks({keys:r,programId:this.programId,data:t})}}Sc.programId=new ut("11111111111111111111111111111111");const ugt=eb-300;class Lk{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Lk.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new ds,h.add(Sc.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new ds,h.add(Sc.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new ds,h.add(Sc.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new ds().add(Sc.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await jj(e,h,[t,r],{commitment:"confirmed"})}const o=N([F("instruction"),F("offset"),F("bytesLength"),F("bytesLengthPadding"),we(te("byte"),Gt(F(),-8),"bytes")]),a=Lk.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new ds().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(jj(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await gS(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=N([F("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new ds().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:II,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(kRe/2)))}}return!0}}Lk.chunkSize=ugt;const lgt=new ut("BPFLoader2111111111111111111111111111111111");class dgt{static getMinNumSignatures(e){return Lk.getMinNumSignatures(e)}static load(e,t,r,s,i){return Lk.load(e,t,r,i,s)}}function fgt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zU,xpe;function hgt(){if(xpe)return zU;xpe=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return zU=function(r){var s=t(r,!1);if(s!==void 0)return""+s},zU}var ggt=hgt(),Tpe=fgt(ggt);const lB=32;function $U(n){let e=0;for(;n>1;)n/=2,e++;return e}function mgt(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class wRe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=$U(mgt(e+lB+1))-$U(lB)-1,r=this.getSlotsInEpoch(t),s=e-(r-lB);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*lB:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+$U(lB)):this.slotsPerEpoch}}var ygt=globalThis.fetch;class pgt extends ay{constructor(e,t,r){const s=i=>{const o=uy(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function bgt(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Rpe=56;class Yj{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=bgt(Sgt,e),r=e.length-Rpe;ns(r>=0,"lookup table is invalid"),ns(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=N([we(Mn(),s,"addresses")]).decode(e.slice(Rpe));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new ut(t.authority[0]):void 0,addresses:i.map(o=>new ut(o))}}}const Sgt={index:1,layout:N([F("typeIndex"),_I("deactivationSlot"),fe("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(Mn(),Gt(te(),-1),"authority")])},kgt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function vgt(n){const e=n.match(kgt);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const po=a8(JQ(ut),Je(),n=>new ut(n)),IRe=XQ([Je(),Ji("base64")]),aee=a8(JQ(V.Buffer),IRe,n=>V.Buffer.from(n[0],"base64")),_Re=30*1e3;function Agt(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Gs(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function Bpe(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function PRe(n){return lu([$e({jsonrpc:Ji("2.0"),id:Je(),result:n}),$e({jsonrpc:Ji("2.0"),id:Je(),error:$e({code:KR(),message:Je(),data:wr(bht())})})])}const wgt=PRe(KR());function nn(n){return a8(PRe(n),wgt,e=>"error"in e?e:{...e,result:vt(e.result,n)})}function Wo(n){return nn($e({context:$e({slot:be()}),value:n}))}function o5(n){return $e({context:$e({slot:be()}),value:n})}function DU(n,e){return n===0?new Ok({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new ut(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ae.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new df(e)}const Igt=$e({foundation:be(),foundationTerm:be(),initial:be(),taper:be(),terminal:be()}),_gt=nn(Bt(Nt($e({epoch:be(),effectiveSlot:be(),amount:be(),postBalance:be(),commission:wr(Nt(be()))})))),Pgt=Bt($e({slot:be(),prioritizationFee:be()})),Egt=$e({total:be(),validator:be(),foundation:be(),epoch:be()}),xgt=$e({epoch:be(),slotIndex:be(),slotsInEpoch:be(),absoluteSlot:be(),blockHeight:wr(be()),transactionCount:wr(be())}),Tgt=$e({slotsPerEpoch:be(),leaderScheduleSlotOffset:be(),warmup:Yh(),firstNormalEpoch:be(),firstNormalSlot:be()}),Rgt=uRe(Je(),Bt(be())),Ev=Nt(lu([$e({}),Je()])),Bgt=$e({err:Ev}),Cgt=Ji("receivedSignature"),Mgt=$e({"solana-core":Je(),"feature-set":wr(be())}),zgt=$e({program:Je(),programId:po,parsed:KR()}),$gt=$e({programId:po,accounts:Bt(po),data:Je()}),Cpe=Wo($e({err:Nt(lu([$e({}),Je()])),logs:Nt(Bt(Je())),accounts:wr(Nt(Bt(Nt($e({executable:Yh(),owner:Je(),lamports:be(),data:Bt(Je()),rentEpoch:wr(be())}))))),unitsConsumed:wr(be()),returnData:wr(Nt($e({programId:Je(),data:XQ([Je(),Ji("base64")])}))),innerInstructions:wr(Nt(Bt($e({index:be(),instructions:Bt(lu([zgt,$gt]))}))))})),Dgt=Wo($e({byIdentity:uRe(Je(),Bt(be())),range:$e({firstSlot:be(),lastSlot:be()})}));function Ogt(n,e,t,r,s,i){const o=t||ygt;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new cy(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Lmt)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await gS(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function Lgt(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function Kgt(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const Wgt=nn(Igt),Ngt=nn(Egt),Fgt=nn(Pgt),Ugt=nn(xgt),Vgt=nn(Tgt),qgt=nn(Rgt),Hgt=nn(be()),jgt=Wo($e({total:be(),circulating:be(),nonCirculating:be(),nonCirculatingAccounts:Bt(po)})),Zj=$e({amount:Je(),uiAmount:Nt(be()),decimals:be(),uiAmountString:wr(Je())}),Ggt=Wo(Bt($e({address:po,amount:Je(),uiAmount:Nt(be()),decimals:be(),uiAmountString:wr(Je())}))),Ygt=Wo(Bt($e({pubkey:po,account:$e({executable:Yh(),owner:po,lamports:be(),data:aee,rentEpoch:be()})}))),Jj=$e({program:Je(),parsed:KR(),space:be()}),Zgt=Wo(Bt($e({pubkey:po,account:$e({executable:Yh(),owner:po,lamports:be(),data:Jj,rentEpoch:be()})}))),Jgt=Wo(Bt($e({lamports:be(),address:po}))),$z=$e({executable:Yh(),owner:po,lamports:be(),data:aee,rentEpoch:be()}),Xgt=$e({pubkey:po,account:$z}),Qgt=a8(lu([JQ(V.Buffer),Jj]),lu([IRe,Jj]),n=>Array.isArray(n)?vt(n,aee):n),Xj=$e({executable:Yh(),owner:po,lamports:be(),data:Qgt,rentEpoch:be()}),emt=$e({pubkey:po,account:Xj}),tmt=$e({state:lu([Ji("active"),Ji("inactive"),Ji("activating"),Ji("deactivating")]),active:be(),inactive:be()}),rmt=nn(Bt($e({signature:Je(),slot:be(),err:Ev,memo:Nt(Je()),blockTime:wr(Nt(be()))}))),nmt=nn(Bt($e({signature:Je(),slot:be(),err:Ev,memo:Nt(Je()),blockTime:wr(Nt(be()))}))),smt=$e({subscription:be(),result:o5($z)}),imt=$e({pubkey:po,account:$z}),omt=$e({subscription:be(),result:o5(imt)}),amt=$e({parent:be(),slot:be(),root:be()}),cmt=$e({subscription:be(),result:amt}),umt=lu([$e({type:lu([Ji("firstShredReceived"),Ji("completed"),Ji("optimisticConfirmation"),Ji("root")]),slot:be(),timestamp:be()}),$e({type:Ji("createdBank"),parent:be(),slot:be(),timestamp:be()}),$e({type:Ji("frozen"),slot:be(),timestamp:be(),stats:$e({numTransactionEntries:be(),numSuccessfulTransactions:be(),numFailedTransactions:be(),maxTransactionsPerEntry:be()})}),$e({type:Ji("dead"),slot:be(),timestamp:be(),err:Je()})]),lmt=$e({subscription:be(),result:umt}),dmt=$e({subscription:be(),result:o5(lu([Bgt,Cgt]))}),fmt=$e({subscription:be(),result:be()}),hmt=$e({pubkey:Je(),gossip:Nt(Je()),tpu:Nt(Je()),rpc:Nt(Je()),version:Nt(Je())}),Mpe=$e({votePubkey:Je(),nodePubkey:Je(),activatedStake:be(),epochVoteAccount:Yh(),epochCredits:Bt(XQ([be(),be(),be()])),commission:be(),lastVote:be(),rootSlot:Nt(be())}),gmt=nn($e({current:Bt(Mpe),delinquent:Bt(Mpe)})),mmt=lu([Ji("processed"),Ji("confirmed"),Ji("finalized")]),ymt=$e({slot:be(),confirmations:Nt(be()),err:Ev,confirmationStatus:wr(mmt)}),pmt=Wo(Bt(Nt(ymt))),bmt=nn(be()),ERe=$e({accountKey:po,writableIndexes:Bt(be()),readonlyIndexes:Bt(be())}),cee=$e({signatures:Bt(Je()),message:$e({accountKeys:Bt(Je()),header:$e({numRequiredSignatures:be(),numReadonlySignedAccounts:be(),numReadonlyUnsignedAccounts:be()}),instructions:Bt($e({accounts:Bt(be()),data:Je(),programIdIndex:be()})),recentBlockhash:Je(),addressTableLookups:wr(Bt(ERe))})}),xRe=$e({pubkey:po,signer:Yh(),writable:Yh(),source:wr(lu([Ji("transaction"),Ji("lookupTable")]))}),TRe=$e({accountKeys:Bt(xRe),signatures:Bt(Je())}),RRe=$e({parsed:KR(),program:Je(),programId:po}),BRe=$e({accounts:Bt(po),data:Je(),programId:po}),Smt=lu([BRe,RRe]),kmt=lu([$e({parsed:KR(),program:Je(),programId:Je()}),$e({accounts:Bt(Je()),data:Je(),programId:Je()})]),CRe=a8(Smt,kmt,n=>"accounts"in n?vt(n,BRe):vt(n,RRe)),MRe=$e({signatures:Bt(Je()),message:$e({accountKeys:Bt(xRe),instructions:Bt(CRe),recentBlockhash:Je(),addressTableLookups:wr(Nt(Bt(ERe)))})}),T4=$e({accountIndex:be(),mint:Je(),owner:wr(Je()),programId:wr(Je()),uiTokenAmount:Zj}),zRe=$e({writable:Bt(po),readonly:Bt(po)}),a5=$e({err:Ev,fee:be(),innerInstructions:wr(Nt(Bt($e({index:be(),instructions:Bt($e({accounts:Bt(be()),data:Je(),programIdIndex:be()}))})))),preBalances:Bt(be()),postBalances:Bt(be()),logMessages:wr(Nt(Bt(Je()))),preTokenBalances:wr(Nt(Bt(T4))),postTokenBalances:wr(Nt(Bt(T4))),loadedAddresses:wr(zRe),computeUnitsConsumed:wr(be())}),uee=$e({err:Ev,fee:be(),innerInstructions:wr(Nt(Bt($e({index:be(),instructions:Bt(CRe)})))),preBalances:Bt(be()),postBalances:Bt(be()),logMessages:wr(Nt(Bt(Je()))),preTokenBalances:wr(Nt(Bt(T4))),postTokenBalances:wr(Nt(Bt(T4))),loadedAddresses:wr(zRe),computeUnitsConsumed:wr(be())}),WR=lu([Ji(0),Ji("legacy")]),xv=$e({pubkey:Je(),lamports:be(),postBalance:Nt(be()),rewardType:Nt(Je()),commission:wr(Nt(be()))}),vmt=nn(Nt($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:be(),transactions:Bt($e({transaction:cee,meta:Nt(a5),version:wr(WR)})),rewards:wr(Bt(xv)),blockTime:Nt(be()),blockHeight:Nt(be())}))),Amt=nn(Nt($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:be(),rewards:wr(Bt(xv)),blockTime:Nt(be()),blockHeight:Nt(be())}))),wmt=nn(Nt($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:be(),transactions:Bt($e({transaction:TRe,meta:Nt(a5),version:wr(WR)})),rewards:wr(Bt(xv)),blockTime:Nt(be()),blockHeight:Nt(be())}))),Imt=nn(Nt($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:be(),transactions:Bt($e({transaction:MRe,meta:Nt(uee),version:wr(WR)})),rewards:wr(Bt(xv)),blockTime:Nt(be()),blockHeight:Nt(be())}))),_mt=nn(Nt($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:be(),transactions:Bt($e({transaction:TRe,meta:Nt(uee),version:wr(WR)})),rewards:wr(Bt(xv)),blockTime:Nt(be()),blockHeight:Nt(be())}))),Pmt=nn(Nt($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:be(),rewards:wr(Bt(xv)),blockTime:Nt(be()),blockHeight:Nt(be())}))),Emt=nn(Nt($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:be(),transactions:Bt($e({transaction:cee,meta:Nt(a5)})),rewards:wr(Bt(xv)),blockTime:Nt(be())}))),zpe=nn(Nt($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:be(),signatures:Bt(Je()),blockTime:Nt(be())}))),OU=nn(Nt($e({slot:be(),meta:Nt(a5),blockTime:wr(Nt(be())),transaction:cee,version:wr(WR)}))),w3=nn(Nt($e({slot:be(),transaction:MRe,meta:Nt(uee),blockTime:wr(Nt(be())),version:wr(WR)}))),xmt=Wo($e({blockhash:Je(),feeCalculator:$e({lamportsPerSignature:be()})})),Tmt=Wo($e({blockhash:Je(),lastValidBlockHeight:be()})),Rmt=Wo(Yh()),Bmt=$e({slot:be(),numTransactions:be(),numSlots:be(),samplePeriodSecs:be()}),Cmt=nn(Bt(Bmt)),Mmt=Wo(Nt($e({feeCalculator:$e({lamportsPerSignature:be()})}))),zmt=nn(Je()),$mt=nn(Je()),Dmt=$e({err:Ev,logs:Bt(Je()),signature:Je()}),Omt=$e({result:o5(Dmt),subscription:be()}),Lmt={"solana-client":"js/1.0.0-maintenance"};class Kmt{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Gs(l),h=this._buildArgs([],d,void 0,y),m=Tpe(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=vt(f,nn(be()));if("error"in g)throw new ir(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=Agt(e),this._rpcWsEndpoint=r||vgt(e),this._rpcClient=Ogt(e,s,i,o,a,c),this._rpcRequest=Lgt(this._rpcClient),this._rpcBatchRequest=Kgt(this._rpcClient),this._rpcWebSocket=new pgt(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Gs(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=vt(o,Wo(be()));if("error"in a)throw new ir(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=vt(t,nn(Nt(be())));if("error"in r)throw new ir(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=vt(e,nn(be()));if("error"in t)throw new ir(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=vt(e,Hgt);if("error"in t)throw new ir(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=vt(r,jgt);if("error"in s)throw new ir(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=vt(s,Wo(Zj));if("error"in i)throw new ir(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=vt(s,Wo(Zj));if("error"in i)throw new ir(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Gs(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=vt(c,Ygt);if("error"in u)throw new ir(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=vt(o,Zgt);if("error"in a)throw new ir(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=vt(s,Jgt);if("error"in i)throw new ir(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=vt(s,Ggt);if("error"in i)throw new ir(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Gs(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=vt(o,Wo(Nt($z)));if("error"in a)throw new ir(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Gs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=vt(o,Wo(Nt(Xj)));if("error"in a)throw new ir(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Gs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=vt(a,Wo(Bt(Nt(Xj))));if("error"in c)throw new ir(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Gs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=vt(a,Wo(Bt(Nt($z))));if("error"in c)throw new ir(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Gs(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=vt(a,nn(tmt));if("error"in c)throw new ir(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Gs(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:Bpe(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=Bt(Xgt),l=o.withContext===!0?vt(c,Wo(u)):vt(c,nn(u));if("error"in l)throw new ir(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Gs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=vt(o,nn(Bt(emt)));if("error"in a)throw new ir(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ae.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return ns(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:vm.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:vm.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await gS(1e3),i||(h=await y(),i))return;d({__type:vm.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===vm.PROCESSED)l=d.response;else throw new ree(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:vm.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await gS(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===vm.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await gS(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new GA(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new GA(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new GA(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new GA(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:vm.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===vm.PROCESSED)a=c.response;else throw new nee(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=vt(e,nn(Bt(hmt)));if("error"in t)throw new ir(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=vt(r,gmt);if("error"in s)throw new ir(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Gs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=vt(i,nn(be()));if("error"in o)throw new ir(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Gs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=vt(i,nn(Je()));if("error"in o)throw new ir(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=vt(s,nn(Bt(po)));if("error"in i)throw new ir(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);ns(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=vt(s,pmt);if("error"in i)throw new ir(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Gs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=vt(i,nn(be()));if("error"in o)throw new ir(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=vt(r,Wgt);if("error"in s)throw new ir(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Gs(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=vt(a,_gt);if("error"in c)throw new ir(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=vt(e,Ngt);if("error"in t)throw new ir(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Gs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=vt(i,Ugt);if("error"in o)throw new ir(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=vt(e,Vgt);if("error"in t)throw new ir(t.error,"failed to get epoch schedule");const r=t.result;return new wRe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=vt(e,qgt);if("error"in t)throw new ir(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=vt(s,bmt);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=vt(r,xmt);if("error"in s)throw new ir(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=vt(t,Cmt);if("error"in r)throw new ir(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=vt(s,Mmt);if("error"in i)throw new ir(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=gn(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=vt(i,Wo(Nt(be())));if("error"in o)throw new ir(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=vt(s,Fgt);if("error"in i)throw new ir(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Gs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=vt(i,Tmt);if("error"in o)throw new ir(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Gs(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=vt(o,Rmt);if("error"in a)throw new ir(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=vt(e,nn(Mgt));if("error"in t)throw new ir(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=vt(e,nn(Je()));if("error"in t)throw new ir(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Gs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=vt(o,wmt);if("error"in a)throw a.error;return a.result}case"none":{const a=vt(o,Amt);if("error"in a)throw a.error;return a.result}default:{const a=vt(o,vmt);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:DU(d,u.message)},version:d}))}:null}}}catch(a){throw new ir(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Gs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=vt(o,_mt);if("error"in a)throw a.error;return a.result}case"none":{const a=vt(o,Pmt);if("error"in a)throw a.error;return a.result}default:{const a=vt(o,Imt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ir(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=vt(i,Dgt);if("error"in o)throw new ir(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Gs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=vt(o,OU);if("error"in a)throw new ir(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:DU(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Gs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=vt(o,w3);if("error"in a)throw new ir(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Gs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=vt(c,w3);if("error"in u)throw new ir(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Gs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=vt(c,OU);if("error"in u)throw new ir(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:DU(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=vt(s,Emt);if("error"in i)throw new ir(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new df(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:ds.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=vt(i,nn(Bt(be())));if("error"in o)throw new ir(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=vt(s,zpe);if("error"in i)throw new ir(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=vt(s,zpe);if("error"in i)throw new ir(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=vt(s,OU);if("error"in i)throw new ir(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new df(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:ds.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=vt(s,w3);if("error"in i)throw new ir(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=vt(o,w3);if("error"in a)throw new ir(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=vt(i,rmt);if("error"in o)throw new ir(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=vt(i,nmt);if("error"in o)throw new ir(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new Yj({key:e,state:Yj.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=i5.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=vt(r,zmt);if("error"in s)throw new ir(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await gS(100);const r=Date.now()-this._blockhashInfo.lastFetch>=_Re;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await gS(kRe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Gs(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=vt(i,Wo(be()));if("error"in o)throw new ir(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=vt(p,Cpe);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof ds){let m=e;s=new ds,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=ds.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=vt(y,Cpe);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new zz({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=gn(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=vt(a,$mt);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new zz({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=vt(e,smt);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=Tpe([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];ns(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Gs(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=vt(e,omt);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Gs(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:Bpe(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=vt(e,Omt);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=vt(e,cmt);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=vt(e,lmt);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=vt(e,dmt);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=vt(e,fmt);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Pw{constructor(e){this._keypair=void 0,this._keypair=e??_pe()}static generate(){return new Pw(_pe())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=x4(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new Pw({publicKey:r,secretKey:e})}static fromSeed(e){const t=x4(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Pw({publicKey:t,secretKey:r})}get publicKey(){return new ut(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Om=Object.freeze({CreateLookupTable:{index:0,layout:N([F("instruction"),_I("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:N([F("instruction")])},ExtendLookupTable:{index:2,layout:N([F("instruction"),_I(),we(Mn(),Gt(F(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:N([F("instruction")])},CloseLookupTable:{index:4,layout:N([F("instruction")])}});class Wmt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Om))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=ws(Om.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=ws(Om.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new ut(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(lee.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class lee{constructor(){}static createLookupTable(e){const[t,r]=ut.findProgramAddressSync([e.authority.toBuffer(),ya(BigInt(e.recentSlot),8)],this.programId),s=Om.CreateLookupTable,i=qn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Sc.programId,isSigner:!1,isWritable:!1}];return[new Ks({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Om.FreezeLookupTable,r=qn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ks({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Om.ExtendLookupTable,r=qn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Sc.programId,isSigner:!1,isWritable:!1}),new Ks({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Om.DeactivateLookupTable,r=qn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ks({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Om.CloseLookupTable,r=qn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Ks({programId:this.programId,keys:s,data:r})}}lee.programId=new ut("AddressLookupTab1e1111111111111111111111111");class Nmt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(yh))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=ws(yh.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=ws(yh.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=ws(yh.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=ws(yh.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(dee.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const yh=Object.freeze({RequestUnits:{index:0,layout:N([te("instruction"),F("units"),F("additionalFee")])},RequestHeapFrame:{index:1,layout:N([te("instruction"),F("bytes")])},SetComputeUnitLimit:{index:2,layout:N([te("instruction"),F("units")])},SetComputeUnitPrice:{index:3,layout:N([te("instruction"),_I("microLamports")])}});class dee{constructor(){}static requestUnits(e){const t=yh.RequestUnits,r=qn(t,e);return new Ks({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=yh.RequestHeapFrame,r=qn(t,e);return new Ks({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=yh.SetComputeUnitLimit,r=qn(t,e);return new Ks({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=yh.SetComputeUnitPrice,r=qn(t,{microLamports:BigInt(e.microLamports)});return new Ks({keys:[],programId:this.programId,data:r})}}dee.programId=new ut("ComputeBudget111111111111111111111111111111");const $pe=64,Dpe=32,Ope=64,Lpe=N([te("numSignatures"),te("padding"),xe("signatureOffset"),xe("signatureInstructionIndex"),xe("publicKeyOffset"),xe("publicKeyInstructionIndex"),xe("messageDataOffset"),xe("messageDataSize"),xe("messageInstructionIndex")]);class c5{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;ns(t.length===Dpe,`Public Key must be ${Dpe} bytes but received ${t.length} bytes`),ns(s.length===Ope,`Signature must be ${Ope} bytes but received ${s.length} bytes`);const o=Lpe.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return Lpe.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new Ks({keys:[],programId:c5.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;ns(t.length===$pe,`Private key must be ${$pe} bytes but received ${t.length} bytes`);try{const i=Pw.fromSecretKey(t),o=i.publicKey.toBytes(),a=eee(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}c5.programId=new ut("Ed25519SigVerify111111111111111111111111111");const Fmt=(n,e)=>{const t=r5.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};r5.utils.isValidPrivateKey;const Umt=r5.getPublicKey,Kpe=32,LU=20,Wpe=64,Vmt=11,KU=N([te("numSignatures"),xe("signatureOffset"),te("signatureInstructionIndex"),xe("ethAddressOffset"),te("ethAddressInstructionIndex"),xe("messageDataOffset"),xe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class Ew{constructor(){}static publicKeyToEthAddress(e){ns(e.length===Wpe,`Public key must be ${Wpe} bytes but received ${e.length} bytes`);try{return V.Buffer.from(kpe(gn(e))).slice(-LU)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return Ew.createInstructionWithEthAddress({ethAddress:Ew.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,ns(a.length===LU,`Address must be ${LU} bytes but received ${a.length} bytes`);const c=1+Vmt,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(KU.span+r.length);return KU.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:gn(s),ethAddress:gn(a),recoveryId:i},h),h.fill(gn(r),KU.span),new Ks({keys:[],programId:Ew.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;ns(t.length===Kpe,`Private key must be ${Kpe} bytes but received ${t.length} bytes`);try{const i=gn(t),o=Umt(i,!1).slice(1),a=V.Buffer.from(kpe(gn(r))),[c,u]=Fmt(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Ew.programId=new ut("KeccakSecp256k11111111111111111111111111111");var $Re;const DRe=new ut("StakeConfig11111111111111111111111111111111");class ORe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class c8{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}$Re=c8;c8.default=new $Re(0,0,ut.default);class qmt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Qa))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=ws(Qa.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new ORe(new ut(t.staker),new ut(t.withdrawer)),lockup:new c8(r.unixTimestamp,r.epoch,new ut(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),ws(Qa.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=ws(Qa.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ut(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=ws(Qa.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new ut(i),newAuthorizedPubkey:new ut(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ws(Qa.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ws(Qa.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ws(Qa.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ws(Qa.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(u5.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Qa=Object.freeze({Initialize:{index:0,layout:N([F("instruction"),Hht(),jht()])},Authorize:{index:1,layout:N([F("instruction"),Mn("newAuthorized"),F("stakeAuthorizationType")])},Delegate:{index:2,layout:N([F("instruction")])},Split:{index:3,layout:N([F("instruction"),Ee("lamports")])},Withdraw:{index:4,layout:N([F("instruction"),Ee("lamports")])},Deactivate:{index:5,layout:N([F("instruction")])},Merge:{index:7,layout:N([F("instruction")])},AuthorizeWithSeed:{index:8,layout:N([F("instruction"),Mn("newAuthorized"),F("stakeAuthorizationType"),WS("authoritySeed"),Mn("authorityOwner")])}}),Hmt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class u5{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||c8.default,o=Qa.Initialize,a=qn(o,{authorized:{staker:gn(r.staker.toBuffer()),withdrawer:gn(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:gn(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:II,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Ks(c)}static createAccountWithSeed(e){const t=new ds;t.add(Sc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new ds;t.add(Sc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=Qa.Delegate,o=qn(i);return new ds().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Gf,isSigner:!1,isWritable:!1},{pubkey:xL,isSigner:!1,isWritable:!1},{pubkey:DRe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=Qa.Authorize,c=qn(a,{newAuthorized:gn(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Gf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new ds().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Qa.AuthorizeWithSeed,l=qn(u,{newAuthorized:gn(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:gn(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Gf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new ds().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=Qa.Split,a=qn(o,{lamports:i});return new Ks({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new ds;return r.add(Sc.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new ds;return u.add(Sc.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(Sc.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=Qa.Merge,o=qn(i);return new ds().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Gf,isSigner:!1,isWritable:!1},{pubkey:xL,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=Qa.Withdraw,c=qn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Gf,isSigner:!1,isWritable:!1},{pubkey:xL,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new ds().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=Qa.Deactivate,i=qn(s);return new ds().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Gf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}u5.programId=new ut("Stake11111111111111111111111111111111111111");u5.space=200;class LRe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class jmt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ph))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=ws(ph.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new LRe(new ut(t.nodePubkey),new ut(t.authorizedVoter),new ut(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=ws(ph.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ut(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=ws(ph.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ut(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new ut(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ws(ph.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(NR.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ph=Object.freeze({InitializeAccount:{index:0,layout:N([F("instruction"),Ght()])},Authorize:{index:1,layout:N([F("instruction"),Mn("newAuthorized"),F("voteAuthorizationType")])},Withdraw:{index:3,layout:N([F("instruction"),Ee("lamports")])},UpdateValidatorIdentity:{index:4,layout:N([F("instruction")])},AuthorizeWithSeed:{index:10,layout:N([F("instruction"),Yht()])}}),Gmt=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class NR{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=ph.InitializeAccount,o=qn(i,{voteInit:{nodePubkey:gn(s.nodePubkey.toBuffer()),authorizedVoter:gn(s.authorizedVoter.toBuffer()),authorizedWithdrawer:gn(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:II,isSigner:!1,isWritable:!1},{pubkey:Gf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Ks(a)}static createAccount(e){const t=new ds;return t.add(Sc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=ph.Authorize,a=qn(o,{newAuthorized:gn(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Gf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new ds().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=ph.AuthorizeWithSeed,u=qn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:gn(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:gn(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Gf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new ds().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=ph.Withdraw,a=qn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new ds().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return NR.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=ph.UpdateValidatorIdentity,o=qn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new ds().add({keys:a,programId:this.programId,data:o})}}NR.programId=new ut("Vote111111111111111111111111111111111111111");NR.space=3762;const KRe=new ut("Va1idator1nfo111111111111111111111111111111"),Ymt=$e({name:Je(),website:wr(Je()),details:wr(Je()),iconUrl:wr(Je()),keybaseUsername:wr(Je())});class fee{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Vu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new ut(qu(t,0,Lh)),a=mh(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(KRe)&&s[1].isSigner){const i=WS().decode(V.Buffer.from(t)),o=JSON.parse(i);return aRe(o,Ymt),new fee(s[1].publicKey,o)}return null}}const Zmt=new ut("Vote111111111111111111111111111111111111111"),Jmt=N([Mn("nodePubkey"),Mn("authorizedWithdrawer"),te("commission"),fe(),we(N([fe("slot"),F("confirmationCount")]),Gt(F(),-8),"votes"),te("rootSlotValid"),fe("rootSlot"),fe(),we(N([fe("epoch"),Mn("authorizedVoter")]),Gt(F(),-8),"authorizedVoters"),N([we(N([Mn("authorizedPubkey"),fe("epochOfLastAuthorizedSwitch"),fe("targetEpoch")]),32,"buf"),fe("idx"),te("isEmpty")],"priorVoters"),fe(),we(N([fe("epoch"),fe("credits"),fe("prevCredits")]),Gt(F(),-8),"epochCredits"),N([fe("slot"),fe("timestamp")],"lastTimestamp")]);class hee{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Jmt.decode(gn(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new hee({nodePubkey:new ut(r.nodePubkey),authorizedWithdrawer:new ut(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(Xmt),priorVoters:Qmt(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function Xmt({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new ut(n)}}function Npe({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new ut(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function Qmt({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(Npe),...n.slice(0,e).map(Npe)]}const Fpe={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function eyt(n,e){const t=e===!1?"http":"https";if(!n)return Fpe[t].devnet;const r=Fpe[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function tyt(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new zz({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const ryt=1e9;var nyt=Object.freeze(Object.defineProperty({__proto__:null,Account:Uht,AddressLookupTableAccount:Yj,AddressLookupTableInstruction:Wmt,AddressLookupTableProgram:lee,Authorized:ORe,BLOCKHASH_CACHE_TIMEOUT_MS:_Re,BPF_LOADER_DEPRECATED_PROGRAM_ID:Vht,BPF_LOADER_PROGRAM_ID:lgt,BpfLoader:dgt,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:yh,ComputeBudgetInstruction:Nmt,ComputeBudgetProgram:dee,Connection:Kmt,Ed25519Program:c5,Enum:Nht,EpochSchedule:wRe,FeeCalculatorLayout:vRe,Keypair:Pw,LAMPORTS_PER_SOL:ryt,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Om,Loader:Lk,Lockup:c8,MAX_SEED_LENGTH:pRe,Message:df,MessageAccountKeys:Mz,MessageV0:Ok,NONCE_ACCOUNT_LENGTH:Gj,NonceAccount:i5,PACKET_DATA_SIZE:eb,PUBLIC_KEY_LENGTH:Lh,PublicKey:ut,SIGNATURE_LENGTH_IN_BYTES:Cz,SOLANA_SCHEMA:wM,STAKE_CONFIG_ID:DRe,STAKE_INSTRUCTION_LAYOUTS:Qa,SYSTEM_INSTRUCTION_LAYOUTS:si,SYSVAR_CLOCK_PUBKEY:Gf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:egt,SYSVAR_INSTRUCTIONS_PUBKEY:tgt,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:EL,SYSVAR_RENT_PUBKEY:II,SYSVAR_REWARDS_PUBKEY:rgt,SYSVAR_SLOT_HASHES_PUBKEY:ngt,SYSVAR_SLOT_HISTORY_PUBKEY:sgt,SYSVAR_STAKE_HISTORY_PUBKEY:xL,Secp256k1Program:Ew,SendTransactionError:zz,SolanaJSONRPCError:ir,SolanaJSONRPCErrorCode:igt,StakeAuthorizationLayout:Hmt,StakeInstruction:qmt,StakeProgram:u5,Struct:tee,SystemInstruction:cgt,SystemProgram:Sc,Transaction:ds,TransactionExpiredBlockheightExceededError:ree,TransactionExpiredNonceInvalidError:GA,TransactionExpiredTimeoutError:nee,TransactionInstruction:Ks,TransactionMessage:iee,TransactionStatus:vm,VALIDATOR_INFO_KEY:KRe,VERSION_PREFIX_MASK:n5,VOTE_PROGRAM_ID:Zmt,ValidatorInfo:fee,VersionedMessage:see,VersionedTransaction:oee,VoteAccount:hee,VoteAuthorizationLayout:Gmt,VoteInit:LRe,VoteInstruction:jmt,VoteProgram:NR,clusterApiUrl:eyt,sendAndConfirmRawTransaction:tyt,sendAndConfirmTransaction:jj},Symbol.toStringTag,{value:"Module"})),syt=Wl(nyt),l5={},Dz={};Object.defineProperty(Dz,"__esModule",{value:!0});Dz.IDL=void 0;Dz.IDL={version:"0.7.3",name:"player_profile",instructions:[{name:"acceptRoleInvitation",accounts:[{name:"newMember",isMut:!1,isSigner:!1,docs:["The new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"addExistingMemberToRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for reallocation."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The profile of the member to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"addKeys",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the profile."]},{name:"key",isMut:!1,isSigner:!0,docs:["Key with [`ProfilePermissions::ADD_KEYS`] permission to add keys."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to add to"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyAddIndex",type:"u16"},{name:"keyPermissionsIndex",type:"u16"},{name:"keysToAdd",type:{vec:{defined:"AddKeyInput"}}}]},{name:"adjustAuth",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the profile."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to create"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"authIndexes",type:{vec:"u16"}},{name:"newKeyPermissions",type:{vec:{defined:"AddKeyInput"}}},{name:"removeRange",type:{array:["u16",2]}},{name:"newKeyThreshold",type:"u8"}]},{name:"createProfile",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"profile",isMut:!0,isSigner:!0,docs:["The profile to create"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyPermissions",type:{vec:{defined:"AddKeyInput"}}},{name:"keyThreshold",type:"u8"}]},{name:"createRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the transaction"]},{name:"profile",isMut:!0,isSigner:!1,docs:["The [`Profile`] account that the role is being created for"]},{name:"newRoleAccount",isMut:!0,isSigner:!1,docs:["The role account being created"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"inviteMemberToRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The profile of the user to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"joinRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The new member joining the role"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"leaveRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder to receive the rent allocation."]},{name:"member",isMut:!1,isSigner:!1,docs:["The member leaving the role"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is leaving"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"removeKeys",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder for the profile."]},{name:"key",isMut:!1,isSigner:!0,docs:["Key with [`ProfilePermissions::REMOVE_KEYS`] permission to add keys."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to remove from"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keysToRemove",type:{array:["u16",2]}}]},{name:"removeMemberFromRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder to receive the rent allocation"]},{name:"member",isMut:!1,isSigner:!1,docs:["The profile of the user to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is being removed from"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"removeRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder for the transaction"]},{name:"profile",isMut:!0,isSigner:!1,docs:["The Profile that the role is being removed from"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role being removed"]},{name:"roleNameAccount",isMut:!0,isSigner:!1,docs:["The role name account (if it exists)"]}],args:[{name:"roleNameBump",type:"u8"},{name:"keyIndex",type:"u16"}]},{name:"setName",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized to change the name."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile to set the name for."]},{name:"name",isMut:!0,isSigner:!1,docs:["The name account."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"keyIndex",type:"u16"},{name:"name",type:"bytes"}]},{name:"setRoleAcceptingMembers",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which owns the role being modified."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set as accepting members."]}],args:[{name:"keyIndex",type:"u16"}]},{name:"setRoleAuthorizer",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile to set the name for."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set the authorizer for."]},{name:"authorizer",isMut:!1,isSigner:!1,docs:["The authorizer account to set."]}],args:[{name:"keyIndex",type:"u16"}]},{name:"setRoleName",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to"]},{name:"role",isMut:!1,isSigner:!1,docs:["The role to set the name for."]},{name:"name",isMut:!0,isSigner:!1,docs:["The name account."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"keyIndex",type:"u16"},{name:"name",type:"bytes"}]},{name:"setRoleNotAcceptingMembers",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which owns the role being modified."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set as not accepting members."]}],args:[{name:"keyIndex",type:"u16"}]}],accounts:[{name:"playerName",docs:["Stores a player's name on-chain."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The profile this name is for."],type:"publicKey"},{name:"bump",docs:["The bump for this account."],type:"u8"}]}},{name:"profile",docs:["A player profile."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"authKeyCount",docs:["The number of auth keys on the account"],type:"u16"},{name:"keyThreshold",docs:["The number of auth keys needed to update the profile."],type:"u8"},{name:"nextSeqId",docs:["The next sequence number for a new role."],type:"u64"},{name:"createdAt",docs:["When the profile was created."],type:"i64"}]}},{name:"profileRoleMembership",docs:["A player's roles for a given profile","Remaining data contains an unordered list of [`RoleMembership`](RoleMembership) structs"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The Profile this belongs to"],type:"publicKey"},{name:"member",docs:["The member's profile pubkey"],type:"publicKey"},{name:"bump",docs:["PDA bump"],type:"u8"}]}},{name:"role",docs:["A Role associated with a Profile. A Role contains an unordered list of Role Members in its","remaining data which lists all of the members who carry this role."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["Profile that this role belongs to"],type:"publicKey"},{name:"authorizer",docs:["Origin authority of the account"],type:"publicKey"},{name:"roleSeqId",docs:["Role's seq_id"],type:"u64"},{name:"acceptingNewMembers",docs:["Is role accepting new members"],type:"u8"},{name:"bump",docs:["The name of the rank","TODO: Add instruction to use `player-name` as the label","PDA bump"],type:"u8"}]}}],types:[{name:"AddKeyInput",docs:["Struct for adding a key"],type:{kind:"struct",fields:[{name:"scope",docs:["The block of permissions"],type:"publicKey"},{name:"expireTime",docs:["The expire time of the key to add"],type:"i64"},{name:"permissions",docs:["The permissions for the key"],type:{array:["u8",8]}}]}},{name:"MemberStatus",docs:["Represents potential membership statuses for a player with a role"],type:{kind:"enum",variants:[{name:"Inactive"},{name:"Active"}]}},{name:"ProfileKey",docs:["A key on a profile."],type:{kind:"struct",fields:[{name:"key",docs:["The key."],type:"publicKey"},{name:"scope",docs:["The key for the permissions."],type:"publicKey"},{name:"expireTime",docs:["The expire time for this key.","If `<0` does not expire."],type:"i64"},{name:"permissions",docs:["The permissions for the key."],type:{array:["u8",8]}}]}},{name:"RoleMembership",docs:["Represents a member's status in a role"],type:{kind:"struct",fields:[{name:"key",docs:["The member or role key associated with this membership"],type:"publicKey"},{name:"status",docs:["The member's role status"],type:"u8"}]}}],errors:[{code:6e3,name:"KeyIndexOutOfBounds",msg:"Key index out of bounds"},{code:6001,name:"ProfileMismatch",msg:"Profile did not match profile key"},{code:6002,name:"KeyMismatch",msg:"Key did not match profile key"},{code:6003,name:"ScopeMismatch",msg:"Scope did not match profile scope"},{code:6004,name:"KeyExpired",msg:"Key expired"},{code:6005,name:"KeyMissingPermissions",msg:"Key is missing permissions"},{code:6006,name:"PermissionsMismatch",msg:"Permissions don't match available"},{code:6007,name:"AuthKeyCannotExpire",msg:"Auth keys cannot expire"},{code:6008,name:"AuthKeyMustSign",msg:"New auth keys must be signers"},{code:6009,name:"DuplicateAuthKey",msg:"Duplicate key when adjusting auth keys"},{code:6010,name:"RoleAuthorityAlreadySet",msg:"Role authority has already been set"},{code:6011,name:"RoleNotAcceptingMembers",msg:"Role is not accepting new members"},{code:6012,name:"RoleMembershipMismatch",msg:"Role membership is not as expected"},{code:6013,name:"RoleLimitExceeded",msg:"Role limit exceeded"},{code:6014,name:"RoleHasMembers",msg:"Cannot remove role with members"},{code:6015,name:"FeatureNotImplemented",msg:"This feature is not yet support"}]};var ry={};function R4(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function iyt(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function u8(n,...e){if(!iyt(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function oyt(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");R4(n.outputLen),R4(n.blockLen)}function PI(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function WRe(n,e){u8(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const WU=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ayt=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),NU=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Tf=(n,e)=>n<<32-e|n>>>e,Upe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,cyt=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function Vpe(n){for(let e=0;e<n.length;e++)n[e]=cyt(n[e])}function uyt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function d5(n){return typeof n=="string"&&(n=uyt(n)),u8(n),n}function lyt(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];u8(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class gee{clone(){return this._cloneInto()}}function mee(n){const e=r=>n().update(d5(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function NRe(n=32){if(WU&&typeof WU.getRandomValues=="function")return WU.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function dyt(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const fyt=(n,e,t)=>n&e^~n&t,hyt=(n,e,t)=>n&e^n&t^e&t;class FRe extends gee{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=NU(this.buffer)}update(e){PI(this);const{view:t,buffer:r,blockLen:s}=this;e=d5(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=NU(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){PI(this),WRe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;dyt(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=NU(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const I3=BigInt(2**32-1),Qj=BigInt(32);function URe(n,e=!1){return e?{h:Number(n&I3),l:Number(n>>Qj&I3)}:{h:Number(n>>Qj&I3)|0,l:Number(n&I3)|0}}function VRe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=URe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const gyt=(n,e)=>BigInt(n>>>0)<<Qj|BigInt(e>>>0),myt=(n,e,t)=>n>>>t,yyt=(n,e,t)=>n<<32-t|e>>>t,pyt=(n,e,t)=>n>>>t|e<<32-t,byt=(n,e,t)=>n<<32-t|e>>>t,Syt=(n,e,t)=>n<<64-t|e>>>t-32,kyt=(n,e,t)=>n>>>t-32|e<<64-t,vyt=(n,e)=>e,Ayt=(n,e)=>n,qRe=(n,e,t)=>n<<t|e>>>32-t,HRe=(n,e,t)=>e<<t|n>>>32-t,jRe=(n,e,t)=>e<<t-32|n>>>64-t,GRe=(n,e,t)=>n<<t-32|e>>>64-t;function wyt(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const Iyt=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),_yt=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,Pyt=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),Eyt=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,xyt=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),Tyt=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,Ryt={fromBig:URe,split:VRe,toBig:gyt,shrSH:myt,shrSL:yyt,rotrSH:pyt,rotrSL:byt,rotrBH:Syt,rotrBL:kyt,rotr32H:vyt,rotr32L:Ayt,rotlSH:qRe,rotlSL:HRe,rotlBH:jRe,rotlBL:GRe,add:wyt,add3L:Iyt,add3H:_yt,add4L:Pyt,add4H:Eyt,add5H:Tyt,add5L:xyt};var jr=Ryt;const[Byt,Cyt]=(()=>jr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Jy=new Uint32Array(80),Xy=new Uint32Array(80);class Myt extends FRe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Jy[p]=e.getUint32(t),Xy[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Jy[p-15]|0,w=Xy[p-15]|0,A=jr.rotrSH(I,w,1)^jr.rotrSH(I,w,8)^jr.shrSH(I,w,7),P=jr.rotrSL(I,w,1)^jr.rotrSL(I,w,8)^jr.shrSL(I,w,7),E=Jy[p-2]|0,M=Xy[p-2]|0,x=jr.rotrSH(E,M,19)^jr.rotrBH(E,M,61)^jr.shrSH(E,M,6),R=jr.rotrSL(E,M,19)^jr.rotrBL(E,M,61)^jr.shrSL(E,M,6),$=jr.add4L(P,R,Xy[p-7],Xy[p-16]),z=jr.add4H($,A,x,Jy[p-7],Jy[p-16]);Jy[p]=z|0,Xy[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=jr.rotrSH(d,y,14)^jr.rotrSH(d,y,18)^jr.rotrBH(d,y,41),w=jr.rotrSL(d,y,14)^jr.rotrSL(d,y,18)^jr.rotrBL(d,y,41),A=d&h^~d&f,P=y&m^~y&g,E=jr.add5L(S,w,P,Cyt[p],Xy[p]),M=jr.add5H(E,b,I,A,Byt[p],Jy[p]),x=E|0,R=jr.rotrSH(r,s,28)^jr.rotrBH(r,s,34)^jr.rotrBH(r,s,39),$=jr.rotrSL(r,s,28)^jr.rotrBL(r,s,34)^jr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=jr.add(u|0,l|0,M|0,x|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=jr.add3L(x,$,T);r=jr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=jr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=jr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=jr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=jr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=jr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=jr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=jr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=jr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Jy.fill(0),Xy.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const zyt=mee(()=>new Myt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yee=BigInt(0),f5=BigInt(1),$yt=BigInt(2);function Kk(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function l8(n){if(!Kk(n))throw new Error("Uint8Array expected")}function Xm(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const Dyt=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Wk(n){l8(n);let e="";for(let t=0;t<n.length;t++)e+=Dyt[n[t]];return e}function YRe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function pee(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Rg={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function qpe(n){if(n>=Rg._0&&n<=Rg._9)return n-Rg._0;if(n>=Rg._A&&n<=Rg._F)return n-(Rg._A-10);if(n>=Rg._a&&n<=Rg._f)return n-(Rg._a-10)}function EI(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=qpe(n.charCodeAt(i)),a=qpe(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function ek(n){return pee(Wk(n))}function xw(n){return l8(n),pee(Wk(Uint8Array.from(n).reverse()))}function xI(n,e){return EI(n.toString(16).padStart(e*2,"0"))}function Oz(n,e){return xI(n,e).reverse()}function Oyt(n){return EI(YRe(n))}function Ba(n,e,t){let r;if(typeof e=="string")try{r=EI(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Kk(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function Nk(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];l8(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function Lyt(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function Kyt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const FU=n=>typeof n=="bigint"&&yee<=n;function h5(n,e,t){return FU(n)&&FU(e)&&FU(t)&&e<=n&&n<t}function cd(n,e,t,r){if(!h5(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function Wyt(n){let e;for(e=0;n>yee;n>>=f5,e+=1);return e}function Nyt(n,e){return n>>BigInt(e)&f5}function Fyt(n,e,t){return n|(t?f5:yee)<<BigInt(e)}const bee=n=>($yt<<BigInt(n-1))-f5,UU=n=>new Uint8Array(n),Hpe=n=>Uint8Array.from(n);function ZRe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=UU(n),s=UU(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=UU())=>{s=a(Hpe([0]),d),r=a(),d.length!==0&&(s=a(Hpe([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return Nk(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const Uyt={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||Kk(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function FR(n,e,t={}){const r=(s,i,o)=>{const a=Uyt[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const Vyt=()=>{throw new Error("not implemented")};function Lz(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var qyt=Object.freeze(Object.defineProperty({__proto__:null,isBytes:Kk,abytes:l8,abool:Xm,bytesToHex:Wk,numberToHexUnpadded:YRe,hexToNumber:pee,hexToBytes:EI,bytesToNumberBE:ek,bytesToNumberLE:xw,numberToBytesBE:xI,numberToBytesLE:Oz,numberToVarBytesBE:Oyt,ensureBytes:Ba,concatBytes:Nk,equalBytes:Lyt,utf8ToBytes:Kyt,inRange:h5,aInRange:cd,bitLen:Wyt,bitGet:Nyt,bitSet:Fyt,bitMask:bee,createHmacDrbg:ZRe,validateObject:FR,notImplemented:Vyt,memoized:Lz},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bc=BigInt(0),co=BigInt(1),mS=BigInt(2),Hyt=BigInt(3),eG=BigInt(4),jpe=BigInt(5),Gpe=BigInt(8);BigInt(9);BigInt(16);function Li(n,e){const t=n%e;return t>=Bc?t:e+t}function jyt(n,e,t){if(t<=Bc||e<Bc)throw new Error("Expected power/modulo > 0");if(t===co)return Bc;let r=co;for(;e>Bc;)e&co&&(r=r*n%t),n=n*n%t,e>>=co;return r}function To(n,e,t){let r=n;for(;e-- >Bc;)r*=r,r%=t;return r}function tG(n,e){if(n===Bc||e<=Bc)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=Li(n,e),r=e,s=Bc,i=co;for(;t!==Bc;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==co)throw new Error("invert: does not exist");return Li(s,e)}function Gyt(n){const e=(n-co)/mS;let t,r,s;for(t=n-co,r=0;t%mS===Bc;t/=mS,r++);for(s=mS;s<n&&jyt(s,e,n)!==n-co;s++);if(r===1){const o=(n+co)/eG;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+co)/mS;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,co<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function Yyt(n){if(n%eG===Hyt){const e=(n+co)/eG;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Gpe===jpe){const e=(n-jpe)/Gpe;return function(r,s){const i=r.mul(s,mS),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,mS),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return Gyt(n)}const Zyt=(n,e)=>(Li(n,e)&co)===co,Jyt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Xyt(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=Jyt.reduce((r,s)=>(r[s]="function",r),e);return FR(n,t)}function Qyt(n,e,t){if(t<Bc)throw new Error("Expected power > 0");if(t===Bc)return n.ONE;if(t===co)return e;let r=n.ONE,s=e;for(;t>Bc;)t&co&&(r=n.mul(r,s)),s=n.sqr(s),t>>=co;return r}function ept(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function JRe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function XRe(n,e,t=!1,r={}){if(n<=Bc)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=JRe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Yyt(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:bee(s),ZERO:Bc,ONE:co,create:c=>Li(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Bc<=c&&c<n},is0:c=>c===Bc,isOdd:c=>(c&co)===co,neg:c=>Li(-c,n),eql:(c,u)=>c===u,sqr:c=>Li(c*c,n),add:(c,u)=>Li(c+u,n),sub:(c,u)=>Li(c-u,n),mul:(c,u)=>Li(c*u,n),pow:(c,u)=>Qyt(a,c,u),div:(c,u)=>Li(c*tG(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>tG(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>ept(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?Oz(c,i):xI(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?xw(c):ek(c)}});return Object.freeze(a)}function QRe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function e2e(n){const e=QRe(n);return e+Math.ceil(e/2)}function tpt(n,e,t=!1){const r=n.length,s=QRe(e),i=e2e(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?ek(n):xw(n),a=Li(o,e-co)+co;return t?Oz(a,s):xI(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rpt=BigInt(0),VU=BigInt(1),qU=new WeakMap,Ype=new WeakMap;function t2e(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>rpt;)o&VU&&(a=a.add(c)),c=c.double(),o>>=VU;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=VU);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=Ype.get(i)||1;let u=qU.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&qU.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),Ype.set(i,o),qU.delete(i)}}}function See(n){return Xyt(n.Fp),FR(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...JRe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pd=BigInt(0),_u=BigInt(1),_3=BigInt(2),npt=BigInt(8),spt={zip215:!0};function ipt(n){const e=See(n);return FR(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function opt(n){const e=ipt(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=_3<<BigInt(a*8)-_u,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Pd}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,_)=>{if(Xm("phflag",_),k.length||_)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){cd("coordinate "+v,k,Pd,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=Lz((v,k)=>{const{ex:_,ey:B,ez:C}=v,O=v.is0();k==null&&(k=O?npt:t.inv(C));const D=l(_*k),W=l(B*k),L=l(C*k);if(O)return{x:Pd,y:_u};if(L!==_u)throw new Error("invZ was invalid");return{x:D,y:W}}),b=Lz(v=>{const{a:k,d:_}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:B,ey:C,ez:O,et:D}=v,W=l(B*B),L=l(C*C),U=l(O*O),q=l(U*U),J=l(W*k),Q=l(U*l(J+L)),j=l(q+l(_*l(W*L)));if(Q!==j)throw new Error("bad point: equation left != right (1)");const X=l(B*C),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,_,B,C){this.ex=k,this.ey=_,this.ez=B,this.et=C,m("x",k),m("y",_),m("z",B),m("t",C),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x:_,y:B}=k||{};return m("x",_),m("y",B),new S(_,B,_u,l(_*B))}static normalizeZ(k){const _=t.invertBatch(k.map(B=>B.ez));return k.map((B,C)=>B.toAffine(_[C])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:_,ey:B,ez:C}=this,{ex:O,ey:D,ez:W}=k,L=l(_*W),U=l(O*C),q=l(B*W),J=l(D*C);return L===U&&q===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:_,ey:B,ez:C}=this,O=l(_*_),D=l(B*B),W=l(_3*l(C*C)),L=l(k*O),U=_+B,q=l(l(U*U)-O-D),J=L+D,Q=J-W,j=L-D,X=l(q*Q),re=l(J*j),se=l(q*j),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:_,d:B}=e,{ex:C,ey:O,ez:D,et:W}=this,{ex:L,ey:U,ez:q,et:J}=k;if(_===BigInt(-1)){const $t=l((O-C)*(U+L)),_t=l((O+C)*(U-L)),tt=l(_t-$t);if(tt===Pd)return this.double();const Ve=l(D*_3*J),qt=l(W*_3*q),lr=qt+Ve,ur=_t+$t,hr=qt-Ve,Rr=l(lr*tt),ms=l(ur*hr),kn=l(lr*hr),ys=l(tt*ur);return new S(Rr,ms,ys,kn)}const Q=l(C*L),j=l(O*U),X=l(W*B*J),re=l(D*q),se=l((C+O)*(L+U)-Q-j),ee=re-X,ne=re+X,_e=l(j-_*Q),Pe=l(se*ee),We=l(ne*_e),Ne=l(se*_e),Yt=l(ee*ne);return new S(Pe,We,Yt,Ne)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const _=k;cd("scalar",_,_u,r);const{p:B,f:C}=this.wNAF(_);return S.normalizeZ([B,C])[0]}multiplyUnsafe(k){const _=k;return cd("scalar",_,Pd,r),_===Pd?I:this.equals(I)||_===_u?this:this.equals(p)?this.wNAF(_).p:w.unsafeLadder(this,_)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===_u?this:this.multiplyUnsafe(k)}static fromHex(k,_=!1){const{d:B,a:C}=e,O=t.BYTES;k=Ba("pointHex",k,O),Xm("zip215",_);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=xw(D),U=_?u:t.ORDER;cd("pointHex.y",L,Pd,U);const q=l(L*L),J=l(q-_u),Q=l(B*q-C);let{isValid:j,value:X}=d(J,Q);if(!j)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&_u)===_u,se=(W&128)!==0;if(!_&&X===Pd&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:_}=this.toAffine(),B=Oz(_,t.BYTES);return B[B.length-1]|=k&_u?128:0,B}toHex(){return Wk(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,_u,l(e.Gx*e.Gy)),S.ZERO=new S(Pd,_u,_u,Pd);const{BASE:p,ZERO:I}=S,w=t2e(S,a*8);function A(v){return Li(v,r)}function P(v){return A(xw(v))}function E(v){const k=a;v=Ba("private key",v,k);const _=Ba("hashed private key",i(v),2*k),B=y(_.slice(0,k)),C=_.slice(k,2*k),O=P(B),D=p.multiply(O),W=D.toRawBytes();return{head:B,prefix:C,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function x(v=new Uint8Array,...k){const _=Nk(...k);return P(i(h(_,Ba("context",v),!!s)))}function R(v,k,_={}){v=Ba("message",v),s&&(v=s(v));const{prefix:B,scalar:C,pointBytes:O}=E(k),D=x(_.context,B,v),W=p.multiply(D).toRawBytes(),L=x(_.context,W,O,v),U=A(D+L*C);cd("signature.s",U,Pd,r);const q=Nk(W,Oz(U,t.BYTES));return Ba("result",q,a*2)}const $=spt;function z(v,k,_,B=$){const{context:C,zip215:O}=B,D=t.BYTES;v=Ba("signature",v,2*D),k=Ba("message",k),O!==void 0&&Xm("zip215",O),s&&(k=s(k));const W=xw(v.slice(D,2*D));let L,U,q;try{L=S.fromHex(_,O),U=S.fromHex(v.slice(0,D),O),q=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=x(C,U.toRawBytes(),L.toRawBytes(),k);return U.add(L.multiplyUnsafe(J)).subtract(q).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kee=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Zpe=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const apt=BigInt(1),Jpe=BigInt(2);BigInt(3);const cpt=BigInt(5),upt=BigInt(8);function lpt(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=kee,a=n*n%i*n%i,c=To(a,Jpe,i)*a%i,u=To(c,apt,i)*n%i,l=To(u,cpt,i)*u%i,d=To(l,e,i)*l%i,y=To(d,t,i)*d%i,h=To(y,r,i)*y%i,m=To(h,s,i)*h%i,f=To(m,s,i)*h%i,g=To(f,e,i)*l%i;return{pow_p_5_8:To(g,Jpe,i)*n%i,b2:a}}function dpt(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function fpt(n,e){const t=kee,r=Li(e*e*e,t),s=Li(r*r*e,t),i=lpt(n*s).pow_p_5_8;let o=Li(n*r*i,t);const a=Li(e*o*o,t),c=o,u=Li(o*Zpe,t),l=a===n,d=a===Li(-n,t),y=a===Li(-n*Zpe,t);return l&&(o=c),(d||y)&&(o=u),Zyt(o,t)&&(o=Li(-o,t)),{isValid:l||d,value:o}}const hpt=(()=>XRe(kee,void 0,!0))(),gpt=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:hpt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:upt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:zyt,randomBytes:NRe,adjustScalarBytes:dpt,uvRatio:fpt}))(),UR=(()=>opt(gpt))(),mpt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Qy=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ep=new Uint32Array(64);class ypt extends FRe{constructor(){super(64,32,8,!1),this.A=Qy[0]|0,this.B=Qy[1]|0,this.C=Qy[2]|0,this.D=Qy[3]|0,this.E=Qy[4]|0,this.F=Qy[5]|0,this.G=Qy[6]|0,this.H=Qy[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)ep[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=ep[d-15],h=ep[d-2],m=Tf(y,7)^Tf(y,18)^y>>>3,f=Tf(h,17)^Tf(h,19)^h>>>10;ep[d]=f+ep[d-7]+m+ep[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Tf(a,6)^Tf(a,11)^Tf(a,25),h=l+y+fyt(a,c,u)+mpt[d]+ep[d]|0,f=(Tf(r,2)^Tf(r,13)^Tf(r,22))+hyt(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){ep.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const rG=mee(()=>new ypt);class ppt extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function bpt(n){return d8(n)&&typeof n[Symbol.iterator]=="function"}function d8(n){return typeof n=="object"&&n!=null}function B4(n){return d8(n)&&!Array.isArray(n)}function ff(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function Spt(n){const{done:e,value:t}=n.next();return e?void 0:t}function kpt(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${ff(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*Xpe(n,e,t,r){bpt(n)||(n=[n]);for(const s of n){const i=kpt(s,e,t,r);i&&(yield i)}}function*vee(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=vee(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):d8(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class hg{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return Xpe(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return Xpe(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return r2e(e,this,t)}create(e,t){return At(e,this,t)}is(e){return n2e(e,this)}mask(e,t){return vpt(e,this,t)}validate(e,t={}){return f8(e,this,t)}}function r2e(n,e,t){const r=f8(n,e,{message:t});if(r[0])throw r[0]}function At(n,e,t){const r=f8(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function vpt(n,e,t){const r=f8(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function n2e(n,e){return!f8(n,e)[0]}function f8(n,e,t={}){const r=vee(n,e,t),s=Spt(r);if(s[0])return[new ppt(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function Tv(n,e){return new hg({type:n,schema:null,validator:e})}function Apt(){return Tv("any",()=>!0)}function Ct(n){return new hg({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ff(e)}`}})}function Zh(){return Tv("boolean",n=>typeof n=="boolean")}function Aee(n){return Tv("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${ff(e)}`)}function Xi(n){const e=ff(n),t=typeof n;return new hg({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${ff(r)}`}})}function wpt(){return Tv("never",()=>!1)}function Ft(n){return new hg({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function Se(){return Tv("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${ff(n)}`)}function Ir(n){return new hg({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function s2e(n,e){return new hg({type:"record",schema:null,*entries(t){if(d8(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return B4(t)||`Expected an object, but received: ${ff(t)}`},coercer(t){return B4(t)?{...t}:t}})}function Xe(){return Tv("string",n=>typeof n=="string"||`Expected a string, but received: ${ff(n)}`)}function wee(n){const e=wpt();return new hg({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${ff(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function De(n){const e=Object.keys(n);return new hg({type:"type",schema:n,*entries(t){if(d8(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return B4(t)||`Expected an object, but received: ${ff(t)}`},coercer(t){return B4(t)?{...t}:t}})}function du(n){const e=n.map(t=>t.type).join(" | ");return new hg({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=vee(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ff(t)}`,...s]}})}function VR(){return Tv("unknown",()=>!0)}function h8(n,e,t){return new hg({...n,coercer:(r,s)=>n2e(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const i2e=[],o2e=[],a2e=[],Ipt=BigInt(0),dB=BigInt(1),_pt=BigInt(2),Ppt=BigInt(7),Ept=BigInt(256),xpt=BigInt(113);for(let n=0,e=dB,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],i2e.push(2*(5*r+t)),o2e.push((n+1)*(n+2)/2%64);let s=Ipt;for(let i=0;i<7;i++)e=(e<<dB^(e>>Ppt)*xpt)%Ept,e&_pt&&(s^=dB<<(dB<<BigInt(i))-dB);a2e.push(s)}const[Tpt,Rpt]=VRe(a2e,!0),Qpe=(n,e,t)=>t>32?jRe(n,e,t):qRe(n,e,t),ebe=(n,e,t)=>t>32?GRe(n,e,t):HRe(n,e,t);function Bpt(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=Qpe(u,l,1)^t[a],y=ebe(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=o2e[o],c=Qpe(s,i,a),u=ebe(s,i,a),l=i2e[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=Tpt[r],n[1]^=Rpt[r]}t.fill(0)}class Iee extends gee{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,R4(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ayt(this.state)}keccak(){Upe||Vpe(this.state32),Bpt(this.state32,this.rounds),Upe||Vpe(this.state32),this.posOut=0,this.pos=0}update(e){PI(this);const{blockLen:t,state:r}=this;e=d5(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){PI(this,!1),u8(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return R4(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(WRe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Iee(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Cpt=(n,e,t)=>mee(()=>new Iee(e,n,t)),tbe=Cpt(1,136,256/8);class c2e extends gee{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,oyt(e);const r=d5(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return PI(this),this.iHash.update(e),this}digestInto(e){PI(this),u8(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const u2e=(n,e,t)=>new c2e(n,e).update(t).digest();u2e.create=(n,e)=>new c2e(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function rbe(n){n.lowS!==void 0&&Xm("lowS",n.lowS),n.prehash!==void 0&&Xm("prehash",n.prehash)}function Mpt(n){const e=See(n);FR(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:zpt,hexToBytes:$pt}=qyt,NS={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=NS;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:zpt(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=NS,t=typeof n=="string"?$pt(n):n;l8(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=NS._parseInt(t.subarray(2)),{d:o,l:a}=NS._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Op=BigInt(0),Va=BigInt(1);BigInt(2);const nbe=BigInt(3);BigInt(4);function Dpt(n){const e=Mpt(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return Nk(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return h5(m,Va,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(Kk(m)&&(m=Wk(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:ek(Ba("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=Li(p,S)),cd("private key",p,Va,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=Lz((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=Lz(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(Ba("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),P=t.eql(t.mul(b,w),t.mul(I,S));return A&&P}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,nbe),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,P=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),x=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),P=t.mul(S,I),P=t.add(P,P),w=t.mul(f,P),A=t.mul(b,x),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),P=t.mul(b,P),x=t.mul(f,x),R=t.sub(E,x),R=t.mul(f,R),R=t.add(R,P),P=t.add(E,E),E=t.add(P,E),E=t.add(E,x),E=t.mul(E,R),A=t.add(A,E),x=t.mul(p,I),x=t.add(x,x),E=t.mul(x,R),w=t.sub(w,E),P=t.mul(x,M),P=t.add(P,P),P=t.add(P,P),new d(w,A,P)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,P=t.ZERO,E=t.ZERO;const M=e.a,x=t.mul(e.b,nbe);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(x,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),P=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(x,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),P=t.add(P,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,P,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){cd("scalar",f,Op,e.n);const g=d.ZERO;if(f===Op)return g;if(f===Va)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,P=g,E=this;for(;p>Op||w>Op;)p&Va&&(A=A.add(E)),w&Va&&(P=P.add(E)),E=E.double(),p>>=Va,w>>=Va;return S&&(A=A.negate()),I&&(P=P.negate()),P=new d(t.mul(P.px,b.beta),P.py,P.pz),A.add(P)}multiply(f){const{endo:g,n:b}=e;cd("scalar",f,Va,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:P}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:x,f:R}=this.wNAF(P);E=h.constTimeNegate(I,E),x=h.constTimeNegate(A,x),x=new d(t.mul(x.px,g.beta),x.py,x.pz),S=E.add(x),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===Op||A===Va||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===Va)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===Va?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Xm("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Xm("isCompressed",f),Wk(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=t2e(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function Opt(n){const e=See(n);return FR(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Lpt(n){const e=Opt(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return Li(T,r)}function a(T){return tG(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=Dpt({...e,toBytes(T,v,k){const _=v.toAffine(),B=t.toBytes(_.x),C=Nk;return Xm("isCompressed",k),k?C(Uint8Array.from([v.hasEvenY()?2:3]),B):C(Uint8Array.from([4]),B,t.toBytes(_.y))},fromBytes(T){const v=T.length,k=T[0],_=T.subarray(1);if(v===s&&(k===2||k===3)){const B=ek(_);if(!h5(B,Va,t.ORDER))throw new Error("Point is not on curve");const C=l(B);let O;try{O=t.sqrt(C)}catch(L){const U=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+U)}const D=(O&Va)===Va;return(k&1)===1!==D&&(O=t.neg(O)),{x:B,y:O}}else if(v===i&&k===4){const B=t.fromBytes(_.subarray(0,t.BYTES)),C=t.fromBytes(_.subarray(t.BYTES,2*t.BYTES));return{x:B,y:C}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>Wk(xI(T,e.nByteLength));function h(T){const v=r>>Va;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>ek(T.slice(v,k));class g{constructor(v,k,_){this.r=v,this.s=k,this.recovery=_,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=Ba("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:_}=NS.toSig(Ba("DER",v));return new g(k,_)}assertValidity(){cd("r",this.r,Va,r),cd("s",this.s,Va,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:_,recovery:B}=this,C=A(Ba("msgHash",v));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const O=B===2||B===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(B&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),U=o(-C*L),q=o(_*L),J=c.BASE.multiplyAndAddUnsafe(W,U,q);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return EI(this.toDERHex())}toDERHex(){return NS.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return EI(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=e2e(e.n);return tpt(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=Kk(T),k=typeof T=="string",_=(v||k)&&T.length;return v?_===s||_===i:k?_===2*s||_===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=ek(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},P=bee(e.nBitLength);function E(T){return cd(`num < 2^${e.nBitLength}`,T,Op,P),xI(T,e.nByteLength)}function M(T,v,k=x){if(["recovered","canonical"].some(j=>j in k))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:B}=e;let{lowS:C,prehash:O,extraEntropy:D}=k;C==null&&(C=!0),T=Ba("msgHash",T),rbe(k),O&&(T=Ba("prehashed msgHash",_(T)));const W=A(T),L=u(v),U=[E(L),E(W)];if(D!=null&&D!==!1){const j=D===!0?B(t.BYTES):D;U.push(Ba("extraEntropy",j))}const q=Nk(...U),J=W;function Q(j){const X=w(j);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Op)return;const ne=o(re*o(J+ee*L));if(ne===Op)return;let _e=(se.x===ee?0:2)|Number(se.y&Va),Pe=ne;return C&&h(ne)&&(Pe=m(ne),_e^=1),new g(ee,Pe,_e)}return{seed:q,k2sig:Q}}const x={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=x){const{seed:_,k2sig:B}=M(T,v,k),C=e;return ZRe(C.hash.outputLen,C.nByteLength,C.hmac)(_,B)}c.BASE._setWindowSize(8);function z(T,v,k,_=R){var se;const B=T;if(v=Ba("msgHash",v),k=Ba("publicKey",k),"strict"in _)throw new Error("options.strict was renamed to lowS");rbe(_);const{lowS:C,prehash:O}=_;let D,W;try{if(typeof B=="string"||Kk(B))try{D=g.fromDER(B)}catch(ee){if(!(ee instanceof NS.Err))throw ee;D=g.fromCompact(B)}else if(typeof B=="object"&&typeof B.r=="bigint"&&typeof B.s=="bigint"){const{r:ee,s:ne}=B;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(C&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:U}=D,q=A(v),J=a(U),Q=o(q*J),j=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,j))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Kpt(n){return{hash:n,hmac:(e,...t)=>u2e(n,e,lyt(...t)),randomBytes:NRe}}function Wpt(n,e){const t=r=>Lpt({...n,...Kpt(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const l2e=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),sbe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Npt=BigInt(1),nG=BigInt(2),ibe=(n,e)=>(n+e/nG)/e;function Fpt(n){const e=l2e,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=To(l,t,e)*l%e,y=To(d,t,e)*l%e,h=To(y,nG,e)*u%e,m=To(h,s,e)*h%e,f=To(m,i,e)*m%e,g=To(f,a,e)*f%e,b=To(g,c,e)*g%e,S=To(b,a,e)*f%e,p=To(S,t,e)*l%e,I=To(p,o,e)*m%e,w=To(I,r,e)*u%e,A=To(w,nG,e);if(!sG.eql(sG.sqr(A),n))throw new Error("Cannot find square root");return A}const sG=XRe(l2e,void 0,void 0,{sqrt:Fpt}),g5=Wpt({a:BigInt(0),b:BigInt(7),Fp:sG,n:sbe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=sbe,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Npt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=ibe(i*n,e),c=ibe(-r*n,e);let u=Li(n-a*t-c*s,e),l=Li(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},rG);BigInt(0);g5.ProjectivePoint;const Upt=UR.utils.randomPrivateKey,obe=()=>{const n=UR.utils.randomPrivateKey(),e=C4(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},C4=UR.getPublicKey;function abe(n){try{return UR.ExtendedPoint.fromHex(n),!0}catch{return!1}}const _ee=(n,e)=>UR.sign(n,e.slice(0,32)),Vpt=UR.verify,mn=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class Pee{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(tg(IM,this))}static decode(e){return rg(IM,this,e)}static decodeUnchecked(e){return ng(IM,this,e)}}class qpt extends Pee{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const IM=new Map;var d2e;const f2e=32,Kh=32;function Hpt(n){return n._bn!==void 0}let cbe=1;class lt extends Pee{constructor(e){if(super({}),this._bn=void 0,Hpt(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ae.decode(e);if(t.length!=Kh)throw new Error("Invalid public key input");this._bn=new Ni(t)}else this._bn=new Ni(e);if(this._bn.byteLength()>Kh)throw new Error("Invalid public key input")}}static unique(){const e=new lt(cbe);return cbe+=1,new lt(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ae.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Kh)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=rG(s);return new lt(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>f2e)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,mn(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=rG(r);if(abe(s))throw new Error("Invalid seeds, address must fall off the curve");return new lt(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new lt(e);return abe(t.toBytes())}}d2e=lt;lt.default=new d2e("11111111111111111111111111111111");IM.set(lt,{kind:"struct",fields:[["_bn","u256"]]});class jpt{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=mn(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=mn(Upt()),this._publicKey=mn(C4(this._secretKey))}get publicKey(){return new lt(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const Gpt=new lt("BPFLoader1111111111111111111111111111111111"),tb=1280-40-8,m5=127,Kz=64;class Eee extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Eee.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class xee extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(xee.prototype,"name",{value:"TransactionExpiredTimeoutError"});class YA extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(YA.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Wz{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const zn=(n="publicKey")=>ie(32,n),Ypt=(n="signature")=>ie(64,n),FS=(n="string")=>{const e=N([F("length"),F("lengthPadding"),ie(Gt(F(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>F().span+F().span+V.Buffer.from(i,"utf8").length,s},Zpt=(n="authorized")=>N([zn("staker"),zn("withdrawer")],n),Jpt=(n="lockup")=>N([Ee("unixTimestamp"),Ee("epoch"),zn("custodian")],n),Xpt=(n="voteInit")=>N([zn("nodePubkey"),zn("authorizedVoter"),zn("authorizedWithdrawer"),te("commission")],n),Qpt=(n="voteAuthorizeWithSeedArgs")=>N([F("voteAuthorizationType"),zn("currentAuthorityDerivedKeyOwnerPubkey"),FS("currentAuthorityDerivedKeySeed"),zn("newAuthorized")],n);function h2e(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return h2e({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function Hu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function _l(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function ss(n,e){if(!n)throw new Error(e||"Assertion failed")}class y5{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new y5(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];ss(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{ss(t.length>0,"Expected at least one writable signer key");const[c]=t[0];ss(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new lt(c)),...r.map(([c])=>new lt(c)),...s.map(([c])=>new lt(c)),...i.map(([c])=>new lt(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new lt(i),c=e.findIndex(u=>u.equals(a));c>=0&&(ss(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const g2e="Reached end of buffer unexpectedly";function bh(n){if(n.length===0)throw new Error(g2e);return n.shift()}function ju(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(g2e);return n.splice(...e)}class hf{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new lt(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ae.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Wz(this.staticAccountKeys)}static compile(e){const t=y5.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new Wz(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ae.encode(a.data)}));return new hf({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];_l(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ae.decode(d.data));let f=[];_l(f,y.length);let g=[];return _l(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];_l(s,r.length);let i=V.Buffer.alloc(tb);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=N([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=N([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(zn("key"),e,"keys"),zn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>mn(d.toBytes())),recentBlockhash:Ae.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=bh(t);if(r!==(r&m5))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=bh(t),i=bh(t),o=Hu(t);let a=[];for(let y=0;y<o;y++){const h=ju(t,0,Kh);a.push(new lt(V.Buffer.from(h)))}const c=ju(t,0,Kh),u=Hu(t);let l=[];for(let y=0;y<u;y++){const h=bh(t),m=Hu(t),f=ju(t,0,m),g=Hu(t),b=ju(t,0,g),S=Ae.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ae.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new hf(d)}}class Fk{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Wz(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=y5.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new Wz(a,s).compileInstructions(e.instructions);return new Fk({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();_l(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();_l(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();_l(i,this.addressTableLookups.length);const o=N([te("prefix"),N([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(zn(),this.staticAccountKeys.length,"staticAccountKeys"),zn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(tb),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ae.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(tb);for(const r of this.compiledInstructions){const s=Array();_l(s,r.accountKeyIndexes.length);const i=Array();_l(i,r.data.length),e+=N([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(tb);for(const r of this.addressTableLookups){const s=Array();_l(s,r.writableIndexes.length);const i=Array();_l(i,r.readonlyIndexes.length),e+=N([zn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=bh(t),s=r&m5;ss(r!==s,"Expected versioned message but received legacy message");const i=s;ss(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:bh(t),numReadonlySignedAccounts:bh(t),numReadonlyUnsignedAccounts:bh(t)},a=[],c=Hu(t);for(let m=0;m<c;m++)a.push(new lt(ju(t,0,Kh)));const u=Ae.encode(ju(t,0,Kh)),l=Hu(t),d=[];for(let m=0;m<l;m++){const f=bh(t),g=Hu(t),b=ju(t,0,g),S=Hu(t),p=new Uint8Array(ju(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=Hu(t),h=[];for(let m=0;m<y;m++){const f=new lt(ju(t,0,Kh)),g=Hu(t),b=ju(t,0,g),S=Hu(t),p=ju(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new Fk({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const Tee={deserializeMessageVersion(n){const e=n[0],t=e&m5;return t===e?"legacy":t},deserialize:n=>{const e=Tee.deserializeMessageVersion(n);if(e==="legacy")return hf.from(n);if(e===0)return Fk.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Am=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const ebt=V.Buffer.alloc(Kz).fill(0);class Ws{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class fs{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Ws(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new lt(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ae.encode(g)}});return m.forEach(f=>{ss(f.programIdIndex>=0),f.accounts.forEach(g=>ss(g>=0))}),new hf({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=_ee(r,s.secretKey);this._addSignature(s.publicKey,mn(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){ss(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):Vpt(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];_l(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return ss(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(ss(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),ss(i.length<=tb,`Transaction too large: ${i.length} > ${tb}`),i}get keys(){return ss(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return ss(this.instructions.length===1),this.instructions[0].programId}get data(){return ss(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Hu(t);let s=[];for(let i=0;i<r;i++){const o=ju(t,0,Kz);s.push(Ae.encode(V.Buffer.from(o)))}return fs.populate(hf.from(t),s)}static populate(e,t=[]){const r=new fs;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ae.encode(ebt)?null:Ae.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Ws({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ae.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Ree{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;ss(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;ss(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new Ws({programId:g,data:mn(m.data),keys:f}))}return new Ree({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return hf.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Fk.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class Bee{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)ss(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(Kz));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();_l(t,this.signatures.length);const r=N([ie(t.length,"encodedSignaturesLength"),we(Ypt(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=Hu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(ju(t,0,Kz)));const i=Tee.deserialize(new Uint8Array(t));return new Bee(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));ss(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=_ee(t,s.secretKey)}}addSignature(e,t){ss(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));ss(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const tbt=160,rbt=64,nbt=tbt/rbt,m2e=1e3/nbt,Yf=new lt("SysvarC1ock11111111111111111111111111111111"),sbt=new lt("SysvarEpochSchedu1e111111111111111111111111"),ibt=new lt("Sysvar1nstructions1111111111111111111111111"),TL=new lt("SysvarRecentB1ockHashes11111111111111111111"),TI=new lt("SysvarRent111111111111111111111111111111111"),obt=new lt("SysvarRewards111111111111111111111111111111"),abt=new lt("SysvarS1otHashes111111111111111111111111111"),cbt=new lt("SysvarS1otHistory11111111111111111111111111"),RL=new lt("SysvarStakeHistory1111111111111111111111111");class Nz extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const ubt={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class or extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function iG(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new Nz({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function yS(n){return new Promise(e=>setTimeout(e,n))}function Hn(n,e){const t=n.layout.span>=0?n.layout.span:h2e(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function Is(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const y2e=fe("lamportsPerSignature"),p2e=N([F("version"),F("state"),zn("authorizedPubkey"),zn("nonce"),N([y2e],"feeCalculator")]),oG=p2e.span;class p5{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=p2e.decode(mn(e),0);return new p5({authorizedPubkey:new lt(t.authorizedPubkey),nonce:new lt(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const lbt=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},dbt=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=lbt(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return sg(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=ya(o,n);return r(u,a,c)},i},RI=dbt(8);class fbt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ii))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=Is(ii.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new lt(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Is(ii.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=Is(ii.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new lt(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Is(ii.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=Is(ii.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new lt(t),seed:r,space:s,programId:new lt(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Is(ii.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new lt(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=Is(ii.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new lt(t),seed:r,programId:new lt(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=Is(ii.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new lt(t),seed:r,lamports:s,space:i,programId:new lt(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Is(ii.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new lt(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Is(ii.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Is(ii.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Is(ii.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new lt(t)}}static checkProgramId(e){if(!e.equals(kc.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ii=Object.freeze({Create:{index:0,layout:N([F("instruction"),Ee("lamports"),Ee("space"),zn("programId")])},Assign:{index:1,layout:N([F("instruction"),zn("programId")])},Transfer:{index:2,layout:N([F("instruction"),RI("lamports")])},CreateWithSeed:{index:3,layout:N([F("instruction"),zn("base"),FS("seed"),Ee("lamports"),Ee("space"),zn("programId")])},AdvanceNonceAccount:{index:4,layout:N([F("instruction")])},WithdrawNonceAccount:{index:5,layout:N([F("instruction"),Ee("lamports")])},InitializeNonceAccount:{index:6,layout:N([F("instruction"),zn("authorized")])},AuthorizeNonceAccount:{index:7,layout:N([F("instruction"),zn("authorized")])},Allocate:{index:8,layout:N([F("instruction"),Ee("space")])},AllocateWithSeed:{index:9,layout:N([F("instruction"),zn("base"),FS("seed"),Ee("space"),zn("programId")])},AssignWithSeed:{index:10,layout:N([F("instruction"),zn("base"),FS("seed"),zn("programId")])},TransferWithSeed:{index:11,layout:N([F("instruction"),RI("lamports"),FS("seed"),zn("programId")])},UpgradeNonceAccount:{index:12,layout:N([F("instruction")])}});class kc{constructor(){}static createAccount(e){const t=ii.Create,r=Hn(t,{lamports:e.lamports,space:e.space,programId:mn(e.programId.toBuffer())});return new Ws({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=ii.TransferWithSeed;t=Hn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:mn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=ii.Transfer;t=Hn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ws({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=ii.AssignWithSeed;t=Hn(s,{base:mn(e.basePubkey.toBuffer()),seed:e.seed,programId:mn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=ii.Assign;t=Hn(s,{programId:mn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ws({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=ii.CreateWithSeed,r=Hn(t,{base:mn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:mn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ws({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new fs;"basePubkey"in e&&"seed"in e?t.add(kc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:oG,programId:this.programId})):t.add(kc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:oG,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=ii.InitializeNonceAccount,r=Hn(t,{authorized:mn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:TL,isSigner:!1,isWritable:!1},{pubkey:TI,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Ws(s)}static nonceAdvance(e){const t=ii.AdvanceNonceAccount,r=Hn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:TL,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Ws(s)}static nonceWithdraw(e){const t=ii.WithdrawNonceAccount,r=Hn(t,{lamports:e.lamports});return new Ws({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:TL,isSigner:!1,isWritable:!1},{pubkey:TI,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=ii.AuthorizeNonceAccount,r=Hn(t,{authorized:mn(e.newAuthorizedPubkey.toBuffer())});return new Ws({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=ii.AllocateWithSeed;t=Hn(s,{base:mn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:mn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=ii.Allocate;t=Hn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ws({keys:r,programId:this.programId,data:t})}}kc.programId=new lt("11111111111111111111111111111111");const hbt=tb-300;class Uk{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Uk.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new fs,h.add(kc.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new fs,h.add(kc.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new fs,h.add(kc.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new fs().add(kc.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await iG(e,h,[t,r],{commitment:"confirmed"})}const o=N([F("instruction"),F("offset"),F("bytesLength"),F("bytesLengthPadding"),we(te("byte"),Gt(F(),-8),"bytes")]),a=Uk.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new fs().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(iG(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await yS(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=N([F("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new fs().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:TI,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(m2e/2)))}}return!0}}Uk.chunkSize=hbt;const gbt=new lt("BPFLoader2111111111111111111111111111111111");class mbt{static getMinNumSignatures(e){return Uk.getMinNumSignatures(e)}static load(e,t,r,s,i){return Uk.load(e,t,r,i,s)}}function ybt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var HU,ube;function pbt(){if(ube)return HU;ube=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return HU=function(r){var s=t(r,!1);if(s!==void 0)return""+s},HU}var bbt=pbt(),lbe=ybt(bbt);const fB=32;function jU(n){let e=0;for(;n>1;)n/=2,e++;return e}function Sbt(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class b2e{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=jU(Sbt(e+fB+1))-jU(fB)-1,r=this.getSlotsInEpoch(t),s=e-(r-fB);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*fB:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+jU(fB)):this.slotsPerEpoch}}var kbt=globalThis.fetch;class vbt extends ay{constructor(e,t,r){const s=i=>{const o=uy(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function Abt(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const dbe=56;class aG{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=Abt(wbt,e),r=e.length-dbe;ss(r>=0,"lookup table is invalid"),ss(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=N([we(zn(),s,"addresses")]).decode(e.slice(dbe));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new lt(t.authority[0]):void 0,addresses:i.map(o=>new lt(o))}}}const wbt={index:1,layout:N([F("typeIndex"),RI("deactivationSlot"),fe("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(zn(),Gt(te(),-1),"authority")])},Ibt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function _bt(n){const e=n.match(Ibt);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const bo=h8(Aee(lt),Xe(),n=>new lt(n)),S2e=wee([Xe(),Xi("base64")]),Cee=h8(Aee(V.Buffer),S2e,n=>V.Buffer.from(n[0],"base64")),k2e=30*1e3;function Pbt(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Ys(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function fbe(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function v2e(n){return du([De({jsonrpc:Xi("2.0"),id:Xe(),result:n}),De({jsonrpc:Xi("2.0"),id:Xe(),error:De({code:VR(),message:Xe(),data:Ir(Apt())})})])}const Ebt=v2e(VR());function sn(n){return h8(v2e(n),Ebt,e=>"error"in e?e:{...e,result:At(e.result,n)})}function No(n){return sn(De({context:De({slot:Se()}),value:n}))}function b5(n){return De({context:De({slot:Se()}),value:n})}function GU(n,e){return n===0?new Fk({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new lt(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ae.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new hf(e)}const xbt=De({foundation:Se(),foundationTerm:Se(),initial:Se(),taper:Se(),terminal:Se()}),Tbt=sn(Ct(Ft(De({epoch:Se(),effectiveSlot:Se(),amount:Se(),postBalance:Se(),commission:Ir(Ft(Se()))})))),Rbt=Ct(De({slot:Se(),prioritizationFee:Se()})),Bbt=De({total:Se(),validator:Se(),foundation:Se(),epoch:Se()}),Cbt=De({epoch:Se(),slotIndex:Se(),slotsInEpoch:Se(),absoluteSlot:Se(),blockHeight:Ir(Se()),transactionCount:Ir(Se())}),Mbt=De({slotsPerEpoch:Se(),leaderScheduleSlotOffset:Se(),warmup:Zh(),firstNormalEpoch:Se(),firstNormalSlot:Se()}),zbt=s2e(Xe(),Ct(Se())),Rv=Ft(du([De({}),Xe()])),$bt=De({err:Rv}),Dbt=Xi("receivedSignature"),Obt=De({"solana-core":Xe(),"feature-set":Ir(Se())}),Lbt=De({program:Xe(),programId:bo,parsed:VR()}),Kbt=De({programId:bo,accounts:Ct(bo),data:Xe()}),hbe=No(De({err:Ft(du([De({}),Xe()])),logs:Ft(Ct(Xe())),accounts:Ir(Ft(Ct(Ft(De({executable:Zh(),owner:Xe(),lamports:Se(),data:Ct(Xe()),rentEpoch:Ir(Se())}))))),unitsConsumed:Ir(Se()),returnData:Ir(Ft(De({programId:Xe(),data:wee([Xe(),Xi("base64")])}))),innerInstructions:Ir(Ft(Ct(De({index:Se(),instructions:Ct(du([Lbt,Kbt]))}))))})),Wbt=No(De({byIdentity:s2e(Xe(),Ct(Se())),range:De({firstSlot:Se(),lastSlot:Se()})}));function Nbt(n,e,t,r,s,i){const o=t||kbt;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new cy(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},F0t)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await yS(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function Fbt(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function Ubt(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const Vbt=sn(xbt),qbt=sn(Bbt),Hbt=sn(Rbt),jbt=sn(Cbt),Gbt=sn(Mbt),Ybt=sn(zbt),Zbt=sn(Se()),Jbt=No(De({total:Se(),circulating:Se(),nonCirculating:Se(),nonCirculatingAccounts:Ct(bo)})),cG=De({amount:Xe(),uiAmount:Ft(Se()),decimals:Se(),uiAmountString:Ir(Xe())}),Xbt=No(Ct(De({address:bo,amount:Xe(),uiAmount:Ft(Se()),decimals:Se(),uiAmountString:Ir(Xe())}))),Qbt=No(Ct(De({pubkey:bo,account:De({executable:Zh(),owner:bo,lamports:Se(),data:Cee,rentEpoch:Se()})}))),uG=De({program:Xe(),parsed:VR(),space:Se()}),e0t=No(Ct(De({pubkey:bo,account:De({executable:Zh(),owner:bo,lamports:Se(),data:uG,rentEpoch:Se()})}))),t0t=No(Ct(De({lamports:Se(),address:bo}))),Fz=De({executable:Zh(),owner:bo,lamports:Se(),data:Cee,rentEpoch:Se()}),r0t=De({pubkey:bo,account:Fz}),n0t=h8(du([Aee(V.Buffer),uG]),du([S2e,uG]),n=>Array.isArray(n)?At(n,Cee):n),lG=De({executable:Zh(),owner:bo,lamports:Se(),data:n0t,rentEpoch:Se()}),s0t=De({pubkey:bo,account:lG}),i0t=De({state:du([Xi("active"),Xi("inactive"),Xi("activating"),Xi("deactivating")]),active:Se(),inactive:Se()}),o0t=sn(Ct(De({signature:Xe(),slot:Se(),err:Rv,memo:Ft(Xe()),blockTime:Ir(Ft(Se()))}))),a0t=sn(Ct(De({signature:Xe(),slot:Se(),err:Rv,memo:Ft(Xe()),blockTime:Ir(Ft(Se()))}))),c0t=De({subscription:Se(),result:b5(Fz)}),u0t=De({pubkey:bo,account:Fz}),l0t=De({subscription:Se(),result:b5(u0t)}),d0t=De({parent:Se(),slot:Se(),root:Se()}),f0t=De({subscription:Se(),result:d0t}),h0t=du([De({type:du([Xi("firstShredReceived"),Xi("completed"),Xi("optimisticConfirmation"),Xi("root")]),slot:Se(),timestamp:Se()}),De({type:Xi("createdBank"),parent:Se(),slot:Se(),timestamp:Se()}),De({type:Xi("frozen"),slot:Se(),timestamp:Se(),stats:De({numTransactionEntries:Se(),numSuccessfulTransactions:Se(),numFailedTransactions:Se(),maxTransactionsPerEntry:Se()})}),De({type:Xi("dead"),slot:Se(),timestamp:Se(),err:Xe()})]),g0t=De({subscription:Se(),result:h0t}),m0t=De({subscription:Se(),result:b5(du([$bt,Dbt]))}),y0t=De({subscription:Se(),result:Se()}),p0t=De({pubkey:Xe(),gossip:Ft(Xe()),tpu:Ft(Xe()),rpc:Ft(Xe()),version:Ft(Xe())}),gbe=De({votePubkey:Xe(),nodePubkey:Xe(),activatedStake:Se(),epochVoteAccount:Zh(),epochCredits:Ct(wee([Se(),Se(),Se()])),commission:Se(),lastVote:Se(),rootSlot:Ft(Se())}),b0t=sn(De({current:Ct(gbe),delinquent:Ct(gbe)})),S0t=du([Xi("processed"),Xi("confirmed"),Xi("finalized")]),k0t=De({slot:Se(),confirmations:Ft(Se()),err:Rv,confirmationStatus:Ir(S0t)}),v0t=No(Ct(Ft(k0t))),A0t=sn(Se()),A2e=De({accountKey:bo,writableIndexes:Ct(Se()),readonlyIndexes:Ct(Se())}),Mee=De({signatures:Ct(Xe()),message:De({accountKeys:Ct(Xe()),header:De({numRequiredSignatures:Se(),numReadonlySignedAccounts:Se(),numReadonlyUnsignedAccounts:Se()}),instructions:Ct(De({accounts:Ct(Se()),data:Xe(),programIdIndex:Se()})),recentBlockhash:Xe(),addressTableLookups:Ir(Ct(A2e))})}),w2e=De({pubkey:bo,signer:Zh(),writable:Zh(),source:Ir(du([Xi("transaction"),Xi("lookupTable")]))}),I2e=De({accountKeys:Ct(w2e),signatures:Ct(Xe())}),_2e=De({parsed:VR(),program:Xe(),programId:bo}),P2e=De({accounts:Ct(bo),data:Xe(),programId:bo}),w0t=du([P2e,_2e]),I0t=du([De({parsed:VR(),program:Xe(),programId:Xe()}),De({accounts:Ct(Xe()),data:Xe(),programId:Xe()})]),E2e=h8(w0t,I0t,n=>"accounts"in n?At(n,P2e):At(n,_2e)),x2e=De({signatures:Ct(Xe()),message:De({accountKeys:Ct(w2e),instructions:Ct(E2e),recentBlockhash:Xe(),addressTableLookups:Ir(Ft(Ct(A2e)))})}),M4=De({accountIndex:Se(),mint:Xe(),owner:Ir(Xe()),programId:Ir(Xe()),uiTokenAmount:cG}),T2e=De({writable:Ct(bo),readonly:Ct(bo)}),S5=De({err:Rv,fee:Se(),innerInstructions:Ir(Ft(Ct(De({index:Se(),instructions:Ct(De({accounts:Ct(Se()),data:Xe(),programIdIndex:Se()}))})))),preBalances:Ct(Se()),postBalances:Ct(Se()),logMessages:Ir(Ft(Ct(Xe()))),preTokenBalances:Ir(Ft(Ct(M4))),postTokenBalances:Ir(Ft(Ct(M4))),loadedAddresses:Ir(T2e),computeUnitsConsumed:Ir(Se())}),zee=De({err:Rv,fee:Se(),innerInstructions:Ir(Ft(Ct(De({index:Se(),instructions:Ct(E2e)})))),preBalances:Ct(Se()),postBalances:Ct(Se()),logMessages:Ir(Ft(Ct(Xe()))),preTokenBalances:Ir(Ft(Ct(M4))),postTokenBalances:Ir(Ft(Ct(M4))),loadedAddresses:Ir(T2e),computeUnitsConsumed:Ir(Se())}),qR=du([Xi(0),Xi("legacy")]),Bv=De({pubkey:Xe(),lamports:Se(),postBalance:Ft(Se()),rewardType:Ft(Xe()),commission:Ir(Ft(Se()))}),_0t=sn(Ft(De({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Se(),transactions:Ct(De({transaction:Mee,meta:Ft(S5),version:Ir(qR)})),rewards:Ir(Ct(Bv)),blockTime:Ft(Se()),blockHeight:Ft(Se())}))),P0t=sn(Ft(De({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Se(),rewards:Ir(Ct(Bv)),blockTime:Ft(Se()),blockHeight:Ft(Se())}))),E0t=sn(Ft(De({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Se(),transactions:Ct(De({transaction:I2e,meta:Ft(S5),version:Ir(qR)})),rewards:Ir(Ct(Bv)),blockTime:Ft(Se()),blockHeight:Ft(Se())}))),x0t=sn(Ft(De({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Se(),transactions:Ct(De({transaction:x2e,meta:Ft(zee),version:Ir(qR)})),rewards:Ir(Ct(Bv)),blockTime:Ft(Se()),blockHeight:Ft(Se())}))),T0t=sn(Ft(De({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Se(),transactions:Ct(De({transaction:I2e,meta:Ft(zee),version:Ir(qR)})),rewards:Ir(Ct(Bv)),blockTime:Ft(Se()),blockHeight:Ft(Se())}))),R0t=sn(Ft(De({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Se(),rewards:Ir(Ct(Bv)),blockTime:Ft(Se()),blockHeight:Ft(Se())}))),B0t=sn(Ft(De({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Se(),transactions:Ct(De({transaction:Mee,meta:Ft(S5)})),rewards:Ir(Ct(Bv)),blockTime:Ft(Se())}))),mbe=sn(Ft(De({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Se(),signatures:Ct(Xe()),blockTime:Ft(Se())}))),YU=sn(Ft(De({slot:Se(),meta:Ft(S5),blockTime:Ir(Ft(Se())),transaction:Mee,version:Ir(qR)}))),P3=sn(Ft(De({slot:Se(),transaction:x2e,meta:Ft(zee),blockTime:Ir(Ft(Se())),version:Ir(qR)}))),C0t=No(De({blockhash:Xe(),feeCalculator:De({lamportsPerSignature:Se()})})),M0t=No(De({blockhash:Xe(),lastValidBlockHeight:Se()})),z0t=No(Zh()),$0t=De({slot:Se(),numTransactions:Se(),numSlots:Se(),samplePeriodSecs:Se()}),D0t=sn(Ct($0t)),O0t=No(Ft(De({feeCalculator:De({lamportsPerSignature:Se()})}))),L0t=sn(Xe()),K0t=sn(Xe()),W0t=De({err:Rv,logs:Ct(Xe()),signature:Xe()}),N0t=De({result:b5(W0t),subscription:Se()}),F0t={"solana-client":"js/1.0.0-maintenance"};class U0t{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Ys(l),h=this._buildArgs([],d,void 0,y),m=lbe(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=At(f,sn(Se()));if("error"in g)throw new or(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=Pbt(e),this._rpcWsEndpoint=r||_bt(e),this._rpcClient=Nbt(e,s,i,o,a,c),this._rpcRequest=Fbt(this._rpcClient),this._rpcBatchRequest=Ubt(this._rpcClient),this._rpcWebSocket=new vbt(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=At(o,No(Se()));if("error"in a)throw new or(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=At(t,sn(Ft(Se())));if("error"in r)throw new or(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=At(e,sn(Se()));if("error"in t)throw new or(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=At(e,Zbt);if("error"in t)throw new or(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=At(r,Jbt);if("error"in s)throw new or(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=At(s,No(cG));if("error"in i)throw new or(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=At(s,No(cG));if("error"in i)throw new or(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Ys(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=At(c,Qbt);if("error"in u)throw new or(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=At(o,e0t);if("error"in a)throw new or(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=At(s,t0t);if("error"in i)throw new or(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=At(s,Xbt);if("error"in i)throw new or(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=At(o,No(Ft(Fz)));if("error"in a)throw new or(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=At(o,No(Ft(lG)));if("error"in a)throw new or(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Ys(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=At(a,No(Ct(Ft(lG))));if("error"in c)throw new or(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Ys(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=At(a,No(Ct(Ft(Fz))));if("error"in c)throw new or(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Ys(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=At(a,sn(i0t));if("error"in c)throw new or(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Ys(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:fbe(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=Ct(r0t),l=o.withContext===!0?At(c,No(u)):At(c,sn(u));if("error"in l)throw new or(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=At(o,sn(Ct(s0t)));if("error"in a)throw new or(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ae.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return ss(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:Am.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:Am.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await yS(1e3),i||(h=await y(),i))return;d({__type:Am.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===Am.PROCESSED)l=d.response;else throw new Eee(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:Am.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await yS(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===Am.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await yS(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new YA(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new YA(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new YA(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new YA(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:Am.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===Am.PROCESSED)a=c.response;else throw new xee(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=At(e,sn(Ct(p0t)));if("error"in t)throw new or(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=At(r,b0t);if("error"in s)throw new or(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=At(i,sn(Se()));if("error"in o)throw new or(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=At(i,sn(Xe()));if("error"in o)throw new or(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=At(s,sn(Ct(bo)));if("error"in i)throw new or(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);ss(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=At(s,v0t);if("error"in i)throw new or(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=At(i,sn(Se()));if("error"in o)throw new or(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=At(r,Vbt);if("error"in s)throw new or(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Ys(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=At(a,Tbt);if("error"in c)throw new or(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=At(e,qbt);if("error"in t)throw new or(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=At(i,jbt);if("error"in o)throw new or(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=At(e,Gbt);if("error"in t)throw new or(t.error,"failed to get epoch schedule");const r=t.result;return new b2e(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=At(e,Ybt);if("error"in t)throw new or(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=At(s,A0t);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=At(r,C0t);if("error"in s)throw new or(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=At(t,D0t);if("error"in r)throw new or(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=At(s,O0t);if("error"in i)throw new or(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=mn(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=At(i,No(Ft(Se())));if("error"in o)throw new or(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=At(s,Hbt);if("error"in i)throw new or(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=At(i,M0t);if("error"in o)throw new or(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=At(o,z0t);if("error"in a)throw new or(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=At(e,sn(Obt));if("error"in t)throw new or(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=At(e,sn(Xe()));if("error"in t)throw new or(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=At(o,E0t);if("error"in a)throw a.error;return a.result}case"none":{const a=At(o,P0t);if("error"in a)throw a.error;return a.result}default:{const a=At(o,_0t);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:GU(d,u.message)},version:d}))}:null}}}catch(a){throw new or(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=At(o,T0t);if("error"in a)throw a.error;return a.result}case"none":{const a=At(o,R0t);if("error"in a)throw a.error;return a.result}default:{const a=At(o,x0t);if("error"in a)throw a.error;return a.result}}}catch(a){throw new or(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=At(i,Wbt);if("error"in o)throw new or(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=At(o,YU);if("error"in a)throw new or(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:GU(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=At(o,P3);if("error"in a)throw new or(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Ys(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=At(c,P3);if("error"in u)throw new or(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Ys(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=At(c,YU);if("error"in u)throw new or(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:GU(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=At(s,B0t);if("error"in i)throw new or(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new hf(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:fs.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=At(i,sn(Ct(Se())));if("error"in o)throw new or(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=At(s,mbe);if("error"in i)throw new or(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=At(s,mbe);if("error"in i)throw new or(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=At(s,YU);if("error"in i)throw new or(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new hf(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:fs.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=At(s,P3);if("error"in i)throw new or(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=At(o,P3);if("error"in a)throw new or(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=At(i,o0t);if("error"in o)throw new or(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=At(i,a0t);if("error"in o)throw new or(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new aG({key:e,state:aG.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=p5.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=At(r,L0t);if("error"in s)throw new or(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await yS(100);const r=Date.now()-this._blockhashInfo.lastFetch>=k2e;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await yS(m2e/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=At(i,No(Se()));if("error"in o)throw new or(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=At(p,hbe);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof fs){let m=e;s=new fs,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=fs.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=At(y,hbe);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new Nz({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=mn(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=At(a,K0t);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new Nz({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=At(e,c0t);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=lbe([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];ss(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Ys(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=At(e,l0t);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Ys(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:fbe(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=At(e,N0t);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=At(e,f0t);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=At(e,g0t);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=At(e,m0t);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=At(e,y0t);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Tw{constructor(e){this._keypair=void 0,this._keypair=e??obe()}static generate(){return new Tw(obe())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=C4(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new Tw({publicKey:r,secretKey:e})}static fromSeed(e){const t=C4(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Tw({publicKey:t,secretKey:r})}get publicKey(){return new lt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Lm=Object.freeze({CreateLookupTable:{index:0,layout:N([F("instruction"),RI("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:N([F("instruction")])},ExtendLookupTable:{index:2,layout:N([F("instruction"),RI(),we(zn(),Gt(F(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:N([F("instruction")])},CloseLookupTable:{index:4,layout:N([F("instruction")])}});class V0t{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Lm))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Is(Lm.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Is(Lm.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new lt(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals($ee.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class $ee{constructor(){}static createLookupTable(e){const[t,r]=lt.findProgramAddressSync([e.authority.toBuffer(),ya(BigInt(e.recentSlot),8)],this.programId),s=Lm.CreateLookupTable,i=Hn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:kc.programId,isSigner:!1,isWritable:!1}];return[new Ws({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Lm.FreezeLookupTable,r=Hn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ws({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Lm.ExtendLookupTable,r=Hn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:kc.programId,isSigner:!1,isWritable:!1}),new Ws({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Lm.DeactivateLookupTable,r=Hn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ws({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Lm.CloseLookupTable,r=Hn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Ws({programId:this.programId,keys:s,data:r})}}$ee.programId=new lt("AddressLookupTab1e1111111111111111111111111");class q0t{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Sh))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=Is(Sh.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Is(Sh.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Is(Sh.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Is(Sh.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(Dee.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Sh=Object.freeze({RequestUnits:{index:0,layout:N([te("instruction"),F("units"),F("additionalFee")])},RequestHeapFrame:{index:1,layout:N([te("instruction"),F("bytes")])},SetComputeUnitLimit:{index:2,layout:N([te("instruction"),F("units")])},SetComputeUnitPrice:{index:3,layout:N([te("instruction"),RI("microLamports")])}});class Dee{constructor(){}static requestUnits(e){const t=Sh.RequestUnits,r=Hn(t,e);return new Ws({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Sh.RequestHeapFrame,r=Hn(t,e);return new Ws({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Sh.SetComputeUnitLimit,r=Hn(t,e);return new Ws({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Sh.SetComputeUnitPrice,r=Hn(t,{microLamports:BigInt(e.microLamports)});return new Ws({keys:[],programId:this.programId,data:r})}}Dee.programId=new lt("ComputeBudget111111111111111111111111111111");const ybe=64,pbe=32,bbe=64,Sbe=N([te("numSignatures"),te("padding"),xe("signatureOffset"),xe("signatureInstructionIndex"),xe("publicKeyOffset"),xe("publicKeyInstructionIndex"),xe("messageDataOffset"),xe("messageDataSize"),xe("messageInstructionIndex")]);class k5{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;ss(t.length===pbe,`Public Key must be ${pbe} bytes but received ${t.length} bytes`),ss(s.length===bbe,`Signature must be ${bbe} bytes but received ${s.length} bytes`);const o=Sbe.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return Sbe.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new Ws({keys:[],programId:k5.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;ss(t.length===ybe,`Private key must be ${ybe} bytes but received ${t.length} bytes`);try{const i=Tw.fromSecretKey(t),o=i.publicKey.toBytes(),a=_ee(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}k5.programId=new lt("Ed25519SigVerify111111111111111111111111111");const H0t=(n,e)=>{const t=g5.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};g5.utils.isValidPrivateKey;const j0t=g5.getPublicKey,kbe=32,ZU=20,vbe=64,G0t=11,JU=N([te("numSignatures"),xe("signatureOffset"),te("signatureInstructionIndex"),xe("ethAddressOffset"),te("ethAddressInstructionIndex"),xe("messageDataOffset"),xe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class Rw{constructor(){}static publicKeyToEthAddress(e){ss(e.length===vbe,`Public key must be ${vbe} bytes but received ${e.length} bytes`);try{return V.Buffer.from(tbe(mn(e))).slice(-ZU)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return Rw.createInstructionWithEthAddress({ethAddress:Rw.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,ss(a.length===ZU,`Address must be ${ZU} bytes but received ${a.length} bytes`);const c=1+G0t,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(JU.span+r.length);return JU.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:mn(s),ethAddress:mn(a),recoveryId:i},h),h.fill(mn(r),JU.span),new Ws({keys:[],programId:Rw.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;ss(t.length===kbe,`Private key must be ${kbe} bytes but received ${t.length} bytes`);try{const i=mn(t),o=j0t(i,!1).slice(1),a=V.Buffer.from(tbe(mn(r))),[c,u]=H0t(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Rw.programId=new lt("KeccakSecp256k11111111111111111111111111111");var R2e;const B2e=new lt("StakeConfig11111111111111111111111111111111");class C2e{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class g8{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}R2e=g8;g8.default=new R2e(0,0,lt.default);class Y0t{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ec))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=Is(ec.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new C2e(new lt(t.staker),new lt(t.withdrawer)),lockup:new g8(r.unixTimestamp,r.epoch,new lt(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Is(ec.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=Is(ec.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new lt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=Is(ec.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new lt(i),newAuthorizedPubkey:new lt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Is(ec.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Is(ec.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Is(ec.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Is(ec.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(v5.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ec=Object.freeze({Initialize:{index:0,layout:N([F("instruction"),Zpt(),Jpt()])},Authorize:{index:1,layout:N([F("instruction"),zn("newAuthorized"),F("stakeAuthorizationType")])},Delegate:{index:2,layout:N([F("instruction")])},Split:{index:3,layout:N([F("instruction"),Ee("lamports")])},Withdraw:{index:4,layout:N([F("instruction"),Ee("lamports")])},Deactivate:{index:5,layout:N([F("instruction")])},Merge:{index:7,layout:N([F("instruction")])},AuthorizeWithSeed:{index:8,layout:N([F("instruction"),zn("newAuthorized"),F("stakeAuthorizationType"),FS("authoritySeed"),zn("authorityOwner")])}}),Z0t=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class v5{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||g8.default,o=ec.Initialize,a=Hn(o,{authorized:{staker:mn(r.staker.toBuffer()),withdrawer:mn(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:mn(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:TI,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Ws(c)}static createAccountWithSeed(e){const t=new fs;t.add(kc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new fs;t.add(kc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=ec.Delegate,o=Hn(i);return new fs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Yf,isSigner:!1,isWritable:!1},{pubkey:RL,isSigner:!1,isWritable:!1},{pubkey:B2e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=ec.Authorize,c=Hn(a,{newAuthorized:mn(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Yf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new fs().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=ec.AuthorizeWithSeed,l=Hn(u,{newAuthorized:mn(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:mn(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Yf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new fs().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=ec.Split,a=Hn(o,{lamports:i});return new Ws({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new fs;return r.add(kc.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new fs;return u.add(kc.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(kc.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=ec.Merge,o=Hn(i);return new fs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Yf,isSigner:!1,isWritable:!1},{pubkey:RL,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=ec.Withdraw,c=Hn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Yf,isSigner:!1,isWritable:!1},{pubkey:RL,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new fs().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=ec.Deactivate,i=Hn(s);return new fs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Yf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}v5.programId=new lt("Stake11111111111111111111111111111111111111");v5.space=200;class M2e{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class J0t{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(kh))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Is(kh.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new M2e(new lt(t.nodePubkey),new lt(t.authorizedVoter),new lt(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=Is(kh.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new lt(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=Is(kh.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new lt(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new lt(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Is(kh.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(HR.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const kh=Object.freeze({InitializeAccount:{index:0,layout:N([F("instruction"),Xpt()])},Authorize:{index:1,layout:N([F("instruction"),zn("newAuthorized"),F("voteAuthorizationType")])},Withdraw:{index:3,layout:N([F("instruction"),Ee("lamports")])},UpdateValidatorIdentity:{index:4,layout:N([F("instruction")])},AuthorizeWithSeed:{index:10,layout:N([F("instruction"),Qpt()])}}),X0t=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class HR{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=kh.InitializeAccount,o=Hn(i,{voteInit:{nodePubkey:mn(s.nodePubkey.toBuffer()),authorizedVoter:mn(s.authorizedVoter.toBuffer()),authorizedWithdrawer:mn(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:TI,isSigner:!1,isWritable:!1},{pubkey:Yf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Ws(a)}static createAccount(e){const t=new fs;return t.add(kc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=kh.Authorize,a=Hn(o,{newAuthorized:mn(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Yf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new fs().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=kh.AuthorizeWithSeed,u=Hn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:mn(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:mn(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Yf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new fs().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=kh.Withdraw,a=Hn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new fs().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return HR.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=kh.UpdateValidatorIdentity,o=Hn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new fs().add({keys:a,programId:this.programId,data:o})}}HR.programId=new lt("Vote111111111111111111111111111111111111111");HR.space=3762;const z2e=new lt("Va1idator1nfo111111111111111111111111111111"),Q0t=De({name:Xe(),website:Ir(Xe()),details:Ir(Xe()),iconUrl:Ir(Xe()),keybaseUsername:Ir(Xe())});class Oee{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Hu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new lt(ju(t,0,Kh)),a=bh(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(z2e)&&s[1].isSigner){const i=FS().decode(V.Buffer.from(t)),o=JSON.parse(i);return r2e(o,Q0t),new Oee(s[1].publicKey,o)}return null}}const e1t=new lt("Vote111111111111111111111111111111111111111"),t1t=N([zn("nodePubkey"),zn("authorizedWithdrawer"),te("commission"),fe(),we(N([fe("slot"),F("confirmationCount")]),Gt(F(),-8),"votes"),te("rootSlotValid"),fe("rootSlot"),fe(),we(N([fe("epoch"),zn("authorizedVoter")]),Gt(F(),-8),"authorizedVoters"),N([we(N([zn("authorizedPubkey"),fe("epochOfLastAuthorizedSwitch"),fe("targetEpoch")]),32,"buf"),fe("idx"),te("isEmpty")],"priorVoters"),fe(),we(N([fe("epoch"),fe("credits"),fe("prevCredits")]),Gt(F(),-8),"epochCredits"),N([fe("slot"),fe("timestamp")],"lastTimestamp")]);class Lee{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=t1t.decode(mn(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new Lee({nodePubkey:new lt(r.nodePubkey),authorizedWithdrawer:new lt(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(r1t),priorVoters:n1t(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function r1t({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new lt(n)}}function Abe({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new lt(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function n1t({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(Abe),...n.slice(0,e).map(Abe)]}const wbe={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function s1t(n,e){const t=e===!1?"http":"https";if(!n)return wbe[t].devnet;const r=wbe[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function i1t(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new Nz({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const o1t=1e9;var a1t=Object.freeze(Object.defineProperty({__proto__:null,Account:jpt,AddressLookupTableAccount:aG,AddressLookupTableInstruction:V0t,AddressLookupTableProgram:$ee,Authorized:C2e,BLOCKHASH_CACHE_TIMEOUT_MS:k2e,BPF_LOADER_DEPRECATED_PROGRAM_ID:Gpt,BPF_LOADER_PROGRAM_ID:gbt,BpfLoader:mbt,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Sh,ComputeBudgetInstruction:q0t,ComputeBudgetProgram:Dee,Connection:U0t,Ed25519Program:k5,Enum:qpt,EpochSchedule:b2e,FeeCalculatorLayout:y2e,Keypair:Tw,LAMPORTS_PER_SOL:o1t,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Lm,Loader:Uk,Lockup:g8,MAX_SEED_LENGTH:f2e,Message:hf,MessageAccountKeys:Wz,MessageV0:Fk,NONCE_ACCOUNT_LENGTH:oG,NonceAccount:p5,PACKET_DATA_SIZE:tb,PUBLIC_KEY_LENGTH:Kh,PublicKey:lt,SIGNATURE_LENGTH_IN_BYTES:Kz,SOLANA_SCHEMA:IM,STAKE_CONFIG_ID:B2e,STAKE_INSTRUCTION_LAYOUTS:ec,SYSTEM_INSTRUCTION_LAYOUTS:ii,SYSVAR_CLOCK_PUBKEY:Yf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:sbt,SYSVAR_INSTRUCTIONS_PUBKEY:ibt,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:TL,SYSVAR_RENT_PUBKEY:TI,SYSVAR_REWARDS_PUBKEY:obt,SYSVAR_SLOT_HASHES_PUBKEY:abt,SYSVAR_SLOT_HISTORY_PUBKEY:cbt,SYSVAR_STAKE_HISTORY_PUBKEY:RL,Secp256k1Program:Rw,SendTransactionError:Nz,SolanaJSONRPCError:or,SolanaJSONRPCErrorCode:ubt,StakeAuthorizationLayout:Z0t,StakeInstruction:Y0t,StakeProgram:v5,Struct:Pee,SystemInstruction:fbt,SystemProgram:kc,Transaction:fs,TransactionExpiredBlockheightExceededError:Eee,TransactionExpiredNonceInvalidError:YA,TransactionExpiredTimeoutError:xee,TransactionInstruction:Ws,TransactionMessage:Ree,TransactionStatus:Am,VALIDATOR_INFO_KEY:z2e,VERSION_PREFIX_MASK:m5,VOTE_PROGRAM_ID:e1t,ValidatorInfo:Oee,VersionedMessage:Tee,VersionedTransaction:Bee,VoteAccount:Lee,VoteAuthorizationLayout:X0t,VoteInit:M2e,VoteInstruction:J0t,VoteProgram:HR,clusterApiUrl:s1t,sendAndConfirmRawTransaction:i1t,sendAndConfirmTransaction:iG},Symbol.toStringTag,{value:"Module"})),A5=Wl(a1t),c1t=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},u1t=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},dG;Object.defineProperty(ry,"__esModule",{value:!0});ry.PlayerName=ry.playerNameDataEquals=void 0;const $2e=A5,D2e=fr;function l1t(n,e){return n.version===e.version&&n.profile.equals(e.profile)}ry.playerNameDataEquals=l1t;let z4=ry.PlayerName=dG=class{constructor(e,t,r){this._data=e,this._key=t,this._name=r}get data(){return this._data}get key(){return this._key}get name(){return this._name}static findAddress(e,t){return $2e.PublicKey.findProgramAddressSync([rt.Buffer.from("player_name"),t.toBuffer()],e.programId)}static decodeData(e,t){return(0,D2e.decodeAccountWithRemaining)(e,t,dG,r=>new TextDecoder().decode(r))}};z4.ACCOUNT_NAME="playerName";z4.MIN_DATA_SIZE=8+1+32+1;ry.PlayerName=z4=dG=c1t([(0,D2e.staticImplements)(),u1t("design:paramtypes",[Object,$2e.PublicKey,String])],z4);var $4={};(function(n){var e=K&&K.__decorate||function(S,p,I,w){var A=arguments.length,P=A<3?p:w===null?w=Object.getOwnPropertyDescriptor(p,I):w,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(S,p,I,w);else for(var M=S.length-1;M>=0;M--)(E=S[M])&&(P=(A<3?E(P):A>3?E(p,I,P):E(p,I))||P);return A>3&&P&&Object.defineProperty(p,I,P),P},t=K&&K.__metadata||function(S,p){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(S,p)},r=K&&K.__awaiter||function(S,p,I,w){function A(P){return P instanceof I?P:new I(function(E){E(P)})}return new(I||(I=Promise))(function(P,E){function M($){try{R(w.next($))}catch(z){E(z)}}function x($){try{R(w.throw($))}catch(z){E(z)}}function R($){$.done?P($.value):A($.value).then(M,x)}R((w=w.apply(S,p||[])).next())})},s,i;Object.defineProperty(n,"__esModule",{value:!0}),n.PlayerProfile=n.findKeyInProfile=n.profileKeyInputToFindKeyInput=n.getProfileKey=n.ProfilePermissions=n.PROFILE_KEY_MIN_DATA_SIZE=n.profileKeyEquals=n.profileDataEquals=void 0;const o=A5,a=Kc,c=fr,u=l5,l=ry;function d(S,p){return S.authKeyCount===p.authKeyCount&&S.keyThreshold===p.keyThreshold&&S.nextSeqId.eq(p.nextSeqId)&&S.createdAt.eq(p.createdAt)}n.profileDataEquals=d;function y(S,p){return S.key.equals(p.key)&&S.scope.equals(p.scope)&&S.expireTime.eq(p.expireTime)&&(0,c.arrayDeepEquals)(S.permissions,p.permissions,(I,w)=>I===w)}n.profileKeyEquals=y,n.PROFILE_KEY_MIN_DATA_SIZE=32+32+8+8;let h=n.ProfilePermissions=s=class{constructor(p,I,w,A,P,E,M,x,R,$,z,T){this.auth=p,this.addKeys=I,this.removeKeys=w,this.changeName=A,this.createRole=P,this.removeRole=E,this.setAuthorizer=M,this.joinRole=x,this.leaveRole=R,this.toggleAcceptingMembers=$,this.addMember=z,this.removeMember=T}static auth(){return new s(!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static addKeys(){return new s(!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static removeKeys(){return new s(!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static changeName(){return new s(!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1)}static createRole(){return new s(!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1)}static removeRole(){return new s(!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1)}static setAuthorizer(){return new s(!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1)}static joinRole(){return new s(!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1)}static leaveRole(){return new s(!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1)}static toggleAcceptingMembers(){return new s(!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1)}static addMembers(){return new s(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1)}static removeMembers(){return new s(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0)}getPermissions(){const p=(0,c.fixedSizeArray)(8,0);return p[0]=(this.auth?1<<0:0)|(this.addKeys?1<<1:0)|(this.removeKeys?1<<2:0)|(this.changeName?1<<3:0)|(this.createRole?1<<4:0)|(this.removeRole?1<<5:0)|(this.setAuthorizer?1<<6:0)|(this.joinRole?1<<7:0),p[1]=(this.leaveRole?1<<0:0)|(this.toggleAcceptingMembers?1<<1:0)|(this.addMember?1<<2:0)|(this.removeMember?1<<3:0),p}static empty(){return new s(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static all(){return new s(!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0)}static fromPermissions(p){return new s((p[0]&1<<0)!==0,(p[0]&1<<1)!==0,(p[0]&1<<2)!==0,(p[0]&1<<3)!==0,(p[0]&1<<4)!==0,(p[0]&1<<5)!==0,(p[0]&1<<6)!==0,(p[0]&1<<7)!==0,(p[1]&1<<0)!==0,(p[1]&1<<1)!==0,(p[1]&1<<2)!==0,(p[1]&1<<3)!==0)}and(p){return new s(this.auth&&p.auth,this.addKeys&&p.addKeys,this.removeKeys&&p.removeKeys,this.changeName&&p.changeName,this.createRole&&p.createRole,this.removeRole&&p.removeRole,this.setAuthorizer&&p.setAuthorizer,this.joinRole&&p.joinRole,this.leaveRole&&p.leaveRole,this.toggleAcceptingMembers&&p.toggleAcceptingMembers,this.addMember&&p.addMember,this.removeMember&&p.removeMember)}or(p){return new s(this.auth||p.auth,this.addKeys||p.addKeys,this.removeKeys&&p.removeKeys,this.changeName||p.changeName,this.createRole||p.createRole,this.removeRole||p.removeRole,this.setAuthorizer||p.setAuthorizer,this.joinRole||p.joinRole,this.leaveRole||p.leaveRole,this.toggleAcceptingMembers||p.toggleAcceptingMembers,this.addMember||p.addMember,this.removeMember||p.removeMember)}eq(p){return this.auth===p.auth&&this.addKeys===p.addKeys&&this.removeKeys==p.removeKeys&&this.changeName===p.changeName&&this.createRole===p.createRole&&this.removeRole===p.removeRole&&this.setAuthorizer===p.setAuthorizer&&this.joinRole===p.joinRole&&this.leaveRole===p.leaveRole&&this.toggleAcceptingMembers===p.toggleAcceptingMembers&&this.addMember===p.addMember&&this.removeMember===p.removeMember}contains(p){return(!p.auth||this.auth)&&(!p.addKeys||this.addKeys)&&(!p.removeKeys||this.removeKeys)&&(!p.changeName||this.changeName)&&(!p.createRole||this.createRole)&&(!p.removeRole||this.removeRole)&&(!p.setAuthorizer||this.setAuthorizer)&&(!p.joinRole||this.joinRole)&&(!p.leaveRole||this.leaveRole)&&(!p.toggleAcceptingMembers||this.toggleAcceptingMembers)&&(!p.addMember||this.addMember)&&(!p.removeMember||this.removeMember)}};n.ProfilePermissions=h=s=e([(0,c.staticImplements)(),t("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean])],h);function m(S){return"profile"in S?S.profile.key:S.profileKey}n.getProfileKey=m;function f(S,p,I){return"keyIndex"in S?S:Object.assign(Object.assign({},S),{validScopes:p,requiredPermissions:I})}n.profileKeyInputToFindKeyInput=f;function g(S,p){if("keyIndex"in S)return S;{const{key:I,profile:w,validScopes:A,requiredPermissions:P}=S,M=w.profileKeys.findIndex(x=>{const R=x.key.equals(I.publicKey()),$=x.scope.equals(S.playerProfileProgram.programId)&&h.fromPermissions(x.permissions).contains(h.auth()),z=()=>{for(const v of A)if(v.equals(x.scope))return!0;return!1},T=()=>p.fromPermissions(x.permissions).contains(P);return R&&($||z()&&T())});return M===-1?{error:"cannot find key"}:{profileKey:w.key,key:I,keyIndex:M}}}n.findKeyInProfile=g;let b=n.PlayerProfile=i=class{constructor(p,I,w){this._data=p,this._key=I,this._profileKeys=w}get data(){return this._data}get key(){return this._key}get profileKeys(){return this._profileKeys}static createProfile(p,I,w,A){return P=>r(this,void 0,void 0,function*(){return{instruction:yield p.methods.createProfile(w.map(E=>{if(E.expireTime!==null&&E.expireTime.lt(new a.BN(0)))throw new Error("expire time will result in negation. Use explicitly null instead");return{scope:E.scope,expireTime:E.expireTime===null?new a.BN(-1):E.expireTime,permissions:E.permissions.getPermissions()}}),A).accountsStrict({funder:P.publicKey(),profile:I.publicKey(),systemProgram:o.SystemProgram.programId}).remainingAccounts(w.map(E=>(0,c.isAsyncSigner)(E.key)?{pubkey:E.key.publicKey(),isSigner:!0,isWritable:!1}:{pubkey:E.key,isSigner:!1,isWritable:!1})).instruction(),signers:[P,I,...w.map(E=>E.key).filter(c.isAsyncSigner)]}})}static createRole(p,I,w,A){const P=g(f(I,[p.programId],h.changeName()),h);if("error"in P)throw P.error;const{profileKey:E,key:M,keyIndex:x}=P;return{instructions:R=>r(this,void 0,void 0,function*(){return[{instruction:yield p.methods.createRole(x).accountsStrict({funder:R.publicKey(),profile:E,systemProgram:o.SystemProgram.programId,newRoleAccount:w[0]}).remainingAccounts([{pubkey:M.publicKey(),isSigner:!0,isWritable:!1}].concat((0,u.getMetaAccountsFromProfilesOrRoles)(A))).instruction().then(z=>(0,u.addKeyIndexesToTransactionInstruction)(z,A)),signers:[R,M]}]}),role:w}}static removeRole(p,I,w,A){const P=g(f(I,[p.programId],h.changeName()),h);if("error"in P)throw P.error;const{profileKey:E,key:M,keyIndex:x}=P,[R,$]=l.PlayerName.findAddress(p,w);return z=>r(this,void 0,void 0,function*(){return[{instruction:yield p.methods.removeRole($,x).accountsStrict({funder:z.publicKey(),profile:E,roleAccount:w,roleNameAccount:R}).remainingAccounts([{pubkey:M.publicKey(),isSigner:!0,isWritable:!1}].concat((0,u.getMetaAccountsFromProfilesOrRoles)(A))).instruction().then(T=>(0,u.addKeyIndexesToTransactionInstruction)(T,A)),signers:[z,M]}]})}static setName(p,I,w,A){const P=g(f(I,[p.programId],h.changeName()),h);if("error"in P)throw P.error;const{profileKey:E,key:M,keyIndex:x}=P,R=l.PlayerName.findAddress(p,E);return{instructions:$=>r(this,void 0,void 0,function*(){return[{instruction:yield p.methods.setName(x,rt.Buffer.from(new TextEncoder().encode(w))).accountsStrict({key:M.publicKey(),funder:$.publicKey(),profile:E,name:R[0],systemProgram:o.SystemProgram.programId}).remainingAccounts((0,u.getMetaAccountsFromProfilesOrRoles)(A)).instruction().then(z=>(0,u.addKeyIndexesToTransactionInstruction)(z,A)),signers:[$,M]}]}),name:R}}static addKeys(p,I,w,A,P,E,M){const x=E.reduce((z,T)=>z.or(T.permissions),A.empty()),{addKeyIndex:R,permissionsKeyIndex:$}=w.profileKeys.reduce((z,T,v)=>{if(z.addKeyIndex!==null&&z.permissionsKeyIndex!==null)return z;if(T.key.equals(I.publicKey())){if(T.scope.equals(p.programId)){const k=h.fromPermissions(T.permissions);if(k.auth)return{addKeyIndex:v,permissionsKeyIndex:v};k.addKeys&&(z.addKeyIndex=v)}P.equals(T.scope)&&x.and(A.fromPermissions(T.permissions)).eq(x)&&(z.permissionsKeyIndex=v)}return z},{addKeyIndex:null,permissionsKeyIndex:null});if(R===null||$===null)throw new Error("key does not have permissions to add given keys");return z=>r(this,void 0,void 0,function*(){return[{instruction:yield p.methods.addKeys(R,$,E.map(T=>({scope:P,expireTime:T.expireTime===null?new a.BN(-1):T.expireTime,permissions:T.permissions.getPermissions()}))).accountsStrict({funder:z.publicKey(),profile:w.key,key:I.publicKey(),systemProgram:o.SystemProgram.programId}).remainingAccounts(E.map(T=>({pubkey:T.key,isSigner:!1,isWritable:!1})).concat((0,u.getMetaAccountsFromProfilesOrRoles)(M))).instruction().then(T=>(0,u.addKeyIndexesToTransactionInstruction)(T,M)),signers:[z,I]}]})}static removeKeys(p,I,w,A,P){const E=g(f(I,[p.programId],h.removeKeys()),h);if("error"in E)throw E.error;const{profileKey:M,key:x,keyIndex:R}=E;return $=>r(this,void 0,void 0,function*(){return{instruction:yield p.methods.removeKeys(R,A).accountsStrict({funder:w==="funder"?$.publicKey():w,key:x.publicKey(),profile:M,systemProgram:o.SystemProgram.programId}).remainingAccounts((0,u.getMetaAccountsFromProfilesOrRoles)(P)).instruction().then(z=>(0,u.addKeyIndexesToTransactionInstruction)(z,P)),signers:[x]}})}static adjustAuth(p,I,w,A,P,E){if(I.length===0)throw new Error("no keys provided");const M=I.map(T=>g(f(T,[p.programId],h.auth()),h)),x=M.filter(T=>"error"in T);if(x.length>0)throw x[0].error;const R=M;let $=null;for(const T of R)if($===null)$=T.profileKey;else if(!$.equals(T.profileKey))throw new Error("keys are not from the same profile");if($===null)throw new Error("no keys provided after profile key");const z=w.map(T=>T(({key:v,expireTime:k,scope:_,permissions:B})=>{if(k!==null&&k.lt(new a.BN(0)))throw new Error("expire time will result in negation. Use explicitly null instead");return[{scope:_,expireTime:k===null?new a.BN(-1):k,permissions:B.getPermissions()},v]}));return T=>r(this,void 0,void 0,function*(){return{instruction:yield p.methods.adjustAuth(R.map(v=>v.keyIndex),z.map(([v])=>v),A,P).accountsStrict({funder:T.publicKey(),profile:$,systemProgram:o.SystemProgram.programId}).remainingAccounts([...R.map(v=>({pubkey:v.key.publicKey(),isSigner:!0,isWritable:!1})),...z.map(([v,k])=>({pubkey:k,isSigner:!1,isWritable:!1}))].concat((0,u.getMetaAccountsFromProfilesOrRoles)(E))).instruction().then(v=>(0,u.addKeyIndexesToTransactionInstruction)(v,E)),signers:[T,...R.map(v=>v.key)]}})}static decodeData(p,I){return(0,c.decodeAccountWithRemaining)(p,I,i,(w,A)=>{const P=w.readUint16LE();return w=w.subarray(2),Array(P).fill(0).map((E,M)=>I.coder.types.decode("ProfileKey",w.subarray(n.PROFILE_KEY_MIN_DATA_SIZE*M).subarray(0,n.PROFILE_KEY_MIN_DATA_SIZE)))})}};b.ACCOUNT_NAME="profile",b.MIN_DATA_SIZE=8+1+2+1+8+8,n.PlayerProfile=b=i=e([(0,c.staticImplements)(),t("design:paramtypes",[Object,o.PublicKey,Array])],b)})($4);var Uz={};(function(n){var e=K&&K.__decorate||function(u,l,d,y){var h=arguments.length,m=h<3?l:y===null?y=Object.getOwnPropertyDescriptor(l,d):y,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,l,d,y);else for(var g=u.length-1;g>=0;g--)(f=u[g])&&(m=(h<3?f(m):h>3?f(l,d,m):f(l,d))||m);return h>3&&m&&Object.defineProperty(l,d,m),m},t=K&&K.__metadata||function(u,l){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,l)},r;Object.defineProperty(n,"__esModule",{value:!0}),n.ProfileRoleMembership=n.roleMembershipEquals=n.ROLE_MEMBERSHIP_MIN_DATA_SIZE=n.MemberStatus=void 0;const s=A5,i=fr;var o;(function(u){u[u.Inactive=0]="Inactive",u[u.Active=1]="Active"})(o||(n.MemberStatus=o={})),n.ROLE_MEMBERSHIP_MIN_DATA_SIZE=32+1;function a(u,l){return u.key.equals(l.key)&&u.status===l.status}n.roleMembershipEquals=a;let c=n.ProfileRoleMembership=r=class{constructor(l,d,y){this._data=l,this._key=d,this._roleMemberships=y}get data(){return this._data}get key(){return this._key}get roleMemberships(){return this._roleMemberships}static findAddress(l,d,y){return s.PublicKey.findProgramAddressSync([rt.Buffer.from("role-member"),d.toBuffer(),y.toBuffer()],l.programId)}static decodeData(l,d){return(0,i.decodeAccountWithRemaining)(l,d,r,(y,h)=>{const m=y.readUInt32LE();return y=y.subarray(4),Array(m).fill(0).map((f,g)=>d.coder.types.decode("RoleMembership",y.subarray(n.ROLE_MEMBERSHIP_MIN_DATA_SIZE*g).subarray(0,n.ROLE_MEMBERSHIP_MIN_DATA_SIZE)))})}};c.ACCOUNT_NAME="profileRoleMembership",c.MIN_DATA_SIZE=8+1+32+32+1,n.ProfileRoleMembership=c=r=e([(0,i.staticImplements)(),t("design:paramtypes",[Object,s.PublicKey,Array])],c)})(Uz);var ny={},d1t=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},f1t=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Rf=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},fG;Object.defineProperty(ny,"__esModule",{value:!0});ny.RoleAccount=ny.roleAccountEquals=void 0;const kp=A5,O2e=fr,Xt=l5,ul=Uz;function h1t(n,e){return n.profile.equals(e.profile)&&n.authorizer.equals(e.authorizer)&&n.roleSeqId.eq(e.roleSeqId)&&n.acceptingNewMembers===e.acceptingNewMembers}ny.roleAccountEquals=h1t;let D4=ny.RoleAccount=fG=class{constructor(e,t,r){this._data=e,this._key=t,this._roleMembers=r}get data(){return this._data}get key(){return this._key}get roleMembers(){return this._roleMembers}static setName(e,t,r,s,i){const o=(0,Xt.findKeyInProfile)((0,Xt.profileKeyInputToFindKeyInput)(t,[e.programId],Xt.ProfilePermissions.changeName()),Xt.ProfilePermissions);if("error"in o)throw o.error;const{profileKey:a,key:c,keyIndex:u}=o,l=Xt.PlayerName.findAddress(e,r);return{instructions:d=>Rf(this,void 0,void 0,function*(){return[{instruction:yield e.methods.setRoleName(u,rt.Buffer.from(new TextEncoder().encode(s))).accountsStrict({funder:d.publicKey(),profile:a,name:l[0],systemProgram:kp.SystemProgram.programId,role:r}).remainingAccounts([{pubkey:c.publicKey(),isSigner:!0,isWritable:!1}].concat((0,Xt.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(y=>(0,Xt.addKeyIndexesToTransactionInstruction)(y,i)),signers:[d,c]}]}),name:l}}static setAuthorizer(e,t,r,s,i){const o=(0,Xt.findKeyInProfile)((0,Xt.profileKeyInputToFindKeyInput)(t,[e.programId],Xt.ProfilePermissions.changeName()),Xt.ProfilePermissions);if("error"in o)throw o.error;const{profileKey:a,key:c,keyIndex:u}=o;return l=>Rf(this,void 0,void 0,function*(){return[{instruction:yield e.methods.setRoleAuthorizer(u).accountsStrict({profile:a,funder:l.publicKey(),roleAccount:r,authorizer:s}).remainingAccounts([{pubkey:c.publicKey(),isSigner:!0,isWritable:!1}].concat((0,Xt.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(d=>(0,Xt.addKeyIndexesToTransactionInstruction)(d,i)),signers:[l,c]}]})}static joinRole(e,t,r,s){const{ownerKey:i,keyIndex:o,key:a}=(0,Xt.ownerToAccounts)([e.programId,r.data.profile],Xt.ProfilePermissions.joinRole(),t),c=ul.ProfileRoleMembership.findAddress(e,r.data.profile,i.key);return{instructions:u=>Rf(this,void 0,void 0,function*(){return[{instruction:yield e.methods.joinRole(o).accountsStrict({funder:u.publicKey(),systemProgram:kp.SystemProgram.programId,newMember:i.key,roleMembershipAccount:c[0],roleAccount:r.key}).remainingAccounts([...a===null?[]:[{pubkey:a.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,Xt.getMetaAccountsFromProfilesOrRoles)(s))).instruction().then(l=>{const d=i.signer;if(d){const y=l.keys.find(h=>h.pubkey.equals(d.publicKey()));y&&(y.isSigner=!0)}return(0,Xt.addKeyIndexesToTransactionInstruction)(l,s)}),signers:[u,i.signer,a].filter(l=>!!l&&"publicKey"in l)}]}),roleMembership:c}}static leaveRole(e,t,r,s,i){const{ownerKey:o,keyIndex:a,key:c}=(0,Xt.ownerToAccounts)([e.programId,r.data.profile],Xt.ProfilePermissions.joinRole(),t),u=(0,Xt.findRoleInRoleMemberships)(r.roleMembers,ul.MemberStatus.Active,o.key);if("error"in u)throw u.error;const{keyIndex:l}=u,d=(0,Xt.findRoleInRoleMemberships)(s.roleMemberships,ul.MemberStatus.Active,r.key);if("error"in d)throw d.error;const{keyIndex:y}=d;return h=>Rf(this,void 0,void 0,function*(){return[{instruction:yield e.methods.leaveRole(a,l,y).accountsStrict({funder:h.publicKey(),systemProgram:kp.SystemProgram.programId,member:o.key,roleMembershipAccount:s.key,roleAccount:r.key}).remainingAccounts([...c===null?[]:[{pubkey:c.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,Xt.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(m=>{const f=o.signer;if(f){const g=m.keys.find(b=>b.pubkey.equals(f.publicKey()));g&&(g.isSigner=!0)}return(0,Xt.addKeyIndexesToTransactionInstruction)(m,i)}),signers:[h,o.signer,c].filter(m=>!!m&&"publicKey"in m)}]})}static setAcceptingNewMembers(e,t,r,s){const i=(0,Xt.findKeyInProfile)((0,Xt.profileKeyInputToFindKeyInput)(t,[e.programId,r],Xt.ProfilePermissions.toggleAcceptingMembers()),Xt.ProfilePermissions);if("error"in i)throw i.error;const{profileKey:o,key:a,keyIndex:c}=i;return u=>Rf(this,void 0,void 0,function*(){return[{instruction:yield e.methods.setRoleAcceptingMembers(c).accountsStrict({profile:o,roleAccount:r}).remainingAccounts([{pubkey:a.publicKey(),isSigner:!0,isWritable:!1}].concat((0,Xt.getMetaAccountsFromProfilesOrRoles)(s))).instruction().then(l=>(0,Xt.addKeyIndexesToTransactionInstruction)(l,s)),signers:[u,a]}]})}static setNotAcceptingNewMembers(e,t,r,s){const i=(0,Xt.findKeyInProfile)((0,Xt.profileKeyInputToFindKeyInput)(t,[e.programId,r],Xt.ProfilePermissions.toggleAcceptingMembers()),Xt.ProfilePermissions);if("error"in i)throw i.error;const{profileKey:o,key:a,keyIndex:c}=i;return u=>Rf(this,void 0,void 0,function*(){return[{instruction:yield e.methods.setRoleNotAcceptingMembers(c).accountsStrict({profile:o,roleAccount:r}).remainingAccounts([{pubkey:a.publicKey(),isSigner:!0,isWritable:!1}].concat((0,Xt.getMetaAccountsFromProfilesOrRoles)(s))).instruction().then(l=>(0,Xt.addKeyIndexesToTransactionInstruction)(l,s)),signers:[u,a]}]})}static inviteToRole(e,t,r,s,i){const o=(0,Xt.findKeyInProfile)((0,Xt.profileKeyInputToFindKeyInput)(t,[e.programId,r.key],Xt.ProfilePermissions.toggleAcceptingMembers()),Xt.ProfilePermissions);if("error"in o)throw o.error;const{profileKey:a,key:c,keyIndex:u}=o,l=ul.ProfileRoleMembership.findAddress(e,r.data.profile,s);return{instructions:d=>Rf(this,void 0,void 0,function*(){return[{instruction:yield e.methods.inviteMemberToRole(u).accountsStrict({profile:a,roleAccount:r.key,funder:d.publicKey(),systemProgram:kp.SystemProgram.programId,newMember:s,roleMembershipAccount:l[0]}).remainingAccounts([{pubkey:c.publicKey(),isSigner:!0,isWritable:!1}].concat((0,Xt.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(y=>(0,Xt.addKeyIndexesToTransactionInstruction)(y,i)),signers:[d,c]}]}),roleMembership:l}}static acceptInvite(e,t,r,s,i){const{ownerKey:o,keyIndex:a,key:c}=(0,Xt.ownerToAccounts)([e.programId,r.data.profile],Xt.ProfilePermissions.joinRole(),t),u=(0,Xt.findRoleInRoleMemberships)(r.roleMembers,ul.MemberStatus.Inactive,o.key);if("error"in u)throw u.error;const{keyIndex:l}=u,d=(0,Xt.findRoleInRoleMemberships)(s.roleMemberships,ul.MemberStatus.Inactive,r.key);if("error"in d)throw d.error;const{keyIndex:y}=d,h=ul.ProfileRoleMembership.findAddress(e,r.data.profile,o.key);return{instructions:m=>Rf(this,void 0,void 0,function*(){return[{instruction:yield e.methods.acceptRoleInvitation(a,l,y).accountsStrict({newMember:o.key,roleAccount:r.key,roleMembershipAccount:h[0]}).remainingAccounts([...c===null?[]:[{pubkey:c.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,Xt.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(f=>{const g=o.signer;if(g){const b=f.keys.find(S=>S.pubkey.equals(g.publicKey()));b&&(b.isSigner=!0)}return(0,Xt.addKeyIndexesToTransactionInstruction)(f,i)}),signers:[m,o.signer,c].filter(f=>!!f&&"publicKey"in f)}]}),roleMembership:h}}static addExistingMemberToRole(e,t,r,s,i,o){const a=(0,Xt.findKeyInProfile)((0,Xt.profileKeyInputToFindKeyInput)(t,[e.programId,r.key],Xt.ProfilePermissions.toggleAcceptingMembers()),Xt.ProfilePermissions);if("error"in a)throw a.error;const{profileKey:c,key:u,keyIndex:l}=a,d=(0,Xt.findRoleInRoleMemberships)(s.roleMemberships,ul.MemberStatus.Active);if("error"in d)throw d.error;const{keyIndex:y}=d,h=ul.ProfileRoleMembership.findAddress(e,r.data.profile,i);return{instructions:m=>Rf(this,void 0,void 0,function*(){return[{instruction:yield e.methods.addExistingMemberToRole(l,y).accountsStrict({profile:c,newMember:i,roleAccount:r.key,roleMembershipAccount:s.key,funder:m.publicKey(),systemProgram:kp.SystemProgram.programId}).remainingAccounts([...u===null?[]:[{pubkey:u.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,Xt.getMetaAccountsFromProfilesOrRoles)(o))).instruction().then(g=>(0,Xt.addKeyIndexesToTransactionInstruction)(g,o)),signers:[m,u]}]}),roleMembership:h}}static removeMemberFromRole(e,t,r,s,i,o){const a=(0,Xt.findKeyInProfile)((0,Xt.profileKeyInputToFindKeyInput)(t,[e.programId,r.key],Xt.ProfilePermissions.toggleAcceptingMembers()),Xt.ProfilePermissions);if("error"in a)throw a.error;const{profileKey:c,key:u,keyIndex:l}=a,d=(0,Xt.findRoleInRoleMemberships)(r.roleMembers,ul.MemberStatus.Active,i);if("error"in d)throw d.error;const{keyIndex:y}=d,h=(0,Xt.findRoleInRoleMemberships)(s.roleMemberships,ul.MemberStatus.Active,r.key);if("error"in h)throw h.error;const{keyIndex:m}=h;return f=>Rf(this,void 0,void 0,function*(){return[{instruction:yield e.methods.removeMemberFromRole(l,y,m).accountsStrict({profile:c,member:i,roleAccount:r.key,roleMembershipAccount:s.key,funder:f.publicKey(),systemProgram:kp.SystemProgram.programId}).remainingAccounts([...u===null?[]:[{pubkey:u.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,Xt.getMetaAccountsFromProfilesOrRoles)(o))).instruction().then(b=>(0,Xt.addKeyIndexesToTransactionInstruction)(b,o)),signers:[f,u]}]})}static findAddress(e,t,r){return kp.PublicKey.findProgramAddressSync([rt.Buffer.from("profile-role"),t.toBuffer(),r.toArrayLike(rt.Buffer,"le",8)],e.programId)}static decodeData(e,t){return(0,O2e.decodeAccountWithRemaining)(e,t,fG,(r,s)=>{const i=r.readUint32LE();return r=r.subarray(4),Array(i).fill(0).map((o,a)=>t.coder.types.decode("RoleMembership",r.subarray(ul.ROLE_MEMBERSHIP_MIN_DATA_SIZE*a).subarray(0,ul.ROLE_MEMBERSHIP_MIN_DATA_SIZE)))})}};D4.ACCOUNT_NAME="role";D4.MIN_DATA_SIZE=8+1+32+32+8+1+1;ny.RoleAccount=D4=fG=d1t([(0,O2e.staticImplements)(),f1t("design:paramtypes",[Object,kp.PublicKey,Array])],D4);var ud={},g1t=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(ud,"__esModule",{value:!0});ud.getMetaAccountsFromProfilesOrRoles=ud.addKeyIndexesToTransactionInstruction=ud.findRoleInRoleMemberships=ud.findAllRoles=ud.ownerToAccounts=void 0;const m1t=fr,XU=$4,y1t=Uz,p1t=ny;function b1t(n,e,t){if("profile"in t){const r=(0,XU.findKeyInProfile)((0,XU.profileKeyInputToFindKeyInput)(t.profile,n,e),XU.ProfilePermissions);if("error"in r)throw new Error(r.error);return{ownerKey:{key:r.profileKey},keyIndex:r.keyIndex,key:r.key}}else return{ownerKey:{key:t.key.publicKey(),signer:t.key},keyIndex:0,key:null}}ud.ownerToAccounts=b1t;function S1t(n,e,t){return g1t(this,void 0,void 0,function*(){const r=[];return(yield(0,m1t.readAllFromRPC)(e,t,p1t.RoleAccount,"confirmed",[{memcmp:{offset:9,bytes:n.toBase58()}}])).forEach(i=>{i.type==="ok"&&r.push(i.data)}),r})}ud.findAllRoles=S1t;function k1t(n,e=y1t.MemberStatus.Active,t){const r=n.findIndex(s=>{const i=!t||s.key.equals(t),o=s.status===e;return i&&o});return r===-1?{error:"Role membership not found"}:{roleMembership:{key:n[r].key,status:e},keyIndex:r}}ud.findRoleInRoleMemberships=k1t;function v1t(n,e){const t=w1t(e);return n.data=rt.Buffer.concat([n.data,t]),n}ud.addKeyIndexesToTransactionInstruction=v1t;function A1t(n){var e;return(e=n==null?void 0:n.map(t=>({pubkey:t.extraProfilesOrRoles,isSigner:!1,isWritable:!1})))!==null&&e!==void 0?e:[]}ud.getMetaAccountsFromProfilesOrRoles=A1t;function w1t(n){var e;const t=rt.Buffer.alloc(2*((e=n==null?void 0:n.length)!==null&&e!==void 0?e:0));for(const[r,s]of(n??[]).entries())t.writeUint16LE(s.extraKeyIndexes,r*2);return t}(function(n){var e=K&&K.__createBinding||(Object.create?function(m,f,g,b){b===void 0&&(b=g);var S=Object.getOwnPropertyDescriptor(f,g);(!S||("get"in S?!f.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return f[g]}}),Object.defineProperty(m,b,S)}:function(m,f,g,b){b===void 0&&(b=g),m[b]=f[g]}),t=K&&K.__decorate||function(m,f,g,b){var S=arguments.length,p=S<3?f:b===null?b=Object.getOwnPropertyDescriptor(f,g):b,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(m,f,g,b);else for(var w=m.length-1;w>=0;w--)(I=m[w])&&(p=(S<3?I(p):S>3?I(f,g,p):I(f,g))||p);return S>3&&p&&Object.defineProperty(f,g,p),p},r=K&&K.__exportStar||function(m,f){for(var g in m)g!=="default"&&!Object.prototype.hasOwnProperty.call(f,g)&&e(f,m,g)},s=K&&K.__metadata||function(m,f){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(m,f)};Object.defineProperty(n,"__esModule",{value:!0}),n.PlayerProfileProgram=n.playerProfileErrorMap=n.PLAYER_PROFILE_IDL=void 0;const i=Kc,o=fr,a=Dz,c=ry,u=$4,l=Uz,d=ny;var y=Dz;Object.defineProperty(n,"PLAYER_PROFILE_IDL",{enumerable:!0,get:function(){return y.IDL}}),r(ry,n),r($4,n),r(Uz,n),r(ny,n),r(ud,n),n.playerProfileErrorMap=(0,o.generateErrorMap)(a.IDL);let h=n.PlayerProfileProgram=class extends o.ListenProgram{constructor(f){super(f,{profile:u.PlayerProfile,playerName:c.PlayerName,role:d.RoleAccount,roleMembership:l.ProfileRoleMembership})}static buildProgram(f,g,b){return new i.Program(a.IDL,f,g,b)}};n.PlayerProfileProgram=h=t([(0,o.staticImplements)(),s("design:paramtypes",[Object])],h)})(l5);var jR={},I1t=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},_1t=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},vp;Object.defineProperty(jR,"__esModule",{value:!0});jR.FactionPermissions=void 0;const L2e=fr;let Ibe=jR.FactionPermissions=vp=class{constructor(e){this.setFaction=e}getPermissions(){const e=(0,L2e.fixedSizeArray)(8,0);return e[0]=this.setFaction?1<<0:0,e}static empty(){return new vp(!1)}static all(){return new vp(!0)}static setFactionPermissions(){return new vp(!0)}static fromPermissions(e){return new vp((e[0]&1<<0)!==0)}and(e){return new vp(this.setFaction&&e.setFaction)}or(e){return new vp(this.setFaction||e.setFaction)}eq(e){return this.setFaction===e.setFaction}contains(e){return this.setFaction||!e.setFaction}};jR.FactionPermissions=Ibe=vp=I1t([(0,L2e.staticImplements)(),_1t("design:paramtypes",[Boolean])],Ibe);var P1t=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},E1t=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},x1t=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},cM;Object.defineProperty(Oh,"__esModule",{value:!0});Oh.ProfileFactionAccount=Oh.Faction=Oh.profileFactionDataEquals=void 0;const hG=syt,gG=fr,E3=l5,_be=jR;function T1t(n,e){return n.version===e.version&&n.faction===e.faction&&n.profile.equals(e.profile)}Oh.profileFactionDataEquals=T1t;var mG;(function(n){n[n.Unaligned=0]="Unaligned",n[n.MUD=1]="MUD",n[n.ONI=2]="ONI",n[n.Ustur=3]="Ustur"})(mG||(Oh.Faction=mG={}));let O4=Oh.ProfileFactionAccount=cM=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static chooseFactionBareBones(e,t,r,s,i,o){const a=cM.findAddress(e,r);return{instructions:c=>x1t(this,void 0,void 0,function*(){return{instruction:yield e.methods.chooseFaction(i,(0,gG.getAnchorEnum)(mG,s)).accountsStrict({key:t.publicKey(),funder:c.publicKey(),profile:r,faction:a[0],systemProgram:hG.SystemProgram.programId}).remainingAccounts((0,E3.getMetaAccountsFromProfilesOrRoles)(o)).instruction().then(u=>(0,E3.addKeyIndexesToTransactionInstruction)(u,o)),signers:[t]}}),faction:a}}static chooseFaction(e,t,r,s){const i=(0,E3.findKeyInProfile)((0,E3.profileKeyInputToFindKeyInput)(t,[e.programId],_be.FactionPermissions.setFactionPermissions()),_be.FactionPermissions);if("error"in i)throw i.error;const{profileKey:o,key:a,keyIndex:c}=i;return cM.chooseFactionBareBones(e,a,o,r,c,s)}static findAddress(e,t){return hG.PublicKey.findProgramAddressSync([rt.Buffer.from("player_faction"),t.toBuffer()],e.programId)}static decodeData(e,t){return(0,gG.decodeAccount)(e,t,cM)}};O4.ACCOUNT_NAME="profileFactionAccount";O4.MIN_DATA_SIZE=8+1+32+1+1;Oh.ProfileFactionAccount=O4=cM=P1t([(0,gG.staticImplements)(),E1t("design:paramtypes",[Object,hG.PublicKey])],O4);(function(n){var e=K&&K.__decorate||function(u,l,d,y){var h=arguments.length,m=h<3?l:y===null?y=Object.getOwnPropertyDescriptor(l,d):y,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,l,d,y);else for(var g=u.length-1;g>=0;g--)(f=u[g])&&(m=(h<3?f(m):h>3?f(l,d,m):f(l,d))||m);return h>3&&m&&Object.defineProperty(l,d,m),m},t=K&&K.__metadata||function(u,l){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,l)};Object.defineProperty(n,"__esModule",{value:!0}),n.ProfileFactionProgram=n.profileFactionErrorMap=n.PROFILE_FACTION_IDL=void 0;const r=Kc,s=fr,i=Tz,o=Oh;var a=Tz;Object.defineProperty(n,"PROFILE_FACTION_IDL",{enumerable:!0,get:function(){return a.IDL}}),n.profileFactionErrorMap=(0,s.generateErrorMap)(i.IDL);let c=n.ProfileFactionProgram=class extends s.ListenProgram{constructor(l){super(l,{profileFaction:o.ProfileFactionAccount})}static buildProgram(l,d,y){return new r.Program(i.IDL,l,d,y)}};n.ProfileFactionProgram=c=e([(0,s.staticImplements)(),t("design:paramtypes",[Object])],c)})(VTe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(VTe,n),t(jR,n),t(Oh,n)})(X6);var w5={};(function(n){var e=K&&K.__decorate||function(c,u,l,d){var y=arguments.length,h=y<3?u:d===null?d=Object.getOwnPropertyDescriptor(u,l):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(c,u,l,d);else for(var f=c.length-1;f>=0;f--)(m=c[f])&&(h=(y<3?m(h):y>3?m(u,l,h):m(u,l))||h);return y>3&&h&&Object.defineProperty(u,l,h),h},t=K&&K.__metadata||function(c,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(c,u)},r;Object.defineProperty(n,"__esModule",{value:!0}),n.FleetShips=n.fleetShipsEquals=n.FLEET_SHIPS_MIN_DATA_SIZE=void 0;const s=di,i=fr;n.FLEET_SHIPS_MIN_DATA_SIZE=8+1+1+32+4;function o(c,u){return c.version===u.version&&c.bump===u.bump&&c.fleet.equals(u.fleet)&&c.fleetShipsInfoCount==u.fleetShipsInfoCount}n.fleetShipsEquals=o;let a=r=class{constructor(u,l,d){this._data=u,this._key=l,this._fleetShips=d}get data(){return this._data}get key(){return this._key}get fleetShips(){return this._fleetShips||[]}static findAddress(u,l){return s.PublicKey.findProgramAddressSync([rt.Buffer.from("FleetShips"),l.toBuffer()],u.programId)}static decodeData(u,l){return(0,i.decodeAccountWithRemaining)(u,l,r,(y,h)=>Array(h.fleetShipsInfoCount).fill(0).map((m,f)=>l.coder.types.decode("FleetShipsInfo",y.subarray(48*f).subarray(0,48))))}};n.FleetShips=a,a.ACCOUNT_NAME="fleetShips",a.MIN_DATA_SIZE=n.FLEET_SHIPS_MIN_DATA_SIZE,n.FleetShips=a=r=e([(0,i.staticImplements)(),t("design:paramtypes",[Object,s.PublicKey,Array])],a)})(w5);var sy={},R1t=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},B1t=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},x3=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},BL;Object.defineProperty(sy,"__esModule",{value:!0});sy.MineItem=sy.mineItemDataEquals=void 0;const Pbe=Nl,yG=di,L4=fr;function C1t(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.mint.equals(e.mint)&&(0,L4.arrayDeepEquals)(n.name,e.name,(t,r)=>t===r)&&n.numResourceAccounts.eq(e.numResourceAccounts)&&n.resourceHardness===e.resourceHardness&&n.bump===e.bump}sy.mineItemDataEquals=C1t;let BI=BL=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return yG.PublicKey.findProgramAddressSync([rt.Buffer.from("MineItem"),t.toBuffer(),r.toBuffer()],e.programId)}static registerMineItem(e,t,r,s,i,o){const a=BL.findAddress(e,i,s);return{mineItemKey:a,instructions:c=>x3(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerMineItem(o).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:i},funder:c.publicKey(),mineItem:a[0],mint:s,systemProgram:yG.SystemProgram.programId}).instruction(),signers:[t,c]}]})}}static fundMineItemBank(e,t,r,s,i){const o=(0,Pbe.getAssociatedTokenAddressSync)(t,e,!0);return(0,L4.transferToTokenAccount)(r,s,o,i)}static updateMineItem(e,t,r,s,i,o){const a=Object.assign(Object.assign({},o),{name:o.name==null?null:o.name,resourceHardness:o.resourceHardness==null?null:o.resourceHardness});return()=>x3(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateMineItem(a).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:i},mineItem:s}).instruction(),signers:[t]}]})}static drainMineItemBank(e,t,r,s,i,o,a,c,u){return l=>x3(this,void 0,void 0,function*(){return[{instruction:yield e.methods.drainMineItemBank(u).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},fundsTo:s==="funder"?l.publicKey():s,mineItem:i,tokenFrom:a,tokenTo:c,tokenProgram:Pbe.TOKEN_PROGRAM_ID}).instruction(),signers:[t]}]})}static deregisterMineItem(e,t,r,s,i,o,a){return c=>x3(this,void 0,void 0,function*(){return[{instruction:yield e.methods.deregisterMineItem(a).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},fundsTo:s==="funder"?c.publicKey():s,mineItem:i}).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,L4.decodeAccount)(e,t,BL)}};sy.MineItem=BI;BI.ACCOUNT_NAME="mineItem";BI.MIN_DATA_SIZE=8+1+32+32+64+8+2+1;BI.RESOURCE_HARDNESS_DECIMALS=100;sy.MineItem=BI=BL=R1t([(0,L4.staticImplements)(),B1t("design:paramtypes",[Object,yG.PublicKey])],BI);var Zd={},M1t=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},z1t=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},QU=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},CL;Object.defineProperty(Zd,"__esModule",{value:!0});Zd.Resource=Zd.resourceDataEquals=Zd.LocationType=void 0;const pG=di,K2e=fr;var Ebe;(function(n){n[n.Planet=1]="Planet"})(Ebe||(Zd.LocationType=Ebe={}));function $1t(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.location.equals(e.location)&&n.mineItem.equals(e.mineItem)&&n.locationType===e.locationType&&n.numMiners.eq(e.numMiners)&&n.amountMined.eq(e.amountMined)&&n.systemRichness===e.systemRichness&&n.bump===e.bump}Zd.resourceDataEquals=$1t;let CI=CL=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return pG.PublicKey.findProgramAddressSync([rt.Buffer.from("Resource"),t.toBuffer(),r.toBuffer()],e.programId)}static registerResource(e,t,r,s,i,o,a){const c=CL.findAddress(e,i,s);return{resourceKey:c,instructions:u=>QU(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerResource(a).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},funder:u.publicKey(),resource:c[0],location:s,mineItem:i,systemProgram:pG.SystemProgram.programId}).instruction(),signers:[t,u]}]})}}static updateResource(e,t,r,s,i,o,a){return()=>QU(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateResource(Object.assign(Object.assign({},a),{systemRichness:a.systemRichness==null?null:a.systemRichness})).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},mineItem:i,resource:s}).instruction(),signers:[t]}]})}static deregisterResource(e,t,r,s,i,o,a,c,u){return l=>QU(this,void 0,void 0,function*(){return[{instruction:yield e.methods.deregisterResource(u).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:c},fundsTo:s==="funder"?l.publicKey():s,resource:i,mineItem:o,location:a}).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,K2e.decodeAccount)(e,t,CL)}};Zd.Resource=CI;CI.ACCOUNT_NAME="resource";CI.MIN_DATA_SIZE=8+1+32+32+32+1+8+8+2+1;CI.SYSTEM_RICHNESS_DECIMALS=100;Zd.Resource=CI=CL=M1t([(0,K2e.staticImplements)(),z1t("design:paramtypes",[Object,pG.PublicKey])],CI);var I5={};(function(n){var e=K&&K.__decorate||function(m,f,g,b){var S=arguments.length,p=S<3?f:b===null?b=Object.getOwnPropertyDescriptor(f,g):b,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(m,f,g,b);else for(var w=m.length-1;w>=0;w--)(I=m[w])&&(p=(S<3?I(p):S>3?I(f,g,p):I(f,g))||p);return S>3&&p&&Object.defineProperty(f,g,p),p},t=K&&K.__metadata||function(m,f){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(m,f)},r=K&&K.__awaiter||function(m,f,g,b){function S(p){return p instanceof g?p:new g(function(I){I(p)})}return new(g||(g=Promise))(function(p,I){function w(E){try{P(b.next(E))}catch(M){I(M)}}function A(E){try{P(b.throw(E))}catch(M){I(M)}}function P(E){E.done?p(E.value):S(E.value).then(w,A)}P((b=b.apply(m,f||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.Sector=n.connectionFlagsFromByte=n.connectionFlagsToByte=n.connectionFlagsEquals=n.SECTOR_CONNECTION_MIN_DATA_SIZE=n.sectorConnectionEquals=n.sectorDataEquals=n.calculateDistance=void 0;const i=di,o=fr,a=(m,f)=>Math.sqrt(f[0].sub(m[0]).sqr().add(f[1].sub(m[1]).sqr()).toNumber());n.calculateDistance=a;function c(m,f){return m.version===f.version&&m.gameId.equals(f.gameId)&&(0,o.arrayDeepEquals)(m.coordinates,f.coordinates,(g,b)=>g.eq(b))&&m.discoverer.equals(f.discoverer)&&(0,o.arrayDeepEquals)(m.name,f.name,(g,b)=>g===b)&&m.numStars===f.numStars&&m.numPlanets===f.numPlanets&&m.numMoons===f.numMoons&&m.numAsteroidBelts===f.numAsteroidBelts&&m.numConnections===f.numConnections&&m.lastScanTime.eq(f.lastScanTime)&&m.lastScanChance===f.lastScanChance&&m.bump===f.bump}n.sectorDataEquals=c;function u(m,f){return m.connectionSector.equals(f.connectionSector)&&m.subCoordinates[0].eq(f.subCoordinates[0])&&m.subCoordinates[1].eq(f.subCoordinates[1])&&m.flags===f.flags}n.sectorConnectionEquals=u,n.SECTOR_CONNECTION_MIN_DATA_SIZE=32+8*2+1;function l(m,f){return m.isJumpPoint===f.isJumpPoint}n.connectionFlagsEquals=l;function d(m){return m.isJumpPoint?1<<0:0}n.connectionFlagsToByte=d;function y(m){return{isJumpPoint:(m&1<<0)>0}}n.connectionFlagsFromByte=y;let h=s=class{constructor(f,g,b){this._data=f,this._key=g,this._connections=b}get data(){return this._data}get key(){return this._key}get connections(){return this._connections}static findAddress(f,g,b){return i.PublicKey.findProgramAddressSync([rt.Buffer.from("Sector"),g.toBuffer(),b[0].toTwos(64).toArrayLike(rt.Buffer,"le",8),b[1].toTwos(64).toArrayLike(rt.Buffer,"le",8)],f.programId)}static decodeData(f,g){return(0,o.decodeAccountWithRemaining)(f,g,s,(b,S)=>Array(S.numConnections).fill(0).map((p,I)=>g.coder.types.decode("SectorConnection",b.subarray(n.SECTOR_CONNECTION_MIN_DATA_SIZE*I).subarray(0,n.SECTOR_CONNECTION_MIN_DATA_SIZE))))}static registerSector(f,g,b,S,p,I,w,A){const P=s.findAddress(f,p,I);return{sectorKey:P,instructions:E=>r(this,void 0,void 0,function*(){return[{instruction:yield f.methods.registerSector(I,(0,o.stringToByteArray)(w,64),A).accountsStrict({gameAndProfile:{key:g.publicKey(),profile:b,gameId:p},funder:E.publicKey(),discoverer:S,sector:P[0],systemProgram:i.SystemProgram.programId}).instruction(),signers:[g,E]}]})}}static discoverSector(f,g,b,S,p,I,w,A,P){const E=s.findAddress(f,I,A);return{sectorKey:E,instructions:M=>r(this,void 0,void 0,function*(){return[{instruction:yield f.methods.discoverSector({coordinates:A,keyIndex:P}).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:p,owningProfile:b,owningProfileFaction:S,key:g.publicKey()},gameId:I},gameState:w},funder:M.publicKey(),sector:E[0],systemProgram:i.SystemProgram.programId}).instruction(),signers:[g,M]}]})}}static addConnection(f,g,b,S,p,I,w,A,P,E,M){return x=>r(this,void 0,void 0,function*(){return[{instruction:yield f.methods.addConnection(w,d(A),P,d(E),M).accountsStrict({gameAndProfile:{key:g.publicKey(),profile:b,gameId:I},funder:x.publicKey(),sector1:S,sector2:p,systemProgram:i.SystemProgram.programId}).instruction(),signers:[g,x]}]})}static removeConnection(f,g,b,S,p,I,w,A){const P=p.connections.findIndex(M=>M.connectionSector.equals(I.key)),E=I.connections.findIndex(M=>M.connectionSector.equals(p.key));if(P===-1||E===-1)throw new Error("Connection not found");return M=>r(this,void 0,void 0,function*(){return[{instruction:yield f.methods.removeConnection(P,E,w).accountsStrict({gameAndProfile:{key:g.publicKey(),profile:b,gameId:A},fundsTo:S==="funder"?M.publicKey():S,sector1:p.key,sector2:I.key,systemProgram:i.SystemProgram.programId}).instruction(),signers:[g]}]})}};n.Sector=h,h.ACCOUNT_NAME="sector",h.MIN_DATA_SIZE=8+1+32+8*2+32+64+2+2+2+2+2+8+4+1,n.Sector=h=s=e([(0,o.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey,Array])],h)})(I5);var _5={};(function(n){var e=K&&K.__decorate||function(p,I,w,A){var P=arguments.length,E=P<3?I:A===null?A=Object.getOwnPropertyDescriptor(I,w):A,M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(p,I,w,A);else for(var x=p.length-1;x>=0;x--)(M=p[x])&&(E=(P<3?M(E):P>3?M(I,w,E):M(I,w))||E);return P>3&&E&&Object.defineProperty(I,w,E),E},t=K&&K.__metadata||function(p,I){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(p,I)},r=K&&K.__awaiter||function(p,I,w,A){function P(E){return E instanceof w?E:new w(function(M){M(E)})}return new(w||(w=Promise))(function(E,M){function x(z){try{$(A.next(z))}catch(T){M(T)}}function R(z){try{$(A.throw(z))}catch(T){M(T)}}function $(z){z.done?E(z.value):P(z.value).then(x,R)}$((A=A.apply(p,I||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.Ship=n.shipDataEquals=n.shipStatsEquals=n.miscStatsEquals=n.cargoStatsEquals=n.movementStatsEquals=n.SHIP_MIN_DATA_SIZE=n.shipStatsDefault=n.getSizeClassAnchorEnum=n.SHIP_STATS_MIN_DATA_SIZE=n.SHIP_SIZES=n.SizeClass=void 0;const i=di,o=fr;var a;(function(p){p[p.XxSmall=1]="XxSmall",p[p.XSmall=2]="XSmall",p[p.Small=3]="Small",p[p.Medium=4]="Medium",p[p.Large=5]="Large",p[p.Capital=6]="Capital",p[p.Commander=7]="Commander",p[p.Titan=9]="Titan"})(a||(n.SizeClass=a={})),n.SHIP_SIZES={xxSmall:1,xSmall:4,small:9,medium:16,large:25,capital:36,commander:49,titan:81};const c=24,u=36,l=32;n.SHIP_STATS_MIN_DATA_SIZE=c+u+l;const d=p=>{const I=a[p];if(I)return{[I.toUpperCase()===I?I.toLowerCase():I.charAt(0).toLowerCase()+I.slice(1)]:{}};throw new Error(`${p} is not found in the "SizeClass" enum`)};n.getSizeClassAnchorEnum=d;function y(){return{movementStats:{warpSpeed:0,subwarpSpeed:0,maxWarpDistance:0,warpCoolDown:0,subwarpFuelConsumptionRate:0,warpFuelConsumptionRate:0,planetExitFuelAmount:0},cargoStats:{cargoCapacity:0,fuelCapacity:0,ammoCapacity:0,ammoConsumptionRate:0,foodConsumptionRate:0,miningRate:0,upgradeRate:0,cargoTransferRate:0,tractorBeamGatherRate:0},miscStats:{requiredCrew:0,passengerCapacity:0,crewCount:0,rentedCrew:0,respawnTime:0,scanCoolDown:0,sduPerScan:0,scanCost:0,placeholder:0,placeholder2:0,placeholder3:0}}}n.shipStatsDefault=y,n.SHIP_MIN_DATA_SIZE=8+1+32+32+1+8+8+32+64+n.SHIP_STATS_MIN_DATA_SIZE;function h(p,I){return p.subwarpSpeed===I.subwarpSpeed&&p.maxWarpDistance===I.maxWarpDistance&&p.warpCoolDown===I.warpCoolDown&&p.warpCoolDown===I.warpCoolDown&&p.subwarpFuelConsumptionRate===I.subwarpFuelConsumptionRate&&p.warpFuelConsumptionRate===I.warpFuelConsumptionRate&&p.planetExitFuelAmount===I.planetExitFuelAmount}n.movementStatsEquals=h;function m(p,I){return p.cargoCapacity===I.cargoCapacity&&p.fuelCapacity===I.fuelCapacity&&p.ammoCapacity===I.ammoCapacity&&p.ammoConsumptionRate===I.ammoConsumptionRate&&p.foodConsumptionRate===I.foodConsumptionRate&&p.miningRate===I.miningRate&&p.tractorBeamGatherRate===I.tractorBeamGatherRate&&p.cargoTransferRate===I.cargoTransferRate&&p.upgradeRate===I.upgradeRate}n.cargoStatsEquals=m;function f(p,I){return p.requiredCrew===I.requiredCrew&&p.passengerCapacity===I.passengerCapacity&&p.crewCount===I.crewCount&&p.scanCoolDown===I.scanCoolDown&&p.respawnTime===I.respawnTime&&p.sduPerScan===I.sduPerScan&&p.scanCost===I.scanCost&&p.placeholder===I.placeholder&&p.placeholder2===I.placeholder2&&p.placeholder3===I.placeholder3}n.miscStatsEquals=f;function g(p,I){return h(p.movementStats,I.movementStats)&&m(p.cargoStats,I.cargoStats)&&f(p.miscStats,I.miscStats)}n.shipStatsEquals=g;function b(p,I){return p.version===I.version&&p.gameId.equals(I.gameId)&&p.mint.equals(I.mint)&&p.sizeClass===I.sizeClass&&g(p.stats,I.stats)&&p.updateId.eq(I.updateId)&&p.maxUpdateId.eq(I.maxUpdateId)&&p.next.key.equals(I.next.key)&&(0,o.arrayDeepEquals)(p.name,I.name,(w,A)=>w===A)}n.shipDataEquals=b;let S=s=class{constructor(I,w){this._data=I,this._key=w}get data(){return this._data}get key(){return this._key}static registerShip(I,w,A,P,E,M,x){return R=>r(this,void 0,void 0,function*(){return[{instruction:yield I.methods.registerShip(x).accountsStrict({gameAndProfile:{key:w.publicKey(),profile:A,gameId:M},funder:R.publicKey(),ship:P.publicKey(),mint:E,systemProgram:i.SystemProgram.programId}).instruction(),signers:[w,R,P]}]})}static updateShip(I,w,A,P,E,M){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield I.methods.updateShip(M).accountsStrict({gameAndProfile:{key:w.publicKey(),profile:A,gameId:E},ship:P}).instruction(),signers:[w]}]})}static invalidateShip(I,w,A,P,E,M){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield I.methods.invalidateShip(M).accountsStrict({gameAndProfile:{key:w.publicKey(),profile:A,gameId:E},ship:P}).instruction(),signers:[w]}]})}static setNextShip(I,w,A,P,E,M,x){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield I.methods.setNextShip(x).accountsStrict({gameAndProfile:{key:w.publicKey(),profile:A,gameId:M},ship:P,nextShip:E}).instruction(),signers:[w]}]})}static decodeData(I,w){return(0,o.decodeAccount)(I,w,s)}};n.Ship=S,S.ACCOUNT_NAME="ship",S.MIN_DATA_SIZE=n.SHIP_MIN_DATA_SIZE,n.Ship=S=s=e([(0,o.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey])],S)})(_5);(function(n){var e=K&&K.__decorate||function(I,w,A,P){var E=arguments.length,M=E<3?w:P===null?P=Object.getOwnPropertyDescriptor(w,A):P,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(I,w,A,P);else for(var R=I.length-1;R>=0;R--)(x=I[R])&&(M=(E<3?x(M):E>3?x(w,A,M):x(w,A))||M);return E>3&&M&&Object.defineProperty(w,A,M),M},t=K&&K.__metadata||function(I,w){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,w)},r=K&&K.__awaiter||function(I,w,A,P){function E(M){return M instanceof A?M:new A(function(x){x(M)})}return new(A||(A=Promise))(function(M,x){function R(T){try{z(P.next(T))}catch(v){x(v)}}function $(T){try{z(P.throw(T))}catch(v){x(v)}}function z(T){T.done?M(T.value):E(T.value).then(R,$)}z((P=P.apply(I,w||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.Fleet=n.fleetDataEquals=n.GLOBAL_SCALE_DECIMALS_6=n.GLOBAL_SCALE_DECIMALS_4=n.GLOBAL_SCALE_DECIMALS_2=n.FLEET_MIN_DATA_SIZE=n.PointsCategoryEnum=n.MAX_CONSUMPTION_CAPACITY=n.MAX_CARGO_CAPACITY=n.MAX_WARP_DISTANCE=n.MIN_WARP_DISTANCE=void 0;const i=Nl,o=di,a=W6,c=fr,u=X6,l=L6,d=w5,y=sy,h=sl,m=Zd,f=I5,g=_5;n.MIN_WARP_DISTANCE=0,n.MAX_WARP_DISTANCE=20*100,n.MAX_CARGO_CAPACITY=1e8,n.MAX_CONSUMPTION_CAPACITY=5e7;var b;(function(I){I[I.XP=1]="XP",I[I.LP=2]="LP"})(b||(n.PointsCategoryEnum=b={})),n.FLEET_MIN_DATA_SIZE=8+1+32+32+32+32+32+(2*8+4*2)+8+8+g.SHIP_STATS_MIN_DATA_SIZE+32+32+32+8+32+1+1,n.GLOBAL_SCALE_DECIMALS_2=100,n.GLOBAL_SCALE_DECIMALS_4=1e4,n.GLOBAL_SCALE_DECIMALS_6=1e6;function S(I,w){return I.version===w.version&&I.gameId.equals(w.gameId)&&I.ownerProfile.equals(w.ownerProfile)&&I.subProfile.key.equals(w.subProfile.key)&&I.subProfileInvalidator.equals(w.subProfileInvalidator)&&(0,c.arrayDeepEquals)(I.fleetLabel,w.fleetLabel,(A,P)=>A===P)&&(0,c.arrayDeepEquals)(Object.values(I.shipCounts),Object.values(w.shipCounts),(A,P)=>A===P)&&(0,g.shipStatsEquals)(I.stats,w.stats)&&I.cargoHold.equals(w.cargoHold)&&I.ammoBank.equals(w.ammoBank)&&I.fuelTank.equals(w.fuelTank)&&I.updateId.eq(w.updateId)&&I.warpCooldownExpiresAt.eq(w.warpCooldownExpiresAt)&&I.fleetShips.equals(w.fleetShips)&&I.faction===w.faction&&I.bump===w.bump}n.fleetDataEquals=S;let p=s=class{constructor(w,A,P){this._data=w,this._key=A,this._state=P}get data(){return this._data}get key(){return this._key}get state(){return this._state}static findAddress(w,A,P,E){return o.PublicKey.findProgramAddressSync([rt.Buffer.from("Fleet"),A.toBuffer(),P.toBuffer(),rt.Buffer.from(E)],w.programId)}static getFleetSize(w){return w.xxSmall*g.SizeClass.XxSmall+w.xSmall*g.SizeClass.XSmall+w.small*g.SizeClass.Small+w.medium*g.SizeClass.Medium+w.large*g.SizeClass.Large+w.capital*g.SizeClass.Capital+w.commander*g.SizeClass.Commander+w.titan*g.SizeClass.Titan}static calculateWarpTime(w,A){return w.movementStats.warpSpeed>0?A/(w.movementStats.warpSpeed/n.GLOBAL_SCALE_DECIMALS_6):0}static calculateWarpTimeWithCoords(w,A,P){return this.calculateWarpTime(w,(0,f.calculateDistance)(A,P))}static calculateWarpFuelBurnWithDistance(w,A){return A*(w.movementStats.warpFuelConsumptionRate/n.GLOBAL_SCALE_DECIMALS_2)}static calculateWarpFuelBurnWithCoords(w,A,P){return this.calculateWarpFuelBurnWithDistance(w,(0,f.calculateDistance)(A,P))}static calculateSubwarpTime(w,A){return w.movementStats.subwarpSpeed>0?A/(w.movementStats.subwarpSpeed/n.GLOBAL_SCALE_DECIMALS_6):0}static calculateSubwarpTimeWithCoords(w,A,P){return this.calculateSubwarpTime(w,(0,f.calculateDistance)(A,P))}static calculateSubwarpFuelBurnWithDistance(w,A){return A*(w.movementStats.subwarpFuelConsumptionRate/n.GLOBAL_SCALE_DECIMALS_2)}static calculateSubwarpFuelBurnWithCoords(w,A,P){return this.calculateSubwarpFuelBurnWithDistance(w,(0,f.calculateDistance)(A,P))}static calculateAsteroidMiningFoodDuration(w,A){return w.cargoStats.foodConsumptionRate>0?A/(w.cargoStats.foodConsumptionRate/n.GLOBAL_SCALE_DECIMALS_4):0}static calculateAsteroidMiningFoodToConsume(w,A,P){const E=s.calculateAsteroidMiningFoodDuration(w,A),x=Math.min(P,E)*(w.cargoStats.foodConsumptionRate/n.GLOBAL_SCALE_DECIMALS_4);return x>0?A>x?x:A:0}static calculateAsteroidMiningAmmoDuration(w,A){return w.cargoStats.ammoConsumptionRate>0?A/(w.cargoStats.ammoConsumptionRate/n.GLOBAL_SCALE_DECIMALS_4):0}static calculateAsteroidMiningAmmoToConsume(w,A,P){const E=s.calculateAsteroidMiningAmmoDuration(w,A),x=Math.min(P,E)*(w.cargoStats.ammoConsumptionRate/n.GLOBAL_SCALE_DECIMALS_4);return x>0?A>x?x:A:0}static applyAsteroidMiningRatePenalty(w,A){return A>=1?0:(1-A)*w}static calculateAsteroidMiningEmissionRateBareBones(w,A,P,E=0){const M=A/y.MineItem.RESOURCE_HARDNESS_DECIMALS;if(M>0){const x=P/m.Resource.SYSTEM_RICHNESS_DECIMALS,R=w.cargoStats.miningRate/n.GLOBAL_SCALE_DECIMALS_4*x/M;return s.applyAsteroidMiningRatePenalty(R,E)}return 0}static calculateAsteroidMiningEmissionRate(w,A,P,E=0){return s.calculateAsteroidMiningEmissionRateBareBones(w,A.resourceHardness,P.systemRichness,E)}static calculateAsteroidMiningResourceExtractionDurationBareBones(w,A,P,E,M=0){const x=s.calculateAsteroidMiningEmissionRateBareBones(w,A,P,M);return x>0?E/x:0}static calculateAsteroidMiningResourceExtractionDuration(w,A,P,E){return s.calculateAsteroidMiningResourceExtractionDurationBareBones(w,A.resourceHardness,P.systemRichness,E)}static calculateAsteroidMiningResourceToExtractBareBones(w,A,P,E,M,x=0){const R=s.calculateAsteroidMiningEmissionRateBareBones(w,A,P,x);return Math.min(M,R*E)}static calculateAsteroidMiningResourceToExtract(w,A,P,E,M,x=0){return s.calculateAsteroidMiningResourceToExtractBareBones(w,A.resourceHardness,P.systemRichness,E,M,x)}normalizedCrew(){return this.data.stats.miscStats.crewCount>=this.data.stats.miscStats.requiredCrew}static createFleet(w,A,P,E,M,x,R,$,z,T,v,k){const _=s.findAddress(w,z,E,k.fleetLabel),B=d.FleetShips.findAddress(w,_[0]),C=o.Keypair.generate().publicKey.toBuffer(),O=o.Keypair.generate().publicKey.toBuffer(),D=o.Keypair.generate().publicKey.toBuffer(),W=a.CargoPod.findAddress(A,C),L=a.CargoPod.findAddress(A,O),U=a.CargoPod.findAddress(A,D);return{fleetKey:_,cargoHoldKey:W,fuelTankKey:L,ammoBankKey:U,instructions:q=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.createFleet(Object.assign(Object.assign({},k),{cargoHoldSeeds:Array.from(C),fuelTankSeeds:Array.from(O),ammoBankSeeds:Array.from(D)})).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:P.publicKey(),profile:E,profileFaction:M,gameId:z},gameState:T},funder:q.publicKey(),fleet:_[0],fleetShips:B[0],ship:x,starbaseAndStarbasePlayer:{starbase:$,starbasePlayer:R},cargoHold:W[0],fuelTank:L[0],ammoBank:U[0],cargoStatsDefinition:v,cargoProgram:A.programId,systemProgram:o.SystemProgram.programId}).instruction(),signers:[P,q]}]})}}static addShipToFleet(w,A,P,E,M,x,R,$,z,T,v){return k=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.addShipToFleet(v).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:P,owningProfileFaction:E,key:A.publicKey()},gameId:z},gameState:T},funder:k.publicKey(),fleetShips:d.FleetShips.findAddress(w,M)[0],ship:x,starbaseAndStarbasePlayer:{starbase:$,starbasePlayer:R},systemProgram:o.SystemProgram.programId}).remainingAccounts([{pubkey:$,isSigner:!1,isWritable:!1}]).instruction(),signers:[A,k]}]})}static updateShipInFleet(w,A,P,E,M,x,R){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.updateShipInFleet(R).accountsStrict({fleet:A,fleetShips:d.FleetShips.findAddress(w,A)[0],oldShip:P,next:E,gameAccounts:{gameState:x,gameId:M}}).instruction(),signers:[]}]})}static disbandFleet(w,A,P,E,M,x,R,$,z,T,v){return s.disbandFleetBareBones(w,A,P,E,M,x.key,x.data.fleetLabel,x.data.ammoBank,x.data.cargoHold,x.data.fuelTank,R,$,z,T,v)}static disbandFleetBareBones(w,A,P,E,M,x,R,$,z,T,v,k,_,B,C){const O=l.DisbandedFleet.findAddress(w,_,E,R);return{disbandedFleetKey:O,instructions:D=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.disbandFleet(C).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:P.publicKey(),profile:E,profileFaction:M,gameId:_},gameState:B},funder:D.publicKey(),fleet:x,fleetShips:d.FleetShips.findAddress(w,x)[0],disbandedFleet:O[0],cargoHold:z,fuelTank:T,ammoBank:$,starbaseAndStarbasePlayer:{starbase:k,starbasePlayer:v},cargoProgram:A.programId,systemProgram:o.SystemProgram.programId}).remainingAccounts([{pubkey:k,isSigner:!1,isWritable:!1}]).instruction(),signers:[P,D]}]})}}static forceDisbandFleet(w,A,P,E,M,x,R,$,z,T,v){return s.forceDisbandFleetBareBones(w,A,P.key,P.data.ownerProfile,P.data.fleetLabel,P.data.ammoBank,P.data.cargoHold,P.data.fuelTank,E,M,x,R,$,z,T,v)}static forceDisbandFleetBareBones(w,A,P,E,M,x,R,$,z,T,v,k,_,B,C,O){const D=l.DisbandedFleet.findAddress(w,k,E,M),W=C&&O?[{pubkey:C,isSigner:!1,isWritable:!0},{pubkey:O,isSigner:!1,isWritable:!0}]:[];return{disbandedFleetKey:D,instructions:L=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.forceDisbandFleet(B).accountsStrict({funder:L.publicKey(),fleet:P,fleetShips:d.FleetShips.findAddress(w,P)[0],disbandedFleet:D[0],cargoHold:R,fuelTank:$,ammoBank:x,starbaseAndStarbasePlayer:{starbase:T,starbasePlayer:z},ship:v,gameAccounts:{gameId:k,gameState:_},cargoProgram:A.programId,systemProgram:o.SystemProgram.programId}).remainingAccounts(W).instruction(),signers:[L]}]})}}static depositCargoToFleet(w,A,P,E,M,x,R,$,z,T,v,k,_,B,C,O,D,W,L){return U=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.depositCargoToFleet(L).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:z,owningProfile:E,owningProfileFaction:M,key:P.publicKey()},gameId:D},gameState:W},fundsTo:x==="funder"?U.publicKey():x,starbaseAndStarbasePlayer:{starbase:R,starbasePlayer:$},cargoPodFrom:T,cargoPodTo:v,cargoType:k,cargoStatsDefinition:_,tokenFrom:B,tokenTo:C,tokenMint:O,cargoProgram:A.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).remainingAccounts([{pubkey:R,isSigner:!1,isWritable:!1}]).instruction(),signers:[P]}]})}static transferCargoWithinFleet(w,A,P,E,M,x,R,$,z,T,v,k,_,B,C,O,D,W){const L=W?[{pubkey:W,isSigner:!1,isWritable:!1}]:[];return U=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.transferCargoWithinFleet(D).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:R,owningProfile:M,owningProfileFaction:x,key:P.publicKey()},gameId:C},gameState:O},cargoPodFrom:$,cargoPodTo:z,cargoType:T,cargoStatsDefinition:v,tokenFrom:k,tokenTo:_,tokenMint:B,fundsTo:E==="funder"?U.publicKey():E,cargoProgram:A.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).remainingAccounts(L).instruction(),signers:[P]}]})}static withdrawCargoFromFleet(w,A,P,E,M,x,R,$,z,T,v,k,_,B,C,O,D,W,L){return U=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.withdrawCargoFromFleet(L).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:z,owningProfile:M,owningProfileFaction:x,key:P.publicKey()},gameId:D},gameState:W},starbaseAndStarbasePlayer:{starbase:R,starbasePlayer:$},cargoPodFrom:T,cargoPodTo:v,cargoType:k,cargoStatsDefinition:_,tokenFrom:B,tokenTo:C,tokenMint:O,fundsTo:E==="funder"?U.publicKey():E,cargoProgram:A.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).remainingAccounts([{pubkey:R,isSigner:!1,isWritable:!1}]).instruction(),signers:[P]}]})}static closeFleetCargoPodTokenAccount(w,A,P,E,M,x,R,$,z,T,v,k,_,B,C){return O=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.closeFleetCargoPodTokenAccount(C).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:R,owningProfile:M,owningProfileFaction:x,key:P.publicKey()},gameId:_},gameState:B},cargoPod:$,cargoType:z,cargoStatsDefinition:T,token:v,tokenMint:k,fundsTo:E==="funder"?O.publicKey():E,cargoProgram:A.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[P]}]})}static idleToLoadingBay(w,A,P,E,M,x,R,$,z,T){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.idleToLoadingBay(T).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:P,owningProfileFaction:E,key:A.publicKey()},gameId:$},gameState:z},starbaseAndStarbasePlayer:{starbase:x,starbasePlayer:R}}).instruction(),signers:[A]}]})}static idleToRespawn(w,A,P,E,M,x,R,$,z,T){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.idleToRespawn(T).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:P,owningProfileFaction:E,key:A.publicKey()},gameId:z},gameState:$},atlasTokenFrom:x,atlasTokenTo:R,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[A]}]})}static loadingBayToIdle(w,A,P,E,M,x,R,$,z,T){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.loadingBayToIdle(T).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:P,owningProfileFaction:E,key:A.publicKey()},gameId:$},gameState:z},starbaseAndStarbasePlayer:{starbase:x,starbasePlayer:R}}).remainingAccounts([{pubkey:x,isSigner:!1,isWritable:!1}]).instruction(),signers:[A]}]})}static moveWarpHandler(w,A,P,E,M,x,R,$,z,T,v){const k=[{pubkey:M,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!1},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:$,isSigner:!1,isWritable:!0},{pubkey:z,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:P,isSigner:!1,isWritable:!1},{pubkey:h.ProgressionConfig.findAddress(w,v)[0],isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:A.programId,isSigner:!1,isWritable:!1}];return this.fleetStateHandler(w,E,k)}static movementSubwarpHandler(w,A,P,E,M,x,R,$,z,T,v,k,_,B,C,O,D){const W=s.getSubwarpRemainingAccounts(w,A,P,E,x,R,$,z,T,v,k,_,B,C,O,D);return this.fleetStateHandler(w,M,W)}static fleetStateHandler(w,A,P=[]){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.fleetStateHandler().accountsStrict({fleet:A}).remainingAccounts(P).instruction(),signers:[]}]})}static warpToCoordinate(w,A,P,E,M,x,R,$,z,T,v,k,_,B){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.warpToCoordinate(B).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:P,owningProfileFaction:E,key:A.publicKey()},gameId:k},gameState:v},fuelTank:x,cargoType:R,statsDefinition:$,tokenFrom:z,tokenMint:T,cargoProgram:_.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[A]}]})}static warpLane(w,A,P,E,M,x,R,$,z,T,v,k,_,B,C,O,D,W,L,U,q){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.warpLane(q).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:P,owningProfileFaction:E,key:A.publicKey()},gameId:L},gameState:W},fromStarbase:x,toStarbase:R,fromSector:$,toSector:z,fuelTank:T,cargoType:v,statsDefinition:k,fuelTokenFrom:_,fuelMint:B,feeTokenFrom:C,feeTokenTo:O,feeMint:D,cargoProgram:U.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[A]}]})}static startSubwarp(w,A,P,E,M,x,R,$){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.startSubwarp($).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:P,owningProfileFaction:E,key:A.publicKey()},gameId:x},gameState:R}}).instruction(),signers:[A]}]})}static stopSubwarp(w,A,P,E,M,x,R,$,z,T,v,k,_,B,C,O,D,W,L,U,q){const J=s.getSubwarpRemainingAccounts(w,A,P,M,$,z,T,v,k,_,B,C,O,D,W,L);return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.stopSubwarp(q).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:R,owningProfile:M,owningProfileFaction:x,key:E.publicKey()},gameId:L},gameState:U}}).remainingAccounts(J).instruction(),signers:[E]}]})}static startMiningAsteroid(w,A,P,E,M,x,R,$,z,T,v,k,_,B){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.startMiningAsteroid(B).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:P,owningProfileFaction:E,key:A.publicKey()},gameId:k},gameState:v},starbaseAndStarbasePlayer:{starbase:x,starbasePlayer:R},mineItem:$,resource:z,planet:T,fleetFuelTokenAccount:_}).instruction(),signers:[A]}]})}static asteroidMiningHandler(w,A,P,E,M,x,R,$,z,T,v,k,_,B,C,O,D,W,L,U,q){return this.fleetStateHandler(w,P,[{pubkey:$,isSigner:!1,isWritable:!0},{pubkey:z,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!0},{pubkey:E,isSigner:!1,isWritable:!1},{pubkey:O,isSigner:!1,isWritable:!0},{pubkey:D,isSigner:!1,isWritable:!0},{pubkey:W,isSigner:!1,isWritable:!0},{pubkey:L,isSigner:!1,isWritable:!0},{pubkey:U,isSigner:!1,isWritable:!0},{pubkey:q,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:_,isSigner:!1,isWritable:!1},{pubkey:B,isSigner:!1,isWritable:!1},{pubkey:C,isSigner:!1,isWritable:!1},{pubkey:A.programId,isSigner:!1,isWritable:!1},{pubkey:i.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}])}static stopMiningAsteroid(w,A,P,E,M,x,R,$,z,T,v,k,_,B,C,O,D,W,L,U,q,J,Q,j,X,re,se){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.stopMiningAsteroid(se).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:R,owningProfile:M,owningProfileFaction:x,key:E.publicKey()},gameId:j},gameState:Q},mineItem:$,resource:z,planet:T,fuelTank:v,cargoType:k,cargoStatsDefinition:_,tokenFrom:X,tokenMint:re,miningXpAccounts:{userPointsAccount:B,pointsCategory:C,pointsModifierAccount:O},pilotXpAccounts:{userPointsAccount:D,pointsCategory:W,pointsModifierAccount:L},councilRankXpAccounts:{userPointsAccount:U,pointsCategory:q,pointsModifierAccount:J},progressionConfig:h.ProgressionConfig.findAddress(w,j)[0],cargoProgram:A.programId,pointsProgram:P.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[E]}]})}static mineAsteroidToRespawn(w,A,P,E,M,x,R,$,z,T,v,k){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.mineAsteroidToRespawn(k).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:P,owningProfileFaction:E,key:A.publicKey()},gameId:z},gameState:$},resource:x,planet:R,atlasTokenFrom:T,atlasTokenTo:v,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[A]}]})}static forceDropFleetCargo(w,A,P,E,M,x,R,$,z){const T=d.FleetShips.findAddress(w,P);return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.forceDropFleetCargo().accountsStrict({fleet:P,fleetShips:T[0],cargoPod:E,cargoType:M,cargoStatsDefinition:x,gameId:R,tokenFrom:$,tokenMint:z,cargoProgram:A.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static respawnToLoadingBay(w,A,P,E,M,x,R,$,z,T,v,k,_){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.respawnToLoadingBay(_).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:P,owningProfileFaction:E,key:A.publicKey()},gameId:v},gameState:k},starbaseAndStarbasePlayer:{starbase:x,starbasePlayer:R},cargoHold:$,fuelTank:z,ammoBank:T}).instruction(),signers:[A]}]})}static loadFleetCrew(w,A,P,E,M,x,R,$,z){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.loadFleetCrew(z).accountsStrict({fleetAndOwner:{fleet:M,key:A.publicKey(),owningProfile:P,owningProfileFaction:E},starbaseAndStarbasePlayer:{starbase:x,starbasePlayer:R},gameId:$}).remainingAccounts([{pubkey:x,isSigner:!1,isWritable:!1}]).instruction(),signers:[A]}]})}static unloadFleetCrew(w,A,P,E,M,x,R,$,z){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.unloadFleetCrew(z).accountsStrict({fleetAndOwner:{fleet:M,key:A.publicKey(),owningProfile:P,owningProfileFaction:E},starbaseAndStarbasePlayer:{starbase:x,starbasePlayer:R},gameId:$}).remainingAccounts([{pubkey:x,isSigner:!1,isWritable:!1}]).instruction(),signers:[A]}]})}static addRental(w,A,P,E,M,x,R,$,z){const T=u.ProfileFactionAccount.findAddress(A,x)[0];return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.addRental(z).accountsStrict({ownerKey:P.publicKey(),ownerProfile:M,invalidator:E.publicKey(),subProfileFaction:T,subProfile:x,fleet:R,gameId:$}).instruction(),signers:[P,E]}]})}static changeRental(w,A,P,E,M,x){const R=u.ProfileFactionAccount.findAddress(A,E)[0];return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.changeRental().accountsStrict({subProfileInvalidator:P.publicKey(),newSubProfile:E,subProfileFaction:R,fleet:M,gameId:x}).instruction(),signers:[P]}]})}static invalidateRental(w,A,P,E,M,x,R){const $=E&&M&&x&&R?[{pubkey:E,isSigner:!1,isWritable:!1},{pubkey:M,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},{pubkey:R,isSigner:!1,isWritable:!0}]:[];return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.invalidateRental().accountsStrict({subProfileInvalidator:A.publicKey(),fleet:P}).remainingAccounts($).instruction(),signers:[A]}]})}static decodeData(w,A){return(0,c.decodeAccountWithRemaining)(w,A,s,(P,E)=>{const M=P[0];let x;switch(M){case 0:{x={StarbaseLoadingBay:A.coder.types.decode("StarbaseLoadingBay",P.subarray(1))};break}case 1:{x={Idle:A.coder.types.decode("Idle",P.subarray(1))};break}case 2:{x={MineAsteroid:A.coder.types.decode("MineAsteroid",P.subarray(1))};break}case 3:{x={MoveWarp:A.coder.types.decode("MoveWarp",P.subarray(1))};break}case 4:{x={MoveSubwarp:A.coder.types.decode("MoveSubwarp",P.subarray(1))};break}case 5:{x={Respawn:A.coder.types.decode("Respawn",P.subarray(1))};break}default:throw new Error("Unknown fleet state: "+M)}return x})}static calculateCombinedStats(w,A,P){const E=w;return E.cargoStats=s.calculateCombinedCargoStats(w.cargoStats,this.multiplyCargoStats(A.cargoStats,P)),E.miscStats=s.calculateCombinedMiscStats(w.miscStats,this.multiplyMiscStats(A.miscStats,P)),E.movementStats=s.calculateCombinedMovementStats(w.movementStats,this.multiplyMovementStats(A.movementStats,P)),E}static multiplyShipStats(w,A){const P=w;return P.cargoStats=s.multiplyCargoStats(w.cargoStats,A),P.miscStats=s.multiplyMiscStats(w.miscStats,A),P.movementStats=s.multiplyMovementStats(w.movementStats,A),P}static calculateCombinedCargoStats(w,A){return{cargoCapacity:Math.min(n.MAX_CARGO_CAPACITY,w.cargoCapacity+A.cargoCapacity),fuelCapacity:Math.min(n.MAX_CARGO_CAPACITY,w.fuelCapacity+A.fuelCapacity),ammoCapacity:Math.min(n.MAX_CARGO_CAPACITY,w.ammoCapacity+A.ammoCapacity),ammoConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.ammoConsumptionRate+A.ammoConsumptionRate),foodConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.foodConsumptionRate+A.foodConsumptionRate),miningRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.miningRate+A.miningRate),upgradeRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.upgradeRate+A.upgradeRate),cargoTransferRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.cargoTransferRate+A.cargoTransferRate),tractorBeamGatherRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.tractorBeamGatherRate+A.tractorBeamGatherRate)}}static multiplyCargoStats(w,A){return{cargoCapacity:Math.min(n.MAX_CARGO_CAPACITY,A*w.cargoCapacity),fuelCapacity:Math.min(n.MAX_CARGO_CAPACITY,A*w.fuelCapacity),ammoCapacity:Math.min(n.MAX_CARGO_CAPACITY,A*w.ammoCapacity),ammoConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.ammoConsumptionRate),foodConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.foodConsumptionRate),miningRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.miningRate),upgradeRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.upgradeRate),cargoTransferRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.cargoTransferRate),tractorBeamGatherRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.tractorBeamGatherRate)}}static calculateCombinedMiscStats(w,A){return{requiredCrew:w.requiredCrew+A.requiredCrew,passengerCapacity:w.passengerCapacity+A.passengerCapacity,crewCount:w.crewCount+A.crewCount,rentedCrew:w.rentedCrew+A.rentedCrew,respawnTime:Math.max(w.respawnTime,A.respawnTime),scanCoolDown:Math.max(w.scanCoolDown,A.scanCoolDown),sduPerScan:w.sduPerScan+A.sduPerScan,scanCost:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.scanCost+A.scanCost),placeholder:0,placeholder2:0,placeholder3:0}}static multiplyMiscStats(w,A){return{requiredCrew:w.requiredCrew*A,passengerCapacity:w.passengerCapacity*A,crewCount:w.crewCount*A,rentedCrew:w.rentedCrew*A,respawnTime:w.respawnTime,scanCoolDown:w.scanCoolDown,sduPerScan:w.sduPerScan*A,scanCost:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.scanCost),placeholder:0,placeholder2:0,placeholder3:0}}static calculateCombinedMovementStats(w,A){return{subwarpSpeed:Math.min(w.subwarpSpeed,A.subwarpSpeed),warpSpeed:Math.min(w.warpSpeed,A.warpSpeed),maxWarpDistance:Math.min(n.MAX_WARP_DISTANCE,Math.max(n.MIN_WARP_DISTANCE,Math.max(w.maxWarpDistance,A.maxWarpDistance))),warpCoolDown:Math.max(w.warpCoolDown,A.warpCoolDown),subwarpFuelConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.subwarpFuelConsumptionRate+A.subwarpFuelConsumptionRate),warpFuelConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.warpFuelConsumptionRate+A.warpFuelConsumptionRate),planetExitFuelAmount:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.planetExitFuelAmount+A.planetExitFuelAmount)}}static multiplyMovementStats(w,A){return{subwarpSpeed:w.subwarpSpeed,warpSpeed:w.warpSpeed,maxWarpDistance:Math.min(n.MAX_WARP_DISTANCE,Math.max(n.MIN_WARP_DISTANCE,w.maxWarpDistance)),warpCoolDown:w.warpCoolDown,subwarpFuelConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.subwarpFuelConsumptionRate),warpFuelConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.warpFuelConsumptionRate),planetExitFuelAmount:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.planetExitFuelAmount)}}};n.Fleet=p,p.ACCOUNT_NAME="fleet",p.MIN_DATA_SIZE=n.FLEET_MIN_DATA_SIZE,p.getSubwarpRemainingAccounts=(I,w,A,P,E,M,x,R,$,z,T,v,k,_,B,C)=>[{pubkey:P,isSigner:!1,isWritable:!0},{pubkey:E,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},{pubkey:R,isSigner:!1,isWritable:!0},{pubkey:$,isSigner:!1,isWritable:!0},{pubkey:z,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:_,isSigner:!1,isWritable:!1},{pubkey:B,isSigner:!1,isWritable:!1},{pubkey:h.ProgressionConfig.findAddress(I,C)[0],isSigner:!1,isWritable:!1},{pubkey:C,isSigner:!1,isWritable:!1},{pubkey:A.programId,isSigner:!1,isWritable:!1},{pubkey:w.programId,isSigner:!1,isWritable:!1},{pubkey:i.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],n.Fleet=p=s=e([(0,c.staticImplements)(),t("design:paramtypes",[Object,o.PublicKey,Object])],p)})(K6);var P5={};(function(n){var e=K&&K.__decorate||function(M,x,R,$){var z=arguments.length,T=z<3?x:$===null?$=Object.getOwnPropertyDescriptor(x,R):$,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(M,x,R,$);else for(var k=M.length-1;k>=0;k--)(v=M[k])&&(T=(z<3?v(T):z>3?v(x,R,T):v(x,R))||T);return z>3&&T&&Object.defineProperty(x,R,T),T},t=K&&K.__metadata||function(M,x){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(M,x)},r=K&&K.__awaiter||function(M,x,R,$){function z(T){return T instanceof R?T:new R(function(v){v(T)})}return new(R||(R=Promise))(function(T,v){function k(C){try{B($.next(C))}catch(O){v(O)}}function _(C){try{B($.throw(C))}catch(O){v(O)}}function B(C){C.done?T(C.value):z(C.value).then(k,_)}B(($=$.apply(M,x||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.Game=n.RISK_ZONES_MIN_DATA_SIZE=n.MISC_VARIABLES_MIN_DATA_SIZE=n.VAULTS_MIN_DATA_SIZE=n.MINTS_MIN_DATA_SIZE=n.FLEET_INFO_MIN_DATA_SIZE=n.STAR_BASE_UPKEEP_INFO_MIN_DATA_SIZE=n.STAR_BASE_LEVEL_INFO_MIN_DATA_SIZE=n.CRAFTING_MIN_DATA_SIZE=n.CARGO_MIN_DATA_SIZE=n.POINTS_MIN_DATA_SIZE=n.FLEET_POINT_MODIFIER_MIN_DATA_SIZE=n.gameDataEquals=n.riskZonesEquals=n.riskZoneEquals=n.RiskZones=n.DEFAULT_RISK_ZONES=n.DEFAULT_RISK_ZONE=n.starbaseUpkeepLevelsEquals=n.starbaseUpkeepInfoEquals=n.factionsStarbaseLevelInfoEqual=n.starbaseLevelInfoArraysEqual=n.starbaseLevelInfoEquals=n.PointsCategoryType=n.vaultsEquals=n.mintsEquals=n.pointsEquals=n.sagePointsCategoryEquals=n.craftingEquals=n.cargoEquals=void 0;const i=di,o=Kc,a=fr;function c(M,x){return M.statsDefinition.equals(x.statsDefinition)}n.cargoEquals=c;function u(M,x){return M.domain.equals(x.domain)}n.craftingEquals=u;function l(M,x){return M.modifierBump===x.modifierBump&&M.modifier.equals(x.modifier)&&M.category.equals(x.category)}n.sagePointsCategoryEquals=l;function d(M,x){return l(M.lpCategory,x.lpCategory)&&l(M.councilRankXpCategory,x.councilRankXpCategory)&&l(M.pilotXpCategory,x.pilotXpCategory)&&l(M.dataRunningXpCategory,x.dataRunningXpCategory)&&l(M.miningXpCategory,x.miningXpCategory)&&l(M.craftingXpCategory,x.craftingXpCategory)}n.pointsEquals=d;function y(M,x){return M.atlas.equals(x.atlas)&&M.polis.equals(x.polis)&&M.ammo.equals(x.ammo)&&M.food.equals(x.food)&&M.fuel.equals(x.fuel)&&M.repairKit.equals(x.repairKit)}n.mintsEquals=y;function h(M,x){return M.atlas.equals(x.atlas)&&M.polis.equals(x.polis)}n.vaultsEquals=h;var m;(function(M){M[M.LP=1]="LP",M[M.CRXP=2]="CRXP",M[M.PXP=3]="PXP",M[M.DRXP=4]="DRXP",M[M.MXP=5]="MXP",M[M.CXP=6]="CXP"})(m||(n.PointsCategoryType=m={}));function f(M,x){return M.hp.eq(x.hp)&&M.sp.eq(x.sp)&&M.sectorRingAvailable===x.sectorRingAvailable&&M.warpLaneMovementFee.eq(x.warpLaneMovementFee)&&M.recipeCategoryForLevel.equals(x.recipeCategoryForLevel)&&M.recipeForUpgrade.equals(x.recipeForUpgrade)}n.starbaseLevelInfoEquals=f;function g(M,x){return(0,a.arrayDeepEquals)(M,x,f)}n.starbaseLevelInfoArraysEqual=g;function b(M,x){const R=g(M.mud,x.mud),$=g(M.oni,x.oni),z=g(M.ustur,x.ustur);return R&&$&&z}n.factionsStarbaseLevelInfoEqual=b;function S(M,x){return M.ammoReserve.eq(x.ammoReserve)&&M.foodReserve.eq(x.foodReserve)&&M.toolkitReserve.eq(x.toolkitReserve)&&M.ammoDepletionRate===x.ammoDepletionRate&&M.foodDepletionRate===x.foodDepletionRate&&M.toolkitDepletionRate===x.toolkitDepletionRate}n.starbaseUpkeepInfoEquals=S;function p(M,x){return S(M.level1,x.level1)&&S(M.level2,x.level2)&&S(M.level3,x.level3)&&S(M.level4,x.level4)&&S(M.level5,x.level5)}n.starbaseUpkeepLevelsEquals=p,n.DEFAULT_RISK_ZONE={center:[new o.BN(0),new o.BN(0)],radius:new o.BN(0)},n.DEFAULT_RISK_ZONES={mudSecurityZone:n.DEFAULT_RISK_ZONE,oniSecurityZone:n.DEFAULT_RISK_ZONE,usturSecurityZone:n.DEFAULT_RISK_ZONE,highRiskZone:n.DEFAULT_RISK_ZONE,mediumRiskZone:n.DEFAULT_RISK_ZONE};var I;(function(M){M[M.MudSecurityZone=0]="MudSecurityZone",M[M.OniSecurityZone=1]="OniSecurityZone",M[M.UsturSecurityZone=2]="UsturSecurityZone",M[M.HighRiskZone=3]="HighRiskZone",M[M.MediumRiskZone=4]="MediumRiskZone"})(I||(n.RiskZones=I={}));function w(M,x){return M.radius.eq(x.radius)&&M.center[0].eq(x.center[0])&&M.center[1].eq(x.center[1])}n.riskZoneEquals=w;function A(M,x){return w(M.mudSecurityZone,x.mudSecurityZone)&&w(M.oniSecurityZone,x.oniSecurityZone)&&w(M.usturSecurityZone,x.usturSecurityZone)&&w(M.highRiskZone,x.highRiskZone)&&w(M.mediumRiskZone,x.mediumRiskZone)}n.riskZonesEquals=A;function P(M,x){return M.version===x.version&&M.profile.equals(x.profile)&&M.gameState.equals(x.gameState)&&c(M.cargo,x.cargo)&&u(M.crafting,x.crafting)&&d(M.points,x.points)&&y(M.mints,x.mints)&&h(M.vaults,x.vaults)&&A(M.riskZones,x.riskZones)&&M.updateId.eq(x.updateId)}n.gameDataEquals=P,n.FLEET_POINT_MODIFIER_MIN_DATA_SIZE=32+32+1,n.POINTS_MIN_DATA_SIZE=6*n.FLEET_POINT_MODIFIER_MIN_DATA_SIZE,n.CARGO_MIN_DATA_SIZE=32,n.CRAFTING_MIN_DATA_SIZE=32,n.STAR_BASE_LEVEL_INFO_MIN_DATA_SIZE=32+32+8+8+8+1,n.STAR_BASE_UPKEEP_INFO_MIN_DATA_SIZE=8+4+8+4+8+4,n.FLEET_INFO_MIN_DATA_SIZE=n.STAR_BASE_LEVEL_INFO_MIN_DATA_SIZE*21+n.STAR_BASE_UPKEEP_INFO_MIN_DATA_SIZE*7+4,n.MINTS_MIN_DATA_SIZE=32+32+32+32+32+32,n.VAULTS_MIN_DATA_SIZE=32+32,n.MISC_VARIABLES_MIN_DATA_SIZE=2+2+8,n.RISK_ZONES_MIN_DATA_SIZE=(8*2+8)*5;let E=s=class{constructor(x,R){this._data=x,this._key=R}get data(){return this._data}get key(){return this._key}static findPointsModifierAddress(x,R,$){return i.PublicKey.findProgramAddressSync([rt.Buffer.from("PointsModifier"),R.toBuffer(),$.toBuffer()],x.programId)}static initGame(x,R,$,z){return T=>r(this,void 0,void 0,function*(){return[{instruction:yield x.methods.initGame().accountsStrict({signer:R.publicKey(),gameId:z.publicKey(),funder:T.publicKey(),profile:$,systemProgram:i.SystemProgram.programId}).instruction(),signers:[R,T,z]}]})}static updateGame(x,R,$,z,T,v,k,_,B,C,O){const D=[],W={mints:0,vaults:0,points:0,crafting:0,cargo:0,riskZones:O||null,keyIndex:T};return v&&(v.lpCategory&&(W.points|=1<<0,D.push({isSigner:!1,isWritable:!1,pubkey:v.lpCategory})),v.councilRankXpCategory&&(W.points|=1<<1,D.push({isSigner:!1,isWritable:!1,pubkey:v.councilRankXpCategory})),v.pilotXpCategory&&(W.points|=1<<2,D.push({isSigner:!1,isWritable:!1,pubkey:v.pilotXpCategory})),v.dataRunningXpCategory&&(W.points|=1<<3,D.push({isSigner:!1,isWritable:!1,pubkey:v.dataRunningXpCategory})),v.miningXpCategory&&(W.points|=1<<4,D.push({isSigner:!1,isWritable:!1,pubkey:v.miningXpCategory})),v.craftingXpCategory&&(W.points|=1<<5,D.push({isSigner:!1,isWritable:!1,pubkey:v.craftingXpCategory}))),k&&(k.atlas&&(W.mints|=1<<0,D.push({isSigner:!1,isWritable:!1,pubkey:k.atlas})),k.polis&&(W.mints|=1<<1,D.push({isSigner:!1,isWritable:!1,pubkey:k.polis})),k.ammo&&(W.mints|=1<<2,D.push({isSigner:!1,isWritable:!1,pubkey:k.ammo})),k.food&&(W.mints|=1<<3,D.push({isSigner:!1,isWritable:!1,pubkey:k.food})),k.fuel&&(W.mints|=1<<4,D.push({isSigner:!1,isWritable:!1,pubkey:k.fuel})),k.repairKit&&(W.mints|=1<<5,D.push({isSigner:!1,isWritable:!1,pubkey:k.repairKit}))),_&&(_.atlas&&(W.vaults|=1<<0,D.push({isSigner:!1,isWritable:!1,pubkey:_.atlas})),_.polis&&(W.vaults|=1<<1,D.push({isSigner:!1,isWritable:!1,pubkey:_.polis}))),B&&B.domain&&(W.crafting|=1<<0,D.push({isSigner:!1,isWritable:!1,pubkey:B.domain})),C&&C.statsDefinition&&(W.cargo|=1<<0,D.push({isSigner:!1,isWritable:!1,pubkey:C.statsDefinition})),()=>r(this,void 0,void 0,function*(){return[{instruction:yield R.methods.updateGame(W).accountsStrict({gameAndProfile:{key:$.publicKey(),profile:z,gameId:x}}).remainingAccounts(D).instruction(),signers:[$]}]})}static registerSagePointModifier(x,R,$,z,T,v,k,_){const B=s.findPointsModifierAddress(x,T,v);return{modifierKey:B,instructions:C=>r(this,void 0,void 0,function*(){return[{instruction:yield x.methods.registerSagePointModifier({pointsCategoryType:k,keyIndex:_}).accountsStrict({gameAndProfile:{key:$.publicKey(),profile:z,gameId:T},funder:C.publicKey(),pointsCategory:v,pointsModifier:B[0],pointsProgram:R.programId,systemProgram:i.SystemProgram.programId}).instruction(),signers:[$,C]}]})}}static decodeData(x,R){return(0,a.decodeAccount)(x,R,s)}};n.Game=E,E.ACCOUNT_NAME="game",E.MIN_DATA_SIZE=8+1+8+32+32+n.POINTS_MIN_DATA_SIZE+n.CARGO_MIN_DATA_SIZE+n.CRAFTING_MIN_DATA_SIZE+n.MINTS_MIN_DATA_SIZE+n.VAULTS_MIN_DATA_SIZE+n.RISK_ZONES_MIN_DATA_SIZE,E.MIN_STAR_BASE_LEVEL=0,E.MAX_STAR_BASE_LEVEL=6,n.Game=E=s=e([(0,a.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey])],E)})(P5);var gd={},Ol={},D1t=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},O1t=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},xbe=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},bG;Object.defineProperty(Ol,"__esModule",{value:!0});Ol.Planet=Ol.planetDataEquals=Ol.PlanetType=Ol.SectorRing=void 0;const W2e=di,Fp=fr;var Tbe;(function(n){n[n.Inner=1]="Inner",n[n.Mid=2]="Mid",n[n.Outer=3]="Outer"})(Tbe||(Ol.SectorRing=Tbe={}));var Rbe;(function(n){n[n.Terrestrial=0]="Terrestrial",n[n.Volcanic=1]="Volcanic",n[n.Barren=2]="Barren",n[n.AsteroidBelt=3]="AsteroidBelt",n[n.GasGiant=4]="GasGiant",n[n.IceGiant=5]="IceGiant",n[n.Dark=6]="Dark"})(Rbe||(Ol.PlanetType=Rbe={}));function L1t(n,e){return n.version===e.version&&(0,Fp.arrayDeepEquals)(n.sector,e.sector,(t,r)=>t.eq(r))&&n.gameId.equals(e.gameId)&&n.size.eq(e.size)&&(0,Fp.arrayDeepEquals)(n.name,e.name,(t,r)=>t===r)&&(0,Fp.arrayDeepEquals)(n.subCoordinates,e.subCoordinates,(t,r)=>t.eq(r))&&n.planetType===e.planetType&&n.position===e.position&&n.maxHp.eq(e.maxHp)&&n.currentHealth.eq(e.currentHealth)&&n.amountMined.eq(e.amountMined)&&n.numResources===e.numResources&&n.numMiners.eq(e.numMiners)}Ol.planetDataEquals=L1t;let Vz=bG=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}get prettyName(){return(0,Fp.byteArrayToString)(this.data.name)}static registerPlanet(e,t,r,s,i,o,a){return c=>xbe(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerPlanet(Object.assign(Object.assign({},a),{name:(0,Fp.stringToByteArray)(a.name,64)})).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},funder:c.publicKey(),planet:s.publicKey(),sector:i,systemProgram:W2e.SystemProgram.programId}).instruction(),signers:[t,c,s]}]})}static updatePlanet(e,t,r,s,i,o){return()=>xbe(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updatePlanet(Object.assign(Object.assign({},o),{name:o.name==null?null:(0,Fp.stringToByteArray)(o.name,64),size:o.size==null?null:o.size,maxHp:o.maxHp==null?null:o.maxHp,subCoordinates:o.subCoordinates==null?null:o.subCoordinates})).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:i},planet:s}).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,Fp.decodeAccount)(e,t,bG)}};Ol.Planet=Vz;Vz.ACCOUNT_NAME="planet";Vz.MIN_DATA_SIZE=8+1+64+32+8*2+8*2+1+1+8+8+8+8+1+8;Ol.Planet=Vz=bG=D1t([(0,Fp.staticImplements)(),O1t("design:paramtypes",[Object,W2e.PublicKey])],Vz);var K1t=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},W1t=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},T3=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},SG;Object.defineProperty(gd,"__esModule",{value:!0});gd.GameState=gd.SCALE_DECIMALS_4=gd.gameStateDataEquals=gd.miscVariablesEquals=void 0;const ML=di,OA=fr,hB=X6,N1t=rR.exports,MI=P5,F1t=Ol;function N2e(n,e){return n.warpLaneFuelCostReduction===e.warpLaneFuelCostReduction&&n.upkeepMiningEmissionsPenalty===e.upkeepMiningEmissionsPenalty&&n.respawnFee.eq(e.respawnFee)}gd.miscVariablesEquals=N2e;function U1t(n,e){return n.version===e.version&&n.bump===e.bump&&n.gameId.equals(e.gameId)&&n.updateId.eq(e.updateId)&&n.fleet.maxFleetSize===e.fleet.maxFleetSize&&(0,MI.factionsStarbaseLevelInfoEqual)(n.fleet.starbaseLevels,e.fleet.starbaseLevels)&&(0,MI.starbaseUpkeepLevelsEquals)(n.fleet.upkeep,e.fleet.upkeep)&&N2e(n.misc,e.misc)}gd.gameStateDataEquals=U1t;gd.SCALE_DECIMALS_4=1e4;let qz=SG=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return ML.PublicKey.findProgramAddressSync([rt.Buffer.from("GameState"),t.toBuffer(),r.toArrayLike(rt.Buffer,"le",8)],e.programId)}static initGameState(e,t,r,s,i,o){return a=>T3(this,void 0,void 0,function*(){return[{instruction:yield e.methods.initGameState(o).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},funder:a.publicKey(),gameState:i,systemProgram:ML.SystemProgram.programId}).instruction(),signers:[t,a]}]})}static updateGameState(e,t,r,s,i,o,a,c){const u=[],l=c||null,d={starbaseLevelInfoArray:null,upkeepInfoArray:null,maxFleetSize:null},y=(a==null?void 0:a.starbaseLevels)||[],h={fleet:d,misc:l,keyIndex:o},m=[y.filter(f=>f.faction==(0,OA.getNumberFromEnum)(hB.Faction,hB.Faction.ONI)),y.filter(f=>f.faction==hB.Faction.MUD),y.filter(f=>f.faction==(0,OA.getNumberFromEnum)(hB.Faction,hB.Faction.Ustur))];for(let f=0;f<m.length;f++){const g=m[f];if(g){const b=(0,N1t.uniq)(g.map(S=>S.level));if(b.length!==g.length)throw new Error("Starbase levels must be unique");if(Math.max(...b)>MI.Game.MAX_STAR_BASE_LEVEL||Math.min(...b)<MI.Game.MIN_STAR_BASE_LEVEL)throw new Error("Starbase levels must be between 0 and 6")}}y.sort((f,g)=>f.faction-g.faction||f.level-g.level);for(let f=0;f<y.length;f++){const g=y[f];if(g){const b={faction:g.faction,level:g.level,hp:g.hp,sp:g.sp,warpLaneMovementFee:g.warpLaneMovementFee,sectorRingAvailable:(0,OA.getAnchorEnum)(F1t.SectorRing,g.sectorRingAvailable)};d.starbaseLevelInfoArray==null?d.starbaseLevelInfoArray=[b]:d.starbaseLevelInfoArray.push(b),u.push({isSigner:!1,isWritable:!1,pubkey:g.oldRecipeForUpgrade}),u.push({isSigner:!1,isWritable:!1,pubkey:g.newRecipeForUpgrade}),u.push({isSigner:!1,isWritable:!1,pubkey:g.recipeCategoryForLevel})}}return a!=null&&a.maxFleetSize&&(d.maxFleetSize=a.maxFleetSize),a!=null&&a.starbaseUpkeep&&(d.upkeepInfoArray=a.starbaseUpkeep),h.fleet=(0,OA.isNull)(d)?null:d,()=>T3(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateGameState(h).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},gameState:i}).remainingAccounts(u).instruction(),signers:[t]}]})}static activateGameState(e,t,r,s,i,o){return()=>T3(this,void 0,void 0,function*(){return[{instruction:yield e.methods.activateGameState(o).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},gameState:i}).instruction(),signers:[t]}]})}static copyGameState(e,t,r,s,i,o,a){return c=>T3(this,void 0,void 0,function*(){return[{instruction:yield e.methods.copyGameState(a).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},funder:c.publicKey(),oldGameState:i,newGameState:o,systemProgram:ML.SystemProgram.programId}).instruction(),signers:[t,c]}]})}static decodeData(e,t){return(0,OA.decodeAccount)(e,t,SG)}};gd.GameState=qz;qz.ACCOUNT_NAME="gameState";qz.MIN_DATA_SIZE=8+1+32+8+MI.FLEET_INFO_MIN_DATA_SIZE+MI.MISC_VARIABLES_MIN_DATA_SIZE+1;gd.GameState=qz=SG=K1t([(0,OA.staticImplements)(),W1t("design:paramtypes",[Object,ML.PublicKey])],qz);var Hz={};Object.defineProperty(Hz,"__esModule",{value:!0});Hz.IDL=void 0;Hz.IDL={version:"0.1.0",name:"sage",instructions:[{name:"activateGameState",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!0,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!0,isSigner:!1,docs:["The [`GameState`] account"]}],args:[{name:"input",type:{defined:"ManageGameInput"}}]},{name:"addConnection",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for adding the connection"]},{name:"sector1",isMut:!0,isSigner:!1,docs:["The first connected sector"]},{name:"sector2",isMut:!0,isSigner:!1,docs:["The second connected sector"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"subCoordinates1",type:{array:["i64",2]}},{name:"flags1",type:"u8"},{name:"subCoordinates2",type:{array:["i64",2]}},{name:"flags2",type:"u8"},{name:"keyIndex",type:"u16"}]},{name:"addCrewToGame",accounts:[{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"sageCrewConfig",isMut:!1,isSigner:!1,docs:["The [`SageCrewConfig`] Account"]},{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The crew program `CrewConfig` account"]},{name:"crewOwner",isMut:!1,isSigner:!0,docs:["The crew owner"]},{name:"crewDelegate",isMut:!1,isSigner:!1,docs:["The crew delegate"]},{name:"logWrapper",isMut:!1,isSigner:!1,docs:["The log wrapper"]},{name:"compressionProgram",isMut:!1,isSigner:!1,docs:["The compression program"]},{name:"bubblegumProgram",isMut:!1,isSigner:!1,docs:["The bubblegum program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"AddCrewInput"}}]},{name:"addRental",accounts:[{name:"ownerProfile",isMut:!1,isSigner:!1,docs:["The fleet owner's profile."]},{name:"ownerKey",isMut:!1,isSigner:!0,docs:["The key on the owner profile with renting permissions."]},{name:"invalidator",isMut:!1,isSigner:!0,docs:["The fleet rental invalidator - this is a signer to help make sure the fleet won't be locked."]},{name:"subProfile",isMut:!1,isSigner:!1,docs:["The profile to rent to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet to rent out."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"subProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the sub_profile belongs to."]}],args:[{name:"ownerKeyIndex",type:"u16"}]},{name:"addShipEscrow",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"originTokenAccount",isMut:!0,isSigner:!1,docs:["The Origin Token Account"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"shipEscrowTokenAccount",isMut:!0,isSigner:!1,docs:["The Escrow Token Account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Token Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"AddShipEscrowInput"}}]},{name:"addShipToFleet",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `Fleet`"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"AddShipToFleetInput"}}]},{name:"burnCraftingConsumables",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The crafting facility account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `crafting_process`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"IngredientIndexInput"}}]},{name:"cancelCraftingProcess",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to cancel"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"changeRental",accounts:[{name:"subProfileInvalidator",isMut:!1,isSigner:!0,docs:["The fleet rental invalidator"]},{name:"newSubProfile",isMut:!1,isSigner:!1,docs:["The new sub profile"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"subProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the sub_profile belongs to."]}],args:[]},{name:"claimCraftingNonConsumables",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The crafting facility account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `crafting_process`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"IngredientIndexInput"}}]},{name:"claimCraftingOutputs",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The crafting facility account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting [`Recipe`]"]},{name:"craftableItem",isMut:!1,isSigner:!1,docs:["The craftable item"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `craftable_item`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `cargo_pod_to`"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"IngredientIndexInput"}}]},{name:"closeCraftingProcess",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to close"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"councilRankXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"progressionConfig",isMut:!1,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"closeDisbandedFleet",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the player profile."]},{name:"playerProfile",isMut:!1,isSigner:!1,docs:["The player profile."]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"disbandedFleet",isMut:!0,isSigner:!1,docs:["The [`DisbandedFleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]}],args:[{name:"input",type:{defined:"CloseDisbandedFleetInput"}}]},{name:"closeFleetCargoPodTokenAccount",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod, owned by the fleet"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"token",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"closePlayerCrewRecord",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"crewRecord",isMut:!0,isSigner:!1,docs:["The [`PlayerCrewRecord`] account"]},{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The [`SageCrewConfig`] Account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"closeStarbaseCargoTokenAccount",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"token",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"closeUpgradeProcess",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"resourceCraftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to close"]},{name:"resourceCraftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"resourceRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the upgrade resource"]},{name:"resourceCraftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"completeStarbaseUpgrade",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account for crafting at this `Starbase`"]},{name:"upgradeFacility",isMut:!1,isSigner:!1,docs:["The `CraftingFacility` account for starbase upgrades"]},{name:"upgradeRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the starbase upgrade"]},{name:"newRecipeCategory",isMut:!1,isSigner:!1,docs:["The crafting recipe category for the next `Starbase` level"]},{name:"craftingDomain",isMut:!1,isSigner:!1,docs:["The crafting domain"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"copyGameState",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `GameState`"]},{name:"oldGameState",isMut:!1,isSigner:!1,docs:["The old [`GameState`] account"]},{name:"newGameState",isMut:!0,isSigner:!1,docs:["The [`GameState`] account","This will and should fail if there already exists a `GameState`for the desired `update_id`"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"ManageGameInput"}}]},{name:"createCargoPod",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"StarbaseCreateCargoPodInput"}}]},{name:"createCertificateMint",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbase",isMut:!1,isSigner:!1,docs:["The Starbase to create a certificate mint for"]},{name:"cargoMint",isMut:!1,isSigner:!1,docs:["The mint to create a certificate mint for"]},{name:"certificateMint",isMut:!0,isSigner:!1,docs:["The new certificate mint"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type to associate with the `cargo_mint`","Included to ensure that this instruction can only be called for valid cargo types"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The game account"]},{name:"transferHookExtraAccountMetaList",isMut:!0,isSigner:!1,docs:["The transfer hook extra accounts list"]},{name:"transferHookProgram",isMut:!1,isSigner:!1,docs:["The transfer hook program"]},{name:"token2022Program",isMut:!1,isSigner:!1,docs:["The token 2022 program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[]},{name:"createCraftingProcess",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to initialize"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account (NOT initialized)"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"craftingDomain",isMut:!1,isSigner:!1,docs:["The crafting domain"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"StarbaseCreateCraftingProcessInput"}}]},{name:"createFleet",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `Fleet`"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The [`Fleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"cargoHold",isMut:!0,isSigner:!1,docs:["The new fleet `cargo_hold` cargo pod (not initialized)"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The new fleet `fuel_tank` cargo pod (not initialized)"]},{name:"ammoBank",isMut:!0,isSigner:!1,docs:["The new fleet `ammo_bank` cargo pod (not initialized)"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account - represents the first ship in the new fleet"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"CreateFleetInput"}}]},{name:"createStarbaseUpgradeResourceProcess",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to initialize"]},{name:"upgradeFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account (NOT initialized)"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"craftingDomain",isMut:!1,isSigner:!1,docs:["The crafting domain"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"StarbaseCreateCraftingProcessInput"}}]},{name:"depositCargoToFleet",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The origin cargo pod"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"DepositCargoToFleetInput"}}]},{name:"depositCargoToGame",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `key`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod`"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"CargoToGameInput"}}]},{name:"depositCraftingIngredient",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`](crafting::CraftingFacility) account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The source cargo pod account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `crafting_process`"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"StarbaseDepositCraftingIngredientInput"}}]},{name:"depositStarbaseUpkeepResource",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The source cargo pod account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `cargo_pod_from`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"resourceRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the upkeep resource"]},{name:"loyaltyPointsAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"progressionConfig",isMut:!1,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"DepositStarbaseUpkeepResourceInput"}}]},{name:"deregisterMineItem",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterProgressionConfig",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"progressionConfig",isMut:!0,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterResource",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"location",isMut:!0,isSigner:!1,docs:["The Location address"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterStarbase",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterSurveyDataUnitTracker",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"surveyDataUnitTracker",isMut:!0,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]}],args:[{name:"input",type:{defined:"DeregisterSurveyDataUnitTrackerInput"}}]},{name:"devAddCrewToGame",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The starbase player account to add crew to"]}],args:[{name:"input",type:{defined:"DevAddCrewInput"}}]},{name:"disbandFleet",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"disbandedFleet",isMut:!0,isSigner:!1,docs:["The [`DisbandedFleet`] account"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The [`Fleet`] account","The fleet can only be disbanded by the `owner_profile` and not `sub_profile`","Fleet cannot be disbanded while rented"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"cargoHold",isMut:!0,isSigner:!1,docs:["The fleet `cargo_hold` cargo pod"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fleet `fuel_tank` cargo pod"]},{name:"ammoBank",isMut:!0,isSigner:!1,docs:["The fleet `ammo_bank` cargo pod"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"DisbandFleetInput"}}]},{name:"disbandedFleetToEscrow",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"disbandedFleet",isMut:!0,isSigner:!1,docs:["The [`DisbandedFleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"DisbandedFleetToEscrowInput"}}]},{name:"discoverSector",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!1,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new sector"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"DiscoverSectorInput"}}]},{name:"drainMineItemBank",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The mine item token bank to drain"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["Where to send tokens from the bank"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"drainSurveyDataUnitsBank",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing rent refunds go."]},{name:"surveyDataUnitTracker",isMut:!1,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]},{name:"surveyDataUnitTrackerSigner",isMut:!1,isSigner:!1,docs:["The `SurveyDataUnitTracker` signer"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The SDU token bank to drain"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["Where to send tokens from the bank"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"fleetStateHandler",accounts:[{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}],args:[]},{name:"forceDisbandFleet",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"disbandedFleet",isMut:!0,isSigner:!1,docs:["The new [`DisbandedFleet`] account"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The [`Fleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"cargoHold",isMut:!0,isSigner:!1,docs:["The fleet `cargo_hold` cargo pod"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fleet `fuel_tank` cargo pod"]},{name:"ammoBank",isMut:!0,isSigner:!1,docs:["The fleet `ammo_bank` cargo pod"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`]","Must provide at least one ship that is invalid for this instruction"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"ForcedDisbandFleetInput"}}]},{name:"forceDropFleetCargo",accounts:[{name:"fleet",isMut:!0,isSigner:!1,docs:["The `Fleet` Account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The origin cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The `cargo_type` for the token"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[]},{name:"idleToLoadingBay",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]}],args:[{name:"keyIndex",type:"u16"}]},{name:"idleToRespawn",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"atlasTokenFrom",isMut:!0,isSigner:!1,docs:["Source Token account for ATLAS, owned by the player"]},{name:"atlasTokenTo",isMut:!0,isSigner:!1,docs:["Vault Token account for ATLAS"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Solana Token Program"]}],args:[{name:"input",type:{defined:"IdleToRespawnInput"}}]},{name:"initGame",accounts:[{name:"signer",isMut:!0,isSigner:!0,docs:["The entity calling this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The sector permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new game"]},{name:"gameId",isMut:!0,isSigner:!0,docs:["The [`Game`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[]},{name:"initGameState",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `GameState`"]},{name:"gameState",isMut:!0,isSigner:!1,docs:["The [`GameState`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitGameStateInput"}}]},{name:"invalidateRental",accounts:[{name:"subProfileInvalidator",isMut:!1,isSigner:!0,docs:["The fleet rental invalidator"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet"]}],args:[]},{name:"invalidateShip",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!0,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"ship",isMut:!0,isSigner:!1,docs:["The current [`Ship`] account"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"loadFleetCrew",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}],args:[{name:"input",type:{defined:"FleetCrewInput"}}]},{name:"loadingBayToIdle",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]}],args:[{name:"keyIndex",type:"u16"}]},{name:"mineAsteroidToRespawn",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"planet",isMut:!0,isSigner:!1,docs:["The [`Planet`] account"]},{name:"atlasTokenFrom",isMut:!0,isSigner:!1,docs:["Source Token account for ATLAS, owned by the player"]},{name:"atlasTokenTo",isMut:!0,isSigner:!1,docs:["Vault Token account for ATLAS"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Solana Token Program"]}],args:[{name:"input",type:{defined:"MineAsteroidToRespawnInput"}}]},{name:"mintCertificate",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoMint",isMut:!1,isSigner:!1,docs:["The mint of the cargo in question"]},{name:"certificateMint",isMut:!0,isSigner:!1,docs:["The cargo certificate mint"]},{name:"certificateTokenTo",isMut:!0,isSigner:!1,docs:["The token account where certificates are minted to"]},{name:"cargoTokenFrom",isMut:!0,isSigner:!1,docs:["The source token account for the cargo - owned by the `cargo_pod`"]},{name:"cargoTokenTo",isMut:!0,isSigner:!1,docs:["The destination token account for the cargo - owned by the Starbase"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod to take from"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]},{name:"token2022Program",isMut:!1,isSigner:!1,docs:["The token 2022 program"]}],args:[{name:"keyIndex",type:"u16"},{name:"amount",type:"u64"}]},{name:"mintCrewToGame",accounts:[{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"sageCrewConfig",isMut:!1,isSigner:!1,docs:["The [`SageCrewConfig`] Account"]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The crew program `CrewConfig` account"]},{name:"instructionsSysvar",isMut:!1,isSigner:!1,docs:["Solana Instructions Sysvar"]}],args:[]},{name:"redeemCertificate",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"cargoMint",isMut:!1,isSigner:!1,docs:["The mint of the cargo in question"]},{name:"certificateMint",isMut:!0,isSigner:!1,docs:["The cargo certificate mint"]},{name:"certificateOwnerAuthority",isMut:!1,isSigner:!0,docs:["Owner of the certificates"]},{name:"certificateTokenFrom",isMut:!0,isSigner:!1,docs:["The source token account for the cargo certificate - owned by the `certificate_owner_authority`"]},{name:"cargoTokenFrom",isMut:!0,isSigner:!1,docs:["The source token account for the cargo - owned by the Starbase"]},{name:"cargoTokenTo",isMut:!0,isSigner:!1,docs:["The destination token account for the cargo - owned by the `cargo_pod`"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod to send to"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]},{name:"token2022Program",isMut:!1,isSigner:!1,docs:["The token 2022 program"]}],args:[{name:"keyIndex",type:"u16"},{name:"amount",type:"u64"}]},{name:"registerMineItem",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new mine item"]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint address representing the mine item"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterMineItemInput"}}]},{name:"registerPlanet",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new game"]},{name:"planet",isMut:!0,isSigner:!0,docs:["The [`Planet`] account"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterPlanetInput"}}]},{name:"registerProgressionConfig",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new star base"]},{name:"progressionConfig",isMut:!0,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterProgressionConfigInput"}}]},{name:"registerResource",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new resource"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"location",isMut:!0,isSigner:!1,docs:["The Location address"]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterResourceInput"}}]},{name:"registerSageCrewConfig",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new star base"]},{name:"sageCrewConfig",isMut:!0,isSigner:!1,docs:["The [`SageCrewConfig`] account"]},{name:"config",isMut:!1,isSigner:!1,docs:["The crew config"]},{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"registerSagePlayerProfile",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The player permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile"]},{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The `SagePlayerProfile` account"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[]},{name:"registerSagePointModifier",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The `PointCategory`"]},{name:"pointsModifier",isMut:!0,isSigner:!1,docs:["The `PointsModifier` account to be created in Points CPI"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterSagePointsModifierInput"}}]},{name:"registerSector",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new sector"]},{name:"discoverer",isMut:!1,isSigner:!1,docs:["The discoverer of this sector"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"coordinates",type:{array:["i64",2]}},{name:"name",type:{array:["u8",64]}},{name:"keyIndex",type:"u16"}]},{name:"registerShip",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new game"]},{name:"ship",isMut:!0,isSigner:!0,docs:["The [`Ship`] account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint address representing the [`Ship`]"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterShipInput"}}]},{name:"registerStar",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"star",isMut:!0,isSigner:!0,docs:["The [`Star`] account"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterStarInput"}}]},{name:"registerStarbase",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new star base"]},{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"sector",isMut:!1,isSigner:!1,docs:["The [`Sector`] account"]},{name:"gameStateAndProfile",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterStarbaseInputUnpacked"}}]},{name:"registerStarbasePlayer",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder -- pays account rent"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"sagePlayerProfile",isMut:!1,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the player belongs to."]},{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] account to initialize"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[]},{name:"registerSurveyDataUnitTracker",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `SurveyDataUnitTracker`"]},{name:"surveyDataUnitTracker",isMut:!0,isSigner:!0,docs:["The [`SurveyDataUnitTracker`] account"]},{name:"sduMint",isMut:!1,isSigner:!1,docs:["The Survey Data Unit Mint"]},{name:"resourceMint",isMut:!1,isSigner:!1,docs:["The mint of the resource spent when scanning for SDUs"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterSurveyDataUnitTrackerInput"}}]},{name:"removeCargoPod",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod (should be empty)"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"StarbaseRemoveCargoPodInput"}}]},{name:"removeConnection",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the rent refund funds from the connections go to."]},{name:"sector1",isMut:!0,isSigner:!1,docs:["The first sector to remove from"]},{name:"sector2",isMut:!0,isSigner:!1,docs:["The second sector to remove from"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"sector1Index",type:"u16"},{name:"sector2Index",type:"u16"},{name:"keyIndex",type:"u16"}]},{name:"removeCrewFromGame",accounts:[{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"sageCrewConfig",isMut:!1,isSigner:!1,docs:["The [`SageCrewConfig`] Account"]},{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The crew program `CrewConfig` account"]},{name:"newCrewOwner",isMut:!1,isSigner:!1,docs:["The new crew owner"]},{name:"crewDelegate",isMut:!1,isSigner:!1,docs:["The crew delegate"]},{name:"logWrapper",isMut:!1,isSigner:!1,docs:["The log wrapper"]},{name:"compressionProgram",isMut:!1,isSigner:!1,docs:["The compression program"]},{name:"bubblegumProgram",isMut:!1,isSigner:!1,docs:["The bubblegum program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RemoveCrewInput"}}]},{name:"removeInvalidShipEscrow",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["The Destination Token Account"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"shipEscrowTokenAccount",isMut:!0,isSigner:!1,docs:["The Escrow Token Account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Token Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RemoveShipEscrowInput"}}]},{name:"removeShipEscrow",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["The Destination Token Account"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"shipEscrowTokenAccount",isMut:!0,isSigner:!1,docs:["The Escrow Token Account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Token Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RemoveShipEscrowInput"}}]},{name:"respawnToLoadingBay",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoHold",isMut:!1,isSigner:!1,docs:["The fleet `cargo_hold` cargo pod"]},{name:"fuelTank",isMut:!1,isSigner:!1,docs:["The fleet `fuel_tank` cargo pod"]},{name:"ammoBank",isMut:!1,isSigner:!1,docs:["The fleet `ammo_bank` cargo pod"]}],args:[{name:"input",type:{defined:"RespawnToLoadingBayInput"}}]},{name:"scanForSurveyDataUnits",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"surveyDataUnitTracker",isMut:!1,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]},{name:"surveyDataUnitTrackerSigner",isMut:!1,isSigner:!1,docs:["The `SurveyDataUnitTracker` signer"]},{name:"cargoHold",isMut:!0,isSigner:!1,docs:["The general cargo hold cargo pod for the fleet"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"sduTokenFrom",isMut:!0,isSigner:!1,docs:["Source token account for the SDU, owned by `survey_data_unit_tracker_signer`"]},{name:"sduTokenTo",isMut:!0,isSigner:!1,docs:["Destination token account for the SDU, owned by cargo_hold"]},{name:"resourceTokenFrom",isMut:!0,isSigner:!1,docs:["Token account for `resource_mint`, owned by fleet"]},{name:"resourceMint",isMut:!0,isSigner:!1,docs:["The resource that is spent when scanning for Survey Data Units"]},{name:"sduCargoType",isMut:!1,isSigner:!1,docs:["The cargo type of the SDU"]},{name:"resourceCargoType",isMut:!1,isSigner:!1,docs:["The cargo type of `resource_mint`"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition"]},{name:"dataRunningXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"councilRankXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"progressionConfig",isMut:!1,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The cargo program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]},{name:"instructionsSysvar",isMut:!1,isSigner:!1,docs:["Solana Instructions Sysvar"]},{name:"recentSlothashes",isMut:!1,isSigner:!1,docs:["Solana recent slothashes"]}],args:[{name:"input",type:{defined:"ScanForSurveyDataUnitsInput"}}]},{name:"setNextShip",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"ship",isMut:!0,isSigner:!1,docs:["The current [`Ship`] account"]},{name:"nextShip",isMut:!0,isSigner:!1,docs:["The next [`Ship`] account"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"startCraftingProcess",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"craftingRecipe",isMut:!0,isSigner:!1,docs:["The crafting [`Recipe`]"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"startMiningAsteroid",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fleetFuelTokenAccount",isMut:!1,isSigner:!1,docs:["The fleet fuel token account - owned by the `fuel_tank`"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"mineItem",isMut:!1,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"planet",isMut:!0,isSigner:!1,docs:["The [`Planet`] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"startStarbaseUpgrade",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"upgradeFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account for starbase upgrades"]},{name:"upgradeRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the starbase upgrade"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"startSubwarp",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:"StartSubwarpInput"}}]},{name:"stopCraftingProcess",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"craftingRecipe",isMut:!0,isSigner:!1,docs:["The crafting [`Recipe`]"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"stopMiningAsteroid",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"mineItem",isMut:!1,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"planet",isMut:!0,isSigner:!1,docs:["The [`Planet`] account"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fuel tank cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account for fuel"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `fuel_tank`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token account"]},{name:"pilotXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"miningXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"councilRankXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"progressionConfig",isMut:!1,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"StopMiningAsteroidInput"}}]},{name:"stopSubwarp",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:"StopSubwarpInput"}}]},{name:"submitStarbaseUpgradeResource",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"resourceCraftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"resourceCraftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"resourceCraftingFacility",isMut:!1,isSigner:!1,docs:["The crafting facility account"]},{name:"upgradeProcessRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the submission of resources used in the upgrade process"]},{name:"starbaseUpgradeRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the starbase upgrade"]},{name:"resourceRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the resource being submitted","i.e. the recipe for crafting the resource whose mint would be `token_mint`"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `crafting_process`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `cargo_pod_to` (receives any refunds)"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"loyaltyPointsAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"progressionConfig",isMut:!1,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"SubmitStarbaseUpgradeResourceInput"}}]},{name:"syncStarbasePlayer",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[]},{name:"syncStarbaseUpgradeIngredients",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"upgradeRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the starbase upgrade"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"transferCargoAtStarbase",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The origin cargo pod"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"StarbaseTransferCargoInput"}}]},{name:"transferCargoWithinFleet",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The origin cargo pod"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"TransferCargoWithinFleetInput"}}]},{name:"unloadFleetCrew",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}],args:[{name:"input",type:{defined:"FleetCrewInput"}}]},{name:"updateGame",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!0,isSigner:!1,docs:["The [`Game`] account"]}]}],args:[{name:"input",type:{defined:"UpdateGameInput"}}]},{name:"updateGameState",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!0,isSigner:!1,docs:["The [`GameState`] account"]}],args:[{name:"input",type:{defined:"UpdateGameStateInput"}}]},{name:"updateMineItem",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]}],args:[{name:"input",type:{defined:"UpdateMineItemInput"}}]},{name:"updatePlanet",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"planet",isMut:!0,isSigner:!1,docs:["The [`Planet`] account"]}],args:[{name:"input",type:{defined:"UpdatePlanetInput"}}]},{name:"updateProgressionConfig",accounts:[{name:"progressionConfig",isMut:!0,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"UpdateProgressionConfigInput"}}]},{name:"updateResource",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"mineItem",isMut:!1,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]}],args:[{name:"input",type:{defined:"UpdateResourceInput"}}]},{name:"updateShip",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"ship",isMut:!0,isSigner:!1,docs:["The [`Ship`] account"]}],args:[{name:"input",type:{defined:"UpdateShipInput"}}]},{name:"updateShipEscrow",accounts:[{name:"oldShip",isMut:!1,isSigner:!1,docs:["The old [`Ship`] Account"]},{name:"next",isMut:!1,isSigner:!1,docs:["The address indicated as `next` in the `old_ship` account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:"UpdateShipEscrowInput"}}]},{name:"updateShipInFleet",accounts:[{name:"fleet",isMut:!0,isSigner:!1,docs:["The [`Fleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"oldShip",isMut:!1,isSigner:!1,docs:["The old [`Ship`] Account"]},{name:"next",isMut:!1,isSigner:!1,docs:["The address indicated as `next` in the `old_ship` account"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:"UpdateShipFleetInput"}}]},{name:"updateStar",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"star",isMut:!0,isSigner:!1,docs:["The [`Star`] account"]}],args:[{name:"input",type:{defined:"UpdateStarInput"}}]},{name:"updateStarbase",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new game"]},{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"UpdateStarbaseInput"}}]},{name:"updateSurveyDataUnitTracker",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"surveyDataUnitTracker",isMut:!0,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]}],args:[{name:"input",type:{defined:"UpdateSurveyDataUnitTrackerInput"}}]},{name:"warpLane",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fromStarbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"toStarbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"fromSector",isMut:!1,isSigner:!1,docs:["The Sector account representing the fleet`s  current sector"]},{name:"toSector",isMut:!1,isSigner:!1,docs:["The Sector account that `Fleet` will move to"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fuel tank cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The `Cargo Type` Account"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The `CargoStatsDefinition` for the cargo type"]},{name:"fuelTokenFrom",isMut:!0,isSigner:!1,docs:["The fuel source token account - owned by the `fuel_tank`"]},{name:"fuelMint",isMut:!0,isSigner:!1,docs:["Token Mint - The fuel mint"]},{name:"feeTokenFrom",isMut:!0,isSigner:!1,docs:["The fee source token account"]},{name:"feeTokenTo",isMut:!0,isSigner:!1,docs:["The fee destination token account"]},{name:"feeMint",isMut:!0,isSigner:!1,docs:["Fee Token Mint"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"WarpLaneInput"}}]},{name:"warpToCoordinate",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fuel tank cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account for fuel"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `fuel_tank`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["Token Mint - The fuel mint"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"WarpToCoordinateInput"}}]},{name:"withdrawCargoFromFleet",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The origin cargo pod, owned by the fleet"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod, owned by the Starbase player"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"WithdrawCargoFromFleetInput"}}]},{name:"withdrawCargoFromGame",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `key`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"CargoToGameInput"}}]},{name:"withdrawCraftingIngredient",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`](crafting::CraftingFacility) account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `crafting_process`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"StarbaseWithdrawCraftingIngredientInput"}}]}],accounts:[{name:"craftingInstance",docs:["This account is used to store relevant information for a crafting process instance"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"seqId",docs:["The sequence id for the `Starbase`"],type:"u16"},{name:"authority",docs:["The authority over the `CraftingInstance`"],type:"publicKey"},{name:"craftingProcess",docs:["The `CraftingProcess` account address"],type:"publicKey"},{name:"instanceType",docs:["the planet type"],type:"u8"},{name:"numCrew",docs:["The number of crew taking part in the crafting process"],type:"u64"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"disbandedFleet",docs:["Keeps track of a fleet while it is disbanded"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["The game id this belongs to."],type:"publicKey"},{name:"ownerProfile",docs:["The owner's profile."],type:"publicKey"},{name:"starbase",docs:["The `Starbase` at which the original `Fleet` was disbanded."],type:"publicKey"},{name:"fleetLabel",docs:["The label or name of the disbanded fleet."],type:{array:["u8",32]}},{name:"fleetShips",docs:["The `FleetShips` account belonging to the original `Fleet` that was disbanded."],type:"publicKey"},{name:"bump",docs:["The disbanded fleet's bump."],type:"u8"}]}},{name:"fleet",docs:["A `SAGE` fleet."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["The game id this belongs to."],type:"publicKey"},{name:"ownerProfile",docs:["The owner's profile."],type:"publicKey"},{name:"fleetShips",docs:["Fleet Ships Key"],type:"publicKey"},{name:"subProfile",docs:["The fleet's sub-authority.","If [`Some`] will have the exclusive ability to interact with this fleet."],type:{defined:"OptionalNonSystemPubkey"}},{name:"subProfileInvalidator",docs:["The authority for revoking a sun-authority."],type:"publicKey"},{name:"faction",docs:["The faction of the profile."],type:"u8"},{name:"fleetLabel",docs:["The label or name of the fleet."],type:{array:["u8",32]}},{name:"shipCounts",docs:["The number of ships in the fleet."],type:{defined:"ShipCounts"}},{name:"warpCooldownExpiresAt",docs:["The time at which the warp cooldown expires"],type:"i64"},{name:"scanCooldownExpiresAt",docs:["The time at which the scan cooldown expires"],type:"i64"},{name:"stats",docs:["The fleet's stats."],type:{defined:"ShipStats"}},{name:"cargoHold",docs:["The Cargo pod representing the fleet's cargo hold"],type:"publicKey"},{name:"fuelTank",docs:["The Cargo pod representing the fleet's fuel tank"],type:"publicKey"},{name:"ammoBank",docs:["The Cargo pod representing the fleet's ammo bank"],type:"publicKey"},{name:"updateId",docs:["The update id for the `Fleet`"],type:"u64"},{name:"bump",docs:["The fleet's bump."],type:"u8"}]}},{name:"fleetShips",docs:["Keeps track of a the individual ships that make up a fleet"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"fleet",docs:["The `Fleet` account this belongs to"],type:"publicKey"},{name:"fleetShipsInfoCount",docs:["List length of `RemainingData`"],type:"u32"},{name:"bump",docs:["The disbanded fleet's bump."],type:"u8"}]}},{name:"game",docs:["Global Game Configuration variables"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"updateId",docs:["The sequence id for updates."],type:"u64"},{name:"profile",docs:["The [`Profile`](player_profile::state::Profile) that handles the sector program permissions"],type:"publicKey"},{name:"gameState",docs:["The associated `GameState` account."],type:"publicKey"},{name:"points",docs:["Points setting"],type:{defined:"Points"}},{name:"cargo",docs:["Cargo settings"],type:{defined:"Cargo"}},{name:"crafting",docs:["Crafting settings"],type:{defined:"Crafting"}},{name:"mints",docs:["mint related settings"],type:{defined:"Mints"}},{name:"vaults",docs:["vault related settings"],type:{defined:"Vaults"}},{name:"riskZones",docs:["Data for risk zones"],type:{defined:"RiskZonesData"}}]}},{name:"gameState",docs:["Keeps track of variables that may change frequently during a `Game` session"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"updateId",docs:["The sequence id for updates"],type:"u64"},{name:"gameId",docs:["The `Game` that this belongs to"],type:"publicKey"},{name:"fleet",docs:["Fleet settings"],type:{defined:"FleetInfo"}},{name:"misc",docs:["Miscellaneous settings"],type:{defined:"MiscVariables"}},{name:"bump",docs:["PDA bump"],type:"u8"}]}},{name:"mineItem",docs:["Represents a token registered as an item that can be mined"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["the game_id account this item is registered with"],type:"publicKey"},{name:"name",docs:["The name of the `MineItem`"],type:{array:["u8",64]}},{name:"mint",docs:["the mint representing the items mined"],type:"publicKey"},{name:"resourceHardness",docs:["How hard it is to mine this item -> Ranges from 1-10"],type:"u16"},{name:"numResourceAccounts",docs:["The number of resource accounts for this mine item"],type:"u64"},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"planet",docs:["Planet"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"name",docs:["The name of this `Planet`"],type:{array:["u8",64]}},{name:"gameId",docs:["the `Game` that this belongs to"],type:"publicKey"},{name:"sector",docs:["the sector that this belongs to"],type:{array:["i64",2]}},{name:"subCoordinates",docs:["sub_coordinates as [x, y]"],type:{array:["i64",2]}},{name:"planetType",docs:["the planet type"],type:"u8"},{name:"position",docs:["the planet position"],type:"u8"},{name:"size",docs:["size"],type:"u64"},{name:"maxHp",docs:["maximum health"],type:"u64"},{name:"currentHealth",docs:["The current health of the `Planet`."],type:"u64"},{name:"amountMined",docs:["the cumulative amount mined from this `Asteroid`"],type:"u64"},{name:"numResources",docs:["the number of resources at this `Asteroid`"],type:"u8"},{name:"numMiners",docs:["the number of entities currently mining at this `Asteroid`"],type:"u64"}]}},{name:"playerCrewRecord",docs:["An account used to record how many crew members have been added to the game by a player",'This is meant to be used temporarily during the crew "pre add" period where players can add crew members to the game but not use them'],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"playerProfile",docs:["The `Profile` key"],type:"publicKey"},{name:"crewConfig",docs:["The `SageCrewConfig` key"],type:"publicKey"},{name:"gameId",docs:["The id of the `Game`"],type:"publicKey"},{name:"count",docs:["The number of crew members"],type:"u32"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"progressionConfig",docs:["Progression Config"],type:{kind:"struct",fields:[{name:"version",docs:["the data version of this account."],type:"u8"},{name:"gameId",docs:["the `Game` that this belongs to"],type:"publicKey"},{name:"dailyLpLimit",docs:["the daily limit for Loyalty Points (LP)"],type:"u64"},{name:"dailyCouncilRankXpLimit",docs:["the daily limit for Council Rank Experience Points (CRXP)"],type:"u64"},{name:"dailyPilotXpLimit",docs:["the daily limit for Pilot License Experience Points (PXP)"],type:"u64"},{name:"dailyDataRunningXpLimit",docs:["the daily limit for Data Running Experience Points (DRXP)"],type:"u64"},{name:"dailyMiningXpLimit",docs:["the daily limit for Mining Experience Points (MXP)"],type:"u64"},{name:"dailyCraftingXpLimit",docs:["the daily limit for Crafting Experience Points (CXP)"],type:"u64"},{name:"numItems",docs:["number of progression items being tracked"],type:"u16"}]}},{name:"resource",docs:["Represents a mine-able item existing at a particular location (e.g. a planet)"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["the game_id pubkey"],type:"publicKey"},{name:"location",docs:["the location's pubkey"],type:"publicKey"},{name:"mineItem",docs:["the mine item pubkey"],type:"publicKey"},{name:"locationType",docs:["the location type"],type:"u8"},{name:"systemRichness",docs:["How abundant the resource is at the location -> Ranges from 1-5"],type:"u16"},{name:"amountMined",docs:["the cumulative amount mined from this resource"],type:"u64"},{name:"numMiners",docs:["the number of entities currently mining this resource"],type:"u64"},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"sageCrewConfig",docs:["SAGE crew Config"],type:{kind:"struct",fields:[{name:"version",docs:["the data version of this account."],type:"u8"},{name:"gameId",docs:["the `Game` that this belongs to"],type:"publicKey"},{name:"config",docs:["the `CrewConfig` account address"],type:"publicKey"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"sagePlayerProfile",docs:["A `SAGE` player's profile."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"playerProfile",docs:["The `Profile` key"],type:"publicKey"},{name:"gameId",docs:["The id of the `Game`"],type:"publicKey"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"sector",docs:["Sector"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["the game_id that this belongs to"],type:"publicKey"},{name:"coordinates",docs:["coordinates as [x, y]"],type:{array:["i64",2]}},{name:"discoverer",docs:["The discoverer of this sector"],type:"publicKey"},{name:"name",docs:["The name of this sector"],type:{array:["u8",64]}},{name:"numStars",docs:["the number of stars in this system"],type:"u16"},{name:"numPlanets",docs:["the number of planets in this system"],type:"u16"},{name:"numMoons",docs:["the number of moons in this system"],type:"u16"},{name:"numAsteroidBelts",docs:["the number of num_asteroid belts in this system"],type:"u16"},{name:"lastScanTime",docs:["The last time the `Sector` was scanned"],type:"i64"},{name:"lastScanChance",docs:["The probability of finding SDUs in the `Sector` from the last time it was scanned"],type:"u32"},{name:"bump",docs:["PDA bump"],type:"u8"},{name:"numConnections",docs:["the number of connections in this system"],type:"u16"}]}},{name:"ship",docs:["This account represents a Ship"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["the game_id account this Ship is registered with"],type:"publicKey"},{name:"mint",docs:["the mint representing the Ship"],type:"publicKey"},{name:"name",docs:["The name of this `Ship`"],type:{array:["u8",64]}},{name:"sizeClass",docs:["the ship's size class"],type:"u8"},{name:"stats",docs:["The ship's stats"],type:{defined:"ShipStats"}},{name:"updateId",docs:["The `update_id` for the `Ship`"],type:"u64"},{name:"maxUpdateId",docs:["The max `Game` `update_id` that the `Ship` is valid for"],type:"u64"},{name:"next",docs:["the next `Ship` account to use when this `Ship` is updated"],type:{defined:"OptionalNonSystemPubkey"}}]}},{name:"star",docs:["`Star` account"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"name",docs:["The name of this `Star`"],type:{array:["u8",64]}},{name:"gameId",docs:["the game_id that this belongs to"],type:"publicKey"},{name:"sector",docs:["the sector that this belongs to"],type:{array:["i64",2]}},{name:"size",docs:["size"],type:"u64"},{name:"subCoordinates",docs:["sub_coordinates as [x, y]"],type:{array:["i64",2]}},{name:"starType",docs:["the star type"],type:"u8"}]}},{name:"starbase",docs:["Starbase"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this `Starbase` account."],type:"u8"},{name:"gameId",docs:["the game_id that this `Starbase` belongs to"],type:"publicKey"},{name:"sector",docs:["the sector that this `Starbase` belongs to"],type:{array:["i64",2]}},{name:"craftingFacility",docs:["the [`CraftingFacility`] to use for crafting at this `Starbase`"],type:"publicKey"},{name:"upgradeFacility",docs:["the [`CraftingFacility`] to use for upgrade jobs at this `Starbase`"],type:"publicKey"},{name:"name",docs:["The name of this `Starbase`"],type:{array:["u8",64]}},{name:"subCoordinates",docs:["coordinates as [x, y]"],type:{array:["i64",2]}},{name:"faction",docs:["The faction of the `Starbase`."],type:"u8"},{name:"bump",docs:["bump for PDA"],type:"u8"},{name:"seqId",docs:["The sequence id for the `Starbase`"],type:"u16"},{name:"state",docs:["The state of the `Starbase`. Is a [`StarbaseState`]."],type:"u8"},{name:"level",docs:["The level of the `Starbase`."],type:"u8"},{name:"hp",docs:["The `Starbase` health points."],type:"u64"},{name:"sp",docs:["The `Starbase` shield points."],type:"u64"},{name:"sectorRingAvailable",docs:["The planet position (`sector::state::Ring`) available for this `Starbase`"],type:"u8"},{name:"upgradeState",docs:["The `Starbase` upgrade state"],type:"u8"},{name:"upgradeIngredientsChecksum",docs:["used to check if expected upgrade ingredients have been supplied"],type:{array:["u8",16]}},{name:"numUpgradeIngredients",docs:["number of ingredients needed for starbase upgrade"],type:"u8"},{name:"upkeepAmmoBalance",docs:["The balance of ammo for upkeep"],type:"u64"},{name:"upkeepAmmoLastUpdate",docs:["The last time ammo for upkeep was updated (Local time)"],type:"i64"},{name:"upkeepAmmoGlobalLastUpdate",docs:["The last time ammo for upkeep was updated (Global time)"],type:"i64"},{name:"upkeepFoodBalance",docs:["The balance of food for upkeep"],type:"u64"},{name:"upkeepFoodLastUpdate",docs:["The last time food for upkeep was updated (Local time)"],type:"i64"},{name:"upkeepFoodGlobalLastUpdate",docs:["The last time food for upkeep was updated (Global time)"],type:"i64"},{name:"upkeepToolkitBalance",docs:["The balance of toolkits for upkeep"],type:"u64"},{name:"upkeepToolkitLastUpdate",docs:["The last time toolkits for upkeep was updated (Local time)"],type:"i64"},{name:"upkeepToolkitGlobalLastUpdate",docs:["The last time toolkits for upkeep was updated (Global time)"],type:"i64"},{name:"builtDestroyedTimestamp",docs:["The last time the starbase was built or destroyed"],type:"i64"}]}},{name:"starbasePlayer",docs:["The `SAGE` player info within a `Starbase`"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"playerProfile",docs:["The `Profile` key"],type:"publicKey"},{name:"gameId",docs:["The id of the `Game`"],type:"publicKey"},{name:"starbase",docs:["The `Starbase` key"],type:"publicKey"},{name:"sagePlayerProfile",docs:["The `SagePlayerProfile` key"],type:"publicKey"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"},{name:"shipEscrowCount",docs:["List length of `RemainingData`"],type:"u32"},{name:"oldTotalCrew",docs:["The old total crew members from the player's fleets at the `Starbase`","This is used BEFORE crew program features are turned ON"],type:"u32"},{name:"newTotalCrew",docs:["The new total crew members from the player's fleets at the `Starbase`","This is used AFTER crew program features are turned ON"],type:"u32"},{name:"busyCrew",docs:["The number of crew members that is engaged/busy and not available"],type:"u64"},{name:"updateId",docs:["The `Game` update id"],type:"u64"},{name:"updatedShipEscrowCount",docs:["Number of updated items in `RemainingData` list","This will be `ship_escrow_count` when all ships in escrow are up-to-date"],type:"u32"}]}},{name:"surveyDataUnitTracker",docs:["Survey Data Unit (SDU) Tracker"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["The game_id that this belongs to"],type:"publicKey"},{name:"sduMint",docs:["The Survey Data Unit Mint"],type:"publicKey"},{name:"resourceMint",docs:["The mint of the resource spent when scanning for SDUs"],type:"publicKey"},{name:"signer",docs:["The signer for this account"],type:"publicKey"},{name:"signerBump",docs:["The signer for this account"],type:"u8"},{name:"coordinatesRange",docs:["The valid coordinates range","e.g. a value of [-50, 50] means that coordinates from [-50, -50] to [50, 50] are valid for SDU scanning"],type:{array:["i64",2]}},{name:"cssCoordinates",docs:["The locations of the central space stations (CSS) of the three factions"],type:{array:[{array:["i64",2]},3]}},{name:"originCoordinates",docs:['The co-ordinates of the "origin"; used in calculating SDU probability'],type:{array:["i64",2]}},{name:"cssMaxDistance",docs:["The max distance from the nearest CSS; used in calculating SDU probability"],type:"u32"},{name:"originMaxDistance",docs:["The max distance from the `origin_coordinates`; used in calculating SDU probability"],type:"u32"},{name:"distanceWeighting",docs:["The distance weighting; used in calculating SDU probability"],type:"u32"},{name:"tMax",docs:["The maximum time before SDU probability at a location changes"],type:"i64"},{name:"xMul",docs:["Multiplier in the X dimension; used in noise function"],type:"u32"},{name:"yMul",docs:["Multiplier in the Y dimension; used in noise function"],type:"u32"},{name:"zMul",docs:["Multiplier in the Z dimension; used in noise function"],type:"u32"},{name:"sduMaxPerSector",docs:["The maximum number of SDUs that can be found per scan per sector"],type:"u32"},{name:"scanChanceRegenPeriod",docs:["The amount of time in seconds that it takes for a sector scan chance to fully regenerate"],type:"i16"}]}}],types:[{name:"AddCrewInput",docs:["Struct for data input for `AddCrew`"],type:{kind:"struct",fields:[{name:"items",docs:["inputs required to transfer crew cNFTs"],type:{vec:{defined:"CrewTransferInput"}}}]}},{name:"AddShipEscrowInput",docs:["Struct for data input for `AddShipEscrow`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Amount of `Ship` tokens to transfer to escrow"],type:"u64"},{name:"index",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`","Some index `WrappedShipEscrow`, or None for new `WrappedShipEscrow`"],type:{option:"u32"}}]}},{name:"AddShipToFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Number of ships to add to the fleet"],type:"u8"},{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"},{name:"fleetShipInfoIndex",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:{option:"u32"}},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"Cargo",docs:["Variables for the Cargo program"],type:{kind:"struct",fields:[{name:"statsDefinition",docs:["The cargo stats definition account"],type:"publicKey"}]}},{name:"CargoStats",docs:["A ship's cargo stats"],type:{kind:"struct",fields:[{name:"cargoCapacity",docs:["the capacity of the ship's cargo hold"],type:"u32"},{name:"fuelCapacity",docs:["the capacity of the ship's fuel tank"],type:"u32"},{name:"ammoCapacity",docs:["the capacity of the ship's ammo bank"],type:"u32"},{name:"ammoConsumptionRate",docs:["the amount of ammo consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"foodConsumptionRate",docs:["the amount of food consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"miningRate",docs:["the amount of resources that can be mined by a ship per second"],type:"u32"},{name:"upgradeRate",docs:["the amount of upgrade material that is consumed by a ship per second while upgrading a Starbase"],type:"u32"},{name:"cargoTransferRate",docs:["the amount of cargo that a ship can transfer per second to another ship outside of dock"],type:"u32"},{name:"tractorBeamGatherRate",docs:["the amount of cargo that the ship can gather per second using its tractor beam"],type:"u32"}]}},{name:"CargoStatsUnpacked",docs:["Unpacked version of [`CargoStats`]"],type:{kind:"struct",fields:[{name:"cargoCapacity",docs:["the capacity of the ship's cargo hold"],type:"u32"},{name:"fuelCapacity",docs:["the capacity of the ship's fuel tank"],type:"u32"},{name:"ammoCapacity",docs:["the capacity of the ship's ammo bank"],type:"u32"},{name:"ammoConsumptionRate",docs:["the amount of ammo consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"foodConsumptionRate",docs:["the amount of food consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"miningRate",docs:["the amount of resources that can be mined by a ship per second"],type:"u32"},{name:"upgradeRate",docs:["the amount of upgrade material that is consumed by a ship per second while upgrading a Starbase"],type:"u32"},{name:"cargoTransferRate",docs:["the amount of cargo that a ship can transfer per second to another ship outside of dock"],type:"u32"},{name:"tractorBeamGatherRate",docs:["the amount of cargo that the ship can gather per second using its tractor beam"],type:"u32"}]}},{name:"CargoToGameInput",docs:["Struct for data input to `DepositCargoToGame`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"CloseDisbandedFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"Crafting",docs:["Variables for the Crafting program"],type:{kind:"struct",fields:[{name:"domain",docs:["The crafting domain account"],type:"publicKey"}]}},{name:"CraftingInstanceType",docs:["Represents the type of `CraftingInstance`"],type:{kind:"enum",variants:[{name:"StarbaseCrafting"},{name:"StarbaseUpgradeMaterial"}]}},{name:"CreateFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Number of ships to add to the fleet"],type:"u8"},{name:"fleetLabel",docs:["the fleet label"],type:{array:["u8",32]}},{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"},{name:"cargoHoldSeeds",docs:["cargo hold seeds"],type:{array:["u8",32]}},{name:"fuelTankSeeds",docs:["fuel tank seeds"],type:{array:["u8",32]}},{name:"ammoBankSeeds",docs:["ammo bank seeds"],type:{array:["u8",32]}},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"CrewTransferInput",docs:["Struct for data input for crew cNFT transfer"],type:{kind:"struct",fields:[{name:"dataHash",docs:["The crew cNFT data hash"],type:{array:["u8",32]}},{name:"proofCount",docs:["The number of proofs for the crew cNFT"],type:"u8"},{name:"leafIndex",docs:["The crew cNFT index (index of the leaf node in the Merkle tree)"],type:"u32"}]}},{name:"DepositCargoToFleetInput",docs:["Struct for data input to `DepositCargoToFleet`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"DepositStarbaseUpkeepResourceInput",docs:["Submit starbase upkeep resource inputs"],type:{kind:"struct",fields:[{name:"pointsProgramPermissionsKeyIndex",docs:["the index of the points program permissions in the player profile"],type:"u16"},{name:"sagePermissionsKeyIndex",docs:["the index of the key in sage permissions in the player profile"],type:"u16"},{name:"resourceType",docs:["the resource type"],type:"u8"},{name:"resourceIndex",docs:["the index of the resource represented by `token_mint` in the `resource_recipe` ingredients list"],type:"u16"},{name:"amount",docs:["the amount"],type:"u64"},{name:"epochIndex",docs:["the index of the epoch in the `RedemptionConfig` account"],type:"u16"}]}},{name:"DeregisterSurveyDataUnitTrackerInput",docs:["Struct for data input that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"DevAddCrewInput",docs:["Struct for data input to Dev Add Crew"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the permissions profile"],type:"u16"},{name:"crewCount",docs:["The number of crew to add or remove"],type:"i32"}]}},{name:"DisbandFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"DisbandedFleetToEscrowInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Number of ships to add to the fleet"],type:"u16"},{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:{option:"u32"}},{name:"fleetShipInfoIndex",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:"u32"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"DiscoverSectorInput",docs:["Struct for data input for `DiscoverSector`"],type:{kind:"struct",fields:[{name:"coordinates",docs:["The coordinates of the new `Sector`"],type:{array:["i64",2]}},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"FactionsStarbaseLevelInfo",docs:["`Starbase` levels discriminated by faction"],type:{kind:"struct",fields:[{name:"mud",docs:["Mud Starbase Levels Info"],type:{array:[{defined:"StarbaseLevelInfo"},7]}},{name:"oni",docs:["Oni Starbase Levels Info"],type:{array:[{defined:"StarbaseLevelInfo"},7]}},{name:"ustur",docs:["Ustur Starbase Levels Info"],type:{array:[{defined:"StarbaseLevelInfo"},7]}}]}},{name:"FleetCrewInput",docs:["Struct for data input to `FleetCrew`"],type:{kind:"struct",fields:[{name:"count",docs:["passenger count"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"FleetInfo",docs:["Variables for the Fleet program"],type:{kind:"struct",fields:[{name:"starbaseLevels",docs:["`Starbase` levels discriminated by faction"],type:{defined:"FactionsStarbaseLevelInfo"}},{name:"upkeep",docs:["`Starbase` upkeep discriminated by level"],type:{defined:"StarbaseUpkeepLevels"}},{name:"maxFleetSize",docs:["Maximum `Fleet` size allowed"],type:"u32"}]}},{name:"FleetInput",docs:["Struct for data input to Update fleet settings"],type:{kind:"struct",fields:[{name:"starbaseLevelInfoArray",docs:["`Starbase` Level Info array"],type:{option:{vec:{defined:"StarbaseLevelInfoArrayInput"}}}},{name:"upkeepInfoArray",docs:["`Starbase` Level Info array"],type:{option:{vec:{defined:"StarbaseUpkeepInfoArrayInput"}}}},{name:"maxFleetSize",docs:["Maximum `Fleet` size allowed"],type:{option:"u32"}}]}},{name:"FleetShipsInfo",docs:["Struct that represents info on a single ship type in a fleet"],type:{kind:"struct",fields:[{name:"ship",docs:["The `Ship` account address"],type:"publicKey"},{name:"amount",docs:["The `Ship` token amount in escrow"],type:"u64"},{name:"updateId",docs:["The update id for the `Ship`"],type:"u64"}]}},{name:"ForcedDisbandFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"fleetShipInfoIndex",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:"u32"}]}},{name:"Idle",docs:["The data for the [`FleetStateData::Idle`](crate::state_machine::FleetStateData::Idle) state"],type:{kind:"struct",fields:[{name:"sector",docs:["The star system the fleet is in"],type:{array:["i64",2]}}]}},{name:"IdleToRespawnInput",docs:["Struct for data input to initialize an `IdleToRespawn` Ix"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["index of the key in the player profile"],type:"u16"}]}},{name:"IngredientIndexInput",docs:["Struct for data input that has `key_index`"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the recipe output"],type:"u16"}]}},{name:"InitGameStateInput",docs:["Struct for data input to `InitGameState`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"KeyIndexInput",docs:["Struct for data input that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"LocationType",docs:["Represents different types of locations that a `Resource` might be found"],type:{kind:"enum",variants:[{name:"Planet"}]}},{name:"ManageGameInput",docs:["Struct for data input to managing Game accounts"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"MineAsteroid",docs:["The data for the [`FleetStateData::MineAsteroid`](crate::state_machine::FleetStateData::MineAsteroid) state"],type:{kind:"struct",fields:[{name:"asteroid",docs:["The `Asteroid` the `Fleet` is mining (Must be an asteroid belt)"],type:"publicKey"},{name:"resource",docs:["The `Resource` being mined on the `Asteroid`"],type:"publicKey"},{name:"start",docs:["The timestamp at which mining activity started"],type:"i64"},{name:"end",docs:["The timestamp at which mining activity stops"],type:"i64"},{name:"amountMined",docs:["The cumulative amount mined"],type:"u64"},{name:"lastUpdate",docs:["The last time the `Fleet` was updated"],type:"i64"}]}},{name:"MineAsteroidToRespawnInput",docs:["Struct for data input for `MineAsteroidToRespawnInput`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"Mints",docs:["Token mints"],type:{kind:"struct",fields:[{name:"atlas",docs:["ATLAS token mint"],type:"publicKey"},{name:"polis",docs:["POLIS token mint"],type:"publicKey"},{name:"ammo",docs:["ammunition"],type:"publicKey"},{name:"food",docs:["food"],type:"publicKey"},{name:"fuel",docs:["fuel"],type:"publicKey"},{name:"repairKit",docs:["repair kit"],type:"publicKey"}]}},{name:"MiscStats",docs:["A ship's miscellaneous stats"],type:{kind:"struct",fields:[{name:"requiredCrew",docs:["Number of crew required to operate the ship"],type:"u16"},{name:"passengerCapacity",docs:["Number of crew that the ship can carry as passengers"],type:"u16"},{name:"crewCount",docs:["Total number of crew on the ship (required crew + passengers on board)","Will be zero until `CREW_FEATURE` is enabled"],type:"u16"},{name:"rentedCrew",docs:["Total number of crew that were rented out together with the fleet"],type:"u16"},{name:"respawnTime",docs:["the time it takes the ship to respawn"],type:"u16"},{name:"scanCoolDown",docs:["the time it takes the ship to be able to scan again after scanning"],type:"u16"},{name:"sduPerScan",docs:["The number of SDUs that can be found while scanning"],type:"u32"},{name:"scanCost",docs:["the amount of resource required to do a scan"],type:"u32"},{name:"placeholder",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"},{name:"placeholder2",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"},{name:"placeholder3",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"}]}},{name:"MiscStatsUnpacked",docs:["Unpacked version of [`MiscStats`]"],type:{kind:"struct",fields:[{name:"requiredCrew",docs:["Number of crew required to operate the ship"],type:"u16"},{name:"passengerCapacity",docs:["Number of crew that the ship can carry as passengers"],type:"u16"},{name:"crewCount",docs:["Total number of crew on the ship (required crew + passengers on board)","Will be zero until `CREW_FEATURE` is enabled"],type:"u16"},{name:"rentedCrew",docs:["Total number of crew that were rented out together with the fleet"],type:"u16"},{name:"respawnTime",docs:["the time it takes the ship to respawn"],type:"u16"},{name:"scanCoolDown",docs:["the time it takes the ship to be able to scan again after scanning"],type:"u16"},{name:"sduPerScan",docs:["The number of SDUs that can be found while scanning"],type:"u32"},{name:"scanCost",docs:["the amount of resource required to do a scan"],type:"u32"},{name:"placeholder",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"},{name:"placeholder2",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"},{name:"placeholder3",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"}]}},{name:"MiscVariables",docs:["Miscellaneous game state variables"],type:{kind:"struct",fields:[{name:"warpLaneFuelCostReduction",docs:['Percentage by which the "warp lane" movement type reduces warp fuel cost'],type:"i16"},{name:"respawnFee",docs:["Respawn fee; You cannot enter into the respawning state without paying this fee","Since ATLAS has 8 decimal places, units are in the smallest value of ATLAS possible."],type:"u64"},{name:"upkeepMiningEmissionsPenalty",docs:["Percentage by which to reduce the asteroid mining rate if a starbase ammo upkeep coffer is empty"],type:"i16"}]}},{name:"MiscVariablesInput",docs:["Struct for data input to update miscellaneous settings"],type:{kind:"struct",fields:[{name:"warpLaneFuelCostReduction",docs:['Percentage by which the "warp lane" movement type reduces warp fuel cost'],type:{option:"i16"}},{name:"upkeepMiningEmissionsPenalty",docs:["Percentage by which to reduce the asteroid mining rate if a starbase ammo upkeep coffer is empty"],type:{option:"i16"}},{name:"respawnFee",docs:["Respawn fee, charged in ATLAS"],type:{option:"u64"}}]}},{name:"MoveSubwarp",docs:["The data for the [`FleetStateData::MoveSubwarp`] state"],type:{kind:"struct",fields:[{name:"fromSector",docs:["The sector the fleet is coming from"],type:{array:["i64",2]}},{name:"toSector",docs:["The sector the fleet is going to"],type:{array:["i64",2]}},{name:"currentSector",docs:["The sector the fleet is currently in"],type:{array:["i64",2]}},{name:"departureTime",docs:["When the fleet started subwarp"],type:"i64"},{name:"arrivalTime",docs:["When the fleet will finish subwarp"],type:"i64"},{name:"fuelExpenditure",docs:["The fuel cost of the subwarp"],type:"u64"},{name:"lastUpdate",docs:["The last update time"],type:"i64"}]}},{name:"MoveWarp",docs:["The data for the [`FleetStateData::MoveWarp`] state"],type:{kind:"struct",fields:[{name:"fromSector",docs:["The star system the fleet is coming from"],type:{array:["i64",2]}},{name:"toSector",docs:["The star system the fleet is going to"],type:{array:["i64",2]}},{name:"warpStart",docs:["When the fleet started warping"],type:"i64"},{name:"warpFinish",docs:["When the warp will end"],type:"i64"}]}},{name:"MovementStats",docs:["A ship's movement stats"],type:{kind:"struct",fields:[{name:"subwarpSpeed",docs:["the amount of distance that the ship can cover in one second while sub-warping"],type:"u32"},{name:"warpSpeed",docs:["the amount of distance that the ship can cover in one second while warping"],type:"u32"},{name:"maxWarpDistance",docs:["the max distance that the ship can warp"],type:"u16"},{name:"warpCoolDown",docs:["the time it takes the ship to be able to warp again after a warp"],type:"u16"},{name:"subwarpFuelConsumptionRate",docs:["the amount of fuel consumed by the ship when sub-warp moving"],type:"u32"},{name:"warpFuelConsumptionRate",docs:["the amount of fuel consumed by the ship when warp moving"],type:"u32"},{name:"planetExitFuelAmount",docs:["the amount of fuel required to exit a planet"],type:"u32"}]}},{name:"MovementStatsUnpacked",docs:["Unpacked version of [`MovementStats`]"],type:{kind:"struct",fields:[{name:"subwarpSpeed",docs:["the amount of distance that the ship can cover in one second while sub-warping"],type:"u32"},{name:"warpSpeed",docs:["the amount of distance that the ship can cover in one second while warping"],type:"u32"},{name:"maxWarpDistance",docs:["the max distance that the ship can warp"],type:"u16"},{name:"warpCoolDown",docs:["the time it takes the ship to be able to warp again after a warp"],type:"u16"},{name:"subwarpFuelConsumptionRate",docs:["the amount of fuel consumed by the ship when sub-warp moving"],type:"u32"},{name:"warpFuelConsumptionRate",docs:["the amount of fuel consumed by the ship when warp moving"],type:"u32"},{name:"planetExitFuelAmount",docs:["the amount of fuel required to exit a planet"],type:"u32"}]}},{name:"OptionalNonSystemPubkey",docs:["A pubkey sized option that is none if set to the system program."],type:{kind:"struct",fields:[{name:"key",type:"publicKey"}]}},{name:"PlanetType",docs:["Represents different types a `Planet` could be"],type:{kind:"enum",variants:[{name:"Terrestrial"},{name:"Volcanic"},{name:"Barren"},{name:"AsteroidBelt"},{name:"GasGiant"},{name:"IceGiant"},{name:"Dark"}]}},{name:"Points",docs:["Variables for the Points program"],type:{kind:"struct",fields:[{name:"lpCategory",docs:["Represents the points category & modifier to use for Loyalty Points (LP)"],type:{defined:"SagePointsCategory"}},{name:"councilRankXpCategory",docs:["Represents the points category & modifier to use for Council Rank Experience Points (CRXP)"],type:{defined:"SagePointsCategory"}},{name:"pilotXpCategory",docs:["Represents the points category & modifier to use for Pilot License Experience Points (PXP)"],type:{defined:"SagePointsCategory"}},{name:"dataRunningXpCategory",docs:["Represents the points category & modifier to use for Data Running Experience Points (DRXP)"],type:{defined:"SagePointsCategory"}},{name:"miningXpCategory",docs:["Represents the points category & modifier to use for Mining Experience Points (MXP)"],type:{defined:"SagePointsCategory"}},{name:"craftingXpCategory",docs:["Represents the points category & modifier to use for Crafting Experience Points (CXP)"],type:{defined:"SagePointsCategory"}}]}},{name:"ProgressionItem",docs:["Progression Item"],type:{kind:"struct",fields:[{name:"value",docs:["The progression points value"],type:"u32"}]}},{name:"ProgressionItemInput",docs:["Progression Item for Data Input"],type:{kind:"struct",fields:[{name:"itemType",docs:["The type of progression item"],type:"u8"},{name:"item",docs:["The progression item"],type:{defined:"ProgressionItem"}}]}},{name:"ProgressionItemInputUnpacked",docs:["Unpacked version of [`ProgressionItemInput`]"],type:{kind:"struct",fields:[{name:"itemType",docs:["The type of progression item"],type:"u8"},{name:"item",docs:["The progression item"],type:{defined:"ProgressionItem"}}]}},{name:"ProgressionItemType",docs:["The different types of progression items"],type:{kind:"enum",variants:[{name:"Subwarp"},{name:"Warp"},{name:"WarpLane"},{name:"AsteroidExit"},{name:"ScanUnsuccessful"},{name:"ScanSuccessful"},{name:"Mining"},{name:"Crafting"},{name:"Upkeep"},{name:"Upgrade"}]}},{name:"ProgressionItemUnpacked",docs:["Unpacked version of [`ProgressionItem`]"],type:{kind:"struct",fields:[{name:"value",docs:["The progression points value"],type:"u32"}]}},{name:"RegisterMineItemInput",docs:["Struct for data input to Register a Resource"],type:{kind:"struct",fields:[{name:"name",docs:["The name of the `MineItem`"],type:{array:["u8",64]}},{name:"resourceHardness",docs:["How hard it is to mine this item"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterPlanetInput",docs:["Struct for data input to Register Planet"],type:{kind:"struct",fields:[{name:"name",docs:["`Planet` name"],type:{array:["u8",64]}},{name:"size",docs:["`Planet` size"],type:"u64"},{name:"maxHp",docs:["`Planet` max health"],type:"u64"},{name:"subCoordinates",docs:["`Planet` sub_coordinates"],type:{array:["i64",2]}},{name:"planetType",docs:["`Planet` type"],type:"u8"},{name:"position",docs:["`Planet` position"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RegisterProgressionConfigInput",docs:["Data input for RegisterProgressionConfig"],type:{kind:"struct",fields:[{name:"dailyLpLimit",docs:["the daily limit for Loyalty Points (LP)"],type:{option:"u64"}},{name:"dailyCouncilRankXpLimit",docs:["the daily limit for Council Rank Experience Points (CRXP)"],type:{option:"u64"}},{name:"dailyPilotXpLimit",docs:["the daily limit for Pilot License Experience Points (PXP)"],type:{option:"u64"}},{name:"dailyDataRunningXpLimit",docs:["the daily limit for Data Running Experience Points (DRXP)"],type:{option:"u64"}},{name:"dailyMiningXpLimit",docs:["the daily limit for Mining Experience Points (MXP)"],type:{option:"u64"}},{name:"dailyCraftingXpLimit",docs:["the daily limit for Crafting Experience Points (CXP)"],type:{option:"u64"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RegisterResourceInput",docs:["Struct for data input to Register a Resource"],type:{kind:"struct",fields:[{name:"locationType",docs:["`Resource` location type"],type:"u8"},{name:"systemRichness",docs:["`Resource` `system_richness`"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterSagePointsModifierInput",docs:["Struct for data input to register a points modifier for SAGE program"],type:{kind:"struct",fields:[{name:"pointsCategoryType",docs:["The points category type of the modifier"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"RegisterShipInput",docs:["Struct for data input to Register Ship"],type:{kind:"struct",fields:[{name:"name",docs:["The `Ship` name/label"],type:{array:["u8",64]}},{name:"sizeClass",docs:["the ship's size class"],type:{defined:"SizeClass"}},{name:"stats",docs:["The stats for the ship"],type:{defined:"ShipStatsUnpacked"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"},{name:"isActive",docs:["Whether the ship is initialized to active (`update_id == current_update_id`)"],type:"bool"}]}},{name:"RegisterStarInput",docs:["Struct for data input to Register Star"],type:{kind:"struct",fields:[{name:"name",docs:["`Star` name"],type:{array:["u8",64]}},{name:"size",docs:["`Star` size"],type:"u64"},{name:"subCoordinates",docs:["`Star` sub_coordinates"],type:{array:["i64",2]}},{name:"starType",docs:["`Star` type"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RegisterStarbaseInput",docs:["Struct for data input to Register `Starbase`"],type:{kind:"struct",fields:[{name:"name",docs:["`Starbase` name"],type:{array:["u8",64]}},{name:"subCoordinates",docs:["`Starbase` coordinates"],type:{array:["i64",2]}},{name:"starbaseLevelIndex",docs:["The index representing the level of the `Starbase` in the game variables."],type:"u8"},{name:"faction",docs:["The `Starbase` faction"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterStarbaseInputUnpacked",docs:["Unpacked version of [`RegisterStarbaseInput`]"],type:{kind:"struct",fields:[{name:"name",docs:["`Starbase` name"],type:{array:["u8",64]}},{name:"subCoordinates",docs:["`Starbase` coordinates"],type:{array:["i64",2]}},{name:"starbaseLevelIndex",docs:["The index representing the level of the `Starbase` in the game variables."],type:"u8"},{name:"faction",docs:["The `Starbase` faction"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterSurveyDataUnitTrackerInput",docs:["Struct for data input to Register SurveyDataUnitTracker"],type:{kind:"struct",fields:[{name:"coordinatesRange",docs:["The valid coordinates range","e.g. a value of [-50, 50] means that coordinates from [-50, -50] to [50, 50] are valid for SDU scanning"],type:{array:["i64",2]}},{name:"cssCoordinates",docs:["The locations of the central space stations (CSS) of the three factions"],type:{array:[{array:["i64",2]},3]}},{name:"originCoordinates",docs:['The co-ordinates of the "origin"; used in calculating SDU probability'],type:{array:["i64",2]}},{name:"cssMaxDistance",docs:["The max distance from the nearest CSS; used in calculating SDU probability"],type:"u32"},{name:"originMaxDistance",docs:["The max distance from the `origin_coordinates`; used in calculating SDU probability"],type:"u32"},{name:"distanceWeighting",docs:["The distance weighting; used in calculating SDU probability"],type:"u32"},{name:"tMax",docs:["The maximum time before SDU probability at a location changes"],type:"i64"},{name:"xMul",docs:["Multiplier in the X dimension; used in noise function"],type:"u32"},{name:"yMul",docs:["Multiplier in the Y dimension; used in noise function"],type:"u32"},{name:"zMul",docs:["Multiplier in the Z dimension; used in noise function"],type:"u32"},{name:"sduMaxPerSector",docs:["The maximum number of SDUs that can be found per scan per sector"],type:"u32"},{name:"scanChanceRegenPeriod",docs:["The amount of time in seconds that it takes for a sector scan chance to fully regenerate"],type:"i16"},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RemoveCrewInput",docs:["Accounts for Struct for data input for `RemoveCrew`"],type:{kind:"struct",fields:[{name:"items",docs:["inputs required to transfer crew cNFTs"],type:{vec:{defined:"CrewTransferInput"}}},{name:"keyIndex",docs:["the index of the `ProfileKey` in `Profile` with required permissions"],type:"u16"}]}},{name:"RemoveShipEscrowInput",docs:["Struct for data input for `RemoveShipEscrow`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Amount of `Ship` tokens to transfer from escrow"],type:"u64"},{name:"permissionKeyIndex",docs:["the index of the `ProfileKey` in `Profile` with required permissions"],type:"u16"},{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"}]}},{name:"Respawn",docs:["The data for the [`FleetStateData::Respawn`](crate::state_machine::FleetStateData::Respawn) state"],type:{kind:"struct",fields:[{name:"sector",docs:["The star system the fleet was in when it entered the `Respawn` state"],type:{array:["i64",2]}},{name:"start",docs:["The time `Respawn` started"],type:"i64"}]}},{name:"RespawnToLoadingBayInput",docs:["Struct for data input to `RespawnToLoadingBay`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"RiskZoneData",docs:["`RiskZone` center and radius"],type:{kind:"struct",fields:[{name:"center",docs:["Risk zone center"],type:{array:["i64",2]}},{name:"radius",docs:["Risk zone radius"],type:"u64"}]}},{name:"RiskZoneDataUnpacked",docs:["Unpacked version of [`RiskZoneData`]"],type:{kind:"struct",fields:[{name:"center",docs:["Risk zone center"],type:{array:["i64",2]}},{name:"radius",docs:["Risk zone radius"],type:"u64"}]}},{name:"RiskZonesData",docs:["[`RiskZoneData`] for [`RiskZones`]"],type:{kind:"struct",fields:[{name:"mudSecurityZone",docs:["Mud security zone"],type:{defined:"RiskZoneData"}},{name:"oniSecurityZone",docs:["Oni security zone"],type:{defined:"RiskZoneData"}},{name:"usturSecurityZone",docs:["Ustur security zone"],type:{defined:"RiskZoneData"}},{name:"highRiskZone",docs:["High risk zone"],type:{defined:"RiskZoneData"}},{name:"mediumRiskZone",docs:["Medium risk zone"],type:{defined:"RiskZoneData"}}]}},{name:"RiskZonesDataUnpacked",docs:["Unpacked version of [`RiskZonesData`]"],type:{kind:"struct",fields:[{name:"mudSecurityZone",docs:["Mud security zone"],type:{defined:"RiskZoneData"}},{name:"oniSecurityZone",docs:["Oni security zone"],type:{defined:"RiskZoneData"}},{name:"usturSecurityZone",docs:["Ustur security zone"],type:{defined:"RiskZoneData"}},{name:"highRiskZone",docs:["High risk zone"],type:{defined:"RiskZoneData"}},{name:"mediumRiskZone",docs:["Medium risk zone"],type:{defined:"RiskZoneData"}}]}},{name:"SagePointsCategory",docs:["Represents a points category & modifier as defined in the Points program"],type:{kind:"struct",fields:[{name:"category",docs:["The points category"],type:"publicKey"},{name:"modifier",docs:["The points category modifier"],type:"publicKey"},{name:"modifierBump",docs:["The points category modifier bump"],type:"u8"}]}},{name:"ScanForSurveyDataUnitsInput",docs:["Struct for data input to Scan For Survey Data Units"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"}]}},{name:"SectorConnection",docs:["Connection between sectors"],type:{kind:"struct",fields:[{name:"connectionSector",docs:["The sector connected to"],type:"publicKey"},{name:"subCoordinates",docs:["The location of the connection"],type:{array:["i64",2]}},{name:"flags",docs:["Connection flags"],type:"u8"}]}},{name:"SectorRing",docs:["Represents the orbital position of a `Planet` in the `Sector`"],type:{kind:"enum",variants:[{name:"Inner"},{name:"Mid"},{name:"Outer"}]}},{name:"ShipCounts",docs:["Ship counts for a fleet."],type:{kind:"struct",fields:[{name:"total",docs:["The total number of ships in the fleet."],type:"u32"},{name:"updated",docs:["Used when updating a fleet.","Value is 0 when fleet update is in progress"],type:"u32"},{name:"xxSmall",docs:["The number of xx small ships in the fleet."],type:"u16"},{name:"xSmall",docs:["The number of x small ships in the fleet."],type:"u16"},{name:"small",docs:["The number of small ships in the fleet."],type:"u16"},{name:"medium",docs:["The number of medium ships in the fleet."],type:"u16"},{name:"large",docs:["The number of large ships in the fleet."],type:"u16"},{name:"capital",docs:["The number of capital ships in the fleet."],type:"u16"},{name:"commander",docs:["The number of commander ships in the fleet."],type:"u16"},{name:"titan",docs:["The number of titan ships in the fleet."],type:"u16"}]}},{name:"ShipCountsUnpacked",docs:["Unpacked version of [`ShipCounts`]"],type:{kind:"struct",fields:[{name:"total",docs:["The total number of ships in the fleet."],type:"u32"},{name:"updated",docs:["Used when updating a fleet.","Value is 0 when fleet update is in progress"],type:"u32"},{name:"xxSmall",docs:["The number of xx small ships in the fleet."],type:"u16"},{name:"xSmall",docs:["The number of x small ships in the fleet."],type:"u16"},{name:"small",docs:["The number of small ships in the fleet."],type:"u16"},{name:"medium",docs:["The number of medium ships in the fleet."],type:"u16"},{name:"large",docs:["The number of large ships in the fleet."],type:"u16"},{name:"capital",docs:["The number of capital ships in the fleet."],type:"u16"},{name:"commander",docs:["The number of commander ships in the fleet."],type:"u16"},{name:"titan",docs:["The number of titan ships in the fleet."],type:"u16"}]}},{name:"ShipSizes",docs:["Ship sizes."],type:{kind:"struct",fields:[{name:"xxSmall",docs:["The size of xx small ships"],type:"u8"},{name:"xSmall",docs:["The size of x small ships"],type:"u8"},{name:"small",docs:["The size of small ships"],type:"u8"},{name:"medium",docs:["The size of medium ships"],type:"u8"},{name:"large",docs:["The size of large ships"],type:"u8"},{name:"capital",docs:["The size of capital ships"],type:"u8"},{name:"commander",docs:["The size of commander ships"],type:"u8"},{name:"titan",docs:["The size of titan ships"],type:"u8"}]}},{name:"ShipStats",docs:["A ship's stats"],type:{kind:"struct",fields:[{name:"movementStats",docs:["Movement stats for the ship"],type:{defined:"MovementStats"}},{name:"cargoStats",docs:["Cargo stats for the ship"],type:{defined:"CargoStats"}},{name:"miscStats",docs:["Miscellaneous stats for the ship"],type:{defined:"MiscStats"}}]}},{name:"ShipStatsUnpacked",docs:["Unpacked version of [`ShipStats`]"],type:{kind:"struct",fields:[{name:"movementStats",docs:["Movement stats for the ship"],type:{defined:"MovementStats"}},{name:"cargoStats",docs:["Cargo stats for the ship"],type:{defined:"CargoStats"}},{name:"miscStats",docs:["Miscellaneous stats for the ship"],type:{defined:"MiscStats"}}]}},{name:"SizeClass",docs:["Represents different types of Ships"],type:{kind:"enum",variants:[{name:"XxSmall"},{name:"XSmall"},{name:"Small"},{name:"Medium"},{name:"Large"},{name:"Capital"},{name:"Commander"},{name:"Titan"}]}},{name:"StarType",docs:["Represents different types of Stars"],type:{kind:"enum",variants:[{name:"WhiteDwarf"},{name:"RedDwarf"},{name:"Solar"},{name:"HotBlue"},{name:"RedGiant"}]}},{name:"StarbaseCreateCargoPodInput",docs:["Struct for data input to `StarbaseCreateCargoPod`"],type:{kind:"struct",fields:[{name:"podSeeds",docs:["cargo pod seeds"],type:{array:["u8",32]}},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseCreateCraftingProcessInput",docs:["Struct for data input to create a `CraftingProcess`"],type:{kind:"struct",fields:[{name:"craftingId",docs:["crafting id"],type:"u64"},{name:"recipeCategoryIndex",docs:["the index of the recipe's category"],type:"u16"},{name:"quantity",docs:["quantity of outputs to craft"],type:"u64"},{name:"numCrew",docs:["number of crew members to use for this crafting process"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseDepositCraftingIngredientInput",docs:["Struct for data input to deposit an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to deposit"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseLevelInfo",docs:["Information associated with `Starbase` levels"],type:{kind:"struct",fields:[{name:"recipeForUpgrade",docs:["The crafting recipe required to upgrade a `Starbase` to this level"],type:"publicKey"},{name:"recipeCategoryForLevel",docs:["The crafting recipe category enabled for crafting at a `Starbase` of this level."],type:"publicKey"},{name:"hp",docs:["The `Starbase` health points for this level."],type:"u64"},{name:"sp",docs:["The `Starbase` shield points for this level."],type:"u64"},{name:"sectorRingAvailable",docs:["The planet position `Ring` available for this level"],type:"u8"},{name:"warpLaneMovementFee",docs:['Fee charged for the "warp lane" movement type which is meant to be charged in ATLAS',"Since ATLAS has 8 decimal places, units are in the smallest value of ATLAS possible."],type:"u64"}]}},{name:"StarbaseLevelInfoArrayInput",docs:["Struct for data input to Update Starbase Level Settings"],type:{kind:"struct",fields:[{name:"level",docs:["The level of the `Starbase`."],type:"u8"},{name:"faction",docs:["The `Starbase` faction."],type:"u8"},{name:"hp",docs:["The `Starbase` health points for this level."],type:"u64"},{name:"sp",docs:["The `Starbase` shield points for this level."],type:"u64"},{name:"sectorRingAvailable",docs:["The planet position `Ring` available for this level"],type:{defined:"SectorRing"}},{name:"warpLaneMovementFee",docs:['Fee charged for the "warp lane" movement type which is meant to be charged in ATLAS'],type:"u64"}]}},{name:"StarbaseLoadingBay",docs:["The data for the [`FleetStateData::StarbaseLoadingBay`] state"],type:{kind:"struct",fields:[{name:"starbase",docs:["The `Starbase` is in the loading bay of"],type:"publicKey"},{name:"lastUpdate",docs:["The last time this fleet was updated"],type:"i64"}]}},{name:"StarbaseRemoveCargoPodInput",docs:["Struct for data input to `StarbaseRemoveCargoPod`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseState",docs:["The state of a `Starbase`."],type:{kind:"enum",variants:[{name:"Active"},{name:"Destroyed"}]}},{name:"StarbaseTransferCargoInput",docs:["Struct for data input to `DepositCargoToGame`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseUpgradeState",docs:["The state of a `Starbase`."],type:{kind:"enum",variants:[{name:"NotStarted"},{name:"Started"},{name:"Completed"}]}},{name:"StarbaseUpkeepInfo",docs:["Information associated with `Starbase` upkeep"],type:{kind:"struct",fields:[{name:"ammoReserve",docs:["The maximum amount of ammo that can be committed upkeep by players","If 0 (zero) then ammo upkeep is disabled"],type:"u64"},{name:"ammoDepletionRate",docs:["The per second rate at which the ammo reserve is emptied"],type:"u32"},{name:"foodReserve",docs:["The maximum amount of food that can be committed upkeep by players","If 0 (zero) then food upkeep is disabled"],type:"u64"},{name:"foodDepletionRate",docs:["The per second rate at which the food reserve is emptied"],type:"u32"},{name:"toolkitReserve",docs:["The maximum amount of toolkits that can be committed upkeep by players","If 0 (zero) then toolkit upkeep is disabled"],type:"u64"},{name:"toolkitDepletionRate",docs:["The per second rate at which the toolkit reserve is emptied"],type:"u32"}]}},{name:"StarbaseUpkeepInfoArrayInput",docs:["Struct for data input to Update Starbase Upkeep Settings"],type:{kind:"struct",fields:[{name:"level",docs:["The level of the `Starbase`."],type:"u8"},{name:"info",docs:["The stats for the ship"],type:{defined:"StarbaseUpkeepInfoUnpacked"}}]}},{name:"StarbaseUpkeepInfoUnpacked",docs:["Unpacked version of [`StarbaseUpkeepInfo`]"],type:{kind:"struct",fields:[{name:"ammoReserve",docs:["The maximum amount of ammo that can be committed upkeep by players","If 0 (zero) then ammo upkeep is disabled"],type:"u64"},{name:"ammoDepletionRate",docs:["The per second rate at which the ammo reserve is emptied"],type:"u32"},{name:"foodReserve",docs:["The maximum amount of food that can be committed upkeep by players","If 0 (zero) then food upkeep is disabled"],type:"u64"},{name:"foodDepletionRate",docs:["The per second rate at which the food reserve is emptied"],type:"u32"},{name:"toolkitReserve",docs:["The maximum amount of toolkits that can be committed upkeep by players","If 0 (zero) then toolkit upkeep is disabled"],type:"u64"},{name:"toolkitDepletionRate",docs:["The per second rate at which the toolkit reserve is emptied"],type:"u32"}]}},{name:"StarbaseUpkeepLevels",docs:["Information on `Starbase` upkeep by level"],type:{kind:"struct",fields:[{name:"level0",docs:["Upkeep info. for a level 0 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level1",docs:["Upkeep info. for a level 1 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level2",docs:["Upkeep info. for a level 2 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level3",docs:["Upkeep info. for a level 3 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level4",docs:["Upkeep info. for a level 4 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level5",docs:["Upkeep info. for a level 5 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level6",docs:["Upkeep info. for a level 6 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}}]}},{name:"StarbaseUpkeepLevelsUnpacked",docs:["Unpacked version of [`StarbaseUpkeepLevels`]"],type:{kind:"struct",fields:[{name:"level0",docs:["Upkeep info. for a level 0 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level1",docs:["Upkeep info. for a level 1 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level2",docs:["Upkeep info. for a level 2 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level3",docs:["Upkeep info. for a level 3 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level4",docs:["Upkeep info. for a level 4 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level5",docs:["Upkeep info. for a level 5 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level6",docs:["Upkeep info. for a level 6 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}}]}},{name:"StarbaseWithdrawCraftingIngredientInput",docs:["Struct for data input to withdraw an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to withdraw"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StartSubwarpInput",docs:["Struct for data input to initialize an `SubwarpMovement`"],type:{kind:"struct",fields:[{name:"toSector",docs:["The destination coordinates"],type:{array:["i64",2]}},{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"}]}},{name:"StopMiningAsteroidInput",docs:["Struct for data input for `StopMiningAsteroidInput`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StopSubwarpInput",docs:["Struct for data input to stop an `SubwarpMovement`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"}]}},{name:"SubmitStarbaseUpgradeResourceInput",docs:["Submit starbase upgrade resource inputs"],type:{kind:"struct",fields:[{name:"pointsProgramPermissionsKeyIndex",docs:["the index of the point program permissions in the player profile"],type:"u16"},{name:"sagePermissionsKeyIndex",docs:["the index of the key in sage permissions in the player profile"],type:"u16"},{name:"upgradeProcessRecipeInputIndex",docs:["the index of the resource in the upgrade_process_recipe ingredients list","The resource is a non-consumable in this recipe"],type:"u16"},{name:"starbaseUpgradeRecipeInputIndex",docs:["the index of the resource in the upgrade recipe","The resource is a consumable in this recipe"],type:"u16"},{name:"resourceRecipeOutputIndex",docs:["the index of the resource represented by `token_mint` in the `resource_recipe` ingredients list","The resource is an output in this recipe"],type:"u16"},{name:"epochIndex",docs:["the index of the epoch in the `RedemptionConfig` account"],type:"u16"}]}},{name:"TransferCargoWithinFleetInput",docs:["Struct for data input to `TransferCargoWithinFleet`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"UpdateGameInput",docs:["Struct for data input to Update instruction"],type:{kind:"struct",fields:[{name:"cargo",docs:["Cargo settings"],type:"u8"},{name:"crafting",docs:["Crafting settings"],type:"u8"},{name:"mints",docs:["Mints"],type:"u8"},{name:"vaults",docs:["Vaults"],type:"u8"},{name:"points",docs:["Points settings"],type:"u8"},{name:"riskZones",docs:["Data for risk zones"],type:{option:{defined:"RiskZonesDataUnpacked"}}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateGameStateInput",docs:["Struct for data input to Update instruction"],type:{kind:"struct",fields:[{name:"fleet",docs:["Fleet settings"],type:{option:{defined:"FleetInput"}}},{name:"misc",docs:["Miscellaneous settings"],type:{option:{defined:"MiscVariablesInput"}}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateMineItemInput",docs:["Struct for data input to Register a Resource"],type:{kind:"struct",fields:[{name:"name",docs:["The name of the `MineItem`"],type:{option:{array:["u8",64]}}},{name:"resourceHardness",docs:["How hard it is to mine this item"],type:{option:"u16"}},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"UpdatePlanetInput",docs:["Struct for data input to Update Planet"],type:{kind:"struct",fields:[{name:"name",docs:["`Planet` name"],type:{option:{array:["u8",64]}}},{name:"size",docs:["`Planet` size"],type:{option:"u64"}},{name:"maxHp",docs:["`Planet` max_hp"],type:{option:"u64"}},{name:"subCoordinates",docs:["`Planet` sub_coordinates"],type:{option:{array:["i64",2]}}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateProgressionConfigInput",docs:["Struct for data input for `UpdateProgressionConfig`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the permissions profile"],type:"u16"},{name:"dailyLpLimit",docs:["the daily limit for Loyalty Points (LP)"],type:{option:"u64"}},{name:"dailyCouncilRankXpLimit",docs:["the daily limit for Council Rank Experience Points (CRXP)"],type:{option:"u64"}},{name:"dailyPilotXpLimit",docs:["the daily limit for Pilot License Experience Points (PXP)"],type:{option:"u64"}},{name:"dailyDataRunningXpLimit",docs:["the daily limit for Data Running Experience Points (DRXP)"],type:{option:"u64"}},{name:"dailyMiningXpLimit",docs:["the daily limit for Mining Experience Points (MXP)"],type:{option:"u64"}},{name:"dailyCraftingXpLimit",docs:["the daily limit for Crafting Experience Points (CXP)"],type:{option:"u64"}},{name:"items",docs:["the progression items"],type:{option:{vec:{defined:"ProgressionItemInputUnpacked"}}}}]}},{name:"UpdateResourceInput",docs:["Struct for data input to Update Resource"],type:{kind:"struct",fields:[{name:"systemRichness",docs:["`Resource` richness"],type:{option:"u16"}},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"UpdateShipEscrowInput",docs:["Struct for data input for `UpdateShipEscrow`"],type:{kind:"struct",fields:[{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"}]}},{name:"UpdateShipFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Number of ships to add to the fleet"],type:"u16"},{name:"fleetShipInfoIndex",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:"u32"}]}},{name:"UpdateShipInput",docs:["Struct for data input to Update Ship"],type:{kind:"struct",fields:[{name:"name",docs:["The `Ship` name/label"],type:{array:["u8",64]}},{name:"sizeClass",docs:["the ship's size class"],type:{defined:"SizeClass"}},{name:"stats",docs:["The stats for the ship"],type:{defined:"ShipStatsUnpacked"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateStarInput",docs:["Struct for data input to Update Star"],type:{kind:"struct",fields:[{name:"name",docs:["`Star` name"],type:{option:{array:["u8",64]}}},{name:"size",docs:["`Star` size"],type:{option:"u64"}},{name:"starType",docs:["`Star` type"],type:{option:"u8"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateStarbaseInput",docs:["Struct for data input to Update `Starbase`"],type:{kind:"struct",fields:[{name:"name",docs:["`Starbase` name"],type:{option:{array:["u8",64]}}},{name:"subCoordinates",docs:["`Starbase` coordinates"],type:{option:{array:["i64",2]}}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateSurveyDataUnitTrackerInput",docs:["Struct for data input to Update SurveyDataUnitTracker"],type:{kind:"struct",fields:[{name:"coordinatesRange",docs:["The valid coordinates range","e.g. a value of [-50, 50] means that coordinates from [-50, -50] to [50, 50] are valid for SDU scanning"],type:{option:{array:["i64",2]}}},{name:"cssCoordinates",docs:["The locations of the central space stations (CSS) of the three factions"],type:{option:{array:[{array:["i64",2]},3]}}},{name:"originCoordinates",docs:['The co-ordinates of the "origin"; used in calculating SDU probability'],type:{option:{array:["i64",2]}}},{name:"cssMaxDistance",docs:["The max distance from the nearest CSS; used in calculating SDU probability"],type:{option:"u32"}},{name:"originMaxDistance",docs:["The max distance from the `origin_coordinates`; used in calculating SDU probability"],type:{option:"u32"}},{name:"distanceWeighting",docs:["The distance weighting; used in calculating SDU probability"],type:{option:"u32"}},{name:"tMax",docs:["The maximum time before SDU probability at a location changes"],type:{option:"i64"}},{name:"xMul",docs:["Multiplier in the X dimension; used in noise function"],type:{option:"u32"}},{name:"yMul",docs:["Multiplier in the Y dimension; used in noise function"],type:{option:"u32"}},{name:"zMul",docs:["Multiplier in the Z dimension; used in noise function"],type:{option:"u32"}},{name:"sduMaxPerSector",docs:["The maximum number of SDUs that can be found per scan per sector"],type:{option:"u32"}},{name:"scanChanceRegenPeriod",docs:["The amount of time in seconds that it takes for a sector scan chance to fully regenerate"],type:{option:"i16"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpkeepResourceType",docs:["The different types of upkeep resources"],type:{kind:"enum",variants:[{name:"Ammo"},{name:"Food"},{name:"Toolkit"}]}},{name:"Vaults",docs:["Token vaults"],type:{kind:"struct",fields:[{name:"atlas",docs:["ATLAS token mint"],type:"publicKey"},{name:"polis",docs:["POLIS token mint"],type:"publicKey"}]}},{name:"WarpLaneInput",docs:["Struct for data input to initialize a `WarpLane`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"},{name:"toSectorIndex",docs:["Index of the to_sector in `SectorConnections` of the from_sector"],type:"u16"},{name:"fromSectorIndex",docs:["Index of the from_sector in `SectorConnections` of the to_sector"],type:"u16"}]}},{name:"WarpToCoordinateInput",docs:["Struct for data input to initialize a `WarpToCoordinate`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"},{name:"toSector",docs:["The destination coordinates"],type:{array:["i64",2]}}]}},{name:"WithdrawCargoFromFleetInput",docs:["Struct for data input to `WithdrawCargoFromFleet`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"WrappedShipEscrow",docs:["Wrapped `Ship` escrow info"],type:{kind:"struct",fields:[{name:"ship",docs:["The `Ship` account address"],type:"publicKey"},{name:"amount",docs:["The `Ship` token amount in escrow"],type:"u64"},{name:"updateId",docs:["The update id for the `Ship`"],type:"u64"}]}}],errors:[{code:6e3,name:"IncorrectAdminAddress",msg:"Incorrect admin address."},{code:6001,name:"MissingRemainingAccount",msg:"An expected remaining account is missing."},{code:6002,name:"NoStargateConnectionsAvailable",msg:"No Stargate connections available."},{code:6003,name:"StargatesNotConnected",msg:"The provided Stargates are not connected."},{code:6004,name:"InvalidPlanetType",msg:"Invalid Planet Type."},{code:6005,name:"InvalidRingType",msg:"Invalid Ring Type."},{code:6006,name:"InvalidStarType",msg:"Invalid Star Type."},{code:6007,name:"InvalidOrInactiveGame",msg:"Invalid Or Inactive Game"},{code:6008,name:"InvalidShipSizeClass",msg:"Invalid Ship Size Class."},{code:6009,name:"IncorrectAccountSize",msg:"Incorrect Account Size."},{code:6010,name:"UpdateIdMismatch",msg:"The update_id is mismatched."},{code:6011,name:"AlreadyActive",msg:"The account is already active."},{code:6012,name:"InactiveAccount",msg:"The account is inactive."},{code:6013,name:"InvalidGame",msg:"The game account is invalid."},{code:6014,name:"InvalidGameState",msg:"The game state account is invalid."},{code:6015,name:"InvalidSector",msg:"The sector account is invalid."},{code:6016,name:"FleetCrewNotNormalized",msg:"Fleet Crew Not Normalized"},{code:6017,name:"InsufficientFuel",msg:"Insufficient Fuel to complete movement"},{code:6018,name:"DistanceGreaterThanMax",msg:"Distance of movement is greater than the allowed maximum"},{code:6019,name:"NumericOverflow",msg:"Numeric overflow"},{code:6020,name:"InvalidLocationType",msg:"Invalid Location Type."},{code:6021,name:"LocationTypeNotSupported",msg:"The provided location type is not supported."},{code:6022,name:"IncorrectMineItem",msg:"Incorrect mine item address."},{code:6023,name:"IncorrectAuthorityAddress",msg:"Incorrect authority address."},{code:6024,name:"IncorrectResourceAddress",msg:"Incorrect resource address."},{code:6025,name:"IncorrectMintAuthority",msg:"Incorrect mint authority."},{code:6026,name:"MintAuthorityIsNone",msg:"The mint authority should exist."},{code:6027,name:"InvalidCurrentFleetState",msg:"The current fleet state is not valid."},{code:6028,name:"InvalidCurrentStarbaseState",msg:"The current starbase state is not valid."},{code:6029,name:"AuthorityMismatch",msg:"Authority mismatch"},{code:6030,name:"MintMismatch",msg:"Mint mismatch"},{code:6031,name:"TokenMismatch",msg:"Incorrect token address."},{code:6032,name:"OwnerMismatch",msg:"Owner mismatch"},{code:6033,name:"GameMismatch",msg:"Game ID mismatch"},{code:6034,name:"ProfileMismatch",msg:"Profile mismatch"},{code:6035,name:"SagePlayerProfileMismatch",msg:"SagePlayerProfile mismatch"},{code:6036,name:"StarbaseMismatch",msg:"Starbase mismatch"},{code:6037,name:"FactionMismatch",msg:"Faction mismatch"},{code:6038,name:"SeqIdMismatch",msg:"Sequence id mismatch"},{code:6039,name:"ShipMismatch",msg:"Ship mismatch"},{code:6040,name:"CargoPodMismatch",msg:"Cargo Pod mismatch"},{code:6041,name:"PlanetMismatch",msg:"Planet mismatch"},{code:6042,name:"MineItemMismatch",msg:"MineItem mismatch"},{code:6043,name:"LocationMismatch",msg:"Location mismatch"},{code:6044,name:"InvalidEscrowKey",msg:"Escrow key not found in remaining data"},{code:6045,name:"InvalidShipAmount",msg:"Insufficient Ship token amount"},{code:6046,name:"InvalidShipHangarSpaceAmount",msg:"Insufficient Ship hangar space amount"},{code:6047,name:"InvalidCrewAmount",msg:"Invalid crew amount"},{code:6048,name:"InvalidState",msg:"Invalid state"},{code:6049,name:"InvalidDistance",msg:"Invalid distance"},{code:6050,name:"NotAtCentralSpaceStation",msg:"Not at central space station"},{code:6051,name:"ShipNotExpected",msg:"The instruction does not expect a ship account"},{code:6052,name:"AddressMismatch",msg:"Address mismatch"},{code:6053,name:"InvalidSectorConnection",msg:"Invalid sector connection"},{code:6054,name:"InvalidStarbaseLevel",msg:"Invalid Starbase level"},{code:6055,name:"InvalidStarbaseUpgradeRecipeCategory",msg:"Invalid Starbase upgrade recipe category"},{code:6056,name:"HangarUpgradeNotPossible",msg:"Hangar upgrade not Possible"},{code:6057,name:"DisbandedFleetNotEmpty",msg:"Disbanded fleet not empty"},{code:6058,name:"FaultyMovement",msg:"Faulty movement"},{code:6059,name:"IncorrectHandleRawAccount",msg:"Incorrect Account Type for Handle Raw"},{code:6060,name:"InsufficientShipCargoCapacity",msg:"Insufficient Ship Cargo Capacity"},{code:6061,name:"FleetDoesNotNeedUpdate",msg:"Fleet does not need update"},{code:6062,name:"MustDisbandFleet",msg:"Must disband fleet"},{code:6063,name:"CannotForceDisbandFleet",msg:"Cannot force-disband fleet"},{code:6064,name:"ShipMismatchOrAlreadyUpdated",msg:"Ship mismatch or already updated"},{code:6065,name:"ShipAlreadyUpdated",msg:"Ship already updated"},{code:6066,name:"InvalidNextShipAddress",msg:"Invalid next ship address"},{code:6067,name:"InvalidShipForForcedDisband",msg:"Ship is not valid for forced disband of fleet"},{code:6068,name:"InvalidWarpRange",msg:"Warp range exceeded"},{code:6069,name:"InvalidIngredient",msg:"Invalid Ingredient"},{code:6070,name:"StarbaseUpgradeNotInProgress",msg:"Starbase Upgrade Not in progress"},{code:6071,name:"MissingRentedCrew",msg:"Missing Rented Crew"},{code:6072,name:"NoPassengersAllowed",msg:"No Passengers Allowed"},{code:6073,name:"PlanetNotReachable",msg:"Planet Not Reachable"},{code:6074,name:"RespawnNotPossible",msg:"Respawn Not Possible"},{code:6075,name:"InvalidMovement",msg:"Cannot enter enemy faction's Security Zone"},{code:6076,name:"CargoAmountAboveZero",msg:"The Cargo Pod contains a non-zero amount of the Cargo Type"},{code:6077,name:"InvalidCargoPod",msg:"The Cargo Pod is invalid"},{code:6078,name:"InvalidZoneCoordinates",msg:"Invalid Zone Coordinates"},{code:6079,name:"RespawnTimeNotElapsed",msg:"Respawn time not elapsed"},{code:6080,name:"ActiveAccount",msg:"The Account is Active"},{code:6081,name:"StarbasePlayerMismatch",msg:"Starbase Player mismatch"},{code:6082,name:"AlreadyProcessed",msg:"The account has already been processed"},{code:6083,name:"InvalidAmount",msg:"The amount is invalid"},{code:6084,name:"WarpIsOnCooldown",msg:"Warp is on cooldown"},{code:6085,name:"ProgramMismatch",msg:"Program Mismatch"},{code:6086,name:"MustBeOnlyInstruction",msg:"Current Instruction Is Not Only Instruction"},{code:6087,name:"InvalidTime",msg:"Invalid Time"},{code:6088,name:"ScanIsOnCooldown",msg:"Scanning is on cooldown"},{code:6089,name:"InvalidFleetSize",msg:"Invalid Fleet Size"},{code:6090,name:"InactiveFeature",msg:"The feature is inactive"},{code:6091,name:"ZeroShipsAdded",msg:"Zero ships added to fleet"},{code:6092,name:"InvalidNoiseSeed",msg:"Invalid Noise Seed"},{code:6093,name:"InvalidType",msg:"Invalid type"},{code:6094,name:"RentedFleet",msg:"Rented Fleet"},{code:6095,name:"NoCrewItems",msg:"No Crew Items"},{code:6096,name:"GenericInvalid",msg:"Generic invalid data"}]};var r0={},Ll={},V1t=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},q1t=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},H1t=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},kG;Object.defineProperty(Ll,"__esModule",{value:!0});Ll.SageCrewConfig=Ll.sageCrewConfigDataEquals=Ll.CREW_FEATURE=void 0;const vG=di,F2e=fr;Ll.CREW_FEATURE=!0;function j1t(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.config.equals(e.config)&&n.bump===e.bump}Ll.sageCrewConfigDataEquals=j1t;let jz=kG=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t){return vG.PublicKey.findProgramAddressSync([rt.Buffer.from("SageCrewConfig"),t.toBuffer()],e.programId)}static registerSageCrewConfig(e){const{program:t,key:r,profile:s,crewProgramConfig:i,gameId:o,input:a}=e;return c=>H1t(this,void 0,void 0,function*(){return[{instruction:yield t.methods.registerSageCrewConfig(a).accountsStrict({gameAndProfile:{key:r.publicKey(),profile:s,gameId:o},funder:c.publicKey(),sageCrewConfig:this.findAddress(t,o)[0],config:i,systemProgram:vG.SystemProgram.programId}).instruction(),signers:[r,c]}]})}static decodeData(e,t){return(0,F2e.decodeAccount)(e,t,kG)}};Ll.SageCrewConfig=jz;jz.ACCOUNT_NAME="sageCrewConfig";jz.MIN_DATA_SIZE=8+1+32+32+1;Ll.SageCrewConfig=jz=kG=V1t([(0,F2e.staticImplements)(),q1t("design:paramtypes",[Object,vG.PublicKey])],jz);var G1t=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Y1t=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Z1t=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},AG;Object.defineProperty(r0,"__esModule",{value:!0});r0.PlayerCrewRecord=r0.playerCrewRecordDataEquals=void 0;const U2e=di,V2e=fr,J1t=Ll;function X1t(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.playerProfile.equals(e.playerProfile)&&n.crewConfig.equals(e.crewConfig)&&n.count===e.count&&n.bump===e.bump}r0.playerCrewRecordDataEquals=X1t;let Gz=AG=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return U2e.PublicKey.findProgramAddressSync([rt.Buffer.from("PlayerCrewRecord"),t.toBuffer(),r.toBuffer()],e.programId)}static closePlayerCrewRecord(e){const{profile:t,profileFaction:r,key:s,fundsTo:i,program:o,starbase:a,starbasePlayer:c,gameId:u,input:l}=e;return d=>Z1t(this,void 0,void 0,function*(){return[{instruction:yield o.methods.closePlayerCrewRecord(l).accountsStrict({fundsTo:i==="funder"?d.publicKey():i,gameAndProfileAndFaction:{key:s.publicKey(),profile:t,profileFaction:r,gameId:u},starbaseAndStarbasePlayer:{starbase:a,starbasePlayer:c},crewRecord:this.findAddress(o,t,u)[0],crewConfig:J1t.SageCrewConfig.findAddress(o,u)[0]}).instruction(),signers:[s]}]})}static decodeData(e,t){return(0,V2e.decodeAccount)(e,t,AG)}};r0.PlayerCrewRecord=Gz;Gz.ACCOUNT_NAME="playerCrewRecord";Gz.MIN_DATA_SIZE=8+1+32+32+32+4+1;r0.PlayerCrewRecord=Gz=AG=G1t([(0,V2e.staticImplements)(),Y1t("design:paramtypes",[Object,U2e.PublicKey])],Gz);var md={},Kee={},E5={},ly={},Wc={},Qu={},gg={},m8={};Object.defineProperty(m8,"__esModule",{value:!0});m8.getChangeLogSerializer=void 0;const jv=H,Q1t=n=>(0,jv.struct)([["root",(0,jv.publicKey)()],["pathNodes",(0,jv.array)((0,jv.publicKey)(),{size:n})],["index",(0,jv.fixSerializer)((0,jv.u32)(),8)]]);m8.getChangeLogSerializer=Q1t;var Vk={},y8={};Object.defineProperty(y8,"__esModule",{value:!0});y8.getPathSerializer=void 0;const X0=H;function eSt(n){return(0,X0.mapSerializer)((0,X0.struct)([["proof",(0,X0.array)((0,X0.publicKey)(),{size:n})],["leaf",(0,X0.publicKey)()],["index",(0,X0.u32)()],["padding",(0,X0.u32)()]],{description:"Path"}),e=>({...e,padding:0}),e=>{const{padding:t,...r}=e;return r})}y8.getPathSerializer=eSt;Object.defineProperty(Vk,"__esModule",{value:!0});Vk.getCurrentRoot=Vk.getConcurrentMerkleTreeSerializer=void 0;const tSt=Z,gB=H,rSt=m8,nSt=y8,sSt=(n,e)=>(0,gB.struct)([["sequenceNumber",(0,gB.u64)()],["activeIndex",(0,gB.u64)()],["bufferSize",(0,gB.u64)()],["changeLogs",(0,gB.array)((0,rSt.getChangeLogSerializer)(n),{size:e})],["rightMostPath",(0,nSt.getPathSerializer)(n)]]);Vk.getConcurrentMerkleTreeSerializer=sSt;const iSt=n=>(0,tSt.publicKeyBytes)(n.changeLogs[Number(n.activeIndex)].root);Vk.getCurrentRoot=iSt;var q2e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMerkleTreeSize=n.getMerkleTreeAccountDataV1Serializer=n.getMerkleTreeAccountDataSerializer=void 0;const e=H,t=ly,r=Vk,s=()=>{const a=(0,t.getConcurrentMerkleTreeHeaderSerializer)();return{description:"MerkleTreeAccountData",fixedSize:null,maxSize:null,serialize:c=>{switch(c.treeHeader.__kind){case"V1":return(0,n.getMerkleTreeAccountDataV1Serializer)(c.treeHeader.maxDepth,c.treeHeader.maxBufferSize).serialize(c);default:throw new Error(`Unknown MerkleTreeAccountData version: ${c.treeHeader.__kind}`)}},deserialize:(c,u=0)=>{const{header:l}=a.deserialize(c,u)[0];switch(l.__kind){case"V1":return(0,n.getMerkleTreeAccountDataV1Serializer)(l.maxDepth,l.maxBufferSize).deserialize(c,u);default:throw new Error(`Unknown MerkleTreeAccountData version: ${l.__kind}`)}}}};n.getMerkleTreeAccountDataSerializer=s;const i=(a,c)=>(0,e.mapSerializer)((0,e.struct)([["discriminator",(0,e.u8)()],["treeHeader",(0,t.getConcurrentMerkleTreeHeaderDataSerializer)()],["tree",(0,r.getConcurrentMerkleTreeSerializer)(a,c)],["canopy",(0,e.array)((0,e.publicKey)(),{size:"remainder"})]]),u=>({...u,discriminator:t.CompressionAccountType.ConcurrentMerkleTree}));n.getMerkleTreeAccountDataV1Serializer=i;const o=(a,c,u=0)=>{const d=(0,t.getConcurrentMerkleTreeHeaderDataSerializer)().fixedSize,y=(0,r.getConcurrentMerkleTreeSerializer)(a,c).fixedSize,h=32*Math.max((1<<u+1)-2,0);return 1+d+y+h};n.getMerkleTreeSize=o})(q2e);var x5={};Object.defineProperty(x5,"__esModule",{value:!0});x5.findMintAuthorityPda=void 0;const oSt=H,aSt=ly;function cSt(n,e){const t=n.programs.getPublicKey("mplBubblegum",aSt.MPL_BUBBLEGUM_PROGRAM_ID);return n.eddsa.findPda(t,[(0,oSt.publicKey)().serialize(e.mint)])}x5.findMintAuthorityPda=cSt;var zI={},Cl={},H2e=Wl(H6e),Qm={};Object.defineProperty(Qm,"__esModule",{value:!0});Qm.parseLeafFromMintToCollectionV1Transaction=Qm.parseLeafFromMintV1Transaction=Qm.findLeafAssetIdPda=void 0;const e7=H,Wee=ly;function uSt(n,e){const t=n.programs.getPublicKey("mplBubblegum",Wee.MPL_BUBBLEGUM_PROGRAM_ID);return n.eddsa.findPda(t,[(0,e7.string)({size:"variable"}).serialize("asset"),(0,e7.publicKey)().serialize(e.merkleTree),(0,e7.u64)().serialize(e.leafIndex)])}Qm.findLeafAssetIdPda=uSt;async function lSt(n,e){const t=await n.rpc.getTransaction(e),r=t==null?void 0:t.meta.innerInstructions;if(r)return(0,Wee.getLeafSchemaSerializer)().deserialize(r[0].instructions[0].data.slice(8))[0];throw new Error("Could not parse leaf from transaction")}Qm.parseLeafFromMintV1Transaction=lSt;async function dSt(n,e){const t=await n.rpc.getTransaction(e),r=t==null?void 0:t.meta.innerInstructions;if(r)return(0,Wee.getLeafSchemaSerializer)().deserialize(r[0].instructions[0].data.slice(8))[0];throw new Error("Could not parse leaf from transaction")}Qm.parseLeafFromMintToCollectionV1Transaction=dSt;Object.defineProperty(Cl,"__esModule",{value:!0});Cl.hashMetadataCreators=Cl.hashMetadataData=Cl.hashMetadata=Cl.hashLeaf=Cl.hash=void 0;const Km=H,fSt=H2e,j2e=ly,hSt=Qm;function Yz(n){return(0,fSt.keccak_256)(Array.isArray(n)?(0,Km.mergeBytes)(n):n)}Cl.hash=Yz;function gSt(n,e){const t=e.delegate??e.owner,r=e.nftVersion??1,[s]=(0,hSt.findLeafAssetIdPda)(n,{merkleTree:e.merkleTree,leafIndex:e.leafIndex});return Yz([(0,Km.u8)().serialize(r),(0,Km.publicKey)().serialize(s),(0,Km.publicKey)().serialize(e.owner),(0,Km.publicKey)().serialize(t),(0,Km.u64)().serialize(e.leafIndex),G2e(e.metadata)])}Cl.hashLeaf=gSt;function G2e(n){return(0,Km.mergeBytes)([Y2e(n),Z2e(n.creators)])}Cl.hashMetadata=G2e;function Y2e(n){return Yz([Yz((0,j2e.getMetadataArgsSerializer)().serialize(n)),(0,Km.u16)().serialize(n.sellerFeeBasisPoints)])}Cl.hashMetadataData=Y2e;function Z2e(n){return Yz((0,Km.array)((0,j2e.getCreatorSerializer)(),{size:"remainder"}).serialize(n))}Cl.hashMetadataCreators=Z2e;Object.defineProperty(zI,"__esModule",{value:!0});zI.resolveCreatorHash=zI.resolveDataHash=void 0;const J2e=Cl,mSt=(n,e,t,r,s)=>(0,J2e.hashMetadataData)(t.metadata);zI.resolveDataHash=mSt;const ySt=(n,e,t,r,s)=>(0,J2e.hashMetadataCreators)(t.metadata.creators);zI.resolveCreatorHash=ySt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(m8,n),t(Vk,n),t(q2e,n),t(x5,n),t(y8,n),t(zI,n)})(gg);var za={},X2e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBubblegumEventTypeSerializer=n.BubblegumEventType=void 0;const e=H;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.LeafSchemaEvent=1]="LeafSchemaEvent"})(t=n.BubblegumEventType||(n.BubblegumEventType={}));function r(){return(0,e.scalarEnum)(t,{description:"BubblegumEventType"})}n.getBubblegumEventTypeSerializer=r})(X2e);var T5={};Object.defineProperty(T5,"__esModule",{value:!0});T5.getCollectionSerializer=void 0;const t7=H;function pSt(){return(0,t7.struct)([["verified",(0,t7.bool)()],["key",(0,t7.publicKey)()]],{description:"Collection"})}T5.getCollectionSerializer=pSt;var Q2e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCompressionAccountTypeSerializer=n.CompressionAccountType=void 0;const e=H;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.ConcurrentMerkleTree=1]="ConcurrentMerkleTree"})(t=n.CompressionAccountType||(n.CompressionAccountType={}));function r(){return(0,e.scalarEnum)(t,{description:"CompressionAccountType"})}n.getCompressionAccountTypeSerializer=r})(Q2e);var R5={};Object.defineProperty(R5,"__esModule",{value:!0});R5.getConcurrentMerkleTreeHeaderSerializer=void 0;const bSt=H,Bbe=za;function SSt(){return(0,bSt.struct)([["accountType",(0,Bbe.getCompressionAccountTypeSerializer)()],["header",(0,Bbe.getConcurrentMerkleTreeHeaderDataSerializer)()]],{description:"ConcurrentMerkleTreeHeader"})}R5.getConcurrentMerkleTreeHeaderSerializer=SSt;var rb={};Object.defineProperty(rb,"__esModule",{value:!0});rb.isConcurrentMerkleTreeHeaderData=rb.concurrentMerkleTreeHeaderData=rb.getConcurrentMerkleTreeHeaderDataSerializer=void 0;const tp=H;function kSt(){return(0,tp.dataEnum)([["V1",(0,tp.struct)([["maxBufferSize",(0,tp.u32)()],["maxDepth",(0,tp.u32)()],["authority",(0,tp.publicKey)()],["creationSlot",(0,tp.u64)()],["padding",(0,tp.array)((0,tp.u8)(),{size:6})]])]],{description:"ConcurrentMerkleTreeHeaderData"})}rb.getConcurrentMerkleTreeHeaderDataSerializer=kSt;function vSt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}rb.concurrentMerkleTreeHeaderData=vSt;function ASt(n,e){return e.__kind===n}rb.isConcurrentMerkleTreeHeaderData=ASt;var B5={};Object.defineProperty(B5,"__esModule",{value:!0});B5.getCreatorSerializer=void 0;const R3=H;function wSt(){return(0,R3.struct)([["address",(0,R3.publicKey)()],["verified",(0,R3.bool)()],["share",(0,R3.u8)()]],{description:"Creator"})}B5.getCreatorSerializer=wSt;var eBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDecompressibleStateSerializer=n.DecompressibleState=void 0;const e=H;var t;(function(s){s[s.Enabled=0]="Enabled",s[s.Disabled=1]="Disabled"})(t=n.DecompressibleState||(n.DecompressibleState={}));function r(){return(0,e.scalarEnum)(t,{description:"DecompressibleState"})}n.getDecompressibleStateSerializer=r})(eBe);var nb={};Object.defineProperty(nb,"__esModule",{value:!0});nb.isLeafSchema=nb.leafSchema=nb.getLeafSchemaSerializer=void 0;const rp=H;function ISt(){return(0,rp.dataEnum)([["V1",(0,rp.struct)([["id",(0,rp.publicKey)()],["owner",(0,rp.publicKey)()],["delegate",(0,rp.publicKey)()],["nonce",(0,rp.u64)()],["dataHash",(0,rp.bytes)({size:32})],["creatorHash",(0,rp.bytes)({size:32})]])]],{description:"LeafSchema"})}nb.getLeafSchemaSerializer=ISt;function _St(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}nb.leafSchema=_St;function PSt(n,e){return e.__kind===n}nb.isLeafSchema=PSt;var C5={};Object.defineProperty(C5,"__esModule",{value:!0});C5.getMetadataArgsSerializer=void 0;const r7=Z,Pu=H,Q0=za;function ESt(){return(0,Pu.mapSerializer)((0,Pu.struct)([["name",(0,Pu.string)()],["symbol",(0,Pu.string)()],["uri",(0,Pu.string)()],["sellerFeeBasisPoints",(0,Pu.u16)()],["primarySaleHappened",(0,Pu.bool)()],["isMutable",(0,Pu.bool)()],["editionNonce",(0,Pu.option)((0,Pu.u8)())],["tokenStandard",(0,Pu.option)((0,Q0.getTokenStandardSerializer)())],["collection",(0,Pu.option)((0,Q0.getCollectionSerializer)())],["uses",(0,Pu.option)((0,Q0.getUsesSerializer)())],["tokenProgramVersion",(0,Q0.getTokenProgramVersionSerializer)()],["creators",(0,Pu.array)((0,Q0.getCreatorSerializer)())]],{description:"MetadataArgs"}),n=>({...n,symbol:n.symbol??"",primarySaleHappened:n.primarySaleHappened??!1,isMutable:n.isMutable??!0,editionNonce:n.editionNonce??(0,r7.none)(),tokenStandard:n.tokenStandard??(0,r7.some)(Q0.TokenStandard.NonFungible),uses:n.uses??(0,r7.none)(),tokenProgramVersion:n.tokenProgramVersion??Q0.TokenProgramVersion.Original}))}C5.getMetadataArgsSerializer=ESt;var tBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenProgramVersionSerializer=n.TokenProgramVersion=void 0;const e=H;var t;(function(s){s[s.Original=0]="Original",s[s.Token2022=1]="Token2022"})(t=n.TokenProgramVersion||(n.TokenProgramVersion={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenProgramVersion"})}n.getTokenProgramVersionSerializer=r})(tBe);var rBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStandardSerializer=n.TokenStandard=void 0;const e=H;var t;(function(s){s[s.NonFungible=0]="NonFungible",s[s.FungibleAsset=1]="FungibleAsset",s[s.Fungible=2]="Fungible",s[s.NonFungibleEdition=3]="NonFungibleEdition"})(t=n.TokenStandard||(n.TokenStandard={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenStandard"})}n.getTokenStandardSerializer=r})(rBe);var M5={};Object.defineProperty(M5,"__esModule",{value:!0});M5.getUpdateArgsSerializer=void 0;const e1=Z,Nc=H,xSt=za;function TSt(){return(0,Nc.mapSerializer)((0,Nc.struct)([["name",(0,Nc.option)((0,Nc.string)())],["symbol",(0,Nc.option)((0,Nc.string)())],["uri",(0,Nc.option)((0,Nc.string)())],["creators",(0,Nc.option)((0,Nc.array)((0,xSt.getCreatorSerializer)()))],["sellerFeeBasisPoints",(0,Nc.option)((0,Nc.u16)())],["primarySaleHappened",(0,Nc.option)((0,Nc.bool)())],["isMutable",(0,Nc.option)((0,Nc.bool)())]],{description:"UpdateArgs"}),n=>({...n,name:n.name??(0,e1.none)(),symbol:n.symbol??(0,e1.none)(),uri:n.uri??(0,e1.none)(),creators:n.creators??(0,e1.none)(),sellerFeeBasisPoints:n.sellerFeeBasisPoints??(0,e1.none)(),primarySaleHappened:n.primarySaleHappened??(0,e1.none)(),isMutable:n.isMutable??(0,e1.none)()}))}M5.getUpdateArgsSerializer=TSt;var nBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getUseMethodSerializer=n.UseMethod=void 0;const e=H;var t;(function(s){s[s.Burn=0]="Burn",s[s.Multiple=1]="Multiple",s[s.Single=2]="Single"})(t=n.UseMethod||(n.UseMethod={}));function r(){return(0,e.scalarEnum)(t,{description:"UseMethod"})}n.getUseMethodSerializer=r})(nBe);var z5={};Object.defineProperty(z5,"__esModule",{value:!0});z5.getUsesSerializer=void 0;const n7=H,RSt=za;function BSt(){return(0,n7.struct)([["useMethod",(0,RSt.getUseMethodSerializer)()],["remaining",(0,n7.u64)()],["total",(0,n7.u64)()]],{description:"Uses"})}z5.getUsesSerializer=BSt;var sBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getVersionSerializer=n.Version=void 0;const e=H;var t;(function(s){s[s.V1=0]="V1"})(t=n.Version||(n.Version={}));function r(){return(0,e.scalarEnum)(t,{description:"Version"})}n.getVersionSerializer=r})(sBe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(X2e,n),t(T5,n),t(Q2e,n),t(R5,n),t(rb,n),t(B5,n),t(eBe,n),t(nb,n),t(C5,n),t(tBe,n),t(rBe,n),t(M5,n),t(nBe,n),t(z5,n),t(sBe,n)})(za);Object.defineProperty(Qu,"__esModule",{value:!0});Qu.getMerkleTreeGpaBuilder=Qu.safeFetchAllMerkleTree=Qu.fetchAllMerkleTree=Qu.safeFetchMerkleTree=Qu.fetchMerkleTree=Qu.deserializeMerkleTree=void 0;const n0=Z,CSt=H,MSt=gg,Cbe=za;function GR(n){return(0,n0.deserializeAccount)(n,(0,MSt.getMerkleTreeAccountDataSerializer)())}Qu.deserializeMerkleTree=GR;async function zSt(n,e,t){const r=await n.rpc.getAccount((0,n0.publicKey)(e,!1),t);return(0,n0.assertAccountExists)(r,"MerkleTree"),GR(r)}Qu.fetchMerkleTree=zSt;async function $St(n,e,t){const r=await n.rpc.getAccount((0,n0.publicKey)(e,!1),t);return r.exists?GR(r):null}Qu.safeFetchMerkleTree=$St;async function DSt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,n0.publicKey)(s,!1)),t)).map(s=>((0,n0.assertAccountExists)(s,"MerkleTree"),GR(s)))}Qu.fetchAllMerkleTree=DSt;async function OSt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,n0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>GR(s))}Qu.safeFetchAllMerkleTree=OSt;function LSt(n){const e=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK");return(0,n0.gpaBuilder)(n,e).registerFields({discriminator:[0,(0,Cbe.getCompressionAccountTypeSerializer)()],treeHeader:[1,(0,Cbe.getConcurrentMerkleTreeHeaderDataSerializer)()],serializedTree:[56,(0,CSt.bytes)()]}).deserializeUsing(t=>GR(t))}Qu.getMerkleTreeGpaBuilder=LSt;var bi={};Object.defineProperty(bi,"__esModule",{value:!0});bi.safeFetchTreeConfigFromSeeds=bi.fetchTreeConfigFromSeeds=bi.findTreeConfigPda=bi.getTreeConfigSize=bi.getTreeConfigGpaBuilder=bi.safeFetchAllTreeConfig=bi.fetchAllTreeConfig=bi.safeFetchTreeConfig=bi.fetchTreeConfig=bi.deserializeTreeConfig=bi.getTreeConfigAccountDataSerializer=void 0;const s0=Z,Dc=H,iBe=za;function oBe(){return(0,Dc.mapSerializer)((0,Dc.struct)([["discriminator",(0,Dc.array)((0,Dc.u8)(),{size:8})],["treeCreator",(0,Dc.publicKey)()],["treeDelegate",(0,Dc.publicKey)()],["totalMintCapacity",(0,Dc.u64)()],["numMinted",(0,Dc.u64)()],["isPublic",(0,Dc.bool)()],["isDecompressible",(0,iBe.getDecompressibleStateSerializer)()]],{description:"TreeConfigAccountData"}),n=>({...n,discriminator:[122,245,175,248,171,34,0,207]}))}bi.getTreeConfigAccountDataSerializer=oBe;function YR(n){return(0,s0.deserializeAccount)(n,oBe())}bi.deserializeTreeConfig=YR;async function aBe(n,e,t){const r=await n.rpc.getAccount((0,s0.publicKey)(e,!1),t);return(0,s0.assertAccountExists)(r,"TreeConfig"),YR(r)}bi.fetchTreeConfig=aBe;async function cBe(n,e,t){const r=await n.rpc.getAccount((0,s0.publicKey)(e,!1),t);return r.exists?YR(r):null}bi.safeFetchTreeConfig=cBe;async function KSt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,s0.publicKey)(s,!1)),t)).map(s=>((0,s0.assertAccountExists)(s,"TreeConfig"),YR(s)))}bi.fetchAllTreeConfig=KSt;async function WSt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,s0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>YR(s))}bi.safeFetchAllTreeConfig=WSt;function NSt(n){const e=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY");return(0,s0.gpaBuilder)(n,e).registerFields({discriminator:[0,(0,Dc.array)((0,Dc.u8)(),{size:8})],treeCreator:[8,(0,Dc.publicKey)()],treeDelegate:[40,(0,Dc.publicKey)()],totalMintCapacity:[72,(0,Dc.u64)()],numMinted:[80,(0,Dc.u64)()],isPublic:[88,(0,Dc.bool)()],isDecompressible:[89,(0,iBe.getDecompressibleStateSerializer)()]}).deserializeUsing(t=>YR(t)).whereField("discriminator",[122,245,175,248,171,34,0,207])}bi.getTreeConfigGpaBuilder=NSt;function FSt(){return 96}bi.getTreeConfigSize=FSt;function Nee(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY");return n.eddsa.findPda(t,[(0,Dc.publicKey)().serialize(e.merkleTree)])}bi.findTreeConfigPda=Nee;async function USt(n,e,t){return aBe(n,Nee(n,e),t)}bi.fetchTreeConfigFromSeeds=USt;async function VSt(n,e,t){return cBe(n,Nee(n,e),t)}bi.safeFetchTreeConfigFromSeeds=VSt;var Si={};Object.defineProperty(Si,"__esModule",{value:!0});Si.safeFetchVoucherFromSeeds=Si.fetchVoucherFromSeeds=Si.findVoucherPda=Si.getVoucherSize=Si.getVoucherGpaBuilder=Si.safeFetchAllVoucher=Si.fetchAllVoucher=Si.safeFetchVoucher=Si.fetchVoucher=Si.deserializeVoucher=Si.getVoucherAccountDataSerializer=void 0;const i0=Z,Tl=H,uBe=za;function lBe(){return(0,Tl.mapSerializer)((0,Tl.struct)([["discriminator",(0,Tl.array)((0,Tl.u8)(),{size:8})],["leafSchema",(0,uBe.getLeafSchemaSerializer)()],["index",(0,Tl.u32)()],["merkleTree",(0,Tl.publicKey)()]],{description:"VoucherAccountData"}),n=>({...n,discriminator:[191,204,149,234,213,165,13,65]}))}Si.getVoucherAccountDataSerializer=lBe;function ZR(n){return(0,i0.deserializeAccount)(n,lBe())}Si.deserializeVoucher=ZR;async function dBe(n,e,t){const r=await n.rpc.getAccount((0,i0.publicKey)(e,!1),t);return(0,i0.assertAccountExists)(r,"Voucher"),ZR(r)}Si.fetchVoucher=dBe;async function fBe(n,e,t){const r=await n.rpc.getAccount((0,i0.publicKey)(e,!1),t);return r.exists?ZR(r):null}Si.safeFetchVoucher=fBe;async function qSt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,i0.publicKey)(s,!1)),t)).map(s=>((0,i0.assertAccountExists)(s,"Voucher"),ZR(s)))}Si.fetchAllVoucher=qSt;async function HSt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,i0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>ZR(s))}Si.safeFetchAllVoucher=HSt;function jSt(n){const e=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY");return(0,i0.gpaBuilder)(n,e).registerFields({discriminator:[0,(0,Tl.array)((0,Tl.u8)(),{size:8})],leafSchema:[8,(0,uBe.getLeafSchemaSerializer)()],index:[177,(0,Tl.u32)()],merkleTree:[181,(0,Tl.publicKey)()]}).deserializeUsing(t=>ZR(t)).whereField("discriminator",[191,204,149,234,213,165,13,65])}Si.getVoucherGpaBuilder=jSt;function GSt(){return 213}Si.getVoucherSize=GSt;function Fee(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY");return n.eddsa.findPda(t,[(0,Tl.string)({size:"variable"}).serialize("voucher"),(0,Tl.publicKey)().serialize(e.merkleTree),(0,Tl.u64)().serialize(e.nonce)])}Si.findVoucherPda=Fee;async function YSt(n,e,t){return dBe(n,Fee(n,e),t)}Si.fetchVoucherFromSeeds=YSt;async function ZSt(n,e,t){return fBe(n,Fee(n,e),t)}Si.safeFetchVoucherFromSeeds=ZSt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Qu,n),t(bi,n),t(Si,n)})(Wc);var p8={},qe={};Object.defineProperty(qe,"__esModule",{value:!0});qe.getMplBubblegumErrorFromName=qe.getMplBubblegumErrorFromCode=qe.InvalidCanopySizeError=qe.InvalidTokenStandardError=qe.CreatorDidNotUnverifyError=qe.PrimarySaleCanOnlyBeFlippedToTrueError=qe.MetadataImmutableError=qe.CollectionMismatchError=qe.MissingCollectionMetadataAccountError=qe.MissingCollectionMintAccountError=qe.DecompressionDisabledError=qe.UnknownExternalErrorError=qe.CollectionMustBeAUniqueMasterEditionError=qe.CollectionMasterEditionAccountInvalidError=qe.InvalidDelegateRecordError=qe.InvalidCollectionAuthorityError=qe.MetadataMintMismatchError=qe.CollectionMustBeSizedError=qe.LeafAuthorityMustSignError=qe.UpdateAuthorityIncorrectError=qe.AlreadyUnverifiedError=qe.AlreadyVerifiedError=qe.CollectionNotFoundError=qe.CollectionCannotBeVerifiedInThisInstructionError=qe.IncorrectOwnerError=qe.NumericalOverflowErrorError=qe.InsufficientMintCapacityError=qe.TreeAuthorityIncorrectError=qe.MetadataBasisPointsTooHighError=qe.MetadataUriTooLongError=qe.MetadataSymbolTooLongError=qe.MetadataNameTooLongError=qe.CreatorsTooLongError=qe.DataHashMismatchError=qe.CreatorHashMismatchError=qe.NoCreatorsPresentError=qe.CreatorNotFoundError=qe.CreatorDidNotVerifyError=qe.DuplicateCreatorAddressError=qe.CreatorShareTotalMustBe100Error=qe.UnsupportedSchemaVersionError=qe.HashingMismatchError=qe.PublicKeyMismatchError=qe.AssetOwnerMismatchError=void 0;const Lr=Z,$r=new Map,Dr=new Map;class Uee extends Lr.ProgramError{constructor(e,t){super("Asset Owner Does not match",e,t),this.name="AssetOwnerMismatch",this.code=6e3}}qe.AssetOwnerMismatchError=Uee;$r.set(6e3,Uee);Dr.set("AssetOwnerMismatch",Uee);class Vee extends Lr.ProgramError{constructor(e,t){super("PublicKeyMismatch",e,t),this.name="PublicKeyMismatch",this.code=6001}}qe.PublicKeyMismatchError=Vee;$r.set(6001,Vee);Dr.set("PublicKeyMismatch",Vee);class qee extends Lr.ProgramError{constructor(e,t){super("Hashing Mismatch Within Leaf Schema",e,t),this.name="HashingMismatch",this.code=6002}}qe.HashingMismatchError=qee;$r.set(6002,qee);Dr.set("HashingMismatch",qee);class Hee extends Lr.ProgramError{constructor(e,t){super("Unsupported Schema Version",e,t),this.name="UnsupportedSchemaVersion",this.code=6003}}qe.UnsupportedSchemaVersionError=Hee;$r.set(6003,Hee);Dr.set("UnsupportedSchemaVersion",Hee);class jee extends Lr.ProgramError{constructor(e,t){super("Creator shares must sum to 100",e,t),this.name="CreatorShareTotalMustBe100",this.code=6004}}qe.CreatorShareTotalMustBe100Error=jee;$r.set(6004,jee);Dr.set("CreatorShareTotalMustBe100",jee);class Gee extends Lr.ProgramError{constructor(e,t){super("No duplicate creator addresses in metadata",e,t),this.name="DuplicateCreatorAddress",this.code=6005}}qe.DuplicateCreatorAddressError=Gee;$r.set(6005,Gee);Dr.set("DuplicateCreatorAddress",Gee);class Yee extends Lr.ProgramError{constructor(e,t){super("Creator did not verify the metadata",e,t),this.name="CreatorDidNotVerify",this.code=6006}}qe.CreatorDidNotVerifyError=Yee;$r.set(6006,Yee);Dr.set("CreatorDidNotVerify",Yee);class Zee extends Lr.ProgramError{constructor(e,t){super("Creator not found in creator Vec",e,t),this.name="CreatorNotFound",this.code=6007}}qe.CreatorNotFoundError=Zee;$r.set(6007,Zee);Dr.set("CreatorNotFound",Zee);class Jee extends Lr.ProgramError{constructor(e,t){super("No creators in creator Vec",e,t),this.name="NoCreatorsPresent",this.code=6008}}qe.NoCreatorsPresentError=Jee;$r.set(6008,Jee);Dr.set("NoCreatorsPresent",Jee);class Xee extends Lr.ProgramError{constructor(e,t){super("User-provided creator Vec must result in same user-provided creator hash",e,t),this.name="CreatorHashMismatch",this.code=6009}}qe.CreatorHashMismatchError=Xee;$r.set(6009,Xee);Dr.set("CreatorHashMismatch",Xee);class Qee extends Lr.ProgramError{constructor(e,t){super("User-provided metadata must result in same user-provided data hash",e,t),this.name="DataHashMismatch",this.code=6010}}qe.DataHashMismatchError=Qee;$r.set(6010,Qee);Dr.set("DataHashMismatch",Qee);class ete extends Lr.ProgramError{constructor(e,t){super("Creators list too long",e,t),this.name="CreatorsTooLong",this.code=6011}}qe.CreatorsTooLongError=ete;$r.set(6011,ete);Dr.set("CreatorsTooLong",ete);class tte extends Lr.ProgramError{constructor(e,t){super("Name in metadata is too long",e,t),this.name="MetadataNameTooLong",this.code=6012}}qe.MetadataNameTooLongError=tte;$r.set(6012,tte);Dr.set("MetadataNameTooLong",tte);class rte extends Lr.ProgramError{constructor(e,t){super("Symbol in metadata is too long",e,t),this.name="MetadataSymbolTooLong",this.code=6013}}qe.MetadataSymbolTooLongError=rte;$r.set(6013,rte);Dr.set("MetadataSymbolTooLong",rte);class nte extends Lr.ProgramError{constructor(e,t){super("Uri in metadata is too long",e,t),this.name="MetadataUriTooLong",this.code=6014}}qe.MetadataUriTooLongError=nte;$r.set(6014,nte);Dr.set("MetadataUriTooLong",nte);class ste extends Lr.ProgramError{constructor(e,t){super("Basis points in metadata cannot exceed 10000",e,t),this.name="MetadataBasisPointsTooHigh",this.code=6015}}qe.MetadataBasisPointsTooHighError=ste;$r.set(6015,ste);Dr.set("MetadataBasisPointsTooHigh",ste);class ite extends Lr.ProgramError{constructor(e,t){super("Tree creator or tree delegate must sign.",e,t),this.name="TreeAuthorityIncorrect",this.code=6016}}qe.TreeAuthorityIncorrectError=ite;$r.set(6016,ite);Dr.set("TreeAuthorityIncorrect",ite);class ote extends Lr.ProgramError{constructor(e,t){super("Not enough unapproved mints left",e,t),this.name="InsufficientMintCapacity",this.code=6017}}qe.InsufficientMintCapacityError=ote;$r.set(6017,ote);Dr.set("InsufficientMintCapacity",ote);class ate extends Lr.ProgramError{constructor(e,t){super("NumericalOverflowError",e,t),this.name="NumericalOverflowError",this.code=6018}}qe.NumericalOverflowErrorError=ate;$r.set(6018,ate);Dr.set("NumericalOverflowError",ate);class cte extends Lr.ProgramError{constructor(e,t){super("Incorrect account owner",e,t),this.name="IncorrectOwner",this.code=6019}}qe.IncorrectOwnerError=cte;$r.set(6019,cte);Dr.set("IncorrectOwner",cte);class ute extends Lr.ProgramError{constructor(e,t){super("Cannot Verify Collection in this Instruction",e,t),this.name="CollectionCannotBeVerifiedInThisInstruction",this.code=6020}}qe.CollectionCannotBeVerifiedInThisInstructionError=ute;$r.set(6020,ute);Dr.set("CollectionCannotBeVerifiedInThisInstruction",ute);class lte extends Lr.ProgramError{constructor(e,t){super("Collection Not Found on Metadata",e,t),this.name="CollectionNotFound",this.code=6021}}qe.CollectionNotFoundError=lte;$r.set(6021,lte);Dr.set("CollectionNotFound",lte);class dte extends Lr.ProgramError{constructor(e,t){super("Collection item is already verified.",e,t),this.name="AlreadyVerified",this.code=6022}}qe.AlreadyVerifiedError=dte;$r.set(6022,dte);Dr.set("AlreadyVerified",dte);class fte extends Lr.ProgramError{constructor(e,t){super("Collection item is already unverified.",e,t),this.name="AlreadyUnverified",this.code=6023}}qe.AlreadyUnverifiedError=fte;$r.set(6023,fte);Dr.set("AlreadyUnverified",fte);class hte extends Lr.ProgramError{constructor(e,t){super("Incorrect leaf metadata update authority.",e,t),this.name="UpdateAuthorityIncorrect",this.code=6024}}qe.UpdateAuthorityIncorrectError=hte;$r.set(6024,hte);Dr.set("UpdateAuthorityIncorrect",hte);class gte extends Lr.ProgramError{constructor(e,t){super("This transaction must be signed by either the leaf owner or leaf delegate",e,t),this.name="LeafAuthorityMustSign",this.code=6025}}qe.LeafAuthorityMustSignError=gte;$r.set(6025,gte);Dr.set("LeafAuthorityMustSign",gte);class mte extends Lr.ProgramError{constructor(e,t){super("Collection Not Compatable with Compression, Must be Sized",e,t),this.name="CollectionMustBeSized",this.code=6026}}qe.CollectionMustBeSizedError=mte;$r.set(6026,mte);Dr.set("CollectionMustBeSized",mte);class yte extends Lr.ProgramError{constructor(e,t){super("Metadata mint does not match collection mint",e,t),this.name="MetadataMintMismatch",this.code=6027}}qe.MetadataMintMismatchError=yte;$r.set(6027,yte);Dr.set("MetadataMintMismatch",yte);class pte extends Lr.ProgramError{constructor(e,t){super("Invalid collection authority",e,t),this.name="InvalidCollectionAuthority",this.code=6028}}qe.InvalidCollectionAuthorityError=pte;$r.set(6028,pte);Dr.set("InvalidCollectionAuthority",pte);class bte extends Lr.ProgramError{constructor(e,t){super("Invalid delegate record pda derivation",e,t),this.name="InvalidDelegateRecord",this.code=6029}}qe.InvalidDelegateRecordError=bte;$r.set(6029,bte);Dr.set("InvalidDelegateRecord",bte);class Ste extends Lr.ProgramError{constructor(e,t){super("Edition account doesnt match collection",e,t),this.name="CollectionMasterEditionAccountInvalid",this.code=6030}}qe.CollectionMasterEditionAccountInvalidError=Ste;$r.set(6030,Ste);Dr.set("CollectionMasterEditionAccountInvalid",Ste);class kte extends Lr.ProgramError{constructor(e,t){super("Collection Must Be a Unique Master Edition v2",e,t),this.name="CollectionMustBeAUniqueMasterEdition",this.code=6031}}qe.CollectionMustBeAUniqueMasterEditionError=kte;$r.set(6031,kte);Dr.set("CollectionMustBeAUniqueMasterEdition",kte);class vte extends Lr.ProgramError{constructor(e,t){super("Could not convert external error to BubblegumError",e,t),this.name="UnknownExternalError",this.code=6032}}qe.UnknownExternalErrorError=vte;$r.set(6032,vte);Dr.set("UnknownExternalError",vte);class Ate extends Lr.ProgramError{constructor(e,t){super("Decompression is disabled for this tree.",e,t),this.name="DecompressionDisabled",this.code=6033}}qe.DecompressionDisabledError=Ate;$r.set(6033,Ate);Dr.set("DecompressionDisabled",Ate);class wte extends Lr.ProgramError{constructor(e,t){super("Missing collection mint account",e,t),this.name="MissingCollectionMintAccount",this.code=6034}}qe.MissingCollectionMintAccountError=wte;$r.set(6034,wte);Dr.set("MissingCollectionMintAccount",wte);class Ite extends Lr.ProgramError{constructor(e,t){super("Missing collection metadata account",e,t),this.name="MissingCollectionMetadataAccount",this.code=6035}}qe.MissingCollectionMetadataAccountError=Ite;$r.set(6035,Ite);Dr.set("MissingCollectionMetadataAccount",Ite);class _te extends Lr.ProgramError{constructor(e,t){super("Collection mismatch",e,t),this.name="CollectionMismatch",this.code=6036}}qe.CollectionMismatchError=_te;$r.set(6036,_te);Dr.set("CollectionMismatch",_te);class Pte extends Lr.ProgramError{constructor(e,t){super("Metadata not mutable",e,t),this.name="MetadataImmutable",this.code=6037}}qe.MetadataImmutableError=Pte;$r.set(6037,Pte);Dr.set("MetadataImmutable",Pte);class Ete extends Lr.ProgramError{constructor(e,t){super("Can only update primary sale to true",e,t),this.name="PrimarySaleCanOnlyBeFlippedToTrue",this.code=6038}}qe.PrimarySaleCanOnlyBeFlippedToTrueError=Ete;$r.set(6038,Ete);Dr.set("PrimarySaleCanOnlyBeFlippedToTrue",Ete);class xte extends Lr.ProgramError{constructor(e,t){super("Creator did not unverify the metadata",e,t),this.name="CreatorDidNotUnverify",this.code=6039}}qe.CreatorDidNotUnverifyError=xte;$r.set(6039,xte);Dr.set("CreatorDidNotUnverify",xte);class Tte extends Lr.ProgramError{constructor(e,t){super("Only NonFungible standard is supported",e,t),this.name="InvalidTokenStandard",this.code=6040}}qe.InvalidTokenStandardError=Tte;$r.set(6040,Tte);Dr.set("InvalidTokenStandard",Tte);class Rte extends Lr.ProgramError{constructor(e,t){super("Canopy size should be set bigger for this tree",e,t),this.name="InvalidCanopySize",this.code=6041}}qe.InvalidCanopySizeError=Rte;$r.set(6041,Rte);Dr.set("InvalidCanopySize",Rte);function JSt(n,e,t){const r=$r.get(n);return r?new r(e,t):null}qe.getMplBubblegumErrorFromCode=JSt;function XSt(n,e,t){const r=Dr.get(n);return r?new r(e,t):null}qe.getMplBubblegumErrorFromName=XSt;var ki={};Object.defineProperty(ki,"__esModule",{value:!0});ki.getSplAccountCompressionErrorFromName=ki.getSplAccountCompressionErrorFromCode=ki.LeafIndexOutOfBoundsError=ki.IncorrectAccountTypeError=ki.IncorrectAccountOwnerError=ki.IncorrectAuthorityError=ki.CanopyLengthMismatchError=ki.ConcurrentMerkleTreeConstantsErrorError=ki.ZeroCopyErrorError=ki.ConcurrentMerkleTreeErrorError=ki.IncorrectLeafLengthError=void 0;const dy=Z,mg=new Map,yg=new Map;class Bte extends dy.ProgramError{constructor(e,t){super("Incorrect leaf length. Expected vec of 32 bytes",e,t),this.name="IncorrectLeafLength",this.code=6e3}}ki.IncorrectLeafLengthError=Bte;mg.set(6e3,Bte);yg.set("IncorrectLeafLength",Bte);class Cte extends dy.ProgramError{constructor(e,t){super("Concurrent merkle tree error",e,t),this.name="ConcurrentMerkleTreeError",this.code=6001}}ki.ConcurrentMerkleTreeErrorError=Cte;mg.set(6001,Cte);yg.set("ConcurrentMerkleTreeError",Cte);class Mte extends dy.ProgramError{constructor(e,t){super("Issue zero copying concurrent merkle tree data",e,t),this.name="ZeroCopyError",this.code=6002}}ki.ZeroCopyErrorError=Mte;mg.set(6002,Mte);yg.set("ZeroCopyError",Mte);class zte extends dy.ProgramError{constructor(e,t){super("An unsupported max depth or max buffer size constant was provided",e,t),this.name="ConcurrentMerkleTreeConstantsError",this.code=6003}}ki.ConcurrentMerkleTreeConstantsErrorError=zte;mg.set(6003,zte);yg.set("ConcurrentMerkleTreeConstantsError",zte);class $te extends dy.ProgramError{constructor(e,t){super("Expected a different byte length for the merkle tree canopy",e,t),this.name="CanopyLengthMismatch",this.code=6004}}ki.CanopyLengthMismatchError=$te;mg.set(6004,$te);yg.set("CanopyLengthMismatch",$te);class Dte extends dy.ProgramError{constructor(e,t){super("Provided authority does not match expected tree authority",e,t),this.name="IncorrectAuthority",this.code=6005}}ki.IncorrectAuthorityError=Dte;mg.set(6005,Dte);yg.set("IncorrectAuthority",Dte);class Ote extends dy.ProgramError{constructor(e,t){super("Account is owned by a different program, expected it to be owned by this program",e,t),this.name="IncorrectAccountOwner",this.code=6006}}ki.IncorrectAccountOwnerError=Ote;mg.set(6006,Ote);yg.set("IncorrectAccountOwner",Ote);class Lte extends dy.ProgramError{constructor(e,t){super("Account provided has incorrect account type",e,t),this.name="IncorrectAccountType",this.code=6007}}ki.IncorrectAccountTypeError=Lte;mg.set(6007,Lte);yg.set("IncorrectAccountType",Lte);class Kte extends dy.ProgramError{constructor(e,t){super("Leaf index of concurrent merkle tree is out of bounds",e,t),this.name="LeafIndexOutOfBounds",this.code=6008}}ki.LeafIndexOutOfBoundsError=Kte;mg.set(6008,Kte);yg.set("LeafIndexOutOfBounds",Kte);function QSt(n,e,t){const r=mg.get(n);return r?new r(e,t):null}ki.getSplAccountCompressionErrorFromCode=QSt;function ekt(n,e,t){const r=yg.get(n);return r?new r(e,t):null}ki.getSplAccountCompressionErrorFromName=ekt;var $I={};Object.defineProperty($I,"__esModule",{value:!0});$I.getSplNoopErrorFromName=$I.getSplNoopErrorFromCode=void 0;const tkt=new Map,rkt=new Map;function nkt(n,e,t){const r=tkt.get(n);return r?new r(e,t):null}$I.getSplNoopErrorFromCode=nkt;function skt(n,e,t){const r=rkt.get(n);return r?new r(e,t):null}$I.getSplNoopErrorFromName=skt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(qe,n),t(ki,n),t($I,n)})(p8);var hBe={},DI={},Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.getAccountMetasAndSigners=Ts.expectPda=Ts.expectPublicKey=Ts.expectSome=void 0;const _M=Z;function ikt(n){if(n==null)throw new Error("Expected a value but received null or undefined.");return n}Ts.expectSome=ikt;function okt(n){if(!n)throw new Error("Expected a PublicKey.");return(0,_M.publicKey)(n,!1)}Ts.expectPublicKey=okt;function akt(n){if(!n||!Array.isArray(n)||!(0,_M.isPda)(n))throw new Error("Expected a PDA.");return n}Ts.expectPda=akt;function ckt(n,e,t){const r=[],s=[];return n.forEach(i=>{if(!i.value){if(e==="omitted")return;r.push({pubkey:t,isSigner:!1,isWritable:!1});return}(0,_M.isSigner)(i.value)&&s.push(i.value),r.push({pubkey:(0,_M.publicKey)(i.value,!1),isSigner:(0,_M.isSigner)(i.value),isWritable:i.isWritable})}),[r,s]}Ts.getAccountMetasAndSigners=ckt;Object.defineProperty(DI,"__esModule",{value:!0});DI.burn=DI.getBurnInstructionDataSerializer=void 0;const ukt=Z,Bg=H,lkt=Wc,s7=Ts;function gBe(){return(0,Bg.mapSerializer)((0,Bg.struct)([["discriminator",(0,Bg.array)((0,Bg.u8)(),{size:8})],["root",(0,Bg.bytes)({size:32})],["dataHash",(0,Bg.bytes)({size:32})],["creatorHash",(0,Bg.bytes)({size:32})],["nonce",(0,Bg.u64)()],["index",(0,Bg.u32)()]],{description:"BurnInstructionData"}),n=>({...n,discriminator:[116,110,29,56,107,219,42,93]}))}DI.getBurnInstructionDataSerializer=gBe;function dkt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:5,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,lkt.findTreeConfigPda)(n,{merkleTree:(0,s7.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,s7.expectSome)(r.leafOwner.value)),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,s7.getAccountMetasAndSigners)(i,"programId",t),u=gBe().serialize(s),l=0;return(0,ukt.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}DI.burn=dkt;var OI={};Object.defineProperty(OI,"__esModule",{value:!0});OI.cancelRedeem=OI.getCancelRedeemInstructionDataSerializer=void 0;const fkt=Z,mB=H,hkt=Wc,Mbe=Ts;function mBe(){return(0,mB.mapSerializer)((0,mB.struct)([["discriminator",(0,mB.array)((0,mB.u8)(),{size:8})],["root",(0,mB.bytes)({size:32})]],{description:"CancelRedeemInstructionData"}),n=>({...n,discriminator:[111,76,232,50,39,175,48,242]}))}OI.getCancelRedeemInstructionDataSerializer=mBe;function gkt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!0,value:e.leafOwner??null},merkleTree:{index:2,isWritable:!0,value:e.merkleTree??null},voucher:{index:3,isWritable:!0,value:e.voucher??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:5,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,hkt.findTreeConfigPda)(n,{merkleTree:(0,Mbe.expectPublicKey)(r.merkleTree.value)})),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Mbe.getAccountMetasAndSigners)(i,"programId",t),c=mBe().serialize(s),u=0;return(0,fkt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}OI.cancelRedeem=gkt;var LI={};Object.defineProperty(LI,"__esModule",{value:!0});LI.createTreeConfig=LI.getCreateTreeConfigInstructionDataSerializer=void 0;const wG=Z,np=H,zbe=Wc,$be=Ts;function yBe(){return(0,np.mapSerializer)((0,np.struct)([["discriminator",(0,np.array)((0,np.u8)(),{size:8})],["maxDepth",(0,np.u32)()],["maxBufferSize",(0,np.u32)()],["public",(0,np.option)((0,np.bool)())]],{description:"CreateTreeConfigInstructionData"}),n=>({...n,discriminator:[165,83,136,142,89,202,47,220],public:n.public??(0,wG.none)()}))}LI.getCreateTreeConfigInstructionDataSerializer=yBe;function mkt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!0,value:e.treeConfig??null},merkleTree:{index:1,isWritable:!0,value:e.merkleTree??null},payer:{index:2,isWritable:!0,value:e.payer??null},treeCreator:{index:3,isWritable:!1,value:e.treeCreator??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:5,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,zbe.findTreeConfigPda)(n,{merkleTree:(0,$be.expectPublicKey)(r.merkleTree.value)})),r.payer.value||(r.payer.value=n.payer),r.treeCreator.value||(r.treeCreator.value=n.identity),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,$be.getAccountMetasAndSigners)(i,"programId",t),c=yBe().serialize(s),u=(0,zbe.getTreeConfigSize)()+wG.ACCOUNT_HEADER_SIZE;return(0,wG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}LI.createTreeConfig=mkt;var KI={},Cv={},F0={},Jt={},Fo={},ht={},pBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAuthorityTypeSerializer=n.AuthorityType=void 0;const e=H;var t;(function(s){s[s.None=0]="None",s[s.Metadata=1]="Metadata",s[s.Holder=2]="Holder",s[s.MetadataDelegate=3]="MetadataDelegate",s[s.TokenDelegate=4]="TokenDelegate"})(t=n.AuthorityType||(n.AuthorityType={}));function r(){return(0,e.scalarEnum)(t,{description:"AuthorityType"})}n.getAuthorityTypeSerializer=r})(pBe);var $5={};Object.defineProperty($5,"__esModule",{value:!0});$5.getAuthorizationDataSerializer=void 0;const ykt=H,pkt=ht;function bkt(){return(0,ykt.struct)([["payload",(0,pkt.getPayloadSerializer)()]],{description:"AuthorizationData"})}$5.getAuthorizationDataSerializer=bkt;var sb={};Object.defineProperty(sb,"__esModule",{value:!0});sb.isBurnArgs=sb.burnArgs=sb.getBurnArgsSerializer=void 0;const B3=H;function Skt(){return(0,B3.dataEnum)([["V1",(0,B3.mapSerializer)((0,B3.struct)([["amount",(0,B3.u64)()]]),n=>({...n,amount:n.amount??1}))]],{description:"BurnArgs"})}sb.getBurnArgsSerializer=Skt;function kkt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}sb.burnArgs=kkt;function vkt(n,e){return e.__kind===n}sb.isBurnArgs=vkt;var D5={};Object.defineProperty(D5,"__esModule",{value:!0});D5.getCollectionSerializer=void 0;const i7=H;function Akt(){return(0,i7.struct)([["verified",(0,i7.bool)()],["key",(0,i7.publicKey)()]],{description:"Collection"})}D5.getCollectionSerializer=Akt;var ib={};Object.defineProperty(ib,"__esModule",{value:!0});ib.isCollectionDetails=ib.collectionDetails=ib.getCollectionDetailsSerializer=void 0;const Gv=H;function wkt(){return(0,Gv.dataEnum)([["V1",(0,Gv.struct)([["size",(0,Gv.u64)()]])],["V2",(0,Gv.struct)([["padding",(0,Gv.array)((0,Gv.u8)(),{size:8})]])]],{description:"CollectionDetails"})}ib.getCollectionDetailsSerializer=wkt;function Ikt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}ib.collectionDetails=Ikt;function _kt(n,e){return e.__kind===n}ib.isCollectionDetails=_kt;var ob={};Object.defineProperty(ob,"__esModule",{value:!0});ob.isCollectionDetailsToggle=ob.collectionDetailsToggle=ob.getCollectionDetailsToggleSerializer=void 0;const yB=H,Pkt=ht;function Ekt(){return(0,yB.dataEnum)([["None",(0,yB.unit)()],["Clear",(0,yB.unit)()],["Set",(0,yB.struct)([["fields",(0,yB.tuple)([(0,Pkt.getCollectionDetailsSerializer)()])]])]],{description:"CollectionDetailsToggle"})}ob.getCollectionDetailsToggleSerializer=Ekt;function xkt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}ob.collectionDetailsToggle=xkt;function Tkt(n,e){return e.__kind===n}ob.isCollectionDetailsToggle=Tkt;var ab={};Object.defineProperty(ab,"__esModule",{value:!0});ab.isCollectionToggle=ab.collectionToggle=ab.getCollectionToggleSerializer=void 0;const pB=H,Rkt=ht;function Bkt(){return(0,pB.dataEnum)([["None",(0,pB.unit)()],["Clear",(0,pB.unit)()],["Set",(0,pB.struct)([["fields",(0,pB.tuple)([(0,Rkt.getCollectionSerializer)()])]])]],{description:"CollectionToggle"})}ab.getCollectionToggleSerializer=Bkt;function Ckt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}ab.collectionToggle=Ckt;function Mkt(n,e){return e.__kind===n}ab.isCollectionToggle=Mkt;var cb={};Object.defineProperty(cb,"__esModule",{value:!0});cb.isCreateArgs=cb.createArgs=cb.getCreateArgsSerializer=void 0;const t1=Z,Sa=H,Yv=ht;function zkt(){return(0,Sa.dataEnum)([["V1",(0,Sa.mapSerializer)((0,Sa.struct)([["name",(0,Sa.string)()],["symbol",(0,Sa.string)()],["uri",(0,Sa.string)()],["sellerFeeBasisPoints",(0,t1.mapAmountSerializer)((0,Sa.u16)(),"%",2)],["creators",(0,Sa.option)((0,Sa.array)((0,Yv.getCreatorSerializer)()))],["primarySaleHappened",(0,Sa.bool)()],["isMutable",(0,Sa.bool)()],["tokenStandard",(0,Yv.getTokenStandardSerializer)()],["collection",(0,Sa.option)((0,Yv.getCollectionSerializer)())],["uses",(0,Sa.option)((0,Yv.getUsesSerializer)())],["collectionDetails",(0,Sa.option)((0,Yv.getCollectionDetailsSerializer)())],["ruleSet",(0,Sa.option)((0,Sa.publicKey)())],["decimals",(0,Sa.option)((0,Sa.u8)())],["printSupply",(0,Sa.option)((0,Yv.getPrintSupplySerializer)())]]),n=>({...n,symbol:n.symbol??"",primarySaleHappened:n.primarySaleHappened??!1,isMutable:n.isMutable??!0,collection:n.collection??(0,t1.none)(),uses:n.uses??(0,t1.none)(),collectionDetails:n.collectionDetails??(0,t1.none)(),ruleSet:n.ruleSet??(0,t1.none)(),decimals:n.decimals??(0,t1.none)(),printSupply:n.printSupply??(0,t1.none)()}))]],{description:"CreateArgs"})}cb.getCreateArgsSerializer=zkt;function $kt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}cb.createArgs=$kt;function Dkt(n,e){return e.__kind===n}cb.isCreateArgs=Dkt;var O5={};Object.defineProperty(O5,"__esModule",{value:!0});O5.getCreatorSerializer=void 0;const C3=H;function Okt(){return(0,C3.struct)([["address",(0,C3.publicKey)()],["verified",(0,C3.bool)()],["share",(0,C3.u8)()]],{description:"Creator"})}O5.getCreatorSerializer=Okt;var L5={};Object.defineProperty(L5,"__esModule",{value:!0});L5.getDataSerializer=void 0;const r1=H,Lkt=ht;function Kkt(){return(0,r1.struct)([["name",(0,r1.string)()],["symbol",(0,r1.string)()],["uri",(0,r1.string)()],["sellerFeeBasisPoints",(0,r1.u16)()],["creators",(0,r1.option)((0,r1.array)((0,Lkt.getCreatorSerializer)()))]],{description:"Data"})}L5.getDataSerializer=Kkt;var K5={};Object.defineProperty(K5,"__esModule",{value:!0});K5.getDataV2Serializer=void 0;const Cg=H,o7=ht;function Wkt(){return(0,Cg.struct)([["name",(0,Cg.string)()],["symbol",(0,Cg.string)()],["uri",(0,Cg.string)()],["sellerFeeBasisPoints",(0,Cg.u16)()],["creators",(0,Cg.option)((0,Cg.array)((0,o7.getCreatorSerializer)()))],["collection",(0,Cg.option)((0,o7.getCollectionSerializer)())],["uses",(0,Cg.option)((0,o7.getUsesSerializer)())]],{description:"DataV2"})}K5.getDataV2Serializer=Wkt;var ub={};Object.defineProperty(ub,"__esModule",{value:!0});ub.isDelegateArgs=ub.delegateArgs=ub.getDelegateArgsSerializer=void 0;const ll=Z,Er=H,dl=ht;function Nkt(){return(0,Er.dataEnum)([["CollectionV1",(0,Er.mapSerializer)((0,Er.struct)([["authorizationData",(0,Er.option)((0,dl.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,ll.none)()}))],["SaleV1",(0,Er.mapSerializer)((0,Er.struct)([["amount",(0,Er.u64)()],["authorizationData",(0,Er.option)((0,dl.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,ll.none)()}))],["TransferV1",(0,Er.mapSerializer)((0,Er.struct)([["amount",(0,Er.u64)()],["authorizationData",(0,Er.option)((0,dl.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,ll.none)()}))],["DataV1",(0,Er.mapSerializer)((0,Er.struct)([["authorizationData",(0,Er.option)((0,dl.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,ll.none)()}))],["UtilityV1",(0,Er.mapSerializer)((0,Er.struct)([["amount",(0,Er.u64)()],["authorizationData",(0,Er.option)((0,dl.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,ll.none)()}))],["StakingV1",(0,Er.mapSerializer)((0,Er.struct)([["amount",(0,Er.u64)()],["authorizationData",(0,Er.option)((0,dl.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,ll.none)()}))],["StandardV1",(0,Er.mapSerializer)((0,Er.struct)([["amount",(0,Er.u64)()]]),n=>({...n,amount:n.amount??1}))],["LockedTransferV1",(0,Er.mapSerializer)((0,Er.struct)([["amount",(0,Er.u64)()],["lockedAddress",(0,Er.publicKey)()],["authorizationData",(0,Er.option)((0,dl.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,ll.none)()}))],["ProgrammableConfigV1",(0,Er.mapSerializer)((0,Er.struct)([["authorizationData",(0,Er.option)((0,dl.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,ll.none)()}))],["AuthorityItemV1",(0,Er.mapSerializer)((0,Er.struct)([["authorizationData",(0,Er.option)((0,dl.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,ll.none)()}))],["DataItemV1",(0,Er.mapSerializer)((0,Er.struct)([["authorizationData",(0,Er.option)((0,dl.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,ll.none)()}))],["CollectionItemV1",(0,Er.mapSerializer)((0,Er.struct)([["authorizationData",(0,Er.option)((0,dl.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,ll.none)()}))],["ProgrammableConfigItemV1",(0,Er.mapSerializer)((0,Er.struct)([["authorizationData",(0,Er.option)((0,dl.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,ll.none)()}))],["PrintDelegateV1",(0,Er.mapSerializer)((0,Er.struct)([["authorizationData",(0,Er.option)((0,dl.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,ll.none)()}))]],{description:"DelegateArgs"})}ub.getDelegateArgsSerializer=Nkt;function Fkt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}ub.delegateArgs=Fkt;function Ukt(n,e){return e.__kind===n}ub.isDelegateArgs=Ukt;var lb={};Object.defineProperty(lb,"__esModule",{value:!0});lb.isEscrowAuthority=lb.escrowAuthority=lb.getEscrowAuthoritySerializer=void 0;const bB=H;function Vkt(){return(0,bB.dataEnum)([["TokenOwner",(0,bB.unit)()],["Creator",(0,bB.struct)([["fields",(0,bB.tuple)([(0,bB.publicKey)()])]])]],{description:"EscrowAuthority"})}lb.getEscrowAuthoritySerializer=Vkt;function qkt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}lb.escrowAuthority=qkt;function Hkt(n,e){return e.__kind===n}lb.isEscrowAuthority=Hkt;var Wte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getHolderDelegateRoleSerializer=n.HolderDelegateRole=void 0;const e=H;var t;(function(s){s[s.PrintDelegate=0]="PrintDelegate"})(t=n.HolderDelegateRole||(n.HolderDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"HolderDelegateRole"})}n.getHolderDelegateRoleSerializer=r})(Wte);var bBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getKeySerializer=n.Key=void 0;const e=H;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.EditionV1=1]="EditionV1",s[s.MasterEditionV1=2]="MasterEditionV1",s[s.ReservationListV1=3]="ReservationListV1",s[s.MetadataV1=4]="MetadataV1",s[s.ReservationListV2=5]="ReservationListV2",s[s.MasterEditionV2=6]="MasterEditionV2",s[s.EditionMarker=7]="EditionMarker",s[s.UseAuthorityRecord=8]="UseAuthorityRecord",s[s.CollectionAuthorityRecord=9]="CollectionAuthorityRecord",s[s.TokenOwnedEscrow=10]="TokenOwnedEscrow",s[s.TokenRecord=11]="TokenRecord",s[s.MetadataDelegate=12]="MetadataDelegate",s[s.EditionMarkerV2=13]="EditionMarkerV2",s[s.HolderDelegate=14]="HolderDelegate"})(t=n.Key||(n.Key={}));function r(){return(0,e.scalarEnum)(t,{description:"Key"})}n.getKeySerializer=r})(bBe);var db={};Object.defineProperty(db,"__esModule",{value:!0});db.isLockArgs=db.lockArgs=db.getLockArgsSerializer=void 0;const jkt=Z,M3=H,Gkt=ht;function Ykt(){return(0,M3.dataEnum)([["V1",(0,M3.mapSerializer)((0,M3.struct)([["authorizationData",(0,M3.option)((0,Gkt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,jkt.none)()}))]],{description:"LockArgs"})}db.getLockArgsSerializer=Ykt;function Zkt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}db.lockArgs=Zkt;function Jkt(n,e){return e.__kind===n}db.isLockArgs=Jkt;var Nte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMetadataDelegateRoleSerializer=n.MetadataDelegateRole=void 0;const e=H;var t;(function(s){s[s.AuthorityItem=0]="AuthorityItem",s[s.Collection=1]="Collection",s[s.Use=2]="Use",s[s.Data=3]="Data",s[s.ProgrammableConfig=4]="ProgrammableConfig",s[s.DataItem=5]="DataItem",s[s.CollectionItem=6]="CollectionItem",s[s.ProgrammableConfigItem=7]="ProgrammableConfigItem"})(t=n.MetadataDelegateRole||(n.MetadataDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"MetadataDelegateRole"})}n.getMetadataDelegateRoleSerializer=r})(Nte);var SBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMigrationTypeSerializer=n.MigrationType=void 0;const e=H;var t;(function(s){s[s.CollectionV1=0]="CollectionV1",s[s.ProgrammableV1=1]="ProgrammableV1"})(t=n.MigrationType||(n.MigrationType={}));function r(){return(0,e.scalarEnum)(t,{description:"MigrationType"})}n.getMigrationTypeSerializer=r})(SBe);var fb={};Object.defineProperty(fb,"__esModule",{value:!0});fb.isMintArgs=fb.mintArgs=fb.getMintArgsSerializer=void 0;const Xkt=Z,SB=H,Qkt=ht;function evt(){return(0,SB.dataEnum)([["V1",(0,SB.mapSerializer)((0,SB.struct)([["amount",(0,SB.u64)()],["authorizationData",(0,SB.option)((0,Qkt.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Xkt.none)()}))]],{description:"MintArgs"})}fb.getMintArgsSerializer=evt;function tvt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}fb.mintArgs=tvt;function rvt(n,e){return e.__kind===n}fb.isMintArgs=rvt;var W5={};Object.defineProperty(W5,"__esModule",{value:!0});W5.getMintNewEditionFromMasterEditionViaTokenArgsSerializer=void 0;const Dbe=H;function nvt(){return(0,Dbe.struct)([["edition",(0,Dbe.u64)()]],{description:"MintNewEditionFromMasterEditionViaTokenArgs"})}W5.getMintNewEditionFromMasterEditionViaTokenArgsSerializer=nvt;var N5={};Object.defineProperty(N5,"__esModule",{value:!0});N5.getPayloadSerializer=void 0;const a7=H,svt=ht;function ivt(){return(0,a7.struct)([["map",(0,a7.map)((0,a7.string)(),(0,svt.getPayloadTypeSerializer)())]],{description:"Payload"})}N5.getPayloadSerializer=ivt;var kBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPayloadKeySerializer=n.PayloadKey=void 0;const e=H;var t;(function(s){s[s.Amount=0]="Amount",s[s.Authority=1]="Authority",s[s.AuthoritySeeds=2]="AuthoritySeeds",s[s.Delegate=3]="Delegate",s[s.DelegateSeeds=4]="DelegateSeeds",s[s.Destination=5]="Destination",s[s.DestinationSeeds=6]="DestinationSeeds",s[s.Holder=7]="Holder",s[s.Source=8]="Source",s[s.SourceSeeds=9]="SourceSeeds"})(t=n.PayloadKey||(n.PayloadKey={}));function r(){return(0,e.scalarEnum)(t,{description:"PayloadKey"})}n.getPayloadKeySerializer=r})(kBe);var hb={};Object.defineProperty(hb,"__esModule",{value:!0});hb.isPayloadType=hb.payloadType=hb.getPayloadTypeSerializer=void 0;const Ed=H,Obe=ht;function ovt(){return(0,Ed.dataEnum)([["Pubkey",(0,Ed.struct)([["fields",(0,Ed.tuple)([(0,Ed.publicKey)()])]])],["Seeds",(0,Ed.struct)([["fields",(0,Ed.tuple)([(0,Obe.getSeedsVecSerializer)()])]])],["MerkleProof",(0,Ed.struct)([["fields",(0,Ed.tuple)([(0,Obe.getProofInfoSerializer)()])]])],["Number",(0,Ed.struct)([["fields",(0,Ed.tuple)([(0,Ed.u64)()])]])]],{description:"PayloadType"})}hb.getPayloadTypeSerializer=ovt;function avt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}hb.payloadType=avt;function cvt(n,e){return e.__kind===n}hb.isPayloadType=cvt;var gb={};Object.defineProperty(gb,"__esModule",{value:!0});gb.isPrintArgs=gb.printArgs=gb.getPrintArgsSerializer=void 0;const kB=H;function uvt(){return(0,kB.dataEnum)([["V1",(0,kB.struct)([["edition",(0,kB.u64)()]])],["V2",(0,kB.struct)([["edition",(0,kB.u64)()]])]],{description:"PrintArgs"})}gb.getPrintArgsSerializer=uvt;function lvt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}gb.printArgs=lvt;function dvt(n,e){return e.__kind===n}gb.isPrintArgs=dvt;var mb={};Object.defineProperty(mb,"__esModule",{value:!0});mb.isPrintSupply=mb.printSupply=mb.getPrintSupplySerializer=void 0;const Zv=H;function fvt(){return(0,Zv.dataEnum)([["Zero",(0,Zv.unit)()],["Limited",(0,Zv.struct)([["fields",(0,Zv.tuple)([(0,Zv.u64)()])]])],["Unlimited",(0,Zv.unit)()]],{description:"PrintSupply"})}mb.getPrintSupplySerializer=fvt;function hvt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}mb.printSupply=hvt;function gvt(n,e){return e.__kind===n}mb.isPrintSupply=gvt;var yb={};Object.defineProperty(yb,"__esModule",{value:!0});yb.isProgrammableConfig=yb.programmableConfig=yb.getProgrammableConfigSerializer=void 0;const z3=H;function mvt(){return(0,z3.dataEnum)([["V1",(0,z3.struct)([["ruleSet",(0,z3.option)((0,z3.publicKey)())]])]],{description:"ProgrammableConfig"})}yb.getProgrammableConfigSerializer=mvt;function yvt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}yb.programmableConfig=yvt;function pvt(n,e){return e.__kind===n}yb.isProgrammableConfig=pvt;var F5={};Object.defineProperty(F5,"__esModule",{value:!0});F5.getProofInfoSerializer=void 0;const c7=H;function bvt(){return(0,c7.struct)([["proof",(0,c7.array)((0,c7.bytes)({size:32}))]],{description:"ProofInfo"})}F5.getProofInfoSerializer=bvt;var U5={};Object.defineProperty(U5,"__esModule",{value:!0});U5.getReservationSerializer=void 0;const $3=H;function Svt(){return(0,$3.struct)([["address",(0,$3.publicKey)()],["spotsRemaining",(0,$3.u64)()],["totalSpots",(0,$3.u64)()]],{description:"Reservation"})}U5.getReservationSerializer=Svt;var V5={};Object.defineProperty(V5,"__esModule",{value:!0});V5.getReservationV1Serializer=void 0;const D3=H;function kvt(){return(0,D3.struct)([["address",(0,D3.publicKey)()],["spotsRemaining",(0,D3.u8)()],["totalSpots",(0,D3.u8)()]],{description:"ReservationV1"})}V5.getReservationV1Serializer=kvt;var vBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRevokeArgsSerializer=n.RevokeArgs=void 0;const e=H;var t;(function(s){s[s.CollectionV1=0]="CollectionV1",s[s.SaleV1=1]="SaleV1",s[s.TransferV1=2]="TransferV1",s[s.DataV1=3]="DataV1",s[s.UtilityV1=4]="UtilityV1",s[s.StakingV1=5]="StakingV1",s[s.StandardV1=6]="StandardV1",s[s.LockedTransferV1=7]="LockedTransferV1",s[s.ProgrammableConfigV1=8]="ProgrammableConfigV1",s[s.MigrationV1=9]="MigrationV1",s[s.AuthorityItemV1=10]="AuthorityItemV1",s[s.DataItemV1=11]="DataItemV1",s[s.CollectionItemV1=12]="CollectionItemV1",s[s.ProgrammableConfigItemV1=13]="ProgrammableConfigItemV1",s[s.PrintDelegateV1=14]="PrintDelegateV1"})(t=n.RevokeArgs||(n.RevokeArgs={}));function r(){return(0,e.scalarEnum)(t,{description:"RevokeArgs"})}n.getRevokeArgsSerializer=r})(vBe);var pb={};Object.defineProperty(pb,"__esModule",{value:!0});pb.isRuleSetToggle=pb.ruleSetToggle=pb.getRuleSetToggleSerializer=void 0;const Jv=H;function vvt(){return(0,Jv.dataEnum)([["None",(0,Jv.unit)()],["Clear",(0,Jv.unit)()],["Set",(0,Jv.struct)([["fields",(0,Jv.tuple)([(0,Jv.publicKey)()])]])]],{description:"RuleSetToggle"})}pb.getRuleSetToggleSerializer=vvt;function Avt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}pb.ruleSetToggle=Avt;function wvt(n,e){return e.__kind===n}pb.isRuleSetToggle=wvt;var q5={};Object.defineProperty(q5,"__esModule",{value:!0});q5.getSeedsVecSerializer=void 0;const O3=H;function Ivt(){return(0,O3.struct)([["seeds",(0,O3.array)((0,O3.bytes)({size:(0,O3.u32)()}))]],{description:"SeedsVec"})}q5.getSeedsVecSerializer=Ivt;var H5={};Object.defineProperty(H5,"__esModule",{value:!0});H5.getSetCollectionSizeArgsSerializer=void 0;const Lbe=H;function _vt(){return(0,Lbe.struct)([["size",(0,Lbe.u64)()]],{description:"SetCollectionSizeArgs"})}H5.getSetCollectionSizeArgsSerializer=_vt;var ABe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenDelegateRoleSerializer=n.TokenDelegateRole=void 0;const e=H;var t;(function(s){s[s.Sale=0]="Sale",s[s.Transfer=1]="Transfer",s[s.Utility=2]="Utility",s[s.Staking=3]="Staking",s[s.Standard=4]="Standard",s[s.LockedTransfer=5]="LockedTransfer",s[s.Migration=6]="Migration"})(t=n.TokenDelegateRole||(n.TokenDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenDelegateRole"})}n.getTokenDelegateRoleSerializer=r})(ABe);var wBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStandardSerializer=n.TokenStandard=void 0;const e=H;var t;(function(s){s[s.NonFungible=0]="NonFungible",s[s.FungibleAsset=1]="FungibleAsset",s[s.Fungible=2]="Fungible",s[s.NonFungibleEdition=3]="NonFungibleEdition",s[s.ProgrammableNonFungible=4]="ProgrammableNonFungible",s[s.ProgrammableNonFungibleEdition=5]="ProgrammableNonFungibleEdition"})(t=n.TokenStandard||(n.TokenStandard={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenStandard"})}n.getTokenStandardSerializer=r})(wBe);var IBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStateSerializer=n.TokenState=void 0;const e=H;var t;(function(s){s[s.Unlocked=0]="Unlocked",s[s.Locked=1]="Locked",s[s.Listed=2]="Listed"})(t=n.TokenState||(n.TokenState={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenState"})}n.getTokenStateSerializer=r})(IBe);var bb={};Object.defineProperty(bb,"__esModule",{value:!0});bb.isTransferArgs=bb.transferArgs=bb.getTransferArgsSerializer=void 0;const Pvt=Z,vB=H,Evt=ht;function xvt(){return(0,vB.dataEnum)([["V1",(0,vB.mapSerializer)((0,vB.struct)([["amount",(0,vB.u64)()],["authorizationData",(0,vB.option)((0,Evt.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Pvt.none)()}))]],{description:"TransferArgs"})}bb.getTransferArgsSerializer=xvt;function Tvt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}bb.transferArgs=Tvt;function Rvt(n,e){return e.__kind===n}bb.isTransferArgs=Rvt;var Sb={};Object.defineProperty(Sb,"__esModule",{value:!0});Sb.isUnlockArgs=Sb.unlockArgs=Sb.getUnlockArgsSerializer=void 0;const Bvt=Z,L3=H,Cvt=ht;function Mvt(){return(0,L3.dataEnum)([["V1",(0,L3.mapSerializer)((0,L3.struct)([["authorizationData",(0,L3.option)((0,Cvt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Bvt.none)()}))]],{description:"UnlockArgs"})}Sb.getUnlockArgsSerializer=Mvt;function zvt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Sb.unlockArgs=zvt;function $vt(n,e){return e.__kind===n}Sb.isUnlockArgs=$vt;var kb={};Object.defineProperty(kb,"__esModule",{value:!0});kb.isUpdateArgs=kb.updateArgs=kb.getUpdateArgsSerializer=void 0;const yi=Z,yr=H,vn=ht;function Dvt(){return(0,yr.dataEnum)([["V1",(0,yr.mapSerializer)((0,yr.struct)([["newUpdateAuthority",(0,yr.option)((0,yr.publicKey)())],["data",(0,yr.option)((0,vn.getDataSerializer)())],["primarySaleHappened",(0,yr.option)((0,yr.bool)())],["isMutable",(0,yr.option)((0,yr.bool)())],["collection",(0,vn.getCollectionToggleSerializer)()],["collectionDetails",(0,vn.getCollectionDetailsToggleSerializer)()],["uses",(0,vn.getUsesToggleSerializer)()],["ruleSet",(0,vn.getRuleSetToggleSerializer)()],["authorizationData",(0,yr.option)((0,vn.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,yi.none)(),data:n.data??(0,yi.none)(),primarySaleHappened:n.primarySaleHappened??(0,yi.none)(),isMutable:n.isMutable??(0,yi.none)(),collection:n.collection??(0,vn.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,vn.collectionDetailsToggle)("None"),uses:n.uses??(0,vn.usesToggle)("None"),ruleSet:n.ruleSet??(0,vn.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,yi.none)()}))],["AsUpdateAuthorityV2",(0,yr.mapSerializer)((0,yr.struct)([["newUpdateAuthority",(0,yr.option)((0,yr.publicKey)())],["data",(0,yr.option)((0,vn.getDataSerializer)())],["primarySaleHappened",(0,yr.option)((0,yr.bool)())],["isMutable",(0,yr.option)((0,yr.bool)())],["collection",(0,vn.getCollectionToggleSerializer)()],["collectionDetails",(0,vn.getCollectionDetailsToggleSerializer)()],["uses",(0,vn.getUsesToggleSerializer)()],["ruleSet",(0,vn.getRuleSetToggleSerializer)()],["tokenStandard",(0,yr.option)((0,vn.getTokenStandardSerializer)())],["authorizationData",(0,yr.option)((0,vn.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,yi.none)(),data:n.data??(0,yi.none)(),primarySaleHappened:n.primarySaleHappened??(0,yi.none)(),isMutable:n.isMutable??(0,yi.none)(),collection:n.collection??(0,vn.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,vn.collectionDetailsToggle)("None"),uses:n.uses??(0,vn.usesToggle)("None"),ruleSet:n.ruleSet??(0,vn.ruleSetToggle)("None"),tokenStandard:n.tokenStandard??(0,yi.none)(),authorizationData:n.authorizationData??(0,yi.none)()}))],["AsAuthorityItemDelegateV2",(0,yr.mapSerializer)((0,yr.struct)([["newUpdateAuthority",(0,yr.option)((0,yr.publicKey)())],["primarySaleHappened",(0,yr.option)((0,yr.bool)())],["isMutable",(0,yr.option)((0,yr.bool)())],["tokenStandard",(0,yr.option)((0,vn.getTokenStandardSerializer)())],["authorizationData",(0,yr.option)((0,vn.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,yi.none)(),primarySaleHappened:n.primarySaleHappened??(0,yi.none)(),isMutable:n.isMutable??(0,yi.none)(),tokenStandard:n.tokenStandard??(0,yi.none)(),authorizationData:n.authorizationData??(0,yi.none)()}))],["AsCollectionDelegateV2",(0,yr.mapSerializer)((0,yr.struct)([["collection",(0,vn.getCollectionToggleSerializer)()],["authorizationData",(0,yr.option)((0,vn.getAuthorizationDataSerializer)())]]),n=>({...n,collection:n.collection??(0,vn.collectionToggle)("None"),authorizationData:n.authorizationData??(0,yi.none)()}))],["AsDataDelegateV2",(0,yr.mapSerializer)((0,yr.struct)([["data",(0,yr.option)((0,vn.getDataSerializer)())],["authorizationData",(0,yr.option)((0,vn.getAuthorizationDataSerializer)())]]),n=>({...n,data:n.data??(0,yi.none)(),authorizationData:n.authorizationData??(0,yi.none)()}))],["AsProgrammableConfigDelegateV2",(0,yr.mapSerializer)((0,yr.struct)([["ruleSet",(0,vn.getRuleSetToggleSerializer)()],["authorizationData",(0,yr.option)((0,vn.getAuthorizationDataSerializer)())]]),n=>({...n,ruleSet:n.ruleSet??(0,vn.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,yi.none)()}))],["AsDataItemDelegateV2",(0,yr.mapSerializer)((0,yr.struct)([["data",(0,yr.option)((0,vn.getDataSerializer)())],["authorizationData",(0,yr.option)((0,vn.getAuthorizationDataSerializer)())]]),n=>({...n,data:n.data??(0,yi.none)(),authorizationData:n.authorizationData??(0,yi.none)()}))],["AsCollectionItemDelegateV2",(0,yr.mapSerializer)((0,yr.struct)([["collection",(0,vn.getCollectionToggleSerializer)()],["authorizationData",(0,yr.option)((0,vn.getAuthorizationDataSerializer)())]]),n=>({...n,collection:n.collection??(0,vn.collectionToggle)("None"),authorizationData:n.authorizationData??(0,yi.none)()}))],["AsProgrammableConfigItemDelegateV2",(0,yr.mapSerializer)((0,yr.struct)([["ruleSet",(0,vn.getRuleSetToggleSerializer)()],["authorizationData",(0,yr.option)((0,vn.getAuthorizationDataSerializer)())]]),n=>({...n,ruleSet:n.ruleSet??(0,vn.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,yi.none)()}))]],{description:"UpdateArgs"})}kb.getUpdateArgsSerializer=Dvt;function Ovt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}kb.updateArgs=Ovt;function Lvt(n,e){return e.__kind===n}kb.isUpdateArgs=Lvt;var vb={};Object.defineProperty(vb,"__esModule",{value:!0});vb.isUseArgs=vb.useArgs=vb.getUseArgsSerializer=void 0;const Kvt=Z,K3=H,Wvt=ht;function Nvt(){return(0,K3.dataEnum)([["V1",(0,K3.mapSerializer)((0,K3.struct)([["authorizationData",(0,K3.option)((0,Wvt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Kvt.none)()}))]],{description:"UseArgs"})}vb.getUseArgsSerializer=Nvt;function Fvt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}vb.useArgs=Fvt;function Uvt(n,e){return e.__kind===n}vb.isUseArgs=Uvt;var _Be={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getUseMethodSerializer=n.UseMethod=void 0;const e=H;var t;(function(s){s[s.Burn=0]="Burn",s[s.Multiple=1]="Multiple",s[s.Single=2]="Single"})(t=n.UseMethod||(n.UseMethod={}));function r(){return(0,e.scalarEnum)(t,{description:"UseMethod"})}n.getUseMethodSerializer=r})(_Be);var j5={};Object.defineProperty(j5,"__esModule",{value:!0});j5.getUsesSerializer=void 0;const u7=H,Vvt=ht;function qvt(){return(0,u7.struct)([["useMethod",(0,Vvt.getUseMethodSerializer)()],["remaining",(0,u7.u64)()],["total",(0,u7.u64)()]],{description:"Uses"})}j5.getUsesSerializer=qvt;var Ab={};Object.defineProperty(Ab,"__esModule",{value:!0});Ab.isUsesToggle=Ab.usesToggle=Ab.getUsesToggleSerializer=void 0;const AB=H,Hvt=ht;function jvt(){return(0,AB.dataEnum)([["None",(0,AB.unit)()],["Clear",(0,AB.unit)()],["Set",(0,AB.struct)([["fields",(0,AB.tuple)([(0,Hvt.getUsesSerializer)()])]])]],{description:"UsesToggle"})}Ab.getUsesToggleSerializer=jvt;function Gvt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Ab.usesToggle=Gvt;function Yvt(n,e){return e.__kind===n}Ab.isUsesToggle=Yvt;var PBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getVerificationArgsSerializer=n.VerificationArgs=void 0;const e=H;var t;(function(s){s[s.CreatorV1=0]="CreatorV1",s[s.CollectionV1=1]="CollectionV1"})(t=n.VerificationArgs||(n.VerificationArgs={}));function r(){return(0,e.scalarEnum)(t,{description:"VerificationArgs"})}n.getVerificationArgsSerializer=r})(PBe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(pBe,n),t($5,n),t(sb,n),t(D5,n),t(ib,n),t(ob,n),t(ab,n),t(cb,n),t(O5,n),t(L5,n),t(K5,n),t(ub,n),t(lb,n),t(Wte,n),t(bBe,n),t(db,n),t(Nte,n),t(SBe,n),t(fb,n),t(W5,n),t(N5,n),t(kBe,n),t(hb,n),t(gb,n),t(mb,n),t(yb,n),t(F5,n),t(U5,n),t(V5,n),t(vBe,n),t(pb,n),t(q5,n),t(H5,n),t(ABe,n),t(wBe,n),t(IBe,n),t(bb,n),t(Sb,n),t(kb,n),t(vb,n),t(_Be,n),t(j5,n),t(Ab,n),t(PBe,n)})(ht);Object.defineProperty(Fo,"__esModule",{value:!0});Fo.safeFetchCollectionAuthorityRecordFromSeeds=Fo.fetchCollectionAuthorityRecordFromSeeds=Fo.findCollectionAuthorityRecordPda=Fo.getCollectionAuthorityRecordGpaBuilder=Fo.safeFetchAllCollectionAuthorityRecord=Fo.fetchAllCollectionAuthorityRecord=Fo.safeFetchCollectionAuthorityRecord=Fo.fetchCollectionAuthorityRecord=Fo.deserializeCollectionAuthorityRecord=Fo.getCollectionAuthorityRecordAccountDataSerializer=void 0;const o0=Z,Ml=H,K4=ht;function EBe(){return(0,Ml.mapSerializer)((0,Ml.struct)([["key",(0,K4.getKeySerializer)()],["bump",(0,Ml.u8)()],["updateAuthority",(0,Ml.option)((0,Ml.publicKey)())]],{description:"CollectionAuthorityRecordAccountData"}),n=>({...n,key:K4.Key.CollectionAuthorityRecord}))}Fo.getCollectionAuthorityRecordAccountDataSerializer=EBe;function JR(n){return(0,o0.deserializeAccount)(n,EBe())}Fo.deserializeCollectionAuthorityRecord=JR;async function xBe(n,e,t){const r=await n.rpc.getAccount((0,o0.publicKey)(e,!1),t);return(0,o0.assertAccountExists)(r,"CollectionAuthorityRecord"),JR(r)}Fo.fetchCollectionAuthorityRecord=xBe;async function TBe(n,e,t){const r=await n.rpc.getAccount((0,o0.publicKey)(e,!1),t);return r.exists?JR(r):null}Fo.safeFetchCollectionAuthorityRecord=TBe;async function Zvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,o0.publicKey)(s,!1)),t)).map(s=>((0,o0.assertAccountExists)(s,"CollectionAuthorityRecord"),JR(s)))}Fo.fetchAllCollectionAuthorityRecord=Zvt;async function Jvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,o0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>JR(s))}Fo.safeFetchAllCollectionAuthorityRecord=Jvt;function Xvt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,o0.gpaBuilder)(n,e).registerFields({key:[0,(0,K4.getKeySerializer)()],bump:[1,(0,Ml.u8)()],updateAuthority:[2,(0,Ml.option)((0,Ml.publicKey)())]}).deserializeUsing(t=>JR(t)).whereField("key",K4.Key.CollectionAuthorityRecord)}Fo.getCollectionAuthorityRecordGpaBuilder=Xvt;function Fte(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Ml.string)({size:"variable"}).serialize("metadata"),(0,Ml.publicKey)().serialize(t),(0,Ml.publicKey)().serialize(e.mint),(0,Ml.string)({size:"variable"}).serialize("collection_authority"),(0,Ml.publicKey)().serialize(e.collectionAuthority)])}Fo.findCollectionAuthorityRecordPda=Fte;async function Qvt(n,e,t){return xBe(n,Fte(n,e),t)}Fo.fetchCollectionAuthorityRecordFromSeeds=Qvt;async function eAt(n,e,t){return TBe(n,Fte(n,e),t)}Fo.safeFetchCollectionAuthorityRecordFromSeeds=eAt;var Uo={};Object.defineProperty(Uo,"__esModule",{value:!0});Uo.safeFetchDeprecatedMasterEditionV1FromSeeds=Uo.fetchDeprecatedMasterEditionV1FromSeeds=Uo.findDeprecatedMasterEditionV1Pda=Uo.getDeprecatedMasterEditionV1GpaBuilder=Uo.safeFetchAllDeprecatedMasterEditionV1=Uo.fetchAllDeprecatedMasterEditionV1=Uo.safeFetchDeprecatedMasterEditionV1=Uo.fetchDeprecatedMasterEditionV1=Uo.deserializeDeprecatedMasterEditionV1=Uo.getDeprecatedMasterEditionV1AccountDataSerializer=void 0;const a0=Z,Zc=H,W4=ht;function RBe(){return(0,Zc.mapSerializer)((0,Zc.struct)([["key",(0,W4.getKeySerializer)()],["supply",(0,Zc.u64)()],["maxSupply",(0,Zc.option)((0,Zc.u64)())],["printingMint",(0,Zc.publicKey)()],["oneTimePrintingAuthorizationMint",(0,Zc.publicKey)()]],{description:"DeprecatedMasterEditionV1AccountData"}),n=>({...n,key:W4.Key.MasterEditionV1}))}Uo.getDeprecatedMasterEditionV1AccountDataSerializer=RBe;function XR(n){return(0,a0.deserializeAccount)(n,RBe())}Uo.deserializeDeprecatedMasterEditionV1=XR;async function BBe(n,e,t){const r=await n.rpc.getAccount((0,a0.publicKey)(e,!1),t);return(0,a0.assertAccountExists)(r,"DeprecatedMasterEditionV1"),XR(r)}Uo.fetchDeprecatedMasterEditionV1=BBe;async function CBe(n,e,t){const r=await n.rpc.getAccount((0,a0.publicKey)(e,!1),t);return r.exists?XR(r):null}Uo.safeFetchDeprecatedMasterEditionV1=CBe;async function tAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,a0.publicKey)(s,!1)),t)).map(s=>((0,a0.assertAccountExists)(s,"DeprecatedMasterEditionV1"),XR(s)))}Uo.fetchAllDeprecatedMasterEditionV1=tAt;async function rAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,a0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>XR(s))}Uo.safeFetchAllDeprecatedMasterEditionV1=rAt;function nAt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,a0.gpaBuilder)(n,e).registerFields({key:[0,(0,W4.getKeySerializer)()],supply:[1,(0,Zc.u64)()],maxSupply:[9,(0,Zc.option)((0,Zc.u64)())],printingMint:[null,(0,Zc.publicKey)()],oneTimePrintingAuthorizationMint:[null,(0,Zc.publicKey)()]}).deserializeUsing(t=>XR(t)).whereField("key",W4.Key.MasterEditionV1)}Uo.getDeprecatedMasterEditionV1GpaBuilder=nAt;function Ute(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Zc.string)({size:"variable"}).serialize("metadata"),(0,Zc.publicKey)().serialize(t),(0,Zc.publicKey)().serialize(e.mint),(0,Zc.string)({size:"variable"}).serialize("edition")])}Uo.findDeprecatedMasterEditionV1Pda=Ute;async function sAt(n,e,t){return BBe(n,Ute(n,e),t)}Uo.fetchDeprecatedMasterEditionV1FromSeeds=sAt;async function iAt(n,e,t){return CBe(n,Ute(n,e),t)}Uo.safeFetchDeprecatedMasterEditionV1FromSeeds=iAt;var sc={};Object.defineProperty(sc,"__esModule",{value:!0});sc.getEditionSize=sc.getEditionGpaBuilder=sc.safeFetchAllEdition=sc.fetchAllEdition=sc.safeFetchEdition=sc.fetchEdition=sc.deserializeEdition=sc.getEditionAccountDataSerializer=void 0;const c0=Z,ZA=H,N4=ht;function MBe(){return(0,ZA.mapSerializer)((0,ZA.struct)([["key",(0,N4.getKeySerializer)()],["parent",(0,ZA.publicKey)()],["edition",(0,ZA.u64)()]],{description:"EditionAccountData"}),n=>({...n,key:N4.Key.EditionV1}))}sc.getEditionAccountDataSerializer=MBe;function QR(n){return(0,c0.deserializeAccount)(n,MBe())}sc.deserializeEdition=QR;async function oAt(n,e,t){const r=await n.rpc.getAccount((0,c0.publicKey)(e,!1),t);return(0,c0.assertAccountExists)(r,"Edition"),QR(r)}sc.fetchEdition=oAt;async function aAt(n,e,t){const r=await n.rpc.getAccount((0,c0.publicKey)(e,!1),t);return r.exists?QR(r):null}sc.safeFetchEdition=aAt;async function cAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,c0.publicKey)(s,!1)),t)).map(s=>((0,c0.assertAccountExists)(s,"Edition"),QR(s)))}sc.fetchAllEdition=cAt;async function uAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,c0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>QR(s))}sc.safeFetchAllEdition=uAt;function lAt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,c0.gpaBuilder)(n,e).registerFields({key:[0,(0,N4.getKeySerializer)()],parent:[1,(0,ZA.publicKey)()],edition:[33,(0,ZA.u64)()]}).deserializeUsing(t=>QR(t)).whereField("key",N4.Key.EditionV1)}sc.getEditionGpaBuilder=lAt;function dAt(){return 41}sc.getEditionSize=dAt;var vi={};Object.defineProperty(vi,"__esModule",{value:!0});vi.safeFetchEditionMarkerFromSeeds=vi.fetchEditionMarkerFromSeeds=vi.findEditionMarkerPda=vi.getEditionMarkerSize=vi.getEditionMarkerGpaBuilder=vi.safeFetchAllEditionMarker=vi.fetchAllEditionMarker=vi.safeFetchEditionMarker=vi.fetchEditionMarker=vi.deserializeEditionMarker=vi.getEditionMarkerAccountDataSerializer=void 0;const u0=Z,Wd=H,F4=ht;function zBe(){return(0,Wd.mapSerializer)((0,Wd.struct)([["key",(0,F4.getKeySerializer)()],["ledger",(0,Wd.array)((0,Wd.u8)(),{size:31})]],{description:"EditionMarkerAccountData"}),n=>({...n,key:F4.Key.EditionMarker}))}vi.getEditionMarkerAccountDataSerializer=zBe;function e2(n){return(0,u0.deserializeAccount)(n,zBe())}vi.deserializeEditionMarker=e2;async function $Be(n,e,t){const r=await n.rpc.getAccount((0,u0.publicKey)(e,!1),t);return(0,u0.assertAccountExists)(r,"EditionMarker"),e2(r)}vi.fetchEditionMarker=$Be;async function DBe(n,e,t){const r=await n.rpc.getAccount((0,u0.publicKey)(e,!1),t);return r.exists?e2(r):null}vi.safeFetchEditionMarker=DBe;async function fAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,u0.publicKey)(s,!1)),t)).map(s=>((0,u0.assertAccountExists)(s,"EditionMarker"),e2(s)))}vi.fetchAllEditionMarker=fAt;async function hAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,u0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>e2(s))}vi.safeFetchAllEditionMarker=hAt;function gAt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,u0.gpaBuilder)(n,e).registerFields({key:[0,(0,F4.getKeySerializer)()],ledger:[1,(0,Wd.array)((0,Wd.u8)(),{size:31})]}).deserializeUsing(t=>e2(t)).whereField("key",F4.Key.EditionMarker)}vi.getEditionMarkerGpaBuilder=gAt;function mAt(){return 32}vi.getEditionMarkerSize=mAt;function Vte(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Wd.string)({size:"variable"}).serialize("metadata"),(0,Wd.publicKey)().serialize(t),(0,Wd.publicKey)().serialize(e.mint),(0,Wd.string)({size:"variable"}).serialize("edition"),(0,Wd.string)({size:"variable"}).serialize(e.editionMarker)])}vi.findEditionMarkerPda=Vte;async function yAt(n,e,t){return $Be(n,Vte(n,e),t)}vi.fetchEditionMarkerFromSeeds=yAt;async function pAt(n,e,t){return DBe(n,Vte(n,e),t)}vi.safeFetchEditionMarkerFromSeeds=pAt;var Vo={};Object.defineProperty(Vo,"__esModule",{value:!0});Vo.safeFetchEditionMarkerV2FromSeeds=Vo.fetchEditionMarkerV2FromSeeds=Vo.findEditionMarkerV2Pda=Vo.getEditionMarkerV2GpaBuilder=Vo.safeFetchAllEditionMarkerV2=Vo.fetchAllEditionMarkerV2=Vo.safeFetchEditionMarkerV2=Vo.fetchEditionMarkerV2=Vo.deserializeEditionMarkerV2=Vo.getEditionMarkerV2AccountDataSerializer=void 0;const l0=Z,vh=H,OBe=ht;function LBe(){return(0,vh.struct)([["key",(0,OBe.getKeySerializer)()],["ledger",(0,vh.bytes)({size:(0,vh.u32)()})]],{description:"EditionMarkerV2AccountData"})}Vo.getEditionMarkerV2AccountDataSerializer=LBe;function t2(n){return(0,l0.deserializeAccount)(n,LBe())}Vo.deserializeEditionMarkerV2=t2;async function KBe(n,e,t){const r=await n.rpc.getAccount((0,l0.publicKey)(e,!1),t);return(0,l0.assertAccountExists)(r,"EditionMarkerV2"),t2(r)}Vo.fetchEditionMarkerV2=KBe;async function WBe(n,e,t){const r=await n.rpc.getAccount((0,l0.publicKey)(e,!1),t);return r.exists?t2(r):null}Vo.safeFetchEditionMarkerV2=WBe;async function bAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,l0.publicKey)(s,!1)),t)).map(s=>((0,l0.assertAccountExists)(s,"EditionMarkerV2"),t2(s)))}Vo.fetchAllEditionMarkerV2=bAt;async function SAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,l0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>t2(s))}Vo.safeFetchAllEditionMarkerV2=SAt;function kAt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,l0.gpaBuilder)(n,e).registerFields({key:[0,(0,OBe.getKeySerializer)()],ledger:[1,(0,vh.bytes)({size:(0,vh.u32)()})]}).deserializeUsing(t=>t2(t))}Vo.getEditionMarkerV2GpaBuilder=kAt;function qte(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,vh.string)({size:"variable"}).serialize("metadata"),(0,vh.publicKey)().serialize(t),(0,vh.publicKey)().serialize(e.mint),(0,vh.string)({size:"variable"}).serialize("edition"),(0,vh.string)({size:"variable"}).serialize("marker")])}Vo.findEditionMarkerV2Pda=qte;async function vAt(n,e,t){return KBe(n,qte(n,e),t)}Vo.fetchEditionMarkerV2FromSeeds=vAt;async function AAt(n,e,t){return WBe(n,qte(n,e),t)}Vo.safeFetchEditionMarkerV2FromSeeds=AAt;var Ai={},bn={},G5={};Object.defineProperty(G5,"__esModule",{value:!0});G5.findEditionMarkerFromEditionNumberPda=void 0;const wAt=F0;function IAt(n,e){return(0,wAt.findEditionMarkerPda)(n,{mint:e.mint,editionMarker:(BigInt(e.editionNumber)/248n).toString(10)})}G5.findEditionMarkerFromEditionNumberPda=IAt;var Y5={},U0={};Object.defineProperty(U0,"__esModule",{value:!0});U0.TokenMetadataError=void 0;const _At=Z;class PAt extends _At.UmiError{constructor(e,t){super(e,"plugin","Token Metadata",t),this.name="TokenMetadataError"}}U0.TokenMetadataError=PAt;Object.defineProperty(Y5,"__esModule",{value:!0});Y5.getMetadataDelegateRoleSeedSerializer=void 0;const Kbe=H,EAt=U0,sp=Nte;function xAt(){return(0,Kbe.mapSerializer)((0,Kbe.string)({size:"variable"}),n=>{if(typeof n=="string")return n;switch(n){case sp.MetadataDelegateRole.AuthorityItem:return"authority_item_delegate";case sp.MetadataDelegateRole.Collection:return"collection_delegate";case sp.MetadataDelegateRole.Use:return"use_delegate";case sp.MetadataDelegateRole.Data:return"data_delegate";case sp.MetadataDelegateRole.ProgrammableConfig:return"programmable_config_delegate";case sp.MetadataDelegateRole.DataItem:return"data_item_delegate";case sp.MetadataDelegateRole.CollectionItem:return"collection_item_delegate";case sp.MetadataDelegateRole.ProgrammableConfigItem:return"prog_config_item_delegate";default:throw new EAt.TokenMetadataError(`Invalid MetadataDelegateRoleArgs ${n}`)}},n=>n)}Y5.getMetadataDelegateRoleSeedSerializer=xAt;var Z5={};Object.defineProperty(Z5,"__esModule",{value:!0});Z5.getHolderDelegateRoleSeedSerializer=void 0;const Wbe=H,TAt=U0,RAt=Wte;function BAt(){return(0,Wbe.mapSerializer)((0,Wbe.string)({size:"variable"}),n=>{if(typeof n=="string")return n;switch(n){case RAt.HolderDelegateRole.PrintDelegate:return"print_delegate";default:throw new TAt.TokenMetadataError(`Invalid PrintDelegateRoleArgs ${n}`)}},n=>n)}Z5.getHolderDelegateRoleSeedSerializer=BAt;var ic={},hi={},fy={},J5={},qo={};Object.defineProperty(qo,"__esModule",{value:!0});qo.safeFetchAddressLookupTableFromSeeds=qo.fetchAddressLookupTableFromSeeds=qo.findAddressLookupTablePda=qo.getAddressLookupTableGpaBuilder=qo.safeFetchAllAddressLookupTable=qo.fetchAllAddressLookupTable=qo.safeFetchAddressLookupTable=qo.fetchAddressLookupTable=qo.deserializeAddressLookupTable=qo.getAddressLookupTableAccountDataSerializer=void 0;const d0=Z,Co=H;function NBe(){return(0,Co.mapSerializer)((0,Co.struct)([["discriminator",(0,Co.u32)()],["deactivationSlot",(0,Co.u64)()],["lastExtendedSlot",(0,Co.u64)()],["lastExtendedStartIndex",(0,Co.u8)()],["authority",(0,Co.option)((0,Co.publicKey)(),{fixed:!0})],["padding",(0,Co.u16)()],["addresses",(0,Co.array)((0,Co.publicKey)(),{size:"remainder"})]],{description:"AddressLookupTableAccountData"}),n=>({...n,discriminator:1,padding:0}))}qo.getAddressLookupTableAccountDataSerializer=NBe;function r2(n){return(0,d0.deserializeAccount)(n,NBe())}qo.deserializeAddressLookupTable=r2;async function FBe(n,e,t){const r=await n.rpc.getAccount((0,d0.publicKey)(e,!1),t);return(0,d0.assertAccountExists)(r,"AddressLookupTable"),r2(r)}qo.fetchAddressLookupTable=FBe;async function UBe(n,e,t){const r=await n.rpc.getAccount((0,d0.publicKey)(e,!1),t);return r.exists?r2(r):null}qo.safeFetchAddressLookupTable=UBe;async function CAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,d0.publicKey)(s,!1)),t)).map(s=>((0,d0.assertAccountExists)(s,"AddressLookupTable"),r2(s)))}qo.fetchAllAddressLookupTable=CAt;async function MAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,d0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>r2(s))}qo.safeFetchAllAddressLookupTable=MAt;function zAt(n){const e=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111");return(0,d0.gpaBuilder)(n,e).registerFields({discriminator:[0,(0,Co.u32)()],deactivationSlot:[4,(0,Co.u64)()],lastExtendedSlot:[12,(0,Co.u64)()],lastExtendedStartIndex:[20,(0,Co.u8)()],authority:[21,(0,Co.option)((0,Co.publicKey)(),{fixed:!0})],padding:[54,(0,Co.u16)()],addresses:[56,(0,Co.array)((0,Co.publicKey)(),{size:"remainder"})]}).deserializeUsing(t=>r2(t)).whereField("discriminator",1)}qo.getAddressLookupTableGpaBuilder=zAt;function Hte(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111");return n.eddsa.findPda(t,[(0,Co.publicKey)().serialize(e.authority),(0,Co.u64)().serialize(e.recentSlot)])}qo.findAddressLookupTablePda=Hte;async function $At(n,e,t){return FBe(n,Hte(n,e),t)}qo.fetchAddressLookupTableFromSeeds=$At;async function DAt(n,e,t){return UBe(n,Hte(n,e),t)}qo.safeFetchAddressLookupTableFromSeeds=DAt;var oc={};Object.defineProperty(oc,"__esModule",{value:!0});oc.getMintSize=oc.getMintGpaBuilder=oc.safeFetchAllMint=oc.fetchAllMint=oc.safeFetchMint=oc.fetchMint=oc.deserializeMint=oc.getMintAccountDataSerializer=void 0;const f0=Z,Aa=H;function VBe(){return(0,Aa.struct)([["mintAuthority",(0,Aa.option)((0,Aa.publicKey)(),{prefix:(0,Aa.u32)(),fixed:!0})],["supply",(0,Aa.u64)()],["decimals",(0,Aa.u8)()],["isInitialized",(0,Aa.bool)()],["freezeAuthority",(0,Aa.option)((0,Aa.publicKey)(),{prefix:(0,Aa.u32)(),fixed:!0})]],{description:"MintAccountData"})}oc.getMintAccountDataSerializer=VBe;function n2(n){return(0,f0.deserializeAccount)(n,VBe())}oc.deserializeMint=n2;async function OAt(n,e,t){const r=await n.rpc.getAccount((0,f0.publicKey)(e,!1),t);return(0,f0.assertAccountExists)(r,"Mint"),n2(r)}oc.fetchMint=OAt;async function LAt(n,e,t){const r=await n.rpc.getAccount((0,f0.publicKey)(e,!1),t);return r.exists?n2(r):null}oc.safeFetchMint=LAt;async function KAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,f0.publicKey)(s,!1)),t)).map(s=>((0,f0.assertAccountExists)(s,"Mint"),n2(s)))}oc.fetchAllMint=KAt;async function WAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,f0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>n2(s))}oc.safeFetchAllMint=WAt;function NAt(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,f0.gpaBuilder)(n,e).registerFields({mintAuthority:[0,(0,Aa.option)((0,Aa.publicKey)(),{prefix:(0,Aa.u32)(),fixed:!0})],supply:[36,(0,Aa.u64)()],decimals:[44,(0,Aa.u8)()],isInitialized:[45,(0,Aa.bool)()],freezeAuthority:[46,(0,Aa.option)((0,Aa.publicKey)(),{prefix:(0,Aa.u32)(),fixed:!0})]}).deserializeUsing(t=>n2(t)).whereSize(82)}oc.getMintGpaBuilder=NAt;function FAt(){return 82}oc.getMintSize=FAt;var ac={};Object.defineProperty(ac,"__esModule",{value:!0});ac.getMultisigSize=ac.getMultisigGpaBuilder=ac.safeFetchAllMultisig=ac.fetchAllMultisig=ac.safeFetchMultisig=ac.fetchMultisig=ac.deserializeMultisig=ac.getMultisigAccountDataSerializer=void 0;const h0=Z,Ld=H;function qBe(){return(0,Ld.struct)([["m",(0,Ld.u8)()],["n",(0,Ld.u8)()],["isInitialized",(0,Ld.bool)()],["signers",(0,Ld.array)((0,Ld.publicKey)(),{size:11})]],{description:"MultisigAccountData"})}ac.getMultisigAccountDataSerializer=qBe;function s2(n){return(0,h0.deserializeAccount)(n,qBe())}ac.deserializeMultisig=s2;async function UAt(n,e,t){const r=await n.rpc.getAccount((0,h0.publicKey)(e,!1),t);return(0,h0.assertAccountExists)(r,"Multisig"),s2(r)}ac.fetchMultisig=UAt;async function VAt(n,e,t){const r=await n.rpc.getAccount((0,h0.publicKey)(e,!1),t);return r.exists?s2(r):null}ac.safeFetchMultisig=VAt;async function qAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,h0.publicKey)(s,!1)),t)).map(s=>((0,h0.assertAccountExists)(s,"Multisig"),s2(s)))}ac.fetchAllMultisig=qAt;async function HAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,h0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>s2(s))}ac.safeFetchAllMultisig=HAt;function jAt(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,h0.gpaBuilder)(n,e).registerFields({m:[0,(0,Ld.u8)()],n:[1,(0,Ld.u8)()],isInitialized:[2,(0,Ld.bool)()],signers:[3,(0,Ld.array)((0,Ld.publicKey)(),{size:11})]}).deserializeUsing(t=>s2(t)).whereSize(355)}ac.getMultisigGpaBuilder=jAt;function GAt(){return 355}ac.getMultisigSize=GAt;var cc={},X5={},HBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAuthorityTypeSerializer=n.AuthorityType=void 0;const e=H;var t;(function(s){s[s.MintTokens=0]="MintTokens",s[s.FreezeAccount=1]="FreezeAccount",s[s.AccountOwner=2]="AccountOwner",s[s.CloseAccount=3]="CloseAccount"})(t=n.AuthorityType||(n.AuthorityType={}));function r(){return(0,e.scalarEnum)(t,{description:"AuthorityType"})}n.getAuthorityTypeSerializer=r})(HBe);var jBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStateSerializer=n.TokenState=void 0;const e=H;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.Initialized=1]="Initialized",s[s.Frozen=2]="Frozen"})(t=n.TokenState||(n.TokenState={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenState"})}n.getTokenStateSerializer=r})(jBe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(HBe,n),t(jBe,n)})(X5);Object.defineProperty(cc,"__esModule",{value:!0});cc.getTokenSize=cc.getTokenGpaBuilder=cc.safeFetchAllToken=cc.fetchAllToken=cc.safeFetchToken=cc.fetchToken=cc.deserializeToken=cc.getTokenAccountDataSerializer=void 0;const g0=Z,Cs=H,GBe=X5;function YBe(){return(0,Cs.struct)([["mint",(0,Cs.publicKey)()],["owner",(0,Cs.publicKey)()],["amount",(0,Cs.u64)()],["delegate",(0,Cs.option)((0,Cs.publicKey)(),{prefix:(0,Cs.u32)(),fixed:!0})],["state",(0,GBe.getTokenStateSerializer)()],["isNative",(0,Cs.option)((0,Cs.u64)(),{prefix:(0,Cs.u32)(),fixed:!0})],["delegatedAmount",(0,Cs.u64)()],["closeAuthority",(0,Cs.option)((0,Cs.publicKey)(),{prefix:(0,Cs.u32)(),fixed:!0})]],{description:"TokenAccountData"})}cc.getTokenAccountDataSerializer=YBe;function i2(n){return(0,g0.deserializeAccount)(n,YBe())}cc.deserializeToken=i2;async function YAt(n,e,t){const r=await n.rpc.getAccount((0,g0.publicKey)(e,!1),t);return(0,g0.assertAccountExists)(r,"Token"),i2(r)}cc.fetchToken=YAt;async function ZAt(n,e,t){const r=await n.rpc.getAccount((0,g0.publicKey)(e,!1),t);return r.exists?i2(r):null}cc.safeFetchToken=ZAt;async function JAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,g0.publicKey)(s,!1)),t)).map(s=>((0,g0.assertAccountExists)(s,"Token"),i2(s)))}cc.fetchAllToken=JAt;async function XAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,g0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>i2(s))}cc.safeFetchAllToken=XAt;function QAt(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,g0.gpaBuilder)(n,e).registerFields({mint:[0,(0,Cs.publicKey)()],owner:[32,(0,Cs.publicKey)()],amount:[64,(0,Cs.u64)()],delegate:[72,(0,Cs.option)((0,Cs.publicKey)(),{prefix:(0,Cs.u32)(),fixed:!0})],state:[108,(0,GBe.getTokenStateSerializer)()],isNative:[109,(0,Cs.option)((0,Cs.u64)(),{prefix:(0,Cs.u32)(),fixed:!0})],delegatedAmount:[121,(0,Cs.u64)()],closeAuthority:[129,(0,Cs.option)((0,Cs.publicKey)(),{prefix:(0,Cs.u32)(),fixed:!0})]}).deserializeUsing(t=>i2(t)).whereSize(165)}cc.getTokenGpaBuilder=QAt;function ewt(){return 165}cc.getTokenSize=ewt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(qo,n),t(oc,n),t(ac,n),t(cc,n)})(J5);var pg={},Th={};Object.defineProperty(Th,"__esModule",{value:!0});Th.getMplSystemExtrasErrorFromName=Th.getMplSystemExtrasErrorFromCode=Th.SysExInvalidOwnerForSourceError=Th.SysExInvalidSystemProgramError=void 0;const ZBe=Z,jte=new Map,Gte=new Map;class Yte extends ZBe.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=0}}Th.SysExInvalidSystemProgramError=Yte;jte.set(0,Yte);Gte.set("InvalidSystemProgram",Yte);class Zte extends ZBe.ProgramError{constructor(e,t){super("Invalid Program Owner For The Source Account",e,t),this.name="InvalidOwnerForSource",this.code=1}}Th.SysExInvalidOwnerForSourceError=Zte;jte.set(1,Zte);Gte.set("InvalidOwnerForSource",Zte);function twt(n,e,t){const r=jte.get(n);return r?new r(e,t):null}Th.getMplSystemExtrasErrorFromCode=twt;function rwt(n,e,t){const r=Gte.get(n);return r?new r(e,t):null}Th.getMplSystemExtrasErrorFromName=rwt;var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.getMplTokenExtrasErrorFromName=Ho.getMplTokenExtrasErrorFromCode=Ho.TokExCannotCreateNonAssociatedTokenError=Ho.TokExInvalidTokenOwnerError=Ho.TokExInvalidTokenMintError=Ho.TokExInvalidProgramOwnerError=Ho.TokExInvalidAssociatedTokenAccountError=Ho.TokExInvalidAssociatedTokenProgramError=Ho.TokExInvalidTokenProgramError=Ho.TokExInvalidSystemProgramError=void 0;const V0=Z,hy=new Map,gy=new Map;class Jte extends V0.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=0}}Ho.TokExInvalidSystemProgramError=Jte;hy.set(0,Jte);gy.set("InvalidSystemProgram",Jte);class Xte extends V0.ProgramError{constructor(e,t){super("Invalid Token Program",e,t),this.name="InvalidTokenProgram",this.code=1}}Ho.TokExInvalidTokenProgramError=Xte;hy.set(1,Xte);gy.set("InvalidTokenProgram",Xte);class Qte extends V0.ProgramError{constructor(e,t){super("Invalid Associated Token Program",e,t),this.name="InvalidAssociatedTokenProgram",this.code=2}}Ho.TokExInvalidAssociatedTokenProgramError=Qte;hy.set(2,Qte);gy.set("InvalidAssociatedTokenProgram",Qte);class ere extends V0.ProgramError{constructor(e,t){super("Invalid Associated Token Account: it should derive from the provided mint and owner",e,t),this.name="InvalidAssociatedTokenAccount",this.code=3}}Ho.TokExInvalidAssociatedTokenAccountError=ere;hy.set(3,ere);gy.set("InvalidAssociatedTokenAccount",ere);class tre extends V0.ProgramError{constructor(e,t){super("Invalid Program Owner",e,t),this.name="InvalidProgramOwner",this.code=4}}Ho.TokExInvalidProgramOwnerError=tre;hy.set(4,tre);gy.set("InvalidProgramOwner",tre);class rre extends V0.ProgramError{constructor(e,t){super("Invalid Token Mint: it should be the same as the provided mint account",e,t),this.name="InvalidTokenMint",this.code=5}}Ho.TokExInvalidTokenMintError=rre;hy.set(5,rre);gy.set("InvalidTokenMint",rre);class nre extends V0.ProgramError{constructor(e,t){super("Invalid Program Owner: it should be the same as the provided owner account",e,t),this.name="InvalidTokenOwner",this.code=6}}Ho.TokExInvalidTokenOwnerError=nre;hy.set(6,nre);gy.set("InvalidTokenOwner",nre);class sre extends V0.ProgramError{constructor(e,t){super("Cannot create non-associated token accounts as they would need to sign the transaction. Please provide an associated token account instead",e,t),this.name="CannotCreateNonAssociatedToken",this.code=7}}Ho.TokExCannotCreateNonAssociatedTokenError=sre;hy.set(7,sre);gy.set("CannotCreateNonAssociatedToken",sre);function nwt(n,e,t){const r=hy.get(n);return r?new r(e,t):null}Ho.getMplTokenExtrasErrorFromCode=nwt;function swt(n,e,t){const r=gy.get(n);return r?new r(e,t):null}Ho.getMplTokenExtrasErrorFromName=swt;var WI={};Object.defineProperty(WI,"__esModule",{value:!0});WI.getSplAddressLookupTableErrorFromName=WI.getSplAddressLookupTableErrorFromCode=void 0;const iwt=new Map,owt=new Map;function awt(n,e,t){const r=iwt.get(n);return r?new r(e,t):null}WI.getSplAddressLookupTableErrorFromCode=awt;function cwt(n,e,t){const r=owt.get(n);return r?new r(e,t):null}WI.getSplAddressLookupTableErrorFromName=cwt;var wb={};Object.defineProperty(wb,"__esModule",{value:!0});wb.getSplAssociatedTokenErrorFromName=wb.getSplAssociatedTokenErrorFromCode=wb.AtaInvalidOwnerError=void 0;const uwt=Z,JBe=new Map,XBe=new Map;class ire extends uwt.ProgramError{constructor(e,t){super("Associated token account owner does not match address derivation",e,t),this.name="InvalidOwner",this.code=0}}wb.AtaInvalidOwnerError=ire;JBe.set(0,ire);XBe.set("InvalidOwner",ire);function lwt(n,e,t){const r=JBe.get(n);return r?new r(e,t):null}wb.getSplAssociatedTokenErrorFromCode=lwt;function dwt(n,e,t){const r=XBe.get(n);return r?new r(e,t):null}wb.getSplAssociatedTokenErrorFromName=dwt;var NI={};Object.defineProperty(NI,"__esModule",{value:!0});NI.getSplComputeBudgetErrorFromName=NI.getSplComputeBudgetErrorFromCode=void 0;const fwt=new Map,hwt=new Map;function gwt(n,e,t){const r=fwt.get(n);return r?new r(e,t):null}NI.getSplComputeBudgetErrorFromCode=gwt;function mwt(n,e,t){const r=hwt.get(n);return r?new r(e,t):null}NI.getSplComputeBudgetErrorFromName=mwt;var FI={};Object.defineProperty(FI,"__esModule",{value:!0});FI.getSplMemoErrorFromName=FI.getSplMemoErrorFromCode=void 0;const ywt=new Map,pwt=new Map;function bwt(n,e,t){const r=ywt.get(n);return r?new r(e,t):null}FI.getSplMemoErrorFromCode=bwt;function Swt(n,e,t){const r=pwt.get(n);return r?new r(e,t):null}FI.getSplMemoErrorFromName=Swt;var UI={};Object.defineProperty(UI,"__esModule",{value:!0});UI.getSplSystemErrorFromName=UI.getSplSystemErrorFromCode=void 0;const kwt=new Map,vwt=new Map;function Awt(n,e,t){const r=kwt.get(n);return r?new r(e,t):null}UI.getSplSystemErrorFromCode=Awt;function wwt(n,e,t){const r=vwt.get(n);return r?new r(e,t):null}UI.getSplSystemErrorFromName=wwt;var Br={};Object.defineProperty(Br,"__esModule",{value:!0});Br.getSplTokenErrorFromName=Br.getSplTokenErrorFromCode=Br.TokNonNativeNotSupportedError=Br.TokMintDecimalsMismatchError=Br.TokAccountFrozenError=Br.TokMintCannotFreezeError=Br.TokAuthorityTypeNotSupportedError=Br.TokOverflowError=Br.TokInvalidStateError=Br.TokInvalidInstructionError=Br.TokNonNativeHasBalanceError=Br.TokNativeNotSupportedError=Br.TokUninitializedStateError=Br.TokInvalidNumberOfRequiredSignersError=Br.TokInvalidNumberOfProvidedSignersError=Br.TokAlreadyInUseError=Br.TokFixedSupplyError=Br.TokOwnerMismatchError=Br.TokMintMismatchError=Br.TokInvalidMintError=Br.TokInsufficientFundsError=Br.TokNotRentExemptError=void 0;const pa=Z,ca=new Map,ua=new Map;class ore extends pa.ProgramError{constructor(e,t){super("Lamport balance below rent-exempt threshold",e,t),this.name="NotRentExempt",this.code=0}}Br.TokNotRentExemptError=ore;ca.set(0,ore);ua.set("NotRentExempt",ore);class are extends pa.ProgramError{constructor(e,t){super("Insufficient funds",e,t),this.name="InsufficientFunds",this.code=1}}Br.TokInsufficientFundsError=are;ca.set(1,are);ua.set("InsufficientFunds",are);class cre extends pa.ProgramError{constructor(e,t){super("Invalid Mint",e,t),this.name="InvalidMint",this.code=2}}Br.TokInvalidMintError=cre;ca.set(2,cre);ua.set("InvalidMint",cre);class ure extends pa.ProgramError{constructor(e,t){super("Account not associated with this Mint",e,t),this.name="MintMismatch",this.code=3}}Br.TokMintMismatchError=ure;ca.set(3,ure);ua.set("MintMismatch",ure);class lre extends pa.ProgramError{constructor(e,t){super("Owner does not match",e,t),this.name="OwnerMismatch",this.code=4}}Br.TokOwnerMismatchError=lre;ca.set(4,lre);ua.set("OwnerMismatch",lre);class dre extends pa.ProgramError{constructor(e,t){super("Fixed supply",e,t),this.name="FixedSupply",this.code=5}}Br.TokFixedSupplyError=dre;ca.set(5,dre);ua.set("FixedSupply",dre);class fre extends pa.ProgramError{constructor(e,t){super("Already in use",e,t),this.name="AlreadyInUse",this.code=6}}Br.TokAlreadyInUseError=fre;ca.set(6,fre);ua.set("AlreadyInUse",fre);class hre extends pa.ProgramError{constructor(e,t){super("Invalid number of provided signers",e,t),this.name="InvalidNumberOfProvidedSigners",this.code=7}}Br.TokInvalidNumberOfProvidedSignersError=hre;ca.set(7,hre);ua.set("InvalidNumberOfProvidedSigners",hre);class gre extends pa.ProgramError{constructor(e,t){super("Invalid number of required signers",e,t),this.name="InvalidNumberOfRequiredSigners",this.code=8}}Br.TokInvalidNumberOfRequiredSignersError=gre;ca.set(8,gre);ua.set("InvalidNumberOfRequiredSigners",gre);class mre extends pa.ProgramError{constructor(e,t){super("State is unititialized",e,t),this.name="UninitializedState",this.code=9}}Br.TokUninitializedStateError=mre;ca.set(9,mre);ua.set("UninitializedState",mre);class yre extends pa.ProgramError{constructor(e,t){super("Instruction does not support native tokens",e,t),this.name="NativeNotSupported",this.code=10}}Br.TokNativeNotSupportedError=yre;ca.set(10,yre);ua.set("NativeNotSupported",yre);class pre extends pa.ProgramError{constructor(e,t){super("Non-native account can only be closed if its balance is zero",e,t),this.name="NonNativeHasBalance",this.code=11}}Br.TokNonNativeHasBalanceError=pre;ca.set(11,pre);ua.set("NonNativeHasBalance",pre);class bre extends pa.ProgramError{constructor(e,t){super("Invalid instruction",e,t),this.name="InvalidInstruction",this.code=12}}Br.TokInvalidInstructionError=bre;ca.set(12,bre);ua.set("InvalidInstruction",bre);class Sre extends pa.ProgramError{constructor(e,t){super("State is invalid for requested operation",e,t),this.name="InvalidState",this.code=13}}Br.TokInvalidStateError=Sre;ca.set(13,Sre);ua.set("InvalidState",Sre);class kre extends pa.ProgramError{constructor(e,t){super("Operation overflowed",e,t),this.name="Overflow",this.code=14}}Br.TokOverflowError=kre;ca.set(14,kre);ua.set("Overflow",kre);class vre extends pa.ProgramError{constructor(e,t){super("Account does not support specified authority type",e,t),this.name="AuthorityTypeNotSupported",this.code=15}}Br.TokAuthorityTypeNotSupportedError=vre;ca.set(15,vre);ua.set("AuthorityTypeNotSupported",vre);class Are extends pa.ProgramError{constructor(e,t){super("This token mint cannot freeze accounts",e,t),this.name="MintCannotFreeze",this.code=16}}Br.TokMintCannotFreezeError=Are;ca.set(16,Are);ua.set("MintCannotFreeze",Are);class wre extends pa.ProgramError{constructor(e,t){super("Account is frozen",e,t),this.name="AccountFrozen",this.code=17}}Br.TokAccountFrozenError=wre;ca.set(17,wre);ua.set("AccountFrozen",wre);class Ire extends pa.ProgramError{constructor(e,t){super("The provided decimals value different from the Mint decimals",e,t),this.name="MintDecimalsMismatch",this.code=18}}Br.TokMintDecimalsMismatchError=Ire;ca.set(18,Ire);ua.set("MintDecimalsMismatch",Ire);class _re extends pa.ProgramError{constructor(e,t){super("Instruction does not support non-native tokens",e,t),this.name="NonNativeNotSupported",this.code=19}}Br.TokNonNativeNotSupportedError=_re;ca.set(19,_re);ua.set("NonNativeNotSupported",_re);function Iwt(n,e,t){const r=ca.get(n);return r?new r(e,t):null}Br.getSplTokenErrorFromCode=Iwt;function _wt(n,e,t){const r=ua.get(n);return r?new r(e,t):null}Br.getSplTokenErrorFromName=_wt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Th,n),t(Ho,n),t(WI,n),t(wb,n),t(NI,n),t(FI,n),t(UI,n),t(Br,n)})(pg);var QBe={},VI={},gr={};Object.defineProperty(gr,"__esModule",{value:!0});gr.getAccountMetasAndSigners=gr.expectPda=gr.expectPublicKey=gr.expectSome=void 0;const PM=Z;function Pwt(n){if(n==null)throw new Error("Expected a value but received null or undefined.");return n}gr.expectSome=Pwt;function Ewt(n){if(!n)throw new Error("Expected a PublicKey.");return(0,PM.publicKey)(n,!1)}gr.expectPublicKey=Ewt;function xwt(n){if(!n||!Array.isArray(n)||!(0,PM.isPda)(n))throw new Error("Expected a PDA.");return n}gr.expectPda=xwt;function Twt(n,e,t){const r=[],s=[];return n.forEach(i=>{if(!i.value){if(e==="omitted")return;r.push({pubkey:t,isSigner:!1,isWritable:!1});return}(0,PM.isSigner)(i.value)&&s.push(i.value),r.push({pubkey:(0,PM.publicKey)(i.value,!1),isSigner:(0,PM.isSigner)(i.value),isWritable:i.isWritable})}),[r,s]}gr.getAccountMetasAndSigners=Twt;Object.defineProperty(VI,"__esModule",{value:!0});VI.addMemo=VI.getAddMemoInstructionDataSerializer=void 0;const Rwt=Z,Nbe=H,Bwt=gr;function eCe(){return(0,Nbe.struct)([["memo",(0,Nbe.string)()]],{description:"AddMemoInstructionData"})}VI.getAddMemoInstructionDataSerializer=eCe;function Cwt(n,e){const t=n.programs.getPublicKey("splMemo","Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Bwt.getAccountMetasAndSigners)(i,"programId",t),c=eCe().serialize(s),u=0;return(0,Rwt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}VI.addMemo=Cwt;var qI={};Object.defineProperty(qI,"__esModule",{value:!0});qI.amountToUiAmount=qI.getAmountToUiAmountInstructionDataSerializer=void 0;const Mwt=Z,W3=H,zwt=gr;function tCe(){return(0,W3.mapSerializer)((0,W3.struct)([["discriminator",(0,W3.u8)()],["amount",(0,W3.u64)()]],{description:"AmountToUiAmountInstructionData"}),n=>({...n,discriminator:23}))}qI.getAmountToUiAmountInstructionDataSerializer=tCe;function $wt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,zwt.getAccountMetasAndSigners)(i,"programId",t),c=tCe().serialize(s),u=0;return(0,Mwt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}qI.amountToUiAmount=$wt;var HI={};Object.defineProperty(HI,"__esModule",{value:!0});HI.approveTokenDelegate=HI.getApproveTokenDelegateInstructionDataSerializer=void 0;const Dwt=Z,N3=H,Owt=gr;function rCe(){return(0,N3.mapSerializer)((0,N3.struct)([["discriminator",(0,N3.u8)()],["amount",(0,N3.u64)()]],{description:"ApproveTokenDelegateInstructionData"}),n=>({...n,discriminator:4}))}HI.getApproveTokenDelegateInstructionDataSerializer=rCe;function Lwt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Owt.getAccountMetasAndSigners)(i,"programId",t),c=rCe().serialize(s),u=0;return(0,Dwt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}HI.approveTokenDelegate=Lwt;var jI={};Object.defineProperty(jI,"__esModule",{value:!0});jI.approveTokenDelegateChecked=jI.getApproveTokenDelegateCheckedInstructionDataSerializer=void 0;const Kwt=Z,wB=H,Wwt=gr;function nCe(){return(0,wB.mapSerializer)((0,wB.struct)([["discriminator",(0,wB.u8)()],["amount",(0,wB.u64)()],["decimals",(0,wB.u8)()]],{description:"ApproveTokenDelegateCheckedInstructionData"}),n=>({...n,discriminator:13}))}jI.getApproveTokenDelegateCheckedInstructionDataSerializer=nCe;function Nwt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},mint:{index:1,isWritable:!1,value:e.mint??null},delegate:{index:2,isWritable:!1,value:e.delegate??null},owner:{index:3,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Wwt.getAccountMetasAndSigners)(i,"programId",t),c=nCe().serialize(s),u=0;return(0,Kwt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}jI.approveTokenDelegateChecked=Nwt;var GI={};Object.defineProperty(GI,"__esModule",{value:!0});GI.burnToken=GI.getBurnTokenInstructionDataSerializer=void 0;const Fwt=Z,F3=H,Uwt=gr;function sCe(){return(0,F3.mapSerializer)((0,F3.struct)([["discriminator",(0,F3.u8)()],["amount",(0,F3.u64)()]],{description:"BurnTokenInstructionData"}),n=>({...n,discriminator:8}))}GI.getBurnTokenInstructionDataSerializer=sCe;function Vwt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!0,value:e.mint??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Uwt.getAccountMetasAndSigners)(i,"programId",t),c=sCe().serialize(s),u=0;return(0,Fwt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}GI.burnToken=Vwt;var YI={};Object.defineProperty(YI,"__esModule",{value:!0});YI.burnTokenChecked=YI.getBurnTokenCheckedInstructionDataSerializer=void 0;const qwt=Z,IB=H,Hwt=gr;function iCe(){return(0,IB.mapSerializer)((0,IB.struct)([["discriminator",(0,IB.u8)()],["amount",(0,IB.u64)()],["decimals",(0,IB.u8)()]],{description:"BurnTokenCheckedInstructionData"}),n=>({...n,discriminator:15}))}YI.getBurnTokenCheckedInstructionDataSerializer=iCe;function jwt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!0,value:e.mint??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Hwt.getAccountMetasAndSigners)(i,"programId",t),c=iCe().serialize(s),u=0;return(0,qwt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}YI.burnTokenChecked=jwt;var ZI={};Object.defineProperty(ZI,"__esModule",{value:!0});ZI.closeLut=ZI.getCloseLutInstructionDataSerializer=void 0;const Gwt=Z,l7=H,Ywt=gr;function oCe(){return(0,l7.mapSerializer)((0,l7.struct)([["discriminator",(0,l7.u32)()]],{description:"CloseLutInstructionData"}),n=>({...n,discriminator:4}))}ZI.getCloseLutInstructionDataSerializer=oCe;function Zwt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},recipient:{index:2,isWritable:!0,value:e.recipient??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Ywt.getAccountMetasAndSigners)(s,"programId",t),a=oCe().serialize({}),c=0;return(0,Gwt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}ZI.closeLut=Zwt;var JI={};Object.defineProperty(JI,"__esModule",{value:!0});JI.closeToken=JI.getCloseTokenInstructionDataSerializer=void 0;const Jwt=Z,d7=H,Xwt=gr;function aCe(){return(0,d7.mapSerializer)((0,d7.struct)([["discriminator",(0,d7.u8)()]],{description:"CloseTokenInstructionData"}),n=>({...n,discriminator:9}))}JI.getCloseTokenInstructionDataSerializer=aCe;function Qwt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},destination:{index:1,isWritable:!0,value:e.destination??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Xwt.getAccountMetasAndSigners)(s,"programId",t),a=aCe().serialize({}),c=0;return(0,Jwt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}JI.closeToken=Qwt;var XI={};Object.defineProperty(XI,"__esModule",{value:!0});XI.createAccount=XI.getCreateAccountInstructionDataSerializer=void 0;const IG=Z,Xv=H,eIt=gr;function cCe(){return(0,Xv.mapSerializer)((0,Xv.struct)([["discriminator",(0,Xv.u32)()],["lamports",(0,IG.mapAmountSerializer)((0,Xv.u64)(),"SOL",9)],["space",(0,Xv.u64)()],["programId",(0,Xv.publicKey)()]],{description:"CreateAccountInstructionData"}),n=>({...n,discriminator:0}))}XI.getCreateAccountInstructionDataSerializer=cCe;function tIt(n,e){const t=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r={payer:{index:0,isWritable:!0,value:e.payer??null},newAccount:{index:1,isWritable:!0,value:e.newAccount??null}},s={...e};r.payer.value||(r.payer.value=n.payer);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,eIt.getAccountMetasAndSigners)(i,"programId",t),c=cCe().serialize(s),u=Number(e.space)+IG.ACCOUNT_HEADER_SIZE;return(0,IG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}XI.createAccount=tIt;var QI={};Object.defineProperty(QI,"__esModule",{value:!0});QI.createAccountWithRent=QI.getCreateAccountWithRentInstructionDataSerializer=void 0;const Fbe=Z,_B=H,rIt=gr;function uCe(){return(0,_B.mapSerializer)((0,_B.struct)([["discriminator",(0,_B.u8)()],["space",(0,_B.u64)()],["programId",(0,_B.publicKey)()]],{description:"CreateAccountWithRentInstructionData"}),n=>({...n,discriminator:0}))}QI.getCreateAccountWithRentInstructionDataSerializer=uCe;function nIt(n,e){const t=n.programs.getPublicKey("mplSystemExtras","SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG"),r={payer:{index:0,isWritable:!0,value:e.payer??null},newAccount:{index:1,isWritable:!0,value:e.newAccount??null},systemProgram:{index:2,isWritable:!1,value:e.systemProgram??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,rIt.getAccountMetasAndSigners)(i,"programId",t),c=uCe().serialize(s),u=Number(e.space)+Fbe.ACCOUNT_HEADER_SIZE;return(0,Fbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}QI.createAccountWithRent=nIt;var Q5={},o2={},eW={};Object.defineProperty(eW,"__esModule",{value:!0});eW.findAssociatedTokenPda=void 0;const f7=H;function sIt(n,e){const t=n.programs.getPublicKey("splAssociatedToken"),r=e.tokenProgramId??n.programs.getPublicKey("splToken");return n.eddsa.findPda(t,[(0,f7.publicKey)().serialize(e.owner),(0,f7.publicKey)().serialize(r),(0,f7.publicKey)().serialize(e.mint)])}eW.findAssociatedTokenPda=sIt;var tW={};Object.defineProperty(tW,"__esModule",{value:!0});tW.resolveExtendLutBytes=void 0;const iIt=(n,e,t,r)=>32*t.addresses.length;tW.resolveExtendLutBytes=iIt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(eW,n),t(tW,n)})(o2);Object.defineProperty(Q5,"__esModule",{value:!0});Q5.createAssociatedToken=void 0;const Ube=Z,oIt=o2,aIt=J5,U3=gr;function cIt(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={payer:{index:0,isWritable:!0,value:e.payer??null},ata:{index:1,isWritable:!0,value:e.ata??null},owner:{index:2,isWritable:!1,value:e.owner??null},mint:{index:3,isWritable:!1,value:e.mint??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null}};r.payer.value||(r.payer.value=n.payer),r.owner.value||(r.owner.value=n.identity.publicKey),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ata.value||(r.ata.value=(0,oIt.findAssociatedTokenPda)(n,{owner:(0,U3.expectPublicKey)(r.owner.value),mint:(0,U3.expectPublicKey)(r.mint.value),tokenProgramId:(0,U3.expectPublicKey)(r.tokenProgram.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,U3.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=(0,aIt.getTokenSize)()+Ube.ACCOUNT_HEADER_SIZE;return(0,Ube.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Q5.createAssociatedToken=cIt;var e_={};Object.defineProperty(e_,"__esModule",{value:!0});e_.createEmptyLut=e_.getCreateEmptyLutInstructionDataSerializer=void 0;const Vbe=Z,PB=H,uIt=J5,V3=gr;function lCe(){return(0,PB.mapSerializer)((0,PB.struct)([["discriminator",(0,PB.u32)()],["recentSlot",(0,PB.u64)()],["bump",(0,PB.u8)()]],{description:"CreateEmptyLutInstructionData"}),n=>({...n,discriminator:0}))}e_.getCreateEmptyLutInstructionDataSerializer=lCe;function lIt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},payer:{index:2,isWritable:!0,value:e.payer??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.address.value||(r.address.value=(0,uIt.findAddressLookupTablePda)(n,{authority:(0,V3.expectPublicKey)(r.authority.value),recentSlot:(0,V3.expectSome)(s.recentSlot)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.bump||(s.bump=(0,V3.expectPda)(r.address.value)[1]);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,V3.getAccountMetasAndSigners)(i,"programId",t),c=lCe().serialize(s),u=56+Vbe.ACCOUNT_HEADER_SIZE;return(0,Vbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}e_.createEmptyLut=lIt;var rW={};Object.defineProperty(rW,"__esModule",{value:!0});rW.createIdempotentAssociatedToken=void 0;const dIt=Z,fIt=gr;function hIt(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={payer:{index:0,isWritable:!0,value:e.payer??null},ata:{index:1,isWritable:!0,value:e.ata??null},owner:{index:2,isWritable:!1,value:e.owner??null},mint:{index:3,isWritable:!1,value:e.mint??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null}};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,fIt.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=0;return(0,dIt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}rW.createIdempotentAssociatedToken=hIt;var t_={};Object.defineProperty(t_,"__esModule",{value:!0});t_.createTokenIfMissing=t_.getCreateTokenIfMissingInstructionDataSerializer=void 0;const gIt=Z,h7=H,mIt=o2,EB=gr;function dCe(){return(0,h7.mapSerializer)((0,h7.struct)([["discriminator",(0,h7.u8)()]],{description:"CreateTokenIfMissingInstructionData"}),n=>({...n,discriminator:0}))}t_.getCreateTokenIfMissingInstructionDataSerializer=dCe;function yIt(n,e){const t=n.programs.getPublicKey("mplTokenExtras","TokExjvjJmhKaRBShsBAsbSvEWMA1AgUNK7ps4SAc2p"),r={payer:{index:0,isWritable:!0,value:e.payer??null},token:{index:1,isWritable:!1,value:e.token??null},mint:{index:2,isWritable:!1,value:e.mint??null},owner:{index:3,isWritable:!1,value:e.owner??null},ata:{index:4,isWritable:!0,value:e.ata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},ataProgram:{index:7,isWritable:!1,value:e.ataProgram??null}};r.payer.value||(r.payer.value=n.payer),r.owner.value||(r.owner.value=n.identity.publicKey),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ata.value||(r.ata.value=(0,mIt.findAssociatedTokenPda)(n,{owner:(0,EB.expectPublicKey)(r.owner.value),mint:(0,EB.expectPublicKey)(r.mint.value),tokenProgramId:(0,EB.expectPublicKey)(r.tokenProgram.value)})),r.token.value||(r.token.value=(0,EB.expectSome)(r.ata.value)),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,EB.getAccountMetasAndSigners)(s,"programId",t),a=dCe().serialize({}),c=0;return(0,gIt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}t_.createTokenIfMissing=yIt;var r_={};Object.defineProperty(r_,"__esModule",{value:!0});r_.deactivateLut=r_.getDeactivateLutInstructionDataSerializer=void 0;const pIt=Z,g7=H,bIt=gr;function fCe(){return(0,g7.mapSerializer)((0,g7.struct)([["discriminator",(0,g7.u32)()]],{description:"DeactivateLutInstructionData"}),n=>({...n,discriminator:3}))}r_.getDeactivateLutInstructionDataSerializer=fCe;function SIt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,bIt.getAccountMetasAndSigners)(s,"programId",t),a=fCe().serialize({}),c=0;return(0,pIt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}r_.deactivateLut=SIt;var n_={};Object.defineProperty(n_,"__esModule",{value:!0});n_.extendLut=n_.getExtendLutInstructionDataSerializer=void 0;const kIt=Z,Qv=H,vIt=o2,AIt=gr;function hCe(){return(0,Qv.mapSerializer)((0,Qv.struct)([["discriminator",(0,Qv.u32)()],["addresses",(0,Qv.array)((0,Qv.publicKey)(),{size:(0,Qv.u64)()})]],{description:"ExtendLutInstructionData"}),n=>({...n,discriminator:2}))}n_.getExtendLutInstructionDataSerializer=hCe;function wIt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},payer:{index:2,isWritable:!0,value:e.payer??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,AIt.getAccountMetasAndSigners)(i,"programId",t),c=hCe().serialize(s),u=(0,vIt.resolveExtendLutBytes)(n,r,s,t);return(0,kIt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}n_.extendLut=wIt;var s_={};Object.defineProperty(s_,"__esModule",{value:!0});s_.freezeLut=s_.getFreezeLutInstructionDataSerializer=void 0;const IIt=Z,m7=H,_It=gr;function gCe(){return(0,m7.mapSerializer)((0,m7.struct)([["discriminator",(0,m7.u32)()]],{description:"FreezeLutInstructionData"}),n=>({...n,discriminator:1}))}s_.getFreezeLutInstructionDataSerializer=gCe;function PIt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,_It.getAccountMetasAndSigners)(s,"programId",t),a=gCe().serialize({}),c=0;return(0,IIt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}s_.freezeLut=PIt;var i_={};Object.defineProperty(i_,"__esModule",{value:!0});i_.freezeToken=i_.getFreezeTokenInstructionDataSerializer=void 0;const EIt=Z,y7=H,xIt=gr;function mCe(){return(0,y7.mapSerializer)((0,y7.struct)([["discriminator",(0,y7.u8)()]],{description:"FreezeTokenInstructionData"}),n=>({...n,discriminator:10}))}i_.getFreezeTokenInstructionDataSerializer=mCe;function TIt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,xIt.getAccountMetasAndSigners)(s,"programId",t),a=mCe().serialize({}),c=0;return(0,EIt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}i_.freezeToken=TIt;var o_={};Object.defineProperty(o_,"__esModule",{value:!0});o_.getTokenDataSize=o_.getGetTokenDataSizeInstructionDataSerializer=void 0;const RIt=Z,p7=H,BIt=gr;function yCe(){return(0,p7.mapSerializer)((0,p7.struct)([["discriminator",(0,p7.u8)()]],{description:"GetTokenDataSizeInstructionData"}),n=>({...n,discriminator:21}))}o_.getGetTokenDataSizeInstructionDataSerializer=yCe;function CIt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,BIt.getAccountMetasAndSigners)(s,"programId",t),a=yCe().serialize({}),c=0;return(0,RIt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}o_.getTokenDataSize=CIt;var a_={};Object.defineProperty(a_,"__esModule",{value:!0});a_.initializeImmutableOwner=a_.getInitializeImmutableOwnerInstructionDataSerializer=void 0;const MIt=Z,b7=H,zIt=gr;function pCe(){return(0,b7.mapSerializer)((0,b7.struct)([["discriminator",(0,b7.u8)()]],{description:"InitializeImmutableOwnerInstructionData"}),n=>({...n,discriminator:22}))}a_.getInitializeImmutableOwnerInstructionDataSerializer=pCe;function $It(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,zIt.getAccountMetasAndSigners)(s,"programId",t),a=pCe().serialize({}),c=0;return(0,MIt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}a_.initializeImmutableOwner=$It;var c_={};Object.defineProperty(c_,"__esModule",{value:!0});c_.initializeMint=c_.getInitializeMintInstructionDataSerializer=void 0;const qbe=Z,n1=H,DIt=gr;function bCe(){return(0,n1.mapSerializer)((0,n1.struct)([["discriminator",(0,n1.u8)()],["decimals",(0,n1.u8)()],["mintAuthority",(0,n1.publicKey)()],["freezeAuthority",(0,n1.option)((0,n1.publicKey)())]],{description:"InitializeMintInstructionData"}),n=>({...n,discriminator:0}))}c_.getInitializeMintInstructionDataSerializer=bCe;function OIt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},rent:{index:1,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,qbe.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,DIt.getAccountMetasAndSigners)(i,"programId",t),c=bCe().serialize(s),u=0;return(0,qbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}c_.initializeMint=OIt;var u_={};Object.defineProperty(u_,"__esModule",{value:!0});u_.initializeMint2=u_.getInitializeMint2InstructionDataSerializer=void 0;const LIt=Z,s1=H,KIt=gr;function SCe(){return(0,s1.mapSerializer)((0,s1.struct)([["discriminator",(0,s1.u8)()],["decimals",(0,s1.u8)()],["mintAuthority",(0,s1.publicKey)()],["freezeAuthority",(0,s1.option)((0,s1.publicKey)())]],{description:"InitializeMint2InstructionData"}),n=>({...n,discriminator:20}))}u_.getInitializeMint2InstructionDataSerializer=SCe;function WIt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,KIt.getAccountMetasAndSigners)(i,"programId",t),c=SCe().serialize(s),u=0;return(0,LIt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}u_.initializeMint2=WIt;var l_={};Object.defineProperty(l_,"__esModule",{value:!0});l_.initializeMultisig=l_.getInitializeMultisigInstructionDataSerializer=void 0;const Hbe=Z,q3=H,NIt=gr;function kCe(){return(0,q3.mapSerializer)((0,q3.struct)([["discriminator",(0,q3.u8)()],["m",(0,q3.u8)()]],{description:"InitializeMultisigInstructionData"}),n=>({...n,discriminator:2}))}l_.getInitializeMultisigInstructionDataSerializer=kCe;function FIt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={multisig:{index:0,isWritable:!0,value:e.multisig??null},rent:{index:1,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,Hbe.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,NIt.getAccountMetasAndSigners)(i,"programId",t),c=kCe().serialize(s),u=0;return(0,Hbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}l_.initializeMultisig=FIt;var d_={};Object.defineProperty(d_,"__esModule",{value:!0});d_.initializeMultisig2=d_.getInitializeMultisig2InstructionDataSerializer=void 0;const UIt=Z,H3=H,VIt=gr;function vCe(){return(0,H3.mapSerializer)((0,H3.struct)([["discriminator",(0,H3.u8)()],["m",(0,H3.u8)()]],{description:"InitializeMultisig2InstructionData"}),n=>({...n,discriminator:19}))}d_.getInitializeMultisig2InstructionDataSerializer=vCe;function qIt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={multisig:{index:0,isWritable:!0,value:e.multisig??null},signer:{index:1,isWritable:!1,value:e.signer??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,VIt.getAccountMetasAndSigners)(i,"programId",t),c=vCe().serialize(s),u=0;return(0,UIt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}d_.initializeMultisig2=qIt;var f_={};Object.defineProperty(f_,"__esModule",{value:!0});f_.initializeToken=f_.getInitializeTokenInstructionDataSerializer=void 0;const jbe=Z,S7=H,HIt=gr;function ACe(){return(0,S7.mapSerializer)((0,S7.struct)([["discriminator",(0,S7.u8)()]],{description:"InitializeTokenInstructionData"}),n=>({...n,discriminator:1}))}f_.getInitializeTokenInstructionDataSerializer=ACe;function jIt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null},rent:{index:3,isWritable:!1,value:e.rent??null}};r.rent.value||(r.rent.value=(0,jbe.publicKey)("SysvarRent111111111111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,HIt.getAccountMetasAndSigners)(s,"programId",t),a=ACe().serialize({}),c=0;return(0,jbe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}f_.initializeToken=jIt;var h_={};Object.defineProperty(h_,"__esModule",{value:!0});h_.initializeToken2=h_.getInitializeToken2InstructionDataSerializer=void 0;const Gbe=Z,j3=H,GIt=gr;function wCe(){return(0,j3.mapSerializer)((0,j3.struct)([["discriminator",(0,j3.u8)()],["owner",(0,j3.publicKey)()]],{description:"InitializeToken2InstructionData"}),n=>({...n,discriminator:16}))}h_.getInitializeToken2InstructionDataSerializer=wCe;function YIt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},rent:{index:2,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,Gbe.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,GIt.getAccountMetasAndSigners)(i,"programId",t),c=wCe().serialize(s),u=0;return(0,Gbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}h_.initializeToken2=YIt;var g_={};Object.defineProperty(g_,"__esModule",{value:!0});g_.initializeToken3=g_.getInitializeToken3InstructionDataSerializer=void 0;const ZIt=Z,G3=H,JIt=gr;function ICe(){return(0,G3.mapSerializer)((0,G3.struct)([["discriminator",(0,G3.u8)()],["owner",(0,G3.publicKey)()]],{description:"InitializeToken3InstructionData"}),n=>({...n,discriminator:18}))}g_.getInitializeToken3InstructionDataSerializer=ICe;function XIt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,JIt.getAccountMetasAndSigners)(i,"programId",t),c=ICe().serialize(s),u=0;return(0,ZIt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}g_.initializeToken3=XIt;var m_={};Object.defineProperty(m_,"__esModule",{value:!0});m_.mintTokensTo=m_.getMintTokensToInstructionDataSerializer=void 0;const QIt=Z,Y3=H,e_t=gr;function _Ce(){return(0,Y3.mapSerializer)((0,Y3.struct)([["discriminator",(0,Y3.u8)()],["amount",(0,Y3.u64)()]],{description:"MintTokensToInstructionData"}),n=>({...n,discriminator:7}))}m_.getMintTokensToInstructionDataSerializer=_Ce;function t_t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},token:{index:1,isWritable:!0,value:e.token??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null}},s={...e};r.mintAuthority.value||(r.mintAuthority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,e_t.getAccountMetasAndSigners)(i,"programId",t),c=_Ce().serialize(s),u=0;return(0,QIt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}m_.mintTokensTo=t_t;var y_={};Object.defineProperty(y_,"__esModule",{value:!0});y_.mintTokensToChecked=y_.getMintTokensToCheckedInstructionDataSerializer=void 0;const r_t=Z,xB=H,n_t=gr;function PCe(){return(0,xB.mapSerializer)((0,xB.struct)([["discriminator",(0,xB.u8)()],["amount",(0,xB.u64)()],["decimals",(0,xB.u8)()]],{description:"MintTokensToCheckedInstructionData"}),n=>({...n,discriminator:14}))}y_.getMintTokensToCheckedInstructionDataSerializer=PCe;function s_t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},token:{index:1,isWritable:!0,value:e.token??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,n_t.getAccountMetasAndSigners)(i,"programId",t),c=PCe().serialize(s),u=0;return(0,r_t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}y_.mintTokensToChecked=s_t;var nW={};Object.defineProperty(nW,"__esModule",{value:!0});nW.recoverNestedAssociatedToken=void 0;const i_t=Z,o_t=gr;function a_t(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={nestedAssociatedAccountAddress:{index:0,isWritable:!0,value:e.nestedAssociatedAccountAddress??null},nestedTokenMintAddress:{index:1,isWritable:!1,value:e.nestedTokenMintAddress??null},destinationAssociatedAccountAddress:{index:2,isWritable:!0,value:e.destinationAssociatedAccountAddress??null},ownerAssociatedAccountAddress:{index:3,isWritable:!1,value:e.ownerAssociatedAccountAddress??null},ownerTokenMintAddress:{index:4,isWritable:!1,value:e.ownerTokenMintAddress??null},walletAddress:{index:5,isWritable:!0,value:e.walletAddress??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null}};r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,o_t.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=0;return(0,i_t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}nW.recoverNestedAssociatedToken=a_t;var p_={};Object.defineProperty(p_,"__esModule",{value:!0});p_.requestHeapFrame=p_.getRequestHeapFrameInstructionDataSerializer=void 0;const c_t=Z,Z3=H,u_t=gr;function ECe(){return(0,Z3.mapSerializer)((0,Z3.struct)([["discriminator",(0,Z3.u8)()],["bytes",(0,Z3.u32)()]],{description:"RequestHeapFrameInstructionData"}),n=>({...n,discriminator:1}))}p_.getRequestHeapFrameInstructionDataSerializer=ECe;function l_t(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,u_t.getAccountMetasAndSigners)(i,"programId",t),c=ECe().serialize(s),u=0;return(0,c_t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}p_.requestHeapFrame=l_t;var b_={};Object.defineProperty(b_,"__esModule",{value:!0});b_.requestUnits=b_.getRequestUnitsInstructionDataSerializer=void 0;const d_t=Z,TB=H,f_t=gr;function xCe(){return(0,TB.mapSerializer)((0,TB.struct)([["discriminator",(0,TB.u8)()],["units",(0,TB.u32)()],["additionalFee",(0,TB.u32)()]],{description:"RequestUnitsInstructionData"}),n=>({...n,discriminator:0}))}b_.getRequestUnitsInstructionDataSerializer=xCe;function h_t(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,f_t.getAccountMetasAndSigners)(i,"programId",t),c=xCe().serialize(s),u=0;return(0,d_t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}b_.requestUnits=h_t;var S_={};Object.defineProperty(S_,"__esModule",{value:!0});S_.revokeTokenDelegate=S_.getRevokeTokenDelegateInstructionDataSerializer=void 0;const g_t=Z,k7=H,m_t=gr;function TCe(){return(0,k7.mapSerializer)((0,k7.struct)([["discriminator",(0,k7.u8)()]],{description:"RevokeTokenDelegateInstructionData"}),n=>({...n,discriminator:5}))}S_.getRevokeTokenDelegateInstructionDataSerializer=TCe;function y_t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},owner:{index:1,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,m_t.getAccountMetasAndSigners)(s,"programId",t),a=TCe().serialize({}),c=0;return(0,g_t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}S_.revokeTokenDelegate=y_t;var k_={};Object.defineProperty(k_,"__esModule",{value:!0});k_.setAuthority=k_.getSetAuthorityInstructionDataSerializer=void 0;const p_t=Z,RB=H,b_t=gr,S_t=X5;function RCe(){return(0,RB.mapSerializer)((0,RB.struct)([["discriminator",(0,RB.u8)()],["authorityType",(0,S_t.getAuthorityTypeSerializer)()],["newAuthority",(0,RB.option)((0,RB.publicKey)())]],{description:"SetAuthorityInstructionData"}),n=>({...n,discriminator:6}))}k_.getSetAuthorityInstructionDataSerializer=RCe;function k_t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={owned:{index:0,isWritable:!0,value:e.owned??null},owner:{index:1,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,b_t.getAccountMetasAndSigners)(i,"programId",t),c=RCe().serialize(s),u=0;return(0,p_t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}k_.setAuthority=k_t;var v_={};Object.defineProperty(v_,"__esModule",{value:!0});v_.setComputeUnitLimit=v_.getSetComputeUnitLimitInstructionDataSerializer=void 0;const v_t=Z,J3=H,A_t=gr;function BCe(){return(0,J3.mapSerializer)((0,J3.struct)([["discriminator",(0,J3.u8)()],["units",(0,J3.u32)()]],{description:"SetComputeUnitLimitInstructionData"}),n=>({...n,discriminator:2}))}v_.getSetComputeUnitLimitInstructionDataSerializer=BCe;function w_t(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,A_t.getAccountMetasAndSigners)(i,"programId",t),c=BCe().serialize(s),u=0;return(0,v_t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}v_.setComputeUnitLimit=w_t;var A_={};Object.defineProperty(A_,"__esModule",{value:!0});A_.setComputeUnitPrice=A_.getSetComputeUnitPriceInstructionDataSerializer=void 0;const I_t=Z,X3=H,__t=gr;function CCe(){return(0,X3.mapSerializer)((0,X3.struct)([["discriminator",(0,X3.u8)()],["microLamports",(0,X3.u64)()]],{description:"SetComputeUnitPriceInstructionData"}),n=>({...n,discriminator:3}))}A_.getSetComputeUnitPriceInstructionDataSerializer=CCe;function P_t(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,__t.getAccountMetasAndSigners)(i,"programId",t),c=CCe().serialize(s),u=0;return(0,I_t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}A_.setComputeUnitPrice=P_t;var w_={};Object.defineProperty(w_,"__esModule",{value:!0});w_.syncNative=w_.getSyncNativeInstructionDataSerializer=void 0;const E_t=Z,v7=H,x_t=gr;function MCe(){return(0,v7.mapSerializer)((0,v7.struct)([["discriminator",(0,v7.u8)()]],{description:"SyncNativeInstructionData"}),n=>({...n,discriminator:17}))}w_.getSyncNativeInstructionDataSerializer=MCe;function T_t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,x_t.getAccountMetasAndSigners)(s,"programId",t),a=MCe().serialize({}),c=0;return(0,E_t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}w_.syncNative=T_t;var I_={};Object.defineProperty(I_,"__esModule",{value:!0});I_.thawToken=I_.getThawTokenInstructionDataSerializer=void 0;const R_t=Z,A7=H,B_t=gr;function zCe(){return(0,A7.mapSerializer)((0,A7.struct)([["discriminator",(0,A7.u8)()]],{description:"ThawTokenInstructionData"}),n=>({...n,discriminator:11}))}I_.getThawTokenInstructionDataSerializer=zCe;function C_t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,B_t.getAccountMetasAndSigners)(s,"programId",t),a=zCe().serialize({}),c=0;return(0,R_t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}I_.thawToken=C_t;var __={};Object.defineProperty(__,"__esModule",{value:!0});__.transferAllSol=__.getTransferAllSolInstructionDataSerializer=void 0;const M_t=Z,w7=H,z_t=gr;function $Ce(){return(0,w7.mapSerializer)((0,w7.struct)([["discriminator",(0,w7.u8)()]],{description:"TransferAllSolInstructionData"}),n=>({...n,discriminator:1}))}__.getTransferAllSolInstructionDataSerializer=$Ce;function $_t(n,e){const t=n.programs.getPublicKey("mplSystemExtras","SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null},systemProgram:{index:2,isWritable:!1,value:e.systemProgram??null}};r.source.value||(r.source.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,z_t.getAccountMetasAndSigners)(s,"programId",t),a=$Ce().serialize({}),c=0;return(0,M_t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}__.transferAllSol=$_t;var P_={};Object.defineProperty(P_,"__esModule",{value:!0});P_.transferSol=P_.getTransferSolInstructionDataSerializer=void 0;const DCe=Z,Q3=H,D_t=gr;function OCe(){return(0,Q3.mapSerializer)((0,Q3.struct)([["discriminator",(0,Q3.u32)()],["amount",(0,DCe.mapAmountSerializer)((0,Q3.u64)(),"SOL",9)]],{description:"TransferSolInstructionData"}),n=>({...n,discriminator:2}))}P_.getTransferSolInstructionDataSerializer=OCe;function O_t(n,e){const t=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null}},s={...e};r.source.value||(r.source.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,D_t.getAccountMetasAndSigners)(i,"programId",t),c=OCe().serialize(s),u=0;return(0,DCe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}P_.transferSol=O_t;var E_={};Object.defineProperty(E_,"__esModule",{value:!0});E_.transferTokens=E_.getTransferTokensInstructionDataSerializer=void 0;const L_t=Z,eD=H,K_t=gr;function LCe(){return(0,eD.mapSerializer)((0,eD.struct)([["discriminator",(0,eD.u8)()],["amount",(0,eD.u64)()]],{description:"TransferTokensInstructionData"}),n=>({...n,discriminator:3}))}E_.getTransferTokensInstructionDataSerializer=LCe;function W_t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,K_t.getAccountMetasAndSigners)(i,"programId",t),c=LCe().serialize(s),u=0;return(0,L_t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}E_.transferTokens=W_t;var x_={};Object.defineProperty(x_,"__esModule",{value:!0});x_.transferTokensChecked=x_.getTransferTokensCheckedInstructionDataSerializer=void 0;const N_t=Z,BB=H,F_t=gr;function KCe(){return(0,BB.mapSerializer)((0,BB.struct)([["discriminator",(0,BB.u8)()],["amount",(0,BB.u64)()],["decimals",(0,BB.u8)()]],{description:"TransferTokensCheckedInstructionData"}),n=>({...n,discriminator:12}))}x_.getTransferTokensCheckedInstructionDataSerializer=KCe;function U_t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},mint:{index:1,isWritable:!1,value:e.mint??null},destination:{index:2,isWritable:!0,value:e.destination??null},authority:{index:3,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,F_t.getAccountMetasAndSigners)(i,"programId",t),c=KCe().serialize(s),u=0;return(0,N_t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}x_.transferTokensChecked=U_t;var T_={};Object.defineProperty(T_,"__esModule",{value:!0});T_.uiAmountToAmount=T_.getUiAmountToAmountInstructionDataSerializer=void 0;const V_t=Z,tD=H,q_t=gr;function WCe(){return(0,tD.mapSerializer)((0,tD.struct)([["discriminator",(0,tD.u8)()],["uiAmount",(0,tD.u64)()]],{description:"UiAmountToAmountInstructionData"}),n=>({...n,discriminator:24}))}T_.getUiAmountToAmountInstructionDataSerializer=WCe;function H_t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,q_t.getAccountMetasAndSigners)(i,"programId",t),c=WCe().serialize(s),u=0;return(0,V_t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}T_.uiAmountToAmount=H_t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(VI,n),t(qI,n),t(HI,n),t(jI,n),t(GI,n),t(YI,n),t(ZI,n),t(JI,n),t(XI,n),t(QI,n),t(Q5,n),t(e_,n),t(rW,n),t(t_,n),t(r_,n),t(n_,n),t(s_,n),t(i_,n),t(o_,n),t(a_,n),t(c_,n),t(u_,n),t(l_,n),t(d_,n),t(f_,n),t(h_,n),t(g_,n),t(m_,n),t(y_,n),t(nW,n),t(p_,n),t(b_,n),t(S_,n),t(k_,n),t(v_,n),t(A_,n),t(w_,n),t(I_,n),t(__,n),t(P_,n),t(E_,n),t(x_,n),t(T_,n)})(QBe);var NCe={},FCe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplSystemExtrasProgramId=n.getMplSystemExtrasProgram=n.createMplSystemExtrasProgram=n.MPL_SYSTEM_EXTRAS_PROGRAM_ID=void 0;const e=pg;n.MPL_SYSTEM_EXTRAS_PROGRAM_ID="SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG";function t(){return{name:"mplSystemExtras",publicKey:n.MPL_SYSTEM_EXTRAS_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplSystemExtrasErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplSystemExtrasErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplSystemExtrasProgram=t;function r(i,o){return i.programs.get("mplSystemExtras",o)}n.getMplSystemExtrasProgram=r;function s(i,o){return i.programs.getPublicKey("mplSystemExtras",n.MPL_SYSTEM_EXTRAS_PROGRAM_ID,o)}n.getMplSystemExtrasProgramId=s})(FCe);var UCe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplTokenExtrasProgramId=n.getMplTokenExtrasProgram=n.createMplTokenExtrasProgram=n.MPL_TOKEN_EXTRAS_PROGRAM_ID=void 0;const e=pg;n.MPL_TOKEN_EXTRAS_PROGRAM_ID="TokExjvjJmhKaRBShsBAsbSvEWMA1AgUNK7ps4SAc2p";function t(){return{name:"mplTokenExtras",publicKey:n.MPL_TOKEN_EXTRAS_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplTokenExtrasErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplTokenExtrasErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplTokenExtrasProgram=t;function r(i,o){return i.programs.get("mplTokenExtras",o)}n.getMplTokenExtrasProgram=r;function s(i,o){return i.programs.getPublicKey("mplTokenExtras",n.MPL_TOKEN_EXTRAS_PROGRAM_ID,o)}n.getMplTokenExtrasProgramId=s})(UCe);var VCe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplAddressLookupTableProgramId=n.getSplAddressLookupTableProgram=n.createSplAddressLookupTableProgram=n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID=void 0;const e=pg;n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID="AddressLookupTab1e1111111111111111111111111";function t(){return{name:"splAddressLookupTable",publicKey:n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplAddressLookupTableErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplAddressLookupTableErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplAddressLookupTableProgram=t;function r(i,o){return i.programs.get("splAddressLookupTable",o)}n.getSplAddressLookupTableProgram=r;function s(i,o){return i.programs.getPublicKey("splAddressLookupTable",n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID,o)}n.getSplAddressLookupTableProgramId=s})(VCe);var qCe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplAssociatedTokenProgramId=n.getSplAssociatedTokenProgram=n.createSplAssociatedTokenProgram=n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID=void 0;const e=pg;n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL";function t(){return{name:"splAssociatedToken",publicKey:n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplAssociatedTokenErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplAssociatedTokenErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplAssociatedTokenProgram=t;function r(i,o){return i.programs.get("splAssociatedToken",o)}n.getSplAssociatedTokenProgram=r;function s(i,o){return i.programs.getPublicKey("splAssociatedToken",n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID,o)}n.getSplAssociatedTokenProgramId=s})(qCe);var HCe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplComputeBudgetProgramId=n.getSplComputeBudgetProgram=n.createSplComputeBudgetProgram=n.SPL_COMPUTE_BUDGET_PROGRAM_ID=void 0;const e=pg;n.SPL_COMPUTE_BUDGET_PROGRAM_ID="ComputeBudget111111111111111111111111111111";function t(){return{name:"splComputeBudget",publicKey:n.SPL_COMPUTE_BUDGET_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplComputeBudgetErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplComputeBudgetErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplComputeBudgetProgram=t;function r(i,o){return i.programs.get("splComputeBudget",o)}n.getSplComputeBudgetProgram=r;function s(i,o){return i.programs.getPublicKey("splComputeBudget",n.SPL_COMPUTE_BUDGET_PROGRAM_ID,o)}n.getSplComputeBudgetProgramId=s})(HCe);var jCe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplMemoProgramId=n.getSplMemoProgram=n.createSplMemoProgram=n.SPL_MEMO_PROGRAM_ID=void 0;const e=pg;n.SPL_MEMO_PROGRAM_ID="Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo";function t(){return{name:"splMemo",publicKey:n.SPL_MEMO_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplMemoErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplMemoErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplMemoProgram=t;function r(i,o){return i.programs.get("splMemo",o)}n.getSplMemoProgram=r;function s(i,o){return i.programs.getPublicKey("splMemo",n.SPL_MEMO_PROGRAM_ID,o)}n.getSplMemoProgramId=s})(jCe);var GCe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplSystemProgramId=n.getSplSystemProgram=n.createSplSystemProgram=n.SPL_SYSTEM_PROGRAM_ID=void 0;const e=pg;n.SPL_SYSTEM_PROGRAM_ID="11111111111111111111111111111111";function t(){return{name:"splSystem",publicKey:n.SPL_SYSTEM_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplSystemErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplSystemErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplSystemProgram=t;function r(i,o){return i.programs.get("splSystem",o)}n.getSplSystemProgram=r;function s(i,o){return i.programs.getPublicKey("splSystem",n.SPL_SYSTEM_PROGRAM_ID,o)}n.getSplSystemProgramId=s})(GCe);var YCe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplTokenProgramId=n.getSplTokenProgram=n.createSplTokenProgram=n.SPL_TOKEN_PROGRAM_ID=void 0;const e=pg;n.SPL_TOKEN_PROGRAM_ID="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";function t(){return{name:"splToken",publicKey:n.SPL_TOKEN_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplTokenErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplTokenErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplTokenProgram=t;function r(i,o){return i.programs.get("splToken",o)}n.getSplTokenProgram=r;function s(i,o){return i.programs.getPublicKey("splToken",n.SPL_TOKEN_PROGRAM_ID,o)}n.getSplTokenProgramId=s})(YCe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(FCe,n),t(UCe,n),t(VCe,n),t(qCe,n),t(HCe,n),t(jCe,n),t(GCe,n),t(YCe,n)})(NCe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(J5,n),t(pg,n),t(QBe,n),t(NCe,n),t(gr,n),t(X5,n)})(fy);var sW={};Object.defineProperty(sW,"__esModule",{value:!0});sW.createLut=void 0;const j_t=Z,I7=fy;function G_t(n,e){const{addresses:t,...r}=e,s=e.authority??n.identity,i=e.address??(0,I7.findAddressLookupTablePda)(n,{authority:s.publicKey,recentSlot:e.recentSlot});return[(0,j_t.transactionBuilder)().add((0,I7.createEmptyLut)(n,r)).add((0,I7.extendLut)(n,{address:i,authority:s,addresses:t,payer:e.payer})),{publicKey:i[0],addresses:t}]}sW.createLut=G_t;var iW={};Object.defineProperty(iW,"__esModule",{value:!0});iW.createLutForTransactionBuilder=void 0;const _7=Z,_G=fy,Y_t=(n,e,t,r)=>{const s=r??n.identity,i=(0,_7.uniquePublicKeys)([e.getFeePayer(n).publicKey,...e.items.flatMap(({instruction:u})=>u.keys.filter(l=>l.isSigner).map(l=>l.pubkey))]),o=(0,_7.uniquePublicKeys)(e.items.flatMap(({instruction:u})=>[u.programId,...u.keys.map(l=>l.pubkey)])).filter(u=>!i.includes(u)),a=[],c=[];return(0,_7.chunk)(o,256).forEach((u,l)=>{const d=t-l,[y]=(0,_G.findAddressLookupTablePda)(n,{authority:s.publicKey,recentSlot:d});a.push({publicKey:y,addresses:u}),c.push(...Z_t(n,(0,_G.createEmptyLut)(n,{recentSlot:d}),y,s,u))}),[c,a]};iW.createLutForTransactionBuilder=Y_t;function Z_t(n,e,t,r,s){const i=[];let o=[],a=e;return s.forEach(c=>{const u=e.add((0,_G.extendLut)(n,{address:t,addresses:[...o,c],authority:r}));u.fitsInOneTransaction(n)?(o.push(c),a=u):(o=[c],i.push(a),e=e.empty(),a=e)}),o.length>0&&i.push(a),i}var b8={};Object.defineProperty(b8,"__esModule",{value:!0});b8.createMint=void 0;const Ybe=Z,P7=fy;function J_t(n,e){return(0,Ybe.transactionBuilder)().add((0,P7.createAccountWithRent)(n,{newAccount:e.mint,space:(0,P7.getMintSize)(),programId:n.programs.get("splToken").publicKey})).add((0,P7.initializeMint2)(n,{mint:e.mint.publicKey,decimals:e.decimals??0,mintAuthority:e.mintAuthority??n.identity.publicKey,freezeAuthority:e.freezeAuthority===void 0?(0,Ybe.some)(n.identity.publicKey):e.freezeAuthority}))}b8.createMint=J_t;var oW={};Object.defineProperty(oW,"__esModule",{value:!0});oW.createMintWithAssociatedToken=void 0;const E7=Z,X_t=b8,Zbe=fy,Q_t=o2;function ePt(n,e){const t={mint:e.mint.publicKey,owner:e.owner??n.identity.publicKey},r=e.amount??0;let s=(0,E7.transactionBuilder)().add((0,X_t.createMint)(n,{...e,mintAuthority:e.mintAuthority?(0,E7.publicKey)(e.mintAuthority,!1):void 0})).add((0,Zbe.createAssociatedToken)(n,t));return r>0&&(s=s.add((0,Zbe.mintTokensTo)(n,{amount:r,mint:e.mint.publicKey,token:(0,Q_t.findAssociatedTokenPda)(n,t),mintAuthority:e.mintAuthority&&(0,E7.isSigner)(e.mintAuthority)?e.mintAuthority:void 0}))),s}oW.createMintWithAssociatedToken=ePt;var aW={};Object.defineProperty(aW,"__esModule",{value:!0});aW.createToken=void 0;const tPt=Z,x7=fy;function rPt(n,e){return(0,tPt.transactionBuilder)().add((0,x7.createAccountWithRent)(n,{newAccount:e.token,space:(0,x7.getTokenSize)(),programId:n.programs.get("splToken").publicKey})).add((0,x7.initializeToken3)(n,{account:e.token.publicKey,mint:e.mint,owner:e.owner??n.identity.publicKey}))}aW.createToken=rPt;var ZCe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchTokensByOwnerAndMint=n.fetchTokensByOwner=n.fetchAllMintByOwner=n.fetchAllMintPublicKeyByOwner=n.fetchAllTokenByOwnerAndMint=n.fetchAllTokenByOwner=void 0;const e=Z,t=H,r=fy,s=async(u,l,d,y={})=>{const h=u.programs.get("splToken").publicKey,m=y.mint?{mint:y.mint}:{programId:h};return(await u.rpc.call("getTokenAccountsByOwner",[l,m],{...y,extra:{encoding:"base64"}})).value.filter(({account:g})=>{const b=t.base64.serialize(g.data[0]),S=(0,t.u64)().deserialize(b.slice(64,72))[0];return d(S)})},i=async(u,l,d={})=>{const{mint:y,tokenStrategy:h="getProgramAccounts",tokenAmountFilter:m=b=>b>0,...f}=d;if(h==="getTokenAccountsByOwner")return(await s(u,l,m,{mint:y,...f})).map(({pubkey:S,account:p})=>(0,r.deserializeToken)({...p,data:t.base64.serialize(p.data[0]),publicKey:(0,e.publicKey)(S),owner:(0,e.publicKey)(p.owner),lamports:(0,e.lamports)(p.lamports)}));let g=(0,r.getTokenGpaBuilder)(u).whereField("owner",l);return y&&(g=g.whereField("mint",y)),(await g.get()).filter(b=>{const S=(0,t.u64)().deserialize(b.data.slice(64,72))[0];return m(S)}).map(b=>(0,r.deserializeToken)(b))};n.fetchAllTokenByOwner=i;const o=(u,l,d,y={})=>(0,n.fetchAllTokenByOwner)(u,l,{...y,mint:d});n.fetchAllTokenByOwnerAndMint=o;const a=async(u,l,d={})=>{const{tokenStrategy:y="getProgramAccounts",tokenAmountFilter:h=f=>f>0,...m}=d;return y==="getTokenAccountsByOwner"?(await s(u,l,h,m)).map(({account:g})=>(0,e.publicKey)(t.base64.serialize(g.data[0]).slice(0,32))):(await(0,r.getTokenGpaBuilder)(u).slice(0,72).whereField("owner",l).get()).filter(f=>{const g=(0,t.u64)().deserialize(f.data.slice(64,72))[0];return h(g)}).map(f=>(0,e.publicKey)(f.data.slice(0,32)))};n.fetchAllMintPublicKeyByOwner=a;const c=async(u,l,d={})=>{const{tokenStrategy:y,tokenAmountFilter:h,...m}=d,f=await(0,n.fetchAllMintPublicKeyByOwner)(u,l,d);return(0,r.fetchAllMint)(u,f,m)};n.fetchAllMintByOwner=c,n.fetchTokensByOwner=n.fetchAllTokenByOwner,n.fetchTokensByOwnerAndMint=n.fetchAllTokenByOwnerAndMint})(ZCe);var cW={};Object.defineProperty(cW,"__esModule",{value:!0});cW.findLargestTokensByMint=void 0;const Jbe=Z,nPt=async(n,e,t={})=>(await n.rpc.call("getTokenLargestAccounts",[e],t)).value.map(({address:s,amount:i,decimals:o})=>({publicKey:(0,Jbe.publicKey)(s),amount:(0,Jbe.createAmount)(i,"splToken",o)}));cW.findLargestTokensByMint=nPt;var JCe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.mplEssentials=n.mplToolbox=void 0;const e=Z,t=fy,r=()=>({install(s){s.programs.add((0,t.createSplSystemProgram)(),!1),s.programs.add((0,t.createSplMemoProgram)(),!1),s.programs.add((0,t.createSplTokenProgram)(),!1),s.programs.add((0,t.createSplAssociatedTokenProgram)(),!1),s.programs.add((0,t.createSplAddressLookupTableProgram)(),!1),s.programs.add((0,t.createMplSystemExtrasProgram)(),!1),s.programs.add((0,t.createMplTokenExtrasProgram)(),!1),s.programs.add({...(0,t.createSplTokenProgram)(),name:"splToken2022",publicKey:(0,e.publicKey)("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb")},!1)}});n.mplToolbox=r,n.mplEssentials=n.mplToolbox})(JCe);var uW={};Object.defineProperty(uW,"__esModule",{value:!0});uW.getSysvar=void 0;const Bf=Z,sPt=n=>{switch(n){case"clock":return(0,Bf.publicKey)("SysvarC1ock11111111111111111111111111111111");case"epochSchedule":return(0,Bf.publicKey)("SysvarEpochSchedu1e111111111111111111111111");case"instructions":return(0,Bf.publicKey)("Sysvar1nstructions1111111111111111111111111");case"recentBlockhashes":return(0,Bf.publicKey)("SysvarRecentB1ockHashes11111111111111111111");case"rent":return(0,Bf.publicKey)("SysvarRent111111111111111111111111111111111");case"rewards":return(0,Bf.publicKey)("SysvarRewards111111111111111111111111111111");case"slotHashes":return(0,Bf.publicKey)("SysvarS1otHashes111111111111111111111111111");case"slotHistory":return(0,Bf.publicKey)("SysvarS1otHistory11111111111111111111111111");case"stakeHistory":return(0,Bf.publicKey)("SysvarStakeHistory1111111111111111111111111");default:throw new Bf.SdkError(`Unknown sysvar: ${n}`)}};uW.getSysvar=sPt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(fy,n),t(o2,n),t(sW,n),t(iW,n),t(b8,n),t(oW,n),t(aW,n),t(ZCe,n),t(cW,n),t(JCe,n),t(uW,n)})(hi);var lW={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isProgrammable=n.isNonFungible=n.isFungible=n.deserializeDigitalAsset=n.fetchAllMetadataByOwner=n.fetchAllDigitalAssetByOwner=n.fetchAllDigitalAssetByUpdateAuthority=n.fetchAllDigitalAssetByVerifiedCollection=n.fetchAllDigitalAssetByCreator=n.fetchAllDigitalAsset=n.fetchDigitalAssetByMetadata=n.fetchDigitalAsset=void 0;const e=hi,t=Z,r=U0,s=F0,i=326,o=34,a=[366,400,434,468,502],c=1,u=2;async function l(A,P,E){const[M]=(0,s.findMetadataPda)(A,{mint:P}),[x]=(0,s.findMasterEditionPda)(A,{mint:P}),[R,$,z]=await A.rpc.getAccounts([P,M,x],E);return(0,t.assertAccountExists)(R,"Mint"),(0,t.assertAccountExists)($,"Metadata"),S(R,$,z.exists?z:void 0)}n.fetchDigitalAsset=l;async function d(A,P,E){const M=await(0,s.fetchMetadata)(A,P,E);return l(A,M.mint,E)}n.fetchDigitalAssetByMetadata=d;async function y(A,P,E){const M=P.flatMap(R=>[R,(0,s.findMetadataPda)(A,{mint:R})[0],(0,s.findMasterEditionPda)(A,{mint:R})[0]]),x=await A.rpc.getAccounts(M,E);return(0,t.chunk)(x,3).flatMap(([R,$,z])=>{try{return(0,t.assertAccountExists)(R,"Mint"),(0,t.assertAccountExists)($,"Metadata"),[S(R,$,z.exists?z:void 0)]}catch{return[]}})}n.fetchAllDigitalAsset=y;async function h(A,P,E){const M=((E==null?void 0:E.position)??1)-1,x=await(0,s.getMetadataGpaBuilder)(A).where(i+M*o,P).sliceField("mint").getDataAsPublicKeys();return y(A,x,E)}n.fetchAllDigitalAssetByCreator=h;async function m(A,P,E){const M=await Promise.all(a.map(async x=>(0,s.getMetadataGpaBuilder)(A).where(x,1).where(x+c,1).where(x+u,P).sliceField("mint").getDataAsPublicKeys()));return y(A,M.flat(),E)}n.fetchAllDigitalAssetByVerifiedCollection=m;async function f(A,P,E){const M=await(0,s.getMetadataGpaBuilder)(A).whereField("updateAuthority",P).sliceField("mint").getDataAsPublicKeys();return y(A,M,E)}n.fetchAllDigitalAssetByUpdateAuthority=f;async function g(A,P,E){const M=await(0,e.fetchAllMintPublicKeyByOwner)(A,P,E);return y(A,M,E)}n.fetchAllDigitalAssetByOwner=g;async function b(A,P,E){const x=(await(0,e.fetchAllMintPublicKeyByOwner)(A,P,E)).map($=>(0,s.findMetadataPda)(A,{mint:$})[0]);return(await A.rpc.getAccounts(x,E)).flatMap($=>{try{return(0,t.assertAccountExists)($,"Metadata"),[(0,s.deserializeMetadata)($)]}catch{return[]}})}n.fetchAllMetadataByOwner=b;function S(A,P,E){const M=(0,e.deserializeMint)(A),x=(0,s.deserializeMetadata)(P),R=(0,t.unwrapOption)(x.tokenStandard);if(R&&(0,n.isNonFungible)(R)&&!E)throw new Error("Edition account must be provided for non-fungible assets.");const $={publicKey:M.publicKey,mint:M,metadata:x};if(!E)return $;const z=(0,s.getKeySerializer)().deserialize(E.data)[0];let T;if(z===s.Key.MasterEditionV1||z===s.Key.MasterEditionV2)T={isOriginal:!0,...(0,s.deserializeMasterEdition)(E)};else if(z===s.Key.EditionV1)T={isOriginal:!1,...(0,s.deserializeEdition)(E)};else throw new r.TokenMetadataError(`Invalid key "${z}" for edition account.`);return{...$,edition:T}}n.deserializeDigitalAsset=S;const p=A=>A===s.TokenStandard.Fungible||A===s.TokenStandard.FungibleAsset;n.isFungible=p;const I=A=>!(0,n.isFungible)(A);n.isNonFungible=I;const w=A=>A===s.TokenStandard.ProgrammableNonFungible;n.isProgrammable=w})(lW);Object.defineProperty(ic,"__esModule",{value:!0});ic.resolveIsNonFungibleOrIsMintSigner=ic.resolveOptionalTokenOwner=ic.resolveCreateV1Bytes=ic.resolveCreators=ic.resolvePrintSupply=ic.resolveDecimals=ic.resolveIsNonFungible=ic.resolveCollectionDetails=void 0;const iPt=hi,Jh=Z,S8=lW,iy=F0,oPt=679,aPt=282,cPt=(n,e,t,...r)=>t.isCollection?(0,Jh.some)((0,iy.collectionDetails)("V1",{size:0})):(0,Jh.none)();ic.resolveCollectionDetails=cPt;const uPt=(n,e,t,...r)=>(0,S8.isNonFungible)((0,iy.expectSome)(t.tokenStandard));ic.resolveIsNonFungible=uPt;const lPt=(n,e,t,...r)=>(0,S8.isNonFungible)((0,iy.expectSome)(t.tokenStandard))?(0,Jh.none)():(0,Jh.some)(0);ic.resolveDecimals=lPt;const dPt=(n,e,t,...r)=>(0,S8.isNonFungible)((0,iy.expectSome)(t.tokenStandard))?(0,Jh.some)((0,iy.printSupply)("Zero")):(0,Jh.none)();ic.resolvePrintSupply=dPt;const fPt=(n,e,...t)=>(0,Jh.some)([{address:(0,iy.expectPublicKey)(e.authority.value),share:100,verified:!0}]);ic.resolveCreators=fPt;const hPt=(n,e,t,...r)=>{const s=(0,iPt.getMintSize)()+oPt+2*Jh.ACCOUNT_HEADER_SIZE;return(0,S8.isNonFungible)((0,iy.expectSome)(t.tokenStandard))?s+aPt+Jh.ACCOUNT_HEADER_SIZE:s};ic.resolveCreateV1Bytes=hPt;const gPt=(n,e,...t)=>e.token.value?{value:null}:{value:n.identity.publicKey};ic.resolveOptionalTokenOwner=gPt;const mPt=(n,e,t,...r)=>(0,S8.isNonFungible)((0,iy.expectSome)(t.tokenStandard))||(0,Jh.isSigner)((0,iy.expectSome)(e.mint.value));ic.resolveIsNonFungibleOrIsMintSigner=mPt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(G5,n),t(Y5,n),t(Z5,n),t(ic,n)})(bn);Object.defineProperty(Ai,"__esModule",{value:!0});Ai.safeFetchHolderDelegateRecordFromSeeds=Ai.fetchHolderDelegateRecordFromSeeds=Ai.findHolderDelegateRecordPda=Ai.getHolderDelegateRecordSize=Ai.getHolderDelegateRecordGpaBuilder=Ai.safeFetchAllHolderDelegateRecord=Ai.fetchAllHolderDelegateRecord=Ai.safeFetchHolderDelegateRecord=Ai.fetchHolderDelegateRecord=Ai.deserializeHolderDelegateRecord=Ai.getHolderDelegateRecordAccountDataSerializer=void 0;const m0=Z,el=H,yPt=bn,XCe=ht;function QCe(){return(0,el.struct)([["key",(0,XCe.getKeySerializer)()],["bump",(0,el.u8)()],["mint",(0,el.publicKey)()],["delegate",(0,el.publicKey)()],["updateAuthority",(0,el.publicKey)()]],{description:"HolderDelegateRecordAccountData"})}Ai.getHolderDelegateRecordAccountDataSerializer=QCe;function a2(n){return(0,m0.deserializeAccount)(n,QCe())}Ai.deserializeHolderDelegateRecord=a2;async function eMe(n,e,t){const r=await n.rpc.getAccount((0,m0.publicKey)(e,!1),t);return(0,m0.assertAccountExists)(r,"HolderDelegateRecord"),a2(r)}Ai.fetchHolderDelegateRecord=eMe;async function tMe(n,e,t){const r=await n.rpc.getAccount((0,m0.publicKey)(e,!1),t);return r.exists?a2(r):null}Ai.safeFetchHolderDelegateRecord=tMe;async function pPt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,m0.publicKey)(s,!1)),t)).map(s=>((0,m0.assertAccountExists)(s,"HolderDelegateRecord"),a2(s)))}Ai.fetchAllHolderDelegateRecord=pPt;async function bPt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,m0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>a2(s))}Ai.safeFetchAllHolderDelegateRecord=bPt;function SPt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,m0.gpaBuilder)(n,e).registerFields({key:[0,(0,XCe.getKeySerializer)()],bump:[1,(0,el.u8)()],mint:[2,(0,el.publicKey)()],delegate:[34,(0,el.publicKey)()],updateAuthority:[66,(0,el.publicKey)()]}).deserializeUsing(t=>a2(t))}Ai.getHolderDelegateRecordGpaBuilder=SPt;function kPt(){return 98}Ai.getHolderDelegateRecordSize=kPt;function Pre(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,el.string)({size:"variable"}).serialize("metadata"),(0,el.publicKey)().serialize(t),(0,el.publicKey)().serialize(e.mint),(0,yPt.getHolderDelegateRoleSeedSerializer)().serialize(e.delegateRole),(0,el.publicKey)().serialize(e.owner),(0,el.publicKey)().serialize(e.delegate)])}Ai.findHolderDelegateRecordPda=Pre;async function vPt(n,e,t){return eMe(n,Pre(n,e),t)}Ai.fetchHolderDelegateRecordFromSeeds=vPt;async function APt(n,e,t){return tMe(n,Pre(n,e),t)}Ai.safeFetchHolderDelegateRecordFromSeeds=APt;var jo={};Object.defineProperty(jo,"__esModule",{value:!0});jo.safeFetchMasterEditionFromSeeds=jo.fetchMasterEditionFromSeeds=jo.findMasterEditionPda=jo.getMasterEditionGpaBuilder=jo.safeFetchAllMasterEdition=jo.fetchAllMasterEdition=jo.safeFetchMasterEdition=jo.fetchMasterEdition=jo.deserializeMasterEdition=jo.getMasterEditionAccountDataSerializer=void 0;const y0=Z,ld=H,U4=ht;function rMe(){return(0,ld.mapSerializer)((0,ld.struct)([["key",(0,U4.getKeySerializer)()],["supply",(0,ld.u64)()],["maxSupply",(0,ld.option)((0,ld.u64)())]],{description:"MasterEditionAccountData"}),n=>({...n,key:U4.Key.MasterEditionV2}))}jo.getMasterEditionAccountDataSerializer=rMe;function c2(n){return(0,y0.deserializeAccount)(n,rMe())}jo.deserializeMasterEdition=c2;async function nMe(n,e,t){const r=await n.rpc.getAccount((0,y0.publicKey)(e,!1),t);return(0,y0.assertAccountExists)(r,"MasterEdition"),c2(r)}jo.fetchMasterEdition=nMe;async function sMe(n,e,t){const r=await n.rpc.getAccount((0,y0.publicKey)(e,!1),t);return r.exists?c2(r):null}jo.safeFetchMasterEdition=sMe;async function wPt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,y0.publicKey)(s,!1)),t)).map(s=>((0,y0.assertAccountExists)(s,"MasterEdition"),c2(s)))}jo.fetchAllMasterEdition=wPt;async function IPt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,y0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>c2(s))}jo.safeFetchAllMasterEdition=IPt;function _Pt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,y0.gpaBuilder)(n,e).registerFields({key:[0,(0,U4.getKeySerializer)()],supply:[1,(0,ld.u64)()],maxSupply:[9,(0,ld.option)((0,ld.u64)())]}).deserializeUsing(t=>c2(t)).whereField("key",U4.Key.MasterEditionV2)}jo.getMasterEditionGpaBuilder=_Pt;function Ere(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,ld.string)({size:"variable"}).serialize("metadata"),(0,ld.publicKey)().serialize(t),(0,ld.publicKey)().serialize(e.mint),(0,ld.string)({size:"variable"}).serialize("edition")])}jo.findMasterEditionPda=Ere;async function PPt(n,e,t){return nMe(n,Ere(n,e),t)}jo.fetchMasterEditionFromSeeds=PPt;async function EPt(n,e,t){return sMe(n,Ere(n,e),t)}jo.safeFetchMasterEditionFromSeeds=EPt;var Go={};Object.defineProperty(Go,"__esModule",{value:!0});Go.safeFetchMetadataFromSeeds=Go.fetchMetadataFromSeeds=Go.findMetadataPda=Go.getMetadataGpaBuilder=Go.safeFetchAllMetadata=Go.fetchAllMetadata=Go.safeFetchMetadata=Go.fetchMetadata=Go.deserializeMetadata=Go.getMetadataAccountDataSerializer=void 0;const p0=Z,wn=H,Gc=ht;function iMe(){return(0,wn.mapSerializer)((0,wn.struct)([["key",(0,Gc.getKeySerializer)()],["updateAuthority",(0,wn.publicKey)()],["mint",(0,wn.publicKey)()],["name",(0,wn.string)()],["symbol",(0,wn.string)()],["uri",(0,wn.string)()],["sellerFeeBasisPoints",(0,wn.u16)()],["creators",(0,wn.option)((0,wn.array)((0,Gc.getCreatorSerializer)()))],["primarySaleHappened",(0,wn.bool)()],["isMutable",(0,wn.bool)()],["editionNonce",(0,wn.option)((0,wn.u8)())],["tokenStandard",(0,wn.option)((0,Gc.getTokenStandardSerializer)())],["collection",(0,wn.option)((0,Gc.getCollectionSerializer)())],["uses",(0,wn.option)((0,Gc.getUsesSerializer)())],["collectionDetails",(0,wn.option)((0,Gc.getCollectionDetailsSerializer)())],["programmableConfig",(0,wn.option)((0,Gc.getProgrammableConfigSerializer)())]],{description:"MetadataAccountData"}),n=>({...n,key:Gc.Key.MetadataV1}))}Go.getMetadataAccountDataSerializer=iMe;function u2(n){return(0,p0.deserializeAccount)(n,iMe())}Go.deserializeMetadata=u2;async function oMe(n,e,t){const r=await n.rpc.getAccount((0,p0.publicKey)(e,!1),t);return(0,p0.assertAccountExists)(r,"Metadata"),u2(r)}Go.fetchMetadata=oMe;async function aMe(n,e,t){const r=await n.rpc.getAccount((0,p0.publicKey)(e,!1),t);return r.exists?u2(r):null}Go.safeFetchMetadata=aMe;async function xPt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,p0.publicKey)(s,!1)),t)).map(s=>((0,p0.assertAccountExists)(s,"Metadata"),u2(s)))}Go.fetchAllMetadata=xPt;async function TPt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,p0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>u2(s))}Go.safeFetchAllMetadata=TPt;function RPt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,p0.gpaBuilder)(n,e).registerFields({key:[0,(0,Gc.getKeySerializer)()],updateAuthority:[1,(0,wn.publicKey)()],mint:[33,(0,wn.publicKey)()],name:[65,(0,wn.string)()],symbol:[null,(0,wn.string)()],uri:[null,(0,wn.string)()],sellerFeeBasisPoints:[null,(0,wn.u16)()],creators:[null,(0,wn.option)((0,wn.array)((0,Gc.getCreatorSerializer)()))],primarySaleHappened:[null,(0,wn.bool)()],isMutable:[null,(0,wn.bool)()],editionNonce:[null,(0,wn.option)((0,wn.u8)())],tokenStandard:[null,(0,wn.option)((0,Gc.getTokenStandardSerializer)())],collection:[null,(0,wn.option)((0,Gc.getCollectionSerializer)())],uses:[null,(0,wn.option)((0,Gc.getUsesSerializer)())],collectionDetails:[null,(0,wn.option)((0,Gc.getCollectionDetailsSerializer)())],programmableConfig:[null,(0,wn.option)((0,Gc.getProgrammableConfigSerializer)())]}).deserializeUsing(t=>u2(t)).whereField("key",Gc.Key.MetadataV1)}Go.getMetadataGpaBuilder=RPt;function xre(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,wn.string)({size:"variable"}).serialize("metadata"),(0,wn.publicKey)().serialize(t),(0,wn.publicKey)().serialize(e.mint)])}Go.findMetadataPda=xre;async function BPt(n,e,t){return oMe(n,xre(n,e),t)}Go.fetchMetadataFromSeeds=BPt;async function CPt(n,e,t){return aMe(n,xre(n,e),t)}Go.safeFetchMetadataFromSeeds=CPt;var wi={};Object.defineProperty(wi,"__esModule",{value:!0});wi.safeFetchMetadataDelegateRecordFromSeeds=wi.fetchMetadataDelegateRecordFromSeeds=wi.findMetadataDelegateRecordPda=wi.getMetadataDelegateRecordSize=wi.getMetadataDelegateRecordGpaBuilder=wi.safeFetchAllMetadataDelegateRecord=wi.fetchAllMetadataDelegateRecord=wi.safeFetchMetadataDelegateRecord=wi.fetchMetadataDelegateRecord=wi.deserializeMetadataDelegateRecord=wi.getMetadataDelegateRecordAccountDataSerializer=void 0;const b0=Z,tl=H,MPt=bn,cMe=ht;function uMe(){return(0,tl.struct)([["key",(0,cMe.getKeySerializer)()],["bump",(0,tl.u8)()],["mint",(0,tl.publicKey)()],["delegate",(0,tl.publicKey)()],["updateAuthority",(0,tl.publicKey)()]],{description:"MetadataDelegateRecordAccountData"})}wi.getMetadataDelegateRecordAccountDataSerializer=uMe;function l2(n){return(0,b0.deserializeAccount)(n,uMe())}wi.deserializeMetadataDelegateRecord=l2;async function lMe(n,e,t){const r=await n.rpc.getAccount((0,b0.publicKey)(e,!1),t);return(0,b0.assertAccountExists)(r,"MetadataDelegateRecord"),l2(r)}wi.fetchMetadataDelegateRecord=lMe;async function dMe(n,e,t){const r=await n.rpc.getAccount((0,b0.publicKey)(e,!1),t);return r.exists?l2(r):null}wi.safeFetchMetadataDelegateRecord=dMe;async function zPt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,b0.publicKey)(s,!1)),t)).map(s=>((0,b0.assertAccountExists)(s,"MetadataDelegateRecord"),l2(s)))}wi.fetchAllMetadataDelegateRecord=zPt;async function $Pt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,b0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>l2(s))}wi.safeFetchAllMetadataDelegateRecord=$Pt;function DPt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,b0.gpaBuilder)(n,e).registerFields({key:[0,(0,cMe.getKeySerializer)()],bump:[1,(0,tl.u8)()],mint:[2,(0,tl.publicKey)()],delegate:[34,(0,tl.publicKey)()],updateAuthority:[66,(0,tl.publicKey)()]}).deserializeUsing(t=>l2(t))}wi.getMetadataDelegateRecordGpaBuilder=DPt;function OPt(){return 98}wi.getMetadataDelegateRecordSize=OPt;function Tre(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,tl.string)({size:"variable"}).serialize("metadata"),(0,tl.publicKey)().serialize(t),(0,tl.publicKey)().serialize(e.mint),(0,MPt.getMetadataDelegateRoleSeedSerializer)().serialize(e.delegateRole),(0,tl.publicKey)().serialize(e.updateAuthority),(0,tl.publicKey)().serialize(e.delegate)])}wi.findMetadataDelegateRecordPda=Tre;async function LPt(n,e,t){return lMe(n,Tre(n,e),t)}wi.fetchMetadataDelegateRecordFromSeeds=LPt;async function KPt(n,e,t){return dMe(n,Tre(n,e),t)}wi.safeFetchMetadataDelegateRecordFromSeeds=KPt;var Jc={};Object.defineProperty(Jc,"__esModule",{value:!0});Jc.getTokenOwnedEscrowGpaBuilder=Jc.safeFetchAllTokenOwnedEscrow=Jc.fetchAllTokenOwnedEscrow=Jc.safeFetchTokenOwnedEscrow=Jc.fetchTokenOwnedEscrow=Jc.deserializeTokenOwnedEscrow=Jc.getTokenOwnedEscrowAccountDataSerializer=void 0;const S0=Z,JA=H,Bw=ht;function fMe(){return(0,JA.mapSerializer)((0,JA.struct)([["key",(0,Bw.getKeySerializer)()],["baseToken",(0,JA.publicKey)()],["authority",(0,Bw.getEscrowAuthoritySerializer)()],["bump",(0,JA.u8)()]],{description:"TokenOwnedEscrowAccountData"}),n=>({...n,key:Bw.Key.TokenOwnedEscrow}))}Jc.getTokenOwnedEscrowAccountDataSerializer=fMe;function d2(n){return(0,S0.deserializeAccount)(n,fMe())}Jc.deserializeTokenOwnedEscrow=d2;async function WPt(n,e,t){const r=await n.rpc.getAccount((0,S0.publicKey)(e,!1),t);return(0,S0.assertAccountExists)(r,"TokenOwnedEscrow"),d2(r)}Jc.fetchTokenOwnedEscrow=WPt;async function NPt(n,e,t){const r=await n.rpc.getAccount((0,S0.publicKey)(e,!1),t);return r.exists?d2(r):null}Jc.safeFetchTokenOwnedEscrow=NPt;async function FPt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,S0.publicKey)(s,!1)),t)).map(s=>((0,S0.assertAccountExists)(s,"TokenOwnedEscrow"),d2(s)))}Jc.fetchAllTokenOwnedEscrow=FPt;async function UPt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,S0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>d2(s))}Jc.safeFetchAllTokenOwnedEscrow=UPt;function VPt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,S0.gpaBuilder)(n,e).registerFields({key:[0,(0,Bw.getKeySerializer)()],baseToken:[1,(0,JA.publicKey)()],authority:[33,(0,Bw.getEscrowAuthoritySerializer)()],bump:[null,(0,JA.u8)()]}).deserializeUsing(t=>d2(t)).whereField("key",Bw.Key.TokenOwnedEscrow)}Jc.getTokenOwnedEscrowGpaBuilder=VPt;var Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.safeFetchTokenRecordFromSeeds=Ii.fetchTokenRecordFromSeeds=Ii.findTokenRecordPda=Ii.getTokenRecordSize=Ii.getTokenRecordGpaBuilder=Ii.safeFetchAllTokenRecord=Ii.fetchAllTokenRecord=Ii.safeFetchTokenRecord=Ii.fetchTokenRecord=Ii.deserializeTokenRecord=Ii.getTokenRecordAccountDataSerializer=void 0;const k0=Z,Ui=H,Up=ht;function hMe(){return(0,Ui.mapSerializer)((0,Ui.struct)([["key",(0,Up.getKeySerializer)()],["bump",(0,Ui.u8)()],["state",(0,Up.getTokenStateSerializer)()],["ruleSetRevision",(0,Ui.option)((0,Ui.u64)())],["delegate",(0,Ui.option)((0,Ui.publicKey)())],["delegateRole",(0,Ui.option)((0,Up.getTokenDelegateRoleSerializer)())],["lockedTransfer",(0,Ui.option)((0,Ui.publicKey)())]],{description:"TokenRecordAccountData"}),n=>({...n,key:Up.Key.TokenRecord}))}Ii.getTokenRecordAccountDataSerializer=hMe;function f2(n){return(0,k0.deserializeAccount)(n,hMe())}Ii.deserializeTokenRecord=f2;async function gMe(n,e,t){const r=await n.rpc.getAccount((0,k0.publicKey)(e,!1),t);return(0,k0.assertAccountExists)(r,"TokenRecord"),f2(r)}Ii.fetchTokenRecord=gMe;async function mMe(n,e,t){const r=await n.rpc.getAccount((0,k0.publicKey)(e,!1),t);return r.exists?f2(r):null}Ii.safeFetchTokenRecord=mMe;async function qPt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,k0.publicKey)(s,!1)),t)).map(s=>((0,k0.assertAccountExists)(s,"TokenRecord"),f2(s)))}Ii.fetchAllTokenRecord=qPt;async function HPt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,k0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>f2(s))}Ii.safeFetchAllTokenRecord=HPt;function jPt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,k0.gpaBuilder)(n,e).registerFields({key:[0,(0,Up.getKeySerializer)()],bump:[1,(0,Ui.u8)()],state:[2,(0,Up.getTokenStateSerializer)()],ruleSetRevision:[3,(0,Ui.option)((0,Ui.u64)())],delegate:[null,(0,Ui.option)((0,Ui.publicKey)())],delegateRole:[null,(0,Ui.option)((0,Up.getTokenDelegateRoleSerializer)())],lockedTransfer:[null,(0,Ui.option)((0,Ui.publicKey)())]}).deserializeUsing(t=>f2(t)).whereField("key",Up.Key.TokenRecord)}Ii.getTokenRecordGpaBuilder=jPt;function GPt(){return 80}Ii.getTokenRecordSize=GPt;function Rre(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Ui.string)({size:"variable"}).serialize("metadata"),(0,Ui.publicKey)().serialize(t),(0,Ui.publicKey)().serialize(e.mint),(0,Ui.string)({size:"variable"}).serialize("token_record"),(0,Ui.publicKey)().serialize(e.token)])}Ii.findTokenRecordPda=Rre;async function YPt(n,e,t){return gMe(n,Rre(n,e),t)}Ii.fetchTokenRecordFromSeeds=YPt;async function ZPt(n,e,t){return mMe(n,Rre(n,e),t)}Ii.safeFetchTokenRecordFromSeeds=ZPt;var _i={};Object.defineProperty(_i,"__esModule",{value:!0});_i.safeFetchUseAuthorityRecordFromSeeds=_i.fetchUseAuthorityRecordFromSeeds=_i.findUseAuthorityRecordPda=_i.getUseAuthorityRecordSize=_i.getUseAuthorityRecordGpaBuilder=_i.safeFetchAllUseAuthorityRecord=_i.fetchAllUseAuthorityRecord=_i.safeFetchUseAuthorityRecord=_i.fetchUseAuthorityRecord=_i.deserializeUseAuthorityRecord=_i.getUseAuthorityRecordAccountDataSerializer=void 0;const v0=Z,Nd=H,V4=ht;function yMe(){return(0,Nd.mapSerializer)((0,Nd.struct)([["key",(0,V4.getKeySerializer)()],["allowedUses",(0,Nd.u64)()],["bump",(0,Nd.u8)()]],{description:"UseAuthorityRecordAccountData"}),n=>({...n,key:V4.Key.UseAuthorityRecord}))}_i.getUseAuthorityRecordAccountDataSerializer=yMe;function h2(n){return(0,v0.deserializeAccount)(n,yMe())}_i.deserializeUseAuthorityRecord=h2;async function pMe(n,e,t){const r=await n.rpc.getAccount((0,v0.publicKey)(e,!1),t);return(0,v0.assertAccountExists)(r,"UseAuthorityRecord"),h2(r)}_i.fetchUseAuthorityRecord=pMe;async function bMe(n,e,t){const r=await n.rpc.getAccount((0,v0.publicKey)(e,!1),t);return r.exists?h2(r):null}_i.safeFetchUseAuthorityRecord=bMe;async function JPt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,v0.publicKey)(s,!1)),t)).map(s=>((0,v0.assertAccountExists)(s,"UseAuthorityRecord"),h2(s)))}_i.fetchAllUseAuthorityRecord=JPt;async function XPt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,v0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>h2(s))}_i.safeFetchAllUseAuthorityRecord=XPt;function QPt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,v0.gpaBuilder)(n,e).registerFields({key:[0,(0,V4.getKeySerializer)()],allowedUses:[1,(0,Nd.u64)()],bump:[9,(0,Nd.u8)()]}).deserializeUsing(t=>h2(t)).whereField("key",V4.Key.UseAuthorityRecord)}_i.getUseAuthorityRecordGpaBuilder=QPt;function eEt(){return 10}_i.getUseAuthorityRecordSize=eEt;function Bre(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Nd.string)({size:"variable"}).serialize("metadata"),(0,Nd.publicKey)().serialize(t),(0,Nd.publicKey)().serialize(e.mint),(0,Nd.string)({size:"variable"}).serialize("user"),(0,Nd.publicKey)().serialize(e.useAuthority)])}_i.findUseAuthorityRecordPda=Bre;async function tEt(n,e,t){return pMe(n,Bre(n,e),t)}_i.fetchUseAuthorityRecordFromSeeds=tEt;async function rEt(n,e,t){return bMe(n,Bre(n,e),t)}_i.safeFetchUseAuthorityRecordFromSeeds=rEt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Fo,n),t(Uo,n),t(sc,n),t(vi,n),t(Vo,n),t(Ai,n),t(jo,n),t(Go,n),t(wi,n),t(Jc,n),t(Ii,n),t(_i,n)})(Jt);var Cre={},Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.ReservationAlreadyMadeError=Y.ReservationNotSetError=Y.ReservationDoesNotExistError=Y.ReservationExistsError=Y.ShareTotalMustBe100Error=Y.NoBalanceInAccountForAuthorizationError=Y.OwnerMismatchError=Y.PrimarySaleCanOnlyBeFlippedToTrueError=Y.InvalidBasisPointsError=Y.CreatorNotFoundError=Y.NoCreatorsPresentOnMetadataError=Y.MustBeOneOfCreatorsError=Y.CreatorsMustBeAtleastOneError=Y.CreatorsTooLongError=Y.DisabledError=Y.AuthorizationTokenAccountOwnerMismatchError=Y.PrintingMintAuthorizationAccountMismatchError=Y.NotEnoughTokensError=Y.TokenAccountMintMismatchV2Error=Y.TokenAccountMintMismatchError=Y.OneTimePrintingAuthMintMismatchError=Y.PrintingMintMismatchError=Y.DerivedKeyInvalidError=Y.TokenAccountOneTimeAuthMintMismatchError=Y.TokenBurnFailedError=Y.EditionMintDecimalsShouldBeZeroError=Y.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=Y.PrintingMintDecimalsShouldBeZeroError=Y.EditionAlreadyMintedError=Y.DestinationMintMismatchError=Y.MasterRecordMismatchError=Y.TokenMintToFailedError=Y.MaxEditionsMintedAlreadyError=Y.EditionsMustHaveExactlyOneTokenError=Y.MintMismatchError=Y.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=Y.UriTooLongError=Y.SymbolTooLongError=Y.NameTooLongError=Y.InvalidMintAuthorityError=Y.NotMintAuthorityError=Y.UpdateAuthorityIsNotSignerError=Y.UpdateAuthorityIncorrectError=Y.InvalidEditionKeyError=Y.InvalidMetadataKeyError=Y.UninitializedError=Y.AlreadyInitializedError=Y.NotRentExemptError=Y.InstructionPackErrorError=Y.InstructionUnpackErrorError=void 0;Y.RevokeCollectionAuthoritySignerIncorrectError=Y.InvalidUserError=Y.EditionOverrideCannotBeZeroError=Y.NotAllowedToChangeSellerFeeBasisPointsError=Y.CannotWipeVerifiedCreatorsError=Y.CannotRemoveVerifiedCreatorError=Y.CannotAdjustVerifiedCreatorError=Y.InvalidDelegateError=Y.InvalidFreezeAuthorityError=Y.InvalidCollectionAuthorityRecordError=Y.InvalidUseAuthorityRecordError=Y.CollectionAuthorityDoesNotExistError=Y.CollectionAuthorityRecordAlreadyExistsError=Y.NotEnoughUsesError=Y.UnusableError=Y.UseAuthorityRecordAlreadyRevokedError=Y.UseAuthorityRecordAlreadyExistsError=Y.CollectionMustBeAUniqueMasterEditionError=Y.InvalidCollectionUpdateAuthorityError=Y.CollectionNotFoundError=Y.CannotChangeUsesAfterFirstUseError=Y.CannotChangeUseMethodAfterFirstUseError=Y.InvalidUseMethodError=Y.MustBeBurnedError=Y.RemovedError=Y.CollectionCannotBeVerifiedInThisInstructionError=Y.IsMutableCanOnlyBeFlippedToFalseError=Y.ReservationArrayShouldBeSizeOneError=Y.InvalidEditionIndexError=Y.OneTimeAuthMintSupplyMustBeZeroForConversionError=Y.PrintingMintSupplyMustBeZeroForConversionError=Y.InvalidOwnerError=Y.InvalidOperationError=Y.TriedToReplaceAnExistingReservationError=Y.ReservationNotCompleteError=Y.BeyondAlottedAddressSizeError=Y.DataTypeMismatchError=Y.InvalidTokenProgramError=Y.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=Y.DuplicateCreatorAddressError=Y.DataIsImmutableError=Y.PrintingWouldBreachMaximumSupplyError=Y.IncorrectOwnerError=Y.SpotMismatchError=Y.CannotUnverifyAnotherCreatorError=Y.CannotVerifyAnotherCreatorError=Y.AddressNotInReservationError=Y.ReservationBreachesMaximumSupplyError=Y.NumericalOverflowErrorError=Y.BeyondMaxAddressSizeError=void 0;Y.MissingSplTokenProgramError=Y.MissingTokenAccountError=Y.OnlySaleDelegateCanTransferError=Y.InvalidSystemWalletError=Y.FeatureNotSupportedError=Y.MissingArgumentInBuilderError=Y.MissingAccountInBuilderError=Y.DelegateNotFoundError=Y.DelegateAlreadyExistsError=Y.InvalidProgrammableConfigError=Y.MissingProgrammableConfigError=Y.MissingAuthorizationRulesError=Y.InvalidAuthorizationRulesError=Y.InvalidMintForTokenStandardError=Y.InvalidTokenStandardError=Y.MintIsNotSignerError=Y.EscrowParentHasDelegateError=Y.InvalidBubblegumSignerError=Y.InvalidCollectionSizeChangeError=Y.NoFreezeAuthoritySetError=Y.BorshSerializationErrorError=Y.InsufficientTokensError=Y.MustBeNonFungibleError=Y.InvalidSystemProgramError=Y.MustBeEscrowAuthorityError=Y.InvalidEscrowBumpSeedError=Y.MustUnverifyError=Y.EditionNumberGreaterThanMaxSupplyError=Y.PrintEditionDoesNotMatchMasterEditionError=Y.ReservationListDeprecatedError=Y.InvalidEditionMarkerError=Y.InvalidPrintEditionError=Y.InvalidMasterEditionError=Y.NotAPrintEditionError=Y.AlreadyUnverifiedError=Y.AlreadyVerifiedError=Y.CollectionMasterEditionAccountInvalidError=Y.CannotUpdateVerifiedCollectionError=Y.BorshDeserializationErrorError=Y.MasterEditionHasPrintsError=Y.NotAMasterEditionError=Y.MissingEditionAccountError=Y.CouldNotDetermineTokenStandardError=Y.NotACollectionParentError=Y.NotVerifiedMemberOfCollectionError=Y.NotAMemberOfCollectionError=Y.MissingCollectionMetadataError=Y.SizedCollectionError=Y.UnsizedCollectionError=Y.TokenCloseFailedError=void 0;Y.getMplTokenMetadataErrorFromCode=Y.MissingImmutableOwnerExtensionError=Y.InvalidTokenExtensionTypeError=Y.InvalidMetadataPointerError=Y.InvalidMintCloseAuthorityError=Y.InvalidMintExtensionTypeError=Y.CannotChangeUpdateAuthorityWithDelegateError=Y.InvalidMetadataFlagsError=Y.InvalidFeeAccountError=Y.MissingDelegateRecordError=Y.InvalidInstructionError=Y.InvalidCloseAuthorityError=Y.InvalidTokenRecordError=Y.MissingCollectionMasterEditionError=Y.MissingCollectionMintError=Y.InsufficientTokenBalanceError=Y.InvalidUpdateArgsError=Y.InvalidParentAccountsError=Y.InvalidInstructionsSysvarError=Y.InvalidAssociatedTokenAccountProgramError=Y.MissingEditionError=Y.CannotBurnWithDelegateError=Y.MissingEditionMarkerAccountError=Y.MissingMasterEditionTokenAccountError=Y.MissingMasterEditionMintAccountError=Y.InvalidAmountError=Y.CannotUpdateAssetWithDelegateError=Y.DataIncrementLimitExceededError=Y.InvalidLockedTransferAddressError=Y.MissingLockedTransferAddressError=Y.InvalidDelegateArgsError=Y.AmountMustBeGreaterThanZeroError=Y.MissingMasterEditionAccountError=Y.MissingPrintSupplyError=Y.InvalidDelegateRoleError=Y.IncorrectTokenStateError=Y.InvalidMasterEditionAccountLengthError=Y.MissingTokenOwnerAccountError=Y.DataIsEmptyOrZeroedError=Y.MintSupplyMustBeZeroError=Y.MissingTokenRecordError=Y.InvalidAuthorityTypeError=Y.MissingDelegateRoleError=Y.UnlockedTokenError=Y.LockedTokenError=Y.KeyMismatchError=Y.InstructionNotSupportedError=Y.InvalidTransferAuthorityError=Y.InvalidDelegateRoleForTransferError=Y.MissingAuthorizationRulesProgramError=void 0;Y.getMplTokenMetadataErrorFromName=void 0;const de=Z,ue=new Map,le=new Map;class Mre extends de.ProgramError{constructor(e,t){super("",e,t),this.name="InstructionUnpackError",this.code=0}}Y.InstructionUnpackErrorError=Mre;ue.set(0,Mre);le.set("InstructionUnpackError",Mre);class zre extends de.ProgramError{constructor(e,t){super("",e,t),this.name="InstructionPackError",this.code=1}}Y.InstructionPackErrorError=zre;ue.set(1,zre);le.set("InstructionPackError",zre);class $re extends de.ProgramError{constructor(e,t){super("Lamport balance below rent-exempt threshold",e,t),this.name="NotRentExempt",this.code=2}}Y.NotRentExemptError=$re;ue.set(2,$re);le.set("NotRentExempt",$re);class Dre extends de.ProgramError{constructor(e,t){super("Already initialized",e,t),this.name="AlreadyInitialized",this.code=3}}Y.AlreadyInitializedError=Dre;ue.set(3,Dre);le.set("AlreadyInitialized",Dre);class Ore extends de.ProgramError{constructor(e,t){super("Uninitialized",e,t),this.name="Uninitialized",this.code=4}}Y.UninitializedError=Ore;ue.set(4,Ore);le.set("Uninitialized",Ore);class Lre extends de.ProgramError{constructor(e,t){super(" Metadata's key must match seed of ['metadata', program id, mint] provided",e,t),this.name="InvalidMetadataKey",this.code=5}}Y.InvalidMetadataKeyError=Lre;ue.set(5,Lre);le.set("InvalidMetadataKey",Lre);class Kre extends de.ProgramError{constructor(e,t){super("Edition's key must match seed of ['metadata', program id, name, 'edition'] provided",e,t),this.name="InvalidEditionKey",this.code=6}}Y.InvalidEditionKeyError=Kre;ue.set(6,Kre);le.set("InvalidEditionKey",Kre);class Wre extends de.ProgramError{constructor(e,t){super("Update Authority given does not match",e,t),this.name="UpdateAuthorityIncorrect",this.code=7}}Y.UpdateAuthorityIncorrectError=Wre;ue.set(7,Wre);le.set("UpdateAuthorityIncorrect",Wre);class Nre extends de.ProgramError{constructor(e,t){super("Update Authority needs to be signer to update metadata",e,t),this.name="UpdateAuthorityIsNotSigner",this.code=8}}Y.UpdateAuthorityIsNotSignerError=Nre;ue.set(8,Nre);le.set("UpdateAuthorityIsNotSigner",Nre);class Fre extends de.ProgramError{constructor(e,t){super("You must be the mint authority and signer on this transaction",e,t),this.name="NotMintAuthority",this.code=9}}Y.NotMintAuthorityError=Fre;ue.set(9,Fre);le.set("NotMintAuthority",Fre);class Ure extends de.ProgramError{constructor(e,t){super("Mint authority provided does not match the authority on the mint",e,t),this.name="InvalidMintAuthority",this.code=10}}Y.InvalidMintAuthorityError=Ure;ue.set(10,Ure);le.set("InvalidMintAuthority",Ure);class Vre extends de.ProgramError{constructor(e,t){super("Name too long",e,t),this.name="NameTooLong",this.code=11}}Y.NameTooLongError=Vre;ue.set(11,Vre);le.set("NameTooLong",Vre);class qre extends de.ProgramError{constructor(e,t){super("Symbol too long",e,t),this.name="SymbolTooLong",this.code=12}}Y.SymbolTooLongError=qre;ue.set(12,qre);le.set("SymbolTooLong",qre);class Hre extends de.ProgramError{constructor(e,t){super("URI too long",e,t),this.name="UriTooLong",this.code=13}}Y.UriTooLongError=Hre;ue.set(13,Hre);le.set("UriTooLong",Hre);class jre extends de.ProgramError{constructor(e,t){super("",e,t),this.name="UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",this.code=14}}Y.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=jre;ue.set(14,jre);le.set("UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",jre);class Gre extends de.ProgramError{constructor(e,t){super("Mint given does not match mint on Metadata",e,t),this.name="MintMismatch",this.code=15}}Y.MintMismatchError=Gre;ue.set(15,Gre);le.set("MintMismatch",Gre);class Yre extends de.ProgramError{constructor(e,t){super("Editions must have exactly one token",e,t),this.name="EditionsMustHaveExactlyOneToken",this.code=16}}Y.EditionsMustHaveExactlyOneTokenError=Yre;ue.set(16,Yre);le.set("EditionsMustHaveExactlyOneToken",Yre);class Zre extends de.ProgramError{constructor(e,t){super("",e,t),this.name="MaxEditionsMintedAlready",this.code=17}}Y.MaxEditionsMintedAlreadyError=Zre;ue.set(17,Zre);le.set("MaxEditionsMintedAlready",Zre);class Jre extends de.ProgramError{constructor(e,t){super("",e,t),this.name="TokenMintToFailed",this.code=18}}Y.TokenMintToFailedError=Jre;ue.set(18,Jre);le.set("TokenMintToFailed",Jre);class Xre extends de.ProgramError{constructor(e,t){super("",e,t),this.name="MasterRecordMismatch",this.code=19}}Y.MasterRecordMismatchError=Xre;ue.set(19,Xre);le.set("MasterRecordMismatch",Xre);class Qre extends de.ProgramError{constructor(e,t){super("",e,t),this.name="DestinationMintMismatch",this.code=20}}Y.DestinationMintMismatchError=Qre;ue.set(20,Qre);le.set("DestinationMintMismatch",Qre);class ene extends de.ProgramError{constructor(e,t){super("",e,t),this.name="EditionAlreadyMinted",this.code=21}}Y.EditionAlreadyMintedError=ene;ue.set(21,ene);le.set("EditionAlreadyMinted",ene);class tne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingMintDecimalsShouldBeZero",this.code=22}}Y.PrintingMintDecimalsShouldBeZeroError=tne;ue.set(22,tne);le.set("PrintingMintDecimalsShouldBeZero",tne);class rne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="OneTimePrintingAuthorizationMintDecimalsShouldBeZero",this.code=23}}Y.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=rne;ue.set(23,rne);le.set("OneTimePrintingAuthorizationMintDecimalsShouldBeZero",rne);class nne extends de.ProgramError{constructor(e,t){super("EditionMintDecimalsShouldBeZero",e,t),this.name="EditionMintDecimalsShouldBeZero",this.code=24}}Y.EditionMintDecimalsShouldBeZeroError=nne;ue.set(24,nne);le.set("EditionMintDecimalsShouldBeZero",nne);class sne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="TokenBurnFailed",this.code=25}}Y.TokenBurnFailedError=sne;ue.set(25,sne);le.set("TokenBurnFailed",sne);class ine extends de.ProgramError{constructor(e,t){super("",e,t),this.name="TokenAccountOneTimeAuthMintMismatch",this.code=26}}Y.TokenAccountOneTimeAuthMintMismatchError=ine;ue.set(26,ine);le.set("TokenAccountOneTimeAuthMintMismatch",ine);class one extends de.ProgramError{constructor(e,t){super("Derived key invalid",e,t),this.name="DerivedKeyInvalid",this.code=27}}Y.DerivedKeyInvalidError=one;ue.set(27,one);le.set("DerivedKeyInvalid",one);class ane extends de.ProgramError{constructor(e,t){super("The Printing mint does not match that on the master edition!",e,t),this.name="PrintingMintMismatch",this.code=28}}Y.PrintingMintMismatchError=ane;ue.set(28,ane);le.set("PrintingMintMismatch",ane);class cne extends de.ProgramError{constructor(e,t){super("The One Time Printing Auth mint does not match that on the master edition!",e,t),this.name="OneTimePrintingAuthMintMismatch",this.code=29}}Y.OneTimePrintingAuthMintMismatchError=cne;ue.set(29,cne);le.set("OneTimePrintingAuthMintMismatch",cne);class une extends de.ProgramError{constructor(e,t){super("The mint of the token account does not match the Printing mint!",e,t),this.name="TokenAccountMintMismatch",this.code=30}}Y.TokenAccountMintMismatchError=une;ue.set(30,une);le.set("TokenAccountMintMismatch",une);class lne extends de.ProgramError{constructor(e,t){super("The mint of the token account does not match the master metadata mint!",e,t),this.name="TokenAccountMintMismatchV2",this.code=31}}Y.TokenAccountMintMismatchV2Error=lne;ue.set(31,lne);le.set("TokenAccountMintMismatchV2",lne);class dne extends de.ProgramError{constructor(e,t){super("Not enough tokens to mint a limited edition",e,t),this.name="NotEnoughTokens",this.code=32}}Y.NotEnoughTokensError=dne;ue.set(32,dne);le.set("NotEnoughTokens",dne);class fne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingMintAuthorizationAccountMismatch",this.code=33}}Y.PrintingMintAuthorizationAccountMismatchError=fne;ue.set(33,fne);le.set("PrintingMintAuthorizationAccountMismatch",fne);class hne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="AuthorizationTokenAccountOwnerMismatch",this.code=34}}Y.AuthorizationTokenAccountOwnerMismatchError=hne;ue.set(34,hne);le.set("AuthorizationTokenAccountOwnerMismatch",hne);class gne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="Disabled",this.code=35}}Y.DisabledError=gne;ue.set(35,gne);le.set("Disabled",gne);class mne extends de.ProgramError{constructor(e,t){super("Creators list too long",e,t),this.name="CreatorsTooLong",this.code=36}}Y.CreatorsTooLongError=mne;ue.set(36,mne);le.set("CreatorsTooLong",mne);class yne extends de.ProgramError{constructor(e,t){super("Creators must be at least one if set",e,t),this.name="CreatorsMustBeAtleastOne",this.code=37}}Y.CreatorsMustBeAtleastOneError=yne;ue.set(37,yne);le.set("CreatorsMustBeAtleastOne",yne);class pne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="MustBeOneOfCreators",this.code=38}}Y.MustBeOneOfCreatorsError=pne;ue.set(38,pne);le.set("MustBeOneOfCreators",pne);class bne extends de.ProgramError{constructor(e,t){super("This metadata does not have creators",e,t),this.name="NoCreatorsPresentOnMetadata",this.code=39}}Y.NoCreatorsPresentOnMetadataError=bne;ue.set(39,bne);le.set("NoCreatorsPresentOnMetadata",bne);class Sne extends de.ProgramError{constructor(e,t){super("This creator address was not found",e,t),this.name="CreatorNotFound",this.code=40}}Y.CreatorNotFoundError=Sne;ue.set(40,Sne);le.set("CreatorNotFound",Sne);class kne extends de.ProgramError{constructor(e,t){super("Basis points cannot be more than 10000",e,t),this.name="InvalidBasisPoints",this.code=41}}Y.InvalidBasisPointsError=kne;ue.set(41,kne);le.set("InvalidBasisPoints",kne);class vne extends de.ProgramError{constructor(e,t){super("Primary sale can only be flipped to true and is immutable",e,t),this.name="PrimarySaleCanOnlyBeFlippedToTrue",this.code=42}}Y.PrimarySaleCanOnlyBeFlippedToTrueError=vne;ue.set(42,vne);le.set("PrimarySaleCanOnlyBeFlippedToTrue",vne);class Ane extends de.ProgramError{constructor(e,t){super("Owner does not match that on the account given",e,t),this.name="OwnerMismatch",this.code=43}}Y.OwnerMismatchError=Ane;ue.set(43,Ane);le.set("OwnerMismatch",Ane);class wne extends de.ProgramError{constructor(e,t){super("This account has no tokens to be used for authorization",e,t),this.name="NoBalanceInAccountForAuthorization",this.code=44}}Y.NoBalanceInAccountForAuthorizationError=wne;ue.set(44,wne);le.set("NoBalanceInAccountForAuthorization",wne);class Ine extends de.ProgramError{constructor(e,t){super("Share total must equal 100 for creator array",e,t),this.name="ShareTotalMustBe100",this.code=45}}Y.ShareTotalMustBe100Error=Ine;ue.set(45,Ine);le.set("ShareTotalMustBe100",Ine);class _ne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationExists",this.code=46}}Y.ReservationExistsError=_ne;ue.set(46,_ne);le.set("ReservationExists",_ne);class Pne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationDoesNotExist",this.code=47}}Y.ReservationDoesNotExistError=Pne;ue.set(47,Pne);le.set("ReservationDoesNotExist",Pne);class Ene extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationNotSet",this.code=48}}Y.ReservationNotSetError=Ene;ue.set(48,Ene);le.set("ReservationNotSet",Ene);class xne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationAlreadyMade",this.code=49}}Y.ReservationAlreadyMadeError=xne;ue.set(49,xne);le.set("ReservationAlreadyMade",xne);class Tne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="BeyondMaxAddressSize",this.code=50}}Y.BeyondMaxAddressSizeError=Tne;ue.set(50,Tne);le.set("BeyondMaxAddressSize",Tne);class Rne extends de.ProgramError{constructor(e,t){super("NumericalOverflowError",e,t),this.name="NumericalOverflowError",this.code=51}}Y.NumericalOverflowErrorError=Rne;ue.set(51,Rne);le.set("NumericalOverflowError",Rne);class Bne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationBreachesMaximumSupply",this.code=52}}Y.ReservationBreachesMaximumSupplyError=Bne;ue.set(52,Bne);le.set("ReservationBreachesMaximumSupply",Bne);class Cne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="AddressNotInReservation",this.code=53}}Y.AddressNotInReservationError=Cne;ue.set(53,Cne);le.set("AddressNotInReservation",Cne);class Mne extends de.ProgramError{constructor(e,t){super("You cannot unilaterally verify another creator, they must sign",e,t),this.name="CannotVerifyAnotherCreator",this.code=54}}Y.CannotVerifyAnotherCreatorError=Mne;ue.set(54,Mne);le.set("CannotVerifyAnotherCreator",Mne);class zne extends de.ProgramError{constructor(e,t){super("You cannot unilaterally unverify another creator",e,t),this.name="CannotUnverifyAnotherCreator",this.code=55}}Y.CannotUnverifyAnotherCreatorError=zne;ue.set(55,zne);le.set("CannotUnverifyAnotherCreator",zne);class $ne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="SpotMismatch",this.code=56}}Y.SpotMismatchError=$ne;ue.set(56,$ne);le.set("SpotMismatch",$ne);class Dne extends de.ProgramError{constructor(e,t){super("Incorrect account owner",e,t),this.name="IncorrectOwner",this.code=57}}Y.IncorrectOwnerError=Dne;ue.set(57,Dne);le.set("IncorrectOwner",Dne);class One extends de.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingWouldBreachMaximumSupply",this.code=58}}Y.PrintingWouldBreachMaximumSupplyError=One;ue.set(58,One);le.set("PrintingWouldBreachMaximumSupply",One);class Lne extends de.ProgramError{constructor(e,t){super("Data is immutable",e,t),this.name="DataIsImmutable",this.code=59}}Y.DataIsImmutableError=Lne;ue.set(59,Lne);le.set("DataIsImmutable",Lne);class Kne extends de.ProgramError{constructor(e,t){super("No duplicate creator addresses",e,t),this.name="DuplicateCreatorAddress",this.code=60}}Y.DuplicateCreatorAddressError=Kne;ue.set(60,Kne);le.set("DuplicateCreatorAddress",Kne);class Wne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",this.code=61}}Y.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=Wne;ue.set(61,Wne);le.set("ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",Wne);class Nne extends de.ProgramError{constructor(e,t){super("Invalid token program",e,t),this.name="InvalidTokenProgram",this.code=62}}Y.InvalidTokenProgramError=Nne;ue.set(62,Nne);le.set("InvalidTokenProgram",Nne);class Fne extends de.ProgramError{constructor(e,t){super("Data type mismatch",e,t),this.name="DataTypeMismatch",this.code=63}}Y.DataTypeMismatchError=Fne;ue.set(63,Fne);le.set("DataTypeMismatch",Fne);class Une extends de.ProgramError{constructor(e,t){super("",e,t),this.name="BeyondAlottedAddressSize",this.code=64}}Y.BeyondAlottedAddressSizeError=Une;ue.set(64,Une);le.set("BeyondAlottedAddressSize",Une);class Vne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationNotComplete",this.code=65}}Y.ReservationNotCompleteError=Vne;ue.set(65,Vne);le.set("ReservationNotComplete",Vne);class qne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="TriedToReplaceAnExistingReservation",this.code=66}}Y.TriedToReplaceAnExistingReservationError=qne;ue.set(66,qne);le.set("TriedToReplaceAnExistingReservation",qne);class Hne extends de.ProgramError{constructor(e,t){super("Invalid operation",e,t),this.name="InvalidOperation",this.code=67}}Y.InvalidOperationError=Hne;ue.set(67,Hne);le.set("InvalidOperation",Hne);class jne extends de.ProgramError{constructor(e,t){super("Invalid Owner",e,t),this.name="InvalidOwner",this.code=68}}Y.InvalidOwnerError=jne;ue.set(68,jne);le.set("InvalidOwner",jne);class Gne extends de.ProgramError{constructor(e,t){super("Printing mint supply must be zero for conversion",e,t),this.name="PrintingMintSupplyMustBeZeroForConversion",this.code=69}}Y.PrintingMintSupplyMustBeZeroForConversionError=Gne;ue.set(69,Gne);le.set("PrintingMintSupplyMustBeZeroForConversion",Gne);class Yne extends de.ProgramError{constructor(e,t){super("One Time Auth mint supply must be zero for conversion",e,t),this.name="OneTimeAuthMintSupplyMustBeZeroForConversion",this.code=70}}Y.OneTimeAuthMintSupplyMustBeZeroForConversionError=Yne;ue.set(70,Yne);le.set("OneTimeAuthMintSupplyMustBeZeroForConversion",Yne);class Zne extends de.ProgramError{constructor(e,t){super("You tried to insert one edition too many into an edition mark pda",e,t),this.name="InvalidEditionIndex",this.code=71}}Y.InvalidEditionIndexError=Zne;ue.set(71,Zne);le.set("InvalidEditionIndex",Zne);class Jne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationArrayShouldBeSizeOne",this.code=72}}Y.ReservationArrayShouldBeSizeOneError=Jne;ue.set(72,Jne);le.set("ReservationArrayShouldBeSizeOne",Jne);class Xne extends de.ProgramError{constructor(e,t){super("Is Mutable can only be flipped to false",e,t),this.name="IsMutableCanOnlyBeFlippedToFalse",this.code=73}}Y.IsMutableCanOnlyBeFlippedToFalseError=Xne;ue.set(73,Xne);le.set("IsMutableCanOnlyBeFlippedToFalse",Xne);class Qne extends de.ProgramError{constructor(e,t){super("Collection cannot be verified in this instruction",e,t),this.name="CollectionCannotBeVerifiedInThisInstruction",this.code=74}}Y.CollectionCannotBeVerifiedInThisInstructionError=Qne;ue.set(74,Qne);le.set("CollectionCannotBeVerifiedInThisInstruction",Qne);class ese extends de.ProgramError{constructor(e,t){super("This instruction was deprecated in a previous release and is now removed",e,t),this.name="Removed",this.code=75}}Y.RemovedError=ese;ue.set(75,ese);le.set("Removed",ese);class tse extends de.ProgramError{constructor(e,t){super("",e,t),this.name="MustBeBurned",this.code=76}}Y.MustBeBurnedError=tse;ue.set(76,tse);le.set("MustBeBurned",tse);class rse extends de.ProgramError{constructor(e,t){super("This use method is invalid",e,t),this.name="InvalidUseMethod",this.code=77}}Y.InvalidUseMethodError=rse;ue.set(77,rse);le.set("InvalidUseMethod",rse);class nse extends de.ProgramError{constructor(e,t){super("Cannot Change Use Method after the first use",e,t),this.name="CannotChangeUseMethodAfterFirstUse",this.code=78}}Y.CannotChangeUseMethodAfterFirstUseError=nse;ue.set(78,nse);le.set("CannotChangeUseMethodAfterFirstUse",nse);class sse extends de.ProgramError{constructor(e,t){super("Cannot Change Remaining or Available uses after the first use",e,t),this.name="CannotChangeUsesAfterFirstUse",this.code=79}}Y.CannotChangeUsesAfterFirstUseError=sse;ue.set(79,sse);le.set("CannotChangeUsesAfterFirstUse",sse);class ise extends de.ProgramError{constructor(e,t){super("Collection Not Found on Metadata",e,t),this.name="CollectionNotFound",this.code=80}}Y.CollectionNotFoundError=ise;ue.set(80,ise);le.set("CollectionNotFound",ise);class ose extends de.ProgramError{constructor(e,t){super("Collection Update Authority is invalid",e,t),this.name="InvalidCollectionUpdateAuthority",this.code=81}}Y.InvalidCollectionUpdateAuthorityError=ose;ue.set(81,ose);le.set("InvalidCollectionUpdateAuthority",ose);class ase extends de.ProgramError{constructor(e,t){super("Collection Must Be a Unique Master Edition v2",e,t),this.name="CollectionMustBeAUniqueMasterEdition",this.code=82}}Y.CollectionMustBeAUniqueMasterEditionError=ase;ue.set(82,ase);le.set("CollectionMustBeAUniqueMasterEdition",ase);class cse extends de.ProgramError{constructor(e,t){super("The Use Authority Record Already Exists, to modify it Revoke, then Approve",e,t),this.name="UseAuthorityRecordAlreadyExists",this.code=83}}Y.UseAuthorityRecordAlreadyExistsError=cse;ue.set(83,cse);le.set("UseAuthorityRecordAlreadyExists",cse);class use extends de.ProgramError{constructor(e,t){super("The Use Authority Record is empty or already revoked",e,t),this.name="UseAuthorityRecordAlreadyRevoked",this.code=84}}Y.UseAuthorityRecordAlreadyRevokedError=use;ue.set(84,use);le.set("UseAuthorityRecordAlreadyRevoked",use);class lse extends de.ProgramError{constructor(e,t){super("This token has no uses",e,t),this.name="Unusable",this.code=85}}Y.UnusableError=lse;ue.set(85,lse);le.set("Unusable",lse);class dse extends de.ProgramError{constructor(e,t){super("There are not enough Uses left on this token.",e,t),this.name="NotEnoughUses",this.code=86}}Y.NotEnoughUsesError=dse;ue.set(86,dse);le.set("NotEnoughUses",dse);class fse extends de.ProgramError{constructor(e,t){super("This Collection Authority Record Already Exists.",e,t),this.name="CollectionAuthorityRecordAlreadyExists",this.code=87}}Y.CollectionAuthorityRecordAlreadyExistsError=fse;ue.set(87,fse);le.set("CollectionAuthorityRecordAlreadyExists",fse);class hse extends de.ProgramError{constructor(e,t){super("This Collection Authority Record Does Not Exist.",e,t),this.name="CollectionAuthorityDoesNotExist",this.code=88}}Y.CollectionAuthorityDoesNotExistError=hse;ue.set(88,hse);le.set("CollectionAuthorityDoesNotExist",hse);class gse extends de.ProgramError{constructor(e,t){super("This Use Authority Record is invalid.",e,t),this.name="InvalidUseAuthorityRecord",this.code=89}}Y.InvalidUseAuthorityRecordError=gse;ue.set(89,gse);le.set("InvalidUseAuthorityRecord",gse);class mse extends de.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidCollectionAuthorityRecord",this.code=90}}Y.InvalidCollectionAuthorityRecordError=mse;ue.set(90,mse);le.set("InvalidCollectionAuthorityRecord",mse);class yse extends de.ProgramError{constructor(e,t){super("Metadata does not match the freeze authority on the mint",e,t),this.name="InvalidFreezeAuthority",this.code=91}}Y.InvalidFreezeAuthorityError=yse;ue.set(91,yse);le.set("InvalidFreezeAuthority",yse);class pse extends de.ProgramError{constructor(e,t){super("All tokens in this account have not been delegated to this user.",e,t),this.name="InvalidDelegate",this.code=92}}Y.InvalidDelegateError=pse;ue.set(92,pse);le.set("InvalidDelegate",pse);class bse extends de.ProgramError{constructor(e,t){super("",e,t),this.name="CannotAdjustVerifiedCreator",this.code=93}}Y.CannotAdjustVerifiedCreatorError=bse;ue.set(93,bse);le.set("CannotAdjustVerifiedCreator",bse);class Sse extends de.ProgramError{constructor(e,t){super("Verified creators cannot be removed.",e,t),this.name="CannotRemoveVerifiedCreator",this.code=94}}Y.CannotRemoveVerifiedCreatorError=Sse;ue.set(94,Sse);le.set("CannotRemoveVerifiedCreator",Sse);class kse extends de.ProgramError{constructor(e,t){super("",e,t),this.name="CannotWipeVerifiedCreators",this.code=95}}Y.CannotWipeVerifiedCreatorsError=kse;ue.set(95,kse);le.set("CannotWipeVerifiedCreators",kse);class vse extends de.ProgramError{constructor(e,t){super("",e,t),this.name="NotAllowedToChangeSellerFeeBasisPoints",this.code=96}}Y.NotAllowedToChangeSellerFeeBasisPointsError=vse;ue.set(96,vse);le.set("NotAllowedToChangeSellerFeeBasisPoints",vse);class Ase extends de.ProgramError{constructor(e,t){super("Edition override cannot be zero",e,t),this.name="EditionOverrideCannotBeZero",this.code=97}}Y.EditionOverrideCannotBeZeroError=Ase;ue.set(97,Ase);le.set("EditionOverrideCannotBeZero",Ase);class wse extends de.ProgramError{constructor(e,t){super("Invalid User",e,t),this.name="InvalidUser",this.code=98}}Y.InvalidUserError=wse;ue.set(98,wse);le.set("InvalidUser",wse);class Ise extends de.ProgramError{constructor(e,t){super("Revoke Collection Authority signer is incorrect",e,t),this.name="RevokeCollectionAuthoritySignerIncorrect",this.code=99}}Y.RevokeCollectionAuthoritySignerIncorrectError=Ise;ue.set(99,Ise);le.set("RevokeCollectionAuthoritySignerIncorrect",Ise);class _se extends de.ProgramError{constructor(e,t){super("",e,t),this.name="TokenCloseFailed",this.code=100}}Y.TokenCloseFailedError=_se;ue.set(100,_se);le.set("TokenCloseFailed",_se);class Pse extends de.ProgramError{constructor(e,t){super("Can't use this function on unsized collection",e,t),this.name="UnsizedCollection",this.code=101}}Y.UnsizedCollectionError=Pse;ue.set(101,Pse);le.set("UnsizedCollection",Pse);class Ese extends de.ProgramError{constructor(e,t){super("Can't use this function on a sized collection",e,t),this.name="SizedCollection",this.code=102}}Y.SizedCollectionError=Ese;ue.set(102,Ese);le.set("SizedCollection",Ese);class xse extends de.ProgramError{constructor(e,t){super("Missing collection metadata account",e,t),this.name="MissingCollectionMetadata",this.code=103}}Y.MissingCollectionMetadataError=xse;ue.set(103,xse);le.set("MissingCollectionMetadata",xse);class Tse extends de.ProgramError{constructor(e,t){super("This NFT is not a member of the specified collection.",e,t),this.name="NotAMemberOfCollection",this.code=104}}Y.NotAMemberOfCollectionError=Tse;ue.set(104,Tse);le.set("NotAMemberOfCollection",Tse);class Rse extends de.ProgramError{constructor(e,t){super("This NFT is not a verified member of the specified collection.",e,t),this.name="NotVerifiedMemberOfCollection",this.code=105}}Y.NotVerifiedMemberOfCollectionError=Rse;ue.set(105,Rse);le.set("NotVerifiedMemberOfCollection",Rse);class Bse extends de.ProgramError{constructor(e,t){super("This NFT is not a collection parent NFT.",e,t),this.name="NotACollectionParent",this.code=106}}Y.NotACollectionParentError=Bse;ue.set(106,Bse);le.set("NotACollectionParent",Bse);class Cse extends de.ProgramError{constructor(e,t){super("Could not determine a TokenStandard type.",e,t),this.name="CouldNotDetermineTokenStandard",this.code=107}}Y.CouldNotDetermineTokenStandardError=Cse;ue.set(107,Cse);le.set("CouldNotDetermineTokenStandard",Cse);class Mse extends de.ProgramError{constructor(e,t){super("This mint account has an edition but none was provided.",e,t),this.name="MissingEditionAccount",this.code=108}}Y.MissingEditionAccountError=Mse;ue.set(108,Mse);le.set("MissingEditionAccount",Mse);class zse extends de.ProgramError{constructor(e,t){super("This edition is not a Master Edition",e,t),this.name="NotAMasterEdition",this.code=109}}Y.NotAMasterEditionError=zse;ue.set(109,zse);le.set("NotAMasterEdition",zse);class $se extends de.ProgramError{constructor(e,t){super("This Master Edition has existing prints",e,t),this.name="MasterEditionHasPrints",this.code=110}}Y.MasterEditionHasPrintsError=$se;ue.set(110,$se);le.set("MasterEditionHasPrints",$se);class Dse extends de.ProgramError{constructor(e,t){super("",e,t),this.name="BorshDeserializationError",this.code=111}}Y.BorshDeserializationErrorError=Dse;ue.set(111,Dse);le.set("BorshDeserializationError",Dse);class Ose extends de.ProgramError{constructor(e,t){super("Cannot update a verified collection in this command",e,t),this.name="CannotUpdateVerifiedCollection",this.code=112}}Y.CannotUpdateVerifiedCollectionError=Ose;ue.set(112,Ose);le.set("CannotUpdateVerifiedCollection",Ose);class Lse extends de.ProgramError{constructor(e,t){super("Edition account doesnt match collection ",e,t),this.name="CollectionMasterEditionAccountInvalid",this.code=113}}Y.CollectionMasterEditionAccountInvalidError=Lse;ue.set(113,Lse);le.set("CollectionMasterEditionAccountInvalid",Lse);class Kse extends de.ProgramError{constructor(e,t){super("Item is already verified.",e,t),this.name="AlreadyVerified",this.code=114}}Y.AlreadyVerifiedError=Kse;ue.set(114,Kse);le.set("AlreadyVerified",Kse);class Wse extends de.ProgramError{constructor(e,t){super("",e,t),this.name="AlreadyUnverified",this.code=115}}Y.AlreadyUnverifiedError=Wse;ue.set(115,Wse);le.set("AlreadyUnverified",Wse);class Nse extends de.ProgramError{constructor(e,t){super("This edition is not a Print Edition",e,t),this.name="NotAPrintEdition",this.code=116}}Y.NotAPrintEditionError=Nse;ue.set(116,Nse);le.set("NotAPrintEdition",Nse);class Fse extends de.ProgramError{constructor(e,t){super("Invalid Master Edition",e,t),this.name="InvalidMasterEdition",this.code=117}}Y.InvalidMasterEditionError=Fse;ue.set(117,Fse);le.set("InvalidMasterEdition",Fse);class Use extends de.ProgramError{constructor(e,t){super("Invalid Print Edition",e,t),this.name="InvalidPrintEdition",this.code=118}}Y.InvalidPrintEditionError=Use;ue.set(118,Use);le.set("InvalidPrintEdition",Use);class Vse extends de.ProgramError{constructor(e,t){super("Invalid Edition Marker",e,t),this.name="InvalidEditionMarker",this.code=119}}Y.InvalidEditionMarkerError=Vse;ue.set(119,Vse);le.set("InvalidEditionMarker",Vse);class qse extends de.ProgramError{constructor(e,t){super("Reservation List is Deprecated",e,t),this.name="ReservationListDeprecated",this.code=120}}Y.ReservationListDeprecatedError=qse;ue.set(120,qse);le.set("ReservationListDeprecated",qse);class Hse extends de.ProgramError{constructor(e,t){super("Print Edition does not match Master Edition",e,t),this.name="PrintEditionDoesNotMatchMasterEdition",this.code=121}}Y.PrintEditionDoesNotMatchMasterEditionError=Hse;ue.set(121,Hse);le.set("PrintEditionDoesNotMatchMasterEdition",Hse);class jse extends de.ProgramError{constructor(e,t){super("Edition Number greater than max supply",e,t),this.name="EditionNumberGreaterThanMaxSupply",this.code=122}}Y.EditionNumberGreaterThanMaxSupplyError=jse;ue.set(122,jse);le.set("EditionNumberGreaterThanMaxSupply",jse);class Gse extends de.ProgramError{constructor(e,t){super("Must unverify before migrating collections.",e,t),this.name="MustUnverify",this.code=123}}Y.MustUnverifyError=Gse;ue.set(123,Gse);le.set("MustUnverify",Gse);class Yse extends de.ProgramError{constructor(e,t){super("Invalid Escrow Account Bump Seed",e,t),this.name="InvalidEscrowBumpSeed",this.code=124}}Y.InvalidEscrowBumpSeedError=Yse;ue.set(124,Yse);le.set("InvalidEscrowBumpSeed",Yse);class Zse extends de.ProgramError{constructor(e,t){super("Must Escrow Authority",e,t),this.name="MustBeEscrowAuthority",this.code=125}}Y.MustBeEscrowAuthorityError=Zse;ue.set(125,Zse);le.set("MustBeEscrowAuthority",Zse);class Jse extends de.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=126}}Y.InvalidSystemProgramError=Jse;ue.set(126,Jse);le.set("InvalidSystemProgram",Jse);class Xse extends de.ProgramError{constructor(e,t){super("Must be a Non Fungible Token",e,t),this.name="MustBeNonFungible",this.code=127}}Y.MustBeNonFungibleError=Xse;ue.set(127,Xse);le.set("MustBeNonFungible",Xse);class Qse extends de.ProgramError{constructor(e,t){super("Insufficient tokens for transfer",e,t),this.name="InsufficientTokens",this.code=128}}Y.InsufficientTokensError=Qse;ue.set(128,Qse);le.set("InsufficientTokens",Qse);class eie extends de.ProgramError{constructor(e,t){super("Borsh Serialization Error",e,t),this.name="BorshSerializationError",this.code=129}}Y.BorshSerializationErrorError=eie;ue.set(129,eie);le.set("BorshSerializationError",eie);class tie extends de.ProgramError{constructor(e,t){super("Cannot create NFT with no Freeze Authority.",e,t),this.name="NoFreezeAuthoritySet",this.code=130}}Y.NoFreezeAuthoritySetError=tie;ue.set(130,tie);le.set("NoFreezeAuthoritySet",tie);class rie extends de.ProgramError{constructor(e,t){super("Invalid collection size change",e,t),this.name="InvalidCollectionSizeChange",this.code=131}}Y.InvalidCollectionSizeChangeError=rie;ue.set(131,rie);le.set("InvalidCollectionSizeChange",rie);class nie extends de.ProgramError{constructor(e,t){super("Invalid bubblegum signer",e,t),this.name="InvalidBubblegumSigner",this.code=132}}Y.InvalidBubblegumSignerError=nie;ue.set(132,nie);le.set("InvalidBubblegumSigner",nie);class sie extends de.ProgramError{constructor(e,t){super("Escrow parent cannot have a delegate",e,t),this.name="EscrowParentHasDelegate",this.code=133}}Y.EscrowParentHasDelegateError=sie;ue.set(133,sie);le.set("EscrowParentHasDelegate",sie);class iie extends de.ProgramError{constructor(e,t){super("Mint needs to be signer to initialize the account",e,t),this.name="MintIsNotSigner",this.code=134}}Y.MintIsNotSignerError=iie;ue.set(134,iie);le.set("MintIsNotSigner",iie);class oie extends de.ProgramError{constructor(e,t){super("Invalid token standard",e,t),this.name="InvalidTokenStandard",this.code=135}}Y.InvalidTokenStandardError=oie;ue.set(135,oie);le.set("InvalidTokenStandard",oie);class aie extends de.ProgramError{constructor(e,t){super("Invalid mint account for specified token standard",e,t),this.name="InvalidMintForTokenStandard",this.code=136}}Y.InvalidMintForTokenStandardError=aie;ue.set(136,aie);le.set("InvalidMintForTokenStandard",aie);class cie extends de.ProgramError{constructor(e,t){super("Invalid authorization rules account",e,t),this.name="InvalidAuthorizationRules",this.code=137}}Y.InvalidAuthorizationRulesError=cie;ue.set(137,cie);le.set("InvalidAuthorizationRules",cie);class uie extends de.ProgramError{constructor(e,t){super("Missing authorization rules account",e,t),this.name="MissingAuthorizationRules",this.code=138}}Y.MissingAuthorizationRulesError=uie;ue.set(138,uie);le.set("MissingAuthorizationRules",uie);class lie extends de.ProgramError{constructor(e,t){super("Missing programmable configuration",e,t),this.name="MissingProgrammableConfig",this.code=139}}Y.MissingProgrammableConfigError=lie;ue.set(139,lie);le.set("MissingProgrammableConfig",lie);class die extends de.ProgramError{constructor(e,t){super("Invalid programmable configuration",e,t),this.name="InvalidProgrammableConfig",this.code=140}}Y.InvalidProgrammableConfigError=die;ue.set(140,die);le.set("InvalidProgrammableConfig",die);class fie extends de.ProgramError{constructor(e,t){super("Delegate already exists",e,t),this.name="DelegateAlreadyExists",this.code=141}}Y.DelegateAlreadyExistsError=fie;ue.set(141,fie);le.set("DelegateAlreadyExists",fie);class hie extends de.ProgramError{constructor(e,t){super("Delegate not found",e,t),this.name="DelegateNotFound",this.code=142}}Y.DelegateNotFoundError=hie;ue.set(142,hie);le.set("DelegateNotFound",hie);class gie extends de.ProgramError{constructor(e,t){super("Required account not set in instruction builder",e,t),this.name="MissingAccountInBuilder",this.code=143}}Y.MissingAccountInBuilderError=gie;ue.set(143,gie);le.set("MissingAccountInBuilder",gie);class mie extends de.ProgramError{constructor(e,t){super("Required argument not set in instruction builder",e,t),this.name="MissingArgumentInBuilder",this.code=144}}Y.MissingArgumentInBuilderError=mie;ue.set(144,mie);le.set("MissingArgumentInBuilder",mie);class yie extends de.ProgramError{constructor(e,t){super("Feature not supported currently",e,t),this.name="FeatureNotSupported",this.code=145}}Y.FeatureNotSupportedError=yie;ue.set(145,yie);le.set("FeatureNotSupported",yie);class pie extends de.ProgramError{constructor(e,t){super("Invalid system wallet",e,t),this.name="InvalidSystemWallet",this.code=146}}Y.InvalidSystemWalletError=pie;ue.set(146,pie);le.set("InvalidSystemWallet",pie);class bie extends de.ProgramError{constructor(e,t){super("Only the sale delegate can transfer while its set",e,t),this.name="OnlySaleDelegateCanTransfer",this.code=147}}Y.OnlySaleDelegateCanTransferError=bie;ue.set(147,bie);le.set("OnlySaleDelegateCanTransfer",bie);class Sie extends de.ProgramError{constructor(e,t){super("Missing token account",e,t),this.name="MissingTokenAccount",this.code=148}}Y.MissingTokenAccountError=Sie;ue.set(148,Sie);le.set("MissingTokenAccount",Sie);class kie extends de.ProgramError{constructor(e,t){super("Missing SPL token program",e,t),this.name="MissingSplTokenProgram",this.code=149}}Y.MissingSplTokenProgramError=kie;ue.set(149,kie);le.set("MissingSplTokenProgram",kie);class vie extends de.ProgramError{constructor(e,t){super("Missing authorization rules program",e,t),this.name="MissingAuthorizationRulesProgram",this.code=150}}Y.MissingAuthorizationRulesProgramError=vie;ue.set(150,vie);le.set("MissingAuthorizationRulesProgram",vie);class Aie extends de.ProgramError{constructor(e,t){super("Invalid delegate role for transfer",e,t),this.name="InvalidDelegateRoleForTransfer",this.code=151}}Y.InvalidDelegateRoleForTransferError=Aie;ue.set(151,Aie);le.set("InvalidDelegateRoleForTransfer",Aie);class wie extends de.ProgramError{constructor(e,t){super("Invalid transfer authority",e,t),this.name="InvalidTransferAuthority",this.code=152}}Y.InvalidTransferAuthorityError=wie;ue.set(152,wie);le.set("InvalidTransferAuthority",wie);class Iie extends de.ProgramError{constructor(e,t){super("Instruction not supported for ProgrammableNonFungible assets",e,t),this.name="InstructionNotSupported",this.code=153}}Y.InstructionNotSupportedError=Iie;ue.set(153,Iie);le.set("InstructionNotSupported",Iie);class _ie extends de.ProgramError{constructor(e,t){super("Public key does not match expected value",e,t),this.name="KeyMismatch",this.code=154}}Y.KeyMismatchError=_ie;ue.set(154,_ie);le.set("KeyMismatch",_ie);class Pie extends de.ProgramError{constructor(e,t){super("Token is locked",e,t),this.name="LockedToken",this.code=155}}Y.LockedTokenError=Pie;ue.set(155,Pie);le.set("LockedToken",Pie);class Eie extends de.ProgramError{constructor(e,t){super("Token is unlocked",e,t),this.name="UnlockedToken",this.code=156}}Y.UnlockedTokenError=Eie;ue.set(156,Eie);le.set("UnlockedToken",Eie);class xie extends de.ProgramError{constructor(e,t){super("Missing delegate role",e,t),this.name="MissingDelegateRole",this.code=157}}Y.MissingDelegateRoleError=xie;ue.set(157,xie);le.set("MissingDelegateRole",xie);class Tie extends de.ProgramError{constructor(e,t){super("Invalid authority type",e,t),this.name="InvalidAuthorityType",this.code=158}}Y.InvalidAuthorityTypeError=Tie;ue.set(158,Tie);le.set("InvalidAuthorityType",Tie);class Rie extends de.ProgramError{constructor(e,t){super("Missing token record account",e,t),this.name="MissingTokenRecord",this.code=159}}Y.MissingTokenRecordError=Rie;ue.set(159,Rie);le.set("MissingTokenRecord",Rie);class Bie extends de.ProgramError{constructor(e,t){super("Mint supply must be zero for programmable assets",e,t),this.name="MintSupplyMustBeZero",this.code=160}}Y.MintSupplyMustBeZeroError=Bie;ue.set(160,Bie);le.set("MintSupplyMustBeZero",Bie);class Cie extends de.ProgramError{constructor(e,t){super("Data is empty or zeroed",e,t),this.name="DataIsEmptyOrZeroed",this.code=161}}Y.DataIsEmptyOrZeroedError=Cie;ue.set(161,Cie);le.set("DataIsEmptyOrZeroed",Cie);class Mie extends de.ProgramError{constructor(e,t){super("Missing token owner",e,t),this.name="MissingTokenOwnerAccount",this.code=162}}Y.MissingTokenOwnerAccountError=Mie;ue.set(162,Mie);le.set("MissingTokenOwnerAccount",Mie);class zie extends de.ProgramError{constructor(e,t){super("Master edition account has an invalid length",e,t),this.name="InvalidMasterEditionAccountLength",this.code=163}}Y.InvalidMasterEditionAccountLengthError=zie;ue.set(163,zie);le.set("InvalidMasterEditionAccountLength",zie);class $ie extends de.ProgramError{constructor(e,t){super("Incorrect token state",e,t),this.name="IncorrectTokenState",this.code=164}}Y.IncorrectTokenStateError=$ie;ue.set(164,$ie);le.set("IncorrectTokenState",$ie);class Die extends de.ProgramError{constructor(e,t){super("Invalid delegate role",e,t),this.name="InvalidDelegateRole",this.code=165}}Y.InvalidDelegateRoleError=Die;ue.set(165,Die);le.set("InvalidDelegateRole",Die);class Oie extends de.ProgramError{constructor(e,t){super("Print supply is required for non-fungibles",e,t),this.name="MissingPrintSupply",this.code=166}}Y.MissingPrintSupplyError=Oie;ue.set(166,Oie);le.set("MissingPrintSupply",Oie);class Lie extends de.ProgramError{constructor(e,t){super("Missing master edition account",e,t),this.name="MissingMasterEditionAccount",this.code=167}}Y.MissingMasterEditionAccountError=Lie;ue.set(167,Lie);le.set("MissingMasterEditionAccount",Lie);class Kie extends de.ProgramError{constructor(e,t){super("Amount must be greater than zero",e,t),this.name="AmountMustBeGreaterThanZero",this.code=168}}Y.AmountMustBeGreaterThanZeroError=Kie;ue.set(168,Kie);le.set("AmountMustBeGreaterThanZero",Kie);class Wie extends de.ProgramError{constructor(e,t){super("Invalid delegate args",e,t),this.name="InvalidDelegateArgs",this.code=169}}Y.InvalidDelegateArgsError=Wie;ue.set(169,Wie);le.set("InvalidDelegateArgs",Wie);class Nie extends de.ProgramError{constructor(e,t){super("Missing address for locked transfer",e,t),this.name="MissingLockedTransferAddress",this.code=170}}Y.MissingLockedTransferAddressError=Nie;ue.set(170,Nie);le.set("MissingLockedTransferAddress",Nie);class Fie extends de.ProgramError{constructor(e,t){super("Invalid destination address for locked transfer",e,t),this.name="InvalidLockedTransferAddress",this.code=171}}Y.InvalidLockedTransferAddressError=Fie;ue.set(171,Fie);le.set("InvalidLockedTransferAddress",Fie);class Uie extends de.ProgramError{constructor(e,t){super("Exceeded account realloc increase limit",e,t),this.name="DataIncrementLimitExceeded",this.code=172}}Y.DataIncrementLimitExceededError=Uie;ue.set(172,Uie);le.set("DataIncrementLimitExceeded",Uie);class Vie extends de.ProgramError{constructor(e,t){super("Cannot update the rule set of a programmable asset that has a delegate",e,t),this.name="CannotUpdateAssetWithDelegate",this.code=173}}Y.CannotUpdateAssetWithDelegateError=Vie;ue.set(173,Vie);le.set("CannotUpdateAssetWithDelegate",Vie);class qie extends de.ProgramError{constructor(e,t){super("Invalid token amount for this operation or token standard",e,t),this.name="InvalidAmount",this.code=174}}Y.InvalidAmountError=qie;ue.set(174,qie);le.set("InvalidAmount",qie);class Hie extends de.ProgramError{constructor(e,t){super("Missing master edition mint account",e,t),this.name="MissingMasterEditionMintAccount",this.code=175}}Y.MissingMasterEditionMintAccountError=Hie;ue.set(175,Hie);le.set("MissingMasterEditionMintAccount",Hie);class jie extends de.ProgramError{constructor(e,t){super("Missing master edition token account",e,t),this.name="MissingMasterEditionTokenAccount",this.code=176}}Y.MissingMasterEditionTokenAccountError=jie;ue.set(176,jie);le.set("MissingMasterEditionTokenAccount",jie);class Gie extends de.ProgramError{constructor(e,t){super("Missing edition marker account",e,t),this.name="MissingEditionMarkerAccount",this.code=177}}Y.MissingEditionMarkerAccountError=Gie;ue.set(177,Gie);le.set("MissingEditionMarkerAccount",Gie);class Yie extends de.ProgramError{constructor(e,t){super("Cannot burn while persistent delegate is set",e,t),this.name="CannotBurnWithDelegate",this.code=178}}Y.CannotBurnWithDelegateError=Yie;ue.set(178,Yie);le.set("CannotBurnWithDelegate",Yie);class Zie extends de.ProgramError{constructor(e,t){super("Missing edition account",e,t),this.name="MissingEdition",this.code=179}}Y.MissingEditionError=Zie;ue.set(179,Zie);le.set("MissingEdition",Zie);class Jie extends de.ProgramError{constructor(e,t){super("Invalid Associated Token Account Program",e,t),this.name="InvalidAssociatedTokenAccountProgram",this.code=180}}Y.InvalidAssociatedTokenAccountProgramError=Jie;ue.set(180,Jie);le.set("InvalidAssociatedTokenAccountProgram",Jie);class Xie extends de.ProgramError{constructor(e,t){super("Invalid InstructionsSysvar",e,t),this.name="InvalidInstructionsSysvar",this.code=181}}Y.InvalidInstructionsSysvarError=Xie;ue.set(181,Xie);le.set("InvalidInstructionsSysvar",Xie);class Qie extends de.ProgramError{constructor(e,t){super("Invalid or Unneeded parent accounts",e,t),this.name="InvalidParentAccounts",this.code=182}}Y.InvalidParentAccountsError=Qie;ue.set(182,Qie);le.set("InvalidParentAccounts",Qie);class eoe extends de.ProgramError{constructor(e,t){super("Authority cannot apply all update args",e,t),this.name="InvalidUpdateArgs",this.code=183}}Y.InvalidUpdateArgsError=eoe;ue.set(183,eoe);le.set("InvalidUpdateArgs",eoe);class toe extends de.ProgramError{constructor(e,t){super("Token account does not have enough tokens",e,t),this.name="InsufficientTokenBalance",this.code=184}}Y.InsufficientTokenBalanceError=toe;ue.set(184,toe);le.set("InsufficientTokenBalance",toe);class roe extends de.ProgramError{constructor(e,t){super("Missing collection account",e,t),this.name="MissingCollectionMint",this.code=185}}Y.MissingCollectionMintError=roe;ue.set(185,roe);le.set("MissingCollectionMint",roe);class noe extends de.ProgramError{constructor(e,t){super("Missing collection master edition account",e,t),this.name="MissingCollectionMasterEdition",this.code=186}}Y.MissingCollectionMasterEditionError=noe;ue.set(186,noe);le.set("MissingCollectionMasterEdition",noe);class soe extends de.ProgramError{constructor(e,t){super("Invalid token record account",e,t),this.name="InvalidTokenRecord",this.code=187}}Y.InvalidTokenRecordError=soe;ue.set(187,soe);le.set("InvalidTokenRecord",soe);class ioe extends de.ProgramError{constructor(e,t){super("The close authority needs to be revoked by the Utility Delegate",e,t),this.name="InvalidCloseAuthority",this.code=188}}Y.InvalidCloseAuthorityError=ioe;ue.set(188,ioe);le.set("InvalidCloseAuthority",ioe);class ooe extends de.ProgramError{constructor(e,t){super("Invalid or removed instruction",e,t),this.name="InvalidInstruction",this.code=189}}Y.InvalidInstructionError=ooe;ue.set(189,ooe);le.set("InvalidInstruction",ooe);class aoe extends de.ProgramError{constructor(e,t){super("Missing delegate record",e,t),this.name="MissingDelegateRecord",this.code=190}}Y.MissingDelegateRecordError=aoe;ue.set(190,aoe);le.set("MissingDelegateRecord",aoe);class coe extends de.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidFeeAccount",this.code=191}}Y.InvalidFeeAccountError=coe;ue.set(191,coe);le.set("InvalidFeeAccount",coe);class uoe extends de.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidMetadataFlags",this.code=192}}Y.InvalidMetadataFlagsError=uoe;ue.set(192,uoe);le.set("InvalidMetadataFlags",uoe);class loe extends de.ProgramError{constructor(e,t){super("Cannot change the update authority with a delegate",e,t),this.name="CannotChangeUpdateAuthorityWithDelegate",this.code=193}}Y.CannotChangeUpdateAuthorityWithDelegateError=loe;ue.set(193,loe);le.set("CannotChangeUpdateAuthorityWithDelegate",loe);class doe extends de.ProgramError{constructor(e,t){super("Invalid mint extension type",e,t),this.name="InvalidMintExtensionType",this.code=194}}Y.InvalidMintExtensionTypeError=doe;ue.set(194,doe);le.set("InvalidMintExtensionType",doe);class foe extends de.ProgramError{constructor(e,t){super("Invalid mint close authority",e,t),this.name="InvalidMintCloseAuthority",this.code=195}}Y.InvalidMintCloseAuthorityError=foe;ue.set(195,foe);le.set("InvalidMintCloseAuthority",foe);class hoe extends de.ProgramError{constructor(e,t){super("Invalid metadata pointer",e,t),this.name="InvalidMetadataPointer",this.code=196}}Y.InvalidMetadataPointerError=hoe;ue.set(196,hoe);le.set("InvalidMetadataPointer",hoe);class goe extends de.ProgramError{constructor(e,t){super("Invalid token extension type",e,t),this.name="InvalidTokenExtensionType",this.code=197}}Y.InvalidTokenExtensionTypeError=goe;ue.set(197,goe);le.set("InvalidTokenExtensionType",goe);class moe extends de.ProgramError{constructor(e,t){super("Missing immutable owner extension",e,t),this.name="MissingImmutableOwnerExtension",this.code=198}}Y.MissingImmutableOwnerExtensionError=moe;ue.set(198,moe);le.set("MissingImmutableOwnerExtension",moe);function nEt(n,e,t){const r=ue.get(n);return r?new r(e,t):null}Y.getMplTokenMetadataErrorFromCode=nEt;function sEt(n,e,t){const r=le.get(n);return r?new r(e,t):null}Y.getMplTokenMetadataErrorFromName=sEt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Y,n)})(Cre);var SMe={},R_={},Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.getAccountMetasAndSigners=Ue.expectPda=Ue.expectPublicKey=Ue.expectSome=void 0;const EM=Z;function iEt(n){if(n==null)throw new Error("Expected a value but received null or undefined.");return n}Ue.expectSome=iEt;function oEt(n){if(!n)throw new Error("Expected a PublicKey.");return(0,EM.publicKey)(n,!1)}Ue.expectPublicKey=oEt;function aEt(n){if(!n||!Array.isArray(n)||!(0,EM.isPda)(n))throw new Error("Expected a PDA.");return n}Ue.expectPda=aEt;function cEt(n,e,t){const r=[],s=[];return n.forEach(i=>{if(!i.value){if(e==="omitted")return;r.push({pubkey:t,isSigner:!1,isWritable:!1});return}(0,EM.isSigner)(i.value)&&s.push(i.value),r.push({pubkey:(0,EM.publicKey)(i.value,!1),isSigner:(0,EM.isSigner)(i.value),isWritable:i.isWritable})}),[r,s]}Ue.getAccountMetasAndSigners=cEt;Object.defineProperty(R_,"__esModule",{value:!0});R_.approveCollectionAuthority=R_.getApproveCollectionAuthorityInstructionDataSerializer=void 0;const uEt=Z,T7=H,lEt=Jt,Xbe=Ue;function kMe(){return(0,T7.mapSerializer)((0,T7.struct)([["discriminator",(0,T7.u8)()]],{description:"ApproveCollectionAuthorityInstructionData"}),n=>({...n,discriminator:23}))}R_.getApproveCollectionAuthorityInstructionDataSerializer=kMe;function dEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionAuthorityRecord:{index:0,isWritable:!0,value:e.collectionAuthorityRecord??null},newCollectionAuthority:{index:1,isWritable:!1,value:e.newCollectionAuthority??null},updateAuthority:{index:2,isWritable:!0,value:e.updateAuthority??null},payer:{index:3,isWritable:!0,value:e.payer??null},metadata:{index:4,isWritable:!1,value:e.metadata??null},mint:{index:5,isWritable:!1,value:e.mint??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},rent:{index:7,isWritable:!1,value:e.rent??null}};r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,lEt.findMetadataPda)(n,{mint:(0,Xbe.expectPublicKey)(r.mint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Xbe.getAccountMetasAndSigners)(s,"omitted",t),a=kMe().serialize({}),c=0;return(0,uEt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}R_.approveCollectionAuthority=dEt;var B_={};Object.defineProperty(B_,"__esModule",{value:!0});B_.approveUseAuthority=B_.getApproveUseAuthorityInstructionDataSerializer=void 0;const fEt=Z,rD=H,hEt=Jt,Qbe=Ue;function vMe(){return(0,rD.mapSerializer)((0,rD.struct)([["discriminator",(0,rD.u8)()],["numberOfUses",(0,rD.u64)()]],{description:"ApproveUseAuthorityInstructionData"}),n=>({...n,discriminator:20}))}B_.getApproveUseAuthorityInstructionDataSerializer=vMe;function gEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={useAuthorityRecord:{index:0,isWritable:!0,value:e.useAuthorityRecord??null},owner:{index:1,isWritable:!0,value:e.owner??null},payer:{index:2,isWritable:!0,value:e.payer??null},user:{index:3,isWritable:!1,value:e.user??null},ownerTokenAccount:{index:4,isWritable:!0,value:e.ownerTokenAccount??null},metadata:{index:5,isWritable:!1,value:e.metadata??null},mint:{index:6,isWritable:!1,value:e.mint??null},burner:{index:7,isWritable:!1,value:e.burner??null},tokenProgram:{index:8,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},rent:{index:10,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,hEt.findMetadataPda)(n,{mint:(0,Qbe.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Qbe.getAccountMetasAndSigners)(i,"omitted",t),c=vMe().serialize(s),u=0;return(0,fEt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}B_.approveUseAuthority=gEt;var C_={};Object.defineProperty(C_,"__esModule",{value:!0});C_.bubblegumSetCollectionSize=C_.getBubblegumSetCollectionSizeInstructionDataSerializer=void 0;const mEt=Z,R7=H,yEt=Ue,pEt=ht;function AMe(){return(0,R7.mapSerializer)((0,R7.struct)([["discriminator",(0,R7.u8)()],["setCollectionSizeArgs",(0,pEt.getSetCollectionSizeArgsSerializer)()]],{description:"BubblegumSetCollectionSizeInstructionData"}),n=>({...n,discriminator:36}))}C_.getBubblegumSetCollectionSizeInstructionDataSerializer=AMe;function bEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionMetadata:{index:0,isWritable:!0,value:e.collectionMetadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},bubblegumSigner:{index:3,isWritable:!1,value:e.bubblegumSigner??null},collectionAuthorityRecord:{index:4,isWritable:!1,value:e.collectionAuthorityRecord??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,yEt.getAccountMetasAndSigners)(i,"omitted",t),c=AMe().serialize(s),u=0;return(0,mEt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}C_.bubblegumSetCollectionSize=bEt;var M_={};Object.defineProperty(M_,"__esModule",{value:!0});M_.burnEditionNft=M_.getBurnEditionNftInstructionDataSerializer=void 0;const SEt=Z,B7=H,kEt=Ue;function wMe(){return(0,B7.mapSerializer)((0,B7.struct)([["discriminator",(0,B7.u8)()]],{description:"BurnEditionNftInstructionData"}),n=>({...n,discriminator:37}))}M_.getBurnEditionNftInstructionDataSerializer=wMe;function vEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!0,value:e.owner??null},printEditionMint:{index:2,isWritable:!0,value:e.printEditionMint??null},masterEditionMint:{index:3,isWritable:!1,value:e.masterEditionMint??null},printEditionTokenAccount:{index:4,isWritable:!0,value:e.printEditionTokenAccount??null},masterEditionTokenAccount:{index:5,isWritable:!1,value:e.masterEditionTokenAccount??null},masterEditionAccount:{index:6,isWritable:!0,value:e.masterEditionAccount??null},printEditionAccount:{index:7,isWritable:!0,value:e.printEditionAccount??null},editionMarkerAccount:{index:8,isWritable:!0,value:e.editionMarkerAccount??null},splTokenProgram:{index:9,isWritable:!1,value:e.splTokenProgram??null}};r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,kEt.getAccountMetasAndSigners)(s,"programId",t),a=wMe().serialize({}),c=0;return(0,SEt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}M_.burnEditionNft=vEt;var z_={};Object.defineProperty(z_,"__esModule",{value:!0});z_.burnNft=z_.getBurnNftInstructionDataSerializer=void 0;const AEt=Z,C7=H,wEt=Jt,e0e=Ue;function IMe(){return(0,C7.mapSerializer)((0,C7.struct)([["discriminator",(0,C7.u8)()]],{description:"BurnNftInstructionData"}),n=>({...n,discriminator:29}))}z_.getBurnNftInstructionDataSerializer=IMe;function IEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!0,value:e.owner??null},mint:{index:2,isWritable:!0,value:e.mint??null},tokenAccount:{index:3,isWritable:!0,value:e.tokenAccount??null},masterEditionAccount:{index:4,isWritable:!0,value:e.masterEditionAccount??null},splTokenProgram:{index:5,isWritable:!1,value:e.splTokenProgram??null},collectionMetadata:{index:6,isWritable:!0,value:e.collectionMetadata??null}};r.metadata.value||(r.metadata.value=(0,wEt.findMetadataPda)(n,{mint:(0,e0e.expectPublicKey)(r.mint.value)})),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,e0e.getAccountMetasAndSigners)(s,"omitted",t),a=IMe().serialize({}),c=0;return(0,AEt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}z_.burnNft=IEt;var $_={};Object.defineProperty($_,"__esModule",{value:!0});$_.burnV1=$_.getBurnV1InstructionDataSerializer=void 0;const _Et=hi,t0e=Z,CB=H,PEt=bn,nD=Jt,ip=Ue,EEt=ht;function _Me(){return(0,CB.mapSerializer)((0,CB.struct)([["discriminator",(0,CB.u8)()],["burnV1Discriminator",(0,CB.u8)()],["amount",(0,CB.u64)()]],{description:"BurnV1InstructionData"}),n=>({...n,discriminator:41,burnV1Discriminator:0,amount:n.amount??1}))}$_.getBurnV1InstructionDataSerializer=_Me;function xEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!0,value:e.authority??null},collectionMetadata:{index:1,isWritable:!0,value:e.collectionMetadata??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},edition:{index:3,isWritable:!0,value:e.edition??null},mint:{index:4,isWritable:!0,value:e.mint??null},token:{index:5,isWritable:!0,value:e.token??null},masterEdition:{index:6,isWritable:!0,value:e.masterEdition??null},masterEditionMint:{index:7,isWritable:!1,value:e.masterEditionMint??null},masterEditionToken:{index:8,isWritable:!1,value:e.masterEditionToken??null},editionMarker:{index:9,isWritable:!0,value:e.editionMarker??null},tokenRecord:{index:10,isWritable:!0,value:e.tokenRecord??null},systemProgram:{index:11,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:12,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:13,isWritable:!1,value:e.splTokenProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,nD.findMetadataPda)(n,{mint:(0,ip.expectPublicKey)(r.mint.value)})),r.edition.value||(0,PEt.resolveIsNonFungible)(n,r,s,t,!0)&&(r.edition.value=(0,nD.findMasterEditionPda)(n,{mint:(0,ip.expectPublicKey)(r.mint.value)})),s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,_Et.findAssociatedTokenPda)(n,{mint:(0,ip.expectPublicKey)(r.mint.value),owner:(0,ip.expectSome)(s.tokenOwner)})),r.masterEdition.value||r.masterEditionMint.value&&(r.masterEdition.value=(0,nD.findMasterEditionPda)(n,{mint:(0,ip.expectPublicKey)(r.masterEditionMint.value)})),r.tokenRecord.value||s.tokenStandard===EEt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,nD.findTokenRecordPda)(n,{mint:(0,ip.expectPublicKey)(r.mint.value),token:(0,ip.expectPublicKey)(r.token.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,t0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ip.getAccountMetasAndSigners)(i,"programId",t),c=_Me().serialize(s),u=0;return(0,t0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}$_.burnV1=xEt;var D_={};Object.defineProperty(D_,"__esModule",{value:!0});D_.closeEscrowAccount=D_.getCloseEscrowAccountInstructionDataSerializer=void 0;const r0e=Z,M7=H,n0e=Jt,z7=Ue;function PMe(){return(0,M7.mapSerializer)((0,M7.struct)([["discriminator",(0,M7.u8)()]],{description:"CloseEscrowAccountInstructionData"}),n=>({...n,discriminator:39}))}D_.getCloseEscrowAccountInstructionDataSerializer=PMe;function TEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!0,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},mint:{index:2,isWritable:!1,value:e.mint??null},tokenAccount:{index:3,isWritable:!1,value:e.tokenAccount??null},edition:{index:4,isWritable:!1,value:e.edition??null},payer:{index:5,isWritable:!0,value:e.payer??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.metadata.value||(r.metadata.value=(0,n0e.findMetadataPda)(n,{mint:(0,z7.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,n0e.findMasterEditionPda)(n,{mint:(0,z7.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,r0e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,z7.getAccountMetasAndSigners)(s,"programId",t),a=PMe().serialize({}),c=0;return(0,r0e.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}D_.closeEscrowAccount=TEt;var O_={};Object.defineProperty(O_,"__esModule",{value:!0});O_.collect=O_.getCollectInstructionDataSerializer=void 0;const REt=Z,$7=H,BEt=Ue;function EMe(){return(0,$7.mapSerializer)((0,$7.struct)([["discriminator",(0,$7.u8)()]],{description:"CollectInstructionData"}),n=>({...n,discriminator:54}))}O_.getCollectInstructionDataSerializer=EMe;function CEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},recipient:{index:1,isWritable:!1,value:e.recipient??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,BEt.getAccountMetasAndSigners)(s,"programId",t),a=EMe().serialize({}),c=0;return(0,REt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}O_.collect=CEt;var L_={};Object.defineProperty(L_,"__esModule",{value:!0});L_.convertMasterEditionV1ToV2=L_.getConvertMasterEditionV1ToV2InstructionDataSerializer=void 0;const MEt=Z,D7=H,zEt=Ue;function xMe(){return(0,D7.mapSerializer)((0,D7.struct)([["discriminator",(0,D7.u8)()]],{description:"ConvertMasterEditionV1ToV2InstructionData"}),n=>({...n,discriminator:12}))}L_.getConvertMasterEditionV1ToV2InstructionDataSerializer=xMe;function $Et(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={masterEdition:{index:0,isWritable:!0,value:e.masterEdition??null},oneTimeAuth:{index:1,isWritable:!0,value:e.oneTimeAuth??null},printingMint:{index:2,isWritable:!0,value:e.printingMint??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,zEt.getAccountMetasAndSigners)(s,"programId",t),a=xMe().serialize({}),c=0;return(0,MEt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}L_.convertMasterEditionV1ToV2=$Et;var K_={};Object.defineProperty(K_,"__esModule",{value:!0});K_.createEscrowAccount=K_.getCreateEscrowAccountInstructionDataSerializer=void 0;const s0e=Z,O7=H,i0e=Jt,L7=Ue;function TMe(){return(0,O7.mapSerializer)((0,O7.struct)([["discriminator",(0,O7.u8)()]],{description:"CreateEscrowAccountInstructionData"}),n=>({...n,discriminator:38}))}K_.getCreateEscrowAccountInstructionDataSerializer=TMe;function DEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!0,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},mint:{index:2,isWritable:!1,value:e.mint??null},tokenAccount:{index:3,isWritable:!1,value:e.tokenAccount??null},edition:{index:4,isWritable:!1,value:e.edition??null},payer:{index:5,isWritable:!0,value:e.payer??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null},authority:{index:8,isWritable:!1,value:e.authority??null}};r.metadata.value||(r.metadata.value=(0,i0e.findMetadataPda)(n,{mint:(0,L7.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,i0e.findMasterEditionPda)(n,{mint:(0,L7.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,s0e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,L7.getAccountMetasAndSigners)(s,"omitted",t),a=TMe().serialize({}),c=0;return(0,s0e.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}K_.createEscrowAccount=DEt;var W_={};Object.defineProperty(W_,"__esModule",{value:!0});W_.createMasterEditionV3=W_.getCreateMasterEditionV3InstructionDataSerializer=void 0;const OEt=Z,MB=H,o0e=Jt,K7=Ue;function RMe(){return(0,MB.mapSerializer)((0,MB.struct)([["discriminator",(0,MB.u8)()],["maxSupply",(0,MB.option)((0,MB.u64)())]],{description:"CreateMasterEditionV3InstructionData"}),n=>({...n,discriminator:17}))}W_.getCreateMasterEditionV3InstructionDataSerializer=RMe;function LEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={edition:{index:0,isWritable:!0,value:e.edition??null},mint:{index:1,isWritable:!0,value:e.mint??null},updateAuthority:{index:2,isWritable:!1,value:e.updateAuthority??null},mintAuthority:{index:3,isWritable:!1,value:e.mintAuthority??null},payer:{index:4,isWritable:!0,value:e.payer??null},metadata:{index:5,isWritable:!0,value:e.metadata??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null}},s={...e};r.edition.value||(r.edition.value=(0,o0e.findMasterEditionPda)(n,{mint:(0,K7.expectPublicKey)(r.mint.value)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,o0e.findMetadataPda)(n,{mint:(0,K7.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,K7.getAccountMetasAndSigners)(i,"omitted",t),c=RMe().serialize(s),u=0;return(0,OEt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}W_.createMasterEditionV3=LEt;var N_={};Object.defineProperty(N_,"__esModule",{value:!0});N_.createMetadataAccountV3=N_.getCreateMetadataAccountV3InstructionDataSerializer=void 0;const KEt=Z,zB=H,WEt=Jt,a0e=Ue,c0e=ht;function BMe(){return(0,zB.mapSerializer)((0,zB.struct)([["discriminator",(0,zB.u8)()],["data",(0,c0e.getDataV2Serializer)()],["isMutable",(0,zB.bool)()],["collectionDetails",(0,zB.option)((0,c0e.getCollectionDetailsSerializer)())]],{description:"CreateMetadataAccountV3InstructionData"}),n=>({...n,discriminator:33}))}N_.getCreateMetadataAccountV3InstructionDataSerializer=BMe;function NEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},mint:{index:1,isWritable:!1,value:e.mint??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null},payer:{index:3,isWritable:!0,value:e.payer??null},updateAuthority:{index:4,isWritable:!1,value:e.updateAuthority??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},rent:{index:6,isWritable:!1,value:e.rent??null}},s={...e};r.metadata.value||(r.metadata.value=(0,WEt.findMetadataPda)(n,{mint:(0,a0e.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,a0e.getAccountMetasAndSigners)(i,"omitted",t),c=BMe().serialize(s),u=0;return(0,KEt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}N_.createMetadataAccountV3=NEt;var F_={};Object.defineProperty(F_,"__esModule",{value:!0});F_.createV1=F_.getCreateV1InstructionDataSerializer=void 0;const XA=Z,fa=H,i1=bn,u0e=Jt,sD=Ue,Ap=ht;function CMe(){return(0,fa.mapSerializer)((0,fa.struct)([["discriminator",(0,fa.u8)()],["createV1Discriminator",(0,fa.u8)()],["name",(0,fa.string)()],["symbol",(0,fa.string)()],["uri",(0,fa.string)()],["sellerFeeBasisPoints",(0,XA.mapAmountSerializer)((0,fa.u16)(),"%",2)],["creators",(0,fa.option)((0,fa.array)((0,Ap.getCreatorSerializer)()))],["primarySaleHappened",(0,fa.bool)()],["isMutable",(0,fa.bool)()],["tokenStandard",(0,Ap.getTokenStandardSerializer)()],["collection",(0,fa.option)((0,Ap.getCollectionSerializer)())],["uses",(0,fa.option)((0,Ap.getUsesSerializer)())],["collectionDetails",(0,fa.option)((0,Ap.getCollectionDetailsSerializer)())],["ruleSet",(0,fa.option)((0,fa.publicKey)())],["decimals",(0,fa.option)((0,fa.u8)())],["printSupply",(0,fa.option)((0,Ap.getPrintSupplySerializer)())]],{description:"CreateV1InstructionData"}),n=>({...n,discriminator:42,createV1Discriminator:0,symbol:n.symbol??"",primarySaleHappened:n.primarySaleHappened??!1,isMutable:n.isMutable??!0,tokenStandard:n.tokenStandard??Ap.TokenStandard.NonFungible,collection:n.collection??(0,XA.none)(),uses:n.uses??(0,XA.none)(),ruleSet:n.ruleSet??(0,XA.none)()}))}F_.getCreateV1InstructionDataSerializer=CMe;function FEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},masterEdition:{index:1,isWritable:!0,value:e.masterEdition??null},mint:{index:2,isWritable:!0,value:e.mint??null},authority:{index:3,isWritable:!1,value:e.authority??null},payer:{index:4,isWritable:!0,value:e.payer??null},updateAuthority:{index:5,isWritable:!1,value:e.updateAuthority??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:8,isWritable:!1,value:e.splTokenProgram??null}},s={...e};r.metadata.value||(r.metadata.value=(0,u0e.findMetadataPda)(n,{mint:(0,sD.expectPublicKey)(r.mint.value)})),s.tokenStandard||(s.tokenStandard=Ap.TokenStandard.NonFungible),r.masterEdition.value||(0,i1.resolveIsNonFungible)(n,r,s,t,!0)&&(r.masterEdition.value=(0,u0e.findMasterEditionPda)(n,{mint:(0,sD.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=(0,sD.expectSome)(r.authority.value)),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,XA.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(0,i1.resolveIsNonFungibleOrIsMintSigner)(n,r,s,t,!1)&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),s.creators||(s.creators=(0,i1.resolveCreators)(n,r,s,t,!1)),s.isCollection||(s.isCollection=!1),s.collectionDetails||(s.collectionDetails=(0,i1.resolveCollectionDetails)(n,r,s,t,!1)),s.decimals||(s.decimals=(0,i1.resolveDecimals)(n,r,s,t,!1)),s.printSupply||(s.printSupply=(0,i1.resolvePrintSupply)(n,r,s,t,!1));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,sD.getAccountMetasAndSigners)(i,"programId",t),c=CMe().serialize(s),u=(0,i1.resolveCreateV1Bytes)(n,r,s,t);return(0,XA.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}F_.createV1=FEt;var U_={};Object.defineProperty(U_,"__esModule",{value:!0});U_.delegateAuthorityItemV1=U_.getDelegateAuthorityItemV1InstructionDataSerializer=void 0;const PG=Z,$B=H,UEt=bn,W7=Jt,o1=Ue,MMe=ht;function zMe(){return(0,$B.mapSerializer)((0,$B.struct)([["discriminator",(0,$B.u8)()],["delegateAuthorityItemV1Discriminator",(0,$B.u8)()],["authorizationData",(0,$B.option)((0,MMe.getAuthorizationDataSerializer)())]],{description:"DelegateAuthorityItemV1InstructionData"}),n=>({...n,discriminator:44,delegateAuthorityItemV1Discriminator:9,authorizationData:n.authorizationData??(0,PG.none)()}))}U_.getDelegateAuthorityItemV1InstructionDataSerializer=zMe;function VEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,o1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,W7.findMetadataDelegateRecordPda)(n,{delegateRole:MMe.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,o1.expectSome)(s.updateAuthority),mint:(0,o1.expectPublicKey)(r.mint.value),delegate:(0,o1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,W7.findMetadataPda)(n,{mint:(0,o1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,UEt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,W7.findMasterEditionPda)(n,{mint:(0,o1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,PG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,o1.getAccountMetasAndSigners)(i,"programId",t),c=zMe().serialize(s),u=0;return(0,PG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}U_.delegateAuthorityItemV1=VEt;var V_={};Object.defineProperty(V_,"__esModule",{value:!0});V_.delegateCollectionItemV1=V_.getDelegateCollectionItemV1InstructionDataSerializer=void 0;const EG=Z,DB=H,qEt=bn,N7=Jt,a1=Ue,$Me=ht;function DMe(){return(0,DB.mapSerializer)((0,DB.struct)([["discriminator",(0,DB.u8)()],["delegateCollectionItemV1Discriminator",(0,DB.u8)()],["authorizationData",(0,DB.option)((0,$Me.getAuthorizationDataSerializer)())]],{description:"DelegateCollectionItemV1InstructionData"}),n=>({...n,discriminator:44,delegateCollectionItemV1Discriminator:11,authorizationData:n.authorizationData??(0,EG.none)()}))}V_.getDelegateCollectionItemV1InstructionDataSerializer=DMe;function HEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,a1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,N7.findMetadataDelegateRecordPda)(n,{delegateRole:$Me.MetadataDelegateRole.CollectionItem,updateAuthority:(0,a1.expectSome)(s.updateAuthority),mint:(0,a1.expectPublicKey)(r.mint.value),delegate:(0,a1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,N7.findMetadataPda)(n,{mint:(0,a1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,qEt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,N7.findMasterEditionPda)(n,{mint:(0,a1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,EG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,a1.getAccountMetasAndSigners)(i,"programId",t),c=DMe().serialize(s),u=0;return(0,EG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}V_.delegateCollectionItemV1=HEt;var q_={};Object.defineProperty(q_,"__esModule",{value:!0});q_.delegateCollectionV1=q_.getDelegateCollectionV1InstructionDataSerializer=void 0;const xG=Z,OB=H,jEt=bn,F7=Jt,c1=Ue,OMe=ht;function LMe(){return(0,OB.mapSerializer)((0,OB.struct)([["discriminator",(0,OB.u8)()],["delegateCollectionV1Discriminator",(0,OB.u8)()],["authorizationData",(0,OB.option)((0,OMe.getAuthorizationDataSerializer)())]],{description:"DelegateCollectionV1InstructionData"}),n=>({...n,discriminator:44,delegateCollectionV1Discriminator:0,authorizationData:n.authorizationData??(0,xG.none)()}))}q_.getDelegateCollectionV1InstructionDataSerializer=LMe;function GEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,c1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,F7.findMetadataDelegateRecordPda)(n,{delegateRole:OMe.MetadataDelegateRole.Collection,updateAuthority:(0,c1.expectSome)(s.updateAuthority),mint:(0,c1.expectPublicKey)(r.mint.value),delegate:(0,c1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,F7.findMetadataPda)(n,{mint:(0,c1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,jEt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,F7.findMasterEditionPda)(n,{mint:(0,c1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,xG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,c1.getAccountMetasAndSigners)(i,"programId",t),c=LMe().serialize(s),u=0;return(0,xG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}q_.delegateCollectionV1=GEt;var H_={};Object.defineProperty(H_,"__esModule",{value:!0});H_.delegateDataItemV1=H_.getDelegateDataItemV1InstructionDataSerializer=void 0;const TG=Z,LB=H,YEt=bn,U7=Jt,u1=Ue,KMe=ht;function WMe(){return(0,LB.mapSerializer)((0,LB.struct)([["discriminator",(0,LB.u8)()],["delegateDataItemV1Discriminator",(0,LB.u8)()],["authorizationData",(0,LB.option)((0,KMe.getAuthorizationDataSerializer)())]],{description:"DelegateDataItemV1InstructionData"}),n=>({...n,discriminator:44,delegateDataItemV1Discriminator:10,authorizationData:n.authorizationData??(0,TG.none)()}))}H_.getDelegateDataItemV1InstructionDataSerializer=WMe;function ZEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,u1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,U7.findMetadataDelegateRecordPda)(n,{delegateRole:KMe.MetadataDelegateRole.DataItem,updateAuthority:(0,u1.expectSome)(s.updateAuthority),mint:(0,u1.expectPublicKey)(r.mint.value),delegate:(0,u1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,U7.findMetadataPda)(n,{mint:(0,u1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,YEt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,U7.findMasterEditionPda)(n,{mint:(0,u1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,TG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,u1.getAccountMetasAndSigners)(i,"programId",t),c=WMe().serialize(s),u=0;return(0,TG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}H_.delegateDataItemV1=ZEt;var j_={};Object.defineProperty(j_,"__esModule",{value:!0});j_.delegateDataV1=j_.getDelegateDataV1InstructionDataSerializer=void 0;const RG=Z,KB=H,JEt=bn,V7=Jt,l1=Ue,NMe=ht;function FMe(){return(0,KB.mapSerializer)((0,KB.struct)([["discriminator",(0,KB.u8)()],["delegateDataV1Discriminator",(0,KB.u8)()],["authorizationData",(0,KB.option)((0,NMe.getAuthorizationDataSerializer)())]],{description:"DelegateDataV1InstructionData"}),n=>({...n,discriminator:44,delegateDataV1Discriminator:3,authorizationData:n.authorizationData??(0,RG.none)()}))}j_.getDelegateDataV1InstructionDataSerializer=FMe;function XEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,l1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,V7.findMetadataDelegateRecordPda)(n,{delegateRole:NMe.MetadataDelegateRole.Data,updateAuthority:(0,l1.expectSome)(s.updateAuthority),mint:(0,l1.expectPublicKey)(r.mint.value),delegate:(0,l1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,V7.findMetadataPda)(n,{mint:(0,l1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,JEt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,V7.findMasterEditionPda)(n,{mint:(0,l1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,RG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,l1.getAccountMetasAndSigners)(i,"programId",t),c=FMe().serialize(s),u=0;return(0,RG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}j_.delegateDataV1=XEt;var G_={};Object.defineProperty(G_,"__esModule",{value:!0});G_.delegateLockedTransferV1=G_.getDelegateLockedTransferV1InstructionDataSerializer=void 0;const QEt=hi,BG=Z,d1=H,ext=bn,iD=Jt,Mg=Ue,UMe=ht;function VMe(){return(0,d1.mapSerializer)((0,d1.struct)([["discriminator",(0,d1.u8)()],["delegateLockedTransferV1Discriminator",(0,d1.u8)()],["amount",(0,d1.u64)()],["lockedAddress",(0,d1.publicKey)()],["authorizationData",(0,d1.option)((0,UMe.getAuthorizationDataSerializer)())]],{description:"DelegateLockedTransferV1InstructionData"}),n=>({...n,discriminator:44,delegateLockedTransferV1Discriminator:7,amount:n.amount??1,authorizationData:n.authorizationData??(0,BG.none)()}))}G_.getDelegateLockedTransferV1InstructionDataSerializer=VMe;function txt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,QEt.findAssociatedTokenPda)(n,{mint:(0,Mg.expectPublicKey)(r.mint.value),owner:(0,Mg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,iD.findTokenRecordPda)(n,{mint:(0,Mg.expectPublicKey)(r.mint.value),token:(0,Mg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,iD.findMetadataPda)(n,{mint:(0,Mg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,ext.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,iD.findMasterEditionPda)(n,{mint:(0,Mg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===UMe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,iD.findTokenRecordPda)(n,{mint:(0,Mg.expectPublicKey)(r.mint.value),token:(0,Mg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,BG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Mg.getAccountMetasAndSigners)(i,"programId",t),c=VMe().serialize(s),u=0;return(0,BG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}G_.delegateLockedTransferV1=txt;var Y_={};Object.defineProperty(Y_,"__esModule",{value:!0});Y_.delegatePrintDelegateV1=Y_.getDelegatePrintDelegateV1InstructionDataSerializer=void 0;const CG=Z,WB=H,rxt=bn,l0e=Jt,q7=Ue,nxt=ht;function qMe(){return(0,WB.mapSerializer)((0,WB.struct)([["discriminator",(0,WB.u8)()],["delegatePrintDelegateV1Discriminator",(0,WB.u8)()],["authorizationData",(0,WB.option)((0,nxt.getAuthorizationDataSerializer)())]],{description:"DelegatePrintDelegateV1InstructionData"}),n=>({...n,discriminator:44,delegatePrintDelegateV1Discriminator:13,authorizationData:n.authorizationData??(0,CG.none)()}))}Y_.getDelegatePrintDelegateV1InstructionDataSerializer=qMe;function sxt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.metadata.value||(r.metadata.value=(0,l0e.findMetadataPda)(n,{mint:(0,q7.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,rxt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,l0e.findMasterEditionPda)(n,{mint:(0,q7.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,CG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,q7.getAccountMetasAndSigners)(i,"programId",t),c=qMe().serialize(s),u=0;return(0,CG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Y_.delegatePrintDelegateV1=sxt;var Z_={};Object.defineProperty(Z_,"__esModule",{value:!0});Z_.delegateProgrammableConfigItemV1=Z_.getDelegateProgrammableConfigItemV1InstructionDataSerializer=void 0;const MG=Z,NB=H,ixt=bn,H7=Jt,f1=Ue,HMe=ht;function jMe(){return(0,NB.mapSerializer)((0,NB.struct)([["discriminator",(0,NB.u8)()],["delegateProgrammableConfigItemV1Discriminator",(0,NB.u8)()],["authorizationData",(0,NB.option)((0,HMe.getAuthorizationDataSerializer)())]],{description:"DelegateProgrammableConfigItemV1InstructionData"}),n=>({...n,discriminator:44,delegateProgrammableConfigItemV1Discriminator:12,authorizationData:n.authorizationData??(0,MG.none)()}))}Z_.getDelegateProgrammableConfigItemV1InstructionDataSerializer=jMe;function oxt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,f1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,H7.findMetadataDelegateRecordPda)(n,{delegateRole:HMe.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,f1.expectSome)(s.updateAuthority),mint:(0,f1.expectPublicKey)(r.mint.value),delegate:(0,f1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,H7.findMetadataPda)(n,{mint:(0,f1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,ixt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,H7.findMasterEditionPda)(n,{mint:(0,f1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,MG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,f1.getAccountMetasAndSigners)(i,"programId",t),c=jMe().serialize(s),u=0;return(0,MG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Z_.delegateProgrammableConfigItemV1=oxt;var J_={};Object.defineProperty(J_,"__esModule",{value:!0});J_.delegateProgrammableConfigV1=J_.getDelegateProgrammableConfigV1InstructionDataSerializer=void 0;const zG=Z,FB=H,axt=bn,j7=Jt,h1=Ue,GMe=ht;function YMe(){return(0,FB.mapSerializer)((0,FB.struct)([["discriminator",(0,FB.u8)()],["delegateProgrammableConfigV1Discriminator",(0,FB.u8)()],["authorizationData",(0,FB.option)((0,GMe.getAuthorizationDataSerializer)())]],{description:"DelegateProgrammableConfigV1InstructionData"}),n=>({...n,discriminator:44,delegateProgrammableConfigV1Discriminator:8,authorizationData:n.authorizationData??(0,zG.none)()}))}J_.getDelegateProgrammableConfigV1InstructionDataSerializer=YMe;function cxt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,h1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,j7.findMetadataDelegateRecordPda)(n,{delegateRole:GMe.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,h1.expectSome)(s.updateAuthority),mint:(0,h1.expectPublicKey)(r.mint.value),delegate:(0,h1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,j7.findMetadataPda)(n,{mint:(0,h1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,axt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,j7.findMasterEditionPda)(n,{mint:(0,h1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,zG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,h1.getAccountMetasAndSigners)(i,"programId",t),c=YMe().serialize(s),u=0;return(0,zG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}J_.delegateProgrammableConfigV1=cxt;var X_={};Object.defineProperty(X_,"__esModule",{value:!0});X_.delegateSaleV1=X_.getDelegateSaleV1InstructionDataSerializer=void 0;const uxt=hi,$G=Z,eA=H,lxt=bn,oD=Jt,zg=Ue,ZMe=ht;function JMe(){return(0,eA.mapSerializer)((0,eA.struct)([["discriminator",(0,eA.u8)()],["delegateSaleV1Discriminator",(0,eA.u8)()],["amount",(0,eA.u64)()],["authorizationData",(0,eA.option)((0,ZMe.getAuthorizationDataSerializer)())]],{description:"DelegateSaleV1InstructionData"}),n=>({...n,discriminator:44,delegateSaleV1Discriminator:1,amount:n.amount??1,authorizationData:n.authorizationData??(0,$G.none)()}))}X_.getDelegateSaleV1InstructionDataSerializer=JMe;function dxt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,uxt.findAssociatedTokenPda)(n,{mint:(0,zg.expectPublicKey)(r.mint.value),owner:(0,zg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,oD.findTokenRecordPda)(n,{mint:(0,zg.expectPublicKey)(r.mint.value),token:(0,zg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,oD.findMetadataPda)(n,{mint:(0,zg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,lxt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,oD.findMasterEditionPda)(n,{mint:(0,zg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===ZMe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,oD.findTokenRecordPda)(n,{mint:(0,zg.expectPublicKey)(r.mint.value),token:(0,zg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,$G.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,zg.getAccountMetasAndSigners)(i,"programId",t),c=JMe().serialize(s),u=0;return(0,$G.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}X_.delegateSaleV1=dxt;var Q_={};Object.defineProperty(Q_,"__esModule",{value:!0});Q_.delegateStakingV1=Q_.getDelegateStakingV1InstructionDataSerializer=void 0;const fxt=hi,DG=Z,tA=H,hxt=bn,aD=Jt,$g=Ue,XMe=ht;function QMe(){return(0,tA.mapSerializer)((0,tA.struct)([["discriminator",(0,tA.u8)()],["delegateStakingV1Discriminator",(0,tA.u8)()],["amount",(0,tA.u64)()],["authorizationData",(0,tA.option)((0,XMe.getAuthorizationDataSerializer)())]],{description:"DelegateStakingV1InstructionData"}),n=>({...n,discriminator:44,delegateStakingV1Discriminator:5,amount:n.amount??1,authorizationData:n.authorizationData??(0,DG.none)()}))}Q_.getDelegateStakingV1InstructionDataSerializer=QMe;function gxt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,fxt.findAssociatedTokenPda)(n,{mint:(0,$g.expectPublicKey)(r.mint.value),owner:(0,$g.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,aD.findTokenRecordPda)(n,{mint:(0,$g.expectPublicKey)(r.mint.value),token:(0,$g.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,aD.findMetadataPda)(n,{mint:(0,$g.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,hxt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,aD.findMasterEditionPda)(n,{mint:(0,$g.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===XMe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,aD.findTokenRecordPda)(n,{mint:(0,$g.expectPublicKey)(r.mint.value),token:(0,$g.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,DG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,$g.getAccountMetasAndSigners)(i,"programId",t),c=QMe().serialize(s),u=0;return(0,DG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Q_.delegateStakingV1=gxt;var eP={};Object.defineProperty(eP,"__esModule",{value:!0});eP.delegateStandardV1=eP.getDelegateStandardV1InstructionDataSerializer=void 0;const mxt=hi,d0e=Z,UB=H,yxt=bn,G7=Jt,g1=Ue;function eze(){return(0,UB.mapSerializer)((0,UB.struct)([["discriminator",(0,UB.u8)()],["delegateStandardV1Discriminator",(0,UB.u8)()],["amount",(0,UB.u64)()]],{description:"DelegateStandardV1InstructionData"}),n=>({...n,discriminator:44,delegateStandardV1Discriminator:6,amount:n.amount??1}))}eP.getDelegateStandardV1InstructionDataSerializer=eze;function pxt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,mxt.findAssociatedTokenPda)(n,{mint:(0,g1.expectPublicKey)(r.mint.value),owner:(0,g1.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,G7.findTokenRecordPda)(n,{mint:(0,g1.expectPublicKey)(r.mint.value),token:(0,g1.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,G7.findMetadataPda)(n,{mint:(0,g1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,yxt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,G7.findMasterEditionPda)(n,{mint:(0,g1.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,d0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,g1.getAccountMetasAndSigners)(i,"programId",t),c=eze().serialize(s),u=0;return(0,d0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}eP.delegateStandardV1=pxt;var tP={};Object.defineProperty(tP,"__esModule",{value:!0});tP.delegateTransferV1=tP.getDelegateTransferV1InstructionDataSerializer=void 0;const bxt=hi,OG=Z,rA=H,Sxt=bn,cD=Jt,Dg=Ue,tze=ht;function rze(){return(0,rA.mapSerializer)((0,rA.struct)([["discriminator",(0,rA.u8)()],["delegateTransferV1Discriminator",(0,rA.u8)()],["amount",(0,rA.u64)()],["authorizationData",(0,rA.option)((0,tze.getAuthorizationDataSerializer)())]],{description:"DelegateTransferV1InstructionData"}),n=>({...n,discriminator:44,delegateTransferV1Discriminator:2,amount:n.amount??1,authorizationData:n.authorizationData??(0,OG.none)()}))}tP.getDelegateTransferV1InstructionDataSerializer=rze;function kxt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,bxt.findAssociatedTokenPda)(n,{mint:(0,Dg.expectPublicKey)(r.mint.value),owner:(0,Dg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,cD.findTokenRecordPda)(n,{mint:(0,Dg.expectPublicKey)(r.mint.value),token:(0,Dg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,cD.findMetadataPda)(n,{mint:(0,Dg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,Sxt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,cD.findMasterEditionPda)(n,{mint:(0,Dg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===tze.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,cD.findTokenRecordPda)(n,{mint:(0,Dg.expectPublicKey)(r.mint.value),token:(0,Dg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,OG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Dg.getAccountMetasAndSigners)(i,"programId",t),c=rze().serialize(s),u=0;return(0,OG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}tP.delegateTransferV1=kxt;var rP={};Object.defineProperty(rP,"__esModule",{value:!0});rP.delegateUtilityV1=rP.getDelegateUtilityV1InstructionDataSerializer=void 0;const vxt=hi,LG=Z,nA=H,Axt=bn,uD=Jt,Og=Ue,nze=ht;function sze(){return(0,nA.mapSerializer)((0,nA.struct)([["discriminator",(0,nA.u8)()],["delegateUtilityV1Discriminator",(0,nA.u8)()],["amount",(0,nA.u64)()],["authorizationData",(0,nA.option)((0,nze.getAuthorizationDataSerializer)())]],{description:"DelegateUtilityV1InstructionData"}),n=>({...n,discriminator:44,delegateUtilityV1Discriminator:4,amount:n.amount??1,authorizationData:n.authorizationData??(0,LG.none)()}))}rP.getDelegateUtilityV1InstructionDataSerializer=sze;function wxt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,vxt.findAssociatedTokenPda)(n,{mint:(0,Og.expectPublicKey)(r.mint.value),owner:(0,Og.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,uD.findTokenRecordPda)(n,{mint:(0,Og.expectPublicKey)(r.mint.value),token:(0,Og.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,uD.findMetadataPda)(n,{mint:(0,Og.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,Axt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,uD.findMasterEditionPda)(n,{mint:(0,Og.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===nze.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,uD.findTokenRecordPda)(n,{mint:(0,Og.expectPublicKey)(r.mint.value),token:(0,Og.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,LG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Og.getAccountMetasAndSigners)(i,"programId",t),c=sze().serialize(s),u=0;return(0,LG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}rP.delegateUtilityV1=wxt;var nP={};Object.defineProperty(nP,"__esModule",{value:!0});nP.deprecatedMintNewEditionFromMasterEditionViaPrintingToken=nP.getDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDataSerializer=void 0;const f0e=Z,Y7=H,lD=Jt,VB=Ue;function ize(){return(0,Y7.mapSerializer)((0,Y7.struct)([["discriminator",(0,Y7.u8)()]],{description:"DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionData"}),n=>({...n,discriminator:3}))}nP.getDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDataSerializer=ize;function Ixt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},mint:{index:3,isWritable:!0,value:e.mint??null},mintAuthority:{index:4,isWritable:!1,value:e.mintAuthority??null},printingMint:{index:5,isWritable:!0,value:e.printingMint??null},masterTokenAccount:{index:6,isWritable:!0,value:e.masterTokenAccount??null},editionMarker:{index:7,isWritable:!0,value:e.editionMarker??null},burnAuthority:{index:8,isWritable:!1,value:e.burnAuthority??null},payer:{index:9,isWritable:!1,value:e.payer??null},masterUpdateAuthority:{index:10,isWritable:!1,value:e.masterUpdateAuthority??null},masterMetadata:{index:11,isWritable:!1,value:e.masterMetadata??null},tokenProgram:{index:12,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:13,isWritable:!1,value:e.systemProgram??null},rent:{index:14,isWritable:!1,value:e.rent??null},reservationList:{index:15,isWritable:!0,value:e.reservationList??null}};r.metadata.value||(r.metadata.value=(0,lD.findMetadataPda)(n,{mint:(0,VB.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,lD.findMasterEditionPda)(n,{mint:(0,VB.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(r.masterEdition.value=(0,lD.findMasterEditionPda)(n,{mint:(0,VB.expectPublicKey)(r.mint.value)})),r.editionMarker.value||(r.editionMarker.value=(0,lD.findMasterEditionPda)(n,{mint:(0,VB.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.rent.value||(r.rent.value=(0,f0e.publicKey)("SysvarRent111111111111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,VB.getAccountMetasAndSigners)(s,"omitted",t),a=ize().serialize({}),c=0;return(0,f0e.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}nP.deprecatedMintNewEditionFromMasterEditionViaPrintingToken=Ixt;var sP={};Object.defineProperty(sP,"__esModule",{value:!0});sP.freezeDelegatedAccount=sP.getFreezeDelegatedAccountInstructionDataSerializer=void 0;const _xt=Z,Z7=H,Pxt=Jt,h0e=Ue;function oze(){return(0,Z7.mapSerializer)((0,Z7.struct)([["discriminator",(0,Z7.u8)()]],{description:"FreezeDelegatedAccountInstructionData"}),n=>({...n,discriminator:26}))}sP.getFreezeDelegatedAccountInstructionDataSerializer=oze;function Ext(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegate:{index:0,isWritable:!0,value:e.delegate??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},edition:{index:2,isWritable:!1,value:e.edition??null},mint:{index:3,isWritable:!1,value:e.mint??null},tokenProgram:{index:4,isWritable:!1,value:e.tokenProgram??null}};r.edition.value||(r.edition.value=(0,Pxt.findMasterEditionPda)(n,{mint:(0,h0e.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,h0e.getAccountMetasAndSigners)(s,"programId",t),a=oze().serialize({}),c=0;return(0,_xt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}sP.freezeDelegatedAccount=Ext;var iP={};Object.defineProperty(iP,"__esModule",{value:!0});iP.lockV1=iP.getLockV1InstructionDataSerializer=void 0;const xxt=hi,KG=Z,qB=H,g0e=bn,J7=Jt,m1=Ue,WG=ht;function aze(){return(0,qB.mapSerializer)((0,qB.struct)([["discriminator",(0,qB.u8)()],["lockV1Discriminator",(0,qB.u8)()],["authorizationData",(0,qB.option)((0,WG.getAuthorizationDataSerializer)())]],{description:"LockV1InstructionData"}),n=>({...n,discriminator:46,lockV1Discriminator:0,authorizationData:n.authorizationData??(0,KG.none)()}))}iP.getLockV1InstructionDataSerializer=aze;function Txt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},tokenRecord:{index:6,isWritable:!0,value:e.tokenRecord??null},payer:{index:7,isWritable:!0,value:e.payer??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:9,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:10,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:11,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:12,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,g0e.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,xxt.findAssociatedTokenPda)(n,{mint:(0,m1.expectPublicKey)(r.mint.value),owner:(0,m1.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,J7.findMetadataPda)(n,{mint:(0,m1.expectPublicKey)(r.mint.value)})),r.edition.value||(0,g0e.resolveIsNonFungible)(n,r,s,t,!1)&&(r.edition.value=(0,J7.findMasterEditionPda)(n,{mint:(0,m1.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===WG.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,J7.findTokenRecordPda)(n,{mint:(0,m1.expectPublicKey)(r.mint.value),token:(0,m1.expectPublicKey)(r.token.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,KG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||s.tokenStandard!==WG.TokenStandard.ProgrammableNonFungible&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,m1.getAccountMetasAndSigners)(i,"programId",t),c=aze().serialize(s),u=0;return(0,KG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}iP.lockV1=Txt;var oP={};Object.defineProperty(oP,"__esModule",{value:!0});oP.migrate=oP.getMigrateInstructionDataSerializer=void 0;const m0e=Z,X7=H,Q7=Jt,HB=Ue;function cze(){return(0,X7.mapSerializer)((0,X7.struct)([["discriminator",(0,X7.u8)()]],{description:"MigrateInstructionData"}),n=>({...n,discriminator:48}))}oP.getMigrateInstructionDataSerializer=cze;function Rxt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},token:{index:2,isWritable:!0,value:e.token??null},tokenOwner:{index:3,isWritable:!1,value:e.tokenOwner??null},mint:{index:4,isWritable:!1,value:e.mint??null},payer:{index:5,isWritable:!0,value:e.payer??null},authority:{index:6,isWritable:!1,value:e.authority??null},collectionMetadata:{index:7,isWritable:!1,value:e.collectionMetadata??null},delegateRecord:{index:8,isWritable:!1,value:e.delegateRecord??null},tokenRecord:{index:9,isWritable:!0,value:e.tokenRecord??null},systemProgram:{index:10,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:11,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:12,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:13,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:14,isWritable:!1,value:e.authorizationRules??null}};r.metadata.value||(r.metadata.value=(0,Q7.findMetadataPda)(n,{mint:(0,HB.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,Q7.findMasterEditionPda)(n,{mint:(0,HB.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.authority.value||(r.authority.value=n.identity),r.tokenRecord.value||(r.tokenRecord.value=(0,Q7.findTokenRecordPda)(n,{mint:(0,HB.expectPublicKey)(r.mint.value),token:(0,HB.expectPublicKey)(r.token.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,m0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,HB.getAccountMetasAndSigners)(s,"programId",t),a=cze().serialize({}),c=0;return(0,m0e.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}oP.migrate=Rxt;var aP={};Object.defineProperty(aP,"__esModule",{value:!0});aP.mintNewEditionFromMasterEditionViaToken=aP.getMintNewEditionFromMasterEditionViaTokenInstructionDataSerializer=void 0;const Bxt=Z,e9=H,Cxt=Ue,Mxt=ht;function uze(){return(0,e9.mapSerializer)((0,e9.struct)([["discriminator",(0,e9.u8)()],["mintNewEditionFromMasterEditionViaTokenArgs",(0,Mxt.getMintNewEditionFromMasterEditionViaTokenArgsSerializer)()]],{description:"MintNewEditionFromMasterEditionViaTokenInstructionData"}),n=>({...n,discriminator:11}))}aP.getMintNewEditionFromMasterEditionViaTokenInstructionDataSerializer=uze;function zxt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={newMetadata:{index:0,isWritable:!0,value:e.newMetadata??null},newEdition:{index:1,isWritable:!0,value:e.newEdition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},newMint:{index:3,isWritable:!0,value:e.newMint??null},editionMarkPda:{index:4,isWritable:!0,value:e.editionMarkPda??null},newMintAuthority:{index:5,isWritable:!1,value:e.newMintAuthority??null},payer:{index:6,isWritable:!0,value:e.payer??null},tokenAccountOwner:{index:7,isWritable:!1,value:e.tokenAccountOwner??null},tokenAccount:{index:8,isWritable:!1,value:e.tokenAccount??null},newMetadataUpdateAuthority:{index:9,isWritable:!1,value:e.newMetadataUpdateAuthority??null},metadata:{index:10,isWritable:!1,value:e.metadata??null},tokenProgram:{index:11,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:12,isWritable:!1,value:e.systemProgram??null},rent:{index:13,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Cxt.getAccountMetasAndSigners)(i,"omitted",t),c=uze().serialize(s),u=0;return(0,Bxt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}aP.mintNewEditionFromMasterEditionViaToken=zxt;var cP={};Object.defineProperty(cP,"__esModule",{value:!0});cP.mintNewEditionFromMasterEditionViaVaultProxy=cP.getMintNewEditionFromMasterEditionViaVaultProxyInstructionDataSerializer=void 0;const $xt=Z,t9=H,Dxt=Ue,Oxt=ht;function lze(){return(0,t9.mapSerializer)((0,t9.struct)([["discriminator",(0,t9.u8)()],["mintNewEditionFromMasterEditionViaTokenArgs",(0,Oxt.getMintNewEditionFromMasterEditionViaTokenArgsSerializer)()]],{description:"MintNewEditionFromMasterEditionViaVaultProxyInstructionData"}),n=>({...n,discriminator:13}))}cP.getMintNewEditionFromMasterEditionViaVaultProxyInstructionDataSerializer=lze;function Lxt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={newMetadata:{index:0,isWritable:!0,value:e.newMetadata??null},newEdition:{index:1,isWritable:!0,value:e.newEdition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},newMint:{index:3,isWritable:!0,value:e.newMint??null},editionMarkPda:{index:4,isWritable:!0,value:e.editionMarkPda??null},newMintAuthority:{index:5,isWritable:!1,value:e.newMintAuthority??null},payer:{index:6,isWritable:!0,value:e.payer??null},vaultAuthority:{index:7,isWritable:!1,value:e.vaultAuthority??null},safetyDepositStore:{index:8,isWritable:!1,value:e.safetyDepositStore??null},safetyDepositBox:{index:9,isWritable:!1,value:e.safetyDepositBox??null},vault:{index:10,isWritable:!1,value:e.vault??null},newMetadataUpdateAuthority:{index:11,isWritable:!1,value:e.newMetadataUpdateAuthority??null},metadata:{index:12,isWritable:!1,value:e.metadata??null},tokenProgram:{index:13,isWritable:!1,value:e.tokenProgram??null},tokenVaultProgram:{index:14,isWritable:!1,value:e.tokenVaultProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null},rent:{index:16,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Dxt.getAccountMetasAndSigners)(i,"omitted",t),c=lze().serialize(s),u=0;return(0,$xt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}cP.mintNewEditionFromMasterEditionViaVaultProxy=Lxt;var uP={};Object.defineProperty(uP,"__esModule",{value:!0});uP.mintV1=uP.getMintV1InstructionDataSerializer=void 0;const Kxt=hi,NG=Z,sA=H,y0e=bn,r9=Jt,y1=Ue,dze=ht;function fze(){return(0,sA.mapSerializer)((0,sA.struct)([["discriminator",(0,sA.u8)()],["mintV1Discriminator",(0,sA.u8)()],["amount",(0,sA.u64)()],["authorizationData",(0,sA.option)((0,dze.getAuthorizationDataSerializer)())]],{description:"MintV1InstructionData"}),n=>({...n,discriminator:43,mintV1Discriminator:0,amount:n.amount??1,authorizationData:n.authorizationData??(0,NG.none)()}))}uP.getMintV1InstructionDataSerializer=fze;function Wxt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={token:{index:0,isWritable:!0,value:e.token??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},metadata:{index:2,isWritable:!1,value:e.metadata??null},masterEdition:{index:3,isWritable:!0,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!0,value:e.mint??null},authority:{index:6,isWritable:!1,value:e.authority??null},delegateRecord:{index:7,isWritable:!1,value:e.delegateRecord??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:12,isWritable:!1,value:e.splAtaProgram??null},authorizationRulesProgram:{index:13,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:14,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,y0e.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,Kxt.findAssociatedTokenPda)(n,{mint:(0,y1.expectPublicKey)(r.mint.value),owner:(0,y1.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,r9.findMetadataPda)(n,{mint:(0,y1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,y0e.resolveIsNonFungible)(n,r,s,t,!0)&&(r.masterEdition.value=(0,r9.findMasterEditionPda)(n,{mint:(0,y1.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===dze.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,r9.findTokenRecordPda)(n,{mint:(0,y1.expectPublicKey)(r.mint.value),token:(0,y1.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,NG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,y1.getAccountMetasAndSigners)(i,"programId",t),c=fze().serialize(s),u=468;return(0,NG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}uP.mintV1=Wxt;var lP={};Object.defineProperty(lP,"__esModule",{value:!0});lP.printV1=lP.getPrintV1InstructionDataSerializer=void 0;const p0e=hi,b0e=Z,jB=H,Nxt=bn,iA=Jt,nu=Ue,S0e=ht;function hze(){return(0,jB.mapSerializer)((0,jB.struct)([["discriminator",(0,jB.u8)()],["printV1Discriminator",(0,jB.u8)()],["editionNumber",(0,jB.u64)()]],{description:"PrintV1InstructionData"}),n=>({...n,discriminator:55,printV1Discriminator:0}))}lP.getPrintV1InstructionDataSerializer=hze;function Fxt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={editionMetadata:{index:0,isWritable:!0,value:e.editionMetadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},editionMint:{index:2,isWritable:!0,value:e.editionMint??null},editionTokenAccountOwner:{index:3,isWritable:!1,value:e.editionTokenAccountOwner??null},editionTokenAccount:{index:4,isWritable:!0,value:e.editionTokenAccount??null},editionMintAuthority:{index:5,isWritable:!1,value:e.editionMintAuthority??null},editionTokenRecord:{index:6,isWritable:!0,value:e.editionTokenRecord??null},masterEdition:{index:7,isWritable:!0,value:e.masterEdition??null},editionMarkerPda:{index:8,isWritable:!0,value:e.editionMarkerPda??null},payer:{index:9,isWritable:!0,value:e.payer??null},masterTokenAccountOwner:{index:10,isWritable:!1,value:e.masterTokenAccountOwner??null},masterTokenAccount:{index:11,isWritable:!1,value:e.masterTokenAccount??null},masterMetadata:{index:12,isWritable:!1,value:e.masterMetadata??null},updateAuthority:{index:13,isWritable:!1,value:e.updateAuthority??null},splTokenProgram:{index:14,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:15,isWritable:!1,value:e.splAtaProgram??null},sysvarInstructions:{index:16,isWritable:!1,value:e.sysvarInstructions??null},systemProgram:{index:17,isWritable:!1,value:e.systemProgram??null}},s={...e};r.editionMetadata.value||(r.editionMetadata.value=(0,iA.findMetadataPda)(n,{mint:(0,nu.expectPublicKey)(r.editionMint.value)})),r.edition.value||(r.edition.value=(0,iA.findMasterEditionPda)(n,{mint:(0,nu.expectPublicKey)(r.editionMint.value)})),r.editionTokenAccountOwner.value||(r.editionTokenAccountOwner.value=n.identity.publicKey),r.editionTokenAccount.value||(r.editionTokenAccount.value=(0,p0e.findAssociatedTokenPda)(n,{mint:(0,nu.expectPublicKey)(r.editionMint.value),owner:(0,nu.expectPublicKey)(r.editionTokenAccountOwner.value)})),r.masterTokenAccountOwner.value||(r.masterTokenAccountOwner.value=n.identity),r.editionMintAuthority.value||(r.editionMintAuthority.value=(0,nu.expectSome)(r.masterTokenAccountOwner.value)),r.editionTokenRecord.value||s.tokenStandard===S0e.TokenStandard.ProgrammableNonFungible&&(r.editionTokenRecord.value=(0,iA.findTokenRecordPda)(n,{mint:(0,nu.expectPublicKey)(r.editionMint.value),token:(0,nu.expectPublicKey)(r.editionTokenAccount.value)})),r.masterEdition.value||(r.masterEdition.value=(0,iA.findMasterEditionPda)(n,{mint:(0,nu.expectSome)(s.masterEditionMint)})),r.editionMarkerPda.value||(s.tokenStandard===S0e.TokenStandard.ProgrammableNonFungible?r.editionMarkerPda.value=(0,iA.findEditionMarkerV2Pda)(n,{mint:(0,nu.expectSome)(s.masterEditionMint)}):r.editionMarkerPda.value=(0,Nxt.findEditionMarkerFromEditionNumberPda)(n,{mint:(0,nu.expectSome)(s.masterEditionMint),editionNumber:(0,nu.expectSome)(s.editionNumber)})),r.payer.value||(r.payer.value=n.payer),r.masterTokenAccount.value||(r.masterTokenAccount.value=(0,p0e.findAssociatedTokenPda)(n,{mint:(0,nu.expectSome)(s.masterEditionMint),owner:(0,nu.expectPublicKey)(r.masterTokenAccountOwner.value)})),r.masterMetadata.value||(r.masterMetadata.value=(0,iA.findMetadataPda)(n,{mint:(0,nu.expectSome)(s.masterEditionMint)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,b0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,nu.getAccountMetasAndSigners)(i,"programId",t),c=hze().serialize(s),u=0;return(0,b0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}lP.printV1=Fxt;var dP={};Object.defineProperty(dP,"__esModule",{value:!0});dP.printV2=dP.getPrintV2InstructionDataSerializer=void 0;const k0e=hi,v0e=Z,GB=H,Uxt=bn,oA=Jt,Fc=Ue,A0e=ht;function gze(){return(0,GB.mapSerializer)((0,GB.struct)([["discriminator",(0,GB.u8)()],["printV2Discriminator",(0,GB.u8)()],["editionNumber",(0,GB.u64)()]],{description:"PrintV2InstructionData"}),n=>({...n,discriminator:55,printV2Discriminator:1}))}dP.getPrintV2InstructionDataSerializer=gze;function Vxt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={editionMetadata:{index:0,isWritable:!0,value:e.editionMetadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},editionMint:{index:2,isWritable:!0,value:e.editionMint??null},editionTokenAccountOwner:{index:3,isWritable:!1,value:e.editionTokenAccountOwner??null},editionTokenAccount:{index:4,isWritable:!0,value:e.editionTokenAccount??null},editionMintAuthority:{index:5,isWritable:!1,value:e.editionMintAuthority??null},editionTokenRecord:{index:6,isWritable:!0,value:e.editionTokenRecord??null},masterEdition:{index:7,isWritable:!0,value:e.masterEdition??null},editionMarkerPda:{index:8,isWritable:!0,value:e.editionMarkerPda??null},payer:{index:9,isWritable:!0,value:e.payer??null},masterTokenAccountOwner:{index:10,isWritable:!1,value:e.masterTokenAccountOwner??null},masterTokenAccount:{index:11,isWritable:!1,value:e.masterTokenAccount??null},masterMetadata:{index:12,isWritable:!1,value:e.masterMetadata??null},updateAuthority:{index:13,isWritable:!1,value:e.updateAuthority??null},splTokenProgram:{index:14,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:15,isWritable:!1,value:e.splAtaProgram??null},sysvarInstructions:{index:16,isWritable:!1,value:e.sysvarInstructions??null},systemProgram:{index:17,isWritable:!1,value:e.systemProgram??null},holderDelegateRecord:{index:18,isWritable:!1,value:e.holderDelegateRecord??null},delegate:{index:19,isWritable:!1,value:e.delegate??null}},s={...e};r.editionMetadata.value||(r.editionMetadata.value=(0,oA.findMetadataPda)(n,{mint:(0,Fc.expectPublicKey)(r.editionMint.value)})),r.edition.value||(r.edition.value=(0,oA.findMasterEditionPda)(n,{mint:(0,Fc.expectPublicKey)(r.editionMint.value)})),r.editionTokenAccountOwner.value||(r.editionTokenAccountOwner.value=n.identity.publicKey),r.editionTokenAccount.value||(r.editionTokenAccount.value=(0,k0e.findAssociatedTokenPda)(n,{mint:(0,Fc.expectPublicKey)(r.editionMint.value),owner:(0,Fc.expectPublicKey)(r.editionTokenAccountOwner.value)})),r.payer.value||(r.payer.value=n.payer),r.editionMintAuthority.value||(r.holderDelegateRecord.value?r.delegate.value?r.editionMintAuthority.value=(0,Fc.expectSome)(r.delegate.value):r.editionMintAuthority.value=(0,Fc.expectSome)(r.payer.value):r.editionMintAuthority.value=n.identity),r.editionTokenRecord.value||s.tokenStandard===A0e.TokenStandard.ProgrammableNonFungible&&(r.editionTokenRecord.value=(0,oA.findTokenRecordPda)(n,{mint:(0,Fc.expectPublicKey)(r.editionMint.value),token:(0,Fc.expectPublicKey)(r.editionTokenAccount.value)})),r.masterEdition.value||(r.masterEdition.value=(0,oA.findMasterEditionPda)(n,{mint:(0,Fc.expectSome)(s.masterEditionMint)})),r.editionMarkerPda.value||(s.tokenStandard===A0e.TokenStandard.ProgrammableNonFungible?r.editionMarkerPda.value=(0,oA.findEditionMarkerV2Pda)(n,{mint:(0,Fc.expectSome)(s.masterEditionMint)}):r.editionMarkerPda.value=(0,Uxt.findEditionMarkerFromEditionNumberPda)(n,{mint:(0,Fc.expectSome)(s.masterEditionMint),editionNumber:(0,Fc.expectSome)(s.editionNumber)})),r.masterTokenAccountOwner.value||r.holderDelegateRecord.value||(r.masterTokenAccountOwner.value=n.identity),r.masterTokenAccount.value||(r.masterTokenAccount.value=(0,k0e.findAssociatedTokenPda)(n,{mint:(0,Fc.expectSome)(s.masterEditionMint),owner:(0,Fc.expectPublicKey)(r.masterTokenAccountOwner.value)})),r.masterMetadata.value||(r.masterMetadata.value=(0,oA.findMetadataPda)(n,{mint:(0,Fc.expectSome)(s.masterEditionMint)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,v0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Fc.getAccountMetasAndSigners)(i,"programId",t),c=gze().serialize(s),u=0;return(0,v0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}dP.printV2=Vxt;var fP={};Object.defineProperty(fP,"__esModule",{value:!0});fP.puffMetadata=fP.getPuffMetadataInstructionDataSerializer=void 0;const qxt=Z,n9=H,Hxt=Ue;function mze(){return(0,n9.mapSerializer)((0,n9.struct)([["discriminator",(0,n9.u8)()]],{description:"PuffMetadataInstructionData"}),n=>({...n,discriminator:14}))}fP.getPuffMetadataInstructionDataSerializer=mze;function jxt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Hxt.getAccountMetasAndSigners)(s,"programId",t),a=mze().serialize({}),c=0;return(0,qxt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}fP.puffMetadata=jxt;var hP={};Object.defineProperty(hP,"__esModule",{value:!0});hP.removeCreatorVerification=hP.getRemoveCreatorVerificationInstructionDataSerializer=void 0;const Gxt=Z,s9=H,Yxt=Ue;function yze(){return(0,s9.mapSerializer)((0,s9.struct)([["discriminator",(0,s9.u8)()]],{description:"RemoveCreatorVerificationInstructionData"}),n=>({...n,discriminator:28}))}hP.getRemoveCreatorVerificationInstructionDataSerializer=yze;function Zxt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},creator:{index:1,isWritable:!1,value:e.creator??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Yxt.getAccountMetasAndSigners)(s,"programId",t),a=yze().serialize({}),c=0;return(0,Gxt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}hP.removeCreatorVerification=Zxt;var gP={};Object.defineProperty(gP,"__esModule",{value:!0});gP.revokeAuthorityItemV1=gP.getRevokeAuthorityItemV1InstructionDataSerializer=void 0;const w0e=Z,dD=H,Jxt=bn,i9=Jt,p1=Ue,Xxt=ht;function pze(){return(0,dD.mapSerializer)((0,dD.struct)([["discriminator",(0,dD.u8)()],["revokeAuthorityItemV1Discriminator",(0,dD.u8)()]],{description:"RevokeAuthorityItemV1InstructionData"}),n=>({...n,discriminator:45,revokeAuthorityItemV1Discriminator:10}))}gP.getRevokeAuthorityItemV1InstructionDataSerializer=pze;function Qxt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,p1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,i9.findMetadataDelegateRecordPda)(n,{delegateRole:Xxt.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,p1.expectSome)(s.updateAuthority),mint:(0,p1.expectPublicKey)(r.mint.value),delegate:(0,p1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,i9.findMetadataPda)(n,{mint:(0,p1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,Jxt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,i9.findMasterEditionPda)(n,{mint:(0,p1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,w0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,p1.getAccountMetasAndSigners)(i,"programId",t),c=pze().serialize({}),u=0;return(0,w0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}gP.revokeAuthorityItemV1=Qxt;var mP={};Object.defineProperty(mP,"__esModule",{value:!0});mP.revokeCollectionAuthority=mP.getRevokeCollectionAuthorityInstructionDataSerializer=void 0;const eTt=Z,o9=H,tTt=Jt,I0e=Ue;function bze(){return(0,o9.mapSerializer)((0,o9.struct)([["discriminator",(0,o9.u8)()]],{description:"RevokeCollectionAuthorityInstructionData"}),n=>({...n,discriminator:24}))}mP.getRevokeCollectionAuthorityInstructionDataSerializer=bze;function rTt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionAuthorityRecord:{index:0,isWritable:!0,value:e.collectionAuthorityRecord??null},delegateAuthority:{index:1,isWritable:!0,value:e.delegateAuthority??null},revokeAuthority:{index:2,isWritable:!0,value:e.revokeAuthority??null},metadata:{index:3,isWritable:!1,value:e.metadata??null},mint:{index:4,isWritable:!1,value:e.mint??null}};r.metadata.value||(r.metadata.value=(0,tTt.findMetadataPda)(n,{mint:(0,I0e.expectPublicKey)(r.mint.value)}));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,I0e.getAccountMetasAndSigners)(s,"programId",t),a=bze().serialize({}),c=0;return(0,eTt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}mP.revokeCollectionAuthority=rTt;var yP={};Object.defineProperty(yP,"__esModule",{value:!0});yP.revokeCollectionItemV1=yP.getRevokeCollectionItemV1InstructionDataSerializer=void 0;const _0e=Z,fD=H,nTt=bn,a9=Jt,b1=Ue,sTt=ht;function Sze(){return(0,fD.mapSerializer)((0,fD.struct)([["discriminator",(0,fD.u8)()],["revokeCollectionItemV1Discriminator",(0,fD.u8)()]],{description:"RevokeCollectionItemV1InstructionData"}),n=>({...n,discriminator:45,revokeCollectionItemV1Discriminator:12}))}yP.getRevokeCollectionItemV1InstructionDataSerializer=Sze;function iTt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,b1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,a9.findMetadataDelegateRecordPda)(n,{delegateRole:sTt.MetadataDelegateRole.CollectionItem,updateAuthority:(0,b1.expectSome)(s.updateAuthority),mint:(0,b1.expectPublicKey)(r.mint.value),delegate:(0,b1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,a9.findMetadataPda)(n,{mint:(0,b1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,nTt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,a9.findMasterEditionPda)(n,{mint:(0,b1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,_0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,b1.getAccountMetasAndSigners)(i,"programId",t),c=Sze().serialize({}),u=0;return(0,_0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}yP.revokeCollectionItemV1=iTt;var pP={};Object.defineProperty(pP,"__esModule",{value:!0});pP.revokeCollectionV1=pP.getRevokeCollectionV1InstructionDataSerializer=void 0;const P0e=Z,hD=H,oTt=bn,c9=Jt,S1=Ue,aTt=ht;function kze(){return(0,hD.mapSerializer)((0,hD.struct)([["discriminator",(0,hD.u8)()],["revokeCollectionV1Discriminator",(0,hD.u8)()]],{description:"RevokeCollectionV1InstructionData"}),n=>({...n,discriminator:45,revokeCollectionV1Discriminator:0}))}pP.getRevokeCollectionV1InstructionDataSerializer=kze;function cTt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,S1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,c9.findMetadataDelegateRecordPda)(n,{delegateRole:aTt.MetadataDelegateRole.Collection,updateAuthority:(0,S1.expectSome)(s.updateAuthority),mint:(0,S1.expectPublicKey)(r.mint.value),delegate:(0,S1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,c9.findMetadataPda)(n,{mint:(0,S1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,oTt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,c9.findMasterEditionPda)(n,{mint:(0,S1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,P0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,S1.getAccountMetasAndSigners)(i,"programId",t),c=kze().serialize({}),u=0;return(0,P0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}pP.revokeCollectionV1=cTt;var bP={};Object.defineProperty(bP,"__esModule",{value:!0});bP.revokeDataItemV1=bP.getRevokeDataItemV1InstructionDataSerializer=void 0;const E0e=Z,gD=H,uTt=bn,u9=Jt,k1=Ue,lTt=ht;function vze(){return(0,gD.mapSerializer)((0,gD.struct)([["discriminator",(0,gD.u8)()],["revokeDataItemV1Discriminator",(0,gD.u8)()]],{description:"RevokeDataItemV1InstructionData"}),n=>({...n,discriminator:45,revokeDataItemV1Discriminator:11}))}bP.getRevokeDataItemV1InstructionDataSerializer=vze;function dTt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,k1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,u9.findMetadataDelegateRecordPda)(n,{delegateRole:lTt.MetadataDelegateRole.DataItem,updateAuthority:(0,k1.expectSome)(s.updateAuthority),mint:(0,k1.expectPublicKey)(r.mint.value),delegate:(0,k1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,u9.findMetadataPda)(n,{mint:(0,k1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,uTt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,u9.findMasterEditionPda)(n,{mint:(0,k1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,E0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,k1.getAccountMetasAndSigners)(i,"programId",t),c=vze().serialize({}),u=0;return(0,E0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}bP.revokeDataItemV1=dTt;var SP={};Object.defineProperty(SP,"__esModule",{value:!0});SP.revokeDataV1=SP.getRevokeDataV1InstructionDataSerializer=void 0;const x0e=Z,mD=H,fTt=bn,l9=Jt,v1=Ue,hTt=ht;function Aze(){return(0,mD.mapSerializer)((0,mD.struct)([["discriminator",(0,mD.u8)()],["revokeDataV1Discriminator",(0,mD.u8)()]],{description:"RevokeDataV1InstructionData"}),n=>({...n,discriminator:45,revokeDataV1Discriminator:3}))}SP.getRevokeDataV1InstructionDataSerializer=Aze;function gTt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,v1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,l9.findMetadataDelegateRecordPda)(n,{delegateRole:hTt.MetadataDelegateRole.Data,updateAuthority:(0,v1.expectSome)(s.updateAuthority),mint:(0,v1.expectPublicKey)(r.mint.value),delegate:(0,v1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,l9.findMetadataPda)(n,{mint:(0,v1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,fTt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,l9.findMasterEditionPda)(n,{mint:(0,v1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,x0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,v1.getAccountMetasAndSigners)(i,"programId",t),c=Aze().serialize({}),u=0;return(0,x0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}SP.revokeDataV1=gTt;var kP={};Object.defineProperty(kP,"__esModule",{value:!0});kP.revokeLockedTransferV1=kP.getRevokeLockedTransferV1InstructionDataSerializer=void 0;const mTt=hi,T0e=Z,yD=H,yTt=bn,pD=Jt,Lg=Ue,pTt=ht;function wze(){return(0,yD.mapSerializer)((0,yD.struct)([["discriminator",(0,yD.u8)()],["revokeLockedTransferV1Discriminator",(0,yD.u8)()]],{description:"RevokeLockedTransferV1InstructionData"}),n=>({...n,discriminator:45,revokeLockedTransferV1Discriminator:7}))}kP.getRevokeLockedTransferV1InstructionDataSerializer=wze;function bTt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,mTt.findAssociatedTokenPda)(n,{mint:(0,Lg.expectPublicKey)(r.mint.value),owner:(0,Lg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,pD.findTokenRecordPda)(n,{mint:(0,Lg.expectPublicKey)(r.mint.value),token:(0,Lg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,pD.findMetadataPda)(n,{mint:(0,Lg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,yTt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,pD.findMasterEditionPda)(n,{mint:(0,Lg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===pTt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,pD.findTokenRecordPda)(n,{mint:(0,Lg.expectPublicKey)(r.mint.value),token:(0,Lg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,T0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Lg.getAccountMetasAndSigners)(i,"programId",t),c=wze().serialize({}),u=0;return(0,T0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}kP.revokeLockedTransferV1=bTt;var vP={};Object.defineProperty(vP,"__esModule",{value:!0});vP.revokeMigrationV1=vP.getRevokeMigrationV1InstructionDataSerializer=void 0;const STt=hi,R0e=Z,bD=H,kTt=bn,SD=Jt,Kg=Ue,vTt=ht;function Ize(){return(0,bD.mapSerializer)((0,bD.struct)([["discriminator",(0,bD.u8)()],["revokeMigrationV1Discriminator",(0,bD.u8)()]],{description:"RevokeMigrationV1InstructionData"}),n=>({...n,discriminator:45,revokeMigrationV1Discriminator:9}))}vP.getRevokeMigrationV1InstructionDataSerializer=Ize;function ATt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,STt.findAssociatedTokenPda)(n,{mint:(0,Kg.expectPublicKey)(r.mint.value),owner:(0,Kg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,SD.findTokenRecordPda)(n,{mint:(0,Kg.expectPublicKey)(r.mint.value),token:(0,Kg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,SD.findMetadataPda)(n,{mint:(0,Kg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,kTt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,SD.findMasterEditionPda)(n,{mint:(0,Kg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===vTt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,SD.findTokenRecordPda)(n,{mint:(0,Kg.expectPublicKey)(r.mint.value),token:(0,Kg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,R0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Kg.getAccountMetasAndSigners)(i,"programId",t),c=Ize().serialize({}),u=0;return(0,R0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}vP.revokeMigrationV1=ATt;var AP={};Object.defineProperty(AP,"__esModule",{value:!0});AP.revokePrintDelegateV1=AP.getRevokePrintDelegateV1InstructionDataSerializer=void 0;const B0e=Z,kD=H,wTt=bn,C0e=Jt,d9=Ue;function _ze(){return(0,kD.mapSerializer)((0,kD.struct)([["discriminator",(0,kD.u8)()],["revokePrintDelegateV1Discriminator",(0,kD.u8)()]],{description:"RevokePrintDelegateV1InstructionData"}),n=>({...n,discriminator:45,revokePrintDelegateV1Discriminator:14}))}AP.getRevokePrintDelegateV1InstructionDataSerializer=_ze;function ITt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}};r.metadata.value||(r.metadata.value=(0,C0e.findMetadataPda)(n,{mint:(0,d9.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,wTt.resolveIsNonFungible)(n,r,e,t,!1)&&(r.masterEdition.value=(0,C0e.findMasterEditionPda)(n,{mint:(0,d9.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,B0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,d9.getAccountMetasAndSigners)(s,"programId",t),a=_ze().serialize({}),c=0;return(0,B0e.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}AP.revokePrintDelegateV1=ITt;var wP={};Object.defineProperty(wP,"__esModule",{value:!0});wP.revokeProgrammableConfigItemV1=wP.getRevokeProgrammableConfigItemV1InstructionDataSerializer=void 0;const M0e=Z,vD=H,_Tt=bn,f9=Jt,A1=Ue,PTt=ht;function Pze(){return(0,vD.mapSerializer)((0,vD.struct)([["discriminator",(0,vD.u8)()],["revokeProgrammableConfigItemV1Discriminator",(0,vD.u8)()]],{description:"RevokeProgrammableConfigItemV1InstructionData"}),n=>({...n,discriminator:45,revokeProgrammableConfigItemV1Discriminator:13}))}wP.getRevokeProgrammableConfigItemV1InstructionDataSerializer=Pze;function ETt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,A1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,f9.findMetadataDelegateRecordPda)(n,{delegateRole:PTt.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,A1.expectSome)(s.updateAuthority),mint:(0,A1.expectPublicKey)(r.mint.value),delegate:(0,A1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,f9.findMetadataPda)(n,{mint:(0,A1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,_Tt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,f9.findMasterEditionPda)(n,{mint:(0,A1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,M0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,A1.getAccountMetasAndSigners)(i,"programId",t),c=Pze().serialize({}),u=0;return(0,M0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}wP.revokeProgrammableConfigItemV1=ETt;var IP={};Object.defineProperty(IP,"__esModule",{value:!0});IP.revokeProgrammableConfigV1=IP.getRevokeProgrammableConfigV1InstructionDataSerializer=void 0;const z0e=Z,AD=H,xTt=bn,h9=Jt,w1=Ue,TTt=ht;function Eze(){return(0,AD.mapSerializer)((0,AD.struct)([["discriminator",(0,AD.u8)()],["revokeProgrammableConfigV1Discriminator",(0,AD.u8)()]],{description:"RevokeProgrammableConfigV1InstructionData"}),n=>({...n,discriminator:45,revokeProgrammableConfigV1Discriminator:8}))}IP.getRevokeProgrammableConfigV1InstructionDataSerializer=Eze;function RTt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,w1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,h9.findMetadataDelegateRecordPda)(n,{delegateRole:TTt.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,w1.expectSome)(s.updateAuthority),mint:(0,w1.expectPublicKey)(r.mint.value),delegate:(0,w1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,h9.findMetadataPda)(n,{mint:(0,w1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,xTt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,h9.findMasterEditionPda)(n,{mint:(0,w1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,z0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,w1.getAccountMetasAndSigners)(i,"programId",t),c=Eze().serialize({}),u=0;return(0,z0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}IP.revokeProgrammableConfigV1=RTt;var _P={};Object.defineProperty(_P,"__esModule",{value:!0});_P.revokeSaleV1=_P.getRevokeSaleV1InstructionDataSerializer=void 0;const BTt=hi,$0e=Z,wD=H,CTt=bn,ID=Jt,Wg=Ue,MTt=ht;function xze(){return(0,wD.mapSerializer)((0,wD.struct)([["discriminator",(0,wD.u8)()],["revokeSaleV1Discriminator",(0,wD.u8)()]],{description:"RevokeSaleV1InstructionData"}),n=>({...n,discriminator:45,revokeSaleV1Discriminator:1}))}_P.getRevokeSaleV1InstructionDataSerializer=xze;function zTt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,BTt.findAssociatedTokenPda)(n,{mint:(0,Wg.expectPublicKey)(r.mint.value),owner:(0,Wg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,ID.findTokenRecordPda)(n,{mint:(0,Wg.expectPublicKey)(r.mint.value),token:(0,Wg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,ID.findMetadataPda)(n,{mint:(0,Wg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,CTt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,ID.findMasterEditionPda)(n,{mint:(0,Wg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===MTt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,ID.findTokenRecordPda)(n,{mint:(0,Wg.expectPublicKey)(r.mint.value),token:(0,Wg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,$0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Wg.getAccountMetasAndSigners)(i,"programId",t),c=xze().serialize({}),u=0;return(0,$0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}_P.revokeSaleV1=zTt;var PP={};Object.defineProperty(PP,"__esModule",{value:!0});PP.revokeStakingV1=PP.getRevokeStakingV1InstructionDataSerializer=void 0;const $Tt=hi,D0e=Z,_D=H,DTt=bn,PD=Jt,Ng=Ue,OTt=ht;function Tze(){return(0,_D.mapSerializer)((0,_D.struct)([["discriminator",(0,_D.u8)()],["revokeStakingV1Discriminator",(0,_D.u8)()]],{description:"RevokeStakingV1InstructionData"}),n=>({...n,discriminator:45,revokeStakingV1Discriminator:5}))}PP.getRevokeStakingV1InstructionDataSerializer=Tze;function LTt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,$Tt.findAssociatedTokenPda)(n,{mint:(0,Ng.expectPublicKey)(r.mint.value),owner:(0,Ng.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,PD.findTokenRecordPda)(n,{mint:(0,Ng.expectPublicKey)(r.mint.value),token:(0,Ng.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,PD.findMetadataPda)(n,{mint:(0,Ng.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,DTt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,PD.findMasterEditionPda)(n,{mint:(0,Ng.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===OTt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,PD.findTokenRecordPda)(n,{mint:(0,Ng.expectPublicKey)(r.mint.value),token:(0,Ng.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,D0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Ng.getAccountMetasAndSigners)(i,"programId",t),c=Tze().serialize({}),u=0;return(0,D0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}PP.revokeStakingV1=LTt;var EP={};Object.defineProperty(EP,"__esModule",{value:!0});EP.revokeStandardV1=EP.getRevokeStandardV1InstructionDataSerializer=void 0;const KTt=hi,O0e=Z,ED=H,WTt=bn,g9=Jt,I1=Ue;function Rze(){return(0,ED.mapSerializer)((0,ED.struct)([["discriminator",(0,ED.u8)()],["revokeStandardV1Discriminator",(0,ED.u8)()]],{description:"RevokeStandardV1InstructionData"}),n=>({...n,discriminator:45,revokeStandardV1Discriminator:6}))}EP.getRevokeStandardV1InstructionDataSerializer=Rze;function NTt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,KTt.findAssociatedTokenPda)(n,{mint:(0,I1.expectPublicKey)(r.mint.value),owner:(0,I1.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,g9.findTokenRecordPda)(n,{mint:(0,I1.expectPublicKey)(r.mint.value),token:(0,I1.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,g9.findMetadataPda)(n,{mint:(0,I1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,WTt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,g9.findMasterEditionPda)(n,{mint:(0,I1.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,O0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,I1.getAccountMetasAndSigners)(i,"programId",t),c=Rze().serialize({}),u=0;return(0,O0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}EP.revokeStandardV1=NTt;var xP={};Object.defineProperty(xP,"__esModule",{value:!0});xP.revokeTransferV1=xP.getRevokeTransferV1InstructionDataSerializer=void 0;const FTt=hi,L0e=Z,xD=H,UTt=bn,TD=Jt,Fg=Ue,VTt=ht;function Bze(){return(0,xD.mapSerializer)((0,xD.struct)([["discriminator",(0,xD.u8)()],["revokeTransferV1Discriminator",(0,xD.u8)()]],{description:"RevokeTransferV1InstructionData"}),n=>({...n,discriminator:45,revokeTransferV1Discriminator:2}))}xP.getRevokeTransferV1InstructionDataSerializer=Bze;function qTt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,FTt.findAssociatedTokenPda)(n,{mint:(0,Fg.expectPublicKey)(r.mint.value),owner:(0,Fg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,TD.findTokenRecordPda)(n,{mint:(0,Fg.expectPublicKey)(r.mint.value),token:(0,Fg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,TD.findMetadataPda)(n,{mint:(0,Fg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,UTt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,TD.findMasterEditionPda)(n,{mint:(0,Fg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===VTt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,TD.findTokenRecordPda)(n,{mint:(0,Fg.expectPublicKey)(r.mint.value),token:(0,Fg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,L0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Fg.getAccountMetasAndSigners)(i,"programId",t),c=Bze().serialize({}),u=0;return(0,L0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}xP.revokeTransferV1=qTt;var TP={};Object.defineProperty(TP,"__esModule",{value:!0});TP.revokeUseAuthority=TP.getRevokeUseAuthorityInstructionDataSerializer=void 0;const HTt=Z,m9=H,jTt=Jt,K0e=Ue;function Cze(){return(0,m9.mapSerializer)((0,m9.struct)([["discriminator",(0,m9.u8)()]],{description:"RevokeUseAuthorityInstructionData"}),n=>({...n,discriminator:21}))}TP.getRevokeUseAuthorityInstructionDataSerializer=Cze;function GTt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={useAuthorityRecord:{index:0,isWritable:!0,value:e.useAuthorityRecord??null},owner:{index:1,isWritable:!0,value:e.owner??null},user:{index:2,isWritable:!1,value:e.user??null},ownerTokenAccount:{index:3,isWritable:!0,value:e.ownerTokenAccount??null},mint:{index:4,isWritable:!1,value:e.mint??null},metadata:{index:5,isWritable:!1,value:e.metadata??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null}};r.metadata.value||(r.metadata.value=(0,jTt.findMetadataPda)(n,{mint:(0,K0e.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,K0e.getAccountMetasAndSigners)(s,"omitted",t),a=Cze().serialize({}),c=0;return(0,HTt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}TP.revokeUseAuthority=GTt;var RP={};Object.defineProperty(RP,"__esModule",{value:!0});RP.revokeUtilityV1=RP.getRevokeUtilityV1InstructionDataSerializer=void 0;const YTt=hi,W0e=Z,RD=H,ZTt=bn,BD=Jt,Ug=Ue,JTt=ht;function Mze(){return(0,RD.mapSerializer)((0,RD.struct)([["discriminator",(0,RD.u8)()],["revokeUtilityV1Discriminator",(0,RD.u8)()]],{description:"RevokeUtilityV1InstructionData"}),n=>({...n,discriminator:45,revokeUtilityV1Discriminator:4}))}RP.getRevokeUtilityV1InstructionDataSerializer=Mze;function XTt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,YTt.findAssociatedTokenPda)(n,{mint:(0,Ug.expectPublicKey)(r.mint.value),owner:(0,Ug.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,BD.findTokenRecordPda)(n,{mint:(0,Ug.expectPublicKey)(r.mint.value),token:(0,Ug.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,BD.findMetadataPda)(n,{mint:(0,Ug.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,ZTt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,BD.findMasterEditionPda)(n,{mint:(0,Ug.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===JTt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,BD.findTokenRecordPda)(n,{mint:(0,Ug.expectPublicKey)(r.mint.value),token:(0,Ug.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,W0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Ug.getAccountMetasAndSigners)(i,"programId",t),c=Mze().serialize({}),u=0;return(0,W0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}RP.revokeUtilityV1=XTt;var BP={};Object.defineProperty(BP,"__esModule",{value:!0});BP.setAndVerifyCollection=BP.getSetAndVerifyCollectionInstructionDataSerializer=void 0;const QTt=Z,y9=H,eRt=Ue;function zze(){return(0,y9.mapSerializer)((0,y9.struct)([["discriminator",(0,y9.u8)()]],{description:"SetAndVerifyCollectionInstructionData"}),n=>({...n,discriminator:25}))}BP.getSetAndVerifyCollectionInstructionDataSerializer=zze;function tRt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},updateAuthority:{index:3,isWritable:!1,value:e.updateAuthority??null},collectionMint:{index:4,isWritable:!1,value:e.collectionMint??null},collection:{index:5,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:6,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:7,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,eRt.getAccountMetasAndSigners)(s,"omitted",t),a=zze().serialize({}),c=0;return(0,QTt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}BP.setAndVerifyCollection=tRt;var CP={};Object.defineProperty(CP,"__esModule",{value:!0});CP.setAndVerifySizedCollectionItem=CP.getSetAndVerifySizedCollectionItemInstructionDataSerializer=void 0;const rRt=Z,p9=H,nRt=Ue;function $ze(){return(0,p9.mapSerializer)((0,p9.struct)([["discriminator",(0,p9.u8)()]],{description:"SetAndVerifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:32}))}CP.getSetAndVerifySizedCollectionItemInstructionDataSerializer=$ze;function sRt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},updateAuthority:{index:3,isWritable:!1,value:e.updateAuthority??null},collectionMint:{index:4,isWritable:!1,value:e.collectionMint??null},collection:{index:5,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:6,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:7,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,nRt.getAccountMetasAndSigners)(s,"omitted",t),a=$ze().serialize({}),c=0;return(0,rRt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}CP.setAndVerifySizedCollectionItem=sRt;var MP={};Object.defineProperty(MP,"__esModule",{value:!0});MP.setCollectionSize=MP.getSetCollectionSizeInstructionDataSerializer=void 0;const iRt=Z,b9=H,oRt=Ue,aRt=ht;function Dze(){return(0,b9.mapSerializer)((0,b9.struct)([["discriminator",(0,b9.u8)()],["setCollectionSizeArgs",(0,aRt.getSetCollectionSizeArgsSerializer)()]],{description:"SetCollectionSizeInstructionData"}),n=>({...n,discriminator:34}))}MP.getSetCollectionSizeInstructionDataSerializer=Dze;function cRt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionMetadata:{index:0,isWritable:!0,value:e.collectionMetadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},collectionAuthorityRecord:{index:3,isWritable:!1,value:e.collectionAuthorityRecord??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,oRt.getAccountMetasAndSigners)(i,"omitted",t),c=Dze().serialize(s),u=0;return(0,iRt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}MP.setCollectionSize=cRt;var zP={};Object.defineProperty(zP,"__esModule",{value:!0});zP.setTokenStandard=zP.getSetTokenStandardInstructionDataSerializer=void 0;const uRt=Z,S9=H,lRt=Jt,N0e=Ue;function Oze(){return(0,S9.mapSerializer)((0,S9.struct)([["discriminator",(0,S9.u8)()]],{description:"SetTokenStandardInstructionData"}),n=>({...n,discriminator:35}))}zP.getSetTokenStandardInstructionDataSerializer=Oze;function dRt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},updateAuthority:{index:1,isWritable:!1,value:e.updateAuthority??null},mint:{index:2,isWritable:!1,value:e.mint??null},edition:{index:3,isWritable:!1,value:e.edition??null}};r.metadata.value||(r.metadata.value=(0,lRt.findMetadataPda)(n,{mint:(0,N0e.expectPublicKey)(r.mint.value)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,N0e.getAccountMetasAndSigners)(s,"omitted",t),a=Oze().serialize({}),c=0;return(0,uRt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}zP.setTokenStandard=dRt;var $P={};Object.defineProperty($P,"__esModule",{value:!0});$P.signMetadata=$P.getSignMetadataInstructionDataSerializer=void 0;const fRt=Z,k9=H,hRt=Ue;function Lze(){return(0,k9.mapSerializer)((0,k9.struct)([["discriminator",(0,k9.u8)()]],{description:"SignMetadataInstructionData"}),n=>({...n,discriminator:7}))}$P.getSignMetadataInstructionDataSerializer=Lze;function gRt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},creator:{index:1,isWritable:!1,value:e.creator??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,hRt.getAccountMetasAndSigners)(s,"programId",t),a=Lze().serialize({}),c=0;return(0,fRt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}$P.signMetadata=gRt;var DP={};Object.defineProperty(DP,"__esModule",{value:!0});DP.thawDelegatedAccount=DP.getThawDelegatedAccountInstructionDataSerializer=void 0;const mRt=Z,v9=H,yRt=Jt,F0e=Ue;function Kze(){return(0,v9.mapSerializer)((0,v9.struct)([["discriminator",(0,v9.u8)()]],{description:"ThawDelegatedAccountInstructionData"}),n=>({...n,discriminator:27}))}DP.getThawDelegatedAccountInstructionDataSerializer=Kze;function pRt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegate:{index:0,isWritable:!0,value:e.delegate??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},edition:{index:2,isWritable:!1,value:e.edition??null},mint:{index:3,isWritable:!1,value:e.mint??null},tokenProgram:{index:4,isWritable:!1,value:e.tokenProgram??null}};r.edition.value||(r.edition.value=(0,yRt.findMasterEditionPda)(n,{mint:(0,F0e.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,F0e.getAccountMetasAndSigners)(s,"programId",t),a=Kze().serialize({}),c=0;return(0,mRt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}DP.thawDelegatedAccount=pRt;var OP={};Object.defineProperty(OP,"__esModule",{value:!0});OP.transferOutOfEscrow=OP.getTransferOutOfEscrowInstructionDataSerializer=void 0;const U0e=Z,CD=H,bRt=Ue;function Wze(){return(0,CD.mapSerializer)((0,CD.struct)([["discriminator",(0,CD.u8)()],["amount",(0,CD.u64)()]],{description:"TransferOutOfEscrowInstructionData"}),n=>({...n,discriminator:40,amount:n.amount??1}))}OP.getTransferOutOfEscrowInstructionDataSerializer=Wze;function SRt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!1,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},payer:{index:2,isWritable:!0,value:e.payer??null},attributeMint:{index:3,isWritable:!1,value:e.attributeMint??null},attributeSrc:{index:4,isWritable:!0,value:e.attributeSrc??null},attributeDst:{index:5,isWritable:!0,value:e.attributeDst??null},escrowMint:{index:6,isWritable:!1,value:e.escrowMint??null},escrowAccount:{index:7,isWritable:!1,value:e.escrowAccount??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},ataProgram:{index:9,isWritable:!1,value:e.ataProgram??null},tokenProgram:{index:10,isWritable:!1,value:e.tokenProgram??null},sysvarInstructions:{index:11,isWritable:!1,value:e.sysvarInstructions??null},authority:{index:12,isWritable:!1,value:e.authority??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,U0e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,bRt.getAccountMetasAndSigners)(i,"omitted",t),c=Wze().serialize(s),u=0;return(0,U0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}OP.transferOutOfEscrow=SRt;var LP={};Object.defineProperty(LP,"__esModule",{value:!0});LP.transferV1=LP.getTransferV1InstructionDataSerializer=void 0;const V0e=hi,FG=Z,aA=H,MD=Jt,xd=Ue,zL=ht;function Nze(){return(0,aA.mapSerializer)((0,aA.struct)([["discriminator",(0,aA.u8)()],["transferV1Discriminator",(0,aA.u8)()],["amount",(0,aA.u64)()],["authorizationData",(0,aA.option)((0,zL.getAuthorizationDataSerializer)())]],{description:"TransferV1InstructionData"}),n=>({...n,discriminator:49,transferV1Discriminator:0,amount:n.amount??1,authorizationData:n.authorizationData??(0,FG.none)()}))}LP.getTransferV1InstructionDataSerializer=Nze;function kRt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={token:{index:0,isWritable:!0,value:e.token??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},destinationToken:{index:2,isWritable:!0,value:e.destinationToken??null},destinationOwner:{index:3,isWritable:!1,value:e.destinationOwner??null},mint:{index:4,isWritable:!1,value:e.mint??null},metadata:{index:5,isWritable:!0,value:e.metadata??null},edition:{index:6,isWritable:!1,value:e.edition??null},tokenRecord:{index:7,isWritable:!0,value:e.tokenRecord??null},destinationTokenRecord:{index:8,isWritable:!0,value:e.destinationTokenRecord??null},authority:{index:9,isWritable:!1,value:e.authority??null},payer:{index:10,isWritable:!0,value:e.payer??null},systemProgram:{index:11,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:12,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:13,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:14,isWritable:!1,value:e.splAtaProgram??null},authorizationRulesProgram:{index:15,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:16,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.tokenOwner.value||(r.tokenOwner.value=n.identity.publicKey),r.token.value||(r.token.value=(0,V0e.findAssociatedTokenPda)(n,{mint:(0,xd.expectPublicKey)(r.mint.value),owner:(0,xd.expectPublicKey)(r.tokenOwner.value)})),r.destinationToken.value||(r.destinationToken.value=(0,V0e.findAssociatedTokenPda)(n,{mint:(0,xd.expectPublicKey)(r.mint.value),owner:(0,xd.expectPublicKey)(r.destinationOwner.value)})),r.metadata.value||(r.metadata.value=(0,MD.findMetadataPda)(n,{mint:(0,xd.expectPublicKey)(r.mint.value)})),r.edition.value||s.tokenStandard===zL.TokenStandard.ProgrammableNonFungible&&(r.edition.value=(0,MD.findMasterEditionPda)(n,{mint:(0,xd.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===zL.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,MD.findTokenRecordPda)(n,{mint:(0,xd.expectPublicKey)(r.mint.value),token:(0,xd.expectPublicKey)(r.token.value)})),r.destinationTokenRecord.value||s.tokenStandard===zL.TokenStandard.ProgrammableNonFungible&&(r.destinationTokenRecord.value=(0,MD.findTokenRecordPda)(n,{token:(0,xd.expectPublicKey)(r.destinationToken.value),mint:(0,xd.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,FG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,xd.getAccountMetasAndSigners)(i,"programId",t),c=Nze().serialize(s),u=0;return(0,FG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}LP.transferV1=kRt;var KP={};Object.defineProperty(KP,"__esModule",{value:!0});KP.unlockV1=KP.getUnlockV1InstructionDataSerializer=void 0;const vRt=hi,UG=Z,YB=H,q0e=bn,A9=Jt,_1=Ue,VG=ht;function Fze(){return(0,YB.mapSerializer)((0,YB.struct)([["discriminator",(0,YB.u8)()],["unlockV1Discriminator",(0,YB.u8)()],["authorizationData",(0,YB.option)((0,VG.getAuthorizationDataSerializer)())]],{description:"UnlockV1InstructionData"}),n=>({...n,discriminator:47,unlockV1Discriminator:0,authorizationData:n.authorizationData??(0,UG.none)()}))}KP.getUnlockV1InstructionDataSerializer=Fze;function ARt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},tokenRecord:{index:6,isWritable:!0,value:e.tokenRecord??null},payer:{index:7,isWritable:!0,value:e.payer??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:9,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:10,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:11,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:12,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,q0e.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,vRt.findAssociatedTokenPda)(n,{mint:(0,_1.expectPublicKey)(r.mint.value),owner:(0,_1.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,A9.findMetadataPda)(n,{mint:(0,_1.expectPublicKey)(r.mint.value)})),r.edition.value||(0,q0e.resolveIsNonFungible)(n,r,s,t,!1)&&(r.edition.value=(0,A9.findMasterEditionPda)(n,{mint:(0,_1.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===VG.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,A9.findTokenRecordPda)(n,{mint:(0,_1.expectPublicKey)(r.mint.value),token:(0,_1.expectPublicKey)(r.token.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,UG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||s.tokenStandard!==VG.TokenStandard.ProgrammableNonFungible&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,_1.getAccountMetasAndSigners)(i,"programId",t),c=Fze().serialize(s),u=0;return(0,UG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}KP.unlockV1=ARt;var WP={};Object.defineProperty(WP,"__esModule",{value:!0});WP.unverifyCollection=WP.getUnverifyCollectionInstructionDataSerializer=void 0;const wRt=Z,w9=H,IRt=Ue;function Uze(){return(0,w9.mapSerializer)((0,w9.struct)([["discriminator",(0,w9.u8)()]],{description:"UnverifyCollectionInstructionData"}),n=>({...n,discriminator:22}))}WP.getUnverifyCollectionInstructionDataSerializer=Uze;function _Rt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},collection:{index:3,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:4,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:5,isWritable:!1,value:e.collectionAuthorityRecord??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,IRt.getAccountMetasAndSigners)(s,"omitted",t),a=Uze().serialize({}),c=0;return(0,wRt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}WP.unverifyCollection=_Rt;var NP={};Object.defineProperty(NP,"__esModule",{value:!0});NP.unverifyCollectionV1=NP.getUnverifyCollectionV1InstructionDataSerializer=void 0;const H0e=Z,zD=H,PRt=Jt,j0e=Ue;function Vze(){return(0,zD.mapSerializer)((0,zD.struct)([["discriminator",(0,zD.u8)()],["unverifyCollectionV1Discriminator",(0,zD.u8)()]],{description:"UnverifyCollectionV1InstructionData"}),n=>({...n,discriminator:53,unverifyCollectionV1Discriminator:1}))}NP.getUnverifyCollectionV1InstructionDataSerializer=Vze;function ERt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:6,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,PRt.findMetadataPda)(n,{mint:(0,j0e.expectPublicKey)(r.collectionMint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,H0e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,j0e.getAccountMetasAndSigners)(s,"programId",t),a=Vze().serialize({}),c=0;return(0,H0e.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}NP.unverifyCollectionV1=ERt;var FP={};Object.defineProperty(FP,"__esModule",{value:!0});FP.unverifyCreatorV1=FP.getUnverifyCreatorV1InstructionDataSerializer=void 0;const G0e=Z,$D=H,xRt=Ue;function qze(){return(0,$D.mapSerializer)((0,$D.struct)([["discriminator",(0,$D.u8)()],["unverifyCreatorV1Discriminator",(0,$D.u8)()]],{description:"UnverifyCreatorV1InstructionData"}),n=>({...n,discriminator:53,unverifyCreatorV1Discriminator:0}))}FP.getUnverifyCreatorV1InstructionDataSerializer=qze;function TRt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:6,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,G0e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,xRt.getAccountMetasAndSigners)(s,"programId",t),a=qze().serialize({}),c=0;return(0,G0e.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}FP.unverifyCreatorV1=TRt;var UP={};Object.defineProperty(UP,"__esModule",{value:!0});UP.unverifySizedCollectionItem=UP.getUnverifySizedCollectionItemInstructionDataSerializer=void 0;const RRt=Z,I9=H,BRt=Ue;function Hze(){return(0,I9.mapSerializer)((0,I9.struct)([["discriminator",(0,I9.u8)()]],{description:"UnverifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:31}))}UP.getUnverifySizedCollectionItemInstructionDataSerializer=Hze;function CRt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,BRt.getAccountMetasAndSigners)(s,"omitted",t),a=Hze().serialize({}),c=0;return(0,RRt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}UP.unverifySizedCollectionItem=CRt;var VP={};Object.defineProperty(VP,"__esModule",{value:!0});VP.updateAsAuthorityItemDelegateV2=VP.getUpdateAsAuthorityItemDelegateV2InstructionDataSerializer=void 0;const pS=Z,Hl=H,Y0e=Jt,ZB=Ue,qG=ht;function jze(){return(0,Hl.mapSerializer)((0,Hl.struct)([["discriminator",(0,Hl.u8)()],["updateAsAuthorityItemDelegateV2Discriminator",(0,Hl.u8)()],["newUpdateAuthority",(0,Hl.option)((0,Hl.publicKey)())],["primarySaleHappened",(0,Hl.option)((0,Hl.bool)())],["isMutable",(0,Hl.option)((0,Hl.bool)())],["tokenStandard",(0,Hl.option)((0,qG.getTokenStandardSerializer)())],["authorizationData",(0,Hl.option)((0,qG.getAuthorizationDataSerializer)())]],{description:"UpdateAsAuthorityItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsAuthorityItemDelegateV2Discriminator:2,newUpdateAuthority:n.newUpdateAuthority??(0,pS.none)(),primarySaleHappened:n.primarySaleHappened??(0,pS.none)(),isMutable:n.isMutable??(0,pS.none)(),tokenStandard:n.tokenStandard??(0,pS.none)(),authorizationData:n.authorizationData??(0,pS.none)()}))}VP.getUpdateAsAuthorityItemDelegateV2InstructionDataSerializer=jze;function MRt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Y0e.findMetadataDelegateRecordPda)(n,{delegateRole:qG.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,ZB.expectSome)(s.updateAuthority),delegate:(0,ZB.expectPublicKey)(r.authority.value),mint:(0,ZB.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,Y0e.findMetadataPda)(n,{mint:(0,ZB.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,pS.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ZB.getAccountMetasAndSigners)(i,"programId",t),c=jze().serialize(s),u=0;return(0,pS.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}VP.updateAsAuthorityItemDelegateV2=MRt;var qP={};Object.defineProperty(qP,"__esModule",{value:!0});qP.updateAsCollectionDelegateV2=qP.getUpdateAsCollectionDelegateV2InstructionDataSerializer=void 0;const HG=Z,JB=H,Z0e=Jt,cA=Ue,$L=ht;function Gze(){return(0,JB.mapSerializer)((0,JB.struct)([["discriminator",(0,JB.u8)()],["updateAsCollectionDelegateV2Discriminator",(0,JB.u8)()],["collection",(0,$L.getCollectionToggleSerializer)()],["authorizationData",(0,JB.option)((0,$L.getAuthorizationDataSerializer)())]],{description:"UpdateAsCollectionDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsCollectionDelegateV2Discriminator:3,collection:n.collection??(0,$L.collectionToggle)("None"),authorizationData:n.authorizationData??(0,HG.none)()}))}qP.getUpdateAsCollectionDelegateV2InstructionDataSerializer=Gze;function zRt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,cA.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Z0e.findMetadataDelegateRecordPda)(n,{mint:(0,cA.expectSome)(s.delegateMint),delegateRole:$L.MetadataDelegateRole.Collection,updateAuthority:(0,cA.expectSome)(s.delegateUpdateAuthority),delegate:(0,cA.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,Z0e.findMetadataPda)(n,{mint:(0,cA.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,HG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,cA.getAccountMetasAndSigners)(i,"programId",t),c=Gze().serialize(s),u=0;return(0,HG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}qP.updateAsCollectionDelegateV2=zRt;var HP={};Object.defineProperty(HP,"__esModule",{value:!0});HP.updateAsCollectionItemDelegateV2=HP.getUpdateAsCollectionItemDelegateV2InstructionDataSerializer=void 0;const jG=Z,XB=H,J0e=Jt,QB=Ue,DL=ht;function Yze(){return(0,XB.mapSerializer)((0,XB.struct)([["discriminator",(0,XB.u8)()],["updateAsCollectionItemDelegateV2Discriminator",(0,XB.u8)()],["collection",(0,DL.getCollectionToggleSerializer)()],["authorizationData",(0,XB.option)((0,DL.getAuthorizationDataSerializer)())]],{description:"UpdateAsCollectionItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsCollectionItemDelegateV2Discriminator:7,collection:n.collection??(0,DL.collectionToggle)("None"),authorizationData:n.authorizationData??(0,jG.none)()}))}HP.getUpdateAsCollectionItemDelegateV2InstructionDataSerializer=Yze;function $Rt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,J0e.findMetadataDelegateRecordPda)(n,{delegateRole:DL.MetadataDelegateRole.CollectionItem,updateAuthority:(0,QB.expectSome)(s.updateAuthority),delegate:(0,QB.expectPublicKey)(r.authority.value),mint:(0,QB.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,J0e.findMetadataPda)(n,{mint:(0,QB.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,jG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,QB.getAccountMetasAndSigners)(i,"programId",t),c=Yze().serialize(s),u=0;return(0,jG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}HP.updateAsCollectionItemDelegateV2=$Rt;var jP={};Object.defineProperty(jP,"__esModule",{value:!0});jP.updateAsDataDelegateV2=jP.getUpdateAsDataDelegateV2InstructionDataSerializer=void 0;const q4=Z,uA=H,X0e=Jt,lA=Ue,GG=ht;function Zze(){return(0,uA.mapSerializer)((0,uA.struct)([["discriminator",(0,uA.u8)()],["updateAsDataDelegateV2Discriminator",(0,uA.u8)()],["data",(0,uA.option)((0,GG.getDataSerializer)())],["authorizationData",(0,uA.option)((0,GG.getAuthorizationDataSerializer)())]],{description:"UpdateAsDataDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsDataDelegateV2Discriminator:4,data:n.data??(0,q4.none)(),authorizationData:n.authorizationData??(0,q4.none)()}))}jP.getUpdateAsDataDelegateV2InstructionDataSerializer=Zze;function DRt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,lA.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,X0e.findMetadataDelegateRecordPda)(n,{mint:(0,lA.expectSome)(s.delegateMint),delegateRole:GG.MetadataDelegateRole.Data,updateAuthority:(0,lA.expectSome)(s.delegateUpdateAuthority),delegate:(0,lA.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,X0e.findMetadataPda)(n,{mint:(0,lA.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,q4.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,lA.getAccountMetasAndSigners)(i,"programId",t),c=Zze().serialize(s),u=0;return(0,q4.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}jP.updateAsDataDelegateV2=DRt;var GP={};Object.defineProperty(GP,"__esModule",{value:!0});GP.updateAsDataItemDelegateV2=GP.getUpdateAsDataItemDelegateV2InstructionDataSerializer=void 0;const H4=Z,dA=H,Q0e=Jt,eC=Ue,YG=ht;function Jze(){return(0,dA.mapSerializer)((0,dA.struct)([["discriminator",(0,dA.u8)()],["updateAsDataItemDelegateV2Discriminator",(0,dA.u8)()],["data",(0,dA.option)((0,YG.getDataSerializer)())],["authorizationData",(0,dA.option)((0,YG.getAuthorizationDataSerializer)())]],{description:"UpdateAsDataItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsDataItemDelegateV2Discriminator:6,data:n.data??(0,H4.none)(),authorizationData:n.authorizationData??(0,H4.none)()}))}GP.getUpdateAsDataItemDelegateV2InstructionDataSerializer=Jze;function ORt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Q0e.findMetadataDelegateRecordPda)(n,{delegateRole:YG.MetadataDelegateRole.DataItem,updateAuthority:(0,eC.expectSome)(s.updateAuthority),delegate:(0,eC.expectPublicKey)(r.authority.value),mint:(0,eC.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,Q0e.findMetadataPda)(n,{mint:(0,eC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,H4.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,eC.getAccountMetasAndSigners)(i,"programId",t),c=Jze().serialize(s),u=0;return(0,H4.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}GP.updateAsDataItemDelegateV2=ORt;var YP={};Object.defineProperty(YP,"__esModule",{value:!0});YP.updateAsProgrammableConfigDelegateV2=YP.getUpdateAsProgrammableConfigDelegateV2InstructionDataSerializer=void 0;const ZG=Z,tC=H,e1e=Jt,fA=Ue,OL=ht;function Xze(){return(0,tC.mapSerializer)((0,tC.struct)([["discriminator",(0,tC.u8)()],["updateAsProgrammableConfigDelegateV2Discriminator",(0,tC.u8)()],["ruleSet",(0,OL.getRuleSetToggleSerializer)()],["authorizationData",(0,tC.option)((0,OL.getAuthorizationDataSerializer)())]],{description:"UpdateAsProgrammableConfigDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsProgrammableConfigDelegateV2Discriminator:5,ruleSet:n.ruleSet??(0,OL.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,ZG.none)()}))}YP.getUpdateAsProgrammableConfigDelegateV2InstructionDataSerializer=Xze;function LRt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,fA.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,e1e.findMetadataDelegateRecordPda)(n,{mint:(0,fA.expectSome)(s.delegateMint),delegateRole:OL.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,fA.expectSome)(s.delegateUpdateAuthority),delegate:(0,fA.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,e1e.findMetadataPda)(n,{mint:(0,fA.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,ZG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,fA.getAccountMetasAndSigners)(i,"programId",t),c=Xze().serialize(s),u=0;return(0,ZG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}YP.updateAsProgrammableConfigDelegateV2=LRt;var ZP={};Object.defineProperty(ZP,"__esModule",{value:!0});ZP.updateAsProgrammableConfigItemDelegateV2=ZP.getUpdateAsProgrammableConfigItemDelegateV2InstructionDataSerializer=void 0;const JG=Z,rC=H,t1e=Jt,nC=Ue,LL=ht;function Qze(){return(0,rC.mapSerializer)((0,rC.struct)([["discriminator",(0,rC.u8)()],["updateAsProgrammableConfigItemDelegateV2Discriminator",(0,rC.u8)()],["ruleSet",(0,LL.getRuleSetToggleSerializer)()],["authorizationData",(0,rC.option)((0,LL.getAuthorizationDataSerializer)())]],{description:"UpdateAsProgrammableConfigItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsProgrammableConfigItemDelegateV2Discriminator:8,ruleSet:n.ruleSet??(0,LL.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,JG.none)()}))}ZP.getUpdateAsProgrammableConfigItemDelegateV2InstructionDataSerializer=Qze;function KRt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,t1e.findMetadataDelegateRecordPda)(n,{delegateRole:LL.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,nC.expectSome)(s.updateAuthority),delegate:(0,nC.expectPublicKey)(r.authority.value),mint:(0,nC.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,t1e.findMetadataPda)(n,{mint:(0,nC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,JG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,nC.getAccountMetasAndSigners)(i,"programId",t),c=Qze().serialize(s),u=0;return(0,JG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ZP.updateAsProgrammableConfigItemDelegateV2=KRt;var JP={};Object.defineProperty(JP,"__esModule",{value:!0});JP.updateAsUpdateAuthorityV2=JP.getUpdateAsUpdateAuthorityV2InstructionDataSerializer=void 0;const Pp=Z,fl=H,WRt=Jt,r1e=Ue,Td=ht;function e$e(){return(0,fl.mapSerializer)((0,fl.struct)([["discriminator",(0,fl.u8)()],["updateAsUpdateAuthorityV2Discriminator",(0,fl.u8)()],["newUpdateAuthority",(0,fl.option)((0,fl.publicKey)())],["data",(0,fl.option)((0,Td.getDataSerializer)())],["primarySaleHappened",(0,fl.option)((0,fl.bool)())],["isMutable",(0,fl.option)((0,fl.bool)())],["collection",(0,Td.getCollectionToggleSerializer)()],["collectionDetails",(0,Td.getCollectionDetailsToggleSerializer)()],["uses",(0,Td.getUsesToggleSerializer)()],["ruleSet",(0,Td.getRuleSetToggleSerializer)()],["tokenStandard",(0,fl.option)((0,Td.getTokenStandardSerializer)())],["authorizationData",(0,fl.option)((0,Td.getAuthorizationDataSerializer)())]],{description:"UpdateAsUpdateAuthorityV2InstructionData"}),n=>({...n,discriminator:50,updateAsUpdateAuthorityV2Discriminator:1,newUpdateAuthority:n.newUpdateAuthority??(0,Pp.none)(),data:n.data??(0,Pp.none)(),primarySaleHappened:n.primarySaleHappened??(0,Pp.none)(),isMutable:n.isMutable??(0,Pp.none)(),collection:n.collection??(0,Td.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,Td.collectionDetailsToggle)("None"),uses:n.uses??(0,Td.usesToggle)("None"),ruleSet:n.ruleSet??(0,Td.ruleSetToggle)("None"),tokenStandard:n.tokenStandard??(0,Pp.none)(),authorizationData:n.authorizationData??(0,Pp.none)()}))}JP.getUpdateAsUpdateAuthorityV2InstructionDataSerializer=e$e;function NRt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,WRt.findMetadataPda)(n,{mint:(0,r1e.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Pp.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,r1e.getAccountMetasAndSigners)(i,"programId",t),c=e$e().serialize(s),u=0;return(0,Pp.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}JP.updateAsUpdateAuthorityV2=NRt;var XP={};Object.defineProperty(XP,"__esModule",{value:!0});XP.updateMetadataAccountV2=XP.getUpdateMetadataAccountV2InstructionDataSerializer=void 0;const uM=Z,Cf=H,FRt=Ue,URt=ht;function t$e(){return(0,Cf.mapSerializer)((0,Cf.struct)([["discriminator",(0,Cf.u8)()],["data",(0,Cf.option)((0,URt.getDataV2Serializer)())],["newUpdateAuthority",(0,Cf.option)((0,Cf.publicKey)())],["primarySaleHappened",(0,Cf.option)((0,Cf.bool)())],["isMutable",(0,Cf.option)((0,Cf.bool)())]],{description:"UpdateMetadataAccountV2InstructionData"}),n=>({...n,discriminator:15,data:n.data??(0,uM.none)(),newUpdateAuthority:n.newUpdateAuthority??(0,uM.none)(),primarySaleHappened:n.primarySaleHappened??(0,uM.none)(),isMutable:n.isMutable??(0,uM.none)()}))}XP.getUpdateMetadataAccountV2InstructionDataSerializer=t$e;function VRt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},updateAuthority:{index:1,isWritable:!1,value:e.updateAuthority??null}},s={...e};r.updateAuthority.value||(r.updateAuthority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,FRt.getAccountMetasAndSigners)(i,"programId",t),c=t$e().serialize(s),u=0;return(0,uM.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}XP.updateMetadataAccountV2=VRt;var QP={};Object.defineProperty(QP,"__esModule",{value:!0});QP.updatePrimarySaleHappenedViaToken=QP.getUpdatePrimarySaleHappenedViaTokenInstructionDataSerializer=void 0;const qRt=Z,_9=H,HRt=Ue;function r$e(){return(0,_9.mapSerializer)((0,_9.struct)([["discriminator",(0,_9.u8)()]],{description:"UpdatePrimarySaleHappenedViaTokenInstructionData"}),n=>({...n,discriminator:4}))}QP.getUpdatePrimarySaleHappenedViaTokenInstructionDataSerializer=r$e;function jRt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!1,value:e.owner??null},token:{index:2,isWritable:!1,value:e.token??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,HRt.getAccountMetasAndSigners)(s,"programId",t),a=r$e().serialize({}),c=0;return(0,qRt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}QP.updatePrimarySaleHappenedViaToken=jRt;var eE={};Object.defineProperty(eE,"__esModule",{value:!0});eE.updateV1=eE.getUpdateV1InstructionDataSerializer=void 0;const bS=Z,jl=H,GRt=Jt,n1e=Ue,Mf=ht;function n$e(){return(0,jl.mapSerializer)((0,jl.struct)([["discriminator",(0,jl.u8)()],["updateV1Discriminator",(0,jl.u8)()],["newUpdateAuthority",(0,jl.option)((0,jl.publicKey)())],["data",(0,jl.option)((0,Mf.getDataSerializer)())],["primarySaleHappened",(0,jl.option)((0,jl.bool)())],["isMutable",(0,jl.option)((0,jl.bool)())],["collection",(0,Mf.getCollectionToggleSerializer)()],["collectionDetails",(0,Mf.getCollectionDetailsToggleSerializer)()],["uses",(0,Mf.getUsesToggleSerializer)()],["ruleSet",(0,Mf.getRuleSetToggleSerializer)()],["authorizationData",(0,jl.option)((0,Mf.getAuthorizationDataSerializer)())]],{description:"UpdateV1InstructionData"}),n=>({...n,discriminator:50,updateV1Discriminator:0,newUpdateAuthority:n.newUpdateAuthority??(0,bS.none)(),data:n.data??(0,bS.none)(),primarySaleHappened:n.primarySaleHappened??(0,bS.none)(),isMutable:n.isMutable??(0,bS.none)(),collection:n.collection??(0,Mf.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,Mf.collectionDetailsToggle)("None"),uses:n.uses??(0,Mf.usesToggle)("None"),ruleSet:n.ruleSet??(0,Mf.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,bS.none)()}))}eE.getUpdateV1InstructionDataSerializer=n$e;function YRt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,GRt.findMetadataPda)(n,{mint:(0,n1e.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,bS.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,n1e.getAccountMetasAndSigners)(i,"programId",t),c=n$e().serialize(s),u=0;return(0,bS.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}eE.updateV1=YRt;var tE={};Object.defineProperty(tE,"__esModule",{value:!0});tE.useV1=tE.getUseV1InstructionDataSerializer=void 0;const XG=Z,sC=H,ZRt=Jt,s1e=Ue,JRt=ht;function s$e(){return(0,sC.mapSerializer)((0,sC.struct)([["discriminator",(0,sC.u8)()],["useV1Discriminator",(0,sC.u8)()],["authorizationData",(0,sC.option)((0,JRt.getAuthorizationDataSerializer)())]],{description:"UseV1InstructionData"}),n=>({...n,discriminator:51,useV1Discriminator:0,authorizationData:n.authorizationData??(0,XG.none)()}))}tE.getUseV1InstructionDataSerializer=s$e;function XRt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!0,value:e.delegateRecord??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!0,value:e.edition??null},payer:{index:6,isWritable:!1,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:9,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:10,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:11,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,ZRt.findMetadataPda)(n,{mint:(0,s1e.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,XG.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,s1e.getAccountMetasAndSigners)(i,"programId",t),c=s$e().serialize(s),u=0;return(0,XG.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}tE.useV1=XRt;var rE={};Object.defineProperty(rE,"__esModule",{value:!0});rE.utilize=rE.getUtilizeInstructionDataSerializer=void 0;const i1e=Z,DD=H,QRt=Jt,o1e=Ue;function i$e(){return(0,DD.mapSerializer)((0,DD.struct)([["discriminator",(0,DD.u8)()],["numberOfUses",(0,DD.u64)()]],{description:"UtilizeInstructionData"}),n=>({...n,discriminator:19}))}rE.getUtilizeInstructionDataSerializer=i$e;function e2t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},mint:{index:2,isWritable:!0,value:e.mint??null},useAuthority:{index:3,isWritable:!0,value:e.useAuthority??null},owner:{index:4,isWritable:!1,value:e.owner??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null},ataProgram:{index:6,isWritable:!1,value:e.ataProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null},useAuthorityRecord:{index:9,isWritable:!0,value:e.useAuthorityRecord??null},burner:{index:10,isWritable:!1,value:e.burner??null}},s={...e};r.metadata.value||(r.metadata.value=(0,QRt.findMetadataPda)(n,{mint:(0,o1e.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.rent.value||(r.rent.value=(0,i1e.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,o1e.getAccountMetasAndSigners)(i,"omitted",t),c=i$e().serialize(s),u=0;return(0,i1e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}rE.utilize=e2t;var nE={};Object.defineProperty(nE,"__esModule",{value:!0});nE.verifyCollection=nE.getVerifyCollectionInstructionDataSerializer=void 0;const t2t=Z,P9=H,r2t=Ue;function o$e(){return(0,P9.mapSerializer)((0,P9.struct)([["discriminator",(0,P9.u8)()]],{description:"VerifyCollectionInstructionData"}),n=>({...n,discriminator:18}))}nE.getVerifyCollectionInstructionDataSerializer=o$e;function n2t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,r2t.getAccountMetasAndSigners)(s,"omitted",t),a=o$e().serialize({}),c=0;return(0,t2t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}nE.verifyCollection=n2t;var sE={};Object.defineProperty(sE,"__esModule",{value:!0});sE.verifyCollectionV1=sE.getVerifyCollectionV1InstructionDataSerializer=void 0;const a1e=Z,OD=H,c1e=Jt,E9=Ue;function a$e(){return(0,OD.mapSerializer)((0,OD.struct)([["discriminator",(0,OD.u8)()],["verifyCollectionV1Discriminator",(0,OD.u8)()]],{description:"VerifyCollectionV1InstructionData"}),n=>({...n,discriminator:52,verifyCollectionV1Discriminator:1}))}sE.getVerifyCollectionV1InstructionDataSerializer=a$e;function s2t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},collectionMasterEdition:{index:5,isWritable:!1,value:e.collectionMasterEdition??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,c1e.findMetadataPda)(n,{mint:(0,E9.expectPublicKey)(r.collectionMint.value)})),r.collectionMasterEdition.value||(r.collectionMasterEdition.value=(0,c1e.findMasterEditionPda)(n,{mint:(0,E9.expectPublicKey)(r.collectionMint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,a1e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,E9.getAccountMetasAndSigners)(s,"programId",t),a=a$e().serialize({}),c=0;return(0,a1e.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}sE.verifyCollectionV1=s2t;var iE={};Object.defineProperty(iE,"__esModule",{value:!0});iE.verifyCreatorV1=iE.getVerifyCreatorV1InstructionDataSerializer=void 0;const u1e=Z,LD=H,i2t=Ue;function c$e(){return(0,LD.mapSerializer)((0,LD.struct)([["discriminator",(0,LD.u8)()],["verifyCreatorV1Discriminator",(0,LD.u8)()]],{description:"VerifyCreatorV1InstructionData"}),n=>({...n,discriminator:52,verifyCreatorV1Discriminator:0}))}iE.getVerifyCreatorV1InstructionDataSerializer=c$e;function o2t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},collectionMasterEdition:{index:5,isWritable:!1,value:e.collectionMasterEdition??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,u1e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,i2t.getAccountMetasAndSigners)(s,"programId",t),a=c$e().serialize({}),c=0;return(0,u1e.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}iE.verifyCreatorV1=o2t;var oE={};Object.defineProperty(oE,"__esModule",{value:!0});oE.verifySizedCollectionItem=oE.getVerifySizedCollectionItemInstructionDataSerializer=void 0;const a2t=Z,x9=H,c2t=Ue;function u$e(){return(0,x9.mapSerializer)((0,x9.struct)([["discriminator",(0,x9.u8)()]],{description:"VerifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:30}))}oE.getVerifySizedCollectionItemInstructionDataSerializer=u$e;function u2t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,c2t.getAccountMetasAndSigners)(s,"omitted",t),a=u$e().serialize({}),c=0;return(0,a2t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}oE.verifySizedCollectionItem=u2t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(R_,n),t(B_,n),t(C_,n),t(M_,n),t(z_,n),t($_,n),t(D_,n),t(O_,n),t(L_,n),t(K_,n),t(W_,n),t(N_,n),t(F_,n),t(U_,n),t(V_,n),t(q_,n),t(H_,n),t(j_,n),t(G_,n),t(Y_,n),t(Z_,n),t(J_,n),t(X_,n),t(Q_,n),t(eP,n),t(tP,n),t(rP,n),t(nP,n),t(sP,n),t(iP,n),t(oP,n),t(aP,n),t(cP,n),t(uP,n),t(lP,n),t(dP,n),t(fP,n),t(hP,n),t(gP,n),t(mP,n),t(yP,n),t(pP,n),t(bP,n),t(SP,n),t(kP,n),t(vP,n),t(AP,n),t(wP,n),t(IP,n),t(_P,n),t(PP,n),t(EP,n),t(xP,n),t(TP,n),t(RP,n),t(BP,n),t(CP,n),t(MP,n),t(zP,n),t($P,n),t(DP,n),t(OP,n),t(LP,n),t(KP,n),t(WP,n),t(NP,n),t(FP,n),t(UP,n),t(VP,n),t(qP,n),t(HP,n),t(jP,n),t(GP,n),t(YP,n),t(ZP,n),t(JP,n),t(XP,n),t(QP,n),t(eE,n),t(tE,n),t(rE,n),t(nE,n),t(sE,n),t(iE,n),t(oE,n)})(SMe);var l$e={},d$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplTokenMetadataProgramId=n.getMplTokenMetadataProgram=n.createMplTokenMetadataProgram=n.MPL_TOKEN_METADATA_PROGRAM_ID=void 0;const e=Cre;n.MPL_TOKEN_METADATA_PROGRAM_ID="metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s";function t(){return{name:"mplTokenMetadata",publicKey:n.MPL_TOKEN_METADATA_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplTokenMetadataErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplTokenMetadataErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplTokenMetadataProgram=t;function r(i,o){return i.programs.get("mplTokenMetadata",o)}n.getMplTokenMetadataProgram=r;function s(i,o){return i.programs.getPublicKey("mplTokenMetadata",n.MPL_TOKEN_METADATA_PROGRAM_ID,o)}n.getMplTokenMetadataProgramId=s})(d$e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(d$e,n)})(l$e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Jt,n),t(Cre,n),t(SMe,n),t(l$e,n),t(Ue,n),t(ht,n)})(F0);var f$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFungibleAsset=n.createFungible=n.createProgrammableNft=n.createNft=n.createAndMint=void 0;const e=Z,t=F0,r=(c,u)=>(0,e.transactionBuilder)().add((0,t.createV1)(c,u)).add((0,t.mintV1)(c,{...u,mint:(0,e.publicKey)(u.mint)}));n.createAndMint=r;const s=(c,u)=>(0,n.createAndMint)(c,{...u,tokenStandard:t.TokenStandard.NonFungible,amount:1});n.createNft=s;const i=(c,u)=>(0,n.createAndMint)(c,{...u,tokenStandard:t.TokenStandard.ProgrammableNonFungible,amount:1});n.createProgrammableNft=i;const o=(c,u)=>(0,t.createV1)(c,{...u,tokenStandard:t.TokenStandard.Fungible});n.createFungible=o;const a=(c,u)=>(0,t.createV1)(c,{...u,tokenStandard:t.TokenStandard.FungibleAsset});n.createFungibleAsset=a})(f$e);var Xc={};Object.defineProperty(Xc,"__esModule",{value:!0});Xc.deserializeDigitalAssetWithToken=Xc.fetchAllDigitalAssetWithTokenByMint=Xc.fetchAllDigitalAssetWithTokenByOwnerAndMint=Xc.fetchAllDigitalAssetWithTokenByOwner=Xc.fetchDigitalAssetWithTokenByMint=Xc.fetchDigitalAssetWithAssociatedToken=Xc.fetchDigitalAssetWithToken=void 0;const Ib=Z,dW=hi,h$e=lW,Vd=F0;async function g$e(n,e,t,r){const[s,i,o,a,c]=await n.rpc.getAccounts([e,(0,Vd.findMetadataPda)(n,{mint:e})[0],(0,Vd.findMasterEditionPda)(n,{mint:e})[0],t,(0,Vd.findTokenRecordPda)(n,{mint:e,token:t})[0]],r);return(0,Ib.assertAccountExists)(s,"Mint"),(0,Ib.assertAccountExists)(i,"Metadata"),(0,Ib.assertAccountExists)(a,"Token"),yoe(s,i,a,o.exists?o:void 0,c.exists?c:void 0)}Xc.fetchDigitalAssetWithToken=g$e;async function l2t(n,e,t,r){const[s]=(0,dW.findAssociatedTokenPda)(n,{mint:e,owner:t});return g$e(n,e,s,r)}Xc.fetchDigitalAssetWithAssociatedToken=l2t;async function d2t(n,e,t){const r=await y$e(n,e,t);if(r.length===0)throw new Error("No valid token accounts found for the provided mint");if(r.length>1)throw new Error("Multiple valid token accounts found for the provided mintuse `fetchAllDigitalAssetWithTokenByMint` instead to retrieve them all.");return r[0]}Xc.fetchDigitalAssetWithTokenByMint=d2t;async function m$e(n,e,t){const r=await(0,dW.fetchAllTokenByOwner)(n,e,t),s=r.flatMap(o=>[o.mint,(0,Vd.findMetadataPda)(n,{mint:o.mint})[0],(0,Vd.findMasterEditionPda)(n,{mint:o.mint})[0],(0,Vd.findTokenRecordPda)(n,{mint:o.mint,token:o.publicKey})[0]]),i=await n.rpc.getAccounts(s,t);return(0,Ib.zipMap)(r,(0,Ib.chunk)(i,4),(o,a)=>{if(!a||a.length!==4)return[];const[c,u,l,d]=a;if(!c.exists||!u.exists)return[];try{return[{...(0,h$e.deserializeDigitalAsset)(c,u,l.exists?l:void 0),token:o,tokenRecord:d.exists?(0,Vd.deserializeTokenRecord)(d):void 0}]}catch{return[]}}).flat()}Xc.fetchAllDigitalAssetWithTokenByOwner=m$e;function f2t(n,e,t,r){return m$e(n,e,{...r,mint:t})}Xc.fetchAllDigitalAssetWithTokenByOwnerAndMint=f2t;async function y$e(n,e,t){const s=(await(0,dW.findLargestTokensByMint)(n,e,t)).filter(d=>d.amount.basisPoints>0).map(d=>d.publicKey),i=[e,(0,Vd.findMetadataPda)(n,{mint:e})[0],(0,Vd.findMasterEditionPda)(n,{mint:e})[0]];i.push(...s.flatMap(d=>[d,(0,Vd.findTokenRecordPda)(n,{mint:e,token:d})[0]]));const o=await n.rpc.getAccounts(i,t),[a,c,u,...l]=o;return(0,Ib.assertAccountExists)(a,"Mint"),(0,Ib.assertAccountExists)(c,"Metadata"),(0,Ib.chunk)(l,2).flatMap(([d,y])=>d.exists?[yoe(a,c,d,u.exists?u:void 0,y.exists?y:void 0)]:[])}Xc.fetchAllDigitalAssetWithTokenByMint=y$e;function yoe(n,e,t,r,s){return{...(0,h$e.deserializeDigitalAsset)(n,e,r),token:(0,dW.deserializeToken)(t),tokenRecord:s?(0,Vd.deserializeTokenRecord)(s):void 0}}Xc.deserializeDigitalAssetWithToken=yoe;var fW={};Object.defineProperty(fW,"__esModule",{value:!0});fW.fetchJsonMetadata=void 0;const h2t=U0,g2t=async(n,e)=>{try{return await n.downloader.downloadJson(e)}catch(t){throw new h2t.TokenMetadataError(`Failed to fetch JSON metadata from ${e}`,t)}};fW.fetchJsonMetadata=g2t;var hW={};Object.defineProperty(hW,"__esModule",{value:!0});hW.mplTokenMetadata=void 0;const m2t=hi,y2t=F0,p2t=()=>({install(n){n.use((0,m2t.mplToolbox)()),n.programs.add((0,y2t.createMplTokenMetadataProgram)(),!1)}});hW.mplTokenMetadata=p2t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(F0,n),t(bn,n),t(f$e,n),t(lW,n),t(Xc,n),t(U0,n),t(fW,n),t(hW,n)})(Cv);Object.defineProperty(KI,"__esModule",{value:!0});KI.decompressV1=KI.getDecompressV1InstructionDataSerializer=void 0;const l1e=Cv,b2t=Gve,d1e=Z,KD=H,S2t=gg,hA=Ts,k2t=za;function p$e(){return(0,KD.mapSerializer)((0,KD.struct)([["discriminator",(0,KD.array)((0,KD.u8)(),{size:8})],["metadata",(0,k2t.getMetadataArgsSerializer)()]],{description:"DecompressV1InstructionData"}),n=>({...n,discriminator:[54,85,76,70,228,250,164,81]}))}KI.getDecompressV1InstructionDataSerializer=p$e;function v2t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={voucher:{index:0,isWritable:!0,value:e.voucher??null},leafOwner:{index:1,isWritable:!0,value:e.leafOwner??null},tokenAccount:{index:2,isWritable:!0,value:e.tokenAccount??null},mint:{index:3,isWritable:!0,value:e.mint??null},mintAuthority:{index:4,isWritable:!0,value:e.mintAuthority??null},metadataAccount:{index:5,isWritable:!0,value:e.metadataAccount??null},masterEdition:{index:6,isWritable:!0,value:e.masterEdition??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarRent:{index:8,isWritable:!1,value:e.sysvarRent??null},tokenMetadataProgram:{index:9,isWritable:!1,value:e.tokenMetadataProgram??null},tokenProgram:{index:10,isWritable:!1,value:e.tokenProgram??null},associatedTokenProgram:{index:11,isWritable:!1,value:e.associatedTokenProgram??null},logWrapper:{index:12,isWritable:!1,value:e.logWrapper??null}},s={...e};r.tokenAccount.value||(r.tokenAccount.value=(0,b2t.findAssociatedTokenPda)(n,{mint:(0,hA.expectPublicKey)(r.mint.value),owner:(0,hA.expectPublicKey)(r.leafOwner.value)})),r.mintAuthority.value||(r.mintAuthority.value=(0,S2t.findMintAuthorityPda)(n,{mint:(0,hA.expectPublicKey)(r.mint.value)})),r.metadataAccount.value||(r.metadataAccount.value=(0,l1e.findMetadataPda)(n,{mint:(0,hA.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(r.masterEdition.value=(0,l1e.findMasterEditionPda)(n,{mint:(0,hA.expectPublicKey)(r.mint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarRent.value||(r.sysvarRent.value=(0,d1e.publicKey)("SysvarRent111111111111111111111111111111111")),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r.tokenMetadataProgram.isWritable=!1),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.associatedTokenProgram.value||(r.associatedTokenProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.associatedTokenProgram.isWritable=!1),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,hA.getAccountMetasAndSigners)(i,"programId",t),c=p$e().serialize(s),u=0;return(0,d1e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}KI.decompressV1=v2t;var aE={};Object.defineProperty(aE,"__esModule",{value:!0});aE.delegate=aE.getDelegateInstructionDataSerializer=void 0;const A2t=Z,Vg=H,w2t=Wc,f1e=Ts;function b$e(){return(0,Vg.mapSerializer)((0,Vg.struct)([["discriminator",(0,Vg.array)((0,Vg.u8)(),{size:8})],["root",(0,Vg.bytes)({size:32})],["dataHash",(0,Vg.bytes)({size:32})],["creatorHash",(0,Vg.bytes)({size:32})],["nonce",(0,Vg.u64)()],["index",(0,Vg.u32)()]],{description:"DelegateInstructionData"}),n=>({...n,discriminator:[90,147,75,178,85,88,4,137]}))}aE.getDelegateInstructionDataSerializer=b$e;function I2t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},previousLeafDelegate:{index:2,isWritable:!1,value:e.previousLeafDelegate??null},newLeafDelegate:{index:3,isWritable:!1,value:e.newLeafDelegate??null},merkleTree:{index:4,isWritable:!0,value:e.merkleTree??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:6,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,w2t.findTreeConfigPda)(n,{merkleTree:(0,f1e.expectPublicKey)(r.merkleTree.value)})),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,f1e.getAccountMetasAndSigners)(i,"programId",t),u=b$e().serialize(s),l=0;return(0,A2t.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}aE.delegate=I2t;var cE={};Object.defineProperty(cE,"__esModule",{value:!0});cE.mintToCollectionV1=cE.getMintToCollectionV1InstructionDataSerializer=void 0;const h1e=Cv,T9=Z,WD=H,_2t=Wc,iC=Ts,P2t=za;function S$e(){return(0,WD.mapSerializer)((0,WD.struct)([["discriminator",(0,WD.array)((0,WD.u8)(),{size:8})],["metadata",(0,P2t.getMetadataArgsSerializer)()]],{description:"MintToCollectionV1InstructionData"}),n=>({...n,discriminator:[153,18,178,47,197,158,86,15]}))}cE.getMintToCollectionV1InstructionDataSerializer=S$e;function E2t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!0,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},treeCreatorOrDelegate:{index:5,isWritable:!1,value:e.treeCreatorOrDelegate??null},collectionAuthority:{index:6,isWritable:!1,value:e.collectionAuthority??null},collectionAuthorityRecordPda:{index:7,isWritable:!1,value:e.collectionAuthorityRecordPda??null},collectionMint:{index:8,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:9,isWritable:!0,value:e.collectionMetadata??null},collectionEdition:{index:10,isWritable:!1,value:e.collectionEdition??null},bubblegumSigner:{index:11,isWritable:!1,value:e.bubblegumSigner??null},logWrapper:{index:12,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:13,isWritable:!1,value:e.compressionProgram??null},tokenMetadataProgram:{index:14,isWritable:!1,value:e.tokenMetadataProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,_2t.findTreeConfigPda)(n,{merkleTree:(0,iC.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,iC.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.treeCreatorOrDelegate.value||(r.treeCreatorOrDelegate.value=n.identity),r.collectionAuthority.value||(r.collectionAuthority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,h1e.findMetadataPda)(n,{mint:(0,iC.expectPublicKey)(r.collectionMint.value)})),r.collectionEdition.value||(r.collectionEdition.value=(0,h1e.findMasterEditionPda)(n,{mint:(0,iC.expectPublicKey)(r.collectionMint.value)})),r.bubblegumSigner.value||(r.bubblegumSigner.value=(0,T9.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=(0,T9.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,iC.getAccountMetasAndSigners)(i,"programId",t),c=S$e().serialize(s),u=0;return(0,T9.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}cE.mintToCollectionV1=E2t;var uE={};Object.defineProperty(uE,"__esModule",{value:!0});uE.mintV1=uE.getMintV1InstructionDataSerializer=void 0;const x2t=Z,ND=H,T2t=Wc,R9=Ts,R2t=za;function k$e(){return(0,ND.mapSerializer)((0,ND.struct)([["discriminator",(0,ND.array)((0,ND.u8)(),{size:8})],["metadata",(0,R2t.getMetadataArgsSerializer)()]],{description:"MintV1InstructionData"}),n=>({...n,discriminator:[145,98,192,118,184,147,118,104]}))}uE.getMintV1InstructionDataSerializer=k$e;function B2t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!0,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},treeCreatorOrDelegate:{index:5,isWritable:!1,value:e.treeCreatorOrDelegate??null},logWrapper:{index:6,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:7,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,T2t.findTreeConfigPda)(n,{merkleTree:(0,R9.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,R9.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.treeCreatorOrDelegate.value||(r.treeCreatorOrDelegate.value=n.identity),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,R9.getAccountMetasAndSigners)(i,"programId",t),c=k$e().serialize(s),u=0;return(0,x2t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}uE.mintV1=B2t;var lE={};Object.defineProperty(lE,"__esModule",{value:!0});lE.redeem=lE.getRedeemInstructionDataSerializer=void 0;const C2t=Z,qg=H,g1e=Wc,oC=Ts;function v$e(){return(0,qg.mapSerializer)((0,qg.struct)([["discriminator",(0,qg.array)((0,qg.u8)(),{size:8})],["root",(0,qg.bytes)({size:32})],["dataHash",(0,qg.bytes)({size:32})],["creatorHash",(0,qg.bytes)({size:32})],["nonce",(0,qg.u64)()],["index",(0,qg.u32)()]],{description:"RedeemInstructionData"}),n=>({...n,discriminator:[184,12,86,149,70,196,97,225]}))}lE.getRedeemInstructionDataSerializer=v$e;function M2t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!0,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},voucher:{index:4,isWritable:!0,value:e.voucher??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:6,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,g1e.findTreeConfigPda)(n,{merkleTree:(0,oC.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,oC.expectSome)(r.leafOwner.value)),r.voucher.value||(r.voucher.value=(0,g1e.findVoucherPda)(n,{merkleTree:(0,oC.expectPublicKey)(r.merkleTree.value),nonce:(0,oC.expectSome)(s.nonce)})),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,oC.getAccountMetasAndSigners)(i,"programId",t),u=v$e().serialize(s),l=0;return(0,C2t.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}lE.redeem=M2t;var dE={};Object.defineProperty(dE,"__esModule",{value:!0});dE.setAndVerifyCollection=dE.getSetAndVerifyCollectionInstructionDataSerializer=void 0;const m1e=Cv,B9=Z,zf=H,y1e=gg,z2t=Wc,gA=Ts,$2t=za;function A$e(){return(0,zf.mapSerializer)((0,zf.struct)([["discriminator",(0,zf.array)((0,zf.u8)(),{size:8})],["root",(0,zf.bytes)({size:32})],["dataHash",(0,zf.bytes)({size:32})],["creatorHash",(0,zf.bytes)({size:32})],["nonce",(0,zf.u64)()],["index",(0,zf.u32)()],["metadata",(0,$2t.getMetadataArgsSerializer)()],["collection",(0,zf.publicKey)()]],{description:"SetAndVerifyCollectionInstructionData"}),n=>({...n,discriminator:[235,242,121,216,158,234,180,234]}))}dE.getSetAndVerifyCollectionInstructionDataSerializer=A$e;function D2t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},treeCreatorOrDelegate:{index:5,isWritable:!1,value:e.treeCreatorOrDelegate??null},collectionAuthority:{index:6,isWritable:!1,value:e.collectionAuthority??null},collectionAuthorityRecordPda:{index:7,isWritable:!1,value:e.collectionAuthorityRecordPda??null},collectionMint:{index:8,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:9,isWritable:!0,value:e.collectionMetadata??null},collectionEdition:{index:10,isWritable:!1,value:e.collectionEdition??null},bubblegumSigner:{index:11,isWritable:!1,value:e.bubblegumSigner??null},logWrapper:{index:12,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:13,isWritable:!1,value:e.compressionProgram??null},tokenMetadataProgram:{index:14,isWritable:!1,value:e.tokenMetadataProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,z2t.findTreeConfigPda)(n,{merkleTree:(0,gA.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,gA.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.treeCreatorOrDelegate.value||(r.treeCreatorOrDelegate.value=n.identity),r.collectionAuthority.value||(r.collectionAuthority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,m1e.findMetadataPda)(n,{mint:(0,gA.expectPublicKey)(r.collectionMint.value)})),r.collectionEdition.value||(r.collectionEdition.value=(0,m1e.findMasterEditionPda)(n,{mint:(0,gA.expectPublicKey)(r.collectionMint.value)})),r.bubblegumSigner.value||(r.bubblegumSigner.value=(0,B9.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=(0,B9.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.dataHash||(s.dataHash=(0,y1e.resolveDataHash)(n,r,s,t,!1)),s.creatorHash||(s.creatorHash=(0,y1e.resolveCreatorHash)(n,r,s,t,!1)),s.collection||(s.collection=(0,gA.expectPublicKey)(r.collectionMint.value)),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,gA.getAccountMetasAndSigners)(i,"programId",t),u=A$e().serialize(s),l=0;return(0,B9.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}dE.setAndVerifyCollection=D2t;var fE={};Object.defineProperty(fE,"__esModule",{value:!0});fE.setDecompressibleState=fE.getSetDecompressibleStateInstructionDataSerializer=void 0;const O2t=Z,FD=H,L2t=Ts,K2t=za;function w$e(){return(0,FD.mapSerializer)((0,FD.struct)([["discriminator",(0,FD.array)((0,FD.u8)(),{size:8})],["decompressableState",(0,K2t.getDecompressibleStateSerializer)()]],{description:"SetDecompressibleStateInstructionData"}),n=>({...n,discriminator:[82,104,152,6,149,111,100,13]}))}fE.getSetDecompressibleStateInstructionDataSerializer=w$e;function W2t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!0,value:e.treeConfig??null},treeCreator:{index:1,isWritable:!1,value:e.treeCreator??null}},s={...e};r.treeCreator.value||(r.treeCreator.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,L2t.getAccountMetasAndSigners)(i,"programId",t),c=w$e().serialize(s),u=0;return(0,O2t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}fE.setDecompressibleState=W2t;var hE={};Object.defineProperty(hE,"__esModule",{value:!0});hE.setTreeDelegate=hE.getSetTreeDelegateInstructionDataSerializer=void 0;const N2t=Z,UD=H,F2t=Wc,p1e=Ts;function I$e(){return(0,UD.mapSerializer)((0,UD.struct)([["discriminator",(0,UD.array)((0,UD.u8)(),{size:8})]],{description:"SetTreeDelegateInstructionData"}),n=>({...n,discriminator:[253,118,66,37,190,49,154,102]}))}hE.getSetTreeDelegateInstructionDataSerializer=I$e;function U2t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!0,value:e.treeConfig??null},treeCreator:{index:1,isWritable:!1,value:e.treeCreator??null},newTreeDelegate:{index:2,isWritable:!1,value:e.newTreeDelegate??null},merkleTree:{index:3,isWritable:!1,value:e.merkleTree??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null}};r.treeConfig.value||(r.treeConfig.value=(0,F2t.findTreeConfigPda)(n,{merkleTree:(0,p1e.expectPublicKey)(r.merkleTree.value)})),r.treeCreator.value||(r.treeCreator.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,p1e.getAccountMetasAndSigners)(s,"programId",t),a=I$e().serialize({}),c=0;return(0,N2t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}hE.setTreeDelegate=U2t;var gE={};Object.defineProperty(gE,"__esModule",{value:!0});gE.transfer=gE.getTransferInstructionDataSerializer=void 0;const V2t=Z,Hg=H,q2t=Wc,C9=Ts;function _$e(){return(0,Hg.mapSerializer)((0,Hg.struct)([["discriminator",(0,Hg.array)((0,Hg.u8)(),{size:8})],["root",(0,Hg.bytes)({size:32})],["dataHash",(0,Hg.bytes)({size:32})],["creatorHash",(0,Hg.bytes)({size:32})],["nonce",(0,Hg.u64)()],["index",(0,Hg.u32)()]],{description:"TransferInstructionData"}),n=>({...n,discriminator:[163,52,200,231,140,3,69,186]}))}gE.getTransferInstructionDataSerializer=_$e;function H2t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},newLeafOwner:{index:3,isWritable:!1,value:e.newLeafOwner??null},merkleTree:{index:4,isWritable:!0,value:e.merkleTree??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:6,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,q2t.findTreeConfigPda)(n,{merkleTree:(0,C9.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,C9.expectSome)(r.leafOwner.value)),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,C9.getAccountMetasAndSigners)(i,"programId",t),u=_$e().serialize(s),l=0;return(0,V2t.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}gE.transfer=H2t;var mE={};Object.defineProperty(mE,"__esModule",{value:!0});mE.unverifyCollection=mE.getUnverifyCollectionInstructionDataSerializer=void 0;const b1e=Cv,M9=Z,jg=H,S1e=gg,j2t=Wc,aC=Ts,G2t=za;function P$e(){return(0,jg.mapSerializer)((0,jg.struct)([["discriminator",(0,jg.array)((0,jg.u8)(),{size:8})],["root",(0,jg.bytes)({size:32})],["dataHash",(0,jg.bytes)({size:32})],["creatorHash",(0,jg.bytes)({size:32})],["nonce",(0,jg.u64)()],["index",(0,jg.u32)()],["metadata",(0,G2t.getMetadataArgsSerializer)()]],{description:"UnverifyCollectionInstructionData"}),n=>({...n,discriminator:[250,251,42,106,41,137,186,168]}))}mE.getUnverifyCollectionInstructionDataSerializer=P$e;function Y2t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},treeCreatorOrDelegate:{index:5,isWritable:!1,value:e.treeCreatorOrDelegate??null},collectionAuthority:{index:6,isWritable:!1,value:e.collectionAuthority??null},collectionAuthorityRecordPda:{index:7,isWritable:!1,value:e.collectionAuthorityRecordPda??null},collectionMint:{index:8,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:9,isWritable:!0,value:e.collectionMetadata??null},collectionEdition:{index:10,isWritable:!1,value:e.collectionEdition??null},bubblegumSigner:{index:11,isWritable:!1,value:e.bubblegumSigner??null},logWrapper:{index:12,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:13,isWritable:!1,value:e.compressionProgram??null},tokenMetadataProgram:{index:14,isWritable:!1,value:e.tokenMetadataProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,j2t.findTreeConfigPda)(n,{merkleTree:(0,aC.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,aC.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.treeCreatorOrDelegate.value||(r.treeCreatorOrDelegate.value=n.identity.publicKey),r.collectionAuthority.value||(r.collectionAuthority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,b1e.findMetadataPda)(n,{mint:(0,aC.expectPublicKey)(r.collectionMint.value)})),r.collectionEdition.value||(r.collectionEdition.value=(0,b1e.findMasterEditionPda)(n,{mint:(0,aC.expectPublicKey)(r.collectionMint.value)})),r.bubblegumSigner.value||(r.bubblegumSigner.value=(0,M9.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=(0,M9.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.dataHash||(s.dataHash=(0,S1e.resolveDataHash)(n,r,s,t,!1)),s.creatorHash||(s.creatorHash=(0,S1e.resolveCreatorHash)(n,r,s,t,!1)),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,aC.getAccountMetasAndSigners)(i,"programId",t),u=P$e().serialize(s),l=0;return(0,M9.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}mE.unverifyCollection=Y2t;var yE={};Object.defineProperty(yE,"__esModule",{value:!0});yE.unverifyCreator=yE.getUnverifyCreatorInstructionDataSerializer=void 0;const Z2t=Z,Gg=H,k1e=gg,J2t=Wc,z9=Ts,X2t=za;function E$e(){return(0,Gg.mapSerializer)((0,Gg.struct)([["discriminator",(0,Gg.array)((0,Gg.u8)(),{size:8})],["root",(0,Gg.bytes)({size:32})],["dataHash",(0,Gg.bytes)({size:32})],["creatorHash",(0,Gg.bytes)({size:32})],["nonce",(0,Gg.u64)()],["index",(0,Gg.u32)()],["metadata",(0,X2t.getMetadataArgsSerializer)()]],{description:"UnverifyCreatorInstructionData"}),n=>({...n,discriminator:[107,178,57,39,105,115,112,152]}))}yE.getUnverifyCreatorInstructionDataSerializer=E$e;function Q2t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},creator:{index:5,isWritable:!1,value:e.creator??null},logWrapper:{index:6,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:7,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,J2t.findTreeConfigPda)(n,{merkleTree:(0,z9.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,z9.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.dataHash||(s.dataHash=(0,k1e.resolveDataHash)(n,r,s,t,!1)),s.creatorHash||(s.creatorHash=(0,k1e.resolveCreatorHash)(n,r,s,t,!1)),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,z9.getAccountMetasAndSigners)(i,"programId",t),u=E$e().serialize(s),l=0;return(0,Z2t.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}yE.unverifyCreator=Q2t;var pE={};Object.defineProperty(pE,"__esModule",{value:!0});pE.updateMetadata=pE.getUpdateMetadataInstructionDataSerializer=void 0;const eBt=Cv,v1e=Z,P1=H,tBt=Wc,VD=Ts,A1e=za;function x$e(){return(0,P1.mapSerializer)((0,P1.struct)([["discriminator",(0,P1.array)((0,P1.u8)(),{size:8})],["root",(0,P1.bytes)({size:32})],["nonce",(0,P1.u64)()],["index",(0,P1.u32)()],["currentMetadata",(0,A1e.getMetadataArgsSerializer)()],["updateArgs",(0,A1e.getUpdateArgsSerializer)()]],{description:"UpdateMetadataInstructionData"}),n=>({...n,discriminator:[170,182,43,239,97,78,225,186]}))}pE.getUpdateMetadataInstructionDataSerializer=x$e;function rBt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},authority:{index:1,isWritable:!1,value:e.authority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:3,isWritable:!1,value:e.collectionMetadata??null},collectionAuthorityRecordPda:{index:4,isWritable:!1,value:e.collectionAuthorityRecordPda??null},leafOwner:{index:5,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:6,isWritable:!1,value:e.leafDelegate??null},payer:{index:7,isWritable:!1,value:e.payer??null},merkleTree:{index:8,isWritable:!0,value:e.merkleTree??null},logWrapper:{index:9,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:10,isWritable:!1,value:e.compressionProgram??null},tokenMetadataProgram:{index:11,isWritable:!1,value:e.tokenMetadataProgram??null},systemProgram:{index:12,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,tBt.findTreeConfigPda)(n,{merkleTree:(0,VD.expectPublicKey)(r.merkleTree.value)})),r.authority.value||(r.authority.value=n.identity),r.collectionMetadata.value||r.collectionMint.value&&(r.collectionMetadata.value=(0,eBt.findMetadataPda)(n,{mint:(0,VD.expectPublicKey)(r.collectionMint.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,VD.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=(0,v1e.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,VD.getAccountMetasAndSigners)(i,"programId",t),u=x$e().serialize(s),l=0;return(0,v1e.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}pE.updateMetadata=rBt;var bE={};Object.defineProperty(bE,"__esModule",{value:!0});bE.verifyCollection=bE.getVerifyCollectionInstructionDataSerializer=void 0;const w1e=Cv,$9=Z,Yg=H,I1e=gg,nBt=Wc,cC=Ts,sBt=za;function T$e(){return(0,Yg.mapSerializer)((0,Yg.struct)([["discriminator",(0,Yg.array)((0,Yg.u8)(),{size:8})],["root",(0,Yg.bytes)({size:32})],["dataHash",(0,Yg.bytes)({size:32})],["creatorHash",(0,Yg.bytes)({size:32})],["nonce",(0,Yg.u64)()],["index",(0,Yg.u32)()],["metadata",(0,sBt.getMetadataArgsSerializer)()]],{description:"VerifyCollectionInstructionData"}),n=>({...n,discriminator:[56,113,101,253,79,55,122,169]}))}bE.getVerifyCollectionInstructionDataSerializer=T$e;function iBt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},treeCreatorOrDelegate:{index:5,isWritable:!1,value:e.treeCreatorOrDelegate??null},collectionAuthority:{index:6,isWritable:!1,value:e.collectionAuthority??null},collectionAuthorityRecordPda:{index:7,isWritable:!1,value:e.collectionAuthorityRecordPda??null},collectionMint:{index:8,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:9,isWritable:!0,value:e.collectionMetadata??null},collectionEdition:{index:10,isWritable:!1,value:e.collectionEdition??null},bubblegumSigner:{index:11,isWritable:!1,value:e.bubblegumSigner??null},logWrapper:{index:12,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:13,isWritable:!1,value:e.compressionProgram??null},tokenMetadataProgram:{index:14,isWritable:!1,value:e.tokenMetadataProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,nBt.findTreeConfigPda)(n,{merkleTree:(0,cC.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,cC.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.treeCreatorOrDelegate.value||(r.treeCreatorOrDelegate.value=n.identity.publicKey),r.collectionAuthority.value||(r.collectionAuthority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,w1e.findMetadataPda)(n,{mint:(0,cC.expectPublicKey)(r.collectionMint.value)})),r.collectionEdition.value||(r.collectionEdition.value=(0,w1e.findMasterEditionPda)(n,{mint:(0,cC.expectPublicKey)(r.collectionMint.value)})),r.bubblegumSigner.value||(r.bubblegumSigner.value=(0,$9.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=(0,$9.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.dataHash||(s.dataHash=(0,I1e.resolveDataHash)(n,r,s,t,!1)),s.creatorHash||(s.creatorHash=(0,I1e.resolveCreatorHash)(n,r,s,t,!1)),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,cC.getAccountMetasAndSigners)(i,"programId",t),u=T$e().serialize(s),l=0;return(0,$9.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}bE.verifyCollection=iBt;var SE={};Object.defineProperty(SE,"__esModule",{value:!0});SE.verifyCreator=SE.getVerifyCreatorInstructionDataSerializer=void 0;const oBt=Z,Zg=H,_1e=gg,aBt=Wc,D9=Ts,cBt=za;function R$e(){return(0,Zg.mapSerializer)((0,Zg.struct)([["discriminator",(0,Zg.array)((0,Zg.u8)(),{size:8})],["root",(0,Zg.bytes)({size:32})],["dataHash",(0,Zg.bytes)({size:32})],["creatorHash",(0,Zg.bytes)({size:32})],["nonce",(0,Zg.u64)()],["index",(0,Zg.u32)()],["metadata",(0,cBt.getMetadataArgsSerializer)()]],{description:"VerifyCreatorInstructionData"}),n=>({...n,discriminator:[52,17,96,132,71,4,85,194]}))}SE.getVerifyCreatorInstructionDataSerializer=R$e;function uBt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},creator:{index:5,isWritable:!1,value:e.creator??null},logWrapper:{index:6,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:7,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,aBt.findTreeConfigPda)(n,{merkleTree:(0,D9.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,D9.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.dataHash||(s.dataHash=(0,_1e.resolveDataHash)(n,r,s,t,!1)),s.creatorHash||(s.creatorHash=(0,_1e.resolveCreatorHash)(n,r,s,t,!1)),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,D9.getAccountMetasAndSigners)(i,"programId",t),u=R$e().serialize(s),l=0;return(0,oBt.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}SE.verifyCreator=uBt;var kE={};Object.defineProperty(kE,"__esModule",{value:!0});kE.verifyLeaf=kE.getVerifyLeafInstructionDataSerializer=void 0;const lBt=Z,E1=H,dBt=Ts;function B$e(){return(0,E1.mapSerializer)((0,E1.struct)([["discriminator",(0,E1.array)((0,E1.u8)(),{size:8})],["root",(0,E1.bytes)({size:32})],["leaf",(0,E1.bytes)({size:32})],["index",(0,E1.u32)()]],{description:"VerifyLeafInstructionData"}),n=>({...n,discriminator:[124,220,22,223,104,10,250,224]}))}kE.getVerifyLeafInstructionDataSerializer=B$e;function fBt(n,e){const t=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r={merkleTree:{index:0,isWritable:!1,value:e.merkleTree??null}},s={...e};s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,dBt.getAccountMetasAndSigners)(i,"programId",t),u=B$e().serialize(s),l=0;return(0,lBt.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}kE.verifyLeaf=fBt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(DI,n),t(OI,n),t(LI,n),t(KI,n),t(aE,n),t(cE,n),t(uE,n),t(lE,n),t(dE,n),t(fE,n),t(hE,n),t(gE,n),t(mE,n),t(yE,n),t(pE,n),t(bE,n),t(SE,n),t(kE,n)})(hBe);var C$e={},M$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplBubblegumProgramId=n.getMplBubblegumProgram=n.createMplBubblegumProgram=n.MPL_BUBBLEGUM_PROGRAM_ID=void 0;const e=p8;n.MPL_BUBBLEGUM_PROGRAM_ID="BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY";function t(){return{name:"mplBubblegum",publicKey:n.MPL_BUBBLEGUM_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplBubblegumErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplBubblegumErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplBubblegumProgram=t;function r(i,o){return i.programs.get("mplBubblegum",o)}n.getMplBubblegumProgram=r;function s(i,o){return i.programs.getPublicKey("mplBubblegum",n.MPL_BUBBLEGUM_PROGRAM_ID,o)}n.getMplBubblegumProgramId=s})(M$e);var z$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplAccountCompressionProgramId=n.getSplAccountCompressionProgram=n.createSplAccountCompressionProgram=n.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID=void 0;const e=p8;n.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID="cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK";function t(){return{name:"splAccountCompression",publicKey:n.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplAccountCompressionErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplAccountCompressionErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplAccountCompressionProgram=t;function r(i,o){return i.programs.get("splAccountCompression",o)}n.getSplAccountCompressionProgram=r;function s(i,o){return i.programs.getPublicKey("splAccountCompression",n.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,o)}n.getSplAccountCompressionProgramId=s})(z$e);var $$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplNoopProgramId=n.getSplNoopProgram=n.createSplNoopProgram=n.SPL_NOOP_PROGRAM_ID=void 0;const e=p8;n.SPL_NOOP_PROGRAM_ID="noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV";function t(){return{name:"splNoop",publicKey:n.SPL_NOOP_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplNoopErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplNoopErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplNoopProgram=t;function r(i,o){return i.programs.get("splNoop",o)}n.getSplNoopProgram=r;function s(i,o){return i.programs.getPublicKey("splNoop",n.SPL_NOOP_PROGRAM_ID,o)}n.getSplNoopProgramId=s})($$e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(M$e,n),t(z$e,n),t($$e,n)})(C$e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Wc,n),t(p8,n),t(hBe,n),t(C$e,n),t(Ts,n),t(za,n)})(ly);Object.defineProperty(E5,"__esModule",{value:!0});E5.createTree=void 0;const hBt=Gve,gBt=Z,P1e=ly,mBt=gg,yBt=async(n,e)=>{const t=e.merkleTreeSize??(0,mBt.getMerkleTreeSize)(e.maxDepth,e.maxBufferSize,e.canopyDepth),r=await n.rpc.getRent(t);return(0,gBt.transactionBuilder)().add((0,hBt.createAccount)(n,{payer:e.payer??n.payer,newAccount:e.merkleTree,lamports:r,space:t,programId:n.programs.getPublicKey("splAccountCompression",P1e.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID)})).add((0,P1e.createTreeConfig)(n,{...e,merkleTree:e.merkleTree.publicKey}))};E5.createTree=yBt;var gW={};Object.defineProperty(gW,"__esModule",{value:!0});gW.ReadApiError=void 0;class pBt extends Error{constructor(){super(...arguments),this.name="ReadApiError"}}gW.ReadApiError=pBt;var mW={};Object.defineProperty(mW,"__esModule",{value:!0});mW.getAssetWithProof=void 0;const Jg=Z,O9=ly,bBt=async(n,e,t)=>{var c,u,l,d,y,h,m,f,g;const[r,s]=await Promise.all([n.rpc.getAsset(e),n.rpc.getAssetProof(e)]);let{proof:i}=s;if(t!=null&&t.truncateCanopy){const b=await(0,O9.fetchMerkleTree)(n,s.tree_id),S=Math.log2(b.canopy.length+2)-1;i=s.proof.slice(0,S===0?void 0:-S)}const o=(c=(r.grouping??[]).find(b=>b.group_key==="collection"))==null?void 0:c.group_value,a={name:((l=(u=r.content)==null?void 0:u.metadata)==null?void 0:l.name)??"",symbol:((y=(d=r.content)==null?void 0:d.metadata)==null?void 0:y.symbol)??"",uri:(h=r.content)==null?void 0:h.json_uri,sellerFeeBasisPoints:(m=r.royalty)==null?void 0:m.basis_points,primarySaleHappened:(f=r.royalty)==null?void 0:f.primary_sale_happened,isMutable:r.mutable,editionNonce:(0,Jg.wrapNullable)((g=r.supply)==null?void 0:g.edition_nonce),tokenStandard:(0,Jg.some)(O9.TokenStandard.NonFungible),collection:o?(0,Jg.some)({key:(0,Jg.publicKey)(o),verified:!0}):(0,Jg.none)(),uses:(0,Jg.none)(),tokenProgramVersion:O9.TokenProgramVersion.Original,creators:r.creators};return{leafOwner:r.ownership.owner,leafDelegate:r.ownership.delegate?r.ownership.delegate:r.ownership.owner,merkleTree:s.tree_id,root:(0,Jg.publicKeyBytes)(s.root),dataHash:(0,Jg.publicKeyBytes)(r.compression.data_hash),creatorHash:(0,Jg.publicKeyBytes)(r.compression.creator_hash),nonce:r.compression.leaf_id,index:s.node_index-2**s.proof.length,proof:i,metadata:a,rpcAsset:r,rpcAssetProof:s}};mW.getAssetWithProof=bBt;var D$e={},O$e={},k8={},SBt=function(e){for(var t=new rt.Buffer(e.length),r=0,s=e.length-1;r<=s;++r,--s)t[r]=e[s],t[s]=e[r];return t},g2={exports:{}},Kn={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(K,function(){var t=t||function(r,s){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof K<"u"&&K.crypto&&(i=K.crypto),!i&&typeof j6e=="function")try{i=require("crypto")}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function S(){}return function(p){var I;return S.prototype=p,I=new S,S.prototype=null,I}}(),c={},u=c.lib={},l=u.Base=function(){return{extend:function(S){var p=a(this);return S&&p.mixIn(S),(!p.hasOwnProperty("init")||this.init===p.init)&&(p.init=function(){p.$super.init.apply(this,arguments)}),p.init.prototype=p,p.$super=this,p},create:function(){var S=this.extend();return S.init.apply(S,arguments),S},init:function(){},mixIn:function(S){for(var p in S)S.hasOwnProperty(p)&&(this[p]=S[p]);S.hasOwnProperty("toString")&&(this.toString=S.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=u.WordArray=l.extend({init:function(S,p){S=this.words=S||[],p!=s?this.sigBytes=p:this.sigBytes=S.length*4},toString:function(S){return(S||h).stringify(this)},concat:function(S){var p=this.words,I=S.words,w=this.sigBytes,A=S.sigBytes;if(this.clamp(),w%4)for(var P=0;P<A;P++){var E=I[P>>>2]>>>24-P%4*8&255;p[w+P>>>2]|=E<<24-(w+P)%4*8}else for(var M=0;M<A;M+=4)p[w+M>>>2]=I[M>>>2];return this.sigBytes+=A,this},clamp:function(){var S=this.words,p=this.sigBytes;S[p>>>2]&=4294967295<<32-p%4*8,S.length=r.ceil(p/4)},clone:function(){var S=l.clone.call(this);return S.words=this.words.slice(0),S},random:function(S){for(var p=[],I=0;I<S;I+=4)p.push(o());return new d.init(p,S)}}),y=c.enc={},h=y.Hex={stringify:function(S){for(var p=S.words,I=S.sigBytes,w=[],A=0;A<I;A++){var P=p[A>>>2]>>>24-A%4*8&255;w.push((P>>>4).toString(16)),w.push((P&15).toString(16))}return w.join("")},parse:function(S){for(var p=S.length,I=[],w=0;w<p;w+=2)I[w>>>3]|=parseInt(S.substr(w,2),16)<<24-w%8*4;return new d.init(I,p/2)}},m=y.Latin1={stringify:function(S){for(var p=S.words,I=S.sigBytes,w=[],A=0;A<I;A++){var P=p[A>>>2]>>>24-A%4*8&255;w.push(String.fromCharCode(P))}return w.join("")},parse:function(S){for(var p=S.length,I=[],w=0;w<p;w++)I[w>>>2]|=(S.charCodeAt(w)&255)<<24-w%4*8;return new d.init(I,p)}},f=y.Utf8={stringify:function(S){try{return decodeURIComponent(escape(m.stringify(S)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(S){return m.parse(unescape(encodeURIComponent(S)))}},g=u.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(S){typeof S=="string"&&(S=f.parse(S)),this._data.concat(S),this._nDataBytes+=S.sigBytes},_process:function(S){var p,I=this._data,w=I.words,A=I.sigBytes,P=this.blockSize,E=P*4,M=A/E;S?M=r.ceil(M):M=r.max((M|0)-this._minBufferSize,0);var x=M*P,R=r.min(x*4,A);if(x){for(var $=0;$<x;$+=P)this._doProcessBlock(w,$);p=w.splice(0,x),I.sigBytes-=R}return new d.init(p,R)},clone:function(){var S=l.clone.call(this);return S._data=this._data.clone(),S},_minBufferSize:0});u.Hasher=g.extend({cfg:l.extend(),init:function(S){this.cfg=this.cfg.extend(S),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(S){return this._append(S),this._process(),this},finalize:function(S){S&&this._append(S);var p=this._doFinalize();return p},blockSize:16,_createHelper:function(S){return function(p,I){return new S.init(I).finalize(p)}},_createHmacHelper:function(S){return function(p,I){return new b.HMAC.init(S,I).finalize(p)}}});var b=c.algo={};return c}(Math);return t})})(Kn);(function(n,e){(function(t,r){n.exports=r(Kn.exports)})(K,function(t){return function(r){var s=t,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,u=[],l=[];(function(){function h(b){for(var S=r.sqrt(b),p=2;p<=S;p++)if(!(b%p))return!1;return!0}function m(b){return(b-(b|0))*4294967296|0}for(var f=2,g=0;g<64;)h(f)&&(g<8&&(u[g]=m(r.pow(f,1/2))),l[g]=m(r.pow(f,1/3)),g++),f++})();var d=[],y=c.SHA256=a.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(h,m){for(var f=this._hash.words,g=f[0],b=f[1],S=f[2],p=f[3],I=f[4],w=f[5],A=f[6],P=f[7],E=0;E<64;E++){if(E<16)d[E]=h[m+E]|0;else{var M=d[E-15],x=(M<<25|M>>>7)^(M<<14|M>>>18)^M>>>3,R=d[E-2],$=(R<<15|R>>>17)^(R<<13|R>>>19)^R>>>10;d[E]=x+d[E-7]+$+d[E-16]}var z=I&w^~I&A,T=g&b^g&S^b&S,v=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),k=(I<<26|I>>>6)^(I<<21|I>>>11)^(I<<7|I>>>25),_=P+k+z+l[E]+d[E],B=v+T;P=A,A=w,w=I,I=p+_|0,p=S,S=b,b=g,g=_+B|0}f[0]=f[0]+g|0,f[1]=f[1]+b|0,f[2]=f[2]+S|0,f[3]=f[3]+p|0,f[4]=f[4]+I|0,f[5]=f[5]+w|0,f[6]=f[6]+A|0,f[7]=f[7]+P|0},_doFinalize:function(){var h=this._data,m=h.words,f=this._nDataBytes*8,g=h.sigBytes*8;return m[g>>>5]|=128<<24-g%32,m[(g+64>>>9<<4)+14]=r.floor(f/4294967296),m[(g+64>>>9<<4)+15]=f,h.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var h=a.clone.call(this);return h._hash=this._hash.clone(),h}});s.SHA256=a._createHelper(y),s.HmacSHA256=a._createHmacHelper(y)}(Math),t.SHA256})})(g2);var poe={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(K,function(){function t(o,a){var c=a?"\u2514":"\u251C";return o?c+="\u2500 ":c+="\u2500\u2500\u2510",c}function r(o,a){var c=[];for(var u in o)!o.hasOwnProperty(u)||a&&typeof o[u]=="function"||c.push(u);return c}function s(o,a,c,u,l,d,y){var h="",m=0,f,g,b=u.slice(0);if(b.push([a,c])&&u.length>0&&(u.forEach(function(p,I){I>0&&(h+=(p[1]?" ":"\u2502")+"  "),!g&&p[0]===a&&(g=!0)}),h+=t(o,c)+o,l&&(typeof a!="object"||a instanceof Date)&&(h+=": "+a),g&&(h+=" (circular ref.)"),y(h)),!g&&typeof a=="object"){var S=r(a,d);S.forEach(function(p){f=++m===S.length,s(p,a[p],f,b,l,d,y)})}}var i={};return i.asLines=function(o,a,c,u){var l=typeof c!="function"?c:!1;s(".",o,!1,[],a,l,u||c)},i.asTree=function(o,a,c){var u="";return s(".",o,!1,[],a,c,function(l){u+=l+`
`}),u},i})})(poe);var q0={},L$e={exports:{}},v8={exports:{}};(function(n,e){(function(t,r){n.exports=r(Kn.exports)})(K,function(t){return function(r){var s=t,i=s.lib,o=i.Base,a=i.WordArray,c=s.x64={};c.Word=o.extend({init:function(u,l){this.high=u,this.low=l}}),c.WordArray=o.extend({init:function(u,l){u=this.words=u||[],l!=r?this.sigBytes=l:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,l=u.length,d=[],y=0;y<l;y++){var h=u[y];d.push(h.high),d.push(h.low)}return a.create(d,this.sigBytes)},clone:function(){for(var u=o.clone.call(this),l=u.words=this.words.slice(0),d=l.length,y=0;y<d;y++)l[y]=l[y].clone();return u}})}(),t})})(v8);var K$e={exports:{}};(function(n,e){(function(t,r){n.exports=r(Kn.exports)})(K,function(t){return function(){if(typeof ArrayBuffer=="function"){var r=t,s=r.lib,i=s.WordArray,o=i.init,a=i.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var u=c.byteLength,l=[],d=0;d<u;d++)l[d>>>2]|=c[d]<<24-d%4*8;o.call(this,l,u)}else o.apply(this,arguments)};a.prototype=i}}(),t.lib.WordArray})})(K$e);var W$e={exports:{}};(function(n,e){(function(t,r){n.exports=r(Kn.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var u=c.words,l=c.sigBytes,d=[],y=0;y<l;y+=2){var h=u[y>>>2]>>>16-y%4*8&65535;d.push(String.fromCharCode(h))}return d.join("")},parse:function(c){for(var u=c.length,l=[],d=0;d<u;d++)l[d>>>1]|=c.charCodeAt(d)<<16-d%2*16;return i.create(l,u*2)}},o.Utf16LE={stringify:function(c){for(var u=c.words,l=c.sigBytes,d=[],y=0;y<l;y+=2){var h=a(u[y>>>2]>>>16-y%4*8&65535);d.push(String.fromCharCode(h))}return d.join("")},parse:function(c){for(var u=c.length,l=[],d=0;d<u;d++)l[d>>>1]|=a(c.charCodeAt(d)<<16-d%2*16);return i.create(l,u*2)}};function a(c){return c<<8&4278255360|c>>>8&16711935}}(),t.enc.Utf16})})(W$e);var H0={exports:{}};(function(n,e){(function(t,r){n.exports=r(Kn.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=r.enc;o.Base64={stringify:function(c){var u=c.words,l=c.sigBytes,d=this._map;c.clamp();for(var y=[],h=0;h<l;h+=3)for(var m=u[h>>>2]>>>24-h%4*8&255,f=u[h+1>>>2]>>>24-(h+1)%4*8&255,g=u[h+2>>>2]>>>24-(h+2)%4*8&255,b=m<<16|f<<8|g,S=0;S<4&&h+S*.75<l;S++)y.push(d.charAt(b>>>6*(3-S)&63));var p=d.charAt(64);if(p)for(;y.length%4;)y.push(p);return y.join("")},parse:function(c){var u=c.length,l=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var y=0;y<l.length;y++)d[l.charCodeAt(y)]=y}var h=l.charAt(64);if(h){var m=c.indexOf(h);m!==-1&&(u=m)}return a(c,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(c,u,l){for(var d=[],y=0,h=0;h<u;h++)if(h%4){var m=l[c.charCodeAt(h-1)]<<h%4*2,f=l[c.charCodeAt(h)]>>>6-h%4*2,g=m|f;d[y>>>2]|=g<<24-y%4*8,y++}return i.create(d,y)}}(),t.enc.Base64})})(H0);var N$e={exports:{}};(function(n,e){(function(t,r){n.exports=r(Kn.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=r.enc;o.Base64url={stringify:function(c,u){u===void 0&&(u=!0);var l=c.words,d=c.sigBytes,y=u?this._safe_map:this._map;c.clamp();for(var h=[],m=0;m<d;m+=3)for(var f=l[m>>>2]>>>24-m%4*8&255,g=l[m+1>>>2]>>>24-(m+1)%4*8&255,b=l[m+2>>>2]>>>24-(m+2)%4*8&255,S=f<<16|g<<8|b,p=0;p<4&&m+p*.75<d;p++)h.push(y.charAt(S>>>6*(3-p)&63));var I=y.charAt(64);if(I)for(;h.length%4;)h.push(I);return h.join("")},parse:function(c,u){u===void 0&&(u=!0);var l=c.length,d=u?this._safe_map:this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var h=0;h<d.length;h++)y[d.charCodeAt(h)]=h}var m=d.charAt(64);if(m){var f=c.indexOf(m);f!==-1&&(l=f)}return a(c,l,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(c,u,l){for(var d=[],y=0,h=0;h<u;h++)if(h%4){var m=l[c.charCodeAt(h-1)]<<h%4*2,f=l[c.charCodeAt(h)]>>>6-h%4*2,g=m|f;d[y>>>2]|=g<<24-y%4*8,y++}return i.create(d,y)}}(),t.enc.Base64url})})(N$e);var j0={exports:{}};(function(n,e){(function(t,r){n.exports=r(Kn.exports)})(K,function(t){return function(r){var s=t,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,u=[];(function(){for(var f=0;f<64;f++)u[f]=r.abs(r.sin(f+1))*4294967296|0})();var l=c.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(f,g){for(var b=0;b<16;b++){var S=g+b,p=f[S];f[S]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360}var I=this._hash.words,w=f[g+0],A=f[g+1],P=f[g+2],E=f[g+3],M=f[g+4],x=f[g+5],R=f[g+6],$=f[g+7],z=f[g+8],T=f[g+9],v=f[g+10],k=f[g+11],_=f[g+12],B=f[g+13],C=f[g+14],O=f[g+15],D=I[0],W=I[1],L=I[2],U=I[3];D=d(D,W,L,U,w,7,u[0]),U=d(U,D,W,L,A,12,u[1]),L=d(L,U,D,W,P,17,u[2]),W=d(W,L,U,D,E,22,u[3]),D=d(D,W,L,U,M,7,u[4]),U=d(U,D,W,L,x,12,u[5]),L=d(L,U,D,W,R,17,u[6]),W=d(W,L,U,D,$,22,u[7]),D=d(D,W,L,U,z,7,u[8]),U=d(U,D,W,L,T,12,u[9]),L=d(L,U,D,W,v,17,u[10]),W=d(W,L,U,D,k,22,u[11]),D=d(D,W,L,U,_,7,u[12]),U=d(U,D,W,L,B,12,u[13]),L=d(L,U,D,W,C,17,u[14]),W=d(W,L,U,D,O,22,u[15]),D=y(D,W,L,U,A,5,u[16]),U=y(U,D,W,L,R,9,u[17]),L=y(L,U,D,W,k,14,u[18]),W=y(W,L,U,D,w,20,u[19]),D=y(D,W,L,U,x,5,u[20]),U=y(U,D,W,L,v,9,u[21]),L=y(L,U,D,W,O,14,u[22]),W=y(W,L,U,D,M,20,u[23]),D=y(D,W,L,U,T,5,u[24]),U=y(U,D,W,L,C,9,u[25]),L=y(L,U,D,W,E,14,u[26]),W=y(W,L,U,D,z,20,u[27]),D=y(D,W,L,U,B,5,u[28]),U=y(U,D,W,L,P,9,u[29]),L=y(L,U,D,W,$,14,u[30]),W=y(W,L,U,D,_,20,u[31]),D=h(D,W,L,U,x,4,u[32]),U=h(U,D,W,L,z,11,u[33]),L=h(L,U,D,W,k,16,u[34]),W=h(W,L,U,D,C,23,u[35]),D=h(D,W,L,U,A,4,u[36]),U=h(U,D,W,L,M,11,u[37]),L=h(L,U,D,W,$,16,u[38]),W=h(W,L,U,D,v,23,u[39]),D=h(D,W,L,U,B,4,u[40]),U=h(U,D,W,L,w,11,u[41]),L=h(L,U,D,W,E,16,u[42]),W=h(W,L,U,D,R,23,u[43]),D=h(D,W,L,U,T,4,u[44]),U=h(U,D,W,L,_,11,u[45]),L=h(L,U,D,W,O,16,u[46]),W=h(W,L,U,D,P,23,u[47]),D=m(D,W,L,U,w,6,u[48]),U=m(U,D,W,L,$,10,u[49]),L=m(L,U,D,W,C,15,u[50]),W=m(W,L,U,D,x,21,u[51]),D=m(D,W,L,U,_,6,u[52]),U=m(U,D,W,L,E,10,u[53]),L=m(L,U,D,W,v,15,u[54]),W=m(W,L,U,D,A,21,u[55]),D=m(D,W,L,U,z,6,u[56]),U=m(U,D,W,L,O,10,u[57]),L=m(L,U,D,W,R,15,u[58]),W=m(W,L,U,D,B,21,u[59]),D=m(D,W,L,U,M,6,u[60]),U=m(U,D,W,L,k,10,u[61]),L=m(L,U,D,W,P,15,u[62]),W=m(W,L,U,D,T,21,u[63]),I[0]=I[0]+D|0,I[1]=I[1]+W|0,I[2]=I[2]+L|0,I[3]=I[3]+U|0},_doFinalize:function(){var f=this._data,g=f.words,b=this._nDataBytes*8,S=f.sigBytes*8;g[S>>>5]|=128<<24-S%32;var p=r.floor(b/4294967296),I=b;g[(S+64>>>9<<4)+15]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,g[(S+64>>>9<<4)+14]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,f.sigBytes=(g.length+1)*4,this._process();for(var w=this._hash,A=w.words,P=0;P<4;P++){var E=A[P];A[P]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}return w},clone:function(){var f=a.clone.call(this);return f._hash=this._hash.clone(),f}});function d(f,g,b,S,p,I,w){var A=f+(g&b|~g&S)+p+w;return(A<<I|A>>>32-I)+g}function y(f,g,b,S,p,I,w){var A=f+(g&S|b&~S)+p+w;return(A<<I|A>>>32-I)+g}function h(f,g,b,S,p,I,w){var A=f+(g^b^S)+p+w;return(A<<I|A>>>32-I)+g}function m(f,g,b,S,p,I,w){var A=f+(b^(g|~S))+p+w;return(A<<I|A>>>32-I)+g}s.MD5=a._createHelper(l),s.HmacMD5=a._createHmacHelper(l)}(Math),t.MD5})})(j0);var boe={exports:{}};(function(n,e){(function(t,r){n.exports=r(Kn.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=s.Hasher,a=r.algo,c=[],u=a.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(l,d){for(var y=this._hash.words,h=y[0],m=y[1],f=y[2],g=y[3],b=y[4],S=0;S<80;S++){if(S<16)c[S]=l[d+S]|0;else{var p=c[S-3]^c[S-8]^c[S-14]^c[S-16];c[S]=p<<1|p>>>31}var I=(h<<5|h>>>27)+b+c[S];S<20?I+=(m&f|~m&g)+1518500249:S<40?I+=(m^f^g)+1859775393:S<60?I+=(m&f|m&g|f&g)-1894007588:I+=(m^f^g)-899497514,b=g,g=f,f=m<<30|m>>>2,m=h,h=I}y[0]=y[0]+h|0,y[1]=y[1]+m|0,y[2]=y[2]+f|0,y[3]=y[3]+g|0,y[4]=y[4]+b|0},_doFinalize:function(){var l=this._data,d=l.words,y=this._nDataBytes*8,h=l.sigBytes*8;return d[h>>>5]|=128<<24-h%32,d[(h+64>>>9<<4)+14]=Math.floor(y/4294967296),d[(h+64>>>9<<4)+15]=y,l.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var l=o.clone.call(this);return l._hash=this._hash.clone(),l}});r.SHA1=o._createHelper(u),r.HmacSHA1=o._createHmacHelper(u)}(),t.SHA1})})(boe);var F$e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,g2.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=r.algo,a=o.SHA256,c=o.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=a._doFinalize.call(this);return u.sigBytes-=4,u}});r.SHA224=a._createHelper(c),r.HmacSHA224=a._createHmacHelper(c)}(),t.SHA224})})(F$e);var Soe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,v8.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.Hasher,o=r.x64,a=o.Word,c=o.WordArray,u=r.algo;function l(){return a.create.apply(a,arguments)}var d=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)],y=[];(function(){for(var m=0;m<80;m++)y[m]=l()})();var h=u.SHA512=i.extend({_doReset:function(){this._hash=new c.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(m,f){for(var g=this._hash.words,b=g[0],S=g[1],p=g[2],I=g[3],w=g[4],A=g[5],P=g[6],E=g[7],M=b.high,x=b.low,R=S.high,$=S.low,z=p.high,T=p.low,v=I.high,k=I.low,_=w.high,B=w.low,C=A.high,O=A.low,D=P.high,W=P.low,L=E.high,U=E.low,q=M,J=x,Q=R,j=$,X=z,re=T,se=v,ee=k,ne=_,_e=B,Pe=C,We=O,Ne=D,Yt=W,$t=L,_t=U,tt=0;tt<80;tt++){var Ve,qt,lr=y[tt];if(tt<16)qt=lr.high=m[f+tt*2]|0,Ve=lr.low=m[f+tt*2+1]|0;else{var ur=y[tt-15],hr=ur.high,Rr=ur.low,ms=(hr>>>1|Rr<<31)^(hr>>>8|Rr<<24)^hr>>>7,kn=(Rr>>>1|hr<<31)^(Rr>>>8|hr<<24)^(Rr>>>7|hr<<25),ys=y[tt-2],Ul=ys.high,J0=ys.low,QN=(Ul>>>19|J0<<13)^(Ul<<3|J0>>>29)^Ul>>>6,wfe=(J0>>>19|Ul<<13)^(J0<<3|Ul>>>29)^(J0>>>6|Ul<<26),Ife=y[tt-7],R6e=Ife.high,B6e=Ife.low,_fe=y[tt-16],C6e=_fe.high,Pfe=_fe.low;Ve=kn+B6e,qt=ms+R6e+(Ve>>>0<kn>>>0?1:0),Ve=Ve+wfe,qt=qt+QN+(Ve>>>0<wfe>>>0?1:0),Ve=Ve+Pfe,qt=qt+C6e+(Ve>>>0<Pfe>>>0?1:0),lr.high=qt,lr.low=Ve}var M6e=ne&Pe^~ne&Ne,Efe=_e&We^~_e&Yt,z6e=q&Q^q&X^Q&X,$6e=J&j^J&re^j&re,D6e=(q>>>28|J<<4)^(q<<30|J>>>2)^(q<<25|J>>>7),xfe=(J>>>28|q<<4)^(J<<30|q>>>2)^(J<<25|q>>>7),O6e=(ne>>>14|_e<<18)^(ne>>>18|_e<<14)^(ne<<23|_e>>>9),L6e=(_e>>>14|ne<<18)^(_e>>>18|ne<<14)^(_e<<23|ne>>>9),Tfe=d[tt],K6e=Tfe.high,Rfe=Tfe.low,al=_t+L6e,Sy=$t+O6e+(al>>>0<_t>>>0?1:0),al=al+Efe,Sy=Sy+M6e+(al>>>0<Efe>>>0?1:0),al=al+Rfe,Sy=Sy+K6e+(al>>>0<Rfe>>>0?1:0),al=al+Ve,Sy=Sy+qt+(al>>>0<Ve>>>0?1:0),Bfe=xfe+$6e,W6e=D6e+z6e+(Bfe>>>0<xfe>>>0?1:0);$t=Ne,_t=Yt,Ne=Pe,Yt=We,Pe=ne,We=_e,_e=ee+al|0,ne=se+Sy+(_e>>>0<ee>>>0?1:0)|0,se=X,ee=re,X=Q,re=j,Q=q,j=J,J=al+Bfe|0,q=Sy+W6e+(J>>>0<al>>>0?1:0)|0}x=b.low=x+J,b.high=M+q+(x>>>0<J>>>0?1:0),$=S.low=$+j,S.high=R+Q+($>>>0<j>>>0?1:0),T=p.low=T+re,p.high=z+X+(T>>>0<re>>>0?1:0),k=I.low=k+ee,I.high=v+se+(k>>>0<ee>>>0?1:0),B=w.low=B+_e,w.high=_+ne+(B>>>0<_e>>>0?1:0),O=A.low=O+We,A.high=C+Pe+(O>>>0<We>>>0?1:0),W=P.low=W+Yt,P.high=D+Ne+(W>>>0<Yt>>>0?1:0),U=E.low=U+_t,E.high=L+$t+(U>>>0<_t>>>0?1:0)},_doFinalize:function(){var m=this._data,f=m.words,g=this._nDataBytes*8,b=m.sigBytes*8;f[b>>>5]|=128<<24-b%32,f[(b+128>>>10<<5)+30]=Math.floor(g/4294967296),f[(b+128>>>10<<5)+31]=g,m.sigBytes=f.length*4,this._process();var S=this._hash.toX32();return S},clone:function(){var m=i.clone.call(this);return m._hash=this._hash.clone(),m},blockSize:1024/32});r.SHA512=i._createHelper(h),r.HmacSHA512=i._createHmacHelper(h)}(),t.SHA512})})(Soe);var U$e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,v8.exports,Soe.exports)})(K,function(t){return function(){var r=t,s=r.x64,i=s.Word,o=s.WordArray,a=r.algo,c=a.SHA512,u=a.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var l=c._doFinalize.call(this);return l.sigBytes-=16,l}});r.SHA384=c._createHelper(u),r.HmacSHA384=c._createHmacHelper(u)}(),t.SHA384})})(U$e);var V$e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,v8.exports)})(K,function(t){return function(r){var s=t,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.x64,u=c.Word,l=s.algo,d=[],y=[],h=[];(function(){for(var g=1,b=0,S=0;S<24;S++){d[g+5*b]=(S+1)*(S+2)/2%64;var p=b%5,I=(2*g+3*b)%5;g=p,b=I}for(var g=0;g<5;g++)for(var b=0;b<5;b++)y[g+5*b]=b+(2*g+3*b)%5*5;for(var w=1,A=0;A<24;A++){for(var P=0,E=0,M=0;M<7;M++){if(w&1){var x=(1<<M)-1;x<32?E^=1<<x:P^=1<<x-32}w&128?w=w<<1^113:w<<=1}h[A]=u.create(P,E)}})();var m=[];(function(){for(var g=0;g<25;g++)m[g]=u.create()})();var f=l.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],b=0;b<25;b++)g[b]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,b){for(var S=this._state,p=this.blockSize/2,I=0;I<p;I++){var w=g[b+2*I],A=g[b+2*I+1];w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360;var P=S[I];P.high^=A,P.low^=w}for(var E=0;E<24;E++){for(var M=0;M<5;M++){for(var x=0,R=0,$=0;$<5;$++){var P=S[M+5*$];x^=P.high,R^=P.low}var z=m[M];z.high=x,z.low=R}for(var M=0;M<5;M++)for(var T=m[(M+4)%5],v=m[(M+1)%5],k=v.high,_=v.low,x=T.high^(k<<1|_>>>31),R=T.low^(_<<1|k>>>31),$=0;$<5;$++){var P=S[M+5*$];P.high^=x,P.low^=R}for(var B=1;B<25;B++){var x,R,P=S[B],C=P.high,O=P.low,D=d[B];D<32?(x=C<<D|O>>>32-D,R=O<<D|C>>>32-D):(x=O<<D-32|C>>>64-D,R=C<<D-32|O>>>64-D);var W=m[y[B]];W.high=x,W.low=R}var L=m[0],U=S[0];L.high=U.high,L.low=U.low;for(var M=0;M<5;M++)for(var $=0;$<5;$++){var B=M+5*$,P=S[B],q=m[B],J=m[(M+1)%5+5*$],Q=m[(M+2)%5+5*$];P.high=q.high^~J.high&Q.high,P.low=q.low^~J.low&Q.low}var P=S[0],j=h[E];P.high^=j.high,P.low^=j.low}},_doFinalize:function(){var g=this._data,b=g.words;this._nDataBytes*8;var S=g.sigBytes*8,p=this.blockSize*32;b[S>>>5]|=1<<24-S%32,b[(r.ceil((S+1)/p)*p>>>5)-1]|=128,g.sigBytes=b.length*4,this._process();for(var I=this._state,w=this.cfg.outputLength/8,A=w/8,P=[],E=0;E<A;E++){var M=I[E],x=M.high,R=M.low;x=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,P.push(R),P.push(x)}return new o.init(P,w)},clone:function(){for(var g=a.clone.call(this),b=g._state=this._state.slice(0),S=0;S<25;S++)b[S]=b[S].clone();return g}});s.SHA3=a._createHelper(f),s.HmacSHA3=a._createHmacHelper(f)}(Math),t.SHA3})})(V$e);var q$e={exports:{}};(function(n,e){(function(t,r){n.exports=r(Kn.exports)})(K,function(t){/** @preserve
	(c) 2012 by Cdric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/return function(r){var s=t,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,u=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),y=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=o.create([0,1518500249,1859775393,2400959708,2840853838]),m=o.create([1352829926,1548603684,1836072691,2053994217,0]),f=c.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(A,P){for(var E=0;E<16;E++){var M=P+E,x=A[M];A[M]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var R=this._hash.words,$=h.words,z=m.words,T=u.words,v=l.words,k=d.words,_=y.words,B,C,O,D,W,L,U,q,J,Q;L=B=R[0],U=C=R[1],q=O=R[2],J=D=R[3],Q=W=R[4];for(var j,E=0;E<80;E+=1)j=B+A[P+T[E]]|0,E<16?j+=g(C,O,D)+$[0]:E<32?j+=b(C,O,D)+$[1]:E<48?j+=S(C,O,D)+$[2]:E<64?j+=p(C,O,D)+$[3]:j+=I(C,O,D)+$[4],j=j|0,j=w(j,k[E]),j=j+W|0,B=W,W=D,D=w(O,10),O=C,C=j,j=L+A[P+v[E]]|0,E<16?j+=I(U,q,J)+z[0]:E<32?j+=p(U,q,J)+z[1]:E<48?j+=S(U,q,J)+z[2]:E<64?j+=b(U,q,J)+z[3]:j+=g(U,q,J)+z[4],j=j|0,j=w(j,_[E]),j=j+Q|0,L=Q,Q=J,J=w(q,10),q=U,U=j;j=R[1]+O+J|0,R[1]=R[2]+D+Q|0,R[2]=R[3]+W+L|0,R[3]=R[4]+B+U|0,R[4]=R[0]+C+q|0,R[0]=j},_doFinalize:function(){var A=this._data,P=A.words,E=this._nDataBytes*8,M=A.sigBytes*8;P[M>>>5]|=128<<24-M%32,P[(M+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,A.sigBytes=(P.length+1)*4,this._process();for(var x=this._hash,R=x.words,$=0;$<5;$++){var z=R[$];R[$]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360}return x},clone:function(){var A=a.clone.call(this);return A._hash=this._hash.clone(),A}});function g(A,P,E){return A^P^E}function b(A,P,E){return A&P|~A&E}function S(A,P,E){return(A|~P)^E}function p(A,P,E){return A&E|P&~E}function I(A,P,E){return A^(P|~E)}function w(A,P){return A<<P|A>>>32-P}s.RIPEMD160=a._createHelper(f),s.HmacRIPEMD160=a._createHmacHelper(f)}(),t.RIPEMD160})})(q$e);var yW={exports:{}};(function(n,e){(function(t,r){n.exports=r(Kn.exports)})(K,function(t){(function(){var r=t,s=r.lib,i=s.Base,o=r.enc,a=o.Utf8,c=r.algo;c.HMAC=i.extend({init:function(u,l){u=this._hasher=new u.init,typeof l=="string"&&(l=a.parse(l));var d=u.blockSize,y=d*4;l.sigBytes>y&&(l=u.finalize(l)),l.clamp();for(var h=this._oKey=l.clone(),m=this._iKey=l.clone(),f=h.words,g=m.words,b=0;b<d;b++)f[b]^=1549556828,g[b]^=909522486;h.sigBytes=m.sigBytes=y,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var l=this._hasher,d=l.finalize(u);l.reset();var y=l.finalize(this._oKey.clone().concat(d));return y}})})()})})(yW);var H$e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,g2.exports,yW.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.Base,o=s.WordArray,a=r.algo,c=a.SHA256,u=a.HMAC,l=a.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,y){for(var h=this.cfg,m=u.create(h.hasher,d),f=o.create(),g=o.create([1]),b=f.words,S=g.words,p=h.keySize,I=h.iterations;b.length<p;){var w=m.update(y).finalize(g);m.reset();for(var A=w.words,P=A.length,E=w,M=1;M<I;M++){E=m.finalize(E),m.reset();for(var x=E.words,R=0;R<P;R++)A[R]^=x[R]}f.concat(w),S[0]++}return f.sigBytes=p*4,f}});r.PBKDF2=function(d,y,h){return l.create(h).compute(d,y)}}(),t.PBKDF2})})(H$e);var my={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,boe.exports,yW.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.Base,o=s.WordArray,a=r.algo,c=a.MD5,u=a.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:1}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,d){for(var y,h=this.cfg,m=h.hasher.create(),f=o.create(),g=f.words,b=h.keySize,S=h.iterations;g.length<b;){y&&m.update(y),y=m.update(l).finalize(d),m.reset();for(var p=1;p<S;p++)y=m.finalize(y),m.reset();f.concat(y)}return f.sigBytes=b*4,f}});r.EvpKDF=function(l,d,y){return u.create(y).compute(l,d)}}(),t.EvpKDF})})(my);var $a={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,my.exports)})(K,function(t){t.lib.Cipher||function(r){var s=t,i=s.lib,o=i.Base,a=i.WordArray,c=i.BufferedBlockAlgorithm,u=s.enc;u.Utf8;var l=u.Base64,d=s.algo,y=d.EvpKDF,h=i.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(x,R){return this.create(this._ENC_XFORM_MODE,x,R)},createDecryptor:function(x,R){return this.create(this._DEC_XFORM_MODE,x,R)},init:function(x,R,$){this.cfg=this.cfg.extend($),this._xformMode=x,this._key=R,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(x){return this._append(x),this._process()},finalize:function(x){x&&this._append(x);var R=this._doFinalize();return R},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function x(R){return typeof R=="string"?M:A}return function(R){return{encrypt:function($,z,T){return x(z).encrypt(R,$,z,T)},decrypt:function($,z,T){return x(z).decrypt(R,$,z,T)}}}}()});i.StreamCipher=h.extend({_doFinalize:function(){var x=this._process(!0);return x},blockSize:1});var m=s.mode={},f=i.BlockCipherMode=o.extend({createEncryptor:function(x,R){return this.Encryptor.create(x,R)},createDecryptor:function(x,R){return this.Decryptor.create(x,R)},init:function(x,R){this._cipher=x,this._iv=R}}),g=m.CBC=function(){var x=f.extend();x.Encryptor=x.extend({processBlock:function($,z){var T=this._cipher,v=T.blockSize;R.call(this,$,z,v),T.encryptBlock($,z),this._prevBlock=$.slice(z,z+v)}}),x.Decryptor=x.extend({processBlock:function($,z){var T=this._cipher,v=T.blockSize,k=$.slice(z,z+v);T.decryptBlock($,z),R.call(this,$,z,v),this._prevBlock=k}});function R($,z,T){var v,k=this._iv;k?(v=k,this._iv=r):v=this._prevBlock;for(var _=0;_<T;_++)$[z+_]^=v[_]}return x}(),b=s.pad={},S=b.Pkcs7={pad:function(x,R){for(var $=R*4,z=$-x.sigBytes%$,T=z<<24|z<<16|z<<8|z,v=[],k=0;k<z;k+=4)v.push(T);var _=a.create(v,z);x.concat(_)},unpad:function(x){var R=x.words[x.sigBytes-1>>>2]&255;x.sigBytes-=R}};i.BlockCipher=h.extend({cfg:h.cfg.extend({mode:g,padding:S}),reset:function(){var x;h.reset.call(this);var R=this.cfg,$=R.iv,z=R.mode;this._xformMode==this._ENC_XFORM_MODE?x=z.createEncryptor:(x=z.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==x?this._mode.init(this,$&&$.words):(this._mode=x.call(z,this,$&&$.words),this._mode.__creator=x)},_doProcessBlock:function(x,R){this._mode.processBlock(x,R)},_doFinalize:function(){var x,R=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(R.pad(this._data,this.blockSize),x=this._process(!0)):(x=this._process(!0),R.unpad(x)),x},blockSize:128/32});var p=i.CipherParams=o.extend({init:function(x){this.mixIn(x)},toString:function(x){return(x||this.formatter).stringify(this)}}),I=s.format={},w=I.OpenSSL={stringify:function(x){var R,$=x.ciphertext,z=x.salt;return z?R=a.create([1398893684,1701076831]).concat(z).concat($):R=$,R.toString(l)},parse:function(x){var R,$=l.parse(x),z=$.words;return z[0]==1398893684&&z[1]==1701076831&&(R=a.create(z.slice(2,4)),z.splice(0,4),$.sigBytes-=16),p.create({ciphertext:$,salt:R})}},A=i.SerializableCipher=o.extend({cfg:o.extend({format:w}),encrypt:function(x,R,$,z){z=this.cfg.extend(z);var T=x.createEncryptor($,z),v=T.finalize(R),k=T.cfg;return p.create({ciphertext:v,key:$,iv:k.iv,algorithm:x,mode:k.mode,padding:k.padding,blockSize:x.blockSize,formatter:z.format})},decrypt:function(x,R,$,z){z=this.cfg.extend(z),R=this._parse(R,z.format);var T=x.createDecryptor($,z).finalize(R.ciphertext);return T},_parse:function(x,R){return typeof x=="string"?R.parse(x,this):x}}),P=s.kdf={},E=P.OpenSSL={execute:function(x,R,$,z,T){if(z||(z=a.random(64/8)),T)var v=y.create({keySize:R+$,hasher:T}).compute(x,z);else var v=y.create({keySize:R+$}).compute(x,z);var k=a.create(v.words.slice(R),$*4);return v.sigBytes=R*4,p.create({key:v,iv:k,salt:z})}},M=i.PasswordBasedCipher=A.extend({cfg:A.cfg.extend({kdf:E}),encrypt:function(x,R,$,z){z=this.cfg.extend(z);var T=z.kdf.execute($,x.keySize,x.ivSize,z.salt,z.hasher);z.iv=T.iv;var v=A.encrypt.call(this,x,R,T.key,z);return v.mixIn(T),v},decrypt:function(x,R,$,z){z=this.cfg.extend(z),R=this._parse(R,z.format);var T=z.kdf.execute($,x.keySize,x.ivSize,R.salt,z.hasher);z.iv=T.iv;var v=A.decrypt.call(this,x,R,T.key,z);return v}})}()})})($a);var j$e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,$a.exports)})(K,function(t){return t.mode.CFB=function(){var r=t.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize;s.call(this,i,o,c,a),this._prevBlock=i.slice(o,o+c)}}),r.Decryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,u=i.slice(o,o+c);s.call(this,i,o,c,a),this._prevBlock=u}});function s(i,o,a,c){var u,l=this._iv;l?(u=l.slice(0),this._iv=void 0):u=this._prevBlock,c.encryptBlock(u,0);for(var d=0;d<a;d++)i[o+d]^=u[d]}return r}(),t.mode.CFB})})(j$e);var G$e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,$a.exports)})(K,function(t){return t.mode.CTR=function(){var r=t.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,u=this._iv,l=this._counter;u&&(l=this._counter=u.slice(0),this._iv=void 0);var d=l.slice(0);a.encryptBlock(d,0),l[c-1]=l[c-1]+1|0;for(var y=0;y<c;y++)i[o+y]^=d[y]}});return r.Decryptor=s,r}(),t.mode.CTR})})(G$e);var Y$e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,$a.exports)})(K,function(t){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return t.mode.CTRGladman=function(){var r=t.lib.BlockCipherMode.extend();function s(a){if((a>>24&255)===255){var c=a>>16&255,u=a>>8&255,l=a&255;c===255?(c=0,u===255?(u=0,l===255?l=0:++l):++u):++c,a=0,a+=c<<16,a+=u<<8,a+=l}else a+=1<<24;return a}function i(a){return(a[0]=s(a[0]))===0&&(a[1]=s(a[1])),a}var o=r.Encryptor=r.extend({processBlock:function(a,c){var u=this._cipher,l=u.blockSize,d=this._iv,y=this._counter;d&&(y=this._counter=d.slice(0),this._iv=void 0),i(y);var h=y.slice(0);u.encryptBlock(h,0);for(var m=0;m<l;m++)a[c+m]^=h[m]}});return r.Decryptor=o,r}(),t.mode.CTRGladman})})(Y$e);var Z$e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,$a.exports)})(K,function(t){return t.mode.OFB=function(){var r=t.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,u=this._iv,l=this._keystream;u&&(l=this._keystream=u.slice(0),this._iv=void 0),a.encryptBlock(l,0);for(var d=0;d<c;d++)i[o+d]^=l[d]}});return r.Decryptor=s,r}(),t.mode.OFB})})(Z$e);var J$e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,$a.exports)})(K,function(t){return t.mode.ECB=function(){var r=t.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(s,i){this._cipher.encryptBlock(s,i)}}),r.Decryptor=r.extend({processBlock:function(s,i){this._cipher.decryptBlock(s,i)}}),r}(),t.mode.ECB})})(J$e);var X$e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,$a.exports)})(K,function(t){return t.pad.AnsiX923={pad:function(r,s){var i=r.sigBytes,o=s*4,a=o-i%o,c=i+a-1;r.clamp(),r.words[c>>>2]|=a<<24-c%4*8,r.sigBytes+=a},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},t.pad.Ansix923})})(X$e);var Q$e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,$a.exports)})(K,function(t){return t.pad.Iso10126={pad:function(r,s){var i=s*4,o=i-r.sigBytes%i;r.concat(t.lib.WordArray.random(o-1)).concat(t.lib.WordArray.create([o<<24],1))},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},t.pad.Iso10126})})(Q$e);var e8e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,$a.exports)})(K,function(t){return t.pad.Iso97971={pad:function(r,s){r.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(r,s)},unpad:function(r){t.pad.ZeroPadding.unpad(r),r.sigBytes--}},t.pad.Iso97971})})(e8e);var t8e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,$a.exports)})(K,function(t){return t.pad.ZeroPadding={pad:function(r,s){var i=s*4;r.clamp(),r.sigBytes+=i-(r.sigBytes%i||i)},unpad:function(r){for(var s=r.words,i=r.sigBytes-1,i=r.sigBytes-1;i>=0;i--)if(s[i>>>2]>>>24-i%4*8&255){r.sigBytes=i+1;break}}},t.pad.ZeroPadding})})(t8e);var r8e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,$a.exports)})(K,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})})(r8e);var n8e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,$a.exports)})(K,function(t){return function(r){var s=t,i=s.lib,o=i.CipherParams,a=s.enc,c=a.Hex,u=s.format;u.Hex={stringify:function(l){return l.ciphertext.toString(c)},parse:function(l){var d=c.parse(l);return o.create({ciphertext:d})}}}(),t.format.Hex})})(n8e);var s8e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,H0.exports,j0.exports,my.exports,$a.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.BlockCipher,o=r.algo,a=[],c=[],u=[],l=[],d=[],y=[],h=[],m=[],f=[],g=[];(function(){for(var p=[],I=0;I<256;I++)I<128?p[I]=I<<1:p[I]=I<<1^283;for(var w=0,A=0,I=0;I<256;I++){var P=A^A<<1^A<<2^A<<3^A<<4;P=P>>>8^P&255^99,a[w]=P,c[P]=w;var E=p[w],M=p[E],x=p[M],R=p[P]*257^P*16843008;u[w]=R<<24|R>>>8,l[w]=R<<16|R>>>16,d[w]=R<<8|R>>>24,y[w]=R;var R=x*16843009^M*65537^E*257^w*16843008;h[P]=R<<24|R>>>8,m[P]=R<<16|R>>>16,f[P]=R<<8|R>>>24,g[P]=R,w?(w=E^p[p[p[x^E]]],A^=p[p[A]]):w=A=1}})();var b=[0,1,2,4,8,16,32,64,128,27,54],S=o.AES=i.extend({_doReset:function(){var p;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var I=this._keyPriorReset=this._key,w=I.words,A=I.sigBytes/4,P=this._nRounds=A+6,E=(P+1)*4,M=this._keySchedule=[],x=0;x<E;x++)x<A?M[x]=w[x]:(p=M[x-1],x%A?A>6&&x%A==4&&(p=a[p>>>24]<<24|a[p>>>16&255]<<16|a[p>>>8&255]<<8|a[p&255]):(p=p<<8|p>>>24,p=a[p>>>24]<<24|a[p>>>16&255]<<16|a[p>>>8&255]<<8|a[p&255],p^=b[x/A|0]<<24),M[x]=M[x-A]^p);for(var R=this._invKeySchedule=[],$=0;$<E;$++){var x=E-$;if($%4)var p=M[x];else var p=M[x-4];$<4||x<=4?R[$]=p:R[$]=h[a[p>>>24]]^m[a[p>>>16&255]]^f[a[p>>>8&255]]^g[a[p&255]]}}},encryptBlock:function(p,I){this._doCryptBlock(p,I,this._keySchedule,u,l,d,y,a)},decryptBlock:function(p,I){var w=p[I+1];p[I+1]=p[I+3],p[I+3]=w,this._doCryptBlock(p,I,this._invKeySchedule,h,m,f,g,c);var w=p[I+1];p[I+1]=p[I+3],p[I+3]=w},_doCryptBlock:function(p,I,w,A,P,E,M,x){for(var R=this._nRounds,$=p[I]^w[0],z=p[I+1]^w[1],T=p[I+2]^w[2],v=p[I+3]^w[3],k=4,_=1;_<R;_++){var B=A[$>>>24]^P[z>>>16&255]^E[T>>>8&255]^M[v&255]^w[k++],C=A[z>>>24]^P[T>>>16&255]^E[v>>>8&255]^M[$&255]^w[k++],O=A[T>>>24]^P[v>>>16&255]^E[$>>>8&255]^M[z&255]^w[k++],D=A[v>>>24]^P[$>>>16&255]^E[z>>>8&255]^M[T&255]^w[k++];$=B,z=C,T=O,v=D}var B=(x[$>>>24]<<24|x[z>>>16&255]<<16|x[T>>>8&255]<<8|x[v&255])^w[k++],C=(x[z>>>24]<<24|x[T>>>16&255]<<16|x[v>>>8&255]<<8|x[$&255])^w[k++],O=(x[T>>>24]<<24|x[v>>>16&255]<<16|x[$>>>8&255]<<8|x[z&255])^w[k++],D=(x[v>>>24]<<24|x[$>>>16&255]<<16|x[z>>>8&255]<<8|x[T&255])^w[k++];p[I]=B,p[I+1]=C,p[I+2]=O,p[I+3]=D},keySize:256/32});r.AES=i._createHelper(S)}(),t.AES})})(s8e);var i8e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,H0.exports,j0.exports,my.exports,$a.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=s.BlockCipher,a=r.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],y=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=a.DES=o.extend({_doReset:function(){for(var b=this._key,S=b.words,p=[],I=0;I<56;I++){var w=c[I]-1;p[I]=S[w>>>5]>>>31-w%32&1}for(var A=this._subKeys=[],P=0;P<16;P++){for(var E=A[P]=[],M=l[P],I=0;I<24;I++)E[I/6|0]|=p[(u[I]-1+M)%28]<<31-I%6,E[4+(I/6|0)]|=p[28+(u[I+24]-1+M)%28]<<31-I%6;E[0]=E[0]<<1|E[0]>>>31;for(var I=1;I<7;I++)E[I]=E[I]>>>(I-1)*4+3;E[7]=E[7]<<5|E[7]>>>27}for(var x=this._invSubKeys=[],I=0;I<16;I++)x[I]=A[15-I]},encryptBlock:function(b,S){this._doCryptBlock(b,S,this._subKeys)},decryptBlock:function(b,S){this._doCryptBlock(b,S,this._invSubKeys)},_doCryptBlock:function(b,S,p){this._lBlock=b[S],this._rBlock=b[S+1],m.call(this,4,252645135),m.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),m.call(this,1,1431655765);for(var I=0;I<16;I++){for(var w=p[I],A=this._lBlock,P=this._rBlock,E=0,M=0;M<8;M++)E|=d[M][((P^w[M])&y[M])>>>0];this._lBlock=P,this._rBlock=A^E}var x=this._lBlock;this._lBlock=this._rBlock,this._rBlock=x,m.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),m.call(this,16,65535),m.call(this,4,252645135),b[S]=this._lBlock,b[S+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function m(b,S){var p=(this._lBlock>>>b^this._rBlock)&S;this._rBlock^=p,this._lBlock^=p<<b}function f(b,S){var p=(this._rBlock>>>b^this._lBlock)&S;this._lBlock^=p,this._rBlock^=p<<b}r.DES=o._createHelper(h);var g=a.TripleDES=o.extend({_doReset:function(){var b=this._key,S=b.words;if(S.length!==2&&S.length!==4&&S.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var p=S.slice(0,2),I=S.length<4?S.slice(0,2):S.slice(2,4),w=S.length<6?S.slice(0,2):S.slice(4,6);this._des1=h.createEncryptor(i.create(p)),this._des2=h.createEncryptor(i.create(I)),this._des3=h.createEncryptor(i.create(w))},encryptBlock:function(b,S){this._des1.encryptBlock(b,S),this._des2.decryptBlock(b,S),this._des3.encryptBlock(b,S)},decryptBlock:function(b,S){this._des3.decryptBlock(b,S),this._des2.encryptBlock(b,S),this._des1.decryptBlock(b,S)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(g)}(),t.TripleDES})})(i8e);var o8e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,H0.exports,j0.exports,my.exports,$a.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.StreamCipher,o=r.algo,a=o.RC4=i.extend({_doReset:function(){for(var l=this._key,d=l.words,y=l.sigBytes,h=this._S=[],m=0;m<256;m++)h[m]=m;for(var m=0,f=0;m<256;m++){var g=m%y,b=d[g>>>2]>>>24-g%4*8&255;f=(f+h[m]+b)%256;var S=h[m];h[m]=h[f],h[f]=S}this._i=this._j=0},_doProcessBlock:function(l,d){l[d]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var l=this._S,d=this._i,y=this._j,h=0,m=0;m<4;m++){d=(d+1)%256,y=(y+l[d])%256;var f=l[d];l[d]=l[y],l[y]=f,h|=l[(l[d]+l[y])%256]<<24-m*8}return this._i=d,this._j=y,h}r.RC4=i._createHelper(a);var u=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var l=this.cfg.drop;l>0;l--)c.call(this)}});r.RC4Drop=i._createHelper(u)}(),t.RC4})})(o8e);var a8e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,H0.exports,j0.exports,my.exports,$a.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.StreamCipher,o=r.algo,a=[],c=[],u=[],l=o.Rabbit=i.extend({_doReset:function(){for(var y=this._key.words,h=this.cfg.iv,m=0;m<4;m++)y[m]=(y[m]<<8|y[m]>>>24)&16711935|(y[m]<<24|y[m]>>>8)&4278255360;var f=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],g=this._C=[y[2]<<16|y[2]>>>16,y[0]&4294901760|y[1]&65535,y[3]<<16|y[3]>>>16,y[1]&4294901760|y[2]&65535,y[0]<<16|y[0]>>>16,y[2]&4294901760|y[3]&65535,y[1]<<16|y[1]>>>16,y[3]&4294901760|y[0]&65535];this._b=0;for(var m=0;m<4;m++)d.call(this);for(var m=0;m<8;m++)g[m]^=f[m+4&7];if(h){var b=h.words,S=b[0],p=b[1],I=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,w=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,A=I>>>16|w&4294901760,P=w<<16|I&65535;g[0]^=I,g[1]^=A,g[2]^=w,g[3]^=P,g[4]^=I,g[5]^=A,g[6]^=w,g[7]^=P;for(var m=0;m<4;m++)d.call(this)}},_doProcessBlock:function(y,h){var m=this._X;d.call(this),a[0]=m[0]^m[5]>>>16^m[3]<<16,a[1]=m[2]^m[7]>>>16^m[5]<<16,a[2]=m[4]^m[1]>>>16^m[7]<<16,a[3]=m[6]^m[3]>>>16^m[1]<<16;for(var f=0;f<4;f++)a[f]=(a[f]<<8|a[f]>>>24)&16711935|(a[f]<<24|a[f]>>>8)&4278255360,y[h+f]^=a[f]},blockSize:128/32,ivSize:64/32});function d(){for(var y=this._X,h=this._C,m=0;m<8;m++)c[m]=h[m];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<c[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<c[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<c[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<c[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<c[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<c[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<c[6]>>>0?1:0)|0,this._b=h[7]>>>0<c[7]>>>0?1:0;for(var m=0;m<8;m++){var f=y[m]+h[m],g=f&65535,b=f>>>16,S=((g*g>>>17)+g*b>>>15)+b*b,p=((f&4294901760)*f|0)+((f&65535)*f|0);u[m]=S^p}y[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,y[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,y[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,y[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,y[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,y[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,y[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,y[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.Rabbit=i._createHelper(l)}(),t.Rabbit})})(a8e);var c8e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,H0.exports,j0.exports,my.exports,$a.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.StreamCipher,o=r.algo,a=[],c=[],u=[],l=o.RabbitLegacy=i.extend({_doReset:function(){var y=this._key.words,h=this.cfg.iv,m=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],f=this._C=[y[2]<<16|y[2]>>>16,y[0]&4294901760|y[1]&65535,y[3]<<16|y[3]>>>16,y[1]&4294901760|y[2]&65535,y[0]<<16|y[0]>>>16,y[2]&4294901760|y[3]&65535,y[1]<<16|y[1]>>>16,y[3]&4294901760|y[0]&65535];this._b=0;for(var g=0;g<4;g++)d.call(this);for(var g=0;g<8;g++)f[g]^=m[g+4&7];if(h){var b=h.words,S=b[0],p=b[1],I=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,w=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,A=I>>>16|w&4294901760,P=w<<16|I&65535;f[0]^=I,f[1]^=A,f[2]^=w,f[3]^=P,f[4]^=I,f[5]^=A,f[6]^=w,f[7]^=P;for(var g=0;g<4;g++)d.call(this)}},_doProcessBlock:function(y,h){var m=this._X;d.call(this),a[0]=m[0]^m[5]>>>16^m[3]<<16,a[1]=m[2]^m[7]>>>16^m[5]<<16,a[2]=m[4]^m[1]>>>16^m[7]<<16,a[3]=m[6]^m[3]>>>16^m[1]<<16;for(var f=0;f<4;f++)a[f]=(a[f]<<8|a[f]>>>24)&16711935|(a[f]<<24|a[f]>>>8)&4278255360,y[h+f]^=a[f]},blockSize:128/32,ivSize:64/32});function d(){for(var y=this._X,h=this._C,m=0;m<8;m++)c[m]=h[m];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<c[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<c[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<c[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<c[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<c[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<c[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<c[6]>>>0?1:0)|0,this._b=h[7]>>>0<c[7]>>>0?1:0;for(var m=0;m<8;m++){var f=y[m]+h[m],g=f&65535,b=f>>>16,S=((g*g>>>17)+g*b>>>15)+b*b,p=((f&4294901760)*f|0)+((f&65535)*f|0);u[m]=S^p}y[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,y[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,y[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,y[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,y[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,y[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,y[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,y[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.RabbitLegacy=i._createHelper(l)}(),t.RabbitLegacy})})(c8e);var u8e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,H0.exports,j0.exports,my.exports,$a.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.BlockCipher,o=r.algo;const a=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var l={pbox:[],sbox:[]};function d(g,b){let S=b>>24&255,p=b>>16&255,I=b>>8&255,w=b&255,A=g.sbox[0][S]+g.sbox[1][p];return A=A^g.sbox[2][I],A=A+g.sbox[3][w],A}function y(g,b,S){let p=b,I=S,w;for(let A=0;A<a;++A)p=p^g.pbox[A],I=d(g,p)^I,w=p,p=I,I=w;return w=p,p=I,I=w,I=I^g.pbox[a],p=p^g.pbox[a+1],{left:p,right:I}}function h(g,b,S){let p=b,I=S,w;for(let A=a+1;A>1;--A)p=p^g.pbox[A],I=d(g,p)^I,w=p,p=I,I=w;return w=p,p=I,I=w,I=I^g.pbox[1],p=p^g.pbox[0],{left:p,right:I}}function m(g,b,S){for(let P=0;P<4;P++){g.sbox[P]=[];for(let E=0;E<256;E++)g.sbox[P][E]=u[P][E]}let p=0;for(let P=0;P<a+2;P++)g.pbox[P]=c[P]^b[p],p++,p>=S&&(p=0);let I=0,w=0,A=0;for(let P=0;P<a+2;P+=2)A=y(g,I,w),I=A.left,w=A.right,g.pbox[P]=I,g.pbox[P+1]=w;for(let P=0;P<4;P++)for(let E=0;E<256;E+=2)A=y(g,I,w),I=A.left,w=A.right,g.sbox[P][E]=I,g.sbox[P][E+1]=w;return!0}var f=o.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,b=g.words,S=g.sigBytes/4;m(l,b,S)}},encryptBlock:function(g,b){var S=y(l,g[b],g[b+1]);g[b]=S.left,g[b+1]=S.right},decryptBlock:function(g,b){var S=h(l,g[b],g[b+1]);g[b]=S.left,g[b+1]=S.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=i._createHelper(f)}(),t.Blowfish})})(u8e);(function(n,e){(function(t,r,s){n.exports=r(Kn.exports,v8.exports,K$e.exports,W$e.exports,H0.exports,N$e.exports,j0.exports,boe.exports,g2.exports,F$e.exports,Soe.exports,U$e.exports,V$e.exports,q$e.exports,yW.exports,H$e.exports,my.exports,$a.exports,j$e.exports,G$e.exports,Y$e.exports,Z$e.exports,J$e.exports,X$e.exports,Q$e.exports,e8e.exports,t8e.exports,r8e.exports,n8e.exports,s8e.exports,i8e.exports,o8e.exports,a8e.exports,c8e.exports,u8e.exports)})(K,function(t){return t})})(L$e);var kBt=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(q0,"__esModule",{value:!0});q0.Base=void 0;const $c=V,L9=kBt(L$e.exports);class Xl{print(){Xl.print(this)}bufferIndexOf(e,t,r=!1){if(r)return this.binarySearch(e,t,$c.Buffer.compare);const s=(i,o)=>i.equals(o);return this.linearSearch(e,t,s)}static binarySearch(e,t,r){let s=0,i=e.length-1;for(;s<=i;){const o=Math.floor((s+i)/2),a=r(e[o],t);if(a===0){for(let c=o-1;c>=0;c--)if(r(e[c],t)!==0)return c+1;return 0}else a<0?s=o+1:i=o-1}return-1}binarySearch(e,t,r){return Xl.binarySearch(e,t,r)}static linearSearch(e,t,r){for(let s=0;s<e.length;s++)if(r(e[s],t))return s;return-1}linearSearch(e,t,r){return Xl.linearSearch(e,t,r)}static bufferify(e){if(!$c.Buffer.isBuffer(e)){if(typeof e=="object"&&e.words)return $c.Buffer.from(e.toString(L9.default.enc.Hex),"hex");if(Xl.isHexString(e))return $c.Buffer.from(e.replace(/^0x/,""),"hex");if(typeof e=="string")return $c.Buffer.from(e);if(typeof e=="bigint")return $c.Buffer.from(e.toString(16),"hex");if(e instanceof Uint8Array)return $c.Buffer.from(e.buffer);if(typeof e=="number"){let t=e.toString();return t.length%2&&(t=`0${t}`),$c.Buffer.from(t,"hex")}else if(ArrayBuffer.isView(e))return $c.Buffer.from(e.buffer,e.byteOffset,e.byteLength)}return e}bigNumberify(e){return Xl.bigNumberify(e)}static bigNumberify(e){if(typeof e=="bigint")return e;if(typeof e=="string")return e.startsWith("0x")&&Xl.isHexString(e)?BigInt("0x"+e.replace("0x","").toString()):BigInt(e);if($c.Buffer.isBuffer(e))return BigInt("0x"+e.toString("hex"));if(e instanceof Uint8Array||typeof e=="number")return BigInt(e);throw new Error("cannot bigNumberify")}static isHexString(e){return typeof e=="string"&&/^(0x)?[0-9A-Fa-f]*$/.test(e)}static print(e){console.log(e.toString())}bufferToHex(e,t=!0){return Xl.bufferToHex(e,t)}static bufferToHex(e,t=!0){return`${t?"0x":""}${(e||$c.Buffer.alloc(0)).toString("hex")}`}bufferify(e){return Xl.bufferify(e)}bufferifyFn(e){return t=>{const r=e(t);return $c.Buffer.isBuffer(r)?r:this.isHexString(r)?$c.Buffer.from(r.replace("0x",""),"hex"):typeof r=="string"?$c.Buffer.from(r):typeof r=="bigint"?$c.Buffer.from(t.toString(16),"hex"):ArrayBuffer.isView(r)?$c.Buffer.from(r.buffer,r.byteOffset,r.byteLength):$c.Buffer.from(e(L9.default.enc.Hex.parse(t.toString("hex"))).toString(L9.default.enc.Hex),"hex")}}isHexString(e){return Xl.isHexString(e)}log2(e){return e===1?0:1+this.log2(e/2|0)}zip(e,t){return e.map((r,s)=>[r,t[s]])}static hexZeroPad(e,t){return"0x"+e.replace("0x","").padStart(t,"0")}}q0.Base=Xl;q0.default=Xl;var pW=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(k8,"__esModule",{value:!0});k8.MerkleTree=void 0;const Da=V,Xg=pW(SBt),K9=pW(g2.exports),vBt=pW(poe.exports),ABt=pW(q0);class Cu extends ABt.default{constructor(e,t=K9.default,r={}){if(super(),this.duplicateOdd=!1,this.concatenator=Da.Buffer.concat,this.hashLeaves=!1,this.isBitcoinTree=!1,this.leaves=[],this.layers=[],this.sortLeaves=!1,this.sortPairs=!1,this.sort=!1,this.fillDefaultHash=null,this.complete=!1,r.complete){if(r.isBitcoinTree)throw new Error('option "complete" is incompatible with "isBitcoinTree"');if(r.duplicateOdd)throw new Error('option "complete" is incompatible with "duplicateOdd"')}if(this.isBitcoinTree=!!r.isBitcoinTree,this.hashLeaves=!!r.hashLeaves,this.sortLeaves=!!r.sortLeaves,this.sortPairs=!!r.sortPairs,this.complete=!!r.complete,r.fillDefaultHash)if(typeof r.fillDefaultHash=="function")this.fillDefaultHash=r.fillDefaultHash;else if(Da.Buffer.isBuffer(r.fillDefaultHash)||typeof r.fillDefaultHash=="string")this.fillDefaultHash=(s,i)=>r.fillDefaultHash;else throw new Error('method "fillDefaultHash" must be a function, Buffer, or string');this.sort=!!r.sort,this.sort&&(this.sortLeaves=!0,this.sortPairs=!0),this.duplicateOdd=!!r.duplicateOdd,r.concatenator&&(this.concatenator=r.concatenator),this.hashFn=this.bufferifyFn(t),this.processLeaves(e)}getOptions(){var e,t;return{complete:this.complete,isBitcoinTree:this.isBitcoinTree,hashLeaves:this.hashLeaves,sortLeaves:this.sortLeaves,sortPairs:this.sortPairs,sort:this.sort,fillDefaultHash:(t=(e=this.fillDefaultHash)===null||e===void 0?void 0:e.toString())!==null&&t!==void 0?t:null,duplicateOdd:this.duplicateOdd}}processLeaves(e){if(this.hashLeaves&&(e=e.map(this.hashFn)),this.leaves=e.map(this.bufferify),this.sortLeaves&&(this.leaves=this.leaves.sort(Da.Buffer.compare)),this.fillDefaultHash)for(let t=this.leaves.length;t<Math.pow(2,Math.ceil(Math.log2(this.leaves.length)));t++)this.leaves.push(this.bufferify(this.fillDefaultHash(t,this.hashFn)));this.createHashes(this.leaves)}createHashes(e){for(this.layers=[e];e.length>1;){const t=this.layers.length;this.layers.push([]);const r=this.complete&&t===1&&!Number.isInteger(Math.log2(e.length))?2*e.length-Math.pow(2,Math.ceil(Math.log2(e.length))):e.length;for(let s=0;s<e.length;s+=2){if(s>=r){this.layers[t].push(...e.slice(r));break}else if(s+1===e.length&&e.length%2===1){const u=e[e.length-1];let l=u;if(this.isBitcoinTree){l=this.hashFn(this.concatenator([Xg.default(u),Xg.default(u)])),l=Xg.default(this.hashFn(l)),this.layers[t].push(l);continue}else if(!this.duplicateOdd){this.layers[t].push(e[s]);continue}}const i=e[s],o=s+1===e.length?i:e[s+1];let a=null;this.isBitcoinTree?a=[Xg.default(i),Xg.default(o)]:a=[i,o],this.sortPairs&&a.sort(Da.Buffer.compare);let c=this.hashFn(this.concatenator(a));this.isBitcoinTree&&(c=Xg.default(this.hashFn(c))),this.layers[t].push(c)}e=this.layers[t]}}addLeaf(e,t=!1){t&&(e=this.hashFn(e)),this.processLeaves(this.leaves.concat(e))}addLeaves(e,t=!1){t&&(e=e.map(this.hashFn)),this.processLeaves(this.leaves.concat(e))}getLeaves(e){return Array.isArray(e)?(this.hashLeaves&&(e=e.map(this.hashFn),this.sortLeaves&&(e=e.sort(Da.Buffer.compare))),this.leaves.filter(t=>this.bufferIndexOf(e,t,this.sortLeaves)!==-1)):this.leaves}getLeaf(e){return e<0||e>this.leaves.length-1?Da.Buffer.from([]):this.leaves[e]}getLeafIndex(e){e=this.bufferify(e);const t=this.getLeaves();for(let r=0;r<t.length;r++)if(t[r].equals(e))return r;return-1}getLeafCount(){return this.leaves.length}getHexLeaves(){return this.leaves.map(e=>this.bufferToHex(e))}static marshalLeaves(e){return JSON.stringify(e.map(t=>Cu.bufferToHex(t)),null,2)}static unmarshalLeaves(e){let t=null;if(typeof e=="string")t=JSON.parse(e);else if(e instanceof Object)t=e;else throw new Error("Expected type of string or object");if(!t)return[];if(!Array.isArray(t))throw new Error("Expected JSON string to be array");return t.map(Cu.bufferify)}getLayers(){return this.layers}getHexLayers(){return this.layers.reduce((e,t)=>(Array.isArray(t)?e.push(t.map(r=>this.bufferToHex(r))):e.push(t),e),[])}getLayersFlat(){const e=this.layers.reduce((t,r)=>(Array.isArray(r)?t.unshift(...r):t.unshift(r),t),[]);return e.unshift(Da.Buffer.from([0])),e}getHexLayersFlat(){return this.getLayersFlat().map(e=>this.bufferToHex(e))}getLayerCount(){return this.getLayers().length}getRoot(){return this.layers.length===0?Da.Buffer.from([]):this.layers[this.layers.length-1][0]||Da.Buffer.from([])}getHexRoot(){return this.bufferToHex(this.getRoot())}getProof(e,t){if(typeof e>"u")throw new Error("leaf is required");e=this.bufferify(e);const r=[];if(!Number.isInteger(t)){t=-1;for(let s=0;s<this.leaves.length;s++)Da.Buffer.compare(e,this.leaves[s])===0&&(t=s)}if(t<=-1)return[];for(let s=0;s<this.layers.length;s++){const i=this.layers[s],o=t%2,a=o?t-1:this.isBitcoinTree&&t===i.length-1&&s<this.layers.length-1?t:t+1;a<i.length&&r.push({position:o?"left":"right",data:i[a]}),t=t/2|0}return r}getHexProof(e,t){return this.getProof(e,t).map(r=>this.bufferToHex(r.data))}getProofs(){const e=[],t=[];return this.getProofsDFS(this.layers.length-1,0,e,t),t}getProofsDFS(e,t,r,s){const i=t%2;if(e===-1){i||s.push([...r].reverse());return}if(t>=this.layers[e].length)return;const o=this.layers[e],a=i?t-1:t+1;let c=!1;a<o.length&&(c=!0,r.push({position:i?"left":"right",data:o[a]}));const u=t*2,l=t*2+1;this.getProofsDFS(e-1,u,r,s),this.getProofsDFS(e-1,l,r,s),c&&r.splice(r.length-1,1)}getHexProofs(){return this.getProofs().map(e=>this.bufferToHex(e.data))}getPositionalHexProof(e,t){return this.getProof(e,t).map(r=>[r.position==="left"?0:1,this.bufferToHex(r.data)])}static marshalProof(e){const t=e.map(r=>typeof r=="string"?r:Da.Buffer.isBuffer(r)?Cu.bufferToHex(r):{position:r.position,data:Cu.bufferToHex(r.data)});return JSON.stringify(t,null,2)}static unmarshalProof(e){let t=null;if(typeof e=="string")t=JSON.parse(e);else if(e instanceof Object)t=e;else throw new Error("Expected type of string or object");if(!t)return[];if(!Array.isArray(t))throw new Error("Expected JSON string to be array");return t.map(r=>{if(typeof r=="string")return Cu.bufferify(r);if(r instanceof Object)return{position:r.position,data:Cu.bufferify(r.data)};throw new Error("Expected item to be of type string or object")})}static marshalTree(e){const t=e.getHexRoot(),r=e.leaves.map(o=>Cu.bufferToHex(o)),s=e.getHexLayers(),i=e.getOptions();return JSON.stringify({options:i,root:t,layers:s,leaves:r},null,2)}static unmarshalTree(e,t=K9.default,r={}){let s=null;if(typeof e=="string")s=JSON.parse(e);else if(e instanceof Object)s=e;else throw new Error("Expected type of string or object");if(!s)throw new Error("could not parse json");return r=Object.assign({},s.options||{},r),new Cu(s.leaves,t,r)}getProofIndices(e,t){const r=Math.pow(2,t);let s=new Set;for(const u of e){let l=r+u;for(;l>1;)s.add(l^1),l=l/2|0}const i=e.map(u=>r+u),o=Array.from(s).sort((u,l)=>u-l).reverse();s=i.concat(o);const a=new Set,c=[];for(let u of s)if(!a.has(u))for(c.push(u);u>1&&(a.add(u),!!a.has(u^1));)u=u/2|0;return c.filter(u=>!e.includes(u-r))}getProofIndicesForUnevenTree(e,t){const r=Math.ceil(Math.log2(t)),s=[];for(let a=0;a<r;a++)t%2!==0&&s.push({index:a,leavesCount:t}),t=Math.ceil(t/2);const i=[];let o=e;for(let a=0;a<r;a++){let u=o.map(d=>d%2===0?d+1:d-1).filter(d=>!o.includes(d));const l=s.find(({index:d})=>d===a);l&&o.includes(l.leavesCount-1)&&(u=u.slice(0,-1)),i.push(u),o=[...new Set(o.map(d=>d%2===0?d/2:d%2===0?(d+1)/2:(d-1)/2))]}return i}getMultiProof(e,t){if(this.complete||console.warn("Warning: For correct multiProofs it's strongly recommended to set complete: true"),t||(t=e,e=this.getLayersFlat()),this.isUnevenTree()&&t.every(Number.isInteger))return this.getMultiProofForUnevenTree(t);if(!t.every(Number.isInteger)){let s=t;this.sortPairs&&(s=s.sort(Da.Buffer.compare));let i=s.map(u=>this.bufferIndexOf(this.leaves,u,this.sortLeaves)).sort((u,l)=>u===l?0:u>l?1:-1);if(!i.every(u=>u!==-1))throw new Error("Element does not exist in Merkle tree");const o=[],a=[];let c=[];for(let u=0;u<this.layers.length;u++){const l=this.layers[u];for(let d=0;d<i.length;d++){const y=i[d],h=this.getPairNode(l,y);o.push(l[y]),h&&a.push(h),c.push(y/2|0)}i=c.filter((d,y,h)=>h.indexOf(d)===y),c=[]}return a.filter(u=>!o.includes(u))}return this.getProofIndices(t,Math.log2(e.length/2|0)).map(s=>e[s])}getMultiProofForUnevenTree(e,t){t||(t=e,e=this.getLayers());let r=[],s=t;for(const i of e){const o=[];for(const c of s){if(c%2===0){const l=c+1;if(!s.includes(l)&&i[l]){o.push(i[l]);continue}}const u=c-1;if(!s.includes(u)&&i[u]){o.push(i[u]);continue}}r=r.concat(o);const a=new Set;for(const c of s){if(c%2===0){a.add(c/2);continue}if(c%2===0){a.add((c+1)/2);continue}a.add((c-1)/2)}s=Array.from(a)}return r}getHexMultiProof(e,t){return this.getMultiProof(e,t).map(r=>this.bufferToHex(r))}getProofFlags(e,t){if(!Array.isArray(e)||e.length<=0)throw new Error("Invalid Inputs!");let r;if(e.every(Number.isInteger)?r=[...e].sort((a,c)=>a===c?0:a>c?1:-1):r=e.map(a=>this.bufferIndexOf(this.leaves,a,this.sortLeaves)).sort((a,c)=>a===c?0:a>c?1:-1),!r.every(a=>a!==-1))throw new Error("Element does not exist in Merkle tree");const s=t.map(a=>this.bufferify(a)),i=[],o=[];for(let a=0;a<this.layers.length;a++){const c=this.layers[a];r=r.reduce((u,l)=>{if(!i.includes(c[l])){const y=this.getPairNode(c,l),h=s.includes(c[l])||s.includes(y);y&&o.push(!h),i.push(c[l]),i.push(y)}return u.push(l/2|0),u},[])}return o}verify(e,t,r){let s=this.bufferify(t);if(r=this.bufferify(r),!Array.isArray(e)||!t||!r)return!1;for(let i=0;i<e.length;i++){const o=e[i];let a=null,c=null;if(typeof o=="string")a=this.bufferify(o),c=!0;else if(Array.isArray(o))c=o[0]===0,a=this.bufferify(o[1]);else if(Da.Buffer.isBuffer(o))a=o,c=!0;else if(o instanceof Object)a=this.bufferify(o.data),c=o.position==="left";else throw new Error("Expected node to be of type string or object");const u=[];this.isBitcoinTree?(u.push(Xg.default(s)),u[c?"unshift":"push"](Xg.default(a)),s=this.hashFn(this.concatenator(u)),s=Xg.default(this.hashFn(s))):this.sortPairs?Da.Buffer.compare(s,a)===-1?(u.push(s,a),s=this.hashFn(this.concatenator(u))):(u.push(a,s),s=this.hashFn(this.concatenator(u))):(u.push(s),u[c?"unshift":"push"](a),s=this.hashFn(this.concatenator(u)))}return Da.Buffer.compare(s,r)===0}verifyMultiProof(e,t,r,s,i){if(this.isUnevenTree())return this.verifyMultiProofForUnevenTree(e,t,r,s,i);const a=Math.ceil(Math.log2(s));e=this.bufferify(e),r=r.map(d=>this.bufferify(d)),i=i.map(d=>this.bufferify(d));const c={};for(const[d,y]of this.zip(t,r))c[Math.pow(2,a)+d]=y;for(const[d,y]of this.zip(this.getProofIndices(t,a),i))c[d]=y;let u=Object.keys(c).map(d=>+d).sort((d,y)=>d-y);u=u.slice(0,u.length-1);let l=0;for(;l<u.length;){const d=u[l];if(d>=2&&{}.hasOwnProperty.call(c,d^1)){let y=[c[d-d%2],c[d-d%2+1]];this.sortPairs&&(y=y.sort(Da.Buffer.compare));const h=y[1]?this.hashFn(this.concatenator(y)):y[0];c[d/2|0]=h,u.push(d/2|0)}l+=1}return!t.length||{}.hasOwnProperty.call(c,1)&&c[1].equals(e)}verifyMultiProofWithFlags(e,t,r,s){e=this.bufferify(e),t=t.map(this.bufferify),r=r.map(this.bufferify);const i=t.length,o=s.length,a=[];let c=0,u=0,l=0;for(let d=0;d<o;d++){const y=s[d]?c<i?t[c++]:a[u++]:r[l++],h=c<i?t[c++]:a[u++],m=[y,h].sort(Da.Buffer.compare);a[d]=this.hashFn(this.concatenator(m))}return Da.Buffer.compare(a[o-1],e)===0}verifyMultiProofForUnevenTree(e,t,r,s,i){e=this.bufferify(e),r=r.map(a=>this.bufferify(a)),i=i.map(a=>this.bufferify(a));const o=this.calculateRootForUnevenTree(t,r,s,i);return e.equals(o)}getDepth(){return this.getLayers().length-1}getLayersAsObject(){const e=this.getLayers().map(r=>r.map(s=>this.bufferToHex(s,!1))),t=[];for(let r=0;r<e.length;r++){const s=[];for(let i=0;i<e[r].length;i++){const o={[e[r][i]]:null};if(t.length){o[e[r][i]]={};const a=t.shift(),c=Object.keys(a)[0];if(o[e[r][i]][c]=a[c],t.length){const u=t.shift(),l=Object.keys(u)[0];o[e[r][i]][l]=u[l]}}s.push(o)}t.push(...s)}return t[0]}static verify(e,t,r,s=K9.default,i={}){return new Cu([],s,i).verify(e,t,r)}static getMultiProof(e,t){return new Cu([]).getMultiProof(e,t)}resetTree(){this.leaves=[],this.layers=[]}getPairNode(e,t){const r=t%2===0?t+1:t-1;return r<e.length?e[r]:null}toTreeString(){const e=this.getLayersAsObject();return vBt.default.asTree(e,!0)}toString(){return this.toTreeString()}isUnevenTree(e){const t=(e==null?void 0:e.length)||this.getDepth();return!this.isPowOf2(t)}isPowOf2(e){return e&&!(e&e-1)}calculateRootForUnevenTree(e,t,r,s){const i=this.zip(e,t).sort(([d],[y])=>d-y),o=i.map(([d])=>d),a=this.getProofIndicesForUnevenTree(o,r);let c=0;const u=[];for(let d=0;d<a.length;d++){const y=a[d],h=c;c+=y.length,u[d]=this.zip(y,s.slice(h,c))}const l=[i];for(let d=0;d<u.length;d++){const y=u[d].concat(l[d]).sort(([g],[b])=>g-b).map(([,g])=>g),h=l[d].map(([g])=>g),m=[...new Set(h.map(g=>g%2===0?g/2:g%2===0?(g+1)/2:(g-1)/2))],f=[];for(let g=0;g<m.length;g++){const b=m[g],S=y[g*2],p=y[g*2+1],I=p?this.hashFn(this.concatenator([S,p])):S;f.push([b,I])}l.push(f)}return l[l.length-1][0][1]}}k8.MerkleTree=Cu;typeof window<"u"&&(window.MerkleTree=Cu);k8.default=Cu;var A8={},l8e=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(A8,"__esModule",{value:!0});A8.MerkleMountainRange=void 0;const uC=V,wBt=l8e(g2.exports),IBt=l8e(q0);class koe extends IBt.default{constructor(e=wBt.default,t=[],r,s,i){super(),this.root=uC.Buffer.alloc(0),this.size=0,this.width=0,this.hashes={},this.data={},t=t.map(this.bufferify),this.hashFn=this.bufferifyFn(e),this.hashLeafFn=r,this.peakBaggingFn=s,this.hashBranchFn=i;for(const o of t)this.append(o)}append(e){e=this.bufferify(e);const t=this.hashFn(e),r=this.bufferToHex(t);(!this.data[r]||this.bufferToHex(this.hashFn(this.data[r]))!==r)&&(this.data[r]=e);const s=this.hashLeaf(this.size+1,t);this.hashes[this.size+1]=s,this.width+=1;const i=this.getPeakIndexes(this.width);this.size=this.getSize(this.width);const o=[];for(let a=0;a<i.length;a++)o[a]=this._getOrCreateNode(i[a]);this.root=this.peakBagging(this.width,o)}hashLeaf(e,t){return t=this.bufferify(t),this.hashLeafFn?this.bufferify(this.hashLeafFn(e,t)):this.hashFn(uC.Buffer.concat([this.bufferify(e),t]))}hashBranch(e,t,r){return this.hashBranchFn?this.bufferify(this.hashBranchFn(e,t,r)):this.hashFn(uC.Buffer.concat([this.bufferify(e),this.bufferify(t),this.bufferify(r)]))}getPeaks(){const e=this.getPeakIndexes(this.width),t=[];for(let r=0;r<e.length;r++)t[r]=this.hashes[e[r]];return t}getLeafIndex(e){return e%2===1?this.getSize(e):this.getSize(e-1)+1}getPeakIndexes(e){const t=this.numOfPeaks(e),r=[];let s=0,i=0;for(let o=255;o>0&&!((e&1<<o-1)!==0&&(i=i+(1<<o)-1,r[s++]=i,r.length>=t));o--);if(s!==r.length)throw new Error("invalid bit calculation");return r}numOfPeaks(e){let t=e,r=0;for(;t>0;)t%2===1&&r++,t=t>>1;return r}peakBagging(e,t){const r=this.getSize(e);if(this.numOfPeaks(e)!==t.length)throw new Error("received invalid number of peaks");return e===0&&!t.length?uC.Buffer.alloc(0):this.peakBaggingFn?this.bufferify(this.peakBaggingFn(r,t)):this.hashFn(uC.Buffer.concat([this.bufferify(r),...t.map(this.bufferify)]))}getSize(e){return(e<<1)-this.numOfPeaks(e)}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.getRoot())}getNode(e){return this.hashes[e]}mountainHeight(e){let t=1;for(;1<<t<=e+t;)t++;return t-1}heightAt(e){let t=e,r=0,s=0;for(;t>r;)t-=(1<<s)-1,s=this.mountainHeight(t),r=(1<<s)-1;return s-(r-t)}isLeaf(e){return this.heightAt(e)===1}getChildren(e){const t=e-(1<<this.heightAt(e)-1),r=e-1;if(t===r)throw new Error("not a parent");return[t,r]}getMerkleProof(e){if(e>this.size)throw new Error("out of range");if(!this.isLeaf(e))throw new Error("not a leaf");const t=this.root,r=this.width,s=this.getPeakIndexes(this.width),i=[];let o=0;for(let d=0;d<s.length;d++)i[d]=this.hashes[s[d]],s[d]>=e&&o===0&&(o=s[d]);let a=0,c=0,u=this.heightAt(o);const l=[];for(;o!==e;)u--,[a,c]=this.getChildren(o),o=e<=a?a:c,l[u-1]=this.hashes[e<=a?c:a];return{root:t,width:r,peakBagging:i,siblings:l}}verify(e,t,r,s,i,o){if(s=this.bufferify(s),this.getSize(t)<r)throw new Error("index is out of range");if(!e.equals(this.peakBagging(t,i)))throw new Error("invalid root hash from the peaks");let c=0,u;const l=this.getPeakIndexes(t);for(let g=0;g<l.length;g++)if(l[g]>=r){u=i[g],c=l[g];break}if(!u)throw new Error("target not found");let d=o.length+1;const y=new Array(d);let h=0,m=0;for(;d>0&&(y[--d]=c,c!==r);)[h,m]=this.getChildren(c),c=r>h?m:h;let f;for(;d<y.length;)c=y[d],d===0?f=this.hashLeaf(c,this.hashFn(s)):c-1===y[d-1]?f=this.hashBranch(c,o[d-1],f):f=this.hashBranch(c,f,o[d-1]),d++;if(!f.equals(u))throw new Error("hashed peak is invalid");return!0}peaksToPeakMap(e,t){const r={};let s=0,i=0,o=t.length;for(let a=1;a<=32;a++)s=32-a,i=1<<a-1,(e&i)!==0?r[s]=t[--o]:r[s]=0;if(o!==0)throw new Error("invalid number of peaks");return r}peakMapToPeaks(e,t){const r=this.numOfPeaks(e),s=new Array(r);let i=0;for(let o=0;o<32;o++)t[o]!==0&&(s[i++]=t[o]);if(i!==r)throw new Error("invalid number of peaks");return s}peakUpdate(e,t,r){const s={},i=e+1;let o=this.getLeafIndex(i),a=this.hashLeaf(o,r),c=0,u=0,l=!1,d=!1,y=!1;for(let h=1;h<=32;h++)c=32-h,y?s[c]=t[c]:(u=1<<h-1,l=(e&u)!==0,d=(i&u)!==0,o++,l&&(a=this.hashBranch(o,t[c],a)),d?(l?s[c]=t[c]:s[c]=a,y=!0):s[c]=0);return s}rollUp(e,t,r,s){if(!e.equals(this.peakBagging(t,r)))throw new Error("invalid root hash from the peaks");let i=t,o=this.peaksToPeakMap(t,r);for(let a=0;a<s.length;a++)o=this.peakUpdate(i,o,s[a]),i++;return this.peakBagging(i,this.peakMapToPeaks(i,o))}_getOrCreateNode(e){if(e>this.size)throw new Error("out of range");if(!this.hashes[e]){const[t,r]=this.getChildren(e),s=this._getOrCreateNode(t),i=this._getOrCreateNode(r);this.hashes[e]=this.hashBranch(e,s,i)}return this.hashes[e]}}A8.MerkleMountainRange=koe;typeof window<"u"&&(window.MerkleMountainRange=koe);A8.default=koe;var w8={},d8e=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(w8,"__esModule",{value:!0});w8.IncrementalMerkleTree=void 0;const _Bt=d8e(q0),PBt=d8e(poe.exports);class voe extends _Bt.default{constructor(e,t){if(super(),this.hashFn=e,t.depth&&(this.depth=t.depth),t.arity&&(this.arity=t.arity),this.depth<1)throw new Error("depth must be greater than 0");if(this.arity<1)throw new Error("arity must be greater than 0");const r=[];let s=t.zeroValue;if(this.zeroValue=s,this.zeroes=[],this.depth)for(let i=0;i<this.depth;i++)this.zeroes.push(s),r[i]=[],s=this.hashFn(Array(this.arity).fill(s));this.nodes=r,this.root=s}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.bufferify(this.getRoot()))}insert(e){if(this.depth&&this.arity&&this.nodes[0].length>=this.getMaxLeaves())throw new Error("tree is full");let t=e,r=this.nodes[0].length;for(let s=0;s<this.depth;s+=1){const i=r%this.arity,o=r-i,a=o+this.arity,c=[];this.nodes[s][r]=t;for(let u=o;u<a;u+=1)u<this.nodes[s].length?c.push(this.nodes[s][u]):c.push(this.zeroes[s]);t=this.hashFn(c),r=Math.floor(r/this.arity)}this.root=t}delete(e){this.update(e,this.zeroValue)}update(e,t){if(e<0||e>=this.nodes[0].length)throw new Error("out of bounds");let r=t;for(let s=0;s<this.depth;s+=1){const i=e%this.arity,o=e-i,a=o+this.arity,c=[];this.nodes[s][e]=r;for(let u=o;u<a;u+=1)u<this.nodes[s].length?c.push(this.nodes[s][u]):c.push(this.zeroes[s]);r=this.hashFn(c),e=Math.floor(e/this.arity)}this.root=r}getDepth(){return this.depth}getArity(){return this.arity}getMaxLeaves(){return Math.pow(this.depth,this.arity)}indexOf(e){return this.nodes[0].indexOf(e)}getLeaves(){const e=this.copyList(this.nodes[0]),t=this.nodes[0].length;for(let r=t;r<this.getMaxLeaves();r++)e[r]=this.zeroValue;return e}copyList(e){return e.map(t=>BigInt(t))}getLayers(){const e=[];for(const t of this.nodes)e.push(this.copyList(t));if(e[0].length<this.getMaxLeaves()){let t=e[0].length;for(let r=t;r<this.getMaxLeaves();r++)e[0][r]=this.zeroValue;for(let r=0;r<this.depth;r++){const s=t%this.arity,i=t-s,o=i+this.arity;for(let a=i;a<o;a++)a>=e[r].length&&(e[r][a]=this.zeroes[r]);t=Math.floor(t/this.arity)}}return e.push([this.root]),e}getHexLayers(){return this.getLayers().reduce((e,t)=>(Array.isArray(t)?e.push(t.map(r=>this.bufferToHex(this.bufferify(r)))):e.push(t),e),[])}getLayersAsObject(){const e=this.getLayers().map(r=>r.map(s=>this.bufferToHex(this.bufferify(s),!1))),t=[];for(let r=0;r<e.length;r++){const s=[];for(let i=0;i<e[r].length;i++){const o={[e[r][i]]:null};if(t.length){o[e[r][i]]={};const a=t.shift(),c=Object.keys(a)[0];if(o[e[r][i]][c]=a[c],t.length){const u=t.shift(),l=Object.keys(u)[0];o[e[r][i]][l]=u[l]}}s.push(o)}t.push(...s)}return t[0]}computeRoot(){let e,t=this.nodes[0].length;for(let r=0;r<this.depth;r+=1){const s=t%this.arity,i=t-s,o=i+this.arity,a=[];for(let c=i;c<o;c+=1)c<this.nodes[r].length?a.push(this.nodes[r][c]):a.push(this.zeroes[r]);e=this.hashFn(a),t=Math.floor(t/this.arity)}return e}getProof(e){if(e<0||e>=this.nodes[0].length)throw new Error("The leaf does not exist in this tree");const t=[],r=[],s=e;for(let i=0;i<this.depth;i+=1){const o=e%this.arity,a=e-o,c=a+this.arity;r[i]=o,t[i]=[];for(let u=a;u<c;u+=1)u!==e&&(u<this.nodes[i].length?t[i].push(this.nodes[i][u]):t[i].push(this.zeroes[i]));e=Math.floor(e/this.arity)}return{root:this.root,leaf:this.nodes[0][s],pathIndices:r,siblings:t}}verify(e){let t=e.leaf;for(let r=0;r<e.siblings.length;r+=1){const s=e.siblings[r].slice();s.splice(e.pathIndices[r],0,t),t=this.hashFn(s)}return e.root===t}toString(){return this.toTreeString()}toTreeString(){const e=this.getLayersAsObject();return PBt.default.asTree(e,!0)}}w8.IncrementalMerkleTree=voe;typeof window<"u"&&(window.IncrementalMerkleTree=voe);w8.default=voe;var qd={};Object.defineProperty(qd,"__esModule",{value:!0});qd.MerkleSumTree=qd.ProofStep=qd.Leaf=qd.Bucket=void 0;const EBt=q0;class j4{constructor(e,t){this.size=BigInt(e),this.hashed=t,this.parent=null,this.left=null,this.right=null}}qd.Bucket=j4;class xBt{constructor(e,t,r){this.hashFn=e,this.rng=t.map(s=>BigInt(s)),this.data=r}getBucket(){let e;return this.data?e=this.hashFn(this.data):e=rt.Buffer.alloc(32),new j4(BigInt(this.rng[1])-BigInt(this.rng[0]),e)}}qd.Leaf=xBt;class f8e{constructor(e,t){this.bucket=e,this.right=t}}qd.ProofStep=f8e;class I8 extends EBt.Base{constructor(e,t){super(),this.leaves=e,this.hashFn=t,I8.checkConsecutive(e),this.buckets=[];for(const s of e)this.buckets.push(s.getBucket());let r=[];for(const s of this.buckets)r.push(s);for(;r.length!==1;){const s=[];for(;r.length;)if(r.length>=2){const i=r.shift(),o=r.shift(),a=i.size+o.size,c=this.hashFn(rt.Buffer.concat([this.sizeToBuffer(i.size),this.bufferify(i.hashed),this.sizeToBuffer(o.size),this.bufferify(o.hashed)])),u=new j4(a,c);o.parent=u,i.parent=o.parent,i.right=o,o.left=i,s.push(u)}else s.push(r.shift());r=s}this.root=r[0]}sizeToBuffer(e){const t=rt.Buffer.alloc(8);return new DataView(t.buffer).setBigInt64(0,BigInt(e),!1),t}static checkConsecutive(e){let t=BigInt(0);for(const r of e){if(r.rng[0]!==t)throw new Error("leaf ranges are invalid");t=BigInt(r.rng[1])}}getProof(e){let t=this.buckets[Number(e)];const r=[];for(;t&&t.parent;){const s=!!t.right,i=t.right?t.right:t.left;t=t.parent,r.push(new f8e(i,s))}return r}sum(e){let t=BigInt(0);for(const r of e)t+=BigInt(r);return t}verifyProof(e,t,r){const s=[this.sum(r.filter(a=>!a.right).map(a=>a.bucket.size)),BigInt(e.size)-this.sum(r.filter(a=>a.right).map(a=>a.bucket.size))];if(!(s[0]===t.rng[0]&&s[1]===t.rng[1]))return!1;let i=t.getBucket(),o;for(const a of r)a.right?o=this.hashFn(rt.Buffer.concat([this.sizeToBuffer(i.size),this.bufferify(i.hashed),this.sizeToBuffer(a.bucket.size),this.bufferify(a.bucket.hashed)])):o=this.hashFn(rt.Buffer.concat([this.sizeToBuffer(a.bucket.size),this.bufferify(a.bucket.hashed),this.sizeToBuffer(i.size),this.bufferify(i.hashed)])),i=new j4(BigInt(i.size)+BigInt(a.bucket.size),o);return i.size===e.size&&i.hashed.toString("hex")===e.hashed.toString("hex")}}qd.MerkleSumTree=I8;typeof window<"u"&&(window.MerkleSumTree=I8);qd.default=I8;(function(n){var e=K&&K.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(n,"__esModule",{value:!0}),n.MerkleTree=void 0;const t=e(k8);n.MerkleTree=t.default;var r=A8;Object.defineProperty(n,"MerkleMountainRange",{enumerable:!0,get:function(){return r.MerkleMountainRange}});var s=w8;Object.defineProperty(n,"IncrementalMerkleTree",{enumerable:!0,get:function(){return s.IncrementalMerkleTree}});var i=qd;Object.defineProperty(n,"MerkleSumTree",{enumerable:!0,get:function(){return i.MerkleSumTree}}),n.default=t.default})(O$e);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMerkleProofAtIndex=n.getMerkleProof=n.getMerkleRoot=void 0;const e=Z,t=H2e,r=O$e,s=(c,u)=>new r.MerkleTree([...c.map(l=>(0,e.publicKeyBytes)(l)),...Array(2**u-c.length).fill(0).map(()=>new Uint8Array(32).fill(0))],t.keccak_256),i=(c,u)=>(0,e.publicKey)(s(c,u).getRoot());n.getMerkleRoot=i;const o=(c,u,l,d)=>s(c,u).getProof(rt.Buffer.from((0,e.publicKeyBytes)(l)),d).map(y=>(0,e.publicKey)(y.data));n.getMerkleProof=o;const a=(c,u,l)=>(0,n.getMerkleProof)(c,u,c[l],l);n.getMerkleProofAtIndex=a})(D$e);var bW={},h8e={},_8={},P8={};Object.defineProperty(P8,"__esModule",{value:!0});P8.DasApiError=void 0;class TBt extends Error{constructor(){super(...arguments),this.name="DasApiError"}}P8.DasApiError=TBt;Object.defineProperty(_8,"__esModule",{value:!0});_8.createDasApiDecorator=void 0;const Gl=P8,RBt=n=>({...n,getAsset:async e=>{const t=await n.call("getAsset",[e]);if(!t)throw new Gl.DasApiError(`Asset not found: ${e}`);return t},getAssetProof:async e=>{const t=await n.call("getAssetProof",[e]);if(!t)throw new Gl.DasApiError(`No proof found for asset: ${e}`);return t},getAssetsByAuthority:async e=>{if(typeof e.page=="number"&&(e.before||e.after))throw new Gl.DasApiError("Pagination Error. Please use either page or before/after, but not both.");const t=await n.call("getAssetsByAuthority",[e.authority,e.sortBy??null,e.limit??null,e.page??1,e.before??null,e.after??null]);if(!t)throw new Gl.DasApiError(`No assets found for authority: ${e.authority}`);return t},getAssetsByCreator:async e=>{if(typeof e.page=="number"&&(e.before||e.after))throw new Gl.DasApiError("Pagination Error. Please use either page or before/after, but not both.");const t=await n.call("getAssetsByCreator",[e.creator,e.onlyVerified,e.sortBy??null,e.limit??null,e.page??1,e.before??null,e.after??null]);if(!t)throw new Gl.DasApiError(`No assets found for creator: ${e.creator}`);return t},getAssetsByGroup:async e=>{if(typeof e.page=="number"&&(e.before||e.after))throw new Gl.DasApiError("Pagination Error. Please use either page or before/after, but not both.");const t=await n.call("getAssetsByGroup",[e.groupKey,e.groupValue,e.sortBy??null,e.limit??null,e.page??1,e.before??null,e.after??null]);if(!t)throw new Gl.DasApiError(`No assets found for group: ${e.groupKey} => ${e.groupValue}`);return t},getAssetsByOwner:async e=>{if(typeof e.page=="number"&&(e.before||e.after))throw new Gl.DasApiError("Pagination Error. Please use either page or before/after, but not both.");const t=await n.call("getAssetsByOwner",[e.owner,e.sortBy??null,e.limit??null,e.page??1,e.before??null,e.after??null]);if(!t)throw new Gl.DasApiError(`No assets found for owner: ${e.owner}`);return t},searchAssets:async e=>{if(typeof e.page=="number"&&(e.before||e.after))throw new Gl.DasApiError("Pagination Error. Please use either page or before/after, but not both.");const t=await n.call("searchAssets",[e.negate??null,e.conditionType??null,e.interface??null,e.owner??null,e.ownerType??null,e.creator??null,e.creatorVerified??null,e.authority??null,e.grouping??null,e.delegate??null,e.frozen??null,e.supply??null,e.supplyMint??null,e.compressed??null,e.compressible??null,e.royaltyModel??null,e.royaltyTarget??null,e.royaltyAmount??null,e.burnt??null,e.sortBy??null,e.limit??null,e.page??1,e.before??null,e.after??null,e.jsonUri??null]);if(!t)throw new Gl.DasApiError("No assets found for the given search criteria");return t}});_8.createDasApiDecorator=RBt;var SW={};Object.defineProperty(SW,"__esModule",{value:!0});SW.dasApi=void 0;const BBt=_8,CBt=()=>({install(n){n.rpc=(0,BBt.createDasApiDecorator)(n.rpc)}});SW.dasApi=CBt;var g8e={};Object.defineProperty(g8e,"__esModule",{value:!0});(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(_8,n),t(P8,n),t(SW,n),t(g8e,n)})(h8e);Object.defineProperty(bW,"__esModule",{value:!0});bW.mplBubblegum=void 0;const MBt=h8e,W9=ly,zBt=()=>({install(n){n.use((0,MBt.dasApi)()),n.programs.add((0,W9.createMplBubblegumProgram)(),!1),n.programs.add((0,W9.createSplAccountCompressionProgram)(),!1),n.programs.add((0,W9.createSplNoopProgram)(),!1)}});bW.mplBubblegum=zBt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(E5,n),t(gW,n),t(ly,n),t(mW,n),t(Cl,n),t(gg,n),t(Qm,n),t(D$e,n),t(bW,n)})(Kee);var gu={},E8={},Mv={};Object.defineProperty(Mv,"__esModule",{value:!0});var $Bt=di;function DBt(n){return n.toBase58()}function OBt(n){return new $Bt.PublicKey(n)}Mv.fromWeb3JsPublicKey=DBt;Mv.toWeb3JsPublicKey=OBt;Object.defineProperty(E8,"__esModule",{value:!0});var LBt=di,KBt=V,G4=Mv;function WBt(n){return{keys:n.keys.map(e=>({...e,pubkey:G4.fromWeb3JsPublicKey(e.pubkey)})),programId:G4.fromWeb3JsPublicKey(n.programId),data:new Uint8Array(n.data)}}function NBt(n){return new LBt.TransactionInstruction({keys:n.keys.map(e=>({...e,pubkey:G4.toWeb3JsPublicKey(e.pubkey)})),programId:G4.toWeb3JsPublicKey(n.programId),data:KBt.Buffer.from(n.data)})}E8.fromWeb3JsInstruction=WBt;E8.toWeb3JsInstruction=NBt;var kW={};Object.defineProperty(kW,"__esModule",{value:!0});var FBt=Z,UBt=di,VBt=Mv;function qBt(n){return{publicKey:VBt.fromWeb3JsPublicKey(n.publicKey),secretKey:n.secretKey}}function HBt(n){return new UBt.Keypair({publicKey:FBt.publicKeyBytes(n.publicKey),secretKey:n.secretKey})}kW.fromWeb3JsKeypair=qBt;kW.toWeb3JsKeypair=HBt;var m2={},y2={};Object.defineProperty(y2,"__esModule",{value:!0});var jBt=Z,xM=di,E1e=E8,Fm=Mv;function GBt(n){return{version:n.version,header:n.header,accounts:n.staticAccountKeys.map(Fm.fromWeb3JsPublicKey),blockhash:n.recentBlockhash,instructions:n.compiledInstructions.map(e=>({programIndex:e.programIdIndex,accountIndexes:e.accountKeyIndexes,data:new Uint8Array(e.data)})),addressLookupTables:n.addressTableLookups.map(e=>({publicKey:Fm.fromWeb3JsPublicKey(e.accountKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))}}function YBt(n){return n.version==="legacy"?new xM.Message({header:n.header,accountKeys:n.accounts.map(Fm.toWeb3JsPublicKey),recentBlockhash:n.blockhash,instructions:n.instructions.map(e=>({programIdIndex:e.programIndex,accounts:e.accountIndexes,data:jBt.base58.deserialize(e.data)[0]}))}):new xM.MessageV0({header:n.header,staticAccountKeys:n.accounts.map(Fm.toWeb3JsPublicKey),recentBlockhash:n.blockhash,compiledInstructions:n.instructions.map(e=>({programIdIndex:e.programIndex,accountKeyIndexes:e.accountIndexes,data:e.data})),addressTableLookups:n.addressLookupTables.map(e=>({accountKey:Fm.toWeb3JsPublicKey(e.publicKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))})}function ZBt(n){var e;return n.version==="legacy"?xM.Message.compile({payerKey:Fm.toWeb3JsPublicKey(n.payer),instructions:n.instructions.map(E1e.toWeb3JsInstruction),recentBlockhash:n.blockhash}):xM.MessageV0.compile({payerKey:Fm.toWeb3JsPublicKey(n.payer),instructions:n.instructions.map(E1e.toWeb3JsInstruction),recentBlockhash:n.blockhash,addressLookupTableAccounts:(e=n.addressLookupTables)==null?void 0:e.map(t=>new xM.AddressLookupTableAccount({key:Fm.toWeb3JsPublicKey(t.publicKey),state:{addresses:t.addresses.map(Fm.toWeb3JsPublicKey),authority:void 0,deactivationSlot:BigInt(`0x${"ff".repeat(8)}`),lastExtendedSlot:0,lastExtendedSlotStartIndex:0}}))})}y2.fromWeb3JsMessage=GBt;y2.toWeb3JsMessage=YBt;y2.toWeb3JsMessageFromInput=ZBt;Object.defineProperty(m2,"__esModule",{value:!0});var JBt=Z,Aoe=di,woe=y2;function XBt(n){return{message:woe.fromWeb3JsMessage(n.message),serializedMessage:n.message.serialize(),signatures:n.signatures}}function m8e(n){return new Aoe.VersionedTransaction(woe.toWeb3JsMessage(n.message),n.signatures)}function QBt(n){const e=n.compileMessage(),t=n.signatures.reduce((s,i)=>(s[i.publicKey.toBase58()]=i.signature?new Uint8Array(i.signature):null,s),{}),r=[];for(let s=0;s<e.header.numRequiredSignatures;s+=1){const i=e.accountKeys[s].toBase58(),o=t[i]??null;r.push(o??new Uint8Array(Aoe.SIGNATURE_LENGTH_IN_BYTES))}return{message:woe.fromWeb3JsMessage(e),serializedMessage:e.serialize(),signatures:r}}function eCt(n){const e=m8e({...n,message:{...n.message,version:"legacy"}});return Aoe.Transaction.populate(e.message,e.signatures.map(t=>JBt.base58.deserialize(t)[0]))}m2.fromWeb3JsLegacyTransaction=QBt;m2.fromWeb3JsTransaction=XBt;m2.toWeb3JsLegacyTransaction=eCt;m2.toWeb3JsTransaction=m8e;Object.defineProperty(gu,"__esModule",{value:!0});var y8e=E8,p8e=kW,b8e=Mv,vW=m2,Ioe=y2;gu.fromWeb3JsInstruction=y8e.fromWeb3JsInstruction;gu.toWeb3JsInstruction=y8e.toWeb3JsInstruction;gu.fromWeb3JsKeypair=p8e.fromWeb3JsKeypair;gu.toWeb3JsKeypair=p8e.toWeb3JsKeypair;gu.fromWeb3JsPublicKey=b8e.fromWeb3JsPublicKey;gu.toWeb3JsPublicKey=b8e.toWeb3JsPublicKey;gu.fromWeb3JsLegacyTransaction=vW.fromWeb3JsLegacyTransaction;gu.fromWeb3JsTransaction=vW.fromWeb3JsTransaction;gu.toWeb3JsLegacyTransaction=vW.toWeb3JsLegacyTransaction;gu.toWeb3JsTransaction=vW.toWeb3JsTransaction;gu.fromWeb3JsMessage=Ioe.fromWeb3JsMessage;gu.toWeb3JsMessage=Ioe.toWeb3JsMessage;gu.toWeb3JsMessageFromInput=Ioe.toWeb3JsMessageFromInput;var AW={},wW={};(function(n){var e=K&&K.__decorate||function(y,h,m,f){var g=arguments.length,b=g<3?h:f===null?f=Object.getOwnPropertyDescriptor(h,m):f,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(y,h,m,f);else for(var p=y.length-1;p>=0;p--)(S=y[p])&&(b=(g<3?S(b):g>3?S(h,m,b):S(h,m))||b);return g>3&&b&&Object.defineProperty(h,m,b),b},t=K&&K.__metadata||function(y,h){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(y,h)},r=K&&K.__awaiter||function(y,h,m,f){function g(b){return b instanceof m?b:new m(function(S){S(b)})}return new(m||(m=Promise))(function(b,S){function p(A){try{w(f.next(A))}catch(P){S(P)}}function I(A){try{w(f.throw(A))}catch(P){S(P)}}function w(A){A.done?b(A.value):g(A.value).then(p,I)}w((f=f.apply(y,h||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.StarbasePlayer=n.starbasePlayerDataEquals=n.STAR_BASE_PLAYER_MIN_DATA_SIZE=void 0;const i=Nl,o=di,a=W6,c=fr,u=Ll;n.STAR_BASE_PLAYER_MIN_DATA_SIZE=8+1+32+32+32+32+1+4+4+8+8+4+4;function l(y,h){return y.version===h.version&&y.playerProfile.equals(h.playerProfile)&&y.gameId.equals(h.gameId)&&y.starbase.equals(h.starbase)&&y.sagePlayerProfile.equals(h.sagePlayerProfile)&&y.bump===h.bump&&y.shipEscrowCount==h.shipEscrowCount&&y.updatedShipEscrowCount==h.updatedShipEscrowCount&&y.updateId.eq(h.updateId)&&y.oldTotalCrew==h.oldTotalCrew&&y.newTotalCrew==h.newTotalCrew&&y.busyCrew.eq(h.busyCrew)}n.starbasePlayerDataEquals=l;let d=s=class{constructor(h,m,f){this._data=h,this._key=m,this._wrappedShipEscrows=f}get data(){return this._data}get key(){return this._key}get wrappedShipEscrows(){return this._wrappedShipEscrows||[]}totalCrew(h=u.CREW_FEATURE){return h?this.data.newTotalCrew:this.data.oldTotalCrew}static findAddress(h,m,f,g){const b=new ArrayBuffer(2),S=new DataView(b);S.setUint16(0,g,!0);const p=new Uint8Array(S.buffer);return o.PublicKey.findProgramAddressSync([rt.Buffer.from("starbase_player"),m.toBuffer(),f.toBuffer(),p],h.programId)}static registerStarbasePlayer(h,m,f,g,b,S,p){return I=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.registerStarbasePlayer().accountsStrict({profileFaction:m,funder:I.publicKey(),gameAccounts:{gameId:b,gameState:S},sagePlayerProfile:f,starbase:g,starbasePlayer:this.findAddress(h,g,f,p)[0],systemProgram:o.SystemProgram.programId}).instruction(),signers:[I]}]})}static syncStarbasePlayer(h,m,f,g,b){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.syncStarbasePlayer().accountsStrict({starbaseAndStarbasePlayer:{starbase:f,starbasePlayer:m},gameAccounts:{gameId:g,gameState:b}}).instruction(),signers:[]}]})}static createCargoPod(h,m,f,g,b,S,p,I,w,A,P){const E=a.CargoPod.findAddress(m,rt.Buffer.from(P.podSeeds))[0];return M=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.createCargoPod(P).accountsStrict({funder:M.publicKey(),starbaseAndStarbasePlayer:{starbase:p,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:b,profileFaction:S,gameId:w},gameState:A},cargoPod:E,cargoStatsDefinition:I,cargoProgram:m.programId,systemProgram:o.SystemProgram.programId}).instruction(),signers:[g,M]}]})}static depositCargoToGame(h,m,f,g,b,S,p,I,w,A,P,E,M,x,R){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.depositCargoToGame(R).accountsStrict({starbaseAndStarbasePlayer:{starbase:p,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:b,profileFaction:S,gameId:M},gameState:x},cargoPod:I,cargoType:w,cargoStatsDefinition:A,tokenFrom:P,tokenTo:E,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[g]}]})}static withdrawCargoFromGame(h,m,f,g,b,S,p,I,w,A,P,E,M,x,R,$,z){return T=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.withdrawCargoFromGame(z).accountsStrict({fundsTo:b==="funder"?T.publicKey():b,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:S,profileFaction:p,gameId:R},gameState:$},cargoPod:w,cargoType:A,cargoStatsDefinition:P,tokenFrom:E,tokenTo:M,tokenMint:x,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[g]}]})}static transferCargoAtStarbase(h,m,f,g,b,S,p,I,w,A,P,E,M,x,R,$,z,T){return v=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.transferCargoAtStarbase(T).accountsStrict({fundsTo:b==="funder"?v.publicKey():b,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:S,profileFaction:p,gameId:$},gameState:z},cargoPodFrom:w,cargoPodTo:A,cargoType:P,cargoStatsDefinition:E,tokenFrom:M,tokenTo:x,tokenMint:R,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[g]}]})}static closeStarbaseCargoTokenAccount(h,m,f,g,b,S,p,I,w,A,P,E,M,x,R,$){return z=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.closeStarbaseCargoTokenAccount($).accountsStrict({fundsTo:b==="funder"?z.publicKey():b,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:S,profileFaction:p,gameId:x},gameState:R},cargoPod:w,cargoType:A,cargoStatsDefinition:P,token:E,tokenMint:M,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[g]}]})}static removeCargoPod(h,m,f,g,b,S,p,I,w,A,P,E){return M=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.removeCargoPod(E).accountsStrict({fundsTo:p==="funder"?M.publicKey():p,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:b,profileFaction:S,gameId:A},gameState:P},cargoPod:w,cargoProgram:m.programId,systemProgram:o.SystemProgram.programId}).instruction(),signers:[g]}]})}static mintCertificate(h,m,f,g,b,S,p,I,w,A,P,E,M,x,R,$,z,T){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.mintCertificate(T.keyIndex,T.amount).accountsStrict({starbaseAndStarbasePlayer:{starbase:p,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:b,profileFaction:S,gameId:$},gameState:z},certificateTokenTo:P,certificateMint:E,cargoTokenFrom:M,cargoTokenTo:x,cargoMint:R,cargoPod:I,cargoType:w,cargoStatsDefinition:A,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID,token2022Program:i.TOKEN_2022_PROGRAM_ID}).instruction(),signers:[g]}]})}static redeemCertificate(h,m,f,g,b,S,p,I,w,A,P,E,M,x,R,$,z,T,v,k){return _=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.redeemCertificate(k.keyIndex,k.amount).accountsStrict({certificateOwnerAuthority:M.publicKey(),fundsTo:p==="funder"?_.publicKey():p,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:b,profileFaction:S,gameId:T},gameState:v},certificateTokenFrom:E,certificateMint:x,cargoTokenFrom:R,cargoTokenTo:$,cargoMint:z,cargoPod:w,cargoType:A,cargoStatsDefinition:P,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID,token2022Program:i.TOKEN_2022_PROGRAM_ID}).instruction(),signers:[g,M]}]})}static decodeData(h,m){return(0,c.decodeAccountWithRemaining)(h,m,s,(g,b)=>Array(b.shipEscrowCount).fill(0).map((S,p)=>m.coder.types.decode("WrappedShipEscrow",g.subarray(48*p).subarray(0,48))))}};n.StarbasePlayer=d,d.ACCOUNT_NAME="starbasePlayer",d.MIN_DATA_SIZE=n.STAR_BASE_PLAYER_MIN_DATA_SIZE,n.StarbasePlayer=d=s=e([(0,c.staticImplements)(),t("design:paramtypes",[Object,o.PublicKey,Array])],d)})(wW);(function(n){var e=K&&K.__awaiter||function(w,A,P,E){function M(x){return x instanceof P?x:new P(function(R){R(x)})}return new(P||(P=Promise))(function(x,R){function $(v){try{T(E.next(v))}catch(k){R(k)}}function z(v){try{T(E.throw(v))}catch(k){R(k)}}function T(v){v.done?x(v.value):M(v.value).then($,z)}T((E=E.apply(w,A||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.divideIntoParts=n.normalizePublicKey=n.findExtraAccountMetaListAddress=n.findCertificateMintAddress=n.cleanUpStarbaseCargoPods=n.getPodCleanupInstructions=n.getCleanPodsByStarbasePlayerAccounts=n.cleanCargoPodsByStarbasePlayer=n.getCargoPodsByAuthority=n.getStarbasePlayersByProfile=n.getTokenAmountToReachTargetStat=n.getCargoSpaceUsedByTokenAmount=n.getUsedCargoSpace=n.SAGE_CARGO_STAT_VALUE_INDEX=void 0;const t=Nl,r=di,s=Kc,i=W6,o=fr,a=wW;n.SAGE_CARGO_STAT_VALUE_INDEX=0;const c=w=>w.stats[n.SAGE_CARGO_STAT_VALUE_INDEX];n.getUsedCargoSpace=c;const u=(w,A)=>A.mul(w.stats[n.SAGE_CARGO_STAT_VALUE_INDEX]);n.getCargoSpaceUsedByTokenAmount=u;const l=(w,A)=>{const P=w.stats[n.SAGE_CARGO_STAT_VALUE_INDEX];return P.gt(new s.BN(0))?A.div(P):A};n.getTokenAmountToReachTargetStat=l;const d=(w,A,P,E)=>e(void 0,void 0,void 0,function*(){return yield(0,o.readAllFromRPC)(w,A,a.StarbasePlayer,"processed",[{memcmp:{offset:8+1,bytes:P.toBase58()}},{memcmp:{offset:8+1+32,bytes:E.toBase58()}}])});n.getStarbasePlayersByProfile=d;const y=(w,A,P)=>e(void 0,void 0,void 0,function*(){return yield(0,o.readAllFromRPC)(w,A,i.CargoPod,"processed",[{memcmp:{offset:8+1+32,bytes:P.toBase58()}}])});n.getCargoPodsByAuthority=y;const h=(w,A,P,E,M,x,R,$,z,T,v,k)=>e(void 0,void 0,void 0,function*(){const _=[],B=[],C=yield(0,n.getCargoPodsByAuthority)(w,P,E);if(C.length>1){let O=C.map(W=>{if(W.type==="error")throw new Error("Error reading CargoPod account");return W.data});const D=O.reduce(function(W,L){return W.data.openTokenAccounts>L.data.openTokenAccounts?W:L});O=O.filter(W=>!W.key.equals(D.key));for(let W=0;W<O.length;W++){const L=O[W],U=yield(0,o.getParsedTokenAccountsByOwner)(w,L.key);if(U.length>0)for(let q=0;q<U.length;q++){const J=U[q],Q=i.CargoType.findAddress(P,$,J.mint,L.data.seqId)[0];if(Number(J.delegatedAmount)>0){const j=(0,o.createAssociatedTokenAccountIdempotent)(J.mint,D.key,!0,t.TOKEN_PROGRAM_ID),X=j.address.toBase58();B.includes(X)||(B.push(X),_.push(j.instructions));const re=a.StarbasePlayer.transferCargoAtStarbase(A,P,E,v,"funder",x,R,M,L.key,D.key,Q,$,J.address,j.address,J.mint,z,T,{amount:new s.BN(J.delegatedAmount.toString()),keyIndex:k});_.push(re)}else{const j=a.StarbasePlayer.closeStarbaseCargoTokenAccount(A,P,E,v,"funder",x,R,M,L.key,Q,$,J.address,J.mint,z,T,{keyIndex:k});_.push(j)}}_.push(a.StarbasePlayer.removeCargoPod(A,P,E,v,x,R,"funder",M,L.key,z,T,{keyIndex:k}))}}return _});n.cleanCargoPodsByStarbasePlayer=h;const m=(w,A,P)=>e(void 0,void 0,void 0,function*(){const E=yield(0,n.getCargoPodsByAuthority)(w,A,P);if(E.length>1){let M=E.map($=>{if($.type==="error")throw new Error("Error reading CargoPod account");return $.data});const x=M.reduce(function($,z){return $.data.openTokenAccounts>z.data.openTokenAccounts?$:z});M=M.filter($=>!$.key.equals(x.key));const R=[];for(let $=0;$<M.length;$++){const z=M[$],T=yield(0,o.getParsedTokenAccountsByOwner)(w,z.key),v=[z.key,T];R.push(v)}return{mainPod:x.key,podsAndTokensToClean:R,cargoSeqId:x.data.seqId}}});n.getCleanPodsByStarbasePlayerAccounts=m;const f=(w,A,P,E,M,x,R,$,z,T,v,k)=>{const _=[],B=[];if(w.podsAndTokensToClean.length>1)for(let C=0;C<w.podsAndTokensToClean.length;C++){const O=w.podsAndTokensToClean[C],D=O[0],W=O[1];if(W.length>0)for(let L=0;L<W.length;L++){const U=W[L],q=i.CargoType.findAddress(P,$,U.mint,w.cargoSeqId)[0];if(Number(U.delegatedAmount)>0){const J=(0,o.createAssociatedTokenAccountIdempotent)(U.mint,w.mainPod,!0,t.TOKEN_PROGRAM_ID),Q=J.address.toBase58();B.includes(Q)||(B.push(Q),_.push(J.instructions));const j=a.StarbasePlayer.transferCargoAtStarbase(A,P,E,v,"funder",x,R,M,D,w.mainPod,q,$,U.address,J.address,U.mint,z,T,{amount:new s.BN(U.delegatedAmount.toString()),keyIndex:k});_.push(j)}else{const J=a.StarbasePlayer.closeStarbaseCargoTokenAccount(A,P,E,v,"funder",x,R,M,D,q,$,U.address,U.mint,z,T,{keyIndex:k});_.push(J)}}_.push(a.StarbasePlayer.removeCargoPod(A,P,E,v,x,R,"funder",M,D,z,T,{keyIndex:k}))}return _};n.getPodCleanupInstructions=f;const g=(w,A,P,E,M,x,R,$,z,T)=>e(void 0,void 0,void 0,function*(){const v=[],k=yield(0,n.getStarbasePlayersByProfile)(w,A,E,R);if(k.length>0)for(let _=0;_<k.length;_++){const B=k[_];if(!B||B.type==="error")throw new Error("Error reading StarbasePlayer account");const C=yield(0,n.getCleanPodsByStarbasePlayerAccounts)(w,P,B.key),O=C?(0,n.getPodCleanupInstructions)(C,A,P,B.key,B.data.data.starbase,E,M,x,R,$,z,T):[];O.length>0&&v.push(...O)}else console.log("No StarbasePlayer accounts");return v});n.cleanUpStarbaseCargoPods=g;const b=(w,A,P,E)=>{const M=new ArrayBuffer(2),x=new DataView(M);x.setUint16(0,E,!0);const R=new Uint8Array(x.buffer);return r.PublicKey.findProgramAddressSync([rt.Buffer.from("CertificateMint"),P.toBuffer(),A.toBuffer(),R],w.programId)};n.findCertificateMintAddress=b;const S=(w,A)=>r.PublicKey.findProgramAddressSync([rt.Buffer.from("extra-account-metas"),A.toBuffer()],w);n.findExtraAccountMetaListAddress=S;const p=w=>Array.isArray(w)?new r.PublicKey(w):w;n.normalizePublicKey=p;function I(w,A){const P=Math.floor(w/A),E=w%A,M=Array(A).fill(P);for(let x=0;x<E;x++)M[x]+=1;return M}n.divideIntoParts=I})(AW);var tCt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},rCt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},x1=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},QG;Object.defineProperty(md,"__esModule",{value:!0});md.SagePlayerProfile=md.crewTransferRemainingAccounts=md.crewTransferIxData=md.sppDataEquals=void 0;const eS=Kee,nCt=gu,N9=Nl,Pm=di,S8e=fr,x1e=Ll,eY=AW;function sCt(n,e){return n.version===e.version&&n.playerProfile.equals(e.playerProfile)&&n.gameId.equals(e.gameId)&&n.bump===e.bump}md.sppDataEquals=sCt;function tY(n){const e=(0,eY.normalizePublicKey)(n.dataHash).toBytes();return{dataHash:Array.from(e),leafIndex:n.leafIndex,proofCount:n.proof.length}}md.crewTransferIxData=tY;function rY(n){const e=Pm.PublicKey.findProgramAddressSync([n.merkleTree.toBuffer()],(0,nCt.toWeb3JsPublicKey)(eS.MPL_BUBBLEGUM_PROGRAM_ID))[0],t=[{pubkey:n.merkleTree,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:(0,eY.normalizePublicKey)(n.root),isSigner:!1,isWritable:!1},{pubkey:(0,eY.normalizePublicKey)(n.creatorHash),isSigner:!1,isWritable:!1}];for(const r of n.proof)t.push({pubkey:r,isSigner:!1,isWritable:!1});return t}md.crewTransferRemainingAccounts=rY;let Zz=QG=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return Pm.PublicKey.findProgramAddressSync([rt.Buffer.from("sage_player_profile"),t.toBuffer(),r.toBuffer()],e.programId)}static registerSagePlayerProfile(e,t,r,s){return i=>x1(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerSagePlayerProfile().accountsStrict({profile:t,funder:i.publicKey(),sagePlayerProfile:this.findAddress(e,t,r)[0],gameAccounts:{gameId:r,gameState:s},systemProgram:Pm.SystemProgram.programId}).instruction(),signers:[i]}]})}static addShipEscrow(e,t,r,s,i,o,a,c,u,l,d,y,h){return m=>x1(this,void 0,void 0,function*(){return[{instruction:yield e.methods.addShipEscrow(h).accountsStrict({funder:m.publicKey(),sagePlayerProfile:s,originTokenAccount:o,ship:a,shipEscrowTokenAccount:c,starbaseAndStarbasePlayer:{starbase:l,starbasePlayer:u},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:i.publicKey(),profile:t,profileFaction:r,gameId:d},gameState:y},tokenProgram:N9.TOKEN_PROGRAM_ID,systemProgram:Pm.SystemProgram.programId}).instruction(),signers:[i,m]}]})}static updateShipEscrow(e,t,r,s,i,o,a,c){return()=>x1(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateShipEscrow(c).accountsStrict({oldShip:t,next:r,starbaseAndStarbasePlayer:{starbase:i,starbasePlayer:s},gameAccounts:{gameId:o,gameState:a}}).instruction(),signers:[]}]})}static removeShipEscrow(e,t,r,s,i,o,a,c,u,l,d,y,h){return m=>x1(this,void 0,void 0,function*(){return[{instruction:yield e.methods.removeShipEscrow(h).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:t.publicKey(),profile:r,profileFaction:s,gameId:d},gameState:y},fundsTo:m.publicKey(),sagePlayerProfile:i,destinationTokenAccount:o,ship:a,shipEscrowTokenAccount:c,starbaseAndStarbasePlayer:{starbase:l,starbasePlayer:u},tokenProgram:N9.TOKEN_PROGRAM_ID,systemProgram:Pm.SystemProgram.programId}).instruction(),signers:[t]}]})}static removeInvalidShipEscrow(e,t,r,s,i,o,a,c,u,l,d,y,h){return m=>x1(this,void 0,void 0,function*(){return[{instruction:yield e.methods.removeInvalidShipEscrow(h).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:t.publicKey(),profile:r,profileFaction:s,gameId:d},gameState:y},fundsTo:m.publicKey(),sagePlayerProfile:i,destinationTokenAccount:o,ship:a,shipEscrowTokenAccount:c,starbaseAndStarbasePlayer:{starbase:l,starbasePlayer:u},tokenProgram:N9.TOKEN_PROGRAM_ID,systemProgram:Pm.SystemProgram.programId}).instruction(),signers:[t]}]})}static addCrewToGame(e,t,r,s,i,o,a,c,u,l){const d=u.items.map(rY).flat();return()=>x1(this,void 0,void 0,function*(){return[{instruction:yield e.methods.addCrewToGame({items:u.items.map(tY)}).accountsStrict({sagePlayerProfile:this.findAddress(e,t,c)[0],starbaseAndStarbasePlayer:{starbase:o,starbasePlayer:i},sageCrewConfig:x1e.SageCrewConfig.findAddress(e,c)[0],gameAndProfileAndFaction:{key:s.publicKey(),profile:t,profileFaction:r,gameId:c},crewConfig:a,crewOwner:s.publicKey(),crewDelegate:l??s.publicKey(),compressionProgram:eS.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,bubblegumProgram:eS.MPL_BUBBLEGUM_PROGRAM_ID,logWrapper:eS.SPL_NOOP_PROGRAM_ID,systemProgram:Pm.SystemProgram.programId}).remainingAccounts(d).instruction(),signers:[s]}]})}static removeCrewFromGame(e,t,r,s,i,o,a,c,u,l,d){if(l.items.length===0)throw new Error("No crew members being removed!");const y=l.items.map(rY).flat(),h=this.findAddress(e,r,u)[0];return()=>x1(this,void 0,void 0,function*(){return[{instruction:yield e.methods.removeCrewFromGame({keyIndex:l.keyIndex,items:l.items.map(tY)}).accountsStrict({sagePlayerProfile:h,starbaseAndStarbasePlayer:{starbase:a,starbasePlayer:o},sageCrewConfig:x1e.SageCrewConfig.findAddress(e,u)[0],gameAndProfileAndFaction:{key:t.publicKey(),profile:r,profileFaction:s,gameId:u},crewConfig:c,newCrewOwner:i,crewDelegate:d??h,compressionProgram:eS.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,bubblegumProgram:eS.MPL_BUBBLEGUM_PROGRAM_ID,logWrapper:eS.SPL_NOOP_PROGRAM_ID,systemProgram:Pm.SystemProgram.programId}).remainingAccounts(y).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,S8e.decodeAccount)(e,t,QG)}};md.SagePlayerProfile=Zz;Zz.ACCOUNT_NAME="sagePlayerProfile";Zz.MIN_DATA_SIZE=8+1+32+32+1;md.SagePlayerProfile=Zz=QG=tCt([(0,S8e.staticImplements)(),rCt("design:paramtypes",[Object,Pm.PublicKey])],Zz);var Wh={},iCt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},oCt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},T1e=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},nY;Object.defineProperty(Wh,"__esModule",{value:!0});Wh.Star=Wh.starDataEquals=Wh.StarType=void 0;const k8e=di,Vp=fr;var R1e;(function(n){n[n.WhiteDwarf=0]="WhiteDwarf",n[n.RedDwarf=1]="RedDwarf",n[n.Solar=2]="Solar",n[n.HotBlue=3]="HotBlue",n[n.RedGiant=4]="RedGiant"})(R1e||(Wh.StarType=R1e={}));function aCt(n,e){return n.version===e.version&&(0,Vp.arrayDeepEquals)(n.sector,e.sector,(t,r)=>t.eq(r))&&n.gameId.equals(e.gameId)&&n.size.eq(e.size)&&(0,Vp.arrayDeepEquals)(n.name,e.name,(t,r)=>t===r)&&(0,Vp.arrayDeepEquals)(n.subCoordinates,e.subCoordinates,(t,r)=>t.eq(r))&&n.starType===e.starType}Wh.starDataEquals=aCt;let Jz=nY=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}get prettyName(){return(0,Vp.byteArrayToString)(this.data.name)}static registerStar(e){const{program:t,key:r,profile:s,star:i,sector:o,gameId:a,input:c}=e;return u=>T1e(this,void 0,void 0,function*(){return[{instruction:yield t.methods.registerStar(Object.assign(Object.assign({},c),{name:(0,Vp.stringToByteArray)(c.name,64),starType:c.starType})).accountsStrict({gameAndProfile:{key:r.publicKey(),profile:s,gameId:a},funder:u.publicKey(),star:i.publicKey(),sector:o,systemProgram:k8e.SystemProgram.programId}).instruction(),signers:[r,u,i]}]})}static updateStar(e){const{profile:t,key:r,program:s,star:i,gameId:o,input:a}=e;return()=>T1e(this,void 0,void 0,function*(){return[{instruction:yield s.methods.updateStar({keyIndex:a.keyIndex,name:a.name==null?null:(0,Vp.stringToByteArray)(a.name,64),size:a.size==null?null:a.size,starType:a.starType==null?null:a.starType}).accountsStrict({gameAndProfile:{key:r.publicKey(),profile:t,gameId:o},star:i}).instruction(),signers:[r]}]})}static decodeData(e,t){return(0,Vp.decodeAccount)(e,t,nY)}};Wh.Star=Jz;Jz.ACCOUNT_NAME="star";Jz.MIN_DATA_SIZE=8+1+64+32+8*2+8*2+1+8;Wh.Star=Jz=nY=iCt([(0,Vp.staticImplements)(),oCt("design:paramtypes",[Object,k8e.PublicKey])],Jz);var _oe={};(function(n){var e=K&&K.__decorate||function(M,x,R,$){var z=arguments.length,T=z<3?x:$===null?$=Object.getOwnPropertyDescriptor(x,R):$,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(M,x,R,$);else for(var k=M.length-1;k>=0;k--)(v=M[k])&&(T=(z<3?v(T):z>3?v(x,R,T):v(x,R))||T);return z>3&&T&&Object.defineProperty(x,R,T),T},t=K&&K.__metadata||function(M,x){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(M,x)},r=K&&K.__awaiter||function(M,x,R,$){function z(T){return T instanceof R?T:new R(function(v){v(T)})}return new(R||(R=Promise))(function(T,v){function k(C){try{B($.next(C))}catch(O){v(O)}}function _(C){try{B($.throw(C))}catch(O){v(O)}}function B(C){C.done?T(C.value):z(C.value).then(k,_)}B(($=$.apply(M,x||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.Starbase=n.calculateCurrentResourceTimeStop=n.calculateCurrentResourceTimeSlow=n.calculateResourceExhaustionTime=n.starbaseDataEquals=n.MIN_CSS_LEVEL=n.UpkeepResourceType=n.StarbaseUpgradeState=n.StarbaseState=n.StarbaseFaction=void 0;const i=Nl,o=di,a=Kc,c=WX,u=fr,l=mZ,d=Yd,y=K6,h=sl,m=AW;var f;(function(M){M[M.Unaligned=0]="Unaligned",M[M.MUD=1]="MUD",M[M.ONI=2]="ONI",M[M.Ustur=3]="Ustur"})(f||(n.StarbaseFaction=f={}));var g;(function(M){M[M.Active=1]="Active",M[M.Destroyed=2]="Destroyed"})(g||(n.StarbaseState=g={}));var b;(function(M){M[M.NotStarted=1]="NotStarted",M[M.Started=2]="Started",M[M.Completed=3]="Completed"})(b||(n.StarbaseUpgradeState=b={}));var S;(function(M){M[M.Ammo=1]="Ammo",M[M.Food=2]="Food",M[M.Toolkit=3]="Toolkit"})(S||(n.UpkeepResourceType=S={})),n.MIN_CSS_LEVEL=6;function p(M,x,R){const $=M.version===x.version&&M.gameId.equals(x.gameId)&&(0,u.arrayDeepEquals)(M.sector,x.sector,(z,T)=>z.eq(T))&&M.craftingFacility.equals(x.craftingFacility)&&M.upgradeFacility.equals(x.upgradeFacility)&&(0,u.arrayDeepEquals)(M.name,x.name,(z,T)=>z===T)&&(0,u.arrayDeepEquals)(M.subCoordinates,x.subCoordinates,(z,T)=>z.eq(T))&&M.faction===x.faction&&M.bump===x.bump&&M.seqId===x.seqId&&M.state===x.state&&M.upgradeState===x.upgradeState&&M.level===x.level&&M.hp.eq(x.hp)&&M.sp.eq(x.sp)&&M.sectorRingAvailable===x.sectorRingAvailable&&(0,u.arrayDeepEquals)(M.upgradeIngredientsChecksum,x.upgradeIngredientsChecksum,(z,T)=>z===T)&&M.numUpgradeIngredients===x.numUpgradeIngredients&&M.upkeepAmmoBalance.eq(x.upkeepAmmoBalance)&&M.upkeepAmmoLastUpdate.eq(x.upkeepAmmoLastUpdate)&&M.upkeepAmmoGlobalLastUpdate.eq(x.upkeepAmmoGlobalLastUpdate)&&M.upkeepFoodBalance.eq(x.upkeepFoodBalance)&&M.upkeepFoodLastUpdate.eq(x.upkeepFoodLastUpdate)&&M.upkeepFoodGlobalLastUpdate.eq(x.upkeepFoodGlobalLastUpdate)&&M.upkeepToolkitBalance.eq(x.upkeepToolkitBalance)&&M.upkeepToolkitLastUpdate.eq(x.upkeepToolkitLastUpdate)&&M.upkeepToolkitGlobalLastUpdate.eq(x.upkeepToolkitGlobalLastUpdate)&&M.builtDestroyedTimestamp.eq(x.builtDestroyedTimestamp);return!$&&R==="printOnFalse"&&(console.log(`data1: ${JSON.stringify(M,null,2)}`),console.log(`data2: ${JSON.stringify(x,null,2)}`)),$}n.starbaseDataEquals=p;const I=(M,x,R)=>R>0?M.add(x.div(new a.BN(R))):M;n.calculateResourceExhaustionTime=I;const w=(M,x,R,$,z,T)=>{const{globalElapsedTime:v,adjustedLocalElapsedTime:k,maxElapsedTime:_,finalBalance:B}=P(M,x,R,$,z),C=a.BN.min(k,_),O=C.eq(_)?v.mul(new a.BN(100)).sub(C.mul(new a.BN(100))).mul(new a.BN(l.EMPTY_CRAFTING_SPEED_PER_TIER[T]*100)).div(new a.BN(100)):new a.BN(0);return{localTime:x.mul(new a.BN(100)).add(k.mul(new a.BN(100))).add(O).toNumber()/100,newBalance:B.toNumber()}};n.calculateCurrentResourceTimeSlow=w;const A=(M,x,R,$,z)=>{const{adjustedLocalElapsedTime:T,finalBalance:v}=P(M,x,R,$,z);return{localTime:x.add(T),newBalance:v}};n.calculateCurrentResourceTimeStop=A;const P=(M,x,R,$,z)=>{const T=M.gt(R)?M.sub(R):new a.BN(0),v=z>0?$.div(new a.BN(z)):new a.BN(0),k=a.BN.min(v,T),B=x.add(k).gt(M)?M.sub(x):k,C=B.mul(new a.BN(z)),O=$.sub(C),D=O.lt(new a.BN(0))?new a.BN(0):O;return{globalElapsedTime:T,adjustedLocalElapsedTime:B,maxElapsedTime:v,finalBalance:D}};let E=s=class{constructor(x,R,$){this._data=x,this._key=R,this._upgradeIngredientAmounts=$}get data(){return this._data}get key(){return this._key}get upgradeIngredientAmounts(){return this._upgradeIngredientAmounts||[]}isCentralSpaceStation(){return this.data.level>=n.MIN_CSS_LEVEL}getUpkeepInfo(x){const R=x.data.fleet.upkeep;let $;switch(this.data.level){case 0:$=R.level0;break;case 1:$=R.level1;break;case 2:$=R.level2;break;case 3:$=R.level3;break;case 4:$=R.level4;break;case 5:$=R.level5;break;case 6:$=R.level6;break;default:throw"Invalid Starbase level."}return $}getStarbaseTime(x,R,$){const z=this.getUpkeepInfo($);let T,v,k,_,B;switch(x){case S.Ammo:T=z.ammoReserve,v=z.ammoDepletionRate,k=this.data.upkeepAmmoBalance,_=this.data.upkeepAmmoLastUpdate,B=this.data.upkeepAmmoGlobalLastUpdate;break;case S.Food:T=z.foodReserve,v=z.foodDepletionRate,k=this.data.upkeepFoodBalance,_=this.data.upkeepFoodLastUpdate,B=this.data.upkeepFoodGlobalLastUpdate;break;case S.Toolkit:T=z.toolkitReserve,v=z.toolkitDepletionRate,k=this.data.upkeepToolkitBalance,_=this.data.upkeepToolkitLastUpdate,B=this.data.upkeepToolkitGlobalLastUpdate;break;default:throw"Invalid resource type."}return v=v/y.GLOBAL_SCALE_DECIMALS_2,T.eq(new a.BN(0))?R:new a.BN((0,n.calculateCurrentResourceTimeSlow)(R,_,B,k,v,this.data.level).localTime)}static findAddress(x,R,$){return o.PublicKey.findProgramAddressSync([rt.Buffer.from("Starbase"),R.toBuffer(),$[0].toTwos(64).toArrayLike(rt.Buffer,"le",8),$[1].toTwos(64).toArrayLike(rt.Buffer,"le",8)],x.programId)}static registerStarbase(x,R,$,z,T,v,k){return _=>r(this,void 0,void 0,function*(){return[{instruction:yield x.methods.registerStarbase(k).accountsStrict({funder:_.publicKey(),starbase:this.findAddress(x,T,k.sectorCoordinates)[0],sector:z,gameStateAndProfile:{gameAndProfile:{key:R.publicKey(),profile:$,gameId:T},gameState:v},systemProgram:o.SystemProgram.programId}).instruction(),signers:[R,_]}]})}static updateStarbase(x,R,$,z,T,v,k,_,B){const C=[];return[k,_,B].forEach(O=>O&&C.push({pubkey:O,isSigner:!1,isWritable:!1})),O=>r(this,void 0,void 0,function*(){var D,W;return[{instruction:yield x.methods.updateStarbase({name:(D=v.name)!==null&&D!==void 0?D:null,subCoordinates:(W=v.subCoordinates)!==null&&W!==void 0?W:null,keyIndex:v.keyIndex}).accountsStrict({gameAndProfile:{key:$.publicKey(),profile:z,gameId:T},funder:O.publicKey(),starbase:R,systemProgram:o.SystemProgram.programId}).remainingAccounts(C).instruction(),signers:[$,O]}]})}static createStarbaseUpgradeResourceProcess(x,R,$,z,T,v,k,_,B,C,O,D,W){const L=c.CraftingProcess.findAddress(R,C,O,W.craftingId),U=d.CraftingInstance.findAddress(x,v,L[0]);return{craftingProcessKey:L,craftingInstanceKey:U,instructions:q=>r(this,void 0,void 0,function*(){return[{instruction:yield x.methods.createStarbaseUpgradeResourceProcess(W).accountsStrict({funder:q.publicKey(),starbaseAndStarbasePlayer:{starbase:k,starbasePlayer:v},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:_,key:$.publicKey(),profile:z,profileFaction:T},gameState:B},craftingInstance:U[0],craftingProcess:L[0],upgradeFacility:C,craftingRecipe:O,craftingDomain:D,craftingProgram:R.programId,systemProgram:o.SystemProgram.programId}).instruction(),signers:[$,q]}]})}}static depositStarbaseUpgradeResourceIngredient(x,R,$,z,T,v,k,_,B,C,O,D,W,L,U,q,J,Q,j,X){return d.CraftingInstance.depositCraftingIngredient(x,R,$,z,T,v,k,_,B,C,O,D,W,L,U,q,J,Q,j,X)}static withdrawStarbaseUpgradeResourceIngredient(x,R,$,z,T,v,k,_,B,C,O,D,W,L,U,q,J,Q,j,X,re){return d.CraftingInstance.withdrawCraftingIngredient(x,R,$,z,T,v,k,_,B,C,O,D,W,L,U,q,J,Q,j,X,re)}static startStarbaseUpgradeCraftingProcess(x,R,$,z,T,v,k,_,B,C,O,D,W,L,U,q,J,Q){return d.CraftingInstance.startCraftingProcess(x,R,$,z,T,v,k,_,B,C,O,D,W,L,U,q,J,Q)}static cancelStarbaseUpgradeCraftingProcess(x,R,$,z,T,v,k,_,B,C,O,D,W,L){return d.CraftingInstance.cancelCraftingProcess(x,R,$,z,T,v,k,_,B,C,O,D,W,L)}static stopStarbaseUpgradeCraftingProcess(x,R,$,z,T,v,k,_,B,C,O,D,W,L){return d.CraftingInstance.stopCraftingProcess(x,R,$,z,T,v,k,_,B,C,O,D,W,L)}static submitStarbaseUpgradeResource(x,R,$,z,T,v,k,_,B,C,O,D,W,L,U,q,J,Q,j,X,re,se,ee,ne,_e,Pe,We,Ne,Yt,$t){const _t=[T],tt=[];let Ve=!1;const qt=(0,u.isAsyncSigner)(We),lr=qt?We.publicKey():We;return tt.push({pubkey:lr,isSigner:qt,isWritable:!0},{pubkey:Ne,isSigner:!1,isWritable:!0},{pubkey:Yt.programId,isSigner:!1,isWritable:!1}),qt&&(_t.push(We),tt.push({pubkey:o.SystemProgram.programId,isSigner:!1,isWritable:!1})),Ve=qt,ur=>r(this,void 0,void 0,function*(){return[{instruction:yield x.methods.submitStarbaseUpgradeResource($t).accountsStrict({fundsTo:_==="funder"?ur.publicKey():_,starbaseAndStarbasePlayer:{starbase:C,starbasePlayer:B},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:O,key:T.publicKey(),profile:v,profileFaction:k},gameState:D},resourceCraftingInstance:d.CraftingInstance.findAddress(x,B,W)[0],resourceCraftingProcess:W,resourceCraftingFacility:L,upgradeProcessRecipe:U,starbaseUpgradeRecipe:q,resourceRecipe:J,cargoPodTo:Q,cargoType:j,cargoStatsDefinition:X,tokenFrom:re,tokenTo:se,tokenMint:ee,loyaltyPointsAccounts:{userPointsAccount:ne,pointsCategory:_e,pointsModifierAccount:Pe},progressionConfig:h.ProgressionConfig.findAddress(x,O)[0],pointsProgram:z.programId,craftingProgram:$.programId,cargoProgram:R.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).remainingAccounts([...tt,...Ve?[{pubkey:ur.publicKey(),isSigner:!0,isWritable:!0}]:[]]).instruction(),signers:[..._t,...Ve?[ur]:[]]}]})}static startStarbaseUpgrade(x,R,$,z,T,v,k,_,B,C,O){return D=>r(this,void 0,void 0,function*(){return[{instruction:yield x.methods.startStarbaseUpgrade(O).accountsStrict({funder:D.publicKey(),starbaseAndStarbasePlayer:{starbase:v,starbasePlayer:T},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:k,key:R.publicKey(),profile:$,profileFaction:z},gameState:_},upgradeFacility:B,upgradeRecipe:C,systemProgram:o.SystemProgram.programId}).instruction(),signers:[R,D]}]})}static closeStarbaseUpgradeCraftingProcess(x,R,$,z,T,v,k,_,B,C,O,D,W,L,U,q,J){const Q=[];return q&&J&&Q.push({pubkey:q,isSigner:!1,isWritable:!0},{pubkey:J,isSigner:!1,isWritable:!0},{pubkey:i.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}),j=>r(this,void 0,void 0,function*(){return[{instruction:yield x.methods.closeUpgradeProcess(U).accountsStrict({fundsTo:v==="funder"?j.publicKey():v,starbaseAndStarbasePlayer:{starbase:_,starbasePlayer:k},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:W,key:$.publicKey(),profile:z,profileFaction:T},gameState:L},resourceCraftingInstance:B,resourceCraftingProcess:C,resourceRecipe:D,resourceCraftingFacility:O,craftingProgram:R.programId}).remainingAccounts(Q).instruction(),signers:[$]}]})}static completeStarbaseUpgrade(x,R,$,z,T,v,k,_,B,C,O,D,W,L,U){return q=>r(this,void 0,void 0,function*(){return[{instruction:yield x.methods.completeStarbaseUpgrade(U).accountsStrict({funder:q.publicKey(),starbaseAndStarbasePlayer:{starbase:k,starbasePlayer:v},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:_,key:$.publicKey(),profile:z,profileFaction:T},gameState:B},craftingFacility:C,upgradeFacility:O,upgradeRecipe:W,newRecipeCategory:D,craftingDomain:L,craftingProgram:R.programId,systemProgram:o.SystemProgram.programId}).instruction(),signers:[$,q]}]})}static syncStarbaseUpgradeIngredients(x,R,$,z,T,v,k,_){return B=>r(this,void 0,void 0,function*(){return[{instruction:yield x.methods.syncStarbaseUpgradeIngredients(_).accountsStrict({funder:B.publicKey(),starbase:z,gameAccountsAndProfile:{gameAndProfile:{gameId:T,key:R.publicKey(),profile:$},gameState:v},upgradeRecipe:k,systemProgram:o.SystemProgram.programId}).instruction(),signers:[R,B]}]})}static depositStarbaseUpkeepResource(x,R,$,z,T,v,k,_,B,C,O,D,W,L,U,q,J,Q,j,X,re,se,ee,ne){const _e=[z],Pe=[];let We=!1;const Ne=(0,u.isAsyncSigner)(re),Yt=Ne?re.publicKey():re;return Pe.push({pubkey:Yt,isSigner:Ne,isWritable:!0},{pubkey:se,isSigner:!1,isWritable:!0},{pubkey:ee.programId,isSigner:!1,isWritable:!1}),Ne&&(_e.push(re),Pe.push({pubkey:o.SystemProgram.programId,isSigner:!1,isWritable:!1})),We=Ne,$t=>r(this,void 0,void 0,function*(){return[{instruction:yield x.methods.depositStarbaseUpkeepResource(ne).accountsStrict({fundsTo:k==="funder"?$t.publicKey():k,starbaseAndStarbasePlayer:{starbase:B,starbasePlayer:_},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:C,key:z.publicKey(),profile:T,profileFaction:v},gameState:O},cargoPodFrom:D,cargoType:W,cargoStatsDefinition:L,resourceRecipe:U,tokenFrom:q,tokenMint:J,loyaltyPointsAccounts:{userPointsAccount:Q,pointsCategory:j,pointsModifierAccount:X},progressionConfig:h.ProgressionConfig.findAddress(x,C)[0],pointsProgram:$.programId,cargoProgram:R.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).remainingAccounts([...Pe,...We?[{pubkey:$t.publicKey(),isSigner:!0,isWritable:!0}]:[]]).instruction(),signers:[..._e,...We?[$t]:[]]}]})}static createCertificateMint(x,R,$,z,T,v,k){return _=>r(this,void 0,void 0,function*(){return[{instruction:yield x.methods.createCertificateMint().accountsStrict({funder:_.publicKey(),starbase:$,cargoMint:z,cargoType:v,certificateMint:T,gameId:k,transferHookProgram:R,transferHookExtraAccountMetaList:(0,m.findExtraAccountMetaListAddress)(R,T)[0],token2022Program:i.TOKEN_2022_PROGRAM_ID,systemProgram:o.SystemProgram.programId}).instruction(),signers:[_]}]})}static decodeData(x,R){return(0,u.decodeAccountWithRemaining)(x,R,s,($,z)=>Array(z.numUpgradeIngredients).fill(0).map((T,v)=>new a.BN($.subarray(8*v).subarray(0,8),10,"le")))}};n.Starbase=E,E.ACCOUNT_NAME="starbase",E.MIN_DATA_SIZE=8+1+32+8*2+32+32+64+8*2+1+1+2+1+1+8+8+1+1+1+16+8+8+8+8+8+8+8+8+8+8,n.Starbase=E=s=e([(0,u.staticImplements)(),t("design:paramtypes",[Object,o.PublicKey,Array])],E)})(_oe);var A0={},cCt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},uCt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},lC=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},sY;Object.defineProperty(A0,"__esModule",{value:!0});A0.SurveyDataUnitTracker=A0.surveyDataUnitTrackerDataEquals=void 0;const F9=Nl,lM=di,vE=fr,lCt=sl,dCt=(n,e)=>n.length!==e.length?!1:n.reduce((t,r,s)=>{const i=e[s];return i==null?!1:t&&(0,vE.arrayDeepEquals)(r,i,(o,a)=>o.eq(a))},!0);function fCt(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.sduMint.equals(e.sduMint)&&n.resourceMint.equals(e.resourceMint)&&n.signer.equals(e.signer)&&(0,vE.arrayDeepEquals)(n.coordinatesRange,e.coordinatesRange,(t,r)=>t.eq(r))&&n.sduMaxPerSector===e.sduMaxPerSector&&n.scanChanceRegenPeriod===e.scanChanceRegenPeriod&&dCt(n.cssCoordinates,e.cssCoordinates)&&(0,vE.arrayDeepEquals)(n.originCoordinates,e.originCoordinates,(t,r)=>t.eq(r))&&n.cssMaxDistance===e.cssMaxDistance&&n.originMaxDistance===e.originMaxDistance&&n.distanceWeighting===e.distanceWeighting&&n.tMax.eq(e.tMax)&&n.xMul===e.xMul&&n.yMul===e.yMul&&n.zMul===e.zMul}A0.surveyDataUnitTrackerDataEquals=fCt;let Xz=sY=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findSignerAddress(e,t){return lM.PublicKey.findProgramAddressSync([rt.Buffer.from("SurveyDataUnitTracker"),t.toBuffer()],e.programId)}static findSignerTokenAccountAddress(e){return(0,F9.getAssociatedTokenAddressSync)(e.sduMint,e.signer,!0)}static fundSurveyDataUnitTrackerBank(e,t,r,s){const i=this.findSignerTokenAccountAddress(e);return(0,vE.transferToTokenAccount)(t,r,i,s)}static registerSurveyDataUnitTracker(e,t,r,s,i,o,a,c){return u=>lC(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerSurveyDataUnitTracker(c).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:a},funder:u.publicKey(),surveyDataUnitTracker:s.publicKey(),sduMint:i,resourceMint:o,systemProgram:lM.SystemProgram.programId}).instruction(),signers:[t,u,s]}]})}static updateSurveyDataUnitTracker(e,t,r,s,i,o,a){var c,u,l,d,y,h,m,f,g,b,S,p;const I=a?[{pubkey:a.sduMint,isSigner:!1,isWritable:!1},{pubkey:a.resourceMint,isSigner:!1,isWritable:!1}]:[],w=Object.assign(Object.assign({},o),{coordinatesRange:(c=o.coordinatesRange)!==null&&c!==void 0?c:null,cssCoordinates:(u=o.cssCoordinates)!==null&&u!==void 0?u:null,originCoordinates:(l=o.originCoordinates)!==null&&l!==void 0?l:null,cssMaxDistance:(d=o.cssMaxDistance)!==null&&d!==void 0?d:null,originMaxDistance:(y=o.originMaxDistance)!==null&&y!==void 0?y:null,distanceWeighting:(h=o.distanceWeighting)!==null&&h!==void 0?h:null,tMax:(m=o.tMax)!==null&&m!==void 0?m:null,xMul:(f=o.xMul)!==null&&f!==void 0?f:null,yMul:(g=o.yMul)!==null&&g!==void 0?g:null,zMul:(b=o.zMul)!==null&&b!==void 0?b:null,scanChanceRegenPeriod:(S=o.scanChanceRegenPeriod)!==null&&S!==void 0?S:null,sduMaxPerSector:(p=o.sduMaxPerSector)!==null&&p!==void 0?p:null});return()=>lC(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateSurveyDataUnitTracker(w).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:i},surveyDataUnitTracker:s}).remainingAccounts(I).instruction(),signers:[t]}]})}static drainSurveyDataUnitsBank(e,t,r,s,i,o,a,c,u){return l=>lC(this,void 0,void 0,function*(){return[{instruction:yield e.methods.drainSurveyDataUnitsBank(u).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},fundsTo:s==="funder"?l.publicKey():s,surveyDataUnitTracker:i,surveyDataUnitTrackerSigner:this.findSignerAddress(e,i)[0],tokenFrom:a,tokenTo:c,tokenProgram:F9.TOKEN_PROGRAM_ID}).instruction(),signers:[t]}]})}static deregisterSurveyDataUnitTracker(e,t,r,s,i,o,a){return c=>lC(this,void 0,void 0,function*(){return[{instruction:yield e.methods.deregisterSurveyDataUnitTracker(a).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},surveyDataUnitTracker:s,fundsTo:i==="funder"?c.publicKey():i}).instruction(),signers:[t]}]})}static scanForSurveyDataUnits(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S,p,I,w,A,P,E,M,x){return()=>lC(this,void 0,void 0,function*(){return[{instruction:yield e.methods.scanForSurveyDataUnits(x).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:a,owningProfile:i,owningProfileFaction:o,key:s.publicKey()},gameId:E},gameState:M},sector:c,surveyDataUnitTracker:u,surveyDataUnitTrackerSigner:this.findSignerAddress(e,u)[0],cargoHold:l,sduCargoType:d,resourceCargoType:y,cargoStatsDefinition:h,sduTokenFrom:m,sduTokenTo:f,resourceTokenFrom:g,resourceMint:b,dataRunningXpAccounts:{userPointsAccount:S,pointsCategory:p,pointsModifierAccount:I},councilRankXpAccounts:{userPointsAccount:w,pointsCategory:A,pointsModifierAccount:P},progressionConfig:lCt.ProgressionConfig.findAddress(e,E)[0],pointsProgram:r.programId,cargoProgram:t.programId,tokenProgram:F9.TOKEN_PROGRAM_ID,recentSlothashes:lM.SYSVAR_SLOT_HASHES_PUBKEY,instructionsSysvar:lM.SYSVAR_INSTRUCTIONS_PUBKEY}).instruction(),signers:[s]}]})}static decodeData(e,t){return(0,vE.decodeAccount)(e,t,sY)}};A0.SurveyDataUnitTracker=Xz;Xz.ACCOUNT_NAME="surveyDataUnitTracker";Xz.MIN_DATA_SIZE=8+1+32+32+32+32+1+8*2+8*2*3+8*2+4+4+4+8+4+4+4+4+2;A0.SurveyDataUnitTracker=Xz=sY=cCt([(0,vE.staticImplements)(),uCt("design:paramtypes",[Object,lM.PublicKey])],Xz);(function(n){var e=K&&K.__decorate||function(R,$,z,T){var v=arguments.length,k=v<3?$:T===null?T=Object.getOwnPropertyDescriptor($,z):T,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(R,$,z,T);else for(var B=R.length-1;B>=0;B--)(_=R[B])&&(k=(v<3?_(k):v>3?_($,z,k):_($,z))||k);return v>3&&k&&Object.defineProperty($,z,k),k},t=K&&K.__metadata||function(R,$){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(R,$)};Object.defineProperty(n,"__esModule",{value:!0}),n.SageProgram=n.sageErrorMap=n.SAGE_IDL=n.EMPTY_CRAFTING_SPEED_PER_TIER=void 0;const r=Kc,s=fr,i=Yd,o=L6,a=K6,c=w5,u=P5,l=gd,d=Hz,y=sy,h=Ol,m=r0,f=sl,g=Zd,b=Ll,S=md,p=I5,I=_5,w=Wh,A=_oe,P=wW,E=A0;n.EMPTY_CRAFTING_SPEED_PER_TIER=[0,.2,.275,.35,.425,.5,.5];var M=Hz;Object.defineProperty(n,"SAGE_IDL",{enumerable:!0,get:function(){return M.IDL}}),n.sageErrorMap=(0,s.generateErrorMap)(d.IDL);let x=class extends s.ListenProgram{constructor($){super($,{craftingInstance:i.CraftingInstance,disbandedFleet:o.DisbandedFleet,fleet:a.Fleet,fleetShips:c.FleetShips,game:u.Game,gameState:l.GameState,mineItem:y.MineItem,planet:h.Planet,playerCrewRecord:m.PlayerCrewRecord,progressionConfig:f.ProgressionConfig,resource:g.Resource,sageCrewConfig:b.SageCrewConfig,sagePlayerProfile:S.SagePlayerProfile,sector:p.Sector,ship:I.Ship,star:w.Star,starbase:A.Starbase,starbasePlayer:P.StarbasePlayer,surveyDataUnitTracker:E.SurveyDataUnitTracker})}static buildProgram($,z,T){return new r.Program(d.IDL,$,z,T)}};n.SageProgram=x,n.SageProgram=x=e([(0,s.staticImplements)(),t("design:paramtypes",[Object])],x)})(mZ);var x8={},hCt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},gCt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},_n;Object.defineProperty(x8,"__esModule",{value:!0});x8.SagePermissions=void 0;const v8e=fr;let iY=_n=class{constructor(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S,p,I,w,A,P,E,M,x,R,$){this.manageGame=e,this.manageSector=t,this.manageStar=r,this.managePlanet=s,this.manageShip=i,this.manageSagePlayerProfile=o,this.manageStarbase=a,this.manageMineItem=c,this.manageResource=u,this.removeShipEscrow=l,this.moveFleet=d,this.transitionFromLoadingBay=y,this.transitionFromIdle=h,this.rentFleet=m,this.doCrafting=f,this.manageCargoPod=g,this.addRemoveCargo=b,this.doStarbaseUpgrades=S,this.manageFleet=p,this.manageFleetCargo=I,this.doMining=w,this.respawn=A,this.manageSurveyDataUnit=P,this.scanSurveyDataUnit=E,this.doStarbaseUpkeep=M,this.manageProgression=x,this.manageCrewConfig=R,this.manageCrew=$}contains(e){return this.and(e).eq(e)}getPermissions(){const e=(0,v8e.fixedSizeArray)(8,0);return e[0]=(this.manageGame?1<<0:0)|(this.manageSector?1<<1:0)|(this.manageStar?1<<2:0)|(this.managePlanet?1<<3:0)|(this.manageShip?1<<4:0)|(this.manageSagePlayerProfile?1<<5:0)|(this.manageStarbase?1<<6:0)|(this.manageMineItem?1<<7:0),e[1]=(this.manageResource?1<<0:0)|(this.removeShipEscrow?1<<1:0)|(this.moveFleet?1<<2:0)|(this.transitionFromLoadingBay?1<<3:0)|(this.transitionFromIdle?1<<4:0)|(this.rentFleet?1<<5:0)|(this.doCrafting?1<<6:0)|(this.manageCargoPod?1<<7:0),e[2]=(this.addRemoveCargo?1<<0:0)|(this.doStarbaseUpgrades?1<<1:0)|(this.manageFleet?1<<2:0)|(this.manageFleetCargo?1<<3:0)|(this.doMining?1<<4:0)|(this.respawn?1<<5:0)|(this.manageSurveyDataUnit?1<<6:0)|(this.scanSurveyDataUnit?1<<7:0),e[3]=(this.doStarbaseUpkeep?1<<0:0)|(this.manageProgression?1<<1:0)|(this.manageCrewConfig?1<<2:0)|(this.manageCrew?1<<3:0),e}static empty(){return new _n(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static all(){return new _n(!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0)}static manageGamePermissions(){return _n.permissionsBuilder("manageGame")}static manageSectorPermissions(){return _n.permissionsBuilder("manageSector")}static manageStarPermissions(){return _n.permissionsBuilder("manageStar")}static managePlanetPermissions(){return _n.permissionsBuilder("managePlanet")}static manageShipPermissions(){return _n.permissionsBuilder("manageShip")}static manageSagePlayerProfilePermissions(){return _n.permissionsBuilder("manageSagePlayerProfile")}static manageStarbasePermissions(){return _n.permissionsBuilder("manageStarbase")}static manageMineItemPermissions(){return _n.permissionsBuilder("manageMineItem")}static manageResourcePermissions(){return _n.permissionsBuilder("manageResource")}static removeShipEscrowPermissions(){return _n.permissionsBuilder("removeShipEscrow")}static moveFleetPermissions(){return _n.permissionsBuilder("moveFleet")}static transitionFromLoadingBayPermissions(){return _n.permissionsBuilder("transitionFromLoadingBay")}static transitionFromIdlePermissions(){return _n.permissionsBuilder("transitionFromIdle")}static rentFleetPermissions(){return _n.permissionsBuilder("rentFleet")}static doCraftingPermissions(){return _n.permissionsBuilder("doCrafting")}static manageCargoPodPermissions(){return _n.permissionsBuilder("manageCargoPod")}static addRemoveCargoPermissions(){return _n.permissionsBuilder("addRemoveCargo")}static doStarbaseUpgradesPermissions(){return _n.permissionsBuilder("doStarbaseUpgrades")}static manageFleetPermissions(){return _n.permissionsBuilder("manageFleet")}static manageFleetCargoPermissions(){return _n.permissionsBuilder("manageFleetCargo")}static doMiningPermissions(){return _n.permissionsBuilder("doMining")}static respawnPermissions(){return _n.permissionsBuilder("respawn")}static manageSurveyDataUnitPermissions(){return _n.permissionsBuilder("manageSurveyDataUnit")}static scanSurveyDataUnitPermissions(){return _n.permissionsBuilder("scanSurveyDataUnit")}static doStarbaseUpkeepPermissions(){return _n.permissionsBuilder("doStarbaseUpkeep")}static manageProgressionPermissions(){return _n.permissionsBuilder("manageProgression")}static manageCrewConfigPermissions(){return _n.permissionsBuilder("manageCrewConfig")}static manageCrewPermissions(){return _n.permissionsBuilder("manageCrew")}static fromPermissions(e){return new _n((e[0]&1<<0)!==0,(e[0]&1<<1)!==0,(e[0]&1<<2)!==0,(e[0]&1<<3)!==0,(e[0]&1<<4)!==0,(e[0]&1<<5)!==0,(e[0]&1<<6)!==0,(e[0]&1<<7)!==0,(e[1]&1<<0)!==0,(e[1]&1<<1)!==0,(e[1]&1<<2)!==0,(e[1]&1<<3)!==0,(e[1]&1<<4)!==0,(e[1]&1<<5)!==0,(e[1]&1<<6)!==0,(e[1]&1<<7)!==0,(e[2]&1<<0)!==0,(e[2]&1<<1)!==0,(e[2]&1<<2)!==0,(e[2]&1<<3)!==0,(e[2]&1<<4)!==0,(e[2]&1<<5)!==0,(e[2]&1<<6)!==0,(e[2]&1<<7)!==0,(e[3]&1<<0)!==0,(e[3]&1<<1)!==0,(e[3]&1<<2)!==0,(e[3]&1<<3)!==0)}and(e){return new _n(this.manageGame&&e.manageGame,this.manageSector&&e.manageSector,this.manageStar&&e.manageStar,this.managePlanet&&e.managePlanet,this.manageShip&&e.manageShip,this.manageSagePlayerProfile&&e.manageSagePlayerProfile,this.manageStarbase&&e.manageStarbase,this.manageMineItem&&e.manageMineItem,this.manageResource&&e.manageResource,this.removeShipEscrow&&e.removeShipEscrow,this.moveFleet&&e.moveFleet,this.transitionFromLoadingBay&&e.transitionFromLoadingBay,this.transitionFromIdle&&e.transitionFromIdle,this.rentFleet&&e.rentFleet,this.doCrafting&&e.doCrafting,this.manageCargoPod&&e.manageCargoPod,this.addRemoveCargo&&e.addRemoveCargo,this.doStarbaseUpgrades&&e.doStarbaseUpgrades,this.manageFleet&&e.manageFleet,this.manageFleetCargo&&e.manageFleetCargo,this.doMining&&e.doMining,this.respawn&&e.respawn,this.manageSurveyDataUnit&&e.manageSurveyDataUnit,this.scanSurveyDataUnit&&e.scanSurveyDataUnit,this.doStarbaseUpkeep&&e.doStarbaseUpkeep,this.manageProgression&&e.manageProgression,this.manageCrewConfig&&e.manageCrewConfig,this.manageCrew&&e.manageCrew)}or(e){return new _n(this.manageGame||e.manageGame,this.manageSector||e.manageSector,this.manageStar||e.manageStar,this.managePlanet||e.managePlanet,this.manageShip||e.manageShip,this.manageSagePlayerProfile||e.manageSagePlayerProfile,this.manageStarbase||e.manageStarbase,this.manageMineItem||e.manageMineItem,this.manageResource||e.manageResource,this.removeShipEscrow||e.removeShipEscrow,this.moveFleet||e.moveFleet,this.transitionFromLoadingBay||e.transitionFromLoadingBay,this.transitionFromIdle||e.transitionFromIdle,this.rentFleet||e.rentFleet,this.doCrafting||e.doCrafting,this.manageCargoPod||e.manageCargoPod,this.addRemoveCargo||e.addRemoveCargo,this.doStarbaseUpgrades||e.doStarbaseUpgrades,this.manageFleet||e.manageFleet,this.manageFleetCargo||e.manageFleetCargo,this.doMining||e.doMining,this.respawn||e.respawn,this.manageSurveyDataUnit||e.manageSurveyDataUnit,this.scanSurveyDataUnit||e.scanSurveyDataUnit,this.doStarbaseUpkeep||e.doStarbaseUpkeep,this.manageProgression||e.manageProgression,this.manageCrewConfig||e.manageCrewConfig,this.manageCrew||e.manageCrew)}eq(e){return this.manageGame===e.manageGame&&this.manageSector===e.manageSector&&this.manageStar===e.manageStar&&this.managePlanet===e.managePlanet&&this.manageShip===e.manageShip&&this.manageSagePlayerProfile===e.manageSagePlayerProfile&&this.manageStarbase===e.manageStarbase&&this.manageMineItem===e.manageMineItem&&this.manageResource===e.manageResource&&this.removeShipEscrow===e.removeShipEscrow&&this.moveFleet==e.moveFleet&&this.transitionFromLoadingBay===e.transitionFromLoadingBay&&this.transitionFromIdle===e.transitionFromIdle&&this.rentFleet===e.rentFleet&&this.doCrafting===e.doCrafting&&this.manageCargoPod===e.manageCargoPod&&this.addRemoveCargo===e.addRemoveCargo&&this.doStarbaseUpgrades===e.doStarbaseUpgrades&&this.manageFleet===e.manageFleet&&this.manageFleetCargo===e.manageFleetCargo&&this.doMining===e.doMining&&this.respawn===e.respawn&&this.manageSurveyDataUnit===e.manageSurveyDataUnit&&this.scanSurveyDataUnit===e.scanSurveyDataUnit&&this.doStarbaseUpkeep===e.doStarbaseUpkeep&&this.manageProgression===e.manageProgression&&this.manageCrewConfig===e.manageCrewConfig&&this.manageCrew===e.manageCrew}static permissionsBuilder(e){const t=Array.isArray(e)?e:[e],r=Object.keys(_n.empty()).map(s=>t.includes(s));if(r.length!=_n.length)throw"Incorrect permissions array";return new _n(...r)}};x8.SagePermissions=iY;x8.SagePermissions=iY=_n=hCt([(0,v8e.staticImplements)(),gCt("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean])],iY);var IW={},Poe={},Sf={},_W={};function Y4(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function mCt(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function T8(n,...e){if(!mCt(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function yCt(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Y4(n.outputLen),Y4(n.blockLen)}function AE(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function A8e(n,e){T8(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const U9=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pCt=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),V9=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),$f=(n,e)=>n<<32-e|n>>>e,B1e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,bCt=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function C1e(n){for(let e=0;e<n.length;e++)n[e]=bCt(n[e])}function SCt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function PW(n){return typeof n=="string"&&(n=SCt(n)),T8(n),n}function kCt(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];T8(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class Eoe{clone(){return this._cloneInto()}}function xoe(n){const e=r=>n().update(PW(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function w8e(n=32){if(U9&&typeof U9.getRandomValues=="function")return U9.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function vCt(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const ACt=(n,e,t)=>n&e^~n&t,wCt=(n,e,t)=>n&e^n&t^e&t;class I8e extends Eoe{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=V9(this.buffer)}update(e){AE(this);const{view:t,buffer:r,blockLen:s}=this;e=PW(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=V9(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){AE(this),A8e(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;vCt(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=V9(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const qD=BigInt(2**32-1),oY=BigInt(32);function _8e(n,e=!1){return e?{h:Number(n&qD),l:Number(n>>oY&qD)}:{h:Number(n>>oY&qD)|0,l:Number(n&qD)|0}}function P8e(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=_8e(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const ICt=(n,e)=>BigInt(n>>>0)<<oY|BigInt(e>>>0),_Ct=(n,e,t)=>n>>>t,PCt=(n,e,t)=>n<<32-t|e>>>t,ECt=(n,e,t)=>n>>>t|e<<32-t,xCt=(n,e,t)=>n<<32-t|e>>>t,TCt=(n,e,t)=>n<<64-t|e>>>t-32,RCt=(n,e,t)=>n>>>t-32|e<<64-t,BCt=(n,e)=>e,CCt=(n,e)=>n,E8e=(n,e,t)=>n<<t|e>>>32-t,x8e=(n,e,t)=>e<<t|n>>>32-t,T8e=(n,e,t)=>e<<t-32|n>>>64-t,R8e=(n,e,t)=>n<<t-32|e>>>64-t;function MCt(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const zCt=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),$Ct=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,DCt=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),OCt=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,LCt=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),KCt=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,Gr={fromBig:_8e,split:P8e,toBig:ICt,shrSH:_Ct,shrSL:PCt,rotrSH:ECt,rotrSL:xCt,rotrBH:TCt,rotrBL:RCt,rotr32H:BCt,rotr32L:CCt,rotlSH:E8e,rotlSL:x8e,rotlBH:T8e,rotlBL:R8e,add:MCt,add3L:zCt,add3H:$Ct,add4L:DCt,add4H:OCt,add5H:KCt,add5L:LCt},[WCt,NCt]=(()=>Gr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),op=new Uint32Array(80),ap=new Uint32Array(80);class FCt extends I8e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)op[p]=e.getUint32(t),ap[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=op[p-15]|0,w=ap[p-15]|0,A=Gr.rotrSH(I,w,1)^Gr.rotrSH(I,w,8)^Gr.shrSH(I,w,7),P=Gr.rotrSL(I,w,1)^Gr.rotrSL(I,w,8)^Gr.shrSL(I,w,7),E=op[p-2]|0,M=ap[p-2]|0,x=Gr.rotrSH(E,M,19)^Gr.rotrBH(E,M,61)^Gr.shrSH(E,M,6),R=Gr.rotrSL(E,M,19)^Gr.rotrBL(E,M,61)^Gr.shrSL(E,M,6),$=Gr.add4L(P,R,ap[p-7],ap[p-16]),z=Gr.add4H($,A,x,op[p-7],op[p-16]);op[p]=z|0,ap[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Gr.rotrSH(d,y,14)^Gr.rotrSH(d,y,18)^Gr.rotrBH(d,y,41),w=Gr.rotrSL(d,y,14)^Gr.rotrSL(d,y,18)^Gr.rotrBL(d,y,41),A=d&h^~d&f,P=y&m^~y&g,E=Gr.add5L(S,w,P,NCt[p],ap[p]),M=Gr.add5H(E,b,I,A,WCt[p],op[p]),x=E|0,R=Gr.rotrSH(r,s,28)^Gr.rotrBH(r,s,34)^Gr.rotrBH(r,s,39),$=Gr.rotrSL(r,s,28)^Gr.rotrBL(r,s,34)^Gr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Gr.add(u|0,l|0,M|0,x|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Gr.add3L(x,$,T);r=Gr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Gr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Gr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Gr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Gr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Gr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Gr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Gr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Gr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){op.fill(0),ap.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const UCt=xoe(()=>new FCt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Toe=BigInt(0),EW=BigInt(1),VCt=BigInt(2);function qk(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function R8(n){if(!qk(n))throw new Error("Uint8Array expected")}function ey(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const qCt=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Hk(n){R8(n);let e="";for(let t=0;t<n.length;t++)e+=qCt[n[t]];return e}function B8e(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function Roe(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Qg={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function M1e(n){if(n>=Qg._0&&n<=Qg._9)return n-Qg._0;if(n>=Qg._A&&n<=Qg._F)return n-(Qg._A-10);if(n>=Qg._a&&n<=Qg._f)return n-(Qg._a-10)}function wE(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=M1e(n.charCodeAt(i)),a=M1e(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function tk(n){return Roe(Hk(n))}function Cw(n){return R8(n),Roe(Hk(Uint8Array.from(n).reverse()))}function IE(n,e){return wE(n.toString(16).padStart(e*2,"0"))}function Qz(n,e){return IE(n,e).reverse()}function HCt(n){return wE(B8e(n))}function Ca(n,e,t){let r;if(typeof e=="string")try{r=wE(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(qk(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function jk(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];R8(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function jCt(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function GCt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const q9=n=>typeof n=="bigint"&&Toe<=n;function xW(n,e,t){return q9(n)&&q9(e)&&q9(t)&&e<=n&&n<t}function dd(n,e,t,r){if(!xW(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function YCt(n){let e;for(e=0;n>Toe;n>>=EW,e+=1);return e}function ZCt(n,e){return n>>BigInt(e)&EW}function JCt(n,e,t){return n|(t?EW:Toe)<<BigInt(e)}const Boe=n=>(VCt<<BigInt(n-1))-EW,H9=n=>new Uint8Array(n),z1e=n=>Uint8Array.from(n);function C8e(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=H9(n),s=H9(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=H9())=>{s=a(z1e([0]),d),r=a(),d.length!==0&&(s=a(z1e([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return jk(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const XCt={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||qk(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function p2(n,e,t={}){const r=(s,i,o)=>{const a=XCt[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const QCt=()=>{throw new Error("not implemented")};function e$(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var eMt=Object.freeze(Object.defineProperty({__proto__:null,isBytes:qk,abytes:R8,abool:ey,bytesToHex:Hk,numberToHexUnpadded:B8e,hexToNumber:Roe,hexToBytes:wE,bytesToNumberBE:tk,bytesToNumberLE:Cw,numberToBytesBE:IE,numberToBytesLE:Qz,numberToVarBytesBE:HCt,ensureBytes:Ca,concatBytes:jk,equalBytes:jCt,utf8ToBytes:GCt,inRange:xW,aInRange:dd,bitLen:YCt,bitGet:ZCt,bitSet:JCt,bitMask:Boe,createHmacDrbg:C8e,validateObject:p2,notImplemented:QCt,memoized:e$},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cc=BigInt(0),uo=BigInt(1),SS=BigInt(2),tMt=BigInt(3),aY=BigInt(4),$1e=BigInt(5),D1e=BigInt(8);BigInt(9);BigInt(16);function Ki(n,e){const t=n%e;return t>=Cc?t:e+t}function rMt(n,e,t){if(t<=Cc||e<Cc)throw new Error("Expected power/modulo > 0");if(t===uo)return Cc;let r=uo;for(;e>Cc;)e&uo&&(r=r*n%t),n=n*n%t,e>>=uo;return r}function Ro(n,e,t){let r=n;for(;e-- >Cc;)r*=r,r%=t;return r}function cY(n,e){if(n===Cc||e<=Cc)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=Ki(n,e),r=e,s=Cc,i=uo;for(;t!==Cc;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==uo)throw new Error("invert: does not exist");return Ki(s,e)}function nMt(n){const e=(n-uo)/SS;let t,r,s;for(t=n-uo,r=0;t%SS===Cc;t/=SS,r++);for(s=SS;s<n&&rMt(s,e,n)!==n-uo;s++);if(r===1){const o=(n+uo)/aY;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+uo)/SS;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,uo<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function sMt(n){if(n%aY===tMt){const e=(n+uo)/aY;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%D1e===$1e){const e=(n-$1e)/D1e;return function(r,s){const i=r.mul(s,SS),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,SS),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return nMt(n)}const iMt=(n,e)=>(Ki(n,e)&uo)===uo,oMt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function aMt(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=oMt.reduce((r,s)=>(r[s]="function",r),e);return p2(n,t)}function cMt(n,e,t){if(t<Cc)throw new Error("Expected power > 0");if(t===Cc)return n.ONE;if(t===uo)return e;let r=n.ONE,s=e;for(;t>Cc;)t&uo&&(r=n.mul(r,s)),s=n.sqr(s),t>>=uo;return r}function uMt(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function M8e(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function z8e(n,e,t=!1,r={}){if(n<=Cc)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=M8e(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=sMt(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:Boe(s),ZERO:Cc,ONE:uo,create:c=>Ki(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Cc<=c&&c<n},is0:c=>c===Cc,isOdd:c=>(c&uo)===uo,neg:c=>Ki(-c,n),eql:(c,u)=>c===u,sqr:c=>Ki(c*c,n),add:(c,u)=>Ki(c+u,n),sub:(c,u)=>Ki(c-u,n),mul:(c,u)=>Ki(c*u,n),pow:(c,u)=>cMt(a,c,u),div:(c,u)=>Ki(c*cY(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>cY(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>uMt(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?Qz(c,i):IE(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?Cw(c):tk(c)}});return Object.freeze(a)}function $8e(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function D8e(n){const e=$8e(n);return e+Math.ceil(e/2)}function lMt(n,e,t=!1){const r=n.length,s=$8e(e),i=D8e(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?tk(n):Cw(n),a=Ki(o,e-uo)+uo;return t?Qz(a,s):IE(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dMt=BigInt(0),j9=BigInt(1),G9=new WeakMap,O1e=new WeakMap;function O8e(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>dMt;)o&j9&&(a=a.add(c)),c=c.double(),o>>=j9;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=j9);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=O1e.get(i)||1;let u=G9.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&G9.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),O1e.set(i,o),G9.delete(i)}}}function Coe(n){return aMt(n.Fp),p2(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...M8e(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rd=BigInt(0),Eu=BigInt(1),HD=BigInt(2),fMt=BigInt(8),hMt={zip215:!0};function gMt(n){const e=Coe(n);return p2(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function mMt(n){const e=gMt(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=HD<<BigInt(a*8)-Eu,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Rd}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,_)=>{if(ey("phflag",_),k.length||_)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){dd("coordinate "+v,k,Rd,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=e$((v,k)=>{const{ex:_,ey:B,ez:C}=v,O=v.is0();k==null&&(k=O?fMt:t.inv(C));const D=l(_*k),W=l(B*k),L=l(C*k);if(O)return{x:Rd,y:Eu};if(L!==Eu)throw new Error("invZ was invalid");return{x:D,y:W}}),b=e$(v=>{const{a:k,d:_}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:B,ey:C,ez:O,et:D}=v,W=l(B*B),L=l(C*C),U=l(O*O),q=l(U*U),J=l(W*k),Q=l(U*l(J+L)),j=l(q+l(_*l(W*L)));if(Q!==j)throw new Error("bad point: equation left != right (1)");const X=l(B*C),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,_,B,C){this.ex=k,this.ey=_,this.ez=B,this.et=C,m("x",k),m("y",_),m("z",B),m("t",C),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x:_,y:B}=k||{};return m("x",_),m("y",B),new S(_,B,Eu,l(_*B))}static normalizeZ(k){const _=t.invertBatch(k.map(B=>B.ez));return k.map((B,C)=>B.toAffine(_[C])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:_,ey:B,ez:C}=this,{ex:O,ey:D,ez:W}=k,L=l(_*W),U=l(O*C),q=l(B*W),J=l(D*C);return L===U&&q===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:_,ey:B,ez:C}=this,O=l(_*_),D=l(B*B),W=l(HD*l(C*C)),L=l(k*O),U=_+B,q=l(l(U*U)-O-D),J=L+D,Q=J-W,j=L-D,X=l(q*Q),re=l(J*j),se=l(q*j),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:_,d:B}=e,{ex:C,ey:O,ez:D,et:W}=this,{ex:L,ey:U,ez:q,et:J}=k;if(_===BigInt(-1)){const $t=l((O-C)*(U+L)),_t=l((O+C)*(U-L)),tt=l(_t-$t);if(tt===Rd)return this.double();const Ve=l(D*HD*J),qt=l(W*HD*q),lr=qt+Ve,ur=_t+$t,hr=qt-Ve,Rr=l(lr*tt),ms=l(ur*hr),kn=l(lr*hr),ys=l(tt*ur);return new S(Rr,ms,ys,kn)}const Q=l(C*L),j=l(O*U),X=l(W*B*J),re=l(D*q),se=l((C+O)*(L+U)-Q-j),ee=re-X,ne=re+X,_e=l(j-_*Q),Pe=l(se*ee),We=l(ne*_e),Ne=l(se*_e),Yt=l(ee*ne);return new S(Pe,We,Yt,Ne)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const _=k;dd("scalar",_,Eu,r);const{p:B,f:C}=this.wNAF(_);return S.normalizeZ([B,C])[0]}multiplyUnsafe(k){const _=k;return dd("scalar",_,Rd,r),_===Rd?I:this.equals(I)||_===Eu?this:this.equals(p)?this.wNAF(_).p:w.unsafeLadder(this,_)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Eu?this:this.multiplyUnsafe(k)}static fromHex(k,_=!1){const{d:B,a:C}=e,O=t.BYTES;k=Ca("pointHex",k,O),ey("zip215",_);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=Cw(D),U=_?u:t.ORDER;dd("pointHex.y",L,Rd,U);const q=l(L*L),J=l(q-Eu),Q=l(B*q-C);let{isValid:j,value:X}=d(J,Q);if(!j)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Eu)===Eu,se=(W&128)!==0;if(!_&&X===Rd&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:_}=this.toAffine(),B=Qz(_,t.BYTES);return B[B.length-1]|=k&Eu?128:0,B}toHex(){return Hk(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Eu,l(e.Gx*e.Gy)),S.ZERO=new S(Rd,Eu,Eu,Rd);const{BASE:p,ZERO:I}=S,w=O8e(S,a*8);function A(v){return Ki(v,r)}function P(v){return A(Cw(v))}function E(v){const k=a;v=Ca("private key",v,k);const _=Ca("hashed private key",i(v),2*k),B=y(_.slice(0,k)),C=_.slice(k,2*k),O=P(B),D=p.multiply(O),W=D.toRawBytes();return{head:B,prefix:C,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function x(v=new Uint8Array,...k){const _=jk(...k);return P(i(h(_,Ca("context",v),!!s)))}function R(v,k,_={}){v=Ca("message",v),s&&(v=s(v));const{prefix:B,scalar:C,pointBytes:O}=E(k),D=x(_.context,B,v),W=p.multiply(D).toRawBytes(),L=x(_.context,W,O,v),U=A(D+L*C);dd("signature.s",U,Rd,r);const q=jk(W,Qz(U,t.BYTES));return Ca("result",q,a*2)}const $=hMt;function z(v,k,_,B=$){const{context:C,zip215:O}=B,D=t.BYTES;v=Ca("signature",v,2*D),k=Ca("message",k),O!==void 0&&ey("zip215",O),s&&(k=s(k));const W=Cw(v.slice(D,2*D));let L,U,q;try{L=S.fromHex(_,O),U=S.fromHex(v.slice(0,D),O),q=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=x(C,U.toRawBytes(),L.toRawBytes(),k);return U.add(L.multiplyUnsafe(J)).subtract(q).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Moe=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),L1e=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const yMt=BigInt(1),K1e=BigInt(2);BigInt(3);const pMt=BigInt(5),bMt=BigInt(8);function SMt(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=Moe,a=n*n%i*n%i,c=Ro(a,K1e,i)*a%i,u=Ro(c,yMt,i)*n%i,l=Ro(u,pMt,i)*u%i,d=Ro(l,e,i)*l%i,y=Ro(d,t,i)*d%i,h=Ro(y,r,i)*y%i,m=Ro(h,s,i)*h%i,f=Ro(m,s,i)*h%i,g=Ro(f,e,i)*l%i;return{pow_p_5_8:Ro(g,K1e,i)*n%i,b2:a}}function kMt(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function vMt(n,e){const t=Moe,r=Ki(e*e*e,t),s=Ki(r*r*e,t),i=SMt(n*s).pow_p_5_8;let o=Ki(n*r*i,t);const a=Ki(e*o*o,t),c=o,u=Ki(o*L1e,t),l=a===n,d=a===Ki(-n,t),y=a===Ki(-n*L1e,t);return l&&(o=c),(d||y)&&(o=u),iMt(o,t)&&(o=Ki(-o,t)),{isValid:l||d,value:o}}const AMt=(()=>z8e(Moe,void 0,!0))(),wMt=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:AMt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:bMt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:UCt,randomBytes:w8e,adjustScalarBytes:kMt,uvRatio:vMt}))(),b2=(()=>mMt(wMt))(),IMt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),cp=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),up=new Uint32Array(64);class _Mt extends I8e{constructor(){super(64,32,8,!1),this.A=cp[0]|0,this.B=cp[1]|0,this.C=cp[2]|0,this.D=cp[3]|0,this.E=cp[4]|0,this.F=cp[5]|0,this.G=cp[6]|0,this.H=cp[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)up[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=up[d-15],h=up[d-2],m=$f(y,7)^$f(y,18)^y>>>3,f=$f(h,17)^$f(h,19)^h>>>10;up[d]=f+up[d-7]+m+up[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=$f(a,6)^$f(a,11)^$f(a,25),h=l+y+ACt(a,c,u)+IMt[d]+up[d]|0,f=($f(r,2)^$f(r,13)^$f(r,22))+wCt(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){up.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const uY=xoe(()=>new _Mt);class PMt extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function EMt(n){return B8(n)&&typeof n[Symbol.iterator]=="function"}function B8(n){return typeof n=="object"&&n!=null}function Z4(n){return B8(n)&&!Array.isArray(n)}function gf(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function xMt(n){const{done:e,value:t}=n.next();return e?void 0:t}function TMt(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${gf(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*W1e(n,e,t,r){EMt(n)||(n=[n]);for(const s of n){const i=TMt(s,e,t,r);i&&(yield i)}}function*zoe(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=zoe(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):B8(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class bg{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return W1e(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return W1e(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return L8e(e,this,t)}create(e,t){return wt(e,this,t)}is(e){return K8e(e,this)}mask(e,t){return RMt(e,this,t)}validate(e,t={}){return C8(e,this,t)}}function L8e(n,e,t){const r=C8(n,e,{message:t});if(r[0])throw r[0]}function wt(n,e,t){const r=C8(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function RMt(n,e,t){const r=C8(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function K8e(n,e){return!C8(n,e)[0]}function C8(n,e,t={}){const r=zoe(n,e,t),s=xMt(r);if(s[0])return[new PMt(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function zv(n,e){return new bg({type:n,schema:null,validator:e})}function BMt(){return zv("any",()=>!0)}function Mt(n){return new bg({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${gf(e)}`}})}function Xh(){return zv("boolean",n=>typeof n=="boolean")}function $oe(n){return zv("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${gf(e)}`)}function Qi(n){const e=gf(n),t=typeof n;return new bg({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${gf(r)}`}})}function CMt(){return zv("never",()=>!1)}function Ut(n){return new bg({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function ke(){return zv("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${gf(n)}`)}function _r(n){return new bg({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function W8e(n,e){return new bg({type:"record",schema:null,*entries(t){if(B8(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return Z4(t)||`Expected an object, but received: ${gf(t)}`},coercer(t){return Z4(t)?{...t}:t}})}function Qe(){return zv("string",n=>typeof n=="string"||`Expected a string, but received: ${gf(n)}`)}function Doe(n){const e=CMt();return new bg({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${gf(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Oe(n){const e=Object.keys(n);return new bg({type:"type",schema:n,*entries(t){if(B8(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return Z4(t)||`Expected an object, but received: ${gf(t)}`},coercer(t){return Z4(t)?{...t}:t}})}function fu(n){const e=n.map(t=>t.type).join(" | ");return new bg({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=zoe(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${gf(t)}`,...s]}})}function S2(){return zv("unknown",()=>!0)}function M8(n,e,t){return new bg({...n,coercer:(r,s)=>K8e(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const N8e=[],F8e=[],U8e=[],MMt=BigInt(0),dC=BigInt(1),zMt=BigInt(2),$Mt=BigInt(7),DMt=BigInt(256),OMt=BigInt(113);for(let n=0,e=dC,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],N8e.push(2*(5*r+t)),F8e.push((n+1)*(n+2)/2%64);let s=MMt;for(let i=0;i<7;i++)e=(e<<dC^(e>>$Mt)*OMt)%DMt,e&zMt&&(s^=dC<<(dC<<BigInt(i))-dC);U8e.push(s)}const[LMt,KMt]=P8e(U8e,!0),N1e=(n,e,t)=>t>32?T8e(n,e,t):E8e(n,e,t),F1e=(n,e,t)=>t>32?R8e(n,e,t):x8e(n,e,t);function WMt(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=N1e(u,l,1)^t[a],y=F1e(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=F8e[o],c=N1e(s,i,a),u=F1e(s,i,a),l=N8e[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=LMt[r],n[1]^=KMt[r]}t.fill(0)}class Ooe extends Eoe{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Y4(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=pCt(this.state)}keccak(){B1e||C1e(this.state32),WMt(this.state32,this.rounds),B1e||C1e(this.state32),this.posOut=0,this.pos=0}update(e){AE(this);const{blockLen:t,state:r}=this;e=PW(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){AE(this,!1),T8(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Y4(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(A8e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Ooe(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const NMt=(n,e,t)=>xoe(()=>new Ooe(e,n,t)),U1e=NMt(1,136,256/8);class V8e extends Eoe{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,yCt(e);const r=PW(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return AE(this),this.iHash.update(e),this}digestInto(e){AE(this),T8(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const q8e=(n,e,t)=>new V8e(n,e).update(t).digest();q8e.create=(n,e)=>new V8e(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function V1e(n){n.lowS!==void 0&&ey("lowS",n.lowS),n.prehash!==void 0&&ey("prehash",n.prehash)}function FMt(n){const e=Coe(n);p2(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:UMt,hexToBytes:VMt}=eMt,US={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=US;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:UMt(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=US,t=typeof n=="string"?VMt(n):n;R8(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=US._parseInt(t.subarray(2)),{d:o,l:a}=US._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Lp=BigInt(0),qa=BigInt(1);BigInt(2);const q1e=BigInt(3);BigInt(4);function qMt(n){const e=FMt(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return jk(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return xW(m,qa,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(qk(m)&&(m=Hk(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:tk(Ca("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=Ki(p,S)),dd("private key",p,qa,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=e$((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=e$(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(Ca("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),P=t.eql(t.mul(b,w),t.mul(I,S));return A&&P}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,q1e),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,P=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),x=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),P=t.mul(S,I),P=t.add(P,P),w=t.mul(f,P),A=t.mul(b,x),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),P=t.mul(b,P),x=t.mul(f,x),R=t.sub(E,x),R=t.mul(f,R),R=t.add(R,P),P=t.add(E,E),E=t.add(P,E),E=t.add(E,x),E=t.mul(E,R),A=t.add(A,E),x=t.mul(p,I),x=t.add(x,x),E=t.mul(x,R),w=t.sub(w,E),P=t.mul(x,M),P=t.add(P,P),P=t.add(P,P),new d(w,A,P)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,P=t.ZERO,E=t.ZERO;const M=e.a,x=t.mul(e.b,q1e);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(x,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),P=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(x,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),P=t.add(P,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,P,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){dd("scalar",f,Lp,e.n);const g=d.ZERO;if(f===Lp)return g;if(f===qa)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,P=g,E=this;for(;p>Lp||w>Lp;)p&qa&&(A=A.add(E)),w&qa&&(P=P.add(E)),E=E.double(),p>>=qa,w>>=qa;return S&&(A=A.negate()),I&&(P=P.negate()),P=new d(t.mul(P.px,b.beta),P.py,P.pz),A.add(P)}multiply(f){const{endo:g,n:b}=e;dd("scalar",f,qa,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:P}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:x,f:R}=this.wNAF(P);E=h.constTimeNegate(I,E),x=h.constTimeNegate(A,x),x=new d(t.mul(x.px,g.beta),x.py,x.pz),S=E.add(x),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===Lp||A===qa||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===qa)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===qa?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return ey("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return ey("isCompressed",f),Hk(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=O8e(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function HMt(n){const e=Coe(n);return p2(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function jMt(n){const e=HMt(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return Ki(T,r)}function a(T){return cY(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=qMt({...e,toBytes(T,v,k){const _=v.toAffine(),B=t.toBytes(_.x),C=jk;return ey("isCompressed",k),k?C(Uint8Array.from([v.hasEvenY()?2:3]),B):C(Uint8Array.from([4]),B,t.toBytes(_.y))},fromBytes(T){const v=T.length,k=T[0],_=T.subarray(1);if(v===s&&(k===2||k===3)){const B=tk(_);if(!xW(B,qa,t.ORDER))throw new Error("Point is not on curve");const C=l(B);let O;try{O=t.sqrt(C)}catch(L){const U=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+U)}const D=(O&qa)===qa;return(k&1)===1!==D&&(O=t.neg(O)),{x:B,y:O}}else if(v===i&&k===4){const B=t.fromBytes(_.subarray(0,t.BYTES)),C=t.fromBytes(_.subarray(t.BYTES,2*t.BYTES));return{x:B,y:C}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>Hk(IE(T,e.nByteLength));function h(T){const v=r>>qa;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>tk(T.slice(v,k));class g{constructor(v,k,_){this.r=v,this.s=k,this.recovery=_,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=Ca("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:_}=US.toSig(Ca("DER",v));return new g(k,_)}assertValidity(){dd("r",this.r,qa,r),dd("s",this.s,qa,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:_,recovery:B}=this,C=A(Ca("msgHash",v));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const O=B===2||B===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(B&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),U=o(-C*L),q=o(_*L),J=c.BASE.multiplyAndAddUnsafe(W,U,q);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return wE(this.toDERHex())}toDERHex(){return US.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return wE(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=D8e(e.n);return lMt(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=qk(T),k=typeof T=="string",_=(v||k)&&T.length;return v?_===s||_===i:k?_===2*s||_===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=tk(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},P=Boe(e.nBitLength);function E(T){return dd(`num < 2^${e.nBitLength}`,T,Lp,P),IE(T,e.nByteLength)}function M(T,v,k=x){if(["recovered","canonical"].some(j=>j in k))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:B}=e;let{lowS:C,prehash:O,extraEntropy:D}=k;C==null&&(C=!0),T=Ca("msgHash",T),V1e(k),O&&(T=Ca("prehashed msgHash",_(T)));const W=A(T),L=u(v),U=[E(L),E(W)];if(D!=null&&D!==!1){const j=D===!0?B(t.BYTES):D;U.push(Ca("extraEntropy",j))}const q=jk(...U),J=W;function Q(j){const X=w(j);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Lp)return;const ne=o(re*o(J+ee*L));if(ne===Lp)return;let _e=(se.x===ee?0:2)|Number(se.y&qa),Pe=ne;return C&&h(ne)&&(Pe=m(ne),_e^=1),new g(ee,Pe,_e)}return{seed:q,k2sig:Q}}const x={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=x){const{seed:_,k2sig:B}=M(T,v,k),C=e;return C8e(C.hash.outputLen,C.nByteLength,C.hmac)(_,B)}c.BASE._setWindowSize(8);function z(T,v,k,_=R){var se;const B=T;if(v=Ca("msgHash",v),k=Ca("publicKey",k),"strict"in _)throw new Error("options.strict was renamed to lowS");V1e(_);const{lowS:C,prehash:O}=_;let D,W;try{if(typeof B=="string"||qk(B))try{D=g.fromDER(B)}catch(ee){if(!(ee instanceof US.Err))throw ee;D=g.fromCompact(B)}else if(typeof B=="object"&&typeof B.r=="bigint"&&typeof B.s=="bigint"){const{r:ee,s:ne}=B;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(C&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:U}=D,q=A(v),J=a(U),Q=o(q*J),j=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,j))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function GMt(n){return{hash:n,hmac:(e,...t)=>q8e(n,e,kCt(...t)),randomBytes:w8e}}function YMt(n,e){const t=r=>jMt({...n,...GMt(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const H8e=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),H1e=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ZMt=BigInt(1),lY=BigInt(2),j1e=(n,e)=>(n+e/lY)/e;function JMt(n){const e=H8e,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=Ro(l,t,e)*l%e,y=Ro(d,t,e)*l%e,h=Ro(y,lY,e)*u%e,m=Ro(h,s,e)*h%e,f=Ro(m,i,e)*m%e,g=Ro(f,a,e)*f%e,b=Ro(g,c,e)*g%e,S=Ro(b,a,e)*f%e,p=Ro(S,t,e)*l%e,I=Ro(p,o,e)*m%e,w=Ro(I,r,e)*u%e,A=Ro(w,lY,e);if(!dY.eql(dY.sqr(A),n))throw new Error("Cannot find square root");return A}const dY=z8e(H8e,void 0,void 0,{sqrt:JMt}),TW=YMt({a:BigInt(0),b:BigInt(7),Fp:dY,n:H1e,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=H1e,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ZMt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=j1e(i*n,e),c=j1e(-r*n,e);let u=Ki(n-a*t-c*s,e),l=Ki(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},uY);BigInt(0);TW.ProjectivePoint;const XMt=b2.utils.randomPrivateKey,G1e=()=>{const n=b2.utils.randomPrivateKey(),e=J4(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},J4=b2.getPublicKey;function Y1e(n){try{return b2.ExtendedPoint.fromHex(n),!0}catch{return!1}}const Loe=(n,e)=>b2.sign(n,e.slice(0,32)),QMt=b2.verify,yn=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class Koe{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(tg(TM,this))}static decode(e){return rg(TM,this,e)}static decodeUnchecked(e){return ng(TM,this,e)}}class ezt extends Koe{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const TM=new Map;var j8e;const G8e=32,Nh=32;function tzt(n){return n._bn!==void 0}let Z1e=1;class dt extends Koe{constructor(e){if(super({}),this._bn=void 0,tzt(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ae.decode(e);if(t.length!=Nh)throw new Error("Invalid public key input");this._bn=new Ni(t)}else this._bn=new Ni(e);if(this._bn.byteLength()>Nh)throw new Error("Invalid public key input")}}static unique(){const e=new dt(Z1e);return Z1e+=1,new dt(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ae.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Nh)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=uY(s);return new dt(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>G8e)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,yn(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=uY(r);if(Y1e(s))throw new Error("Invalid seeds, address must fall off the curve");return new dt(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new dt(e);return Y1e(t.toBytes())}}j8e=dt;dt.default=new j8e("11111111111111111111111111111111");TM.set(dt,{kind:"struct",fields:[["_bn","u256"]]});class rzt{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=yn(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=yn(XMt()),this._publicKey=yn(J4(this._secretKey))}get publicKey(){return new dt(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const nzt=new dt("BPFLoader1111111111111111111111111111111111"),_b=1280-40-8,RW=127,t$=64;class Woe extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Woe.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Noe extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Noe.prototype,"name",{value:"TransactionExpiredTimeoutError"});class QA extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(QA.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class r${constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const $n=(n="publicKey")=>ie(32,n),szt=(n="signature")=>ie(64,n),VS=(n="string")=>{const e=N([F("length"),F("lengthPadding"),ie(Gt(F(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>F().span+F().span+V.Buffer.from(i,"utf8").length,s},izt=(n="authorized")=>N([$n("staker"),$n("withdrawer")],n),ozt=(n="lockup")=>N([Ee("unixTimestamp"),Ee("epoch"),$n("custodian")],n),azt=(n="voteInit")=>N([$n("nodePubkey"),$n("authorizedVoter"),$n("authorizedWithdrawer"),te("commission")],n),czt=(n="voteAuthorizeWithSeedArgs")=>N([F("voteAuthorizationType"),$n("currentAuthorityDerivedKeyOwnerPubkey"),VS("currentAuthorityDerivedKeySeed"),$n("newAuthorized")],n);function Y8e(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return Y8e({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function Gu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Pl(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function is(n,e){if(!n)throw new Error(e||"Assertion failed")}class BW{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new BW(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];is(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{is(t.length>0,"Expected at least one writable signer key");const[c]=t[0];is(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new dt(c)),...r.map(([c])=>new dt(c)),...s.map(([c])=>new dt(c)),...i.map(([c])=>new dt(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new dt(i),c=e.findIndex(u=>u.equals(a));c>=0&&(is(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const Z8e="Reached end of buffer unexpectedly";function Ah(n){if(n.length===0)throw new Error(Z8e);return n.shift()}function Yu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(Z8e);return n.splice(...e)}class mf{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new dt(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ae.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new r$(this.staticAccountKeys)}static compile(e){const t=BW.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new r$(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ae.encode(a.data)}));return new mf({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Pl(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ae.decode(d.data));let f=[];Pl(f,y.length);let g=[];return Pl(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Pl(s,r.length);let i=V.Buffer.alloc(_b);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=N([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=N([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we($n("key"),e,"keys"),$n("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>yn(d.toBytes())),recentBlockhash:Ae.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=Ah(t);if(r!==(r&RW))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Ah(t),i=Ah(t),o=Gu(t);let a=[];for(let y=0;y<o;y++){const h=Yu(t,0,Nh);a.push(new dt(V.Buffer.from(h)))}const c=Yu(t,0,Nh),u=Gu(t);let l=[];for(let y=0;y<u;y++){const h=Ah(t),m=Gu(t),f=Yu(t,0,m),g=Gu(t),b=Yu(t,0,g),S=Ae.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ae.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new mf(d)}}class Gk{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new r$(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=BW.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new r$(a,s).compileInstructions(e.instructions);return new Gk({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Pl(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Pl(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Pl(i,this.addressTableLookups.length);const o=N([te("prefix"),N([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we($n(),this.staticAccountKeys.length,"staticAccountKeys"),$n("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(_b),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ae.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(_b);for(const r of this.compiledInstructions){const s=Array();Pl(s,r.accountKeyIndexes.length);const i=Array();Pl(i,r.data.length),e+=N([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(_b);for(const r of this.addressTableLookups){const s=Array();Pl(s,r.writableIndexes.length);const i=Array();Pl(i,r.readonlyIndexes.length),e+=N([$n("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Ah(t),s=r&RW;is(r!==s,"Expected versioned message but received legacy message");const i=s;is(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:Ah(t),numReadonlySignedAccounts:Ah(t),numReadonlyUnsignedAccounts:Ah(t)},a=[],c=Gu(t);for(let m=0;m<c;m++)a.push(new dt(Yu(t,0,Nh)));const u=Ae.encode(Yu(t,0,Nh)),l=Gu(t),d=[];for(let m=0;m<l;m++){const f=Ah(t),g=Gu(t),b=Yu(t,0,g),S=Gu(t),p=new Uint8Array(Yu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=Gu(t),h=[];for(let m=0;m<y;m++){const f=new dt(Yu(t,0,Nh)),g=Gu(t),b=Yu(t,0,g),S=Gu(t),p=Yu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new Gk({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const Foe={deserializeMessageVersion(n){const e=n[0],t=e&RW;return t===e?"legacy":t},deserialize:n=>{const e=Foe.deserializeMessageVersion(n);if(e==="legacy")return mf.from(n);if(e===0)return Gk.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let wm=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const uzt=V.Buffer.alloc(t$).fill(0);class Ns{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class hs{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Ns(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new dt(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ae.encode(g)}});return m.forEach(f=>{is(f.programIdIndex>=0),f.accounts.forEach(g=>is(g>=0))}),new mf({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=Loe(r,s.secretKey);this._addSignature(s.publicKey,yn(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){is(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):QMt(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Pl(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return is(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(is(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),is(i.length<=_b,`Transaction too large: ${i.length} > ${_b}`),i}get keys(){return is(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return is(this.instructions.length===1),this.instructions[0].programId}get data(){return is(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Gu(t);let s=[];for(let i=0;i<r;i++){const o=Yu(t,0,t$);s.push(Ae.encode(V.Buffer.from(o)))}return hs.populate(mf.from(t),s)}static populate(e,t=[]){const r=new hs;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ae.encode(uzt)?null:Ae.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Ns({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ae.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Uoe{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;is(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;is(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new Ns({programId:g,data:yn(m.data),keys:f}))}return new Uoe({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return mf.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Gk.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class Voe{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)is(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(t$));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Pl(t,this.signatures.length);const r=N([ie(t.length,"encodedSignaturesLength"),we(szt(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=Gu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(Yu(t,0,t$)));const i=Foe.deserialize(new Uint8Array(t));return new Voe(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));is(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=Loe(t,s.secretKey)}}addSignature(e,t){is(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));is(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const lzt=160,dzt=64,fzt=lzt/dzt,J8e=1e3/fzt,Zf=new dt("SysvarC1ock11111111111111111111111111111111"),hzt=new dt("SysvarEpochSchedu1e111111111111111111111111"),gzt=new dt("Sysvar1nstructions1111111111111111111111111"),KL=new dt("SysvarRecentB1ockHashes11111111111111111111"),_E=new dt("SysvarRent111111111111111111111111111111111"),mzt=new dt("SysvarRewards111111111111111111111111111111"),yzt=new dt("SysvarS1otHashes111111111111111111111111111"),pzt=new dt("SysvarS1otHistory11111111111111111111111111"),WL=new dt("SysvarStakeHistory1111111111111111111111111");class n$ extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const bzt={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class ar extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function fY(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new n$({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function kS(n){return new Promise(e=>setTimeout(e,n))}function jn(n,e){const t=n.layout.span>=0?n.layout.span:Y8e(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function _s(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const X8e=fe("lamportsPerSignature"),Q8e=N([F("version"),F("state"),$n("authorizedPubkey"),$n("nonce"),N([X8e],"feeCalculator")]),hY=Q8e.span;class CW{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=Q8e.decode(yn(e),0);return new CW({authorizedPubkey:new dt(t.authorizedPubkey),nonce:new dt(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const Szt=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},kzt=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=Szt(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return sg(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=ya(o,n);return r(u,a,c)},i},PE=kzt(8);class vzt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(oi))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=_s(oi.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new dt(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=_s(oi.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=_s(oi.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new dt(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=_s(oi.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=_s(oi.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new dt(t),seed:r,space:s,programId:new dt(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=_s(oi.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new dt(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=_s(oi.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new dt(t),seed:r,programId:new dt(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=_s(oi.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new dt(t),seed:r,lamports:s,space:i,programId:new dt(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=_s(oi.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new dt(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),_s(oi.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=_s(oi.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=_s(oi.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new dt(t)}}static checkProgramId(e){if(!e.equals(vc.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const oi=Object.freeze({Create:{index:0,layout:N([F("instruction"),Ee("lamports"),Ee("space"),$n("programId")])},Assign:{index:1,layout:N([F("instruction"),$n("programId")])},Transfer:{index:2,layout:N([F("instruction"),PE("lamports")])},CreateWithSeed:{index:3,layout:N([F("instruction"),$n("base"),VS("seed"),Ee("lamports"),Ee("space"),$n("programId")])},AdvanceNonceAccount:{index:4,layout:N([F("instruction")])},WithdrawNonceAccount:{index:5,layout:N([F("instruction"),Ee("lamports")])},InitializeNonceAccount:{index:6,layout:N([F("instruction"),$n("authorized")])},AuthorizeNonceAccount:{index:7,layout:N([F("instruction"),$n("authorized")])},Allocate:{index:8,layout:N([F("instruction"),Ee("space")])},AllocateWithSeed:{index:9,layout:N([F("instruction"),$n("base"),VS("seed"),Ee("space"),$n("programId")])},AssignWithSeed:{index:10,layout:N([F("instruction"),$n("base"),VS("seed"),$n("programId")])},TransferWithSeed:{index:11,layout:N([F("instruction"),PE("lamports"),VS("seed"),$n("programId")])},UpgradeNonceAccount:{index:12,layout:N([F("instruction")])}});class vc{constructor(){}static createAccount(e){const t=oi.Create,r=jn(t,{lamports:e.lamports,space:e.space,programId:yn(e.programId.toBuffer())});return new Ns({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=oi.TransferWithSeed;t=jn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:yn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=oi.Transfer;t=jn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ns({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=oi.AssignWithSeed;t=jn(s,{base:yn(e.basePubkey.toBuffer()),seed:e.seed,programId:yn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=oi.Assign;t=jn(s,{programId:yn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ns({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=oi.CreateWithSeed,r=jn(t,{base:yn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:yn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ns({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new hs;"basePubkey"in e&&"seed"in e?t.add(vc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:hY,programId:this.programId})):t.add(vc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:hY,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=oi.InitializeNonceAccount,r=jn(t,{authorized:yn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:KL,isSigner:!1,isWritable:!1},{pubkey:_E,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Ns(s)}static nonceAdvance(e){const t=oi.AdvanceNonceAccount,r=jn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:KL,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Ns(s)}static nonceWithdraw(e){const t=oi.WithdrawNonceAccount,r=jn(t,{lamports:e.lamports});return new Ns({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:KL,isSigner:!1,isWritable:!1},{pubkey:_E,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=oi.AuthorizeNonceAccount,r=jn(t,{authorized:yn(e.newAuthorizedPubkey.toBuffer())});return new Ns({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=oi.AllocateWithSeed;t=jn(s,{base:yn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:yn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=oi.Allocate;t=jn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ns({keys:r,programId:this.programId,data:t})}}vc.programId=new dt("11111111111111111111111111111111");const Azt=_b-300;class Yk{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Yk.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new hs,h.add(vc.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new hs,h.add(vc.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new hs,h.add(vc.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new hs().add(vc.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await fY(e,h,[t,r],{commitment:"confirmed"})}const o=N([F("instruction"),F("offset"),F("bytesLength"),F("bytesLengthPadding"),we(te("byte"),Gt(F(),-8),"bytes")]),a=Yk.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new hs().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(fY(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await kS(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=N([F("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new hs().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:_E,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(J8e/2)))}}return!0}}Yk.chunkSize=Azt;const wzt=new dt("BPFLoader2111111111111111111111111111111111");class Izt{static getMinNumSignatures(e){return Yk.getMinNumSignatures(e)}static load(e,t,r,s,i){return Yk.load(e,t,r,i,s)}}function _zt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Y9,J1e;function Pzt(){if(J1e)return Y9;J1e=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Y9=function(r){var s=t(r,!1);if(s!==void 0)return""+s},Y9}var Ezt=Pzt(),X1e=_zt(Ezt);const fC=32;function Z9(n){let e=0;for(;n>1;)n/=2,e++;return e}function xzt(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class e3e{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=Z9(xzt(e+fC+1))-Z9(fC)-1,r=this.getSlotsInEpoch(t),s=e-(r-fC);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*fC:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Z9(fC)):this.slotsPerEpoch}}var Tzt=globalThis.fetch;class Rzt extends ay{constructor(e,t,r){const s=i=>{const o=uy(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function Bzt(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Q1e=56;class gY{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=Bzt(Czt,e),r=e.length-Q1e;is(r>=0,"lookup table is invalid"),is(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=N([we($n(),s,"addresses")]).decode(e.slice(Q1e));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new dt(t.authority[0]):void 0,addresses:i.map(o=>new dt(o))}}}const Czt={index:1,layout:N([F("typeIndex"),PE("deactivationSlot"),fe("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we($n(),Gt(te(),-1),"authority")])},Mzt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function zzt(n){const e=n.match(Mzt);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const So=M8($oe(dt),Qe(),n=>new dt(n)),t3e=Doe([Qe(),Qi("base64")]),qoe=M8($oe(V.Buffer),t3e,n=>V.Buffer.from(n[0],"base64")),r3e=30*1e3;function $zt(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Zs(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function eSe(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function n3e(n){return fu([Oe({jsonrpc:Qi("2.0"),id:Qe(),result:n}),Oe({jsonrpc:Qi("2.0"),id:Qe(),error:Oe({code:S2(),message:Qe(),data:_r(BMt())})})])}const Dzt=n3e(S2());function on(n){return M8(n3e(n),Dzt,e=>"error"in e?e:{...e,result:wt(e.result,n)})}function Yo(n){return on(Oe({context:Oe({slot:ke()}),value:n}))}function MW(n){return Oe({context:Oe({slot:ke()}),value:n})}function J9(n,e){return n===0?new Gk({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new dt(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ae.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new mf(e)}const Ozt=Oe({foundation:ke(),foundationTerm:ke(),initial:ke(),taper:ke(),terminal:ke()}),Lzt=on(Mt(Ut(Oe({epoch:ke(),effectiveSlot:ke(),amount:ke(),postBalance:ke(),commission:_r(Ut(ke()))})))),Kzt=Mt(Oe({slot:ke(),prioritizationFee:ke()})),Wzt=Oe({total:ke(),validator:ke(),foundation:ke(),epoch:ke()}),Nzt=Oe({epoch:ke(),slotIndex:ke(),slotsInEpoch:ke(),absoluteSlot:ke(),blockHeight:_r(ke()),transactionCount:_r(ke())}),Fzt=Oe({slotsPerEpoch:ke(),leaderScheduleSlotOffset:ke(),warmup:Xh(),firstNormalEpoch:ke(),firstNormalSlot:ke()}),Uzt=W8e(Qe(),Mt(ke())),$v=Ut(fu([Oe({}),Qe()])),Vzt=Oe({err:$v}),qzt=Qi("receivedSignature"),Hzt=Oe({"solana-core":Qe(),"feature-set":_r(ke())}),jzt=Oe({program:Qe(),programId:So,parsed:S2()}),Gzt=Oe({programId:So,accounts:Mt(So),data:Qe()}),tSe=Yo(Oe({err:Ut(fu([Oe({}),Qe()])),logs:Ut(Mt(Qe())),accounts:_r(Ut(Mt(Ut(Oe({executable:Xh(),owner:Qe(),lamports:ke(),data:Mt(Qe()),rentEpoch:_r(ke())}))))),unitsConsumed:_r(ke()),returnData:_r(Ut(Oe({programId:Qe(),data:Doe([Qe(),Qi("base64")])}))),innerInstructions:_r(Ut(Mt(Oe({index:ke(),instructions:Mt(fu([jzt,Gzt]))}))))})),Yzt=Yo(Oe({byIdentity:W8e(Qe(),Mt(ke())),range:Oe({firstSlot:ke(),lastSlot:ke()})}));function Zzt(n,e,t,r,s,i){const o=t||Tzt;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new cy(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},J$t)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await kS(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function Jzt(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function Xzt(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const Qzt=on(Ozt),e$t=on(Wzt),t$t=on(Kzt),r$t=on(Nzt),n$t=on(Fzt),s$t=on(Uzt),i$t=on(ke()),o$t=Yo(Oe({total:ke(),circulating:ke(),nonCirculating:ke(),nonCirculatingAccounts:Mt(So)})),mY=Oe({amount:Qe(),uiAmount:Ut(ke()),decimals:ke(),uiAmountString:_r(Qe())}),a$t=Yo(Mt(Oe({address:So,amount:Qe(),uiAmount:Ut(ke()),decimals:ke(),uiAmountString:_r(Qe())}))),c$t=Yo(Mt(Oe({pubkey:So,account:Oe({executable:Xh(),owner:So,lamports:ke(),data:qoe,rentEpoch:ke()})}))),yY=Oe({program:Qe(),parsed:S2(),space:ke()}),u$t=Yo(Mt(Oe({pubkey:So,account:Oe({executable:Xh(),owner:So,lamports:ke(),data:yY,rentEpoch:ke()})}))),l$t=Yo(Mt(Oe({lamports:ke(),address:So}))),s$=Oe({executable:Xh(),owner:So,lamports:ke(),data:qoe,rentEpoch:ke()}),d$t=Oe({pubkey:So,account:s$}),f$t=M8(fu([$oe(V.Buffer),yY]),fu([t3e,yY]),n=>Array.isArray(n)?wt(n,qoe):n),pY=Oe({executable:Xh(),owner:So,lamports:ke(),data:f$t,rentEpoch:ke()}),h$t=Oe({pubkey:So,account:pY}),g$t=Oe({state:fu([Qi("active"),Qi("inactive"),Qi("activating"),Qi("deactivating")]),active:ke(),inactive:ke()}),m$t=on(Mt(Oe({signature:Qe(),slot:ke(),err:$v,memo:Ut(Qe()),blockTime:_r(Ut(ke()))}))),y$t=on(Mt(Oe({signature:Qe(),slot:ke(),err:$v,memo:Ut(Qe()),blockTime:_r(Ut(ke()))}))),p$t=Oe({subscription:ke(),result:MW(s$)}),b$t=Oe({pubkey:So,account:s$}),S$t=Oe({subscription:ke(),result:MW(b$t)}),k$t=Oe({parent:ke(),slot:ke(),root:ke()}),v$t=Oe({subscription:ke(),result:k$t}),A$t=fu([Oe({type:fu([Qi("firstShredReceived"),Qi("completed"),Qi("optimisticConfirmation"),Qi("root")]),slot:ke(),timestamp:ke()}),Oe({type:Qi("createdBank"),parent:ke(),slot:ke(),timestamp:ke()}),Oe({type:Qi("frozen"),slot:ke(),timestamp:ke(),stats:Oe({numTransactionEntries:ke(),numSuccessfulTransactions:ke(),numFailedTransactions:ke(),maxTransactionsPerEntry:ke()})}),Oe({type:Qi("dead"),slot:ke(),timestamp:ke(),err:Qe()})]),w$t=Oe({subscription:ke(),result:A$t}),I$t=Oe({subscription:ke(),result:MW(fu([Vzt,qzt]))}),_$t=Oe({subscription:ke(),result:ke()}),P$t=Oe({pubkey:Qe(),gossip:Ut(Qe()),tpu:Ut(Qe()),rpc:Ut(Qe()),version:Ut(Qe())}),rSe=Oe({votePubkey:Qe(),nodePubkey:Qe(),activatedStake:ke(),epochVoteAccount:Xh(),epochCredits:Mt(Doe([ke(),ke(),ke()])),commission:ke(),lastVote:ke(),rootSlot:Ut(ke())}),E$t=on(Oe({current:Mt(rSe),delinquent:Mt(rSe)})),x$t=fu([Qi("processed"),Qi("confirmed"),Qi("finalized")]),T$t=Oe({slot:ke(),confirmations:Ut(ke()),err:$v,confirmationStatus:_r(x$t)}),R$t=Yo(Mt(Ut(T$t))),B$t=on(ke()),s3e=Oe({accountKey:So,writableIndexes:Mt(ke()),readonlyIndexes:Mt(ke())}),Hoe=Oe({signatures:Mt(Qe()),message:Oe({accountKeys:Mt(Qe()),header:Oe({numRequiredSignatures:ke(),numReadonlySignedAccounts:ke(),numReadonlyUnsignedAccounts:ke()}),instructions:Mt(Oe({accounts:Mt(ke()),data:Qe(),programIdIndex:ke()})),recentBlockhash:Qe(),addressTableLookups:_r(Mt(s3e))})}),i3e=Oe({pubkey:So,signer:Xh(),writable:Xh(),source:_r(fu([Qi("transaction"),Qi("lookupTable")]))}),o3e=Oe({accountKeys:Mt(i3e),signatures:Mt(Qe())}),a3e=Oe({parsed:S2(),program:Qe(),programId:So}),c3e=Oe({accounts:Mt(So),data:Qe(),programId:So}),C$t=fu([c3e,a3e]),M$t=fu([Oe({parsed:S2(),program:Qe(),programId:Qe()}),Oe({accounts:Mt(Qe()),data:Qe(),programId:Qe()})]),u3e=M8(C$t,M$t,n=>"accounts"in n?wt(n,c3e):wt(n,a3e)),l3e=Oe({signatures:Mt(Qe()),message:Oe({accountKeys:Mt(i3e),instructions:Mt(u3e),recentBlockhash:Qe(),addressTableLookups:_r(Ut(Mt(s3e)))})}),X4=Oe({accountIndex:ke(),mint:Qe(),owner:_r(Qe()),programId:_r(Qe()),uiTokenAmount:mY}),d3e=Oe({writable:Mt(So),readonly:Mt(So)}),zW=Oe({err:$v,fee:ke(),innerInstructions:_r(Ut(Mt(Oe({index:ke(),instructions:Mt(Oe({accounts:Mt(ke()),data:Qe(),programIdIndex:ke()}))})))),preBalances:Mt(ke()),postBalances:Mt(ke()),logMessages:_r(Ut(Mt(Qe()))),preTokenBalances:_r(Ut(Mt(X4))),postTokenBalances:_r(Ut(Mt(X4))),loadedAddresses:_r(d3e),computeUnitsConsumed:_r(ke())}),joe=Oe({err:$v,fee:ke(),innerInstructions:_r(Ut(Mt(Oe({index:ke(),instructions:Mt(u3e)})))),preBalances:Mt(ke()),postBalances:Mt(ke()),logMessages:_r(Ut(Mt(Qe()))),preTokenBalances:_r(Ut(Mt(X4))),postTokenBalances:_r(Ut(Mt(X4))),loadedAddresses:_r(d3e),computeUnitsConsumed:_r(ke())}),k2=fu([Qi(0),Qi("legacy")]),Dv=Oe({pubkey:Qe(),lamports:ke(),postBalance:Ut(ke()),rewardType:Ut(Qe()),commission:_r(Ut(ke()))}),z$t=on(Ut(Oe({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),transactions:Mt(Oe({transaction:Hoe,meta:Ut(zW),version:_r(k2)})),rewards:_r(Mt(Dv)),blockTime:Ut(ke()),blockHeight:Ut(ke())}))),$$t=on(Ut(Oe({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),rewards:_r(Mt(Dv)),blockTime:Ut(ke()),blockHeight:Ut(ke())}))),D$t=on(Ut(Oe({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),transactions:Mt(Oe({transaction:o3e,meta:Ut(zW),version:_r(k2)})),rewards:_r(Mt(Dv)),blockTime:Ut(ke()),blockHeight:Ut(ke())}))),O$t=on(Ut(Oe({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),transactions:Mt(Oe({transaction:l3e,meta:Ut(joe),version:_r(k2)})),rewards:_r(Mt(Dv)),blockTime:Ut(ke()),blockHeight:Ut(ke())}))),L$t=on(Ut(Oe({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),transactions:Mt(Oe({transaction:o3e,meta:Ut(joe),version:_r(k2)})),rewards:_r(Mt(Dv)),blockTime:Ut(ke()),blockHeight:Ut(ke())}))),K$t=on(Ut(Oe({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),rewards:_r(Mt(Dv)),blockTime:Ut(ke()),blockHeight:Ut(ke())}))),W$t=on(Ut(Oe({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),transactions:Mt(Oe({transaction:Hoe,meta:Ut(zW)})),rewards:_r(Mt(Dv)),blockTime:Ut(ke())}))),nSe=on(Ut(Oe({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),signatures:Mt(Qe()),blockTime:Ut(ke())}))),X9=on(Ut(Oe({slot:ke(),meta:Ut(zW),blockTime:_r(Ut(ke())),transaction:Hoe,version:_r(k2)}))),jD=on(Ut(Oe({slot:ke(),transaction:l3e,meta:Ut(joe),blockTime:_r(Ut(ke())),version:_r(k2)}))),N$t=Yo(Oe({blockhash:Qe(),feeCalculator:Oe({lamportsPerSignature:ke()})})),F$t=Yo(Oe({blockhash:Qe(),lastValidBlockHeight:ke()})),U$t=Yo(Xh()),V$t=Oe({slot:ke(),numTransactions:ke(),numSlots:ke(),samplePeriodSecs:ke()}),q$t=on(Mt(V$t)),H$t=Yo(Ut(Oe({feeCalculator:Oe({lamportsPerSignature:ke()})}))),j$t=on(Qe()),G$t=on(Qe()),Y$t=Oe({err:$v,logs:Mt(Qe()),signature:Qe()}),Z$t=Oe({result:MW(Y$t),subscription:ke()}),J$t={"solana-client":"js/1.0.0-maintenance"};class X$t{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Zs(l),h=this._buildArgs([],d,void 0,y),m=X1e(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=wt(f,on(ke()));if("error"in g)throw new ar(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=$zt(e),this._rpcWsEndpoint=r||zzt(e),this._rpcClient=Zzt(e,s,i,o,a,c),this._rpcRequest=Jzt(this._rpcClient),this._rpcBatchRequest=Xzt(this._rpcClient),this._rpcWebSocket=new Rzt(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Zs(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=wt(o,Yo(ke()));if("error"in a)throw new ar(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=wt(t,on(Ut(ke())));if("error"in r)throw new ar(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=wt(e,on(ke()));if("error"in t)throw new ar(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=wt(e,i$t);if("error"in t)throw new ar(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=wt(r,o$t);if("error"in s)throw new ar(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=wt(s,Yo(mY));if("error"in i)throw new ar(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=wt(s,Yo(mY));if("error"in i)throw new ar(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Zs(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=wt(c,c$t);if("error"in u)throw new ar(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=wt(o,u$t);if("error"in a)throw new ar(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=wt(s,l$t);if("error"in i)throw new ar(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=wt(s,a$t);if("error"in i)throw new ar(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Zs(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=wt(o,Yo(Ut(s$)));if("error"in a)throw new ar(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Zs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=wt(o,Yo(Ut(pY)));if("error"in a)throw new ar(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Zs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=wt(a,Yo(Mt(Ut(pY))));if("error"in c)throw new ar(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Zs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=wt(a,Yo(Mt(Ut(s$))));if("error"in c)throw new ar(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Zs(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=wt(a,on(g$t));if("error"in c)throw new ar(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Zs(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:eSe(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=Mt(d$t),l=o.withContext===!0?wt(c,Yo(u)):wt(c,on(u));if("error"in l)throw new ar(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Zs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=wt(o,on(Mt(h$t)));if("error"in a)throw new ar(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ae.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return is(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:wm.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:wm.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await kS(1e3),i||(h=await y(),i))return;d({__type:wm.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===wm.PROCESSED)l=d.response;else throw new Woe(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:wm.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await kS(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===wm.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await kS(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new QA(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new QA(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new QA(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new QA(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:wm.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===wm.PROCESSED)a=c.response;else throw new Noe(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=wt(e,on(Mt(P$t)));if("error"in t)throw new ar(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=wt(r,E$t);if("error"in s)throw new ar(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Zs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=wt(i,on(ke()));if("error"in o)throw new ar(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Zs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=wt(i,on(Qe()));if("error"in o)throw new ar(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=wt(s,on(Mt(So)));if("error"in i)throw new ar(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);is(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=wt(s,R$t);if("error"in i)throw new ar(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Zs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=wt(i,on(ke()));if("error"in o)throw new ar(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=wt(r,Qzt);if("error"in s)throw new ar(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Zs(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=wt(a,Lzt);if("error"in c)throw new ar(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=wt(e,e$t);if("error"in t)throw new ar(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Zs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=wt(i,r$t);if("error"in o)throw new ar(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=wt(e,n$t);if("error"in t)throw new ar(t.error,"failed to get epoch schedule");const r=t.result;return new e3e(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=wt(e,s$t);if("error"in t)throw new ar(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=wt(s,B$t);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=wt(r,N$t);if("error"in s)throw new ar(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=wt(t,q$t);if("error"in r)throw new ar(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=wt(s,H$t);if("error"in i)throw new ar(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=yn(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=wt(i,Yo(Ut(ke())));if("error"in o)throw new ar(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=wt(s,t$t);if("error"in i)throw new ar(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Zs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=wt(i,F$t);if("error"in o)throw new ar(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Zs(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=wt(o,U$t);if("error"in a)throw new ar(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=wt(e,on(Hzt));if("error"in t)throw new ar(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=wt(e,on(Qe()));if("error"in t)throw new ar(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Zs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=wt(o,D$t);if("error"in a)throw a.error;return a.result}case"none":{const a=wt(o,$$t);if("error"in a)throw a.error;return a.result}default:{const a=wt(o,z$t);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:J9(d,u.message)},version:d}))}:null}}}catch(a){throw new ar(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Zs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=wt(o,L$t);if("error"in a)throw a.error;return a.result}case"none":{const a=wt(o,K$t);if("error"in a)throw a.error;return a.result}default:{const a=wt(o,O$t);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ar(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=wt(i,Yzt);if("error"in o)throw new ar(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Zs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=wt(o,X9);if("error"in a)throw new ar(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:J9(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Zs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=wt(o,jD);if("error"in a)throw new ar(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Zs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=wt(c,jD);if("error"in u)throw new ar(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Zs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=wt(c,X9);if("error"in u)throw new ar(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:J9(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=wt(s,W$t);if("error"in i)throw new ar(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new mf(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:hs.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=wt(i,on(Mt(ke())));if("error"in o)throw new ar(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=wt(s,nSe);if("error"in i)throw new ar(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=wt(s,nSe);if("error"in i)throw new ar(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=wt(s,X9);if("error"in i)throw new ar(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new mf(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:hs.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=wt(s,jD);if("error"in i)throw new ar(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=wt(o,jD);if("error"in a)throw new ar(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=wt(i,m$t);if("error"in o)throw new ar(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=wt(i,y$t);if("error"in o)throw new ar(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new gY({key:e,state:gY.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=CW.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=wt(r,j$t);if("error"in s)throw new ar(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await kS(100);const r=Date.now()-this._blockhashInfo.lastFetch>=r3e;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await kS(J8e/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Zs(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=wt(i,Yo(ke()));if("error"in o)throw new ar(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=wt(p,tSe);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof hs){let m=e;s=new hs,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=hs.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=wt(y,tSe);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new n$({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=yn(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=wt(a,G$t);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new n$({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=wt(e,p$t);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=X1e([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];is(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Zs(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=wt(e,S$t);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Zs(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:eSe(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=wt(e,Z$t);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=wt(e,v$t);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=wt(e,w$t);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=wt(e,I$t);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=wt(e,_$t);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Mw{constructor(e){this._keypair=void 0,this._keypair=e??G1e()}static generate(){return new Mw(G1e())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=J4(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new Mw({publicKey:r,secretKey:e})}static fromSeed(e){const t=J4(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Mw({publicKey:t,secretKey:r})}get publicKey(){return new dt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Wm=Object.freeze({CreateLookupTable:{index:0,layout:N([F("instruction"),PE("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:N([F("instruction")])},ExtendLookupTable:{index:2,layout:N([F("instruction"),PE(),we($n(),Gt(F(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:N([F("instruction")])},CloseLookupTable:{index:4,layout:N([F("instruction")])}});class Q$t{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Wm))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=_s(Wm.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=_s(Wm.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new dt(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Goe.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class Goe{constructor(){}static createLookupTable(e){const[t,r]=dt.findProgramAddressSync([e.authority.toBuffer(),ya(BigInt(e.recentSlot),8)],this.programId),s=Wm.CreateLookupTable,i=jn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:vc.programId,isSigner:!1,isWritable:!1}];return[new Ns({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Wm.FreezeLookupTable,r=jn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ns({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Wm.ExtendLookupTable,r=jn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:vc.programId,isSigner:!1,isWritable:!1}),new Ns({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Wm.DeactivateLookupTable,r=jn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ns({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Wm.CloseLookupTable,r=jn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Ns({programId:this.programId,keys:s,data:r})}}Goe.programId=new dt("AddressLookupTab1e1111111111111111111111111");class e8t{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(wh))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=_s(wh.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=_s(wh.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=_s(wh.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=_s(wh.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(Yoe.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const wh=Object.freeze({RequestUnits:{index:0,layout:N([te("instruction"),F("units"),F("additionalFee")])},RequestHeapFrame:{index:1,layout:N([te("instruction"),F("bytes")])},SetComputeUnitLimit:{index:2,layout:N([te("instruction"),F("units")])},SetComputeUnitPrice:{index:3,layout:N([te("instruction"),PE("microLamports")])}});class Yoe{constructor(){}static requestUnits(e){const t=wh.RequestUnits,r=jn(t,e);return new Ns({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=wh.RequestHeapFrame,r=jn(t,e);return new Ns({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=wh.SetComputeUnitLimit,r=jn(t,e);return new Ns({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=wh.SetComputeUnitPrice,r=jn(t,{microLamports:BigInt(e.microLamports)});return new Ns({keys:[],programId:this.programId,data:r})}}Yoe.programId=new dt("ComputeBudget111111111111111111111111111111");const sSe=64,iSe=32,oSe=64,aSe=N([te("numSignatures"),te("padding"),xe("signatureOffset"),xe("signatureInstructionIndex"),xe("publicKeyOffset"),xe("publicKeyInstructionIndex"),xe("messageDataOffset"),xe("messageDataSize"),xe("messageInstructionIndex")]);class $W{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;is(t.length===iSe,`Public Key must be ${iSe} bytes but received ${t.length} bytes`),is(s.length===oSe,`Signature must be ${oSe} bytes but received ${s.length} bytes`);const o=aSe.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return aSe.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new Ns({keys:[],programId:$W.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;is(t.length===sSe,`Private key must be ${sSe} bytes but received ${t.length} bytes`);try{const i=Mw.fromSecretKey(t),o=i.publicKey.toBytes(),a=Loe(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}$W.programId=new dt("Ed25519SigVerify111111111111111111111111111");const t8t=(n,e)=>{const t=TW.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};TW.utils.isValidPrivateKey;const r8t=TW.getPublicKey,cSe=32,Q9=20,uSe=64,n8t=11,eV=N([te("numSignatures"),xe("signatureOffset"),te("signatureInstructionIndex"),xe("ethAddressOffset"),te("ethAddressInstructionIndex"),xe("messageDataOffset"),xe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class zw{constructor(){}static publicKeyToEthAddress(e){is(e.length===uSe,`Public key must be ${uSe} bytes but received ${e.length} bytes`);try{return V.Buffer.from(U1e(yn(e))).slice(-Q9)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return zw.createInstructionWithEthAddress({ethAddress:zw.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,is(a.length===Q9,`Address must be ${Q9} bytes but received ${a.length} bytes`);const c=1+n8t,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(eV.span+r.length);return eV.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:yn(s),ethAddress:yn(a),recoveryId:i},h),h.fill(yn(r),eV.span),new Ns({keys:[],programId:zw.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;is(t.length===cSe,`Private key must be ${cSe} bytes but received ${t.length} bytes`);try{const i=yn(t),o=r8t(i,!1).slice(1),a=V.Buffer.from(U1e(yn(r))),[c,u]=t8t(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}zw.programId=new dt("KeccakSecp256k11111111111111111111111111111");var f3e;const h3e=new dt("StakeConfig11111111111111111111111111111111");class g3e{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class z8{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}f3e=z8;z8.default=new f3e(0,0,dt.default);class s8t{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(tc))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=_s(tc.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new g3e(new dt(t.staker),new dt(t.withdrawer)),lockup:new z8(r.unixTimestamp,r.epoch,new dt(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),_s(tc.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=_s(tc.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new dt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=_s(tc.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new dt(i),newAuthorizedPubkey:new dt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=_s(tc.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),_s(tc.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=_s(tc.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),_s(tc.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(DW.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const tc=Object.freeze({Initialize:{index:0,layout:N([F("instruction"),izt(),ozt()])},Authorize:{index:1,layout:N([F("instruction"),$n("newAuthorized"),F("stakeAuthorizationType")])},Delegate:{index:2,layout:N([F("instruction")])},Split:{index:3,layout:N([F("instruction"),Ee("lamports")])},Withdraw:{index:4,layout:N([F("instruction"),Ee("lamports")])},Deactivate:{index:5,layout:N([F("instruction")])},Merge:{index:7,layout:N([F("instruction")])},AuthorizeWithSeed:{index:8,layout:N([F("instruction"),$n("newAuthorized"),F("stakeAuthorizationType"),VS("authoritySeed"),$n("authorityOwner")])}}),i8t=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class DW{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||z8.default,o=tc.Initialize,a=jn(o,{authorized:{staker:yn(r.staker.toBuffer()),withdrawer:yn(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:yn(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:_E,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Ns(c)}static createAccountWithSeed(e){const t=new hs;t.add(vc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new hs;t.add(vc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=tc.Delegate,o=jn(i);return new hs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Zf,isSigner:!1,isWritable:!1},{pubkey:WL,isSigner:!1,isWritable:!1},{pubkey:h3e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=tc.Authorize,c=jn(a,{newAuthorized:yn(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Zf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new hs().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=tc.AuthorizeWithSeed,l=jn(u,{newAuthorized:yn(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:yn(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Zf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new hs().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=tc.Split,a=jn(o,{lamports:i});return new Ns({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new hs;return r.add(vc.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new hs;return u.add(vc.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(vc.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=tc.Merge,o=jn(i);return new hs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Zf,isSigner:!1,isWritable:!1},{pubkey:WL,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=tc.Withdraw,c=jn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Zf,isSigner:!1,isWritable:!1},{pubkey:WL,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new hs().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=tc.Deactivate,i=jn(s);return new hs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Zf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}DW.programId=new dt("Stake11111111111111111111111111111111111111");DW.space=200;class m3e{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class o8t{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ih))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=_s(Ih.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new m3e(new dt(t.nodePubkey),new dt(t.authorizedVoter),new dt(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=_s(Ih.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new dt(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=_s(Ih.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new dt(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new dt(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=_s(Ih.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(v2.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ih=Object.freeze({InitializeAccount:{index:0,layout:N([F("instruction"),azt()])},Authorize:{index:1,layout:N([F("instruction"),$n("newAuthorized"),F("voteAuthorizationType")])},Withdraw:{index:3,layout:N([F("instruction"),Ee("lamports")])},UpdateValidatorIdentity:{index:4,layout:N([F("instruction")])},AuthorizeWithSeed:{index:10,layout:N([F("instruction"),czt()])}}),a8t=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class v2{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=Ih.InitializeAccount,o=jn(i,{voteInit:{nodePubkey:yn(s.nodePubkey.toBuffer()),authorizedVoter:yn(s.authorizedVoter.toBuffer()),authorizedWithdrawer:yn(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:_E,isSigner:!1,isWritable:!1},{pubkey:Zf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Ns(a)}static createAccount(e){const t=new hs;return t.add(vc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=Ih.Authorize,a=jn(o,{newAuthorized:yn(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Zf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new hs().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=Ih.AuthorizeWithSeed,u=jn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:yn(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:yn(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Zf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new hs().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=Ih.Withdraw,a=jn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new hs().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return v2.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=Ih.UpdateValidatorIdentity,o=jn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new hs().add({keys:a,programId:this.programId,data:o})}}v2.programId=new dt("Vote111111111111111111111111111111111111111");v2.space=3762;const y3e=new dt("Va1idator1nfo111111111111111111111111111111"),c8t=Oe({name:Qe(),website:_r(Qe()),details:_r(Qe()),iconUrl:_r(Qe()),keybaseUsername:_r(Qe())});class Zoe{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Gu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new dt(Yu(t,0,Nh)),a=Ah(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(y3e)&&s[1].isSigner){const i=VS().decode(V.Buffer.from(t)),o=JSON.parse(i);return L8e(o,c8t),new Zoe(s[1].publicKey,o)}return null}}const u8t=new dt("Vote111111111111111111111111111111111111111"),l8t=N([$n("nodePubkey"),$n("authorizedWithdrawer"),te("commission"),fe(),we(N([fe("slot"),F("confirmationCount")]),Gt(F(),-8),"votes"),te("rootSlotValid"),fe("rootSlot"),fe(),we(N([fe("epoch"),$n("authorizedVoter")]),Gt(F(),-8),"authorizedVoters"),N([we(N([$n("authorizedPubkey"),fe("epochOfLastAuthorizedSwitch"),fe("targetEpoch")]),32,"buf"),fe("idx"),te("isEmpty")],"priorVoters"),fe(),we(N([fe("epoch"),fe("credits"),fe("prevCredits")]),Gt(F(),-8),"epochCredits"),N([fe("slot"),fe("timestamp")],"lastTimestamp")]);class Joe{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=l8t.decode(yn(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new Joe({nodePubkey:new dt(r.nodePubkey),authorizedWithdrawer:new dt(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(d8t),priorVoters:f8t(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function d8t({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new dt(n)}}function lSe({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new dt(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function f8t({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(lSe),...n.slice(0,e).map(lSe)]}const dSe={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function h8t(n,e){const t=e===!1?"http":"https";if(!n)return dSe[t].devnet;const r=dSe[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function g8t(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new n$({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const m8t=1e9;var y8t=Object.freeze(Object.defineProperty({__proto__:null,Account:rzt,AddressLookupTableAccount:gY,AddressLookupTableInstruction:Q$t,AddressLookupTableProgram:Goe,Authorized:g3e,BLOCKHASH_CACHE_TIMEOUT_MS:r3e,BPF_LOADER_DEPRECATED_PROGRAM_ID:nzt,BPF_LOADER_PROGRAM_ID:wzt,BpfLoader:Izt,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:wh,ComputeBudgetInstruction:e8t,ComputeBudgetProgram:Yoe,Connection:X$t,Ed25519Program:$W,Enum:ezt,EpochSchedule:e3e,FeeCalculatorLayout:X8e,Keypair:Mw,LAMPORTS_PER_SOL:m8t,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Wm,Loader:Yk,Lockup:z8,MAX_SEED_LENGTH:G8e,Message:mf,MessageAccountKeys:r$,MessageV0:Gk,NONCE_ACCOUNT_LENGTH:hY,NonceAccount:CW,PACKET_DATA_SIZE:_b,PUBLIC_KEY_LENGTH:Nh,PublicKey:dt,SIGNATURE_LENGTH_IN_BYTES:t$,SOLANA_SCHEMA:TM,STAKE_CONFIG_ID:h3e,STAKE_INSTRUCTION_LAYOUTS:tc,SYSTEM_INSTRUCTION_LAYOUTS:oi,SYSVAR_CLOCK_PUBKEY:Zf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:hzt,SYSVAR_INSTRUCTIONS_PUBKEY:gzt,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:KL,SYSVAR_RENT_PUBKEY:_E,SYSVAR_REWARDS_PUBKEY:mzt,SYSVAR_SLOT_HASHES_PUBKEY:yzt,SYSVAR_SLOT_HISTORY_PUBKEY:pzt,SYSVAR_STAKE_HISTORY_PUBKEY:WL,Secp256k1Program:zw,SendTransactionError:n$,SolanaJSONRPCError:ar,SolanaJSONRPCErrorCode:bzt,StakeAuthorizationLayout:i8t,StakeInstruction:s8t,StakeProgram:DW,Struct:Koe,SystemInstruction:vzt,SystemProgram:vc,Transaction:hs,TransactionExpiredBlockheightExceededError:Woe,TransactionExpiredNonceInvalidError:QA,TransactionExpiredTimeoutError:Noe,TransactionInstruction:Ns,TransactionMessage:Uoe,TransactionStatus:wm,VALIDATOR_INFO_KEY:y3e,VERSION_PREFIX_MASK:RW,VOTE_PROGRAM_ID:u8t,ValidatorInfo:Zoe,VersionedMessage:Foe,VersionedTransaction:Voe,VoteAccount:Joe,VoteAuthorizationLayout:a8t,VoteInit:m3e,VoteInstruction:o8t,VoteProgram:v2,clusterApiUrl:h8t,sendAndConfirmRawTransaction:g8t,sendAndConfirmTransaction:fY},Symbol.toStringTag,{value:"Module"})),ru=Wl(y8t),fi={},Xoe={},OW={};Object.defineProperty(OW,"__esModule",{value:!0});OW.IDL=void 0;OW.IDL={version:"0.1.0",name:"crew",instructions:[{name:"closeAccounts",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"recipient",isMut:!0,isSigner:!1,docs:["The recipient - receives the account rent",""]},{name:"crewConfig",isMut:!0,isSigner:!1,docs:["The crew config to potentially close. All remaining accounts must be dependent on this account",""]}],args:[{name:"input",type:{defined:"CloseAccountsInput"}}]},{name:"mintCrewMember",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The auth profile"]},{name:"rentRecipient",isMut:!0,isSigner:!1,docs:["The account to receive refunded rent if all crew have been minted"]},{name:"crewConfig",isMut:!0,isSigner:!1,docs:["The registered Crew Config for the deployed Crew program"]},{name:"owner",isMut:!0,isSigner:!1,docs:["The owner of the crew that will be minted. This is validated to be either the `owner` on the","[`UserRedemption`] account or the `sage_player_profile` if remaining accounts are provided.","Marked as mutable to allow being used for direct minting.",""]},{name:"userRedemption",isMut:!0,isSigner:!1,docs:["The user redemption account to be created which holds data about the crew to be minted"]},{name:"packType",isMut:!1,isSigner:!1,docs:["The pack type that is being redeemed."]},{name:"packTiers",isMut:!1,isSigner:!1,docs:["Account containing the probability tiers for the `PackType`"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]},{name:"collectionMint",isMut:!1,isSigner:!1,docs:["The collection mint"]},{name:"collectionMetadata",isMut:!0,isSigner:!1,docs:["The collection metadata"]},{name:"collectionEdition",isMut:!1,isSigner:!1,docs:["The collection edition"]},{name:"compressionProgram",isMut:!1,isSigner:!1,docs:["The compression program"]},{name:"bubblegumProgram",isMut:!1,isSigner:!1,docs:["The bubblegum program"]},{name:"logWrapper",isMut:!1,isSigner:!1,docs:["The log wrapper"]},{name:"treeConfig",isMut:!0,isSigner:!1,docs:["The tree config"]},{name:"merkleTree",isMut:!0,isSigner:!1,docs:["The merkle tree to place the crew member in"]},{name:"collectionAuthorityRecordPda",isMut:!1,isSigner:!1,docs:["The collection authority record PDA"]},{name:"serverHashPreimage",isMut:!1,isSigner:!1,docs:["The preimage bytes of the server hash in the user redemption."]}],args:[{name:"input",type:{defined:"MintCrewMemberInput"}}]},{name:"redeemCrewPack",accounts:[{name:"packSftAuthority",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew config's authority profile"]},{name:"profileKey",isMut:!1,isSigner:!0,docs:["The key authorized with PROVIDE_SERVER_HASH permissions"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the instruction and new accounts"]},{name:"owner",isMut:!1,isSigner:!1,docs:["The user's profile with permissions to redeem crew packs"]},{name:"userRedemption",isMut:!0,isSigner:!1,docs:["The user redemption account to be created which holds data about the crew to be minted"]},{name:"sftRedemption",isMut:!1,isSigner:!1,docs:["The `SftRedemption` account to be used"]},{name:"packType",isMut:!1,isSigner:!1,docs:["The pack type that is being redeemed."]},{name:"packTiers",isMut:!1,isSigner:!1,docs:["Account containing the probability tiers for the `PackType`"]},{name:"crewConfig",isMut:!0,isSigner:!1,docs:["The Crew Config account for the deployed Crew program"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The account that holds the user's Crew Pack SPL tokens."]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program."]},{name:"instructionsSysvar",isMut:!1,isSigner:!1,docs:["Solana Instructions Sysvar"]},{name:"recentSlothashes",isMut:!1,isSigner:!1,docs:["Solana recent slothashes"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]}],args:[{name:"input",type:{defined:"RedeemCrewPacksInput"}}]},{name:"registerCrewConfig",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"crewConfig",isMut:!0,isSigner:!1,docs:["The associated pack type which represents the pack type that is being registered."]},{name:"seedPubkey",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]}],args:[{name:"args",type:{defined:"RegisterCrewConfigArgs"}}]},{name:"registerPackTiers",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"packTiers",isMut:!0,isSigner:!1,docs:["The associated pack type which represents the pack type that is being registered."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The registered Crew Config for the deployed Crew program"]}],args:[{name:"input",type:{defined:"RegisterPackTiersInput"}}]},{name:"registerPackType",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"packType",isMut:!0,isSigner:!1,docs:["The associated pack type which represents the pack type that is being registered."]},{name:"packTiers",isMut:!1,isSigner:!1,docs:["Account defining the probability tiers for the new `PackType`"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The registered Crew Config for the deployed Crew program"]}],args:[{name:"input",type:{defined:"RegisterPackTypeInput"}}]},{name:"registerSftRedemption",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"sftRedemptionData",isMut:!0,isSigner:!1,docs:["The `SftRedemption` account to be created"]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The registered Crew Config for the deployed Crew program"]},{name:"packType",isMut:!1,isSigner:!1,docs:["The associated pack type which represents the pack that is being redeemed."]},{name:"sftMint",isMut:!1,isSigner:!1,docs:["The associated mint which represents the mint of the SFT that is being exchanged."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]}],args:[{name:"input",type:{defined:"RegisterSftRedemptionInput"}}]},{name:"updateCrewConfig",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"crewConfig",isMut:!0,isSigner:!1,docs:["The associated pack type which represents the pack type that is being registered."]}],args:[{name:"args",type:{defined:"UpdateCrewConfigArgs"}}]},{name:"updatePackTiers",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"packTiers",isMut:!0,isSigner:!1,docs:["The associated pack type which represents the pack type that is being updated."]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The registered Crew Config for the deployed Crew program"]}],args:[{name:"input",type:{defined:"UpdatePackTiersInput"}}]}],accounts:[{name:"crewConfig",docs:["`CrewConfig` is the main auth account that manages access to crew operations"],type:{kind:"struct",fields:[{name:"version",docs:["The data version"],type:"u8"},{name:"seedPubkey",docs:["Used as random bytes for the seed to allow for multiple CrewConfig accounts"],type:"publicKey"},{name:"bump",docs:["The bump seed"],type:"u8"},{name:"profile",docs:["auth profile"],type:"publicKey"},{name:"namePrefix",docs:["The name prefix"],type:{array:["u8",32]}},{name:"namePrefixLen",docs:["The length of the name prefix"],type:"u8"},{name:"symbol",docs:["The symbol"],type:{array:["u8",10]}},{name:"symbolLen",docs:["The length of the symbol"],type:"u8"},{name:"uriPrefix",docs:["The uri prefix"],type:{array:["u8",40]}},{name:"uriPrefixLen",docs:["The length of the uri prefix"],type:"u8"},{name:"sellerFeeBasisPoints",docs:["Royalty rate for the collection"],type:"u16"},{name:"collectionMint",docs:["The collection the crew belongs to"],type:"publicKey"},{name:"creators",docs:["The creators who will split any royalties"],type:{array:[{defined:"CrewCreator"},4]}},{name:"creatorCount",docs:["The number of creators"],type:"u8"},{name:"totalMinted",docs:["Total crew minted"],type:"u32"},{name:"totalAllocated",docs:["Total crew allocated to user redemption accounts"],type:"u32"}]}},{name:"packTiers",docs:["`PackTiers` is a data structure used for defining the odds of rolling each rarity of card in a pack."],type:{kind:"struct",fields:[{name:"version",docs:["The data version"],type:"u8"},{name:"crewConfig",type:"publicKey"},{name:"seedPubkey",docs:["The pubkey used as a PDA seed"],type:"publicKey"},{name:"tier",docs:["The tier of the pack"],type:"u8"},{name:"bump",docs:["The bump seed"],type:"u8"},{name:"common",docs:["The weight for rolling a common card"],type:"u32"},{name:"uncommon",docs:["The weight for rolling an uncommon card"],type:"u32"},{name:"rare",docs:["The weight for rolling a rare card"],type:"u32"},{name:"epic",docs:["The weight for rolling an epic card"],type:"u32"},{name:"legendary",docs:["The weight for rolling a legendary card"],type:"u32"},{name:"anomaly",docs:["The weight for rolling an anomaly card"],type:"u32"}]}},{name:"packType",docs:["`PackType` is a data structure used for defining the different types of packs that can be opened in the Crew program."],type:{kind:"struct",fields:[{name:"version",docs:["The data version"],type:"u8"},{name:"bump",docs:["The bump seed"],type:"u8"},{name:"crewConfig",docs:["The associated crew config account"],type:"publicKey"},{name:"packTiers",docs:["The tier of the pack"],type:"publicKey"},{name:"faction",docs:["The faction of the pack"],type:"u8"}]}},{name:"sftRedemption",docs:["`SftRedemption` is a data account used for handling the redemption of SFTs in the Crew program.","This account details the number and type of cNFTs that are to be minted in exchange for the given SFT."],type:{kind:"struct",fields:[{name:"version",docs:["The data version"],type:"u8"},{name:"bump",docs:["the bump seed"],type:"u8"},{name:"packType",docs:["The pack type that is being redeemed."],type:"publicKey"},{name:"sftMint",docs:["The mint of the SFT that is being exchanged."],type:"publicKey"},{name:"crewConfig",docs:["The registered Crew Config for the deployed Crew program"],type:"publicKey"},{name:"redemptionAmount",docs:["The number of cNFTs being received in exchange for the SFT"],type:"u32"}]}},{name:"userRedemption",docs:["`UserRedemption` is a data structure used for handling the redemption of cNFTs by users in the Crew program."],type:{kind:"struct",fields:[{name:"version",docs:["The data version"],type:"u8"},{name:"bump",docs:["The bump seed"],type:"u8"},{name:"crewConfig",docs:["The associated crew config account"],type:"publicKey"},{name:"seedPubkey",docs:["The pubkey used to derive the address of the UserRedemption account."],type:"publicKey"},{name:"owner",docs:["The account that recieves the minted cNFTs"],type:"publicKey"},{name:"mintOffset",docs:["The number of cNFTs that had already been allocated when this account was created. All","cNFTs minted from this account calculate their mint number (i.e. NFT #0, #100, etc.) from this offset."],type:"u32"},{name:"amount",docs:["Total number of CNFTs this account is responsible for."],type:"u32"},{name:"numberMinted",docs:["The number of `cNFTs` that have been minted."],type:"u32"},{name:"packType",docs:["The pack type that is being redeemed."],type:"publicKey"},{name:"userSeed",docs:["The user provided hash used to generate the pseudo-random data."],type:{array:["u8",32]}},{name:"serverHash",docs:["The system hash used to generate the pseudo-random data."],type:{array:["u8",32]}},{name:"sageProfile",docs:["Optional sage profile key for minting directly to sage"],type:"publicKey"}]}}],types:[{name:"CloseAccountsInput",type:{kind:"struct",fields:[{name:"keyIndex",type:"u16"},{name:"closeCrewConfig",type:"bool"}]}},{name:"CrewCreator",docs:["A creator on the crew collection"],type:{kind:"struct",fields:[{name:"key",docs:["The creator's key"],type:"publicKey"},{name:"share",docs:["The creator's share of royalties"],type:"u8"}]}},{name:"CrewCreatorUnpacked",docs:["Unpacked version of [`CrewCreator`]"],type:{kind:"struct",fields:[{name:"key",docs:["The creator's key"],type:"publicKey"},{name:"share",docs:["The creator's share of royalties"],type:"u8"}]}},{name:"MintCrewMemberInput",docs:["The input for the `redeem_crew_packs` instruction."],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the profile's permissions list"],type:"u16"},{name:"userRedemptionIndex",docs:["The index of the crew member in the `UserRedemption` account"],type:"u32"},{name:"dataHash",docs:["The hash of the off chain data"],type:{array:["u8",16]}}]}},{name:"RedeemCrewPacksInput",docs:["Input for redeeming crew packs via `RedeemCrewPacks`"],type:{kind:"struct",fields:[{name:"quantity",docs:["The number of crew pack SFTs to redeem"],type:"u32"},{name:"seedPubkey",docs:["A pubkey to use as a seed for the `UserRedemption` account"],type:"publicKey"},{name:"serverHash",docs:["Server provided sha256 hash of a random pubkey preimage used during minting"],type:{array:["u8",32]}},{name:"keyIndex",docs:["The index of the profile_key in the profile's permission list"],type:"u16"}]}},{name:"RegisterCrewConfigArgs",docs:["Arguments for the `register_crew_config` instruction."],type:{kind:"struct",fields:[{name:"namePrefix",docs:["The name prefix to use for all minted crew"],type:"string"},{name:"symbol",docs:["The symbol to use for all minted crew"],type:"string"},{name:"uriPrefix",docs:["The URI prefix to use for all minted crew"],type:"string"},{name:"sellerFeeBasisPoints",docs:["The fee basis points to charge for selling crew"],type:"u16"},{name:"collection",docs:["The mint that will be used for all crew"],type:"publicKey"},{name:"creators",docs:["The creators of the crew and their share of the royalties"],type:{vec:{defined:"CrewCreatorUnpacked"}}}]}},{name:"RegisterPackTiersInput",docs:["`RegisterPackTiersInput` is a data structure used for handling the input parameters","for the `register_pack_tiers` function in the Crew program."],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the authorizing key in the crew permissions profile"],type:"u16"},{name:"seedPubkey",docs:["The seed pubkey for the pack tiers"],type:"publicKey"},{name:"packTier",docs:["The tier of the pack to be registered"],type:"u8"},{name:"common",docs:["The weight for receiving a common card"],type:"u32"},{name:"uncommon",docs:["The weight for receiving an uncommon card"],type:"u32"},{name:"rare",docs:["The weight for receiving a rare card"],type:"u32"},{name:"epic",docs:["The weight for receiving an epic card"],type:"u32"},{name:"legendary",docs:["The weight for receiving a legendary card"],type:"u32"},{name:"anomaly",docs:["The weight for receiving an anomaly card"],type:"u32"}]}},{name:"RegisterPackTypeInput",docs:["`RegisterPackTypeInput` is a data structure used for handling the input parameters","for the `register_pack_type` function in the Crew program."],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the authorizing key in the crew permissions profile"],type:"u16"},{name:"faction",docs:["The faction of the pack"],type:"u8"}]}},{name:"RegisterSftRedemptionInput",docs:["`RegisterSftRedemptionInput` is a data structure used for handling the input parameters","for the `register_sft_redemption` function in the Crew program."],type:{kind:"struct",fields:[{name:"redemptionAmount",docs:["The number of cNFTs being received in exchange for the SFT"],type:"u32"},{name:"keyIndex",docs:["the index of the authorizing key in the crew permissions profile"],type:"u16"}]}},{name:"UpdateCrewConfigArgs",docs:["Arguments for the `update_crew_config` instruction."],type:{kind:"struct",fields:[{name:"keyIndex",type:"u16"},{name:"namePrefix",docs:["The name prefix to use for all minted crew"],type:{option:"string"}},{name:"symbol",docs:["The symbol to use for all minted crew"],type:{option:"string"}},{name:"uriPrefix",docs:["The URI prefix to use for all minted crew"],type:{option:"string"}},{name:"sellerFeeBasisPoints",docs:["The fee basis points to charge for selling crew"],type:{option:"u16"}},{name:"collection",docs:["The mint that will be used for all crew"],type:{option:"publicKey"}},{name:"creators",docs:["The creators of the crew and their share of the royalties"],type:{option:{vec:{defined:"CrewCreatorUnpacked"}}}}]}},{name:"UpdatePackTiersInput",docs:["`UpdatePackTiersInput` is a data structure used for handling the input parameters","for the `update_pack_tiers` function in the Crew program."],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the authorizing key in the crew permissions profile"],type:"u16"},{name:"common",docs:["The weight for receiving a common card"],type:{option:"u32"}},{name:"uncommon",docs:["The weight for receiving an uncommon card"],type:{option:"u32"}},{name:"rare",docs:["The weight for receiving a rare card"],type:{option:"u32"}},{name:"epic",docs:["The weight for receiving an epic card"],type:{option:"u32"}},{name:"legendary",docs:["The weight for receiving a legendary card"],type:{option:"u32"}},{name:"anomaly",docs:["The weight for receiving an anomaly card"],type:{option:"u32"}}]}}],errors:[{code:6e3,name:"AmountRequired",msg:"Amount Required"},{code:6001,name:"InvalidMint",msg:"Invalid Mint"},{code:6002,name:"AddressMismatch",msg:"Address Mismatch"},{code:6003,name:"PackTypeMismatch",msg:"Pack Type Mismatch"},{code:6004,name:"CrewConfigMismatch",msg:"Crew Config Mismatch"},{code:6005,name:"InvalidOdds",msg:"The provided odds do not sum to 100%"},{code:6006,name:"IndexOutOfBounds",msg:"Index Out of Bounds"},{code:6007,name:"RedemptionIndexOutOfBounds",msg:"Redemption index out of bounds"},{code:6008,name:"CrewAlreadyMinted",msg:"Crew at redemption index already minted"},{code:6009,name:"InvalidMerkleTree",msg:"Can only mint crew to trees listed in crew config"},{code:6010,name:"InvalidTransactionData",msg:"RedeemCrewPacks must be the only non compute budget ix in the transaction"},{code:6011,name:"NamePrefixTooLong",msg:"Name prefix must be 32 bytes or less"},{code:6012,name:"URIPrefixTooLong",msg:"URI prefix must be 40 bytes or less"},{code:6013,name:"SymbolTooLong",msg:"Symbol must be 10 bytes or less"},{code:6014,name:"TooManyCreators",msg:"Can't have more than 4 creators"},{code:6015,name:"InvalidCreatorShares",msg:"Shares must equal 100"},{code:6016,name:"ProfileMismatch",msg:"Profile mismatch"},{code:6017,name:"HashMismatch",msg:"Hash of provided preimage mismatch"},{code:6018,name:"NoSageProfile",msg:"Remaining accounts exist during minting with no sage profile set"},{code:6019,name:"InvalidMintingRemainingAccounts",msg:"Invalid number of remaining accounts for minting"}]};(function(n){var e=K&&K.__createBinding||(Object.create?function(y,h,m,f){f===void 0&&(f=m);var g=Object.getOwnPropertyDescriptor(h,m);(!g||("get"in g?!h.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return h[m]}}),Object.defineProperty(y,f,g)}:function(y,h,m,f){f===void 0&&(f=m),y[f]=h[m]}),t=K&&K.__setModuleDefault||(Object.create?function(y,h){Object.defineProperty(y,"default",{enumerable:!0,value:h})}:function(y,h){y.default=h}),r=K&&K.__decorate||function(y,h,m,f){var g=arguments.length,b=g<3?h:f===null?f=Object.getOwnPropertyDescriptor(h,m):f,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(y,h,m,f);else for(var p=y.length-1;p>=0;p--)(S=y[p])&&(b=(g<3?S(b):g>3?S(h,m,b):S(h,m))||b);return g>3&&b&&Object.defineProperty(h,m,b),b},s=K&&K.__importStar||function(y){if(y&&y.__esModule)return y;var h={};if(y!=null)for(var m in y)m!=="default"&&Object.prototype.hasOwnProperty.call(y,m)&&e(h,y,m);return t(h,y),h},i=K&&K.__metadata||function(y,h){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(y,h)};Object.defineProperty(n,"__esModule",{value:!0}),n.optionalEquals=n.CrewProgram=n.crewErrorMap=n.CREW_IDL=void 0;const o=s(Kc),a=s(fr),c=OW;Object.defineProperty(n,"CREW_IDL",{enumerable:!0,get:function(){return c.IDL}});const u=Sf;n.crewErrorMap=a.generateErrorMap(c.IDL);let l=class extends a.ListenProgram{constructor(h){super(h,{crewConfig:u.CrewConfig,packTiers:u.PackTiers,packType:u.PackType,sftRedemption:u.SftRedemption,userRedemption:u.UserRedemption})}static buildProgram(h,m,f){return new o.Program(c.IDL,h,m,f)}};n.CrewProgram=l,n.CrewProgram=l=r([a.staticImplements(),i("design:paramtypes",[Object])],l);function d(y,h,m){return y===null&&h===null?!0:y===null||h===null?!1:m(y,h)}n.optionalEquals=d})(Xoe);var p8t=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),b8t=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Qoe=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&p8t(e,n,t);return b8t(e,n),e};Object.defineProperty(fi,"__esModule",{value:!0});fi.updatePackTiersInputEquals=fi.updateCrewConfigArgsEquals=fi.registerSftRedemptionInputEquals=fi.registerPackTypeInputEquals=fi.registerPackTiersInputEquals=fi.registerCrewConfigArgsEquals=fi.redeemCrewPacksInputEquals=fi.mintCrewMemberInputEquals=fi.crewCreatorUnpackedEquals=fi.crewCreatorEquals=fi.closeAccountInputEquals=void 0;const LW=Qoe(fr),p3e=Qoe(Poe),Rl=Qoe(Xoe);function S8t(n,e){return n.keyIndex===e.keyIndex&&n.closeCrewConfig===e.closeCrewConfig}fi.closeAccountInputEquals=S8t;function k8t(n,e){return n.key.equals(e.key)&&n.share===e.share}fi.crewCreatorEquals=k8t;function v8t(n,e){return n.key.equals(e.key)&&n.share===e.share}fi.crewCreatorUnpackedEquals=v8t;function A8t(n,e){return n.keyIndex===e.keyIndex&&n.userRedemptionIndex===e.userRedemptionIndex&&LW.arrayDeepEquals(n.dataHash,e.dataHash,(t,r)=>t===r)}fi.mintCrewMemberInputEquals=A8t;function w8t(n,e){return n.quantity===e.quantity&&n.seedPubkey.equals(e.seedPubkey)&&LW.arrayDeepEquals(n.serverHash,e.serverHash,(t,r)=>t===r)&&n.keyIndex===e.keyIndex&&Rl.optionalEquals(n.sageProfile,e.sageProfile,(t,r)=>t.equals(r))}fi.redeemCrewPacksInputEquals=w8t;function I8t(n,e){return n.namePrefix===e.namePrefix&&n.symbol===e.symbol&&n.uriPrefix===e.uriPrefix&&n.sellerFeeBasisPoints===e.sellerFeeBasisPoints&&n.collection.equals(e.collection)&&LW.arrayDeepEquals(n.creators,e.creators,(t,r)=>p3e.crewCreatorUnpackedEquals(t,r))}fi.registerCrewConfigArgsEquals=I8t;function _8t(n,e){return n.keyIndex===e.keyIndex&&n.seedPubkey.equals(e.seedPubkey)&&n.packTier===e.packTier&&n.common===e.common&&n.uncommon===e.uncommon&&n.rare===e.rare&&n.epic===e.epic&&n.legendary===e.legendary&&n.anomaly===e.anomaly}fi.registerPackTiersInputEquals=_8t;function P8t(n,e){return n.keyIndex===e.keyIndex&&n.faction===e.faction}fi.registerPackTypeInputEquals=P8t;function E8t(n,e){return n.redemptionAmount===e.redemptionAmount&&n.keyIndex===e.keyIndex}fi.registerSftRedemptionInputEquals=E8t;function x8t(n,e){return n.keyIndex===e.keyIndex&&Rl.optionalEquals(n.namePrefix,e.namePrefix,(t,r)=>t===r)&&Rl.optionalEquals(n.symbol,e.symbol,(t,r)=>t===r)&&Rl.optionalEquals(n.uriPrefix,e.uriPrefix,(t,r)=>t===r)&&Rl.optionalEquals(n.sellerFeeBasisPoints,e.sellerFeeBasisPoints,(t,r)=>t===r)&&Rl.optionalEquals(n.collection,e.collection,(t,r)=>t.equals(r))&&Rl.optionalEquals(n.creators,e.creators,(t,r)=>LW.arrayDeepEquals(t,r,(s,i)=>p3e.crewCreatorUnpackedEquals(s,i)))}fi.updateCrewConfigArgsEquals=x8t;function T8t(n,e){return n.keyIndex===e.keyIndex&&Rl.optionalEquals(n.common,e.common,(t,r)=>t===r)&&Rl.optionalEquals(n.uncommon,e.uncommon,(t,r)=>t===r)&&Rl.optionalEquals(n.rare,e.rare,(t,r)=>t===r)&&Rl.optionalEquals(n.epic,e.epic,(t,r)=>t===r)&&Rl.optionalEquals(n.legendary,e.legendary,(t,r)=>t===r)&&Rl.optionalEquals(n.anomaly,e.anomaly,(t,r)=>t===r)}fi.updatePackTiersInputEquals=T8t;(function(n){var e=K&&K.__createBinding||(Object.create?function(h,m,f,g){g===void 0&&(g=f);var b=Object.getOwnPropertyDescriptor(m,f);(!b||("get"in b?!m.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return m[f]}}),Object.defineProperty(h,g,b)}:function(h,m,f,g){g===void 0&&(g=f),h[g]=m[f]}),t=K&&K.__setModuleDefault||(Object.create?function(h,m){Object.defineProperty(h,"default",{enumerable:!0,value:m})}:function(h,m){h.default=m}),r=K&&K.__decorate||function(h,m,f,g){var b=arguments.length,S=b<3?m:g===null?g=Object.getOwnPropertyDescriptor(m,f):g,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(h,m,f,g);else for(var I=h.length-1;I>=0;I--)(p=h[I])&&(S=(b<3?p(S):b>3?p(m,f,S):p(m,f))||S);return b>3&&S&&Object.defineProperty(m,f,S),S},s=K&&K.__importStar||function(h){if(h&&h.__esModule)return h;var m={};if(h!=null)for(var f in h)f!=="default"&&Object.prototype.hasOwnProperty.call(h,f)&&e(m,h,f);return t(m,h),m},i=K&&K.__metadata||function(h,m){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(h,m)},o;Object.defineProperty(n,"__esModule",{value:!0}),n.CrewConfig=n.crewConfigEquals=n.DERFAULT_CREW_CONFIG_SEED=void 0;const a=s(ru),c=s(fr),u=s(fi),l=fr;n.DERFAULT_CREW_CONFIG_SEED=a.PublicKey.default;function d(h,m){return h.version===m.version&&h.seedPubkey.equals(m.seedPubkey)&&h.bump===m.bump&&h.profile.equals(m.profile)&&c.arrayDeepEquals(h.namePrefix,m.namePrefix,(f,g)=>f===g)&&h.namePrefixLen===m.namePrefixLen&&c.arrayDeepEquals(h.symbol,m.symbol,(f,g)=>f===g)&&h.symbolLen===m.symbolLen&&c.arrayDeepEquals(h.uriPrefix,m.uriPrefix,(f,g)=>f===g)&&h.uriPrefixLen===m.uriPrefixLen&&h.sellerFeeBasisPoints===m.sellerFeeBasisPoints&&h.collectionMint.equals(m.collectionMint)&&c.arrayDeepEquals(h.creators,m.creators,(f,g)=>u.crewCreatorEquals(f,g))&&h.creatorCount===m.creatorCount&&h.totalMinted===m.totalMinted&&h.totalAllocated===m.totalAllocated}n.crewConfigEquals=d;let y=o=class{constructor(m,f,g){this._data=m,this._key=f,this._trees=g}get data(){return this._data}get key(){return this._key}static decodeData(m,f){return c.decodeAccountWithRemaining(m,f,o,g=>{const b=g.readUInt32LE(0),S=g.subarray(4);return Array(b).fill(0).map((p,I)=>{const w=S.subarray(32*I,32*I+32);return new a.PublicKey(w)})})}get merkleTrees(){return this._trees}static findAddress(m,f=n.DERFAULT_CREW_CONFIG_SEED){return a.PublicKey.findProgramAddressSync([rt.Buffer.from("crew_config"),f.toBuffer()],m.programId)}static uriPrefixBuffer(m){const f=rt.Buffer.from(m);if(f.length>32)throw new Error("Uri prefix can't be longer than 32 bytes");const g=new Uint8Array(40);g.set(f,0);const b=(0,l.fixedSizeArrayFromArray)(40,[...g]);if(b===null)throw new Error("Failed to create fixed size array! This should never happen");return b}static namePrefixBuffer(m){const f=rt.Buffer.from(m);if(f.length>32)throw new Error("Name prefix can't be longer than 32 bytes");const g=new Uint8Array(32);g.set(f,0);const b=(0,l.fixedSizeArrayFromArray)(32,[...g]);if(b===null)throw new Error("Failed to create fixed size array! This should never happen");return b}static symbolBuffer(m){const f=rt.Buffer.from(m);if(f.length>10)throw new Error("Symbol can't be longer than 10 bytes");const g=new Uint8Array(10);g.set(f,0);const b=(0,l.fixedSizeArrayFromArray)(10,[...g]);if(b===null)throw new Error("Failed to create fixed size array! This should never happen");return b}};n.CrewConfig=y,y.ACCOUNT_NAME="crewConfig",y.MIN_DATA_SIZE=8+1+32+1+32+32+1+10+1+40+1+2+32+132+1+4+4,n.CrewConfig=y=o=r([c.staticImplements(),i("design:paramtypes",[Object,a.PublicKey,Array])],y)})(_W);var Zk={},R8t=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),B8t=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),C8t=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},b3e=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&R8t(e,n,t);return B8t(e,n),e},M8t=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},bY;Object.defineProperty(Zk,"__esModule",{value:!0});Zk.PackTiers=Zk.packTiersEquals=void 0;const S3e=b3e(ru),k3e=b3e(fr);function z8t(n,e){return n.version===e.version&&n.crewConfig.equals(e.crewConfig)&&n.seedPubkey.equals(e.seedPubkey)&&n.tier===e.tier&&n.bump===e.bump&&n.common===e.common&&n.uncommon===e.uncommon&&n.rare===e.rare&&n.epic===e.epic&&n.legendary===e.legendary&&n.anomaly===e.anomaly}Zk.packTiersEquals=z8t;let i$=bY=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static decodeData(e,t){return k3e.decodeAccount(e,t,bY)}static findAddress(e,t){return S3e.PublicKey.findProgramAddressSync([rt.Buffer.from("pack_tiers"),t.seedPubkey.toBuffer(),rt.Buffer.from([t.packTier])],e.programId)}};Zk.PackTiers=i$;i$.ACCOUNT_NAME="packTiers";i$.MIN_DATA_SIZE=8+1+32+32+1+1+4+4+4+4+4+4;Zk.PackTiers=i$=bY=C8t([k3e.staticImplements(),M8t("design:paramtypes",[Object,S3e.PublicKey])],i$);var v3e={};(function(n){var e=K&&K.__createBinding||(Object.create?function(h,m,f,g){g===void 0&&(g=f);var b=Object.getOwnPropertyDescriptor(m,f);(!b||("get"in b?!m.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return m[f]}}),Object.defineProperty(h,g,b)}:function(h,m,f,g){g===void 0&&(g=f),h[g]=m[f]}),t=K&&K.__setModuleDefault||(Object.create?function(h,m){Object.defineProperty(h,"default",{enumerable:!0,value:m})}:function(h,m){h.default=m}),r=K&&K.__decorate||function(h,m,f,g){var b=arguments.length,S=b<3?m:g===null?g=Object.getOwnPropertyDescriptor(m,f):g,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(h,m,f,g);else for(var I=h.length-1;I>=0;I--)(p=h[I])&&(S=(b<3?p(S):b>3?p(m,f,S):p(m,f))||S);return b>3&&S&&Object.defineProperty(m,f,S),S},s=K&&K.__importStar||function(h){if(h&&h.__esModule)return h;var m={};if(h!=null)for(var f in h)f!=="default"&&Object.prototype.hasOwnProperty.call(h,f)&&e(m,h,f);return t(m,h),m},i=K&&K.__metadata||function(h,m){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(h,m)},o;Object.defineProperty(n,"__esModule",{value:!0}),n.PackType=n.packTypeEquals=n.Faction=void 0;const a=s(ru),c=s(fr),u=_W;var l=X6;Object.defineProperty(n,"Faction",{enumerable:!0,get:function(){return l.Faction}});function d(h,m){return h.version===m.version&&h.bump===m.bump&&h.crewConfig.equals(m.crewConfig)&&h.packTiers.equals(m.packTiers)&&h.faction===m.faction}n.packTypeEquals=d;let y=o=class{constructor(m,f){this._data=m,this._key=f}get data(){return this._data}get key(){return this._key}static decodeData(m,f){return c.decodeAccount(m,f,o)}static findAddress(m,f){var g;const b=(g=f.crewConfig)!==null&&g!==void 0?g:u.CrewConfig.findAddress(m)[0];return a.PublicKey.findProgramAddressSync([rt.Buffer.from("pack_type"),b.toBuffer(),f.packTiers.toBuffer(),rt.Buffer.from([f.faction])],m.programId)}};n.PackType=y,y.ACCOUNT_NAME="packType",y.MIN_DATA_SIZE=8+1+1+32+32+1,n.PackType=y=o=r([c.staticImplements(),i("design:paramtypes",[Object,a.PublicKey])],y)})(v3e);var Jk={},$8t=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),D8t=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),O8t=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},A3e=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&$8t(e,n,t);return D8t(e,n),e},L8t=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},SY;Object.defineProperty(Jk,"__esModule",{value:!0});Jk.SftRedemption=Jk.sftRedemptionEquals=void 0;const w3e=A3e(ru),I3e=A3e(fr),K8t=_W;function W8t(n,e){return n.version===e.version&&n.bump===e.bump&&n.packType.equals(e.packType)&&n.sftMint.equals(e.sftMint)&&n.crewConfig.equals(e.crewConfig)&&n.redemptionAmount===e.redemptionAmount}Jk.sftRedemptionEquals=W8t;let o$=SY=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static decodeData(e,t){return I3e.decodeAccount(e,t,SY)}static findAddress(e,t){var r;const s=rt.Buffer.alloc(4);s.writeInt32LE(t.redemptionAmount,0);const i=(r=t.crewConfig)!==null&&r!==void 0?r:K8t.CrewConfig.findAddress(e)[0];return w3e.PublicKey.findProgramAddressSync([rt.Buffer.from("sft_redemption"),i.toBuffer(),t.sftMint.toBuffer(),t.packType.toBuffer(),s],e.programId)}};Jk.SftRedemption=o$;o$.ACCOUNT_NAME="sftRedemption";o$.MIN_DATA_SIZE=8+1+1+32+32+32+4;Jk.SftRedemption=o$=SY=O8t([I3e.staticImplements(),L8t("design:paramtypes",[Object,w3e.PublicKey])],o$);var Xk={},$8={};Object.defineProperty($8,"__esModule",{value:!0});$8.BitViewer=void 0;class N8t{constructor(e,t=e.length*8){this.buffer=e,this.bitLength=t,this.buffer=e.subarray(0,Math.ceil(t/8))}get(e){const t=Math.floor(e/8),r=e%8;if(t>=this.buffer.length)return!1;const s=this.buffer.readUint8(t),i=1<<r;return(s&i)!==0}firstUnsetIndex(){const e=this.buffer.findIndex(s=>s!==255);if(e===-1)return null;const t=this.buffer[e];let r=1;for(let s=0;s<8;s++){if((t&r)===0)return e*8+s;r<<=1}throw new Error("Couldn't find an unset bit in the non max byte. This shouldn't happen")}}$8.BitViewer=N8t;var F8t=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),U8t=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),V8t=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},_3e=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&F8t(e,n,t);return U8t(e,n),e},q8t=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},kY;Object.defineProperty(Xk,"__esModule",{value:!0});Xk.UserRedemption=Xk.userRedemptionEquals=void 0;const P3e=_3e(ru),Q4=_3e(fr),E3e=$8;function H8t(n,e){return n.version===e.version&&n.bump===e.bump&&n.crewConfig.equals(e.crewConfig)&&n.seedPubkey.equals(e.seedPubkey)&&n.owner.equals(e.owner)&&n.mintOffset===e.mintOffset&&n.amount===e.amount&&n.numberMinted===e.numberMinted&&n.packType.equals(e.packType)&&Q4.arrayDeepEquals(n.userSeed,e.userSeed,(t,r)=>t===r)&&Q4.arrayDeepEquals(n.serverHash,e.serverHash,(t,r)=>t===r)&&n.sageProfile.equals(e.sageProfile)}Xk.userRedemptionEquals=H8t;let a$=kY=class{constructor(e,t,r){this._data=e,this._key=t,this.mintBits=r}get data(){return this._data}get key(){return this._key}static decodeData(e,t){return Q4.decodeAccountWithRemaining(e,t,kY,r=>new E3e.BitViewer(r))}static findAddress(e,t){return P3e.PublicKey.findProgramAddressSync([rt.Buffer.from("user_redemption"),t.seedPubkey.toBuffer(),t.packType.toBuffer(),t.owner.toBuffer()],e.programId)}};Xk.UserRedemption=a$;a$.ACCOUNT_NAME="userRedemption";a$.MIN_DATA_SIZE=8+1+1+32+32+32+4+4+4+32+32+32+32;Xk.UserRedemption=a$=kY=V8t([Q4.staticImplements(),q8t("design:paramtypes",[Object,P3e.PublicKey,E3e.BitViewer])],a$);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(_W,n),t(Zk,n),t(v3e,n),t(Jk,n),t(Xk,n)})(Sf);var x3e={},KW={},j8t=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(KW,"__esModule",{value:!0});KW.closeAccounts=void 0;const G8t=Sf;function Y8t(n,e,t,r,s,i,o=G8t.CrewConfig.findAddress(n)[0]){const a=[e];return()=>j8t(this,void 0,void 0,function*(){return{instruction:yield n.methods.closeAccounts(i).accountsStrict({key:e.publicKey(),profile:t,recipient:r,crewConfig:o}).remainingAccounts(s.map(c=>({pubkey:c,isSigner:!1,isWritable:!0}))).instruction(),signers:a}})}KW.closeAccounts=Y8t;var EE={},T3e={},G0={},Zt={},Zo={},gt={},R3e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAuthorityTypeSerializer=n.AuthorityType=void 0;const e=H;var t;(function(s){s[s.None=0]="None",s[s.Metadata=1]="Metadata",s[s.Holder=2]="Holder",s[s.MetadataDelegate=3]="MetadataDelegate",s[s.TokenDelegate=4]="TokenDelegate"})(t=n.AuthorityType||(n.AuthorityType={}));function r(){return(0,e.scalarEnum)(t,{description:"AuthorityType"})}n.getAuthorityTypeSerializer=r})(R3e);var WW={};Object.defineProperty(WW,"__esModule",{value:!0});WW.getAuthorizationDataSerializer=void 0;const Z8t=H,J8t=gt;function X8t(){return(0,Z8t.struct)([["payload",(0,J8t.getPayloadSerializer)()]],{description:"AuthorizationData"})}WW.getAuthorizationDataSerializer=X8t;var Pb={};Object.defineProperty(Pb,"__esModule",{value:!0});Pb.isBurnArgs=Pb.burnArgs=Pb.getBurnArgsSerializer=void 0;const GD=H;function Q8t(){return(0,GD.dataEnum)([["V1",(0,GD.mapSerializer)((0,GD.struct)([["amount",(0,GD.u64)()]]),n=>({...n,amount:n.amount??1}))]],{description:"BurnArgs"})}Pb.getBurnArgsSerializer=Q8t;function e3t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Pb.burnArgs=e3t;function t3t(n,e){return e.__kind===n}Pb.isBurnArgs=t3t;var NW={};Object.defineProperty(NW,"__esModule",{value:!0});NW.getCollectionSerializer=void 0;const tV=H;function r3t(){return(0,tV.struct)([["verified",(0,tV.bool)()],["key",(0,tV.publicKey)()]],{description:"Collection"})}NW.getCollectionSerializer=r3t;var Eb={};Object.defineProperty(Eb,"__esModule",{value:!0});Eb.isCollectionDetails=Eb.collectionDetails=Eb.getCollectionDetailsSerializer=void 0;const mA=H;function n3t(){return(0,mA.dataEnum)([["V1",(0,mA.struct)([["size",(0,mA.u64)()]])],["V2",(0,mA.struct)([["padding",(0,mA.array)((0,mA.u8)(),{size:8})]])]],{description:"CollectionDetails"})}Eb.getCollectionDetailsSerializer=n3t;function s3t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Eb.collectionDetails=s3t;function i3t(n,e){return e.__kind===n}Eb.isCollectionDetails=i3t;var xb={};Object.defineProperty(xb,"__esModule",{value:!0});xb.isCollectionDetailsToggle=xb.collectionDetailsToggle=xb.getCollectionDetailsToggleSerializer=void 0;const hC=H,o3t=gt;function a3t(){return(0,hC.dataEnum)([["None",(0,hC.unit)()],["Clear",(0,hC.unit)()],["Set",(0,hC.struct)([["fields",(0,hC.tuple)([(0,o3t.getCollectionDetailsSerializer)()])]])]],{description:"CollectionDetailsToggle"})}xb.getCollectionDetailsToggleSerializer=a3t;function c3t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}xb.collectionDetailsToggle=c3t;function u3t(n,e){return e.__kind===n}xb.isCollectionDetailsToggle=u3t;var Tb={};Object.defineProperty(Tb,"__esModule",{value:!0});Tb.isCollectionToggle=Tb.collectionToggle=Tb.getCollectionToggleSerializer=void 0;const gC=H,l3t=gt;function d3t(){return(0,gC.dataEnum)([["None",(0,gC.unit)()],["Clear",(0,gC.unit)()],["Set",(0,gC.struct)([["fields",(0,gC.tuple)([(0,l3t.getCollectionSerializer)()])]])]],{description:"CollectionToggle"})}Tb.getCollectionToggleSerializer=d3t;function f3t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Tb.collectionToggle=f3t;function h3t(n,e){return e.__kind===n}Tb.isCollectionToggle=h3t;var Rb={};Object.defineProperty(Rb,"__esModule",{value:!0});Rb.isCreateArgs=Rb.createArgs=Rb.getCreateArgsSerializer=void 0;const T1=Z,ka=H,yA=gt;function g3t(){return(0,ka.dataEnum)([["V1",(0,ka.mapSerializer)((0,ka.struct)([["name",(0,ka.string)()],["symbol",(0,ka.string)()],["uri",(0,ka.string)()],["sellerFeeBasisPoints",(0,T1.mapAmountSerializer)((0,ka.u16)(),"%",2)],["creators",(0,ka.option)((0,ka.array)((0,yA.getCreatorSerializer)()))],["primarySaleHappened",(0,ka.bool)()],["isMutable",(0,ka.bool)()],["tokenStandard",(0,yA.getTokenStandardSerializer)()],["collection",(0,ka.option)((0,yA.getCollectionSerializer)())],["uses",(0,ka.option)((0,yA.getUsesSerializer)())],["collectionDetails",(0,ka.option)((0,yA.getCollectionDetailsSerializer)())],["ruleSet",(0,ka.option)((0,ka.publicKey)())],["decimals",(0,ka.option)((0,ka.u8)())],["printSupply",(0,ka.option)((0,yA.getPrintSupplySerializer)())]]),n=>({...n,symbol:n.symbol??"",primarySaleHappened:n.primarySaleHappened??!1,isMutable:n.isMutable??!0,collection:n.collection??(0,T1.none)(),uses:n.uses??(0,T1.none)(),collectionDetails:n.collectionDetails??(0,T1.none)(),ruleSet:n.ruleSet??(0,T1.none)(),decimals:n.decimals??(0,T1.none)(),printSupply:n.printSupply??(0,T1.none)()}))]],{description:"CreateArgs"})}Rb.getCreateArgsSerializer=g3t;function m3t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Rb.createArgs=m3t;function y3t(n,e){return e.__kind===n}Rb.isCreateArgs=y3t;var FW={};Object.defineProperty(FW,"__esModule",{value:!0});FW.getCreatorSerializer=void 0;const YD=H;function p3t(){return(0,YD.struct)([["address",(0,YD.publicKey)()],["verified",(0,YD.bool)()],["share",(0,YD.u8)()]],{description:"Creator"})}FW.getCreatorSerializer=p3t;var UW={};Object.defineProperty(UW,"__esModule",{value:!0});UW.getDataSerializer=void 0;const R1=H,b3t=gt;function S3t(){return(0,R1.struct)([["name",(0,R1.string)()],["symbol",(0,R1.string)()],["uri",(0,R1.string)()],["sellerFeeBasisPoints",(0,R1.u16)()],["creators",(0,R1.option)((0,R1.array)((0,b3t.getCreatorSerializer)()))]],{description:"Data"})}UW.getDataSerializer=S3t;var VW={};Object.defineProperty(VW,"__esModule",{value:!0});VW.getDataV2Serializer=void 0;const em=H,rV=gt;function k3t(){return(0,em.struct)([["name",(0,em.string)()],["symbol",(0,em.string)()],["uri",(0,em.string)()],["sellerFeeBasisPoints",(0,em.u16)()],["creators",(0,em.option)((0,em.array)((0,rV.getCreatorSerializer)()))],["collection",(0,em.option)((0,rV.getCollectionSerializer)())],["uses",(0,em.option)((0,rV.getUsesSerializer)())]],{description:"DataV2"})}VW.getDataV2Serializer=k3t;var Bb={};Object.defineProperty(Bb,"__esModule",{value:!0});Bb.isDelegateArgs=Bb.delegateArgs=Bb.getDelegateArgsSerializer=void 0;const hl=Z,xr=H,gl=gt;function v3t(){return(0,xr.dataEnum)([["CollectionV1",(0,xr.mapSerializer)((0,xr.struct)([["authorizationData",(0,xr.option)((0,gl.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,hl.none)()}))],["SaleV1",(0,xr.mapSerializer)((0,xr.struct)([["amount",(0,xr.u64)()],["authorizationData",(0,xr.option)((0,gl.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,hl.none)()}))],["TransferV1",(0,xr.mapSerializer)((0,xr.struct)([["amount",(0,xr.u64)()],["authorizationData",(0,xr.option)((0,gl.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,hl.none)()}))],["DataV1",(0,xr.mapSerializer)((0,xr.struct)([["authorizationData",(0,xr.option)((0,gl.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,hl.none)()}))],["UtilityV1",(0,xr.mapSerializer)((0,xr.struct)([["amount",(0,xr.u64)()],["authorizationData",(0,xr.option)((0,gl.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,hl.none)()}))],["StakingV1",(0,xr.mapSerializer)((0,xr.struct)([["amount",(0,xr.u64)()],["authorizationData",(0,xr.option)((0,gl.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,hl.none)()}))],["StandardV1",(0,xr.mapSerializer)((0,xr.struct)([["amount",(0,xr.u64)()]]),n=>({...n,amount:n.amount??1}))],["LockedTransferV1",(0,xr.mapSerializer)((0,xr.struct)([["amount",(0,xr.u64)()],["lockedAddress",(0,xr.publicKey)()],["authorizationData",(0,xr.option)((0,gl.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,hl.none)()}))],["ProgrammableConfigV1",(0,xr.mapSerializer)((0,xr.struct)([["authorizationData",(0,xr.option)((0,gl.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,hl.none)()}))],["AuthorityItemV1",(0,xr.mapSerializer)((0,xr.struct)([["authorizationData",(0,xr.option)((0,gl.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,hl.none)()}))],["DataItemV1",(0,xr.mapSerializer)((0,xr.struct)([["authorizationData",(0,xr.option)((0,gl.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,hl.none)()}))],["CollectionItemV1",(0,xr.mapSerializer)((0,xr.struct)([["authorizationData",(0,xr.option)((0,gl.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,hl.none)()}))],["ProgrammableConfigItemV1",(0,xr.mapSerializer)((0,xr.struct)([["authorizationData",(0,xr.option)((0,gl.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,hl.none)()}))],["PrintDelegateV1",(0,xr.mapSerializer)((0,xr.struct)([["authorizationData",(0,xr.option)((0,gl.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,hl.none)()}))]],{description:"DelegateArgs"})}Bb.getDelegateArgsSerializer=v3t;function A3t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Bb.delegateArgs=A3t;function w3t(n,e){return e.__kind===n}Bb.isDelegateArgs=w3t;var Cb={};Object.defineProperty(Cb,"__esModule",{value:!0});Cb.isEscrowAuthority=Cb.escrowAuthority=Cb.getEscrowAuthoritySerializer=void 0;const mC=H;function I3t(){return(0,mC.dataEnum)([["TokenOwner",(0,mC.unit)()],["Creator",(0,mC.struct)([["fields",(0,mC.tuple)([(0,mC.publicKey)()])]])]],{description:"EscrowAuthority"})}Cb.getEscrowAuthoritySerializer=I3t;function _3t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Cb.escrowAuthority=_3t;function P3t(n,e){return e.__kind===n}Cb.isEscrowAuthority=P3t;var eae={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getHolderDelegateRoleSerializer=n.HolderDelegateRole=void 0;const e=H;var t;(function(s){s[s.PrintDelegate=0]="PrintDelegate"})(t=n.HolderDelegateRole||(n.HolderDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"HolderDelegateRole"})}n.getHolderDelegateRoleSerializer=r})(eae);var B3e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getKeySerializer=n.Key=void 0;const e=H;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.EditionV1=1]="EditionV1",s[s.MasterEditionV1=2]="MasterEditionV1",s[s.ReservationListV1=3]="ReservationListV1",s[s.MetadataV1=4]="MetadataV1",s[s.ReservationListV2=5]="ReservationListV2",s[s.MasterEditionV2=6]="MasterEditionV2",s[s.EditionMarker=7]="EditionMarker",s[s.UseAuthorityRecord=8]="UseAuthorityRecord",s[s.CollectionAuthorityRecord=9]="CollectionAuthorityRecord",s[s.TokenOwnedEscrow=10]="TokenOwnedEscrow",s[s.TokenRecord=11]="TokenRecord",s[s.MetadataDelegate=12]="MetadataDelegate",s[s.EditionMarkerV2=13]="EditionMarkerV2",s[s.HolderDelegate=14]="HolderDelegate"})(t=n.Key||(n.Key={}));function r(){return(0,e.scalarEnum)(t,{description:"Key"})}n.getKeySerializer=r})(B3e);var Mb={};Object.defineProperty(Mb,"__esModule",{value:!0});Mb.isLockArgs=Mb.lockArgs=Mb.getLockArgsSerializer=void 0;const E3t=Z,ZD=H,x3t=gt;function T3t(){return(0,ZD.dataEnum)([["V1",(0,ZD.mapSerializer)((0,ZD.struct)([["authorizationData",(0,ZD.option)((0,x3t.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,E3t.none)()}))]],{description:"LockArgs"})}Mb.getLockArgsSerializer=T3t;function R3t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Mb.lockArgs=R3t;function B3t(n,e){return e.__kind===n}Mb.isLockArgs=B3t;var tae={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMetadataDelegateRoleSerializer=n.MetadataDelegateRole=void 0;const e=H;var t;(function(s){s[s.AuthorityItem=0]="AuthorityItem",s[s.Collection=1]="Collection",s[s.Use=2]="Use",s[s.Data=3]="Data",s[s.ProgrammableConfig=4]="ProgrammableConfig",s[s.DataItem=5]="DataItem",s[s.CollectionItem=6]="CollectionItem",s[s.ProgrammableConfigItem=7]="ProgrammableConfigItem"})(t=n.MetadataDelegateRole||(n.MetadataDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"MetadataDelegateRole"})}n.getMetadataDelegateRoleSerializer=r})(tae);var C3e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMigrationTypeSerializer=n.MigrationType=void 0;const e=H;var t;(function(s){s[s.CollectionV1=0]="CollectionV1",s[s.ProgrammableV1=1]="ProgrammableV1"})(t=n.MigrationType||(n.MigrationType={}));function r(){return(0,e.scalarEnum)(t,{description:"MigrationType"})}n.getMigrationTypeSerializer=r})(C3e);var zb={};Object.defineProperty(zb,"__esModule",{value:!0});zb.isMintArgs=zb.mintArgs=zb.getMintArgsSerializer=void 0;const C3t=Z,yC=H,M3t=gt;function z3t(){return(0,yC.dataEnum)([["V1",(0,yC.mapSerializer)((0,yC.struct)([["amount",(0,yC.u64)()],["authorizationData",(0,yC.option)((0,M3t.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,C3t.none)()}))]],{description:"MintArgs"})}zb.getMintArgsSerializer=z3t;function $3t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}zb.mintArgs=$3t;function D3t(n,e){return e.__kind===n}zb.isMintArgs=D3t;var qW={};Object.defineProperty(qW,"__esModule",{value:!0});qW.getMintNewEditionFromMasterEditionViaTokenArgsSerializer=void 0;const fSe=H;function O3t(){return(0,fSe.struct)([["edition",(0,fSe.u64)()]],{description:"MintNewEditionFromMasterEditionViaTokenArgs"})}qW.getMintNewEditionFromMasterEditionViaTokenArgsSerializer=O3t;var HW={};Object.defineProperty(HW,"__esModule",{value:!0});HW.getPayloadSerializer=void 0;const nV=H,L3t=gt;function K3t(){return(0,nV.struct)([["map",(0,nV.map)((0,nV.string)(),(0,L3t.getPayloadTypeSerializer)())]],{description:"Payload"})}HW.getPayloadSerializer=K3t;var M3e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPayloadKeySerializer=n.PayloadKey=void 0;const e=H;var t;(function(s){s[s.Amount=0]="Amount",s[s.Authority=1]="Authority",s[s.AuthoritySeeds=2]="AuthoritySeeds",s[s.Delegate=3]="Delegate",s[s.DelegateSeeds=4]="DelegateSeeds",s[s.Destination=5]="Destination",s[s.DestinationSeeds=6]="DestinationSeeds",s[s.Holder=7]="Holder",s[s.Source=8]="Source",s[s.SourceSeeds=9]="SourceSeeds"})(t=n.PayloadKey||(n.PayloadKey={}));function r(){return(0,e.scalarEnum)(t,{description:"PayloadKey"})}n.getPayloadKeySerializer=r})(M3e);var $b={};Object.defineProperty($b,"__esModule",{value:!0});$b.isPayloadType=$b.payloadType=$b.getPayloadTypeSerializer=void 0;const Bd=H,hSe=gt;function W3t(){return(0,Bd.dataEnum)([["Pubkey",(0,Bd.struct)([["fields",(0,Bd.tuple)([(0,Bd.publicKey)()])]])],["Seeds",(0,Bd.struct)([["fields",(0,Bd.tuple)([(0,hSe.getSeedsVecSerializer)()])]])],["MerkleProof",(0,Bd.struct)([["fields",(0,Bd.tuple)([(0,hSe.getProofInfoSerializer)()])]])],["Number",(0,Bd.struct)([["fields",(0,Bd.tuple)([(0,Bd.u64)()])]])]],{description:"PayloadType"})}$b.getPayloadTypeSerializer=W3t;function N3t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}$b.payloadType=N3t;function F3t(n,e){return e.__kind===n}$b.isPayloadType=F3t;var Db={};Object.defineProperty(Db,"__esModule",{value:!0});Db.isPrintArgs=Db.printArgs=Db.getPrintArgsSerializer=void 0;const pC=H;function U3t(){return(0,pC.dataEnum)([["V1",(0,pC.struct)([["edition",(0,pC.u64)()]])],["V2",(0,pC.struct)([["edition",(0,pC.u64)()]])]],{description:"PrintArgs"})}Db.getPrintArgsSerializer=U3t;function V3t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Db.printArgs=V3t;function q3t(n,e){return e.__kind===n}Db.isPrintArgs=q3t;var Ob={};Object.defineProperty(Ob,"__esModule",{value:!0});Ob.isPrintSupply=Ob.printSupply=Ob.getPrintSupplySerializer=void 0;const pA=H;function H3t(){return(0,pA.dataEnum)([["Zero",(0,pA.unit)()],["Limited",(0,pA.struct)([["fields",(0,pA.tuple)([(0,pA.u64)()])]])],["Unlimited",(0,pA.unit)()]],{description:"PrintSupply"})}Ob.getPrintSupplySerializer=H3t;function j3t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Ob.printSupply=j3t;function G3t(n,e){return e.__kind===n}Ob.isPrintSupply=G3t;var Lb={};Object.defineProperty(Lb,"__esModule",{value:!0});Lb.isProgrammableConfig=Lb.programmableConfig=Lb.getProgrammableConfigSerializer=void 0;const JD=H;function Y3t(){return(0,JD.dataEnum)([["V1",(0,JD.struct)([["ruleSet",(0,JD.option)((0,JD.publicKey)())]])]],{description:"ProgrammableConfig"})}Lb.getProgrammableConfigSerializer=Y3t;function Z3t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Lb.programmableConfig=Z3t;function J3t(n,e){return e.__kind===n}Lb.isProgrammableConfig=J3t;var jW={};Object.defineProperty(jW,"__esModule",{value:!0});jW.getProofInfoSerializer=void 0;const sV=H;function X3t(){return(0,sV.struct)([["proof",(0,sV.array)((0,sV.bytes)({size:32}))]],{description:"ProofInfo"})}jW.getProofInfoSerializer=X3t;var GW={};Object.defineProperty(GW,"__esModule",{value:!0});GW.getReservationSerializer=void 0;const XD=H;function Q3t(){return(0,XD.struct)([["address",(0,XD.publicKey)()],["spotsRemaining",(0,XD.u64)()],["totalSpots",(0,XD.u64)()]],{description:"Reservation"})}GW.getReservationSerializer=Q3t;var YW={};Object.defineProperty(YW,"__esModule",{value:!0});YW.getReservationV1Serializer=void 0;const QD=H;function eDt(){return(0,QD.struct)([["address",(0,QD.publicKey)()],["spotsRemaining",(0,QD.u8)()],["totalSpots",(0,QD.u8)()]],{description:"ReservationV1"})}YW.getReservationV1Serializer=eDt;var z3e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRevokeArgsSerializer=n.RevokeArgs=void 0;const e=H;var t;(function(s){s[s.CollectionV1=0]="CollectionV1",s[s.SaleV1=1]="SaleV1",s[s.TransferV1=2]="TransferV1",s[s.DataV1=3]="DataV1",s[s.UtilityV1=4]="UtilityV1",s[s.StakingV1=5]="StakingV1",s[s.StandardV1=6]="StandardV1",s[s.LockedTransferV1=7]="LockedTransferV1",s[s.ProgrammableConfigV1=8]="ProgrammableConfigV1",s[s.MigrationV1=9]="MigrationV1",s[s.AuthorityItemV1=10]="AuthorityItemV1",s[s.DataItemV1=11]="DataItemV1",s[s.CollectionItemV1=12]="CollectionItemV1",s[s.ProgrammableConfigItemV1=13]="ProgrammableConfigItemV1",s[s.PrintDelegateV1=14]="PrintDelegateV1"})(t=n.RevokeArgs||(n.RevokeArgs={}));function r(){return(0,e.scalarEnum)(t,{description:"RevokeArgs"})}n.getRevokeArgsSerializer=r})(z3e);var Kb={};Object.defineProperty(Kb,"__esModule",{value:!0});Kb.isRuleSetToggle=Kb.ruleSetToggle=Kb.getRuleSetToggleSerializer=void 0;const bA=H;function tDt(){return(0,bA.dataEnum)([["None",(0,bA.unit)()],["Clear",(0,bA.unit)()],["Set",(0,bA.struct)([["fields",(0,bA.tuple)([(0,bA.publicKey)()])]])]],{description:"RuleSetToggle"})}Kb.getRuleSetToggleSerializer=tDt;function rDt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Kb.ruleSetToggle=rDt;function nDt(n,e){return e.__kind===n}Kb.isRuleSetToggle=nDt;var ZW={};Object.defineProperty(ZW,"__esModule",{value:!0});ZW.getSeedsVecSerializer=void 0;const eO=H;function sDt(){return(0,eO.struct)([["seeds",(0,eO.array)((0,eO.bytes)({size:(0,eO.u32)()}))]],{description:"SeedsVec"})}ZW.getSeedsVecSerializer=sDt;var JW={};Object.defineProperty(JW,"__esModule",{value:!0});JW.getSetCollectionSizeArgsSerializer=void 0;const gSe=H;function iDt(){return(0,gSe.struct)([["size",(0,gSe.u64)()]],{description:"SetCollectionSizeArgs"})}JW.getSetCollectionSizeArgsSerializer=iDt;var $3e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenDelegateRoleSerializer=n.TokenDelegateRole=void 0;const e=H;var t;(function(s){s[s.Sale=0]="Sale",s[s.Transfer=1]="Transfer",s[s.Utility=2]="Utility",s[s.Staking=3]="Staking",s[s.Standard=4]="Standard",s[s.LockedTransfer=5]="LockedTransfer",s[s.Migration=6]="Migration"})(t=n.TokenDelegateRole||(n.TokenDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenDelegateRole"})}n.getTokenDelegateRoleSerializer=r})($3e);var D3e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStandardSerializer=n.TokenStandard=void 0;const e=H;var t;(function(s){s[s.NonFungible=0]="NonFungible",s[s.FungibleAsset=1]="FungibleAsset",s[s.Fungible=2]="Fungible",s[s.NonFungibleEdition=3]="NonFungibleEdition",s[s.ProgrammableNonFungible=4]="ProgrammableNonFungible",s[s.ProgrammableNonFungibleEdition=5]="ProgrammableNonFungibleEdition"})(t=n.TokenStandard||(n.TokenStandard={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenStandard"})}n.getTokenStandardSerializer=r})(D3e);var O3e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStateSerializer=n.TokenState=void 0;const e=H;var t;(function(s){s[s.Unlocked=0]="Unlocked",s[s.Locked=1]="Locked",s[s.Listed=2]="Listed"})(t=n.TokenState||(n.TokenState={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenState"})}n.getTokenStateSerializer=r})(O3e);var Wb={};Object.defineProperty(Wb,"__esModule",{value:!0});Wb.isTransferArgs=Wb.transferArgs=Wb.getTransferArgsSerializer=void 0;const oDt=Z,bC=H,aDt=gt;function cDt(){return(0,bC.dataEnum)([["V1",(0,bC.mapSerializer)((0,bC.struct)([["amount",(0,bC.u64)()],["authorizationData",(0,bC.option)((0,aDt.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,oDt.none)()}))]],{description:"TransferArgs"})}Wb.getTransferArgsSerializer=cDt;function uDt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Wb.transferArgs=uDt;function lDt(n,e){return e.__kind===n}Wb.isTransferArgs=lDt;var Nb={};Object.defineProperty(Nb,"__esModule",{value:!0});Nb.isUnlockArgs=Nb.unlockArgs=Nb.getUnlockArgsSerializer=void 0;const dDt=Z,tO=H,fDt=gt;function hDt(){return(0,tO.dataEnum)([["V1",(0,tO.mapSerializer)((0,tO.struct)([["authorizationData",(0,tO.option)((0,fDt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,dDt.none)()}))]],{description:"UnlockArgs"})}Nb.getUnlockArgsSerializer=hDt;function gDt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Nb.unlockArgs=gDt;function mDt(n,e){return e.__kind===n}Nb.isUnlockArgs=mDt;var Fb={};Object.defineProperty(Fb,"__esModule",{value:!0});Fb.isUpdateArgs=Fb.updateArgs=Fb.getUpdateArgsSerializer=void 0;const pi=Z,pr=H,An=gt;function yDt(){return(0,pr.dataEnum)([["V1",(0,pr.mapSerializer)((0,pr.struct)([["newUpdateAuthority",(0,pr.option)((0,pr.publicKey)())],["data",(0,pr.option)((0,An.getDataSerializer)())],["primarySaleHappened",(0,pr.option)((0,pr.bool)())],["isMutable",(0,pr.option)((0,pr.bool)())],["collection",(0,An.getCollectionToggleSerializer)()],["collectionDetails",(0,An.getCollectionDetailsToggleSerializer)()],["uses",(0,An.getUsesToggleSerializer)()],["ruleSet",(0,An.getRuleSetToggleSerializer)()],["authorizationData",(0,pr.option)((0,An.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,pi.none)(),data:n.data??(0,pi.none)(),primarySaleHappened:n.primarySaleHappened??(0,pi.none)(),isMutable:n.isMutable??(0,pi.none)(),collection:n.collection??(0,An.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,An.collectionDetailsToggle)("None"),uses:n.uses??(0,An.usesToggle)("None"),ruleSet:n.ruleSet??(0,An.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,pi.none)()}))],["AsUpdateAuthorityV2",(0,pr.mapSerializer)((0,pr.struct)([["newUpdateAuthority",(0,pr.option)((0,pr.publicKey)())],["data",(0,pr.option)((0,An.getDataSerializer)())],["primarySaleHappened",(0,pr.option)((0,pr.bool)())],["isMutable",(0,pr.option)((0,pr.bool)())],["collection",(0,An.getCollectionToggleSerializer)()],["collectionDetails",(0,An.getCollectionDetailsToggleSerializer)()],["uses",(0,An.getUsesToggleSerializer)()],["ruleSet",(0,An.getRuleSetToggleSerializer)()],["tokenStandard",(0,pr.option)((0,An.getTokenStandardSerializer)())],["authorizationData",(0,pr.option)((0,An.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,pi.none)(),data:n.data??(0,pi.none)(),primarySaleHappened:n.primarySaleHappened??(0,pi.none)(),isMutable:n.isMutable??(0,pi.none)(),collection:n.collection??(0,An.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,An.collectionDetailsToggle)("None"),uses:n.uses??(0,An.usesToggle)("None"),ruleSet:n.ruleSet??(0,An.ruleSetToggle)("None"),tokenStandard:n.tokenStandard??(0,pi.none)(),authorizationData:n.authorizationData??(0,pi.none)()}))],["AsAuthorityItemDelegateV2",(0,pr.mapSerializer)((0,pr.struct)([["newUpdateAuthority",(0,pr.option)((0,pr.publicKey)())],["primarySaleHappened",(0,pr.option)((0,pr.bool)())],["isMutable",(0,pr.option)((0,pr.bool)())],["tokenStandard",(0,pr.option)((0,An.getTokenStandardSerializer)())],["authorizationData",(0,pr.option)((0,An.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,pi.none)(),primarySaleHappened:n.primarySaleHappened??(0,pi.none)(),isMutable:n.isMutable??(0,pi.none)(),tokenStandard:n.tokenStandard??(0,pi.none)(),authorizationData:n.authorizationData??(0,pi.none)()}))],["AsCollectionDelegateV2",(0,pr.mapSerializer)((0,pr.struct)([["collection",(0,An.getCollectionToggleSerializer)()],["authorizationData",(0,pr.option)((0,An.getAuthorizationDataSerializer)())]]),n=>({...n,collection:n.collection??(0,An.collectionToggle)("None"),authorizationData:n.authorizationData??(0,pi.none)()}))],["AsDataDelegateV2",(0,pr.mapSerializer)((0,pr.struct)([["data",(0,pr.option)((0,An.getDataSerializer)())],["authorizationData",(0,pr.option)((0,An.getAuthorizationDataSerializer)())]]),n=>({...n,data:n.data??(0,pi.none)(),authorizationData:n.authorizationData??(0,pi.none)()}))],["AsProgrammableConfigDelegateV2",(0,pr.mapSerializer)((0,pr.struct)([["ruleSet",(0,An.getRuleSetToggleSerializer)()],["authorizationData",(0,pr.option)((0,An.getAuthorizationDataSerializer)())]]),n=>({...n,ruleSet:n.ruleSet??(0,An.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,pi.none)()}))],["AsDataItemDelegateV2",(0,pr.mapSerializer)((0,pr.struct)([["data",(0,pr.option)((0,An.getDataSerializer)())],["authorizationData",(0,pr.option)((0,An.getAuthorizationDataSerializer)())]]),n=>({...n,data:n.data??(0,pi.none)(),authorizationData:n.authorizationData??(0,pi.none)()}))],["AsCollectionItemDelegateV2",(0,pr.mapSerializer)((0,pr.struct)([["collection",(0,An.getCollectionToggleSerializer)()],["authorizationData",(0,pr.option)((0,An.getAuthorizationDataSerializer)())]]),n=>({...n,collection:n.collection??(0,An.collectionToggle)("None"),authorizationData:n.authorizationData??(0,pi.none)()}))],["AsProgrammableConfigItemDelegateV2",(0,pr.mapSerializer)((0,pr.struct)([["ruleSet",(0,An.getRuleSetToggleSerializer)()],["authorizationData",(0,pr.option)((0,An.getAuthorizationDataSerializer)())]]),n=>({...n,ruleSet:n.ruleSet??(0,An.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,pi.none)()}))]],{description:"UpdateArgs"})}Fb.getUpdateArgsSerializer=yDt;function pDt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Fb.updateArgs=pDt;function bDt(n,e){return e.__kind===n}Fb.isUpdateArgs=bDt;var Ub={};Object.defineProperty(Ub,"__esModule",{value:!0});Ub.isUseArgs=Ub.useArgs=Ub.getUseArgsSerializer=void 0;const SDt=Z,rO=H,kDt=gt;function vDt(){return(0,rO.dataEnum)([["V1",(0,rO.mapSerializer)((0,rO.struct)([["authorizationData",(0,rO.option)((0,kDt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,SDt.none)()}))]],{description:"UseArgs"})}Ub.getUseArgsSerializer=vDt;function ADt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Ub.useArgs=ADt;function wDt(n,e){return e.__kind===n}Ub.isUseArgs=wDt;var L3e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getUseMethodSerializer=n.UseMethod=void 0;const e=H;var t;(function(s){s[s.Burn=0]="Burn",s[s.Multiple=1]="Multiple",s[s.Single=2]="Single"})(t=n.UseMethod||(n.UseMethod={}));function r(){return(0,e.scalarEnum)(t,{description:"UseMethod"})}n.getUseMethodSerializer=r})(L3e);var XW={};Object.defineProperty(XW,"__esModule",{value:!0});XW.getUsesSerializer=void 0;const iV=H,IDt=gt;function _Dt(){return(0,iV.struct)([["useMethod",(0,IDt.getUseMethodSerializer)()],["remaining",(0,iV.u64)()],["total",(0,iV.u64)()]],{description:"Uses"})}XW.getUsesSerializer=_Dt;var Vb={};Object.defineProperty(Vb,"__esModule",{value:!0});Vb.isUsesToggle=Vb.usesToggle=Vb.getUsesToggleSerializer=void 0;const SC=H,PDt=gt;function EDt(){return(0,SC.dataEnum)([["None",(0,SC.unit)()],["Clear",(0,SC.unit)()],["Set",(0,SC.struct)([["fields",(0,SC.tuple)([(0,PDt.getUsesSerializer)()])]])]],{description:"UsesToggle"})}Vb.getUsesToggleSerializer=EDt;function xDt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Vb.usesToggle=xDt;function TDt(n,e){return e.__kind===n}Vb.isUsesToggle=TDt;var K3e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getVerificationArgsSerializer=n.VerificationArgs=void 0;const e=H;var t;(function(s){s[s.CreatorV1=0]="CreatorV1",s[s.CollectionV1=1]="CollectionV1"})(t=n.VerificationArgs||(n.VerificationArgs={}));function r(){return(0,e.scalarEnum)(t,{description:"VerificationArgs"})}n.getVerificationArgsSerializer=r})(K3e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(R3e,n),t(WW,n),t(Pb,n),t(NW,n),t(Eb,n),t(xb,n),t(Tb,n),t(Rb,n),t(FW,n),t(UW,n),t(VW,n),t(Bb,n),t(Cb,n),t(eae,n),t(B3e,n),t(Mb,n),t(tae,n),t(C3e,n),t(zb,n),t(qW,n),t(HW,n),t(M3e,n),t($b,n),t(Db,n),t(Ob,n),t(Lb,n),t(jW,n),t(GW,n),t(YW,n),t(z3e,n),t(Kb,n),t(ZW,n),t(JW,n),t($3e,n),t(D3e,n),t(O3e,n),t(Wb,n),t(Nb,n),t(Fb,n),t(Ub,n),t(L3e,n),t(XW,n),t(Vb,n),t(K3e,n)})(gt);Object.defineProperty(Zo,"__esModule",{value:!0});Zo.safeFetchCollectionAuthorityRecordFromSeeds=Zo.fetchCollectionAuthorityRecordFromSeeds=Zo.findCollectionAuthorityRecordPda=Zo.getCollectionAuthorityRecordGpaBuilder=Zo.safeFetchAllCollectionAuthorityRecord=Zo.fetchAllCollectionAuthorityRecord=Zo.safeFetchCollectionAuthorityRecord=Zo.fetchCollectionAuthorityRecord=Zo.deserializeCollectionAuthorityRecord=Zo.getCollectionAuthorityRecordAccountDataSerializer=void 0;const w0=Z,zl=H,eK=gt;function W3e(){return(0,zl.mapSerializer)((0,zl.struct)([["key",(0,eK.getKeySerializer)()],["bump",(0,zl.u8)()],["updateAuthority",(0,zl.option)((0,zl.publicKey)())]],{description:"CollectionAuthorityRecordAccountData"}),n=>({...n,key:eK.Key.CollectionAuthorityRecord}))}Zo.getCollectionAuthorityRecordAccountDataSerializer=W3e;function A2(n){return(0,w0.deserializeAccount)(n,W3e())}Zo.deserializeCollectionAuthorityRecord=A2;async function N3e(n,e,t){const r=await n.rpc.getAccount((0,w0.publicKey)(e,!1),t);return(0,w0.assertAccountExists)(r,"CollectionAuthorityRecord"),A2(r)}Zo.fetchCollectionAuthorityRecord=N3e;async function F3e(n,e,t){const r=await n.rpc.getAccount((0,w0.publicKey)(e,!1),t);return r.exists?A2(r):null}Zo.safeFetchCollectionAuthorityRecord=F3e;async function RDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,w0.publicKey)(s,!1)),t)).map(s=>((0,w0.assertAccountExists)(s,"CollectionAuthorityRecord"),A2(s)))}Zo.fetchAllCollectionAuthorityRecord=RDt;async function BDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,w0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>A2(s))}Zo.safeFetchAllCollectionAuthorityRecord=BDt;function CDt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,w0.gpaBuilder)(n,e).registerFields({key:[0,(0,eK.getKeySerializer)()],bump:[1,(0,zl.u8)()],updateAuthority:[2,(0,zl.option)((0,zl.publicKey)())]}).deserializeUsing(t=>A2(t)).whereField("key",eK.Key.CollectionAuthorityRecord)}Zo.getCollectionAuthorityRecordGpaBuilder=CDt;function rae(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,zl.string)({size:"variable"}).serialize("metadata"),(0,zl.publicKey)().serialize(t),(0,zl.publicKey)().serialize(e.mint),(0,zl.string)({size:"variable"}).serialize("collection_authority"),(0,zl.publicKey)().serialize(e.collectionAuthority)])}Zo.findCollectionAuthorityRecordPda=rae;async function MDt(n,e,t){return N3e(n,rae(n,e),t)}Zo.fetchCollectionAuthorityRecordFromSeeds=MDt;async function zDt(n,e,t){return F3e(n,rae(n,e),t)}Zo.safeFetchCollectionAuthorityRecordFromSeeds=zDt;var Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});Jo.safeFetchDeprecatedMasterEditionV1FromSeeds=Jo.fetchDeprecatedMasterEditionV1FromSeeds=Jo.findDeprecatedMasterEditionV1Pda=Jo.getDeprecatedMasterEditionV1GpaBuilder=Jo.safeFetchAllDeprecatedMasterEditionV1=Jo.fetchAllDeprecatedMasterEditionV1=Jo.safeFetchDeprecatedMasterEditionV1=Jo.fetchDeprecatedMasterEditionV1=Jo.deserializeDeprecatedMasterEditionV1=Jo.getDeprecatedMasterEditionV1AccountDataSerializer=void 0;const I0=Z,Qc=H,tK=gt;function U3e(){return(0,Qc.mapSerializer)((0,Qc.struct)([["key",(0,tK.getKeySerializer)()],["supply",(0,Qc.u64)()],["maxSupply",(0,Qc.option)((0,Qc.u64)())],["printingMint",(0,Qc.publicKey)()],["oneTimePrintingAuthorizationMint",(0,Qc.publicKey)()]],{description:"DeprecatedMasterEditionV1AccountData"}),n=>({...n,key:tK.Key.MasterEditionV1}))}Jo.getDeprecatedMasterEditionV1AccountDataSerializer=U3e;function w2(n){return(0,I0.deserializeAccount)(n,U3e())}Jo.deserializeDeprecatedMasterEditionV1=w2;async function V3e(n,e,t){const r=await n.rpc.getAccount((0,I0.publicKey)(e,!1),t);return(0,I0.assertAccountExists)(r,"DeprecatedMasterEditionV1"),w2(r)}Jo.fetchDeprecatedMasterEditionV1=V3e;async function q3e(n,e,t){const r=await n.rpc.getAccount((0,I0.publicKey)(e,!1),t);return r.exists?w2(r):null}Jo.safeFetchDeprecatedMasterEditionV1=q3e;async function $Dt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,I0.publicKey)(s,!1)),t)).map(s=>((0,I0.assertAccountExists)(s,"DeprecatedMasterEditionV1"),w2(s)))}Jo.fetchAllDeprecatedMasterEditionV1=$Dt;async function DDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,I0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>w2(s))}Jo.safeFetchAllDeprecatedMasterEditionV1=DDt;function ODt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,I0.gpaBuilder)(n,e).registerFields({key:[0,(0,tK.getKeySerializer)()],supply:[1,(0,Qc.u64)()],maxSupply:[9,(0,Qc.option)((0,Qc.u64)())],printingMint:[null,(0,Qc.publicKey)()],oneTimePrintingAuthorizationMint:[null,(0,Qc.publicKey)()]}).deserializeUsing(t=>w2(t)).whereField("key",tK.Key.MasterEditionV1)}Jo.getDeprecatedMasterEditionV1GpaBuilder=ODt;function nae(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Qc.string)({size:"variable"}).serialize("metadata"),(0,Qc.publicKey)().serialize(t),(0,Qc.publicKey)().serialize(e.mint),(0,Qc.string)({size:"variable"}).serialize("edition")])}Jo.findDeprecatedMasterEditionV1Pda=nae;async function LDt(n,e,t){return V3e(n,nae(n,e),t)}Jo.fetchDeprecatedMasterEditionV1FromSeeds=LDt;async function KDt(n,e,t){return q3e(n,nae(n,e),t)}Jo.safeFetchDeprecatedMasterEditionV1FromSeeds=KDt;var uc={};Object.defineProperty(uc,"__esModule",{value:!0});uc.getEditionSize=uc.getEditionGpaBuilder=uc.safeFetchAllEdition=uc.fetchAllEdition=uc.safeFetchEdition=uc.fetchEdition=uc.deserializeEdition=uc.getEditionAccountDataSerializer=void 0;const _0=Z,ew=H,rK=gt;function H3e(){return(0,ew.mapSerializer)((0,ew.struct)([["key",(0,rK.getKeySerializer)()],["parent",(0,ew.publicKey)()],["edition",(0,ew.u64)()]],{description:"EditionAccountData"}),n=>({...n,key:rK.Key.EditionV1}))}uc.getEditionAccountDataSerializer=H3e;function I2(n){return(0,_0.deserializeAccount)(n,H3e())}uc.deserializeEdition=I2;async function WDt(n,e,t){const r=await n.rpc.getAccount((0,_0.publicKey)(e,!1),t);return(0,_0.assertAccountExists)(r,"Edition"),I2(r)}uc.fetchEdition=WDt;async function NDt(n,e,t){const r=await n.rpc.getAccount((0,_0.publicKey)(e,!1),t);return r.exists?I2(r):null}uc.safeFetchEdition=NDt;async function FDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,_0.publicKey)(s,!1)),t)).map(s=>((0,_0.assertAccountExists)(s,"Edition"),I2(s)))}uc.fetchAllEdition=FDt;async function UDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,_0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>I2(s))}uc.safeFetchAllEdition=UDt;function VDt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,_0.gpaBuilder)(n,e).registerFields({key:[0,(0,rK.getKeySerializer)()],parent:[1,(0,ew.publicKey)()],edition:[33,(0,ew.u64)()]}).deserializeUsing(t=>I2(t)).whereField("key",rK.Key.EditionV1)}uc.getEditionGpaBuilder=VDt;function qDt(){return 41}uc.getEditionSize=qDt;var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.safeFetchEditionMarkerFromSeeds=Pi.fetchEditionMarkerFromSeeds=Pi.findEditionMarkerPda=Pi.getEditionMarkerSize=Pi.getEditionMarkerGpaBuilder=Pi.safeFetchAllEditionMarker=Pi.fetchAllEditionMarker=Pi.safeFetchEditionMarker=Pi.fetchEditionMarker=Pi.deserializeEditionMarker=Pi.getEditionMarkerAccountDataSerializer=void 0;const P0=Z,Fd=H,nK=gt;function j3e(){return(0,Fd.mapSerializer)((0,Fd.struct)([["key",(0,nK.getKeySerializer)()],["ledger",(0,Fd.array)((0,Fd.u8)(),{size:31})]],{description:"EditionMarkerAccountData"}),n=>({...n,key:nK.Key.EditionMarker}))}Pi.getEditionMarkerAccountDataSerializer=j3e;function _2(n){return(0,P0.deserializeAccount)(n,j3e())}Pi.deserializeEditionMarker=_2;async function G3e(n,e,t){const r=await n.rpc.getAccount((0,P0.publicKey)(e,!1),t);return(0,P0.assertAccountExists)(r,"EditionMarker"),_2(r)}Pi.fetchEditionMarker=G3e;async function Y3e(n,e,t){const r=await n.rpc.getAccount((0,P0.publicKey)(e,!1),t);return r.exists?_2(r):null}Pi.safeFetchEditionMarker=Y3e;async function HDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,P0.publicKey)(s,!1)),t)).map(s=>((0,P0.assertAccountExists)(s,"EditionMarker"),_2(s)))}Pi.fetchAllEditionMarker=HDt;async function jDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,P0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>_2(s))}Pi.safeFetchAllEditionMarker=jDt;function GDt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,P0.gpaBuilder)(n,e).registerFields({key:[0,(0,nK.getKeySerializer)()],ledger:[1,(0,Fd.array)((0,Fd.u8)(),{size:31})]}).deserializeUsing(t=>_2(t)).whereField("key",nK.Key.EditionMarker)}Pi.getEditionMarkerGpaBuilder=GDt;function YDt(){return 32}Pi.getEditionMarkerSize=YDt;function sae(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Fd.string)({size:"variable"}).serialize("metadata"),(0,Fd.publicKey)().serialize(t),(0,Fd.publicKey)().serialize(e.mint),(0,Fd.string)({size:"variable"}).serialize("edition"),(0,Fd.string)({size:"variable"}).serialize(e.editionMarker)])}Pi.findEditionMarkerPda=sae;async function ZDt(n,e,t){return G3e(n,sae(n,e),t)}Pi.fetchEditionMarkerFromSeeds=ZDt;async function JDt(n,e,t){return Y3e(n,sae(n,e),t)}Pi.safeFetchEditionMarkerFromSeeds=JDt;var Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.safeFetchEditionMarkerV2FromSeeds=Xo.fetchEditionMarkerV2FromSeeds=Xo.findEditionMarkerV2Pda=Xo.getEditionMarkerV2GpaBuilder=Xo.safeFetchAllEditionMarkerV2=Xo.fetchAllEditionMarkerV2=Xo.safeFetchEditionMarkerV2=Xo.fetchEditionMarkerV2=Xo.deserializeEditionMarkerV2=Xo.getEditionMarkerV2AccountDataSerializer=void 0;const E0=Z,_h=H,Z3e=gt;function J3e(){return(0,_h.struct)([["key",(0,Z3e.getKeySerializer)()],["ledger",(0,_h.bytes)({size:(0,_h.u32)()})]],{description:"EditionMarkerV2AccountData"})}Xo.getEditionMarkerV2AccountDataSerializer=J3e;function P2(n){return(0,E0.deserializeAccount)(n,J3e())}Xo.deserializeEditionMarkerV2=P2;async function X3e(n,e,t){const r=await n.rpc.getAccount((0,E0.publicKey)(e,!1),t);return(0,E0.assertAccountExists)(r,"EditionMarkerV2"),P2(r)}Xo.fetchEditionMarkerV2=X3e;async function Q3e(n,e,t){const r=await n.rpc.getAccount((0,E0.publicKey)(e,!1),t);return r.exists?P2(r):null}Xo.safeFetchEditionMarkerV2=Q3e;async function XDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,E0.publicKey)(s,!1)),t)).map(s=>((0,E0.assertAccountExists)(s,"EditionMarkerV2"),P2(s)))}Xo.fetchAllEditionMarkerV2=XDt;async function QDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,E0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>P2(s))}Xo.safeFetchAllEditionMarkerV2=QDt;function eOt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,E0.gpaBuilder)(n,e).registerFields({key:[0,(0,Z3e.getKeySerializer)()],ledger:[1,(0,_h.bytes)({size:(0,_h.u32)()})]}).deserializeUsing(t=>P2(t))}Xo.getEditionMarkerV2GpaBuilder=eOt;function iae(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,_h.string)({size:"variable"}).serialize("metadata"),(0,_h.publicKey)().serialize(t),(0,_h.publicKey)().serialize(e.mint),(0,_h.string)({size:"variable"}).serialize("edition"),(0,_h.string)({size:"variable"}).serialize("marker")])}Xo.findEditionMarkerV2Pda=iae;async function tOt(n,e,t){return X3e(n,iae(n,e),t)}Xo.fetchEditionMarkerV2FromSeeds=tOt;async function rOt(n,e,t){return Q3e(n,iae(n,e),t)}Xo.safeFetchEditionMarkerV2FromSeeds=rOt;var Ei={},Sn={},QW={};Object.defineProperty(QW,"__esModule",{value:!0});QW.findEditionMarkerFromEditionNumberPda=void 0;const nOt=G0;function sOt(n,e){return(0,nOt.findEditionMarkerPda)(n,{mint:e.mint,editionMarker:(BigInt(e.editionNumber)/248n).toString(10)})}QW.findEditionMarkerFromEditionNumberPda=sOt;var eN={},Y0={};Object.defineProperty(Y0,"__esModule",{value:!0});Y0.TokenMetadataError=void 0;const iOt=Z;class oOt extends iOt.UmiError{constructor(e,t){super(e,"plugin","Token Metadata",t),this.name="TokenMetadataError"}}Y0.TokenMetadataError=oOt;Object.defineProperty(eN,"__esModule",{value:!0});eN.getMetadataDelegateRoleSeedSerializer=void 0;const mSe=H,aOt=Y0,lp=tae;function cOt(){return(0,mSe.mapSerializer)((0,mSe.string)({size:"variable"}),n=>{if(typeof n=="string")return n;switch(n){case lp.MetadataDelegateRole.AuthorityItem:return"authority_item_delegate";case lp.MetadataDelegateRole.Collection:return"collection_delegate";case lp.MetadataDelegateRole.Use:return"use_delegate";case lp.MetadataDelegateRole.Data:return"data_delegate";case lp.MetadataDelegateRole.ProgrammableConfig:return"programmable_config_delegate";case lp.MetadataDelegateRole.DataItem:return"data_item_delegate";case lp.MetadataDelegateRole.CollectionItem:return"collection_item_delegate";case lp.MetadataDelegateRole.ProgrammableConfigItem:return"prog_config_item_delegate";default:throw new aOt.TokenMetadataError(`Invalid MetadataDelegateRoleArgs ${n}`)}},n=>n)}eN.getMetadataDelegateRoleSeedSerializer=cOt;var tN={};Object.defineProperty(tN,"__esModule",{value:!0});tN.getHolderDelegateRoleSeedSerializer=void 0;const ySe=H,uOt=Y0,lOt=eae;function dOt(){return(0,ySe.mapSerializer)((0,ySe.string)({size:"variable"}),n=>{if(typeof n=="string")return n;switch(n){case lOt.HolderDelegateRole.PrintDelegate:return"print_delegate";default:throw new uOt.TokenMetadataError(`Invalid PrintDelegateRoleArgs ${n}`)}},n=>n)}tN.getHolderDelegateRoleSeedSerializer=dOt;var lc={},gi={},yy={},rN={},Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.safeFetchAddressLookupTableFromSeeds=Qo.fetchAddressLookupTableFromSeeds=Qo.findAddressLookupTablePda=Qo.getAddressLookupTableGpaBuilder=Qo.safeFetchAllAddressLookupTable=Qo.fetchAllAddressLookupTable=Qo.safeFetchAddressLookupTable=Qo.fetchAddressLookupTable=Qo.deserializeAddressLookupTable=Qo.getAddressLookupTableAccountDataSerializer=void 0;const x0=Z,Mo=H;function eDe(){return(0,Mo.mapSerializer)((0,Mo.struct)([["discriminator",(0,Mo.u32)()],["deactivationSlot",(0,Mo.u64)()],["lastExtendedSlot",(0,Mo.u64)()],["lastExtendedStartIndex",(0,Mo.u8)()],["authority",(0,Mo.option)((0,Mo.publicKey)(),{fixed:!0})],["padding",(0,Mo.u16)()],["addresses",(0,Mo.array)((0,Mo.publicKey)(),{size:"remainder"})]],{description:"AddressLookupTableAccountData"}),n=>({...n,discriminator:1,padding:0}))}Qo.getAddressLookupTableAccountDataSerializer=eDe;function E2(n){return(0,x0.deserializeAccount)(n,eDe())}Qo.deserializeAddressLookupTable=E2;async function tDe(n,e,t){const r=await n.rpc.getAccount((0,x0.publicKey)(e,!1),t);return(0,x0.assertAccountExists)(r,"AddressLookupTable"),E2(r)}Qo.fetchAddressLookupTable=tDe;async function rDe(n,e,t){const r=await n.rpc.getAccount((0,x0.publicKey)(e,!1),t);return r.exists?E2(r):null}Qo.safeFetchAddressLookupTable=rDe;async function fOt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,x0.publicKey)(s,!1)),t)).map(s=>((0,x0.assertAccountExists)(s,"AddressLookupTable"),E2(s)))}Qo.fetchAllAddressLookupTable=fOt;async function hOt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,x0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>E2(s))}Qo.safeFetchAllAddressLookupTable=hOt;function gOt(n){const e=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111");return(0,x0.gpaBuilder)(n,e).registerFields({discriminator:[0,(0,Mo.u32)()],deactivationSlot:[4,(0,Mo.u64)()],lastExtendedSlot:[12,(0,Mo.u64)()],lastExtendedStartIndex:[20,(0,Mo.u8)()],authority:[21,(0,Mo.option)((0,Mo.publicKey)(),{fixed:!0})],padding:[54,(0,Mo.u16)()],addresses:[56,(0,Mo.array)((0,Mo.publicKey)(),{size:"remainder"})]}).deserializeUsing(t=>E2(t)).whereField("discriminator",1)}Qo.getAddressLookupTableGpaBuilder=gOt;function oae(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111");return n.eddsa.findPda(t,[(0,Mo.publicKey)().serialize(e.authority),(0,Mo.u64)().serialize(e.recentSlot)])}Qo.findAddressLookupTablePda=oae;async function mOt(n,e,t){return tDe(n,oae(n,e),t)}Qo.fetchAddressLookupTableFromSeeds=mOt;async function yOt(n,e,t){return rDe(n,oae(n,e),t)}Qo.safeFetchAddressLookupTableFromSeeds=yOt;var dc={};Object.defineProperty(dc,"__esModule",{value:!0});dc.getMintSize=dc.getMintGpaBuilder=dc.safeFetchAllMint=dc.fetchAllMint=dc.safeFetchMint=dc.fetchMint=dc.deserializeMint=dc.getMintAccountDataSerializer=void 0;const T0=Z,wa=H;function nDe(){return(0,wa.struct)([["mintAuthority",(0,wa.option)((0,wa.publicKey)(),{prefix:(0,wa.u32)(),fixed:!0})],["supply",(0,wa.u64)()],["decimals",(0,wa.u8)()],["isInitialized",(0,wa.bool)()],["freezeAuthority",(0,wa.option)((0,wa.publicKey)(),{prefix:(0,wa.u32)(),fixed:!0})]],{description:"MintAccountData"})}dc.getMintAccountDataSerializer=nDe;function x2(n){return(0,T0.deserializeAccount)(n,nDe())}dc.deserializeMint=x2;async function pOt(n,e,t){const r=await n.rpc.getAccount((0,T0.publicKey)(e,!1),t);return(0,T0.assertAccountExists)(r,"Mint"),x2(r)}dc.fetchMint=pOt;async function bOt(n,e,t){const r=await n.rpc.getAccount((0,T0.publicKey)(e,!1),t);return r.exists?x2(r):null}dc.safeFetchMint=bOt;async function SOt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,T0.publicKey)(s,!1)),t)).map(s=>((0,T0.assertAccountExists)(s,"Mint"),x2(s)))}dc.fetchAllMint=SOt;async function kOt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,T0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>x2(s))}dc.safeFetchAllMint=kOt;function vOt(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,T0.gpaBuilder)(n,e).registerFields({mintAuthority:[0,(0,wa.option)((0,wa.publicKey)(),{prefix:(0,wa.u32)(),fixed:!0})],supply:[36,(0,wa.u64)()],decimals:[44,(0,wa.u8)()],isInitialized:[45,(0,wa.bool)()],freezeAuthority:[46,(0,wa.option)((0,wa.publicKey)(),{prefix:(0,wa.u32)(),fixed:!0})]}).deserializeUsing(t=>x2(t)).whereSize(82)}dc.getMintGpaBuilder=vOt;function AOt(){return 82}dc.getMintSize=AOt;var fc={};Object.defineProperty(fc,"__esModule",{value:!0});fc.getMultisigSize=fc.getMultisigGpaBuilder=fc.safeFetchAllMultisig=fc.fetchAllMultisig=fc.safeFetchMultisig=fc.fetchMultisig=fc.deserializeMultisig=fc.getMultisigAccountDataSerializer=void 0;const R0=Z,Kd=H;function sDe(){return(0,Kd.struct)([["m",(0,Kd.u8)()],["n",(0,Kd.u8)()],["isInitialized",(0,Kd.bool)()],["signers",(0,Kd.array)((0,Kd.publicKey)(),{size:11})]],{description:"MultisigAccountData"})}fc.getMultisigAccountDataSerializer=sDe;function T2(n){return(0,R0.deserializeAccount)(n,sDe())}fc.deserializeMultisig=T2;async function wOt(n,e,t){const r=await n.rpc.getAccount((0,R0.publicKey)(e,!1),t);return(0,R0.assertAccountExists)(r,"Multisig"),T2(r)}fc.fetchMultisig=wOt;async function IOt(n,e,t){const r=await n.rpc.getAccount((0,R0.publicKey)(e,!1),t);return r.exists?T2(r):null}fc.safeFetchMultisig=IOt;async function _Ot(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,R0.publicKey)(s,!1)),t)).map(s=>((0,R0.assertAccountExists)(s,"Multisig"),T2(s)))}fc.fetchAllMultisig=_Ot;async function POt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,R0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>T2(s))}fc.safeFetchAllMultisig=POt;function EOt(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,R0.gpaBuilder)(n,e).registerFields({m:[0,(0,Kd.u8)()],n:[1,(0,Kd.u8)()],isInitialized:[2,(0,Kd.bool)()],signers:[3,(0,Kd.array)((0,Kd.publicKey)(),{size:11})]}).deserializeUsing(t=>T2(t)).whereSize(355)}fc.getMultisigGpaBuilder=EOt;function xOt(){return 355}fc.getMultisigSize=xOt;var hc={},nN={},iDe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAuthorityTypeSerializer=n.AuthorityType=void 0;const e=H;var t;(function(s){s[s.MintTokens=0]="MintTokens",s[s.FreezeAccount=1]="FreezeAccount",s[s.AccountOwner=2]="AccountOwner",s[s.CloseAccount=3]="CloseAccount"})(t=n.AuthorityType||(n.AuthorityType={}));function r(){return(0,e.scalarEnum)(t,{description:"AuthorityType"})}n.getAuthorityTypeSerializer=r})(iDe);var oDe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStateSerializer=n.TokenState=void 0;const e=H;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.Initialized=1]="Initialized",s[s.Frozen=2]="Frozen"})(t=n.TokenState||(n.TokenState={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenState"})}n.getTokenStateSerializer=r})(oDe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(iDe,n),t(oDe,n)})(nN);Object.defineProperty(hc,"__esModule",{value:!0});hc.getTokenSize=hc.getTokenGpaBuilder=hc.safeFetchAllToken=hc.fetchAllToken=hc.safeFetchToken=hc.fetchToken=hc.deserializeToken=hc.getTokenAccountDataSerializer=void 0;const B0=Z,Ms=H,aDe=nN;function cDe(){return(0,Ms.struct)([["mint",(0,Ms.publicKey)()],["owner",(0,Ms.publicKey)()],["amount",(0,Ms.u64)()],["delegate",(0,Ms.option)((0,Ms.publicKey)(),{prefix:(0,Ms.u32)(),fixed:!0})],["state",(0,aDe.getTokenStateSerializer)()],["isNative",(0,Ms.option)((0,Ms.u64)(),{prefix:(0,Ms.u32)(),fixed:!0})],["delegatedAmount",(0,Ms.u64)()],["closeAuthority",(0,Ms.option)((0,Ms.publicKey)(),{prefix:(0,Ms.u32)(),fixed:!0})]],{description:"TokenAccountData"})}hc.getTokenAccountDataSerializer=cDe;function R2(n){return(0,B0.deserializeAccount)(n,cDe())}hc.deserializeToken=R2;async function TOt(n,e,t){const r=await n.rpc.getAccount((0,B0.publicKey)(e,!1),t);return(0,B0.assertAccountExists)(r,"Token"),R2(r)}hc.fetchToken=TOt;async function ROt(n,e,t){const r=await n.rpc.getAccount((0,B0.publicKey)(e,!1),t);return r.exists?R2(r):null}hc.safeFetchToken=ROt;async function BOt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,B0.publicKey)(s,!1)),t)).map(s=>((0,B0.assertAccountExists)(s,"Token"),R2(s)))}hc.fetchAllToken=BOt;async function COt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,B0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>R2(s))}hc.safeFetchAllToken=COt;function MOt(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,B0.gpaBuilder)(n,e).registerFields({mint:[0,(0,Ms.publicKey)()],owner:[32,(0,Ms.publicKey)()],amount:[64,(0,Ms.u64)()],delegate:[72,(0,Ms.option)((0,Ms.publicKey)(),{prefix:(0,Ms.u32)(),fixed:!0})],state:[108,(0,aDe.getTokenStateSerializer)()],isNative:[109,(0,Ms.option)((0,Ms.u64)(),{prefix:(0,Ms.u32)(),fixed:!0})],delegatedAmount:[121,(0,Ms.u64)()],closeAuthority:[129,(0,Ms.option)((0,Ms.publicKey)(),{prefix:(0,Ms.u32)(),fixed:!0})]}).deserializeUsing(t=>R2(t)).whereSize(165)}hc.getTokenGpaBuilder=MOt;function zOt(){return 165}hc.getTokenSize=zOt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Qo,n),t(dc,n),t(fc,n),t(hc,n)})(rN);var Sg={},Rh={};Object.defineProperty(Rh,"__esModule",{value:!0});Rh.getMplSystemExtrasErrorFromName=Rh.getMplSystemExtrasErrorFromCode=Rh.SysExInvalidOwnerForSourceError=Rh.SysExInvalidSystemProgramError=void 0;const uDe=Z,aae=new Map,cae=new Map;class uae extends uDe.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=0}}Rh.SysExInvalidSystemProgramError=uae;aae.set(0,uae);cae.set("InvalidSystemProgram",uae);class lae extends uDe.ProgramError{constructor(e,t){super("Invalid Program Owner For The Source Account",e,t),this.name="InvalidOwnerForSource",this.code=1}}Rh.SysExInvalidOwnerForSourceError=lae;aae.set(1,lae);cae.set("InvalidOwnerForSource",lae);function $Ot(n,e,t){const r=aae.get(n);return r?new r(e,t):null}Rh.getMplSystemExtrasErrorFromCode=$Ot;function DOt(n,e,t){const r=cae.get(n);return r?new r(e,t):null}Rh.getMplSystemExtrasErrorFromName=DOt;var ea={};Object.defineProperty(ea,"__esModule",{value:!0});ea.getMplTokenExtrasErrorFromName=ea.getMplTokenExtrasErrorFromCode=ea.TokExCannotCreateNonAssociatedTokenError=ea.TokExInvalidTokenOwnerError=ea.TokExInvalidTokenMintError=ea.TokExInvalidProgramOwnerError=ea.TokExInvalidAssociatedTokenAccountError=ea.TokExInvalidAssociatedTokenProgramError=ea.TokExInvalidTokenProgramError=ea.TokExInvalidSystemProgramError=void 0;const Z0=Z,py=new Map,by=new Map;class dae extends Z0.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=0}}ea.TokExInvalidSystemProgramError=dae;py.set(0,dae);by.set("InvalidSystemProgram",dae);class fae extends Z0.ProgramError{constructor(e,t){super("Invalid Token Program",e,t),this.name="InvalidTokenProgram",this.code=1}}ea.TokExInvalidTokenProgramError=fae;py.set(1,fae);by.set("InvalidTokenProgram",fae);class hae extends Z0.ProgramError{constructor(e,t){super("Invalid Associated Token Program",e,t),this.name="InvalidAssociatedTokenProgram",this.code=2}}ea.TokExInvalidAssociatedTokenProgramError=hae;py.set(2,hae);by.set("InvalidAssociatedTokenProgram",hae);class gae extends Z0.ProgramError{constructor(e,t){super("Invalid Associated Token Account: it should derive from the provided mint and owner",e,t),this.name="InvalidAssociatedTokenAccount",this.code=3}}ea.TokExInvalidAssociatedTokenAccountError=gae;py.set(3,gae);by.set("InvalidAssociatedTokenAccount",gae);class mae extends Z0.ProgramError{constructor(e,t){super("Invalid Program Owner",e,t),this.name="InvalidProgramOwner",this.code=4}}ea.TokExInvalidProgramOwnerError=mae;py.set(4,mae);by.set("InvalidProgramOwner",mae);class yae extends Z0.ProgramError{constructor(e,t){super("Invalid Token Mint: it should be the same as the provided mint account",e,t),this.name="InvalidTokenMint",this.code=5}}ea.TokExInvalidTokenMintError=yae;py.set(5,yae);by.set("InvalidTokenMint",yae);class pae extends Z0.ProgramError{constructor(e,t){super("Invalid Program Owner: it should be the same as the provided owner account",e,t),this.name="InvalidTokenOwner",this.code=6}}ea.TokExInvalidTokenOwnerError=pae;py.set(6,pae);by.set("InvalidTokenOwner",pae);class bae extends Z0.ProgramError{constructor(e,t){super("Cannot create non-associated token accounts as they would need to sign the transaction. Please provide an associated token account instead",e,t),this.name="CannotCreateNonAssociatedToken",this.code=7}}ea.TokExCannotCreateNonAssociatedTokenError=bae;py.set(7,bae);by.set("CannotCreateNonAssociatedToken",bae);function OOt(n,e,t){const r=py.get(n);return r?new r(e,t):null}ea.getMplTokenExtrasErrorFromCode=OOt;function LOt(n,e,t){const r=by.get(n);return r?new r(e,t):null}ea.getMplTokenExtrasErrorFromName=LOt;var xE={};Object.defineProperty(xE,"__esModule",{value:!0});xE.getSplAddressLookupTableErrorFromName=xE.getSplAddressLookupTableErrorFromCode=void 0;const KOt=new Map,WOt=new Map;function NOt(n,e,t){const r=KOt.get(n);return r?new r(e,t):null}xE.getSplAddressLookupTableErrorFromCode=NOt;function FOt(n,e,t){const r=WOt.get(n);return r?new r(e,t):null}xE.getSplAddressLookupTableErrorFromName=FOt;var qb={};Object.defineProperty(qb,"__esModule",{value:!0});qb.getSplAssociatedTokenErrorFromName=qb.getSplAssociatedTokenErrorFromCode=qb.AtaInvalidOwnerError=void 0;const UOt=Z,lDe=new Map,dDe=new Map;class Sae extends UOt.ProgramError{constructor(e,t){super("Associated token account owner does not match address derivation",e,t),this.name="InvalidOwner",this.code=0}}qb.AtaInvalidOwnerError=Sae;lDe.set(0,Sae);dDe.set("InvalidOwner",Sae);function VOt(n,e,t){const r=lDe.get(n);return r?new r(e,t):null}qb.getSplAssociatedTokenErrorFromCode=VOt;function qOt(n,e,t){const r=dDe.get(n);return r?new r(e,t):null}qb.getSplAssociatedTokenErrorFromName=qOt;var TE={};Object.defineProperty(TE,"__esModule",{value:!0});TE.getSplComputeBudgetErrorFromName=TE.getSplComputeBudgetErrorFromCode=void 0;const HOt=new Map,jOt=new Map;function GOt(n,e,t){const r=HOt.get(n);return r?new r(e,t):null}TE.getSplComputeBudgetErrorFromCode=GOt;function YOt(n,e,t){const r=jOt.get(n);return r?new r(e,t):null}TE.getSplComputeBudgetErrorFromName=YOt;var RE={};Object.defineProperty(RE,"__esModule",{value:!0});RE.getSplMemoErrorFromName=RE.getSplMemoErrorFromCode=void 0;const ZOt=new Map,JOt=new Map;function XOt(n,e,t){const r=ZOt.get(n);return r?new r(e,t):null}RE.getSplMemoErrorFromCode=XOt;function QOt(n,e,t){const r=JOt.get(n);return r?new r(e,t):null}RE.getSplMemoErrorFromName=QOt;var BE={};Object.defineProperty(BE,"__esModule",{value:!0});BE.getSplSystemErrorFromName=BE.getSplSystemErrorFromCode=void 0;const eLt=new Map,tLt=new Map;function rLt(n,e,t){const r=eLt.get(n);return r?new r(e,t):null}BE.getSplSystemErrorFromCode=rLt;function nLt(n,e,t){const r=tLt.get(n);return r?new r(e,t):null}BE.getSplSystemErrorFromName=nLt;var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.getSplTokenErrorFromName=Cr.getSplTokenErrorFromCode=Cr.TokNonNativeNotSupportedError=Cr.TokMintDecimalsMismatchError=Cr.TokAccountFrozenError=Cr.TokMintCannotFreezeError=Cr.TokAuthorityTypeNotSupportedError=Cr.TokOverflowError=Cr.TokInvalidStateError=Cr.TokInvalidInstructionError=Cr.TokNonNativeHasBalanceError=Cr.TokNativeNotSupportedError=Cr.TokUninitializedStateError=Cr.TokInvalidNumberOfRequiredSignersError=Cr.TokInvalidNumberOfProvidedSignersError=Cr.TokAlreadyInUseError=Cr.TokFixedSupplyError=Cr.TokOwnerMismatchError=Cr.TokMintMismatchError=Cr.TokInvalidMintError=Cr.TokInsufficientFundsError=Cr.TokNotRentExemptError=void 0;const ba=Z,la=new Map,da=new Map;class kae extends ba.ProgramError{constructor(e,t){super("Lamport balance below rent-exempt threshold",e,t),this.name="NotRentExempt",this.code=0}}Cr.TokNotRentExemptError=kae;la.set(0,kae);da.set("NotRentExempt",kae);class vae extends ba.ProgramError{constructor(e,t){super("Insufficient funds",e,t),this.name="InsufficientFunds",this.code=1}}Cr.TokInsufficientFundsError=vae;la.set(1,vae);da.set("InsufficientFunds",vae);class Aae extends ba.ProgramError{constructor(e,t){super("Invalid Mint",e,t),this.name="InvalidMint",this.code=2}}Cr.TokInvalidMintError=Aae;la.set(2,Aae);da.set("InvalidMint",Aae);class wae extends ba.ProgramError{constructor(e,t){super("Account not associated with this Mint",e,t),this.name="MintMismatch",this.code=3}}Cr.TokMintMismatchError=wae;la.set(3,wae);da.set("MintMismatch",wae);class Iae extends ba.ProgramError{constructor(e,t){super("Owner does not match",e,t),this.name="OwnerMismatch",this.code=4}}Cr.TokOwnerMismatchError=Iae;la.set(4,Iae);da.set("OwnerMismatch",Iae);class _ae extends ba.ProgramError{constructor(e,t){super("Fixed supply",e,t),this.name="FixedSupply",this.code=5}}Cr.TokFixedSupplyError=_ae;la.set(5,_ae);da.set("FixedSupply",_ae);class Pae extends ba.ProgramError{constructor(e,t){super("Already in use",e,t),this.name="AlreadyInUse",this.code=6}}Cr.TokAlreadyInUseError=Pae;la.set(6,Pae);da.set("AlreadyInUse",Pae);class Eae extends ba.ProgramError{constructor(e,t){super("Invalid number of provided signers",e,t),this.name="InvalidNumberOfProvidedSigners",this.code=7}}Cr.TokInvalidNumberOfProvidedSignersError=Eae;la.set(7,Eae);da.set("InvalidNumberOfProvidedSigners",Eae);class xae extends ba.ProgramError{constructor(e,t){super("Invalid number of required signers",e,t),this.name="InvalidNumberOfRequiredSigners",this.code=8}}Cr.TokInvalidNumberOfRequiredSignersError=xae;la.set(8,xae);da.set("InvalidNumberOfRequiredSigners",xae);class Tae extends ba.ProgramError{constructor(e,t){super("State is unititialized",e,t),this.name="UninitializedState",this.code=9}}Cr.TokUninitializedStateError=Tae;la.set(9,Tae);da.set("UninitializedState",Tae);class Rae extends ba.ProgramError{constructor(e,t){super("Instruction does not support native tokens",e,t),this.name="NativeNotSupported",this.code=10}}Cr.TokNativeNotSupportedError=Rae;la.set(10,Rae);da.set("NativeNotSupported",Rae);class Bae extends ba.ProgramError{constructor(e,t){super("Non-native account can only be closed if its balance is zero",e,t),this.name="NonNativeHasBalance",this.code=11}}Cr.TokNonNativeHasBalanceError=Bae;la.set(11,Bae);da.set("NonNativeHasBalance",Bae);class Cae extends ba.ProgramError{constructor(e,t){super("Invalid instruction",e,t),this.name="InvalidInstruction",this.code=12}}Cr.TokInvalidInstructionError=Cae;la.set(12,Cae);da.set("InvalidInstruction",Cae);class Mae extends ba.ProgramError{constructor(e,t){super("State is invalid for requested operation",e,t),this.name="InvalidState",this.code=13}}Cr.TokInvalidStateError=Mae;la.set(13,Mae);da.set("InvalidState",Mae);class zae extends ba.ProgramError{constructor(e,t){super("Operation overflowed",e,t),this.name="Overflow",this.code=14}}Cr.TokOverflowError=zae;la.set(14,zae);da.set("Overflow",zae);class $ae extends ba.ProgramError{constructor(e,t){super("Account does not support specified authority type",e,t),this.name="AuthorityTypeNotSupported",this.code=15}}Cr.TokAuthorityTypeNotSupportedError=$ae;la.set(15,$ae);da.set("AuthorityTypeNotSupported",$ae);class Dae extends ba.ProgramError{constructor(e,t){super("This token mint cannot freeze accounts",e,t),this.name="MintCannotFreeze",this.code=16}}Cr.TokMintCannotFreezeError=Dae;la.set(16,Dae);da.set("MintCannotFreeze",Dae);class Oae extends ba.ProgramError{constructor(e,t){super("Account is frozen",e,t),this.name="AccountFrozen",this.code=17}}Cr.TokAccountFrozenError=Oae;la.set(17,Oae);da.set("AccountFrozen",Oae);class Lae extends ba.ProgramError{constructor(e,t){super("The provided decimals value different from the Mint decimals",e,t),this.name="MintDecimalsMismatch",this.code=18}}Cr.TokMintDecimalsMismatchError=Lae;la.set(18,Lae);da.set("MintDecimalsMismatch",Lae);class Kae extends ba.ProgramError{constructor(e,t){super("Instruction does not support non-native tokens",e,t),this.name="NonNativeNotSupported",this.code=19}}Cr.TokNonNativeNotSupportedError=Kae;la.set(19,Kae);da.set("NonNativeNotSupported",Kae);function sLt(n,e,t){const r=la.get(n);return r?new r(e,t):null}Cr.getSplTokenErrorFromCode=sLt;function iLt(n,e,t){const r=da.get(n);return r?new r(e,t):null}Cr.getSplTokenErrorFromName=iLt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Rh,n),t(ea,n),t(xE,n),t(qb,n),t(TE,n),t(RE,n),t(BE,n),t(Cr,n)})(Sg);var fDe={},CE={},mr={};Object.defineProperty(mr,"__esModule",{value:!0});mr.getAccountMetasAndSigners=mr.expectPda=mr.expectPublicKey=mr.expectSome=void 0;const RM=Z;function oLt(n){if(n==null)throw new Error("Expected a value but received null or undefined.");return n}mr.expectSome=oLt;function aLt(n){if(!n)throw new Error("Expected a PublicKey.");return(0,RM.publicKey)(n,!1)}mr.expectPublicKey=aLt;function cLt(n){if(!n||!Array.isArray(n)||!(0,RM.isPda)(n))throw new Error("Expected a PDA.");return n}mr.expectPda=cLt;function uLt(n,e,t){const r=[],s=[];return n.forEach(i=>{if(!i.value){if(e==="omitted")return;r.push({pubkey:t,isSigner:!1,isWritable:!1});return}(0,RM.isSigner)(i.value)&&s.push(i.value),r.push({pubkey:(0,RM.publicKey)(i.value,!1),isSigner:(0,RM.isSigner)(i.value),isWritable:i.isWritable})}),[r,s]}mr.getAccountMetasAndSigners=uLt;Object.defineProperty(CE,"__esModule",{value:!0});CE.addMemo=CE.getAddMemoInstructionDataSerializer=void 0;const lLt=Z,pSe=H,dLt=mr;function hDe(){return(0,pSe.struct)([["memo",(0,pSe.string)()]],{description:"AddMemoInstructionData"})}CE.getAddMemoInstructionDataSerializer=hDe;function fLt(n,e){const t=n.programs.getPublicKey("splMemo","Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,dLt.getAccountMetasAndSigners)(i,"programId",t),c=hDe().serialize(s),u=0;return(0,lLt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}CE.addMemo=fLt;var ME={};Object.defineProperty(ME,"__esModule",{value:!0});ME.amountToUiAmount=ME.getAmountToUiAmountInstructionDataSerializer=void 0;const hLt=Z,nO=H,gLt=mr;function gDe(){return(0,nO.mapSerializer)((0,nO.struct)([["discriminator",(0,nO.u8)()],["amount",(0,nO.u64)()]],{description:"AmountToUiAmountInstructionData"}),n=>({...n,discriminator:23}))}ME.getAmountToUiAmountInstructionDataSerializer=gDe;function mLt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,gLt.getAccountMetasAndSigners)(i,"programId",t),c=gDe().serialize(s),u=0;return(0,hLt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ME.amountToUiAmount=mLt;var zE={};Object.defineProperty(zE,"__esModule",{value:!0});zE.approveTokenDelegate=zE.getApproveTokenDelegateInstructionDataSerializer=void 0;const yLt=Z,sO=H,pLt=mr;function mDe(){return(0,sO.mapSerializer)((0,sO.struct)([["discriminator",(0,sO.u8)()],["amount",(0,sO.u64)()]],{description:"ApproveTokenDelegateInstructionData"}),n=>({...n,discriminator:4}))}zE.getApproveTokenDelegateInstructionDataSerializer=mDe;function bLt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,pLt.getAccountMetasAndSigners)(i,"programId",t),c=mDe().serialize(s),u=0;return(0,yLt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}zE.approveTokenDelegate=bLt;var $E={};Object.defineProperty($E,"__esModule",{value:!0});$E.approveTokenDelegateChecked=$E.getApproveTokenDelegateCheckedInstructionDataSerializer=void 0;const SLt=Z,kC=H,kLt=mr;function yDe(){return(0,kC.mapSerializer)((0,kC.struct)([["discriminator",(0,kC.u8)()],["amount",(0,kC.u64)()],["decimals",(0,kC.u8)()]],{description:"ApproveTokenDelegateCheckedInstructionData"}),n=>({...n,discriminator:13}))}$E.getApproveTokenDelegateCheckedInstructionDataSerializer=yDe;function vLt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},mint:{index:1,isWritable:!1,value:e.mint??null},delegate:{index:2,isWritable:!1,value:e.delegate??null},owner:{index:3,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,kLt.getAccountMetasAndSigners)(i,"programId",t),c=yDe().serialize(s),u=0;return(0,SLt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}$E.approveTokenDelegateChecked=vLt;var DE={};Object.defineProperty(DE,"__esModule",{value:!0});DE.burnToken=DE.getBurnTokenInstructionDataSerializer=void 0;const ALt=Z,iO=H,wLt=mr;function pDe(){return(0,iO.mapSerializer)((0,iO.struct)([["discriminator",(0,iO.u8)()],["amount",(0,iO.u64)()]],{description:"BurnTokenInstructionData"}),n=>({...n,discriminator:8}))}DE.getBurnTokenInstructionDataSerializer=pDe;function ILt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!0,value:e.mint??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,wLt.getAccountMetasAndSigners)(i,"programId",t),c=pDe().serialize(s),u=0;return(0,ALt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}DE.burnToken=ILt;var OE={};Object.defineProperty(OE,"__esModule",{value:!0});OE.burnTokenChecked=OE.getBurnTokenCheckedInstructionDataSerializer=void 0;const _Lt=Z,vC=H,PLt=mr;function bDe(){return(0,vC.mapSerializer)((0,vC.struct)([["discriminator",(0,vC.u8)()],["amount",(0,vC.u64)()],["decimals",(0,vC.u8)()]],{description:"BurnTokenCheckedInstructionData"}),n=>({...n,discriminator:15}))}OE.getBurnTokenCheckedInstructionDataSerializer=bDe;function ELt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!0,value:e.mint??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,PLt.getAccountMetasAndSigners)(i,"programId",t),c=bDe().serialize(s),u=0;return(0,_Lt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}OE.burnTokenChecked=ELt;var LE={};Object.defineProperty(LE,"__esModule",{value:!0});LE.closeLut=LE.getCloseLutInstructionDataSerializer=void 0;const xLt=Z,oV=H,TLt=mr;function SDe(){return(0,oV.mapSerializer)((0,oV.struct)([["discriminator",(0,oV.u32)()]],{description:"CloseLutInstructionData"}),n=>({...n,discriminator:4}))}LE.getCloseLutInstructionDataSerializer=SDe;function RLt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},recipient:{index:2,isWritable:!0,value:e.recipient??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,TLt.getAccountMetasAndSigners)(s,"programId",t),a=SDe().serialize({}),c=0;return(0,xLt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}LE.closeLut=RLt;var KE={};Object.defineProperty(KE,"__esModule",{value:!0});KE.closeToken=KE.getCloseTokenInstructionDataSerializer=void 0;const BLt=Z,aV=H,CLt=mr;function kDe(){return(0,aV.mapSerializer)((0,aV.struct)([["discriminator",(0,aV.u8)()]],{description:"CloseTokenInstructionData"}),n=>({...n,discriminator:9}))}KE.getCloseTokenInstructionDataSerializer=kDe;function MLt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},destination:{index:1,isWritable:!0,value:e.destination??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,CLt.getAccountMetasAndSigners)(s,"programId",t),a=kDe().serialize({}),c=0;return(0,BLt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}KE.closeToken=MLt;var WE={};Object.defineProperty(WE,"__esModule",{value:!0});WE.createAccount=WE.getCreateAccountInstructionDataSerializer=void 0;const vY=Z,SA=H,zLt=mr;function vDe(){return(0,SA.mapSerializer)((0,SA.struct)([["discriminator",(0,SA.u32)()],["lamports",(0,vY.mapAmountSerializer)((0,SA.u64)(),"SOL",9)],["space",(0,SA.u64)()],["programId",(0,SA.publicKey)()]],{description:"CreateAccountInstructionData"}),n=>({...n,discriminator:0}))}WE.getCreateAccountInstructionDataSerializer=vDe;function $Lt(n,e){const t=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r={payer:{index:0,isWritable:!0,value:e.payer??null},newAccount:{index:1,isWritable:!0,value:e.newAccount??null}},s={...e};r.payer.value||(r.payer.value=n.payer);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,zLt.getAccountMetasAndSigners)(i,"programId",t),c=vDe().serialize(s),u=Number(e.space)+vY.ACCOUNT_HEADER_SIZE;return(0,vY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}WE.createAccount=$Lt;var NE={};Object.defineProperty(NE,"__esModule",{value:!0});NE.createAccountWithRent=NE.getCreateAccountWithRentInstructionDataSerializer=void 0;const bSe=Z,AC=H,DLt=mr;function ADe(){return(0,AC.mapSerializer)((0,AC.struct)([["discriminator",(0,AC.u8)()],["space",(0,AC.u64)()],["programId",(0,AC.publicKey)()]],{description:"CreateAccountWithRentInstructionData"}),n=>({...n,discriminator:0}))}NE.getCreateAccountWithRentInstructionDataSerializer=ADe;function OLt(n,e){const t=n.programs.getPublicKey("mplSystemExtras","SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG"),r={payer:{index:0,isWritable:!0,value:e.payer??null},newAccount:{index:1,isWritable:!0,value:e.newAccount??null},systemProgram:{index:2,isWritable:!1,value:e.systemProgram??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,DLt.getAccountMetasAndSigners)(i,"programId",t),c=ADe().serialize(s),u=Number(e.space)+bSe.ACCOUNT_HEADER_SIZE;return(0,bSe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}NE.createAccountWithRent=OLt;var sN={},B2={},iN={};Object.defineProperty(iN,"__esModule",{value:!0});iN.findAssociatedTokenPda=void 0;const cV=H;function LLt(n,e){const t=n.programs.getPublicKey("splAssociatedToken"),r=e.tokenProgramId??n.programs.getPublicKey("splToken");return n.eddsa.findPda(t,[(0,cV.publicKey)().serialize(e.owner),(0,cV.publicKey)().serialize(r),(0,cV.publicKey)().serialize(e.mint)])}iN.findAssociatedTokenPda=LLt;var oN={};Object.defineProperty(oN,"__esModule",{value:!0});oN.resolveExtendLutBytes=void 0;const KLt=(n,e,t,r)=>32*t.addresses.length;oN.resolveExtendLutBytes=KLt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(iN,n),t(oN,n)})(B2);Object.defineProperty(sN,"__esModule",{value:!0});sN.createAssociatedToken=void 0;const SSe=Z,WLt=B2,NLt=rN,oO=mr;function FLt(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={payer:{index:0,isWritable:!0,value:e.payer??null},ata:{index:1,isWritable:!0,value:e.ata??null},owner:{index:2,isWritable:!1,value:e.owner??null},mint:{index:3,isWritable:!1,value:e.mint??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null}};r.payer.value||(r.payer.value=n.payer),r.owner.value||(r.owner.value=n.identity.publicKey),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ata.value||(r.ata.value=(0,WLt.findAssociatedTokenPda)(n,{owner:(0,oO.expectPublicKey)(r.owner.value),mint:(0,oO.expectPublicKey)(r.mint.value),tokenProgramId:(0,oO.expectPublicKey)(r.tokenProgram.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,oO.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=(0,NLt.getTokenSize)()+SSe.ACCOUNT_HEADER_SIZE;return(0,SSe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}sN.createAssociatedToken=FLt;var FE={};Object.defineProperty(FE,"__esModule",{value:!0});FE.createEmptyLut=FE.getCreateEmptyLutInstructionDataSerializer=void 0;const kSe=Z,wC=H,ULt=rN,aO=mr;function wDe(){return(0,wC.mapSerializer)((0,wC.struct)([["discriminator",(0,wC.u32)()],["recentSlot",(0,wC.u64)()],["bump",(0,wC.u8)()]],{description:"CreateEmptyLutInstructionData"}),n=>({...n,discriminator:0}))}FE.getCreateEmptyLutInstructionDataSerializer=wDe;function VLt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},payer:{index:2,isWritable:!0,value:e.payer??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.address.value||(r.address.value=(0,ULt.findAddressLookupTablePda)(n,{authority:(0,aO.expectPublicKey)(r.authority.value),recentSlot:(0,aO.expectSome)(s.recentSlot)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.bump||(s.bump=(0,aO.expectPda)(r.address.value)[1]);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,aO.getAccountMetasAndSigners)(i,"programId",t),c=wDe().serialize(s),u=56+kSe.ACCOUNT_HEADER_SIZE;return(0,kSe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}FE.createEmptyLut=VLt;var aN={};Object.defineProperty(aN,"__esModule",{value:!0});aN.createIdempotentAssociatedToken=void 0;const qLt=Z,HLt=mr;function jLt(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={payer:{index:0,isWritable:!0,value:e.payer??null},ata:{index:1,isWritable:!0,value:e.ata??null},owner:{index:2,isWritable:!1,value:e.owner??null},mint:{index:3,isWritable:!1,value:e.mint??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null}};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,HLt.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=0;return(0,qLt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}aN.createIdempotentAssociatedToken=jLt;var UE={};Object.defineProperty(UE,"__esModule",{value:!0});UE.createTokenIfMissing=UE.getCreateTokenIfMissingInstructionDataSerializer=void 0;const GLt=Z,uV=H,YLt=B2,IC=mr;function IDe(){return(0,uV.mapSerializer)((0,uV.struct)([["discriminator",(0,uV.u8)()]],{description:"CreateTokenIfMissingInstructionData"}),n=>({...n,discriminator:0}))}UE.getCreateTokenIfMissingInstructionDataSerializer=IDe;function ZLt(n,e){const t=n.programs.getPublicKey("mplTokenExtras","TokExjvjJmhKaRBShsBAsbSvEWMA1AgUNK7ps4SAc2p"),r={payer:{index:0,isWritable:!0,value:e.payer??null},token:{index:1,isWritable:!1,value:e.token??null},mint:{index:2,isWritable:!1,value:e.mint??null},owner:{index:3,isWritable:!1,value:e.owner??null},ata:{index:4,isWritable:!0,value:e.ata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},ataProgram:{index:7,isWritable:!1,value:e.ataProgram??null}};r.payer.value||(r.payer.value=n.payer),r.owner.value||(r.owner.value=n.identity.publicKey),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ata.value||(r.ata.value=(0,YLt.findAssociatedTokenPda)(n,{owner:(0,IC.expectPublicKey)(r.owner.value),mint:(0,IC.expectPublicKey)(r.mint.value),tokenProgramId:(0,IC.expectPublicKey)(r.tokenProgram.value)})),r.token.value||(r.token.value=(0,IC.expectSome)(r.ata.value)),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,IC.getAccountMetasAndSigners)(s,"programId",t),a=IDe().serialize({}),c=0;return(0,GLt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}UE.createTokenIfMissing=ZLt;var VE={};Object.defineProperty(VE,"__esModule",{value:!0});VE.deactivateLut=VE.getDeactivateLutInstructionDataSerializer=void 0;const JLt=Z,lV=H,XLt=mr;function _De(){return(0,lV.mapSerializer)((0,lV.struct)([["discriminator",(0,lV.u32)()]],{description:"DeactivateLutInstructionData"}),n=>({...n,discriminator:3}))}VE.getDeactivateLutInstructionDataSerializer=_De;function QLt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,XLt.getAccountMetasAndSigners)(s,"programId",t),a=_De().serialize({}),c=0;return(0,JLt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}VE.deactivateLut=QLt;var qE={};Object.defineProperty(qE,"__esModule",{value:!0});qE.extendLut=qE.getExtendLutInstructionDataSerializer=void 0;const e4t=Z,kA=H,t4t=B2,r4t=mr;function PDe(){return(0,kA.mapSerializer)((0,kA.struct)([["discriminator",(0,kA.u32)()],["addresses",(0,kA.array)((0,kA.publicKey)(),{size:(0,kA.u64)()})]],{description:"ExtendLutInstructionData"}),n=>({...n,discriminator:2}))}qE.getExtendLutInstructionDataSerializer=PDe;function n4t(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},payer:{index:2,isWritable:!0,value:e.payer??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,r4t.getAccountMetasAndSigners)(i,"programId",t),c=PDe().serialize(s),u=(0,t4t.resolveExtendLutBytes)(n,r,s,t);return(0,e4t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}qE.extendLut=n4t;var HE={};Object.defineProperty(HE,"__esModule",{value:!0});HE.freezeLut=HE.getFreezeLutInstructionDataSerializer=void 0;const s4t=Z,dV=H,i4t=mr;function EDe(){return(0,dV.mapSerializer)((0,dV.struct)([["discriminator",(0,dV.u32)()]],{description:"FreezeLutInstructionData"}),n=>({...n,discriminator:1}))}HE.getFreezeLutInstructionDataSerializer=EDe;function o4t(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,i4t.getAccountMetasAndSigners)(s,"programId",t),a=EDe().serialize({}),c=0;return(0,s4t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}HE.freezeLut=o4t;var jE={};Object.defineProperty(jE,"__esModule",{value:!0});jE.freezeToken=jE.getFreezeTokenInstructionDataSerializer=void 0;const a4t=Z,fV=H,c4t=mr;function xDe(){return(0,fV.mapSerializer)((0,fV.struct)([["discriminator",(0,fV.u8)()]],{description:"FreezeTokenInstructionData"}),n=>({...n,discriminator:10}))}jE.getFreezeTokenInstructionDataSerializer=xDe;function u4t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,c4t.getAccountMetasAndSigners)(s,"programId",t),a=xDe().serialize({}),c=0;return(0,a4t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}jE.freezeToken=u4t;var GE={};Object.defineProperty(GE,"__esModule",{value:!0});GE.getTokenDataSize=GE.getGetTokenDataSizeInstructionDataSerializer=void 0;const l4t=Z,hV=H,d4t=mr;function TDe(){return(0,hV.mapSerializer)((0,hV.struct)([["discriminator",(0,hV.u8)()]],{description:"GetTokenDataSizeInstructionData"}),n=>({...n,discriminator:21}))}GE.getGetTokenDataSizeInstructionDataSerializer=TDe;function f4t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,d4t.getAccountMetasAndSigners)(s,"programId",t),a=TDe().serialize({}),c=0;return(0,l4t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}GE.getTokenDataSize=f4t;var YE={};Object.defineProperty(YE,"__esModule",{value:!0});YE.initializeImmutableOwner=YE.getInitializeImmutableOwnerInstructionDataSerializer=void 0;const h4t=Z,gV=H,g4t=mr;function RDe(){return(0,gV.mapSerializer)((0,gV.struct)([["discriminator",(0,gV.u8)()]],{description:"InitializeImmutableOwnerInstructionData"}),n=>({...n,discriminator:22}))}YE.getInitializeImmutableOwnerInstructionDataSerializer=RDe;function m4t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,g4t.getAccountMetasAndSigners)(s,"programId",t),a=RDe().serialize({}),c=0;return(0,h4t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}YE.initializeImmutableOwner=m4t;var ZE={};Object.defineProperty(ZE,"__esModule",{value:!0});ZE.initializeMint=ZE.getInitializeMintInstructionDataSerializer=void 0;const vSe=Z,B1=H,y4t=mr;function BDe(){return(0,B1.mapSerializer)((0,B1.struct)([["discriminator",(0,B1.u8)()],["decimals",(0,B1.u8)()],["mintAuthority",(0,B1.publicKey)()],["freezeAuthority",(0,B1.option)((0,B1.publicKey)())]],{description:"InitializeMintInstructionData"}),n=>({...n,discriminator:0}))}ZE.getInitializeMintInstructionDataSerializer=BDe;function p4t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},rent:{index:1,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,vSe.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,y4t.getAccountMetasAndSigners)(i,"programId",t),c=BDe().serialize(s),u=0;return(0,vSe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ZE.initializeMint=p4t;var JE={};Object.defineProperty(JE,"__esModule",{value:!0});JE.initializeMint2=JE.getInitializeMint2InstructionDataSerializer=void 0;const b4t=Z,C1=H,S4t=mr;function CDe(){return(0,C1.mapSerializer)((0,C1.struct)([["discriminator",(0,C1.u8)()],["decimals",(0,C1.u8)()],["mintAuthority",(0,C1.publicKey)()],["freezeAuthority",(0,C1.option)((0,C1.publicKey)())]],{description:"InitializeMint2InstructionData"}),n=>({...n,discriminator:20}))}JE.getInitializeMint2InstructionDataSerializer=CDe;function k4t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,S4t.getAccountMetasAndSigners)(i,"programId",t),c=CDe().serialize(s),u=0;return(0,b4t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}JE.initializeMint2=k4t;var XE={};Object.defineProperty(XE,"__esModule",{value:!0});XE.initializeMultisig=XE.getInitializeMultisigInstructionDataSerializer=void 0;const ASe=Z,cO=H,v4t=mr;function MDe(){return(0,cO.mapSerializer)((0,cO.struct)([["discriminator",(0,cO.u8)()],["m",(0,cO.u8)()]],{description:"InitializeMultisigInstructionData"}),n=>({...n,discriminator:2}))}XE.getInitializeMultisigInstructionDataSerializer=MDe;function A4t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={multisig:{index:0,isWritable:!0,value:e.multisig??null},rent:{index:1,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,ASe.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,v4t.getAccountMetasAndSigners)(i,"programId",t),c=MDe().serialize(s),u=0;return(0,ASe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}XE.initializeMultisig=A4t;var QE={};Object.defineProperty(QE,"__esModule",{value:!0});QE.initializeMultisig2=QE.getInitializeMultisig2InstructionDataSerializer=void 0;const w4t=Z,uO=H,I4t=mr;function zDe(){return(0,uO.mapSerializer)((0,uO.struct)([["discriminator",(0,uO.u8)()],["m",(0,uO.u8)()]],{description:"InitializeMultisig2InstructionData"}),n=>({...n,discriminator:19}))}QE.getInitializeMultisig2InstructionDataSerializer=zDe;function _4t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={multisig:{index:0,isWritable:!0,value:e.multisig??null},signer:{index:1,isWritable:!1,value:e.signer??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,I4t.getAccountMetasAndSigners)(i,"programId",t),c=zDe().serialize(s),u=0;return(0,w4t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}QE.initializeMultisig2=_4t;var ex={};Object.defineProperty(ex,"__esModule",{value:!0});ex.initializeToken=ex.getInitializeTokenInstructionDataSerializer=void 0;const wSe=Z,mV=H,P4t=mr;function $De(){return(0,mV.mapSerializer)((0,mV.struct)([["discriminator",(0,mV.u8)()]],{description:"InitializeTokenInstructionData"}),n=>({...n,discriminator:1}))}ex.getInitializeTokenInstructionDataSerializer=$De;function E4t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null},rent:{index:3,isWritable:!1,value:e.rent??null}};r.rent.value||(r.rent.value=(0,wSe.publicKey)("SysvarRent111111111111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,P4t.getAccountMetasAndSigners)(s,"programId",t),a=$De().serialize({}),c=0;return(0,wSe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}ex.initializeToken=E4t;var tx={};Object.defineProperty(tx,"__esModule",{value:!0});tx.initializeToken2=tx.getInitializeToken2InstructionDataSerializer=void 0;const ISe=Z,lO=H,x4t=mr;function DDe(){return(0,lO.mapSerializer)((0,lO.struct)([["discriminator",(0,lO.u8)()],["owner",(0,lO.publicKey)()]],{description:"InitializeToken2InstructionData"}),n=>({...n,discriminator:16}))}tx.getInitializeToken2InstructionDataSerializer=DDe;function T4t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},rent:{index:2,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,ISe.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,x4t.getAccountMetasAndSigners)(i,"programId",t),c=DDe().serialize(s),u=0;return(0,ISe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}tx.initializeToken2=T4t;var rx={};Object.defineProperty(rx,"__esModule",{value:!0});rx.initializeToken3=rx.getInitializeToken3InstructionDataSerializer=void 0;const R4t=Z,dO=H,B4t=mr;function ODe(){return(0,dO.mapSerializer)((0,dO.struct)([["discriminator",(0,dO.u8)()],["owner",(0,dO.publicKey)()]],{description:"InitializeToken3InstructionData"}),n=>({...n,discriminator:18}))}rx.getInitializeToken3InstructionDataSerializer=ODe;function C4t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,B4t.getAccountMetasAndSigners)(i,"programId",t),c=ODe().serialize(s),u=0;return(0,R4t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}rx.initializeToken3=C4t;var nx={};Object.defineProperty(nx,"__esModule",{value:!0});nx.mintTokensTo=nx.getMintTokensToInstructionDataSerializer=void 0;const M4t=Z,fO=H,z4t=mr;function LDe(){return(0,fO.mapSerializer)((0,fO.struct)([["discriminator",(0,fO.u8)()],["amount",(0,fO.u64)()]],{description:"MintTokensToInstructionData"}),n=>({...n,discriminator:7}))}nx.getMintTokensToInstructionDataSerializer=LDe;function $4t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},token:{index:1,isWritable:!0,value:e.token??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null}},s={...e};r.mintAuthority.value||(r.mintAuthority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,z4t.getAccountMetasAndSigners)(i,"programId",t),c=LDe().serialize(s),u=0;return(0,M4t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}nx.mintTokensTo=$4t;var sx={};Object.defineProperty(sx,"__esModule",{value:!0});sx.mintTokensToChecked=sx.getMintTokensToCheckedInstructionDataSerializer=void 0;const D4t=Z,_C=H,O4t=mr;function KDe(){return(0,_C.mapSerializer)((0,_C.struct)([["discriminator",(0,_C.u8)()],["amount",(0,_C.u64)()],["decimals",(0,_C.u8)()]],{description:"MintTokensToCheckedInstructionData"}),n=>({...n,discriminator:14}))}sx.getMintTokensToCheckedInstructionDataSerializer=KDe;function L4t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},token:{index:1,isWritable:!0,value:e.token??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,O4t.getAccountMetasAndSigners)(i,"programId",t),c=KDe().serialize(s),u=0;return(0,D4t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}sx.mintTokensToChecked=L4t;var cN={};Object.defineProperty(cN,"__esModule",{value:!0});cN.recoverNestedAssociatedToken=void 0;const K4t=Z,W4t=mr;function N4t(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={nestedAssociatedAccountAddress:{index:0,isWritable:!0,value:e.nestedAssociatedAccountAddress??null},nestedTokenMintAddress:{index:1,isWritable:!1,value:e.nestedTokenMintAddress??null},destinationAssociatedAccountAddress:{index:2,isWritable:!0,value:e.destinationAssociatedAccountAddress??null},ownerAssociatedAccountAddress:{index:3,isWritable:!1,value:e.ownerAssociatedAccountAddress??null},ownerTokenMintAddress:{index:4,isWritable:!1,value:e.ownerTokenMintAddress??null},walletAddress:{index:5,isWritable:!0,value:e.walletAddress??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null}};r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,W4t.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=0;return(0,K4t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}cN.recoverNestedAssociatedToken=N4t;var ix={};Object.defineProperty(ix,"__esModule",{value:!0});ix.requestHeapFrame=ix.getRequestHeapFrameInstructionDataSerializer=void 0;const F4t=Z,hO=H,U4t=mr;function WDe(){return(0,hO.mapSerializer)((0,hO.struct)([["discriminator",(0,hO.u8)()],["bytes",(0,hO.u32)()]],{description:"RequestHeapFrameInstructionData"}),n=>({...n,discriminator:1}))}ix.getRequestHeapFrameInstructionDataSerializer=WDe;function V4t(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,U4t.getAccountMetasAndSigners)(i,"programId",t),c=WDe().serialize(s),u=0;return(0,F4t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ix.requestHeapFrame=V4t;var ox={};Object.defineProperty(ox,"__esModule",{value:!0});ox.requestUnits=ox.getRequestUnitsInstructionDataSerializer=void 0;const q4t=Z,PC=H,H4t=mr;function NDe(){return(0,PC.mapSerializer)((0,PC.struct)([["discriminator",(0,PC.u8)()],["units",(0,PC.u32)()],["additionalFee",(0,PC.u32)()]],{description:"RequestUnitsInstructionData"}),n=>({...n,discriminator:0}))}ox.getRequestUnitsInstructionDataSerializer=NDe;function j4t(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,H4t.getAccountMetasAndSigners)(i,"programId",t),c=NDe().serialize(s),u=0;return(0,q4t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ox.requestUnits=j4t;var ax={};Object.defineProperty(ax,"__esModule",{value:!0});ax.revokeTokenDelegate=ax.getRevokeTokenDelegateInstructionDataSerializer=void 0;const G4t=Z,yV=H,Y4t=mr;function FDe(){return(0,yV.mapSerializer)((0,yV.struct)([["discriminator",(0,yV.u8)()]],{description:"RevokeTokenDelegateInstructionData"}),n=>({...n,discriminator:5}))}ax.getRevokeTokenDelegateInstructionDataSerializer=FDe;function Z4t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},owner:{index:1,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Y4t.getAccountMetasAndSigners)(s,"programId",t),a=FDe().serialize({}),c=0;return(0,G4t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}ax.revokeTokenDelegate=Z4t;var cx={};Object.defineProperty(cx,"__esModule",{value:!0});cx.setAuthority=cx.getSetAuthorityInstructionDataSerializer=void 0;const J4t=Z,EC=H,X4t=mr,Q4t=nN;function UDe(){return(0,EC.mapSerializer)((0,EC.struct)([["discriminator",(0,EC.u8)()],["authorityType",(0,Q4t.getAuthorityTypeSerializer)()],["newAuthority",(0,EC.option)((0,EC.publicKey)())]],{description:"SetAuthorityInstructionData"}),n=>({...n,discriminator:6}))}cx.getSetAuthorityInstructionDataSerializer=UDe;function eKt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={owned:{index:0,isWritable:!0,value:e.owned??null},owner:{index:1,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,X4t.getAccountMetasAndSigners)(i,"programId",t),c=UDe().serialize(s),u=0;return(0,J4t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}cx.setAuthority=eKt;var ux={};Object.defineProperty(ux,"__esModule",{value:!0});ux.setComputeUnitLimit=ux.getSetComputeUnitLimitInstructionDataSerializer=void 0;const tKt=Z,gO=H,rKt=mr;function VDe(){return(0,gO.mapSerializer)((0,gO.struct)([["discriminator",(0,gO.u8)()],["units",(0,gO.u32)()]],{description:"SetComputeUnitLimitInstructionData"}),n=>({...n,discriminator:2}))}ux.getSetComputeUnitLimitInstructionDataSerializer=VDe;function nKt(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,rKt.getAccountMetasAndSigners)(i,"programId",t),c=VDe().serialize(s),u=0;return(0,tKt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ux.setComputeUnitLimit=nKt;var lx={};Object.defineProperty(lx,"__esModule",{value:!0});lx.setComputeUnitPrice=lx.getSetComputeUnitPriceInstructionDataSerializer=void 0;const sKt=Z,mO=H,iKt=mr;function qDe(){return(0,mO.mapSerializer)((0,mO.struct)([["discriminator",(0,mO.u8)()],["microLamports",(0,mO.u64)()]],{description:"SetComputeUnitPriceInstructionData"}),n=>({...n,discriminator:3}))}lx.getSetComputeUnitPriceInstructionDataSerializer=qDe;function oKt(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,iKt.getAccountMetasAndSigners)(i,"programId",t),c=qDe().serialize(s),u=0;return(0,sKt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}lx.setComputeUnitPrice=oKt;var dx={};Object.defineProperty(dx,"__esModule",{value:!0});dx.syncNative=dx.getSyncNativeInstructionDataSerializer=void 0;const aKt=Z,pV=H,cKt=mr;function HDe(){return(0,pV.mapSerializer)((0,pV.struct)([["discriminator",(0,pV.u8)()]],{description:"SyncNativeInstructionData"}),n=>({...n,discriminator:17}))}dx.getSyncNativeInstructionDataSerializer=HDe;function uKt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,cKt.getAccountMetasAndSigners)(s,"programId",t),a=HDe().serialize({}),c=0;return(0,aKt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}dx.syncNative=uKt;var fx={};Object.defineProperty(fx,"__esModule",{value:!0});fx.thawToken=fx.getThawTokenInstructionDataSerializer=void 0;const lKt=Z,bV=H,dKt=mr;function jDe(){return(0,bV.mapSerializer)((0,bV.struct)([["discriminator",(0,bV.u8)()]],{description:"ThawTokenInstructionData"}),n=>({...n,discriminator:11}))}fx.getThawTokenInstructionDataSerializer=jDe;function fKt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,dKt.getAccountMetasAndSigners)(s,"programId",t),a=jDe().serialize({}),c=0;return(0,lKt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}fx.thawToken=fKt;var hx={};Object.defineProperty(hx,"__esModule",{value:!0});hx.transferAllSol=hx.getTransferAllSolInstructionDataSerializer=void 0;const hKt=Z,SV=H,gKt=mr;function GDe(){return(0,SV.mapSerializer)((0,SV.struct)([["discriminator",(0,SV.u8)()]],{description:"TransferAllSolInstructionData"}),n=>({...n,discriminator:1}))}hx.getTransferAllSolInstructionDataSerializer=GDe;function mKt(n,e){const t=n.programs.getPublicKey("mplSystemExtras","SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null},systemProgram:{index:2,isWritable:!1,value:e.systemProgram??null}};r.source.value||(r.source.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,gKt.getAccountMetasAndSigners)(s,"programId",t),a=GDe().serialize({}),c=0;return(0,hKt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}hx.transferAllSol=mKt;var gx={};Object.defineProperty(gx,"__esModule",{value:!0});gx.transferSol=gx.getTransferSolInstructionDataSerializer=void 0;const YDe=Z,yO=H,yKt=mr;function ZDe(){return(0,yO.mapSerializer)((0,yO.struct)([["discriminator",(0,yO.u32)()],["amount",(0,YDe.mapAmountSerializer)((0,yO.u64)(),"SOL",9)]],{description:"TransferSolInstructionData"}),n=>({...n,discriminator:2}))}gx.getTransferSolInstructionDataSerializer=ZDe;function pKt(n,e){const t=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null}},s={...e};r.source.value||(r.source.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,yKt.getAccountMetasAndSigners)(i,"programId",t),c=ZDe().serialize(s),u=0;return(0,YDe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}gx.transferSol=pKt;var mx={};Object.defineProperty(mx,"__esModule",{value:!0});mx.transferTokens=mx.getTransferTokensInstructionDataSerializer=void 0;const bKt=Z,pO=H,SKt=mr;function JDe(){return(0,pO.mapSerializer)((0,pO.struct)([["discriminator",(0,pO.u8)()],["amount",(0,pO.u64)()]],{description:"TransferTokensInstructionData"}),n=>({...n,discriminator:3}))}mx.getTransferTokensInstructionDataSerializer=JDe;function kKt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,SKt.getAccountMetasAndSigners)(i,"programId",t),c=JDe().serialize(s),u=0;return(0,bKt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}mx.transferTokens=kKt;var yx={};Object.defineProperty(yx,"__esModule",{value:!0});yx.transferTokensChecked=yx.getTransferTokensCheckedInstructionDataSerializer=void 0;const vKt=Z,xC=H,AKt=mr;function XDe(){return(0,xC.mapSerializer)((0,xC.struct)([["discriminator",(0,xC.u8)()],["amount",(0,xC.u64)()],["decimals",(0,xC.u8)()]],{description:"TransferTokensCheckedInstructionData"}),n=>({...n,discriminator:12}))}yx.getTransferTokensCheckedInstructionDataSerializer=XDe;function wKt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},mint:{index:1,isWritable:!1,value:e.mint??null},destination:{index:2,isWritable:!0,value:e.destination??null},authority:{index:3,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,AKt.getAccountMetasAndSigners)(i,"programId",t),c=XDe().serialize(s),u=0;return(0,vKt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}yx.transferTokensChecked=wKt;var px={};Object.defineProperty(px,"__esModule",{value:!0});px.uiAmountToAmount=px.getUiAmountToAmountInstructionDataSerializer=void 0;const IKt=Z,bO=H,_Kt=mr;function QDe(){return(0,bO.mapSerializer)((0,bO.struct)([["discriminator",(0,bO.u8)()],["uiAmount",(0,bO.u64)()]],{description:"UiAmountToAmountInstructionData"}),n=>({...n,discriminator:24}))}px.getUiAmountToAmountInstructionDataSerializer=QDe;function PKt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,_Kt.getAccountMetasAndSigners)(i,"programId",t),c=QDe().serialize(s),u=0;return(0,IKt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}px.uiAmountToAmount=PKt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(CE,n),t(ME,n),t(zE,n),t($E,n),t(DE,n),t(OE,n),t(LE,n),t(KE,n),t(WE,n),t(NE,n),t(sN,n),t(FE,n),t(aN,n),t(UE,n),t(VE,n),t(qE,n),t(HE,n),t(jE,n),t(GE,n),t(YE,n),t(ZE,n),t(JE,n),t(XE,n),t(QE,n),t(ex,n),t(tx,n),t(rx,n),t(nx,n),t(sx,n),t(cN,n),t(ix,n),t(ox,n),t(ax,n),t(cx,n),t(ux,n),t(lx,n),t(dx,n),t(fx,n),t(hx,n),t(gx,n),t(mx,n),t(yx,n),t(px,n)})(fDe);var eOe={},tOe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplSystemExtrasProgramId=n.getMplSystemExtrasProgram=n.createMplSystemExtrasProgram=n.MPL_SYSTEM_EXTRAS_PROGRAM_ID=void 0;const e=Sg;n.MPL_SYSTEM_EXTRAS_PROGRAM_ID="SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG";function t(){return{name:"mplSystemExtras",publicKey:n.MPL_SYSTEM_EXTRAS_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplSystemExtrasErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplSystemExtrasErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplSystemExtrasProgram=t;function r(i,o){return i.programs.get("mplSystemExtras",o)}n.getMplSystemExtrasProgram=r;function s(i,o){return i.programs.getPublicKey("mplSystemExtras",n.MPL_SYSTEM_EXTRAS_PROGRAM_ID,o)}n.getMplSystemExtrasProgramId=s})(tOe);var rOe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplTokenExtrasProgramId=n.getMplTokenExtrasProgram=n.createMplTokenExtrasProgram=n.MPL_TOKEN_EXTRAS_PROGRAM_ID=void 0;const e=Sg;n.MPL_TOKEN_EXTRAS_PROGRAM_ID="TokExjvjJmhKaRBShsBAsbSvEWMA1AgUNK7ps4SAc2p";function t(){return{name:"mplTokenExtras",publicKey:n.MPL_TOKEN_EXTRAS_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplTokenExtrasErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplTokenExtrasErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplTokenExtrasProgram=t;function r(i,o){return i.programs.get("mplTokenExtras",o)}n.getMplTokenExtrasProgram=r;function s(i,o){return i.programs.getPublicKey("mplTokenExtras",n.MPL_TOKEN_EXTRAS_PROGRAM_ID,o)}n.getMplTokenExtrasProgramId=s})(rOe);var nOe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplAddressLookupTableProgramId=n.getSplAddressLookupTableProgram=n.createSplAddressLookupTableProgram=n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID=void 0;const e=Sg;n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID="AddressLookupTab1e1111111111111111111111111";function t(){return{name:"splAddressLookupTable",publicKey:n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplAddressLookupTableErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplAddressLookupTableErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplAddressLookupTableProgram=t;function r(i,o){return i.programs.get("splAddressLookupTable",o)}n.getSplAddressLookupTableProgram=r;function s(i,o){return i.programs.getPublicKey("splAddressLookupTable",n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID,o)}n.getSplAddressLookupTableProgramId=s})(nOe);var sOe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplAssociatedTokenProgramId=n.getSplAssociatedTokenProgram=n.createSplAssociatedTokenProgram=n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID=void 0;const e=Sg;n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL";function t(){return{name:"splAssociatedToken",publicKey:n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplAssociatedTokenErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplAssociatedTokenErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplAssociatedTokenProgram=t;function r(i,o){return i.programs.get("splAssociatedToken",o)}n.getSplAssociatedTokenProgram=r;function s(i,o){return i.programs.getPublicKey("splAssociatedToken",n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID,o)}n.getSplAssociatedTokenProgramId=s})(sOe);var iOe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplComputeBudgetProgramId=n.getSplComputeBudgetProgram=n.createSplComputeBudgetProgram=n.SPL_COMPUTE_BUDGET_PROGRAM_ID=void 0;const e=Sg;n.SPL_COMPUTE_BUDGET_PROGRAM_ID="ComputeBudget111111111111111111111111111111";function t(){return{name:"splComputeBudget",publicKey:n.SPL_COMPUTE_BUDGET_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplComputeBudgetErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplComputeBudgetErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplComputeBudgetProgram=t;function r(i,o){return i.programs.get("splComputeBudget",o)}n.getSplComputeBudgetProgram=r;function s(i,o){return i.programs.getPublicKey("splComputeBudget",n.SPL_COMPUTE_BUDGET_PROGRAM_ID,o)}n.getSplComputeBudgetProgramId=s})(iOe);var oOe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplMemoProgramId=n.getSplMemoProgram=n.createSplMemoProgram=n.SPL_MEMO_PROGRAM_ID=void 0;const e=Sg;n.SPL_MEMO_PROGRAM_ID="Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo";function t(){return{name:"splMemo",publicKey:n.SPL_MEMO_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplMemoErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplMemoErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplMemoProgram=t;function r(i,o){return i.programs.get("splMemo",o)}n.getSplMemoProgram=r;function s(i,o){return i.programs.getPublicKey("splMemo",n.SPL_MEMO_PROGRAM_ID,o)}n.getSplMemoProgramId=s})(oOe);var aOe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplSystemProgramId=n.getSplSystemProgram=n.createSplSystemProgram=n.SPL_SYSTEM_PROGRAM_ID=void 0;const e=Sg;n.SPL_SYSTEM_PROGRAM_ID="11111111111111111111111111111111";function t(){return{name:"splSystem",publicKey:n.SPL_SYSTEM_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplSystemErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplSystemErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplSystemProgram=t;function r(i,o){return i.programs.get("splSystem",o)}n.getSplSystemProgram=r;function s(i,o){return i.programs.getPublicKey("splSystem",n.SPL_SYSTEM_PROGRAM_ID,o)}n.getSplSystemProgramId=s})(aOe);var cOe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplTokenProgramId=n.getSplTokenProgram=n.createSplTokenProgram=n.SPL_TOKEN_PROGRAM_ID=void 0;const e=Sg;n.SPL_TOKEN_PROGRAM_ID="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";function t(){return{name:"splToken",publicKey:n.SPL_TOKEN_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplTokenErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplTokenErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplTokenProgram=t;function r(i,o){return i.programs.get("splToken",o)}n.getSplTokenProgram=r;function s(i,o){return i.programs.getPublicKey("splToken",n.SPL_TOKEN_PROGRAM_ID,o)}n.getSplTokenProgramId=s})(cOe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(tOe,n),t(rOe,n),t(nOe,n),t(sOe,n),t(iOe,n),t(oOe,n),t(aOe,n),t(cOe,n)})(eOe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(rN,n),t(Sg,n),t(fDe,n),t(eOe,n),t(mr,n),t(nN,n)})(yy);var uN={};Object.defineProperty(uN,"__esModule",{value:!0});uN.createLut=void 0;const EKt=Z,kV=yy;function xKt(n,e){const{addresses:t,...r}=e,s=e.authority??n.identity,i=e.address??(0,kV.findAddressLookupTablePda)(n,{authority:s.publicKey,recentSlot:e.recentSlot});return[(0,EKt.transactionBuilder)().add((0,kV.createEmptyLut)(n,r)).add((0,kV.extendLut)(n,{address:i,authority:s,addresses:t,payer:e.payer})),{publicKey:i[0],addresses:t}]}uN.createLut=xKt;var lN={};Object.defineProperty(lN,"__esModule",{value:!0});lN.createLutForTransactionBuilder=void 0;const vV=Z,AY=yy,TKt=(n,e,t,r)=>{const s=r??n.identity,i=(0,vV.uniquePublicKeys)([e.getFeePayer(n).publicKey,...e.items.flatMap(({instruction:u})=>u.keys.filter(l=>l.isSigner).map(l=>l.pubkey))]),o=(0,vV.uniquePublicKeys)(e.items.flatMap(({instruction:u})=>[u.programId,...u.keys.map(l=>l.pubkey)])).filter(u=>!i.includes(u)),a=[],c=[];return(0,vV.chunk)(o,256).forEach((u,l)=>{const d=t-l,[y]=(0,AY.findAddressLookupTablePda)(n,{authority:s.publicKey,recentSlot:d});a.push({publicKey:y,addresses:u}),c.push(...RKt(n,(0,AY.createEmptyLut)(n,{recentSlot:d}),y,s,u))}),[c,a]};lN.createLutForTransactionBuilder=TKt;function RKt(n,e,t,r,s){const i=[];let o=[],a=e;return s.forEach(c=>{const u=e.add((0,AY.extendLut)(n,{address:t,addresses:[...o,c],authority:r}));u.fitsInOneTransaction(n)?(o.push(c),a=u):(o=[c],i.push(a),e=e.empty(),a=e)}),o.length>0&&i.push(a),i}var D8={};Object.defineProperty(D8,"__esModule",{value:!0});D8.createMint=void 0;const _Se=Z,AV=yy;function BKt(n,e){return(0,_Se.transactionBuilder)().add((0,AV.createAccountWithRent)(n,{newAccount:e.mint,space:(0,AV.getMintSize)(),programId:n.programs.get("splToken").publicKey})).add((0,AV.initializeMint2)(n,{mint:e.mint.publicKey,decimals:e.decimals??0,mintAuthority:e.mintAuthority??n.identity.publicKey,freezeAuthority:e.freezeAuthority===void 0?(0,_Se.some)(n.identity.publicKey):e.freezeAuthority}))}D8.createMint=BKt;var dN={};Object.defineProperty(dN,"__esModule",{value:!0});dN.createMintWithAssociatedToken=void 0;const wV=Z,CKt=D8,PSe=yy,MKt=B2;function zKt(n,e){const t={mint:e.mint.publicKey,owner:e.owner??n.identity.publicKey},r=e.amount??0;let s=(0,wV.transactionBuilder)().add((0,CKt.createMint)(n,{...e,mintAuthority:e.mintAuthority?(0,wV.publicKey)(e.mintAuthority,!1):void 0})).add((0,PSe.createAssociatedToken)(n,t));return r>0&&(s=s.add((0,PSe.mintTokensTo)(n,{amount:r,mint:e.mint.publicKey,token:(0,MKt.findAssociatedTokenPda)(n,t),mintAuthority:e.mintAuthority&&(0,wV.isSigner)(e.mintAuthority)?e.mintAuthority:void 0}))),s}dN.createMintWithAssociatedToken=zKt;var fN={};Object.defineProperty(fN,"__esModule",{value:!0});fN.createToken=void 0;const $Kt=Z,IV=yy;function DKt(n,e){return(0,$Kt.transactionBuilder)().add((0,IV.createAccountWithRent)(n,{newAccount:e.token,space:(0,IV.getTokenSize)(),programId:n.programs.get("splToken").publicKey})).add((0,IV.initializeToken3)(n,{account:e.token.publicKey,mint:e.mint,owner:e.owner??n.identity.publicKey}))}fN.createToken=DKt;var uOe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchTokensByOwnerAndMint=n.fetchTokensByOwner=n.fetchAllMintByOwner=n.fetchAllMintPublicKeyByOwner=n.fetchAllTokenByOwnerAndMint=n.fetchAllTokenByOwner=void 0;const e=Z,t=H,r=yy,s=async(u,l,d,y={})=>{const h=u.programs.get("splToken").publicKey,m=y.mint?{mint:y.mint}:{programId:h};return(await u.rpc.call("getTokenAccountsByOwner",[l,m],{...y,extra:{encoding:"base64"}})).value.filter(({account:g})=>{const b=t.base64.serialize(g.data[0]),S=(0,t.u64)().deserialize(b.slice(64,72))[0];return d(S)})},i=async(u,l,d={})=>{const{mint:y,tokenStrategy:h="getProgramAccounts",tokenAmountFilter:m=b=>b>0,...f}=d;if(h==="getTokenAccountsByOwner")return(await s(u,l,m,{mint:y,...f})).map(({pubkey:S,account:p})=>(0,r.deserializeToken)({...p,data:t.base64.serialize(p.data[0]),publicKey:(0,e.publicKey)(S),owner:(0,e.publicKey)(p.owner),lamports:(0,e.lamports)(p.lamports)}));let g=(0,r.getTokenGpaBuilder)(u).whereField("owner",l);return y&&(g=g.whereField("mint",y)),(await g.get()).filter(b=>{const S=(0,t.u64)().deserialize(b.data.slice(64,72))[0];return m(S)}).map(b=>(0,r.deserializeToken)(b))};n.fetchAllTokenByOwner=i;const o=(u,l,d,y={})=>(0,n.fetchAllTokenByOwner)(u,l,{...y,mint:d});n.fetchAllTokenByOwnerAndMint=o;const a=async(u,l,d={})=>{const{tokenStrategy:y="getProgramAccounts",tokenAmountFilter:h=f=>f>0,...m}=d;return y==="getTokenAccountsByOwner"?(await s(u,l,h,m)).map(({account:g})=>(0,e.publicKey)(t.base64.serialize(g.data[0]).slice(0,32))):(await(0,r.getTokenGpaBuilder)(u).slice(0,72).whereField("owner",l).get()).filter(f=>{const g=(0,t.u64)().deserialize(f.data.slice(64,72))[0];return h(g)}).map(f=>(0,e.publicKey)(f.data.slice(0,32)))};n.fetchAllMintPublicKeyByOwner=a;const c=async(u,l,d={})=>{const{tokenStrategy:y,tokenAmountFilter:h,...m}=d,f=await(0,n.fetchAllMintPublicKeyByOwner)(u,l,d);return(0,r.fetchAllMint)(u,f,m)};n.fetchAllMintByOwner=c,n.fetchTokensByOwner=n.fetchAllTokenByOwner,n.fetchTokensByOwnerAndMint=n.fetchAllTokenByOwnerAndMint})(uOe);var hN={};Object.defineProperty(hN,"__esModule",{value:!0});hN.findLargestTokensByMint=void 0;const ESe=Z,OKt=async(n,e,t={})=>(await n.rpc.call("getTokenLargestAccounts",[e],t)).value.map(({address:s,amount:i,decimals:o})=>({publicKey:(0,ESe.publicKey)(s),amount:(0,ESe.createAmount)(i,"splToken",o)}));hN.findLargestTokensByMint=OKt;var lOe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.mplEssentials=n.mplToolbox=void 0;const e=Z,t=yy,r=()=>({install(s){s.programs.add((0,t.createSplSystemProgram)(),!1),s.programs.add((0,t.createSplMemoProgram)(),!1),s.programs.add((0,t.createSplTokenProgram)(),!1),s.programs.add((0,t.createSplAssociatedTokenProgram)(),!1),s.programs.add((0,t.createSplAddressLookupTableProgram)(),!1),s.programs.add((0,t.createMplSystemExtrasProgram)(),!1),s.programs.add((0,t.createMplTokenExtrasProgram)(),!1),s.programs.add({...(0,t.createSplTokenProgram)(),name:"splToken2022",publicKey:(0,e.publicKey)("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb")},!1)}});n.mplToolbox=r,n.mplEssentials=n.mplToolbox})(lOe);var gN={};Object.defineProperty(gN,"__esModule",{value:!0});gN.getSysvar=void 0;const Df=Z,LKt=n=>{switch(n){case"clock":return(0,Df.publicKey)("SysvarC1ock11111111111111111111111111111111");case"epochSchedule":return(0,Df.publicKey)("SysvarEpochSchedu1e111111111111111111111111");case"instructions":return(0,Df.publicKey)("Sysvar1nstructions1111111111111111111111111");case"recentBlockhashes":return(0,Df.publicKey)("SysvarRecentB1ockHashes11111111111111111111");case"rent":return(0,Df.publicKey)("SysvarRent111111111111111111111111111111111");case"rewards":return(0,Df.publicKey)("SysvarRewards111111111111111111111111111111");case"slotHashes":return(0,Df.publicKey)("SysvarS1otHashes111111111111111111111111111");case"slotHistory":return(0,Df.publicKey)("SysvarS1otHistory11111111111111111111111111");case"stakeHistory":return(0,Df.publicKey)("SysvarStakeHistory1111111111111111111111111");default:throw new Df.SdkError(`Unknown sysvar: ${n}`)}};gN.getSysvar=LKt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(yy,n),t(B2,n),t(uN,n),t(lN,n),t(D8,n),t(dN,n),t(fN,n),t(uOe,n),t(hN,n),t(lOe,n),t(gN,n)})(gi);var mN={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isProgrammable=n.isNonFungible=n.isFungible=n.deserializeDigitalAsset=n.fetchAllMetadataByOwner=n.fetchAllDigitalAssetByOwner=n.fetchAllDigitalAssetByUpdateAuthority=n.fetchAllDigitalAssetByVerifiedCollection=n.fetchAllDigitalAssetByCreator=n.fetchAllDigitalAsset=n.fetchDigitalAssetByMetadata=n.fetchDigitalAsset=void 0;const e=gi,t=Z,r=Y0,s=G0,i=326,o=34,a=[366,400,434,468,502],c=1,u=2;async function l(A,P,E){const[M]=(0,s.findMetadataPda)(A,{mint:P}),[x]=(0,s.findMasterEditionPda)(A,{mint:P}),[R,$,z]=await A.rpc.getAccounts([P,M,x],E);return(0,t.assertAccountExists)(R,"Mint"),(0,t.assertAccountExists)($,"Metadata"),S(R,$,z.exists?z:void 0)}n.fetchDigitalAsset=l;async function d(A,P,E){const M=await(0,s.fetchMetadata)(A,P,E);return l(A,M.mint,E)}n.fetchDigitalAssetByMetadata=d;async function y(A,P,E){const M=P.flatMap(R=>[R,(0,s.findMetadataPda)(A,{mint:R})[0],(0,s.findMasterEditionPda)(A,{mint:R})[0]]),x=await A.rpc.getAccounts(M,E);return(0,t.chunk)(x,3).flatMap(([R,$,z])=>{try{return(0,t.assertAccountExists)(R,"Mint"),(0,t.assertAccountExists)($,"Metadata"),[S(R,$,z.exists?z:void 0)]}catch{return[]}})}n.fetchAllDigitalAsset=y;async function h(A,P,E){const M=((E==null?void 0:E.position)??1)-1,x=await(0,s.getMetadataGpaBuilder)(A).where(i+M*o,P).sliceField("mint").getDataAsPublicKeys();return y(A,x,E)}n.fetchAllDigitalAssetByCreator=h;async function m(A,P,E){const M=await Promise.all(a.map(async x=>(0,s.getMetadataGpaBuilder)(A).where(x,1).where(x+c,1).where(x+u,P).sliceField("mint").getDataAsPublicKeys()));return y(A,M.flat(),E)}n.fetchAllDigitalAssetByVerifiedCollection=m;async function f(A,P,E){const M=await(0,s.getMetadataGpaBuilder)(A).whereField("updateAuthority",P).sliceField("mint").getDataAsPublicKeys();return y(A,M,E)}n.fetchAllDigitalAssetByUpdateAuthority=f;async function g(A,P,E){const M=await(0,e.fetchAllMintPublicKeyByOwner)(A,P,E);return y(A,M,E)}n.fetchAllDigitalAssetByOwner=g;async function b(A,P,E){const x=(await(0,e.fetchAllMintPublicKeyByOwner)(A,P,E)).map($=>(0,s.findMetadataPda)(A,{mint:$})[0]);return(await A.rpc.getAccounts(x,E)).flatMap($=>{try{return(0,t.assertAccountExists)($,"Metadata"),[(0,s.deserializeMetadata)($)]}catch{return[]}})}n.fetchAllMetadataByOwner=b;function S(A,P,E){const M=(0,e.deserializeMint)(A),x=(0,s.deserializeMetadata)(P),R=(0,t.unwrapOption)(x.tokenStandard);if(R&&(0,n.isNonFungible)(R)&&!E)throw new Error("Edition account must be provided for non-fungible assets.");const $={publicKey:M.publicKey,mint:M,metadata:x};if(!E)return $;const z=(0,s.getKeySerializer)().deserialize(E.data)[0];let T;if(z===s.Key.MasterEditionV1||z===s.Key.MasterEditionV2)T={isOriginal:!0,...(0,s.deserializeMasterEdition)(E)};else if(z===s.Key.EditionV1)T={isOriginal:!1,...(0,s.deserializeEdition)(E)};else throw new r.TokenMetadataError(`Invalid key "${z}" for edition account.`);return{...$,edition:T}}n.deserializeDigitalAsset=S;const p=A=>A===s.TokenStandard.Fungible||A===s.TokenStandard.FungibleAsset;n.isFungible=p;const I=A=>!(0,n.isFungible)(A);n.isNonFungible=I;const w=A=>A===s.TokenStandard.ProgrammableNonFungible||A===s.TokenStandard.ProgrammableNonFungibleEdition;n.isProgrammable=w})(mN);Object.defineProperty(lc,"__esModule",{value:!0});lc.resolveIsNonFungibleOrIsMintSigner=lc.resolveOptionalTokenOwner=lc.resolveCreateV1Bytes=lc.resolveCreators=lc.resolvePrintSupply=lc.resolveDecimals=lc.resolveIsNonFungible=lc.resolveCollectionDetails=void 0;const KKt=gi,Qh=Z,O8=mN,oy=G0,WKt=607,NKt=20,FKt=(n,e,t,...r)=>t.isCollection?(0,Qh.some)((0,oy.collectionDetails)("V2",{padding:new Array(8).fill(0)})):(0,Qh.none)();lc.resolveCollectionDetails=FKt;const UKt=(n,e,t,...r)=>(0,O8.isNonFungible)((0,oy.expectSome)(t.tokenStandard));lc.resolveIsNonFungible=UKt;const VKt=(n,e,t,...r)=>(0,O8.isNonFungible)((0,oy.expectSome)(t.tokenStandard))?(0,Qh.none)():(0,Qh.some)(0);lc.resolveDecimals=VKt;const qKt=(n,e,t,...r)=>(0,O8.isNonFungible)((0,oy.expectSome)(t.tokenStandard))?(0,Qh.some)((0,oy.printSupply)("Zero")):(0,Qh.none)();lc.resolvePrintSupply=qKt;const HKt=(n,e,...t)=>(0,Qh.some)([{address:(0,oy.expectPublicKey)(e.authority.value),share:100,verified:!0}]);lc.resolveCreators=HKt;const jKt=(n,e,t,...r)=>{const s=(0,KKt.getMintSize)()+WKt+2*Qh.ACCOUNT_HEADER_SIZE;return(0,O8.isNonFungible)((0,oy.expectSome)(t.tokenStandard))?s+NKt+Qh.ACCOUNT_HEADER_SIZE:s};lc.resolveCreateV1Bytes=jKt;const GKt=(n,e,...t)=>e.token.value?{value:null}:{value:n.identity.publicKey};lc.resolveOptionalTokenOwner=GKt;const YKt=(n,e,t,...r)=>(0,O8.isNonFungible)((0,oy.expectSome)(t.tokenStandard))||(0,Qh.isSigner)((0,oy.expectSome)(e.mint.value));lc.resolveIsNonFungibleOrIsMintSigner=YKt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(QW,n),t(eN,n),t(tN,n),t(lc,n)})(Sn);Object.defineProperty(Ei,"__esModule",{value:!0});Ei.safeFetchHolderDelegateRecordFromSeeds=Ei.fetchHolderDelegateRecordFromSeeds=Ei.findHolderDelegateRecordPda=Ei.getHolderDelegateRecordSize=Ei.getHolderDelegateRecordGpaBuilder=Ei.safeFetchAllHolderDelegateRecord=Ei.fetchAllHolderDelegateRecord=Ei.safeFetchHolderDelegateRecord=Ei.fetchHolderDelegateRecord=Ei.deserializeHolderDelegateRecord=Ei.getHolderDelegateRecordAccountDataSerializer=void 0;const C0=Z,rl=H,ZKt=Sn,dOe=gt;function fOe(){return(0,rl.struct)([["key",(0,dOe.getKeySerializer)()],["bump",(0,rl.u8)()],["mint",(0,rl.publicKey)()],["delegate",(0,rl.publicKey)()],["updateAuthority",(0,rl.publicKey)()]],{description:"HolderDelegateRecordAccountData"})}Ei.getHolderDelegateRecordAccountDataSerializer=fOe;function C2(n){return(0,C0.deserializeAccount)(n,fOe())}Ei.deserializeHolderDelegateRecord=C2;async function hOe(n,e,t){const r=await n.rpc.getAccount((0,C0.publicKey)(e,!1),t);return(0,C0.assertAccountExists)(r,"HolderDelegateRecord"),C2(r)}Ei.fetchHolderDelegateRecord=hOe;async function gOe(n,e,t){const r=await n.rpc.getAccount((0,C0.publicKey)(e,!1),t);return r.exists?C2(r):null}Ei.safeFetchHolderDelegateRecord=gOe;async function JKt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,C0.publicKey)(s,!1)),t)).map(s=>((0,C0.assertAccountExists)(s,"HolderDelegateRecord"),C2(s)))}Ei.fetchAllHolderDelegateRecord=JKt;async function XKt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,C0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>C2(s))}Ei.safeFetchAllHolderDelegateRecord=XKt;function QKt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,C0.gpaBuilder)(n,e).registerFields({key:[0,(0,dOe.getKeySerializer)()],bump:[1,(0,rl.u8)()],mint:[2,(0,rl.publicKey)()],delegate:[34,(0,rl.publicKey)()],updateAuthority:[66,(0,rl.publicKey)()]}).deserializeUsing(t=>C2(t))}Ei.getHolderDelegateRecordGpaBuilder=QKt;function e6t(){return 98}Ei.getHolderDelegateRecordSize=e6t;function Wae(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,rl.string)({size:"variable"}).serialize("metadata"),(0,rl.publicKey)().serialize(t),(0,rl.publicKey)().serialize(e.mint),(0,ZKt.getHolderDelegateRoleSeedSerializer)().serialize(e.delegateRole),(0,rl.publicKey)().serialize(e.owner),(0,rl.publicKey)().serialize(e.delegate)])}Ei.findHolderDelegateRecordPda=Wae;async function t6t(n,e,t){return hOe(n,Wae(n,e),t)}Ei.fetchHolderDelegateRecordFromSeeds=t6t;async function r6t(n,e,t){return gOe(n,Wae(n,e),t)}Ei.safeFetchHolderDelegateRecordFromSeeds=r6t;var ta={};Object.defineProperty(ta,"__esModule",{value:!0});ta.safeFetchMasterEditionFromSeeds=ta.fetchMasterEditionFromSeeds=ta.findMasterEditionPda=ta.getMasterEditionGpaBuilder=ta.safeFetchAllMasterEdition=ta.fetchAllMasterEdition=ta.safeFetchMasterEdition=ta.fetchMasterEdition=ta.deserializeMasterEdition=ta.getMasterEditionAccountDataSerializer=void 0;const M0=Z,fd=H,sK=gt;function mOe(){return(0,fd.mapSerializer)((0,fd.struct)([["key",(0,sK.getKeySerializer)()],["supply",(0,fd.u64)()],["maxSupply",(0,fd.option)((0,fd.u64)())]],{description:"MasterEditionAccountData"}),n=>({...n,key:sK.Key.MasterEditionV2}))}ta.getMasterEditionAccountDataSerializer=mOe;function M2(n){return(0,M0.deserializeAccount)(n,mOe())}ta.deserializeMasterEdition=M2;async function yOe(n,e,t){const r=await n.rpc.getAccount((0,M0.publicKey)(e,!1),t);return(0,M0.assertAccountExists)(r,"MasterEdition"),M2(r)}ta.fetchMasterEdition=yOe;async function pOe(n,e,t){const r=await n.rpc.getAccount((0,M0.publicKey)(e,!1),t);return r.exists?M2(r):null}ta.safeFetchMasterEdition=pOe;async function n6t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,M0.publicKey)(s,!1)),t)).map(s=>((0,M0.assertAccountExists)(s,"MasterEdition"),M2(s)))}ta.fetchAllMasterEdition=n6t;async function s6t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,M0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>M2(s))}ta.safeFetchAllMasterEdition=s6t;function i6t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,M0.gpaBuilder)(n,e).registerFields({key:[0,(0,sK.getKeySerializer)()],supply:[1,(0,fd.u64)()],maxSupply:[9,(0,fd.option)((0,fd.u64)())]}).deserializeUsing(t=>M2(t)).whereField("key",sK.Key.MasterEditionV2)}ta.getMasterEditionGpaBuilder=i6t;function Nae(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,fd.string)({size:"variable"}).serialize("metadata"),(0,fd.publicKey)().serialize(t),(0,fd.publicKey)().serialize(e.mint),(0,fd.string)({size:"variable"}).serialize("edition")])}ta.findMasterEditionPda=Nae;async function o6t(n,e,t){return yOe(n,Nae(n,e),t)}ta.fetchMasterEditionFromSeeds=o6t;async function a6t(n,e,t){return pOe(n,Nae(n,e),t)}ta.safeFetchMasterEditionFromSeeds=a6t;var ra={};Object.defineProperty(ra,"__esModule",{value:!0});ra.safeFetchMetadataFromSeeds=ra.fetchMetadataFromSeeds=ra.findMetadataPda=ra.getMetadataGpaBuilder=ra.safeFetchAllMetadata=ra.fetchAllMetadata=ra.safeFetchMetadata=ra.fetchMetadata=ra.deserializeMetadata=ra.getMetadataAccountDataSerializer=void 0;const z0=Z,In=H,Yc=gt;function bOe(){return(0,In.mapSerializer)((0,In.struct)([["key",(0,Yc.getKeySerializer)()],["updateAuthority",(0,In.publicKey)()],["mint",(0,In.publicKey)()],["name",(0,In.string)()],["symbol",(0,In.string)()],["uri",(0,In.string)()],["sellerFeeBasisPoints",(0,In.u16)()],["creators",(0,In.option)((0,In.array)((0,Yc.getCreatorSerializer)()))],["primarySaleHappened",(0,In.bool)()],["isMutable",(0,In.bool)()],["editionNonce",(0,In.option)((0,In.u8)())],["tokenStandard",(0,In.option)((0,Yc.getTokenStandardSerializer)())],["collection",(0,In.option)((0,Yc.getCollectionSerializer)())],["uses",(0,In.option)((0,Yc.getUsesSerializer)())],["collectionDetails",(0,In.option)((0,Yc.getCollectionDetailsSerializer)())],["programmableConfig",(0,In.option)((0,Yc.getProgrammableConfigSerializer)())]],{description:"MetadataAccountData"}),n=>({...n,key:Yc.Key.MetadataV1}))}ra.getMetadataAccountDataSerializer=bOe;function z2(n){return(0,z0.deserializeAccount)(n,bOe())}ra.deserializeMetadata=z2;async function SOe(n,e,t){const r=await n.rpc.getAccount((0,z0.publicKey)(e,!1),t);return(0,z0.assertAccountExists)(r,"Metadata"),z2(r)}ra.fetchMetadata=SOe;async function kOe(n,e,t){const r=await n.rpc.getAccount((0,z0.publicKey)(e,!1),t);return r.exists?z2(r):null}ra.safeFetchMetadata=kOe;async function c6t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,z0.publicKey)(s,!1)),t)).map(s=>((0,z0.assertAccountExists)(s,"Metadata"),z2(s)))}ra.fetchAllMetadata=c6t;async function u6t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,z0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>z2(s))}ra.safeFetchAllMetadata=u6t;function l6t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,z0.gpaBuilder)(n,e).registerFields({key:[0,(0,Yc.getKeySerializer)()],updateAuthority:[1,(0,In.publicKey)()],mint:[33,(0,In.publicKey)()],name:[65,(0,In.string)()],symbol:[null,(0,In.string)()],uri:[null,(0,In.string)()],sellerFeeBasisPoints:[null,(0,In.u16)()],creators:[null,(0,In.option)((0,In.array)((0,Yc.getCreatorSerializer)()))],primarySaleHappened:[null,(0,In.bool)()],isMutable:[null,(0,In.bool)()],editionNonce:[null,(0,In.option)((0,In.u8)())],tokenStandard:[null,(0,In.option)((0,Yc.getTokenStandardSerializer)())],collection:[null,(0,In.option)((0,Yc.getCollectionSerializer)())],uses:[null,(0,In.option)((0,Yc.getUsesSerializer)())],collectionDetails:[null,(0,In.option)((0,Yc.getCollectionDetailsSerializer)())],programmableConfig:[null,(0,In.option)((0,Yc.getProgrammableConfigSerializer)())]}).deserializeUsing(t=>z2(t)).whereField("key",Yc.Key.MetadataV1)}ra.getMetadataGpaBuilder=l6t;function Fae(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,In.string)({size:"variable"}).serialize("metadata"),(0,In.publicKey)().serialize(t),(0,In.publicKey)().serialize(e.mint)])}ra.findMetadataPda=Fae;async function d6t(n,e,t){return SOe(n,Fae(n,e),t)}ra.fetchMetadataFromSeeds=d6t;async function f6t(n,e,t){return kOe(n,Fae(n,e),t)}ra.safeFetchMetadataFromSeeds=f6t;var xi={};Object.defineProperty(xi,"__esModule",{value:!0});xi.safeFetchMetadataDelegateRecordFromSeeds=xi.fetchMetadataDelegateRecordFromSeeds=xi.findMetadataDelegateRecordPda=xi.getMetadataDelegateRecordSize=xi.getMetadataDelegateRecordGpaBuilder=xi.safeFetchAllMetadataDelegateRecord=xi.fetchAllMetadataDelegateRecord=xi.safeFetchMetadataDelegateRecord=xi.fetchMetadataDelegateRecord=xi.deserializeMetadataDelegateRecord=xi.getMetadataDelegateRecordAccountDataSerializer=void 0;const $0=Z,nl=H,h6t=Sn,vOe=gt;function AOe(){return(0,nl.struct)([["key",(0,vOe.getKeySerializer)()],["bump",(0,nl.u8)()],["mint",(0,nl.publicKey)()],["delegate",(0,nl.publicKey)()],["updateAuthority",(0,nl.publicKey)()]],{description:"MetadataDelegateRecordAccountData"})}xi.getMetadataDelegateRecordAccountDataSerializer=AOe;function $2(n){return(0,$0.deserializeAccount)(n,AOe())}xi.deserializeMetadataDelegateRecord=$2;async function wOe(n,e,t){const r=await n.rpc.getAccount((0,$0.publicKey)(e,!1),t);return(0,$0.assertAccountExists)(r,"MetadataDelegateRecord"),$2(r)}xi.fetchMetadataDelegateRecord=wOe;async function IOe(n,e,t){const r=await n.rpc.getAccount((0,$0.publicKey)(e,!1),t);return r.exists?$2(r):null}xi.safeFetchMetadataDelegateRecord=IOe;async function g6t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,$0.publicKey)(s,!1)),t)).map(s=>((0,$0.assertAccountExists)(s,"MetadataDelegateRecord"),$2(s)))}xi.fetchAllMetadataDelegateRecord=g6t;async function m6t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,$0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>$2(s))}xi.safeFetchAllMetadataDelegateRecord=m6t;function y6t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,$0.gpaBuilder)(n,e).registerFields({key:[0,(0,vOe.getKeySerializer)()],bump:[1,(0,nl.u8)()],mint:[2,(0,nl.publicKey)()],delegate:[34,(0,nl.publicKey)()],updateAuthority:[66,(0,nl.publicKey)()]}).deserializeUsing(t=>$2(t))}xi.getMetadataDelegateRecordGpaBuilder=y6t;function p6t(){return 98}xi.getMetadataDelegateRecordSize=p6t;function Uae(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,nl.string)({size:"variable"}).serialize("metadata"),(0,nl.publicKey)().serialize(t),(0,nl.publicKey)().serialize(e.mint),(0,h6t.getMetadataDelegateRoleSeedSerializer)().serialize(e.delegateRole),(0,nl.publicKey)().serialize(e.updateAuthority),(0,nl.publicKey)().serialize(e.delegate)])}xi.findMetadataDelegateRecordPda=Uae;async function b6t(n,e,t){return wOe(n,Uae(n,e),t)}xi.fetchMetadataDelegateRecordFromSeeds=b6t;async function S6t(n,e,t){return IOe(n,Uae(n,e),t)}xi.safeFetchMetadataDelegateRecordFromSeeds=S6t;var eu={};Object.defineProperty(eu,"__esModule",{value:!0});eu.getTokenOwnedEscrowGpaBuilder=eu.safeFetchAllTokenOwnedEscrow=eu.fetchAllTokenOwnedEscrow=eu.safeFetchTokenOwnedEscrow=eu.fetchTokenOwnedEscrow=eu.deserializeTokenOwnedEscrow=eu.getTokenOwnedEscrowAccountDataSerializer=void 0;const D0=Z,tw=H,$w=gt;function _Oe(){return(0,tw.mapSerializer)((0,tw.struct)([["key",(0,$w.getKeySerializer)()],["baseToken",(0,tw.publicKey)()],["authority",(0,$w.getEscrowAuthoritySerializer)()],["bump",(0,tw.u8)()]],{description:"TokenOwnedEscrowAccountData"}),n=>({...n,key:$w.Key.TokenOwnedEscrow}))}eu.getTokenOwnedEscrowAccountDataSerializer=_Oe;function D2(n){return(0,D0.deserializeAccount)(n,_Oe())}eu.deserializeTokenOwnedEscrow=D2;async function k6t(n,e,t){const r=await n.rpc.getAccount((0,D0.publicKey)(e,!1),t);return(0,D0.assertAccountExists)(r,"TokenOwnedEscrow"),D2(r)}eu.fetchTokenOwnedEscrow=k6t;async function v6t(n,e,t){const r=await n.rpc.getAccount((0,D0.publicKey)(e,!1),t);return r.exists?D2(r):null}eu.safeFetchTokenOwnedEscrow=v6t;async function A6t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,D0.publicKey)(s,!1)),t)).map(s=>((0,D0.assertAccountExists)(s,"TokenOwnedEscrow"),D2(s)))}eu.fetchAllTokenOwnedEscrow=A6t;async function w6t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,D0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>D2(s))}eu.safeFetchAllTokenOwnedEscrow=w6t;function I6t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,D0.gpaBuilder)(n,e).registerFields({key:[0,(0,$w.getKeySerializer)()],baseToken:[1,(0,tw.publicKey)()],authority:[33,(0,$w.getEscrowAuthoritySerializer)()],bump:[null,(0,tw.u8)()]}).deserializeUsing(t=>D2(t)).whereField("key",$w.Key.TokenOwnedEscrow)}eu.getTokenOwnedEscrowGpaBuilder=I6t;var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.safeFetchTokenRecordFromSeeds=Ti.fetchTokenRecordFromSeeds=Ti.findTokenRecordPda=Ti.getTokenRecordSize=Ti.getTokenRecordGpaBuilder=Ti.safeFetchAllTokenRecord=Ti.fetchAllTokenRecord=Ti.safeFetchTokenRecord=Ti.fetchTokenRecord=Ti.deserializeTokenRecord=Ti.getTokenRecordAccountDataSerializer=void 0;const O0=Z,Vi=H,qp=gt;function POe(){return(0,Vi.mapSerializer)((0,Vi.struct)([["key",(0,qp.getKeySerializer)()],["bump",(0,Vi.u8)()],["state",(0,qp.getTokenStateSerializer)()],["ruleSetRevision",(0,Vi.option)((0,Vi.u64)())],["delegate",(0,Vi.option)((0,Vi.publicKey)())],["delegateRole",(0,Vi.option)((0,qp.getTokenDelegateRoleSerializer)())],["lockedTransfer",(0,Vi.option)((0,Vi.publicKey)())]],{description:"TokenRecordAccountData"}),n=>({...n,key:qp.Key.TokenRecord}))}Ti.getTokenRecordAccountDataSerializer=POe;function O2(n){return(0,O0.deserializeAccount)(n,POe())}Ti.deserializeTokenRecord=O2;async function EOe(n,e,t){const r=await n.rpc.getAccount((0,O0.publicKey)(e,!1),t);return(0,O0.assertAccountExists)(r,"TokenRecord"),O2(r)}Ti.fetchTokenRecord=EOe;async function xOe(n,e,t){const r=await n.rpc.getAccount((0,O0.publicKey)(e,!1),t);return r.exists?O2(r):null}Ti.safeFetchTokenRecord=xOe;async function _6t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,O0.publicKey)(s,!1)),t)).map(s=>((0,O0.assertAccountExists)(s,"TokenRecord"),O2(s)))}Ti.fetchAllTokenRecord=_6t;async function P6t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,O0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>O2(s))}Ti.safeFetchAllTokenRecord=P6t;function E6t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,O0.gpaBuilder)(n,e).registerFields({key:[0,(0,qp.getKeySerializer)()],bump:[1,(0,Vi.u8)()],state:[2,(0,qp.getTokenStateSerializer)()],ruleSetRevision:[3,(0,Vi.option)((0,Vi.u64)())],delegate:[null,(0,Vi.option)((0,Vi.publicKey)())],delegateRole:[null,(0,Vi.option)((0,qp.getTokenDelegateRoleSerializer)())],lockedTransfer:[null,(0,Vi.option)((0,Vi.publicKey)())]}).deserializeUsing(t=>O2(t)).whereField("key",qp.Key.TokenRecord)}Ti.getTokenRecordGpaBuilder=E6t;function x6t(){return 80}Ti.getTokenRecordSize=x6t;function Vae(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Vi.string)({size:"variable"}).serialize("metadata"),(0,Vi.publicKey)().serialize(t),(0,Vi.publicKey)().serialize(e.mint),(0,Vi.string)({size:"variable"}).serialize("token_record"),(0,Vi.publicKey)().serialize(e.token)])}Ti.findTokenRecordPda=Vae;async function T6t(n,e,t){return EOe(n,Vae(n,e),t)}Ti.fetchTokenRecordFromSeeds=T6t;async function R6t(n,e,t){return xOe(n,Vae(n,e),t)}Ti.safeFetchTokenRecordFromSeeds=R6t;var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.safeFetchUseAuthorityRecordFromSeeds=Ri.fetchUseAuthorityRecordFromSeeds=Ri.findUseAuthorityRecordPda=Ri.getUseAuthorityRecordSize=Ri.getUseAuthorityRecordGpaBuilder=Ri.safeFetchAllUseAuthorityRecord=Ri.fetchAllUseAuthorityRecord=Ri.safeFetchUseAuthorityRecord=Ri.fetchUseAuthorityRecord=Ri.deserializeUseAuthorityRecord=Ri.getUseAuthorityRecordAccountDataSerializer=void 0;const L0=Z,Ud=H,iK=gt;function TOe(){return(0,Ud.mapSerializer)((0,Ud.struct)([["key",(0,iK.getKeySerializer)()],["allowedUses",(0,Ud.u64)()],["bump",(0,Ud.u8)()]],{description:"UseAuthorityRecordAccountData"}),n=>({...n,key:iK.Key.UseAuthorityRecord}))}Ri.getUseAuthorityRecordAccountDataSerializer=TOe;function L2(n){return(0,L0.deserializeAccount)(n,TOe())}Ri.deserializeUseAuthorityRecord=L2;async function ROe(n,e,t){const r=await n.rpc.getAccount((0,L0.publicKey)(e,!1),t);return(0,L0.assertAccountExists)(r,"UseAuthorityRecord"),L2(r)}Ri.fetchUseAuthorityRecord=ROe;async function BOe(n,e,t){const r=await n.rpc.getAccount((0,L0.publicKey)(e,!1),t);return r.exists?L2(r):null}Ri.safeFetchUseAuthorityRecord=BOe;async function B6t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,L0.publicKey)(s,!1)),t)).map(s=>((0,L0.assertAccountExists)(s,"UseAuthorityRecord"),L2(s)))}Ri.fetchAllUseAuthorityRecord=B6t;async function C6t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,L0.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>L2(s))}Ri.safeFetchAllUseAuthorityRecord=C6t;function M6t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,L0.gpaBuilder)(n,e).registerFields({key:[0,(0,iK.getKeySerializer)()],allowedUses:[1,(0,Ud.u64)()],bump:[9,(0,Ud.u8)()]}).deserializeUsing(t=>L2(t)).whereField("key",iK.Key.UseAuthorityRecord)}Ri.getUseAuthorityRecordGpaBuilder=M6t;function z6t(){return 10}Ri.getUseAuthorityRecordSize=z6t;function qae(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Ud.string)({size:"variable"}).serialize("metadata"),(0,Ud.publicKey)().serialize(t),(0,Ud.publicKey)().serialize(e.mint),(0,Ud.string)({size:"variable"}).serialize("user"),(0,Ud.publicKey)().serialize(e.useAuthority)])}Ri.findUseAuthorityRecordPda=qae;async function $6t(n,e,t){return ROe(n,qae(n,e),t)}Ri.fetchUseAuthorityRecordFromSeeds=$6t;async function D6t(n,e,t){return BOe(n,qae(n,e),t)}Ri.safeFetchUseAuthorityRecordFromSeeds=D6t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Zo,n),t(Jo,n),t(uc,n),t(Pi,n),t(Xo,n),t(Ei,n),t(ta,n),t(ra,n),t(xi,n),t(eu,n),t(Ti,n),t(Ri,n)})(Zt);var Hae={},G={};Object.defineProperty(G,"__esModule",{value:!0});G.ReservationAlreadyMadeError=G.ReservationNotSetError=G.ReservationDoesNotExistError=G.ReservationExistsError=G.ShareTotalMustBe100Error=G.NoBalanceInAccountForAuthorizationError=G.OwnerMismatchError=G.PrimarySaleCanOnlyBeFlippedToTrueError=G.InvalidBasisPointsError=G.CreatorNotFoundError=G.NoCreatorsPresentOnMetadataError=G.MustBeOneOfCreatorsError=G.CreatorsMustBeAtleastOneError=G.CreatorsTooLongError=G.DisabledError=G.AuthorizationTokenAccountOwnerMismatchError=G.PrintingMintAuthorizationAccountMismatchError=G.NotEnoughTokensError=G.TokenAccountMintMismatchV2Error=G.TokenAccountMintMismatchError=G.OneTimePrintingAuthMintMismatchError=G.PrintingMintMismatchError=G.DerivedKeyInvalidError=G.TokenAccountOneTimeAuthMintMismatchError=G.TokenBurnFailedError=G.EditionMintDecimalsShouldBeZeroError=G.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=G.PrintingMintDecimalsShouldBeZeroError=G.EditionAlreadyMintedError=G.DestinationMintMismatchError=G.MasterRecordMismatchError=G.TokenMintToFailedError=G.MaxEditionsMintedAlreadyError=G.EditionsMustHaveExactlyOneTokenError=G.MintMismatchError=G.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=G.UriTooLongError=G.SymbolTooLongError=G.NameTooLongError=G.InvalidMintAuthorityError=G.NotMintAuthorityError=G.UpdateAuthorityIsNotSignerError=G.UpdateAuthorityIncorrectError=G.InvalidEditionKeyError=G.InvalidMetadataKeyError=G.UninitializedError=G.AlreadyInitializedError=G.NotRentExemptError=G.InstructionPackErrorError=G.InstructionUnpackErrorError=void 0;G.RevokeCollectionAuthoritySignerIncorrectError=G.InvalidUserError=G.EditionOverrideCannotBeZeroError=G.NotAllowedToChangeSellerFeeBasisPointsError=G.CannotWipeVerifiedCreatorsError=G.CannotRemoveVerifiedCreatorError=G.CannotAdjustVerifiedCreatorError=G.InvalidDelegateError=G.InvalidFreezeAuthorityError=G.InvalidCollectionAuthorityRecordError=G.InvalidUseAuthorityRecordError=G.CollectionAuthorityDoesNotExistError=G.CollectionAuthorityRecordAlreadyExistsError=G.NotEnoughUsesError=G.UnusableError=G.UseAuthorityRecordAlreadyRevokedError=G.UseAuthorityRecordAlreadyExistsError=G.CollectionMustBeAUniqueMasterEditionError=G.InvalidCollectionUpdateAuthorityError=G.CollectionNotFoundError=G.CannotChangeUsesAfterFirstUseError=G.CannotChangeUseMethodAfterFirstUseError=G.InvalidUseMethodError=G.MustBeBurnedError=G.RemovedError=G.CollectionCannotBeVerifiedInThisInstructionError=G.IsMutableCanOnlyBeFlippedToFalseError=G.ReservationArrayShouldBeSizeOneError=G.InvalidEditionIndexError=G.OneTimeAuthMintSupplyMustBeZeroForConversionError=G.PrintingMintSupplyMustBeZeroForConversionError=G.InvalidOwnerError=G.InvalidOperationError=G.TriedToReplaceAnExistingReservationError=G.ReservationNotCompleteError=G.BeyondAlottedAddressSizeError=G.DataTypeMismatchError=G.InvalidTokenProgramError=G.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=G.DuplicateCreatorAddressError=G.DataIsImmutableError=G.PrintingWouldBreachMaximumSupplyError=G.IncorrectOwnerError=G.SpotMismatchError=G.CannotUnverifyAnotherCreatorError=G.CannotVerifyAnotherCreatorError=G.AddressNotInReservationError=G.ReservationBreachesMaximumSupplyError=G.NumericalOverflowErrorError=G.BeyondMaxAddressSizeError=void 0;G.MissingSplTokenProgramError=G.MissingTokenAccountError=G.OnlySaleDelegateCanTransferError=G.InvalidSystemWalletError=G.FeatureNotSupportedError=G.MissingArgumentInBuilderError=G.MissingAccountInBuilderError=G.DelegateNotFoundError=G.DelegateAlreadyExistsError=G.InvalidProgrammableConfigError=G.MissingProgrammableConfigError=G.MissingAuthorizationRulesError=G.InvalidAuthorizationRulesError=G.InvalidMintForTokenStandardError=G.InvalidTokenStandardError=G.MintIsNotSignerError=G.EscrowParentHasDelegateError=G.InvalidBubblegumSignerError=G.InvalidCollectionSizeChangeError=G.NoFreezeAuthoritySetError=G.BorshSerializationErrorError=G.InsufficientTokensError=G.MustBeNonFungibleError=G.InvalidSystemProgramError=G.MustBeEscrowAuthorityError=G.InvalidEscrowBumpSeedError=G.MustUnverifyError=G.EditionNumberGreaterThanMaxSupplyError=G.PrintEditionDoesNotMatchMasterEditionError=G.ReservationListDeprecatedError=G.InvalidEditionMarkerError=G.InvalidPrintEditionError=G.InvalidMasterEditionError=G.NotAPrintEditionError=G.AlreadyUnverifiedError=G.AlreadyVerifiedError=G.CollectionMasterEditionAccountInvalidError=G.CannotUpdateVerifiedCollectionError=G.BorshDeserializationErrorError=G.MasterEditionHasPrintsError=G.NotAMasterEditionError=G.MissingEditionAccountError=G.CouldNotDetermineTokenStandardError=G.NotACollectionParentError=G.NotVerifiedMemberOfCollectionError=G.NotAMemberOfCollectionError=G.MissingCollectionMetadataError=G.SizedCollectionError=G.UnsizedCollectionError=G.TokenCloseFailedError=void 0;G.ExpectedUninitializedAccountError=G.MissingImmutableOwnerExtensionError=G.InvalidTokenExtensionTypeError=G.InvalidMetadataPointerError=G.InvalidMintCloseAuthorityError=G.InvalidMintExtensionTypeError=G.CannotChangeUpdateAuthorityWithDelegateError=G.InvalidMetadataFlagsError=G.InvalidFeeAccountError=G.MissingDelegateRecordError=G.InvalidInstructionError=G.InvalidCloseAuthorityError=G.InvalidTokenRecordError=G.MissingCollectionMasterEditionError=G.MissingCollectionMintError=G.InsufficientTokenBalanceError=G.InvalidUpdateArgsError=G.InvalidParentAccountsError=G.InvalidInstructionsSysvarError=G.InvalidAssociatedTokenAccountProgramError=G.MissingEditionError=G.CannotBurnWithDelegateError=G.MissingEditionMarkerAccountError=G.MissingMasterEditionTokenAccountError=G.MissingMasterEditionMintAccountError=G.InvalidAmountError=G.CannotUpdateAssetWithDelegateError=G.DataIncrementLimitExceededError=G.InvalidLockedTransferAddressError=G.MissingLockedTransferAddressError=G.InvalidDelegateArgsError=G.AmountMustBeGreaterThanZeroError=G.MissingMasterEditionAccountError=G.MissingPrintSupplyError=G.InvalidDelegateRoleError=G.IncorrectTokenStateError=G.InvalidMasterEditionAccountLengthError=G.MissingTokenOwnerAccountError=G.DataIsEmptyOrZeroedError=G.MintSupplyMustBeZeroError=G.MissingTokenRecordError=G.InvalidAuthorityTypeError=G.MissingDelegateRoleError=G.UnlockedTokenError=G.LockedTokenError=G.KeyMismatchError=G.InstructionNotSupportedError=G.InvalidTransferAuthorityError=G.InvalidDelegateRoleForTransferError=G.MissingAuthorizationRulesProgramError=void 0;G.getMplTokenMetadataErrorFromName=G.getMplTokenMetadataErrorFromCode=G.ConditionsForClosingNotMetError=G.AccountAlreadyResizedError=G.InvalidEditionAccountLengthError=void 0;const ce=Z,oe=new Map,ae=new Map;class jae extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="InstructionUnpackError",this.code=0}}G.InstructionUnpackErrorError=jae;oe.set(0,jae);ae.set("InstructionUnpackError",jae);class Gae extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="InstructionPackError",this.code=1}}G.InstructionPackErrorError=Gae;oe.set(1,Gae);ae.set("InstructionPackError",Gae);class Yae extends ce.ProgramError{constructor(e,t){super("Lamport balance below rent-exempt threshold",e,t),this.name="NotRentExempt",this.code=2}}G.NotRentExemptError=Yae;oe.set(2,Yae);ae.set("NotRentExempt",Yae);class Zae extends ce.ProgramError{constructor(e,t){super("Already initialized",e,t),this.name="AlreadyInitialized",this.code=3}}G.AlreadyInitializedError=Zae;oe.set(3,Zae);ae.set("AlreadyInitialized",Zae);class Jae extends ce.ProgramError{constructor(e,t){super("Uninitialized",e,t),this.name="Uninitialized",this.code=4}}G.UninitializedError=Jae;oe.set(4,Jae);ae.set("Uninitialized",Jae);class Xae extends ce.ProgramError{constructor(e,t){super(" Metadata's key must match seed of ['metadata', program id, mint] provided",e,t),this.name="InvalidMetadataKey",this.code=5}}G.InvalidMetadataKeyError=Xae;oe.set(5,Xae);ae.set("InvalidMetadataKey",Xae);class Qae extends ce.ProgramError{constructor(e,t){super("Edition's key must match seed of ['metadata', program id, name, 'edition'] provided",e,t),this.name="InvalidEditionKey",this.code=6}}G.InvalidEditionKeyError=Qae;oe.set(6,Qae);ae.set("InvalidEditionKey",Qae);class ece extends ce.ProgramError{constructor(e,t){super("Update Authority given does not match",e,t),this.name="UpdateAuthorityIncorrect",this.code=7}}G.UpdateAuthorityIncorrectError=ece;oe.set(7,ece);ae.set("UpdateAuthorityIncorrect",ece);class tce extends ce.ProgramError{constructor(e,t){super("Update Authority needs to be signer to update metadata",e,t),this.name="UpdateAuthorityIsNotSigner",this.code=8}}G.UpdateAuthorityIsNotSignerError=tce;oe.set(8,tce);ae.set("UpdateAuthorityIsNotSigner",tce);class rce extends ce.ProgramError{constructor(e,t){super("You must be the mint authority and signer on this transaction",e,t),this.name="NotMintAuthority",this.code=9}}G.NotMintAuthorityError=rce;oe.set(9,rce);ae.set("NotMintAuthority",rce);class nce extends ce.ProgramError{constructor(e,t){super("Mint authority provided does not match the authority on the mint",e,t),this.name="InvalidMintAuthority",this.code=10}}G.InvalidMintAuthorityError=nce;oe.set(10,nce);ae.set("InvalidMintAuthority",nce);class sce extends ce.ProgramError{constructor(e,t){super("Name too long",e,t),this.name="NameTooLong",this.code=11}}G.NameTooLongError=sce;oe.set(11,sce);ae.set("NameTooLong",sce);class ice extends ce.ProgramError{constructor(e,t){super("Symbol too long",e,t),this.name="SymbolTooLong",this.code=12}}G.SymbolTooLongError=ice;oe.set(12,ice);ae.set("SymbolTooLong",ice);class oce extends ce.ProgramError{constructor(e,t){super("URI too long",e,t),this.name="UriTooLong",this.code=13}}G.UriTooLongError=oce;oe.set(13,oce);ae.set("UriTooLong",oce);class ace extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",this.code=14}}G.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=ace;oe.set(14,ace);ae.set("UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",ace);class cce extends ce.ProgramError{constructor(e,t){super("Mint given does not match mint on Metadata",e,t),this.name="MintMismatch",this.code=15}}G.MintMismatchError=cce;oe.set(15,cce);ae.set("MintMismatch",cce);class uce extends ce.ProgramError{constructor(e,t){super("Editions must have exactly one token",e,t),this.name="EditionsMustHaveExactlyOneToken",this.code=16}}G.EditionsMustHaveExactlyOneTokenError=uce;oe.set(16,uce);ae.set("EditionsMustHaveExactlyOneToken",uce);class lce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="MaxEditionsMintedAlready",this.code=17}}G.MaxEditionsMintedAlreadyError=lce;oe.set(17,lce);ae.set("MaxEditionsMintedAlready",lce);class dce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="TokenMintToFailed",this.code=18}}G.TokenMintToFailedError=dce;oe.set(18,dce);ae.set("TokenMintToFailed",dce);class fce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="MasterRecordMismatch",this.code=19}}G.MasterRecordMismatchError=fce;oe.set(19,fce);ae.set("MasterRecordMismatch",fce);class hce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="DestinationMintMismatch",this.code=20}}G.DestinationMintMismatchError=hce;oe.set(20,hce);ae.set("DestinationMintMismatch",hce);class gce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="EditionAlreadyMinted",this.code=21}}G.EditionAlreadyMintedError=gce;oe.set(21,gce);ae.set("EditionAlreadyMinted",gce);class mce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingMintDecimalsShouldBeZero",this.code=22}}G.PrintingMintDecimalsShouldBeZeroError=mce;oe.set(22,mce);ae.set("PrintingMintDecimalsShouldBeZero",mce);class yce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="OneTimePrintingAuthorizationMintDecimalsShouldBeZero",this.code=23}}G.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=yce;oe.set(23,yce);ae.set("OneTimePrintingAuthorizationMintDecimalsShouldBeZero",yce);class pce extends ce.ProgramError{constructor(e,t){super("EditionMintDecimalsShouldBeZero",e,t),this.name="EditionMintDecimalsShouldBeZero",this.code=24}}G.EditionMintDecimalsShouldBeZeroError=pce;oe.set(24,pce);ae.set("EditionMintDecimalsShouldBeZero",pce);class bce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="TokenBurnFailed",this.code=25}}G.TokenBurnFailedError=bce;oe.set(25,bce);ae.set("TokenBurnFailed",bce);class Sce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="TokenAccountOneTimeAuthMintMismatch",this.code=26}}G.TokenAccountOneTimeAuthMintMismatchError=Sce;oe.set(26,Sce);ae.set("TokenAccountOneTimeAuthMintMismatch",Sce);class kce extends ce.ProgramError{constructor(e,t){super("Derived key invalid",e,t),this.name="DerivedKeyInvalid",this.code=27}}G.DerivedKeyInvalidError=kce;oe.set(27,kce);ae.set("DerivedKeyInvalid",kce);class vce extends ce.ProgramError{constructor(e,t){super("The Printing mint does not match that on the master edition!",e,t),this.name="PrintingMintMismatch",this.code=28}}G.PrintingMintMismatchError=vce;oe.set(28,vce);ae.set("PrintingMintMismatch",vce);class Ace extends ce.ProgramError{constructor(e,t){super("The One Time Printing Auth mint does not match that on the master edition!",e,t),this.name="OneTimePrintingAuthMintMismatch",this.code=29}}G.OneTimePrintingAuthMintMismatchError=Ace;oe.set(29,Ace);ae.set("OneTimePrintingAuthMintMismatch",Ace);class wce extends ce.ProgramError{constructor(e,t){super("The mint of the token account does not match the Printing mint!",e,t),this.name="TokenAccountMintMismatch",this.code=30}}G.TokenAccountMintMismatchError=wce;oe.set(30,wce);ae.set("TokenAccountMintMismatch",wce);class Ice extends ce.ProgramError{constructor(e,t){super("The mint of the token account does not match the master metadata mint!",e,t),this.name="TokenAccountMintMismatchV2",this.code=31}}G.TokenAccountMintMismatchV2Error=Ice;oe.set(31,Ice);ae.set("TokenAccountMintMismatchV2",Ice);class _ce extends ce.ProgramError{constructor(e,t){super("Not enough tokens to mint a limited edition",e,t),this.name="NotEnoughTokens",this.code=32}}G.NotEnoughTokensError=_ce;oe.set(32,_ce);ae.set("NotEnoughTokens",_ce);class Pce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingMintAuthorizationAccountMismatch",this.code=33}}G.PrintingMintAuthorizationAccountMismatchError=Pce;oe.set(33,Pce);ae.set("PrintingMintAuthorizationAccountMismatch",Pce);class Ece extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="AuthorizationTokenAccountOwnerMismatch",this.code=34}}G.AuthorizationTokenAccountOwnerMismatchError=Ece;oe.set(34,Ece);ae.set("AuthorizationTokenAccountOwnerMismatch",Ece);class xce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="Disabled",this.code=35}}G.DisabledError=xce;oe.set(35,xce);ae.set("Disabled",xce);class Tce extends ce.ProgramError{constructor(e,t){super("Creators list too long",e,t),this.name="CreatorsTooLong",this.code=36}}G.CreatorsTooLongError=Tce;oe.set(36,Tce);ae.set("CreatorsTooLong",Tce);class Rce extends ce.ProgramError{constructor(e,t){super("Creators must be at least one if set",e,t),this.name="CreatorsMustBeAtleastOne",this.code=37}}G.CreatorsMustBeAtleastOneError=Rce;oe.set(37,Rce);ae.set("CreatorsMustBeAtleastOne",Rce);class Bce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="MustBeOneOfCreators",this.code=38}}G.MustBeOneOfCreatorsError=Bce;oe.set(38,Bce);ae.set("MustBeOneOfCreators",Bce);class Cce extends ce.ProgramError{constructor(e,t){super("This metadata does not have creators",e,t),this.name="NoCreatorsPresentOnMetadata",this.code=39}}G.NoCreatorsPresentOnMetadataError=Cce;oe.set(39,Cce);ae.set("NoCreatorsPresentOnMetadata",Cce);class Mce extends ce.ProgramError{constructor(e,t){super("This creator address was not found",e,t),this.name="CreatorNotFound",this.code=40}}G.CreatorNotFoundError=Mce;oe.set(40,Mce);ae.set("CreatorNotFound",Mce);class zce extends ce.ProgramError{constructor(e,t){super("Basis points cannot be more than 10000",e,t),this.name="InvalidBasisPoints",this.code=41}}G.InvalidBasisPointsError=zce;oe.set(41,zce);ae.set("InvalidBasisPoints",zce);class $ce extends ce.ProgramError{constructor(e,t){super("Primary sale can only be flipped to true and is immutable",e,t),this.name="PrimarySaleCanOnlyBeFlippedToTrue",this.code=42}}G.PrimarySaleCanOnlyBeFlippedToTrueError=$ce;oe.set(42,$ce);ae.set("PrimarySaleCanOnlyBeFlippedToTrue",$ce);class Dce extends ce.ProgramError{constructor(e,t){super("Owner does not match that on the account given",e,t),this.name="OwnerMismatch",this.code=43}}G.OwnerMismatchError=Dce;oe.set(43,Dce);ae.set("OwnerMismatch",Dce);class Oce extends ce.ProgramError{constructor(e,t){super("This account has no tokens to be used for authorization",e,t),this.name="NoBalanceInAccountForAuthorization",this.code=44}}G.NoBalanceInAccountForAuthorizationError=Oce;oe.set(44,Oce);ae.set("NoBalanceInAccountForAuthorization",Oce);class Lce extends ce.ProgramError{constructor(e,t){super("Share total must equal 100 for creator array",e,t),this.name="ShareTotalMustBe100",this.code=45}}G.ShareTotalMustBe100Error=Lce;oe.set(45,Lce);ae.set("ShareTotalMustBe100",Lce);class Kce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationExists",this.code=46}}G.ReservationExistsError=Kce;oe.set(46,Kce);ae.set("ReservationExists",Kce);class Wce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationDoesNotExist",this.code=47}}G.ReservationDoesNotExistError=Wce;oe.set(47,Wce);ae.set("ReservationDoesNotExist",Wce);class Nce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationNotSet",this.code=48}}G.ReservationNotSetError=Nce;oe.set(48,Nce);ae.set("ReservationNotSet",Nce);class Fce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationAlreadyMade",this.code=49}}G.ReservationAlreadyMadeError=Fce;oe.set(49,Fce);ae.set("ReservationAlreadyMade",Fce);class Uce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="BeyondMaxAddressSize",this.code=50}}G.BeyondMaxAddressSizeError=Uce;oe.set(50,Uce);ae.set("BeyondMaxAddressSize",Uce);class Vce extends ce.ProgramError{constructor(e,t){super("NumericalOverflowError",e,t),this.name="NumericalOverflowError",this.code=51}}G.NumericalOverflowErrorError=Vce;oe.set(51,Vce);ae.set("NumericalOverflowError",Vce);class qce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationBreachesMaximumSupply",this.code=52}}G.ReservationBreachesMaximumSupplyError=qce;oe.set(52,qce);ae.set("ReservationBreachesMaximumSupply",qce);class Hce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="AddressNotInReservation",this.code=53}}G.AddressNotInReservationError=Hce;oe.set(53,Hce);ae.set("AddressNotInReservation",Hce);class jce extends ce.ProgramError{constructor(e,t){super("You cannot unilaterally verify another creator, they must sign",e,t),this.name="CannotVerifyAnotherCreator",this.code=54}}G.CannotVerifyAnotherCreatorError=jce;oe.set(54,jce);ae.set("CannotVerifyAnotherCreator",jce);class Gce extends ce.ProgramError{constructor(e,t){super("You cannot unilaterally unverify another creator",e,t),this.name="CannotUnverifyAnotherCreator",this.code=55}}G.CannotUnverifyAnotherCreatorError=Gce;oe.set(55,Gce);ae.set("CannotUnverifyAnotherCreator",Gce);class Yce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="SpotMismatch",this.code=56}}G.SpotMismatchError=Yce;oe.set(56,Yce);ae.set("SpotMismatch",Yce);class Zce extends ce.ProgramError{constructor(e,t){super("Incorrect account owner",e,t),this.name="IncorrectOwner",this.code=57}}G.IncorrectOwnerError=Zce;oe.set(57,Zce);ae.set("IncorrectOwner",Zce);class Jce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingWouldBreachMaximumSupply",this.code=58}}G.PrintingWouldBreachMaximumSupplyError=Jce;oe.set(58,Jce);ae.set("PrintingWouldBreachMaximumSupply",Jce);class Xce extends ce.ProgramError{constructor(e,t){super("Data is immutable",e,t),this.name="DataIsImmutable",this.code=59}}G.DataIsImmutableError=Xce;oe.set(59,Xce);ae.set("DataIsImmutable",Xce);class Qce extends ce.ProgramError{constructor(e,t){super("No duplicate creator addresses",e,t),this.name="DuplicateCreatorAddress",this.code=60}}G.DuplicateCreatorAddressError=Qce;oe.set(60,Qce);ae.set("DuplicateCreatorAddress",Qce);class eue extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",this.code=61}}G.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=eue;oe.set(61,eue);ae.set("ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",eue);class tue extends ce.ProgramError{constructor(e,t){super("Invalid token program",e,t),this.name="InvalidTokenProgram",this.code=62}}G.InvalidTokenProgramError=tue;oe.set(62,tue);ae.set("InvalidTokenProgram",tue);class rue extends ce.ProgramError{constructor(e,t){super("Data type mismatch",e,t),this.name="DataTypeMismatch",this.code=63}}G.DataTypeMismatchError=rue;oe.set(63,rue);ae.set("DataTypeMismatch",rue);class nue extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="BeyondAlottedAddressSize",this.code=64}}G.BeyondAlottedAddressSizeError=nue;oe.set(64,nue);ae.set("BeyondAlottedAddressSize",nue);class sue extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationNotComplete",this.code=65}}G.ReservationNotCompleteError=sue;oe.set(65,sue);ae.set("ReservationNotComplete",sue);class iue extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="TriedToReplaceAnExistingReservation",this.code=66}}G.TriedToReplaceAnExistingReservationError=iue;oe.set(66,iue);ae.set("TriedToReplaceAnExistingReservation",iue);class oue extends ce.ProgramError{constructor(e,t){super("Invalid operation",e,t),this.name="InvalidOperation",this.code=67}}G.InvalidOperationError=oue;oe.set(67,oue);ae.set("InvalidOperation",oue);class aue extends ce.ProgramError{constructor(e,t){super("Invalid Owner",e,t),this.name="InvalidOwner",this.code=68}}G.InvalidOwnerError=aue;oe.set(68,aue);ae.set("InvalidOwner",aue);class cue extends ce.ProgramError{constructor(e,t){super("Printing mint supply must be zero for conversion",e,t),this.name="PrintingMintSupplyMustBeZeroForConversion",this.code=69}}G.PrintingMintSupplyMustBeZeroForConversionError=cue;oe.set(69,cue);ae.set("PrintingMintSupplyMustBeZeroForConversion",cue);class uue extends ce.ProgramError{constructor(e,t){super("One Time Auth mint supply must be zero for conversion",e,t),this.name="OneTimeAuthMintSupplyMustBeZeroForConversion",this.code=70}}G.OneTimeAuthMintSupplyMustBeZeroForConversionError=uue;oe.set(70,uue);ae.set("OneTimeAuthMintSupplyMustBeZeroForConversion",uue);class lue extends ce.ProgramError{constructor(e,t){super("You tried to insert one edition too many into an edition mark pda",e,t),this.name="InvalidEditionIndex",this.code=71}}G.InvalidEditionIndexError=lue;oe.set(71,lue);ae.set("InvalidEditionIndex",lue);class due extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationArrayShouldBeSizeOne",this.code=72}}G.ReservationArrayShouldBeSizeOneError=due;oe.set(72,due);ae.set("ReservationArrayShouldBeSizeOne",due);class fue extends ce.ProgramError{constructor(e,t){super("Is Mutable can only be flipped to false",e,t),this.name="IsMutableCanOnlyBeFlippedToFalse",this.code=73}}G.IsMutableCanOnlyBeFlippedToFalseError=fue;oe.set(73,fue);ae.set("IsMutableCanOnlyBeFlippedToFalse",fue);class hue extends ce.ProgramError{constructor(e,t){super("Collection cannot be verified in this instruction",e,t),this.name="CollectionCannotBeVerifiedInThisInstruction",this.code=74}}G.CollectionCannotBeVerifiedInThisInstructionError=hue;oe.set(74,hue);ae.set("CollectionCannotBeVerifiedInThisInstruction",hue);class gue extends ce.ProgramError{constructor(e,t){super("This instruction was deprecated in a previous release and is now removed",e,t),this.name="Removed",this.code=75}}G.RemovedError=gue;oe.set(75,gue);ae.set("Removed",gue);class mue extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="MustBeBurned",this.code=76}}G.MustBeBurnedError=mue;oe.set(76,mue);ae.set("MustBeBurned",mue);class yue extends ce.ProgramError{constructor(e,t){super("This use method is invalid",e,t),this.name="InvalidUseMethod",this.code=77}}G.InvalidUseMethodError=yue;oe.set(77,yue);ae.set("InvalidUseMethod",yue);class pue extends ce.ProgramError{constructor(e,t){super("Cannot Change Use Method after the first use",e,t),this.name="CannotChangeUseMethodAfterFirstUse",this.code=78}}G.CannotChangeUseMethodAfterFirstUseError=pue;oe.set(78,pue);ae.set("CannotChangeUseMethodAfterFirstUse",pue);class bue extends ce.ProgramError{constructor(e,t){super("Cannot Change Remaining or Available uses after the first use",e,t),this.name="CannotChangeUsesAfterFirstUse",this.code=79}}G.CannotChangeUsesAfterFirstUseError=bue;oe.set(79,bue);ae.set("CannotChangeUsesAfterFirstUse",bue);class Sue extends ce.ProgramError{constructor(e,t){super("Collection Not Found on Metadata",e,t),this.name="CollectionNotFound",this.code=80}}G.CollectionNotFoundError=Sue;oe.set(80,Sue);ae.set("CollectionNotFound",Sue);class kue extends ce.ProgramError{constructor(e,t){super("Collection Update Authority is invalid",e,t),this.name="InvalidCollectionUpdateAuthority",this.code=81}}G.InvalidCollectionUpdateAuthorityError=kue;oe.set(81,kue);ae.set("InvalidCollectionUpdateAuthority",kue);class vue extends ce.ProgramError{constructor(e,t){super("Collection Must Be a Unique Master Edition v2",e,t),this.name="CollectionMustBeAUniqueMasterEdition",this.code=82}}G.CollectionMustBeAUniqueMasterEditionError=vue;oe.set(82,vue);ae.set("CollectionMustBeAUniqueMasterEdition",vue);class Aue extends ce.ProgramError{constructor(e,t){super("The Use Authority Record Already Exists, to modify it Revoke, then Approve",e,t),this.name="UseAuthorityRecordAlreadyExists",this.code=83}}G.UseAuthorityRecordAlreadyExistsError=Aue;oe.set(83,Aue);ae.set("UseAuthorityRecordAlreadyExists",Aue);class wue extends ce.ProgramError{constructor(e,t){super("The Use Authority Record is empty or already revoked",e,t),this.name="UseAuthorityRecordAlreadyRevoked",this.code=84}}G.UseAuthorityRecordAlreadyRevokedError=wue;oe.set(84,wue);ae.set("UseAuthorityRecordAlreadyRevoked",wue);class Iue extends ce.ProgramError{constructor(e,t){super("This token has no uses",e,t),this.name="Unusable",this.code=85}}G.UnusableError=Iue;oe.set(85,Iue);ae.set("Unusable",Iue);class _ue extends ce.ProgramError{constructor(e,t){super("There are not enough Uses left on this token.",e,t),this.name="NotEnoughUses",this.code=86}}G.NotEnoughUsesError=_ue;oe.set(86,_ue);ae.set("NotEnoughUses",_ue);class Pue extends ce.ProgramError{constructor(e,t){super("This Collection Authority Record Already Exists.",e,t),this.name="CollectionAuthorityRecordAlreadyExists",this.code=87}}G.CollectionAuthorityRecordAlreadyExistsError=Pue;oe.set(87,Pue);ae.set("CollectionAuthorityRecordAlreadyExists",Pue);class Eue extends ce.ProgramError{constructor(e,t){super("This Collection Authority Record Does Not Exist.",e,t),this.name="CollectionAuthorityDoesNotExist",this.code=88}}G.CollectionAuthorityDoesNotExistError=Eue;oe.set(88,Eue);ae.set("CollectionAuthorityDoesNotExist",Eue);class xue extends ce.ProgramError{constructor(e,t){super("This Use Authority Record is invalid.",e,t),this.name="InvalidUseAuthorityRecord",this.code=89}}G.InvalidUseAuthorityRecordError=xue;oe.set(89,xue);ae.set("InvalidUseAuthorityRecord",xue);class Tue extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidCollectionAuthorityRecord",this.code=90}}G.InvalidCollectionAuthorityRecordError=Tue;oe.set(90,Tue);ae.set("InvalidCollectionAuthorityRecord",Tue);class Rue extends ce.ProgramError{constructor(e,t){super("Metadata does not match the freeze authority on the mint",e,t),this.name="InvalidFreezeAuthority",this.code=91}}G.InvalidFreezeAuthorityError=Rue;oe.set(91,Rue);ae.set("InvalidFreezeAuthority",Rue);class Bue extends ce.ProgramError{constructor(e,t){super("All tokens in this account have not been delegated to this user.",e,t),this.name="InvalidDelegate",this.code=92}}G.InvalidDelegateError=Bue;oe.set(92,Bue);ae.set("InvalidDelegate",Bue);class Cue extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="CannotAdjustVerifiedCreator",this.code=93}}G.CannotAdjustVerifiedCreatorError=Cue;oe.set(93,Cue);ae.set("CannotAdjustVerifiedCreator",Cue);class Mue extends ce.ProgramError{constructor(e,t){super("Verified creators cannot be removed.",e,t),this.name="CannotRemoveVerifiedCreator",this.code=94}}G.CannotRemoveVerifiedCreatorError=Mue;oe.set(94,Mue);ae.set("CannotRemoveVerifiedCreator",Mue);class zue extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="CannotWipeVerifiedCreators",this.code=95}}G.CannotWipeVerifiedCreatorsError=zue;oe.set(95,zue);ae.set("CannotWipeVerifiedCreators",zue);class $ue extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="NotAllowedToChangeSellerFeeBasisPoints",this.code=96}}G.NotAllowedToChangeSellerFeeBasisPointsError=$ue;oe.set(96,$ue);ae.set("NotAllowedToChangeSellerFeeBasisPoints",$ue);class Due extends ce.ProgramError{constructor(e,t){super("Edition override cannot be zero",e,t),this.name="EditionOverrideCannotBeZero",this.code=97}}G.EditionOverrideCannotBeZeroError=Due;oe.set(97,Due);ae.set("EditionOverrideCannotBeZero",Due);class Oue extends ce.ProgramError{constructor(e,t){super("Invalid User",e,t),this.name="InvalidUser",this.code=98}}G.InvalidUserError=Oue;oe.set(98,Oue);ae.set("InvalidUser",Oue);class Lue extends ce.ProgramError{constructor(e,t){super("Revoke Collection Authority signer is incorrect",e,t),this.name="RevokeCollectionAuthoritySignerIncorrect",this.code=99}}G.RevokeCollectionAuthoritySignerIncorrectError=Lue;oe.set(99,Lue);ae.set("RevokeCollectionAuthoritySignerIncorrect",Lue);class Kue extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="TokenCloseFailed",this.code=100}}G.TokenCloseFailedError=Kue;oe.set(100,Kue);ae.set("TokenCloseFailed",Kue);class Wue extends ce.ProgramError{constructor(e,t){super("Can't use this function on unsized collection",e,t),this.name="UnsizedCollection",this.code=101}}G.UnsizedCollectionError=Wue;oe.set(101,Wue);ae.set("UnsizedCollection",Wue);class Nue extends ce.ProgramError{constructor(e,t){super("Can't use this function on a sized collection",e,t),this.name="SizedCollection",this.code=102}}G.SizedCollectionError=Nue;oe.set(102,Nue);ae.set("SizedCollection",Nue);class Fue extends ce.ProgramError{constructor(e,t){super("Missing collection metadata account",e,t),this.name="MissingCollectionMetadata",this.code=103}}G.MissingCollectionMetadataError=Fue;oe.set(103,Fue);ae.set("MissingCollectionMetadata",Fue);class Uue extends ce.ProgramError{constructor(e,t){super("This NFT is not a member of the specified collection.",e,t),this.name="NotAMemberOfCollection",this.code=104}}G.NotAMemberOfCollectionError=Uue;oe.set(104,Uue);ae.set("NotAMemberOfCollection",Uue);class Vue extends ce.ProgramError{constructor(e,t){super("This NFT is not a verified member of the specified collection.",e,t),this.name="NotVerifiedMemberOfCollection",this.code=105}}G.NotVerifiedMemberOfCollectionError=Vue;oe.set(105,Vue);ae.set("NotVerifiedMemberOfCollection",Vue);class que extends ce.ProgramError{constructor(e,t){super("This NFT is not a collection parent NFT.",e,t),this.name="NotACollectionParent",this.code=106}}G.NotACollectionParentError=que;oe.set(106,que);ae.set("NotACollectionParent",que);class Hue extends ce.ProgramError{constructor(e,t){super("Could not determine a TokenStandard type.",e,t),this.name="CouldNotDetermineTokenStandard",this.code=107}}G.CouldNotDetermineTokenStandardError=Hue;oe.set(107,Hue);ae.set("CouldNotDetermineTokenStandard",Hue);class jue extends ce.ProgramError{constructor(e,t){super("This mint account has an edition but none was provided.",e,t),this.name="MissingEditionAccount",this.code=108}}G.MissingEditionAccountError=jue;oe.set(108,jue);ae.set("MissingEditionAccount",jue);class Gue extends ce.ProgramError{constructor(e,t){super("This edition is not a Master Edition",e,t),this.name="NotAMasterEdition",this.code=109}}G.NotAMasterEditionError=Gue;oe.set(109,Gue);ae.set("NotAMasterEdition",Gue);class Yue extends ce.ProgramError{constructor(e,t){super("This Master Edition has existing prints",e,t),this.name="MasterEditionHasPrints",this.code=110}}G.MasterEditionHasPrintsError=Yue;oe.set(110,Yue);ae.set("MasterEditionHasPrints",Yue);class Zue extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="BorshDeserializationError",this.code=111}}G.BorshDeserializationErrorError=Zue;oe.set(111,Zue);ae.set("BorshDeserializationError",Zue);class Jue extends ce.ProgramError{constructor(e,t){super("Cannot update a verified collection in this command",e,t),this.name="CannotUpdateVerifiedCollection",this.code=112}}G.CannotUpdateVerifiedCollectionError=Jue;oe.set(112,Jue);ae.set("CannotUpdateVerifiedCollection",Jue);class Xue extends ce.ProgramError{constructor(e,t){super("Edition account doesnt match collection ",e,t),this.name="CollectionMasterEditionAccountInvalid",this.code=113}}G.CollectionMasterEditionAccountInvalidError=Xue;oe.set(113,Xue);ae.set("CollectionMasterEditionAccountInvalid",Xue);class Que extends ce.ProgramError{constructor(e,t){super("Item is already verified.",e,t),this.name="AlreadyVerified",this.code=114}}G.AlreadyVerifiedError=Que;oe.set(114,Que);ae.set("AlreadyVerified",Que);class ele extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="AlreadyUnverified",this.code=115}}G.AlreadyUnverifiedError=ele;oe.set(115,ele);ae.set("AlreadyUnverified",ele);class tle extends ce.ProgramError{constructor(e,t){super("This edition is not a Print Edition",e,t),this.name="NotAPrintEdition",this.code=116}}G.NotAPrintEditionError=tle;oe.set(116,tle);ae.set("NotAPrintEdition",tle);class rle extends ce.ProgramError{constructor(e,t){super("Invalid Master Edition",e,t),this.name="InvalidMasterEdition",this.code=117}}G.InvalidMasterEditionError=rle;oe.set(117,rle);ae.set("InvalidMasterEdition",rle);class nle extends ce.ProgramError{constructor(e,t){super("Invalid Print Edition",e,t),this.name="InvalidPrintEdition",this.code=118}}G.InvalidPrintEditionError=nle;oe.set(118,nle);ae.set("InvalidPrintEdition",nle);class sle extends ce.ProgramError{constructor(e,t){super("Invalid Edition Marker",e,t),this.name="InvalidEditionMarker",this.code=119}}G.InvalidEditionMarkerError=sle;oe.set(119,sle);ae.set("InvalidEditionMarker",sle);class ile extends ce.ProgramError{constructor(e,t){super("Reservation List is Deprecated",e,t),this.name="ReservationListDeprecated",this.code=120}}G.ReservationListDeprecatedError=ile;oe.set(120,ile);ae.set("ReservationListDeprecated",ile);class ole extends ce.ProgramError{constructor(e,t){super("Print Edition does not match Master Edition",e,t),this.name="PrintEditionDoesNotMatchMasterEdition",this.code=121}}G.PrintEditionDoesNotMatchMasterEditionError=ole;oe.set(121,ole);ae.set("PrintEditionDoesNotMatchMasterEdition",ole);class ale extends ce.ProgramError{constructor(e,t){super("Edition Number greater than max supply",e,t),this.name="EditionNumberGreaterThanMaxSupply",this.code=122}}G.EditionNumberGreaterThanMaxSupplyError=ale;oe.set(122,ale);ae.set("EditionNumberGreaterThanMaxSupply",ale);class cle extends ce.ProgramError{constructor(e,t){super("Must unverify before migrating collections.",e,t),this.name="MustUnverify",this.code=123}}G.MustUnverifyError=cle;oe.set(123,cle);ae.set("MustUnverify",cle);class ule extends ce.ProgramError{constructor(e,t){super("Invalid Escrow Account Bump Seed",e,t),this.name="InvalidEscrowBumpSeed",this.code=124}}G.InvalidEscrowBumpSeedError=ule;oe.set(124,ule);ae.set("InvalidEscrowBumpSeed",ule);class lle extends ce.ProgramError{constructor(e,t){super("Must Escrow Authority",e,t),this.name="MustBeEscrowAuthority",this.code=125}}G.MustBeEscrowAuthorityError=lle;oe.set(125,lle);ae.set("MustBeEscrowAuthority",lle);class dle extends ce.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=126}}G.InvalidSystemProgramError=dle;oe.set(126,dle);ae.set("InvalidSystemProgram",dle);class fle extends ce.ProgramError{constructor(e,t){super("Must be a Non Fungible Token",e,t),this.name="MustBeNonFungible",this.code=127}}G.MustBeNonFungibleError=fle;oe.set(127,fle);ae.set("MustBeNonFungible",fle);class hle extends ce.ProgramError{constructor(e,t){super("Insufficient tokens for transfer",e,t),this.name="InsufficientTokens",this.code=128}}G.InsufficientTokensError=hle;oe.set(128,hle);ae.set("InsufficientTokens",hle);class gle extends ce.ProgramError{constructor(e,t){super("Borsh Serialization Error",e,t),this.name="BorshSerializationError",this.code=129}}G.BorshSerializationErrorError=gle;oe.set(129,gle);ae.set("BorshSerializationError",gle);class mle extends ce.ProgramError{constructor(e,t){super("Cannot create NFT with no Freeze Authority.",e,t),this.name="NoFreezeAuthoritySet",this.code=130}}G.NoFreezeAuthoritySetError=mle;oe.set(130,mle);ae.set("NoFreezeAuthoritySet",mle);class yle extends ce.ProgramError{constructor(e,t){super("Invalid collection size change",e,t),this.name="InvalidCollectionSizeChange",this.code=131}}G.InvalidCollectionSizeChangeError=yle;oe.set(131,yle);ae.set("InvalidCollectionSizeChange",yle);class ple extends ce.ProgramError{constructor(e,t){super("Invalid bubblegum signer",e,t),this.name="InvalidBubblegumSigner",this.code=132}}G.InvalidBubblegumSignerError=ple;oe.set(132,ple);ae.set("InvalidBubblegumSigner",ple);class ble extends ce.ProgramError{constructor(e,t){super("Escrow parent cannot have a delegate",e,t),this.name="EscrowParentHasDelegate",this.code=133}}G.EscrowParentHasDelegateError=ble;oe.set(133,ble);ae.set("EscrowParentHasDelegate",ble);class Sle extends ce.ProgramError{constructor(e,t){super("Mint needs to be signer to initialize the account",e,t),this.name="MintIsNotSigner",this.code=134}}G.MintIsNotSignerError=Sle;oe.set(134,Sle);ae.set("MintIsNotSigner",Sle);class kle extends ce.ProgramError{constructor(e,t){super("Invalid token standard",e,t),this.name="InvalidTokenStandard",this.code=135}}G.InvalidTokenStandardError=kle;oe.set(135,kle);ae.set("InvalidTokenStandard",kle);class vle extends ce.ProgramError{constructor(e,t){super("Invalid mint account for specified token standard",e,t),this.name="InvalidMintForTokenStandard",this.code=136}}G.InvalidMintForTokenStandardError=vle;oe.set(136,vle);ae.set("InvalidMintForTokenStandard",vle);class Ale extends ce.ProgramError{constructor(e,t){super("Invalid authorization rules account",e,t),this.name="InvalidAuthorizationRules",this.code=137}}G.InvalidAuthorizationRulesError=Ale;oe.set(137,Ale);ae.set("InvalidAuthorizationRules",Ale);class wle extends ce.ProgramError{constructor(e,t){super("Missing authorization rules account",e,t),this.name="MissingAuthorizationRules",this.code=138}}G.MissingAuthorizationRulesError=wle;oe.set(138,wle);ae.set("MissingAuthorizationRules",wle);class Ile extends ce.ProgramError{constructor(e,t){super("Missing programmable configuration",e,t),this.name="MissingProgrammableConfig",this.code=139}}G.MissingProgrammableConfigError=Ile;oe.set(139,Ile);ae.set("MissingProgrammableConfig",Ile);class _le extends ce.ProgramError{constructor(e,t){super("Invalid programmable configuration",e,t),this.name="InvalidProgrammableConfig",this.code=140}}G.InvalidProgrammableConfigError=_le;oe.set(140,_le);ae.set("InvalidProgrammableConfig",_le);class Ple extends ce.ProgramError{constructor(e,t){super("Delegate already exists",e,t),this.name="DelegateAlreadyExists",this.code=141}}G.DelegateAlreadyExistsError=Ple;oe.set(141,Ple);ae.set("DelegateAlreadyExists",Ple);class Ele extends ce.ProgramError{constructor(e,t){super("Delegate not found",e,t),this.name="DelegateNotFound",this.code=142}}G.DelegateNotFoundError=Ele;oe.set(142,Ele);ae.set("DelegateNotFound",Ele);class xle extends ce.ProgramError{constructor(e,t){super("Required account not set in instruction builder",e,t),this.name="MissingAccountInBuilder",this.code=143}}G.MissingAccountInBuilderError=xle;oe.set(143,xle);ae.set("MissingAccountInBuilder",xle);class Tle extends ce.ProgramError{constructor(e,t){super("Required argument not set in instruction builder",e,t),this.name="MissingArgumentInBuilder",this.code=144}}G.MissingArgumentInBuilderError=Tle;oe.set(144,Tle);ae.set("MissingArgumentInBuilder",Tle);class Rle extends ce.ProgramError{constructor(e,t){super("Feature not supported currently",e,t),this.name="FeatureNotSupported",this.code=145}}G.FeatureNotSupportedError=Rle;oe.set(145,Rle);ae.set("FeatureNotSupported",Rle);class Ble extends ce.ProgramError{constructor(e,t){super("Invalid system wallet",e,t),this.name="InvalidSystemWallet",this.code=146}}G.InvalidSystemWalletError=Ble;oe.set(146,Ble);ae.set("InvalidSystemWallet",Ble);class Cle extends ce.ProgramError{constructor(e,t){super("Only the sale delegate can transfer while its set",e,t),this.name="OnlySaleDelegateCanTransfer",this.code=147}}G.OnlySaleDelegateCanTransferError=Cle;oe.set(147,Cle);ae.set("OnlySaleDelegateCanTransfer",Cle);class Mle extends ce.ProgramError{constructor(e,t){super("Missing token account",e,t),this.name="MissingTokenAccount",this.code=148}}G.MissingTokenAccountError=Mle;oe.set(148,Mle);ae.set("MissingTokenAccount",Mle);class zle extends ce.ProgramError{constructor(e,t){super("Missing SPL token program",e,t),this.name="MissingSplTokenProgram",this.code=149}}G.MissingSplTokenProgramError=zle;oe.set(149,zle);ae.set("MissingSplTokenProgram",zle);class $le extends ce.ProgramError{constructor(e,t){super("Missing authorization rules program",e,t),this.name="MissingAuthorizationRulesProgram",this.code=150}}G.MissingAuthorizationRulesProgramError=$le;oe.set(150,$le);ae.set("MissingAuthorizationRulesProgram",$le);class Dle extends ce.ProgramError{constructor(e,t){super("Invalid delegate role for transfer",e,t),this.name="InvalidDelegateRoleForTransfer",this.code=151}}G.InvalidDelegateRoleForTransferError=Dle;oe.set(151,Dle);ae.set("InvalidDelegateRoleForTransfer",Dle);class Ole extends ce.ProgramError{constructor(e,t){super("Invalid transfer authority",e,t),this.name="InvalidTransferAuthority",this.code=152}}G.InvalidTransferAuthorityError=Ole;oe.set(152,Ole);ae.set("InvalidTransferAuthority",Ole);class Lle extends ce.ProgramError{constructor(e,t){super("Instruction not supported for ProgrammableNonFungible assets",e,t),this.name="InstructionNotSupported",this.code=153}}G.InstructionNotSupportedError=Lle;oe.set(153,Lle);ae.set("InstructionNotSupported",Lle);class Kle extends ce.ProgramError{constructor(e,t){super("Public key does not match expected value",e,t),this.name="KeyMismatch",this.code=154}}G.KeyMismatchError=Kle;oe.set(154,Kle);ae.set("KeyMismatch",Kle);class Wle extends ce.ProgramError{constructor(e,t){super("Token is locked",e,t),this.name="LockedToken",this.code=155}}G.LockedTokenError=Wle;oe.set(155,Wle);ae.set("LockedToken",Wle);class Nle extends ce.ProgramError{constructor(e,t){super("Token is unlocked",e,t),this.name="UnlockedToken",this.code=156}}G.UnlockedTokenError=Nle;oe.set(156,Nle);ae.set("UnlockedToken",Nle);class Fle extends ce.ProgramError{constructor(e,t){super("Missing delegate role",e,t),this.name="MissingDelegateRole",this.code=157}}G.MissingDelegateRoleError=Fle;oe.set(157,Fle);ae.set("MissingDelegateRole",Fle);class Ule extends ce.ProgramError{constructor(e,t){super("Invalid authority type",e,t),this.name="InvalidAuthorityType",this.code=158}}G.InvalidAuthorityTypeError=Ule;oe.set(158,Ule);ae.set("InvalidAuthorityType",Ule);class Vle extends ce.ProgramError{constructor(e,t){super("Missing token record account",e,t),this.name="MissingTokenRecord",this.code=159}}G.MissingTokenRecordError=Vle;oe.set(159,Vle);ae.set("MissingTokenRecord",Vle);class qle extends ce.ProgramError{constructor(e,t){super("Mint supply must be zero for programmable assets",e,t),this.name="MintSupplyMustBeZero",this.code=160}}G.MintSupplyMustBeZeroError=qle;oe.set(160,qle);ae.set("MintSupplyMustBeZero",qle);class Hle extends ce.ProgramError{constructor(e,t){super("Data is empty or zeroed",e,t),this.name="DataIsEmptyOrZeroed",this.code=161}}G.DataIsEmptyOrZeroedError=Hle;oe.set(161,Hle);ae.set("DataIsEmptyOrZeroed",Hle);class jle extends ce.ProgramError{constructor(e,t){super("Missing token owner",e,t),this.name="MissingTokenOwnerAccount",this.code=162}}G.MissingTokenOwnerAccountError=jle;oe.set(162,jle);ae.set("MissingTokenOwnerAccount",jle);class Gle extends ce.ProgramError{constructor(e,t){super("Master edition account has an invalid length",e,t),this.name="InvalidMasterEditionAccountLength",this.code=163}}G.InvalidMasterEditionAccountLengthError=Gle;oe.set(163,Gle);ae.set("InvalidMasterEditionAccountLength",Gle);class Yle extends ce.ProgramError{constructor(e,t){super("Incorrect token state",e,t),this.name="IncorrectTokenState",this.code=164}}G.IncorrectTokenStateError=Yle;oe.set(164,Yle);ae.set("IncorrectTokenState",Yle);class Zle extends ce.ProgramError{constructor(e,t){super("Invalid delegate role",e,t),this.name="InvalidDelegateRole",this.code=165}}G.InvalidDelegateRoleError=Zle;oe.set(165,Zle);ae.set("InvalidDelegateRole",Zle);class Jle extends ce.ProgramError{constructor(e,t){super("Print supply is required for non-fungibles",e,t),this.name="MissingPrintSupply",this.code=166}}G.MissingPrintSupplyError=Jle;oe.set(166,Jle);ae.set("MissingPrintSupply",Jle);class Xle extends ce.ProgramError{constructor(e,t){super("Missing master edition account",e,t),this.name="MissingMasterEditionAccount",this.code=167}}G.MissingMasterEditionAccountError=Xle;oe.set(167,Xle);ae.set("MissingMasterEditionAccount",Xle);class Qle extends ce.ProgramError{constructor(e,t){super("Amount must be greater than zero",e,t),this.name="AmountMustBeGreaterThanZero",this.code=168}}G.AmountMustBeGreaterThanZeroError=Qle;oe.set(168,Qle);ae.set("AmountMustBeGreaterThanZero",Qle);class ede extends ce.ProgramError{constructor(e,t){super("Invalid delegate args",e,t),this.name="InvalidDelegateArgs",this.code=169}}G.InvalidDelegateArgsError=ede;oe.set(169,ede);ae.set("InvalidDelegateArgs",ede);class tde extends ce.ProgramError{constructor(e,t){super("Missing address for locked transfer",e,t),this.name="MissingLockedTransferAddress",this.code=170}}G.MissingLockedTransferAddressError=tde;oe.set(170,tde);ae.set("MissingLockedTransferAddress",tde);class rde extends ce.ProgramError{constructor(e,t){super("Invalid destination address for locked transfer",e,t),this.name="InvalidLockedTransferAddress",this.code=171}}G.InvalidLockedTransferAddressError=rde;oe.set(171,rde);ae.set("InvalidLockedTransferAddress",rde);class nde extends ce.ProgramError{constructor(e,t){super("Exceeded account realloc increase limit",e,t),this.name="DataIncrementLimitExceeded",this.code=172}}G.DataIncrementLimitExceededError=nde;oe.set(172,nde);ae.set("DataIncrementLimitExceeded",nde);class sde extends ce.ProgramError{constructor(e,t){super("Cannot update the rule set of a programmable asset that has a delegate",e,t),this.name="CannotUpdateAssetWithDelegate",this.code=173}}G.CannotUpdateAssetWithDelegateError=sde;oe.set(173,sde);ae.set("CannotUpdateAssetWithDelegate",sde);class ide extends ce.ProgramError{constructor(e,t){super("Invalid token amount for this operation or token standard",e,t),this.name="InvalidAmount",this.code=174}}G.InvalidAmountError=ide;oe.set(174,ide);ae.set("InvalidAmount",ide);class ode extends ce.ProgramError{constructor(e,t){super("Missing master edition mint account",e,t),this.name="MissingMasterEditionMintAccount",this.code=175}}G.MissingMasterEditionMintAccountError=ode;oe.set(175,ode);ae.set("MissingMasterEditionMintAccount",ode);class ade extends ce.ProgramError{constructor(e,t){super("Missing master edition token account",e,t),this.name="MissingMasterEditionTokenAccount",this.code=176}}G.MissingMasterEditionTokenAccountError=ade;oe.set(176,ade);ae.set("MissingMasterEditionTokenAccount",ade);class cde extends ce.ProgramError{constructor(e,t){super("Missing edition marker account",e,t),this.name="MissingEditionMarkerAccount",this.code=177}}G.MissingEditionMarkerAccountError=cde;oe.set(177,cde);ae.set("MissingEditionMarkerAccount",cde);class ude extends ce.ProgramError{constructor(e,t){super("Cannot burn while persistent delegate is set",e,t),this.name="CannotBurnWithDelegate",this.code=178}}G.CannotBurnWithDelegateError=ude;oe.set(178,ude);ae.set("CannotBurnWithDelegate",ude);class lde extends ce.ProgramError{constructor(e,t){super("Missing edition account",e,t),this.name="MissingEdition",this.code=179}}G.MissingEditionError=lde;oe.set(179,lde);ae.set("MissingEdition",lde);class dde extends ce.ProgramError{constructor(e,t){super("Invalid Associated Token Account Program",e,t),this.name="InvalidAssociatedTokenAccountProgram",this.code=180}}G.InvalidAssociatedTokenAccountProgramError=dde;oe.set(180,dde);ae.set("InvalidAssociatedTokenAccountProgram",dde);class fde extends ce.ProgramError{constructor(e,t){super("Invalid InstructionsSysvar",e,t),this.name="InvalidInstructionsSysvar",this.code=181}}G.InvalidInstructionsSysvarError=fde;oe.set(181,fde);ae.set("InvalidInstructionsSysvar",fde);class hde extends ce.ProgramError{constructor(e,t){super("Invalid or Unneeded parent accounts",e,t),this.name="InvalidParentAccounts",this.code=182}}G.InvalidParentAccountsError=hde;oe.set(182,hde);ae.set("InvalidParentAccounts",hde);class gde extends ce.ProgramError{constructor(e,t){super("Authority cannot apply all update args",e,t),this.name="InvalidUpdateArgs",this.code=183}}G.InvalidUpdateArgsError=gde;oe.set(183,gde);ae.set("InvalidUpdateArgs",gde);class mde extends ce.ProgramError{constructor(e,t){super("Token account does not have enough tokens",e,t),this.name="InsufficientTokenBalance",this.code=184}}G.InsufficientTokenBalanceError=mde;oe.set(184,mde);ae.set("InsufficientTokenBalance",mde);class yde extends ce.ProgramError{constructor(e,t){super("Missing collection account",e,t),this.name="MissingCollectionMint",this.code=185}}G.MissingCollectionMintError=yde;oe.set(185,yde);ae.set("MissingCollectionMint",yde);class pde extends ce.ProgramError{constructor(e,t){super("Missing collection master edition account",e,t),this.name="MissingCollectionMasterEdition",this.code=186}}G.MissingCollectionMasterEditionError=pde;oe.set(186,pde);ae.set("MissingCollectionMasterEdition",pde);class bde extends ce.ProgramError{constructor(e,t){super("Invalid token record account",e,t),this.name="InvalidTokenRecord",this.code=187}}G.InvalidTokenRecordError=bde;oe.set(187,bde);ae.set("InvalidTokenRecord",bde);class Sde extends ce.ProgramError{constructor(e,t){super("The close authority needs to be revoked by the Utility Delegate",e,t),this.name="InvalidCloseAuthority",this.code=188}}G.InvalidCloseAuthorityError=Sde;oe.set(188,Sde);ae.set("InvalidCloseAuthority",Sde);class kde extends ce.ProgramError{constructor(e,t){super("Invalid or removed instruction",e,t),this.name="InvalidInstruction",this.code=189}}G.InvalidInstructionError=kde;oe.set(189,kde);ae.set("InvalidInstruction",kde);class vde extends ce.ProgramError{constructor(e,t){super("Missing delegate record",e,t),this.name="MissingDelegateRecord",this.code=190}}G.MissingDelegateRecordError=vde;oe.set(190,vde);ae.set("MissingDelegateRecord",vde);class Ade extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidFeeAccount",this.code=191}}G.InvalidFeeAccountError=Ade;oe.set(191,Ade);ae.set("InvalidFeeAccount",Ade);class wde extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidMetadataFlags",this.code=192}}G.InvalidMetadataFlagsError=wde;oe.set(192,wde);ae.set("InvalidMetadataFlags",wde);class Ide extends ce.ProgramError{constructor(e,t){super("Cannot change the update authority with a delegate",e,t),this.name="CannotChangeUpdateAuthorityWithDelegate",this.code=193}}G.CannotChangeUpdateAuthorityWithDelegateError=Ide;oe.set(193,Ide);ae.set("CannotChangeUpdateAuthorityWithDelegate",Ide);class _de extends ce.ProgramError{constructor(e,t){super("Invalid mint extension type",e,t),this.name="InvalidMintExtensionType",this.code=194}}G.InvalidMintExtensionTypeError=_de;oe.set(194,_de);ae.set("InvalidMintExtensionType",_de);class Pde extends ce.ProgramError{constructor(e,t){super("Invalid mint close authority",e,t),this.name="InvalidMintCloseAuthority",this.code=195}}G.InvalidMintCloseAuthorityError=Pde;oe.set(195,Pde);ae.set("InvalidMintCloseAuthority",Pde);class Ede extends ce.ProgramError{constructor(e,t){super("Invalid metadata pointer",e,t),this.name="InvalidMetadataPointer",this.code=196}}G.InvalidMetadataPointerError=Ede;oe.set(196,Ede);ae.set("InvalidMetadataPointer",Ede);class xde extends ce.ProgramError{constructor(e,t){super("Invalid token extension type",e,t),this.name="InvalidTokenExtensionType",this.code=197}}G.InvalidTokenExtensionTypeError=xde;oe.set(197,xde);ae.set("InvalidTokenExtensionType",xde);class Tde extends ce.ProgramError{constructor(e,t){super("Missing immutable owner extension",e,t),this.name="MissingImmutableOwnerExtension",this.code=198}}G.MissingImmutableOwnerExtensionError=Tde;oe.set(198,Tde);ae.set("MissingImmutableOwnerExtension",Tde);class Rde extends ce.ProgramError{constructor(e,t){super("Expected account to be uninitialized",e,t),this.name="ExpectedUninitializedAccount",this.code=199}}G.ExpectedUninitializedAccountError=Rde;oe.set(199,Rde);ae.set("ExpectedUninitializedAccount",Rde);class Bde extends ce.ProgramError{constructor(e,t){super("Edition account has an invalid length",e,t),this.name="InvalidEditionAccountLength",this.code=200}}G.InvalidEditionAccountLengthError=Bde;oe.set(200,Bde);ae.set("InvalidEditionAccountLength",Bde);class Cde extends ce.ProgramError{constructor(e,t){super("Account has already been resized",e,t),this.name="AccountAlreadyResized",this.code=201}}G.AccountAlreadyResizedError=Cde;oe.set(201,Cde);ae.set("AccountAlreadyResized",Cde);class Mde extends ce.ProgramError{constructor(e,t){super("Conditions for closing not met",e,t),this.name="ConditionsForClosingNotMet",this.code=202}}G.ConditionsForClosingNotMetError=Mde;oe.set(202,Mde);ae.set("ConditionsForClosingNotMet",Mde);function O6t(n,e,t){const r=oe.get(n);return r?new r(e,t):null}G.getMplTokenMetadataErrorFromCode=O6t;function L6t(n,e,t){const r=ae.get(n);return r?new r(e,t):null}G.getMplTokenMetadataErrorFromName=L6t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(G,n)})(Hae);var COe={},bx={},Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.getAccountMetasAndSigners=Fe.expectPda=Fe.expectPublicKey=Fe.expectSome=void 0;const BM=Z;function K6t(n){if(n==null)throw new Error("Expected a value but received null or undefined.");return n}Fe.expectSome=K6t;function W6t(n){if(!n)throw new Error("Expected a PublicKey.");return(0,BM.publicKey)(n,!1)}Fe.expectPublicKey=W6t;function N6t(n){if(!n||!Array.isArray(n)||!(0,BM.isPda)(n))throw new Error("Expected a PDA.");return n}Fe.expectPda=N6t;function F6t(n,e,t){const r=[],s=[];return n.forEach(i=>{if(!i.value){if(e==="omitted")return;r.push({pubkey:t,isSigner:!1,isWritable:!1});return}(0,BM.isSigner)(i.value)&&s.push(i.value),r.push({pubkey:(0,BM.publicKey)(i.value,!1),isSigner:(0,BM.isSigner)(i.value),isWritable:i.isWritable})}),[r,s]}Fe.getAccountMetasAndSigners=F6t;Object.defineProperty(bx,"__esModule",{value:!0});bx.approveCollectionAuthority=bx.getApproveCollectionAuthorityInstructionDataSerializer=void 0;const U6t=Z,_V=H,V6t=Zt,xSe=Fe;function MOe(){return(0,_V.mapSerializer)((0,_V.struct)([["discriminator",(0,_V.u8)()]],{description:"ApproveCollectionAuthorityInstructionData"}),n=>({...n,discriminator:23}))}bx.getApproveCollectionAuthorityInstructionDataSerializer=MOe;function q6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionAuthorityRecord:{index:0,isWritable:!0,value:e.collectionAuthorityRecord??null},newCollectionAuthority:{index:1,isWritable:!1,value:e.newCollectionAuthority??null},updateAuthority:{index:2,isWritable:!0,value:e.updateAuthority??null},payer:{index:3,isWritable:!0,value:e.payer??null},metadata:{index:4,isWritable:!1,value:e.metadata??null},mint:{index:5,isWritable:!1,value:e.mint??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},rent:{index:7,isWritable:!1,value:e.rent??null}};r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,V6t.findMetadataPda)(n,{mint:(0,xSe.expectPublicKey)(r.mint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,xSe.getAccountMetasAndSigners)(s,"omitted",t),a=MOe().serialize({}),c=0;return(0,U6t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}bx.approveCollectionAuthority=q6t;var Sx={};Object.defineProperty(Sx,"__esModule",{value:!0});Sx.approveUseAuthority=Sx.getApproveUseAuthorityInstructionDataSerializer=void 0;const H6t=Z,SO=H,j6t=Zt,TSe=Fe;function zOe(){return(0,SO.mapSerializer)((0,SO.struct)([["discriminator",(0,SO.u8)()],["numberOfUses",(0,SO.u64)()]],{description:"ApproveUseAuthorityInstructionData"}),n=>({...n,discriminator:20}))}Sx.getApproveUseAuthorityInstructionDataSerializer=zOe;function G6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={useAuthorityRecord:{index:0,isWritable:!0,value:e.useAuthorityRecord??null},owner:{index:1,isWritable:!0,value:e.owner??null},payer:{index:2,isWritable:!0,value:e.payer??null},user:{index:3,isWritable:!1,value:e.user??null},ownerTokenAccount:{index:4,isWritable:!0,value:e.ownerTokenAccount??null},metadata:{index:5,isWritable:!1,value:e.metadata??null},mint:{index:6,isWritable:!1,value:e.mint??null},burner:{index:7,isWritable:!1,value:e.burner??null},tokenProgram:{index:8,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},rent:{index:10,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,j6t.findMetadataPda)(n,{mint:(0,TSe.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,TSe.getAccountMetasAndSigners)(i,"omitted",t),c=zOe().serialize(s),u=0;return(0,H6t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Sx.approveUseAuthority=G6t;var kx={};Object.defineProperty(kx,"__esModule",{value:!0});kx.bubblegumSetCollectionSize=kx.getBubblegumSetCollectionSizeInstructionDataSerializer=void 0;const Y6t=Z,PV=H,Z6t=Fe,J6t=gt;function $Oe(){return(0,PV.mapSerializer)((0,PV.struct)([["discriminator",(0,PV.u8)()],["setCollectionSizeArgs",(0,J6t.getSetCollectionSizeArgsSerializer)()]],{description:"BubblegumSetCollectionSizeInstructionData"}),n=>({...n,discriminator:36}))}kx.getBubblegumSetCollectionSizeInstructionDataSerializer=$Oe;function X6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionMetadata:{index:0,isWritable:!0,value:e.collectionMetadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},bubblegumSigner:{index:3,isWritable:!1,value:e.bubblegumSigner??null},collectionAuthorityRecord:{index:4,isWritable:!1,value:e.collectionAuthorityRecord??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Z6t.getAccountMetasAndSigners)(i,"omitted",t),c=$Oe().serialize(s),u=0;return(0,Y6t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}kx.bubblegumSetCollectionSize=X6t;var vx={};Object.defineProperty(vx,"__esModule",{value:!0});vx.burnEditionNft=vx.getBurnEditionNftInstructionDataSerializer=void 0;const Q6t=Z,EV=H,e5t=Fe;function DOe(){return(0,EV.mapSerializer)((0,EV.struct)([["discriminator",(0,EV.u8)()]],{description:"BurnEditionNftInstructionData"}),n=>({...n,discriminator:37}))}vx.getBurnEditionNftInstructionDataSerializer=DOe;function t5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!0,value:e.owner??null},printEditionMint:{index:2,isWritable:!0,value:e.printEditionMint??null},masterEditionMint:{index:3,isWritable:!1,value:e.masterEditionMint??null},printEditionTokenAccount:{index:4,isWritable:!0,value:e.printEditionTokenAccount??null},masterEditionTokenAccount:{index:5,isWritable:!1,value:e.masterEditionTokenAccount??null},masterEditionAccount:{index:6,isWritable:!0,value:e.masterEditionAccount??null},printEditionAccount:{index:7,isWritable:!0,value:e.printEditionAccount??null},editionMarkerAccount:{index:8,isWritable:!0,value:e.editionMarkerAccount??null},splTokenProgram:{index:9,isWritable:!1,value:e.splTokenProgram??null}};r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,e5t.getAccountMetasAndSigners)(s,"programId",t),a=DOe().serialize({}),c=0;return(0,Q6t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}vx.burnEditionNft=t5t;var Ax={};Object.defineProperty(Ax,"__esModule",{value:!0});Ax.burnNft=Ax.getBurnNftInstructionDataSerializer=void 0;const r5t=Z,xV=H,n5t=Zt,RSe=Fe;function OOe(){return(0,xV.mapSerializer)((0,xV.struct)([["discriminator",(0,xV.u8)()]],{description:"BurnNftInstructionData"}),n=>({...n,discriminator:29}))}Ax.getBurnNftInstructionDataSerializer=OOe;function s5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!0,value:e.owner??null},mint:{index:2,isWritable:!0,value:e.mint??null},tokenAccount:{index:3,isWritable:!0,value:e.tokenAccount??null},masterEditionAccount:{index:4,isWritable:!0,value:e.masterEditionAccount??null},splTokenProgram:{index:5,isWritable:!1,value:e.splTokenProgram??null},collectionMetadata:{index:6,isWritable:!0,value:e.collectionMetadata??null}};r.metadata.value||(r.metadata.value=(0,n5t.findMetadataPda)(n,{mint:(0,RSe.expectPublicKey)(r.mint.value)})),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,RSe.getAccountMetasAndSigners)(s,"omitted",t),a=OOe().serialize({}),c=0;return(0,r5t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Ax.burnNft=s5t;var wx={};Object.defineProperty(wx,"__esModule",{value:!0});wx.burnV1=wx.getBurnV1InstructionDataSerializer=void 0;const i5t=gi,BSe=Z,TC=H,o5t=Sn,kO=Zt,dp=Fe,a5t=gt;function LOe(){return(0,TC.mapSerializer)((0,TC.struct)([["discriminator",(0,TC.u8)()],["burnV1Discriminator",(0,TC.u8)()],["amount",(0,TC.u64)()]],{description:"BurnV1InstructionData"}),n=>({...n,discriminator:41,burnV1Discriminator:0,amount:n.amount??1}))}wx.getBurnV1InstructionDataSerializer=LOe;function c5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!0,value:e.authority??null},collectionMetadata:{index:1,isWritable:!0,value:e.collectionMetadata??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},edition:{index:3,isWritable:!0,value:e.edition??null},mint:{index:4,isWritable:!0,value:e.mint??null},token:{index:5,isWritable:!0,value:e.token??null},masterEdition:{index:6,isWritable:!0,value:e.masterEdition??null},masterEditionMint:{index:7,isWritable:!1,value:e.masterEditionMint??null},masterEditionToken:{index:8,isWritable:!1,value:e.masterEditionToken??null},editionMarker:{index:9,isWritable:!0,value:e.editionMarker??null},tokenRecord:{index:10,isWritable:!0,value:e.tokenRecord??null},systemProgram:{index:11,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:12,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:13,isWritable:!1,value:e.splTokenProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,kO.findMetadataPda)(n,{mint:(0,dp.expectPublicKey)(r.mint.value)})),r.edition.value||(0,o5t.resolveIsNonFungible)(n,r,s,t,!0)&&(r.edition.value=(0,kO.findMasterEditionPda)(n,{mint:(0,dp.expectPublicKey)(r.mint.value)})),s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,i5t.findAssociatedTokenPda)(n,{mint:(0,dp.expectPublicKey)(r.mint.value),owner:(0,dp.expectSome)(s.tokenOwner)})),r.masterEdition.value||r.masterEditionMint.value&&(r.masterEdition.value=(0,kO.findMasterEditionPda)(n,{mint:(0,dp.expectPublicKey)(r.masterEditionMint.value)})),r.tokenRecord.value||s.tokenStandard===a5t.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,kO.findTokenRecordPda)(n,{mint:(0,dp.expectPublicKey)(r.mint.value),token:(0,dp.expectPublicKey)(r.token.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,BSe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,dp.getAccountMetasAndSigners)(i,"programId",t),c=LOe().serialize(s),u=0;return(0,BSe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}wx.burnV1=c5t;var Ix={};Object.defineProperty(Ix,"__esModule",{value:!0});Ix.closeAccounts=Ix.getCloseAccountsInstructionDataSerializer=void 0;const u5t=Z,TV=H,CSe=Zt,RV=Fe;function KOe(){return(0,TV.mapSerializer)((0,TV.struct)([["discriminator",(0,TV.u8)()]],{description:"CloseAccountsInstructionData"}),n=>({...n,discriminator:57}))}Ix.getCloseAccountsInstructionDataSerializer=KOe;function l5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},mint:{index:2,isWritable:!0,value:e.mint??null},authority:{index:3,isWritable:!1,value:e.authority??null},destination:{index:4,isWritable:!0,value:e.destination??null}};r.metadata.value||(r.metadata.value=(0,CSe.findMetadataPda)(n,{mint:(0,RV.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,CSe.findMasterEditionPda)(n,{mint:(0,RV.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,RV.getAccountMetasAndSigners)(s,"programId",t),a=KOe().serialize({}),c=0;return(0,u5t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Ix.closeAccounts=l5t;var _x={};Object.defineProperty(_x,"__esModule",{value:!0});_x.closeEscrowAccount=_x.getCloseEscrowAccountInstructionDataSerializer=void 0;const MSe=Z,BV=H,zSe=Zt,CV=Fe;function WOe(){return(0,BV.mapSerializer)((0,BV.struct)([["discriminator",(0,BV.u8)()]],{description:"CloseEscrowAccountInstructionData"}),n=>({...n,discriminator:39}))}_x.getCloseEscrowAccountInstructionDataSerializer=WOe;function d5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!0,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},mint:{index:2,isWritable:!1,value:e.mint??null},tokenAccount:{index:3,isWritable:!1,value:e.tokenAccount??null},edition:{index:4,isWritable:!1,value:e.edition??null},payer:{index:5,isWritable:!0,value:e.payer??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.metadata.value||(r.metadata.value=(0,zSe.findMetadataPda)(n,{mint:(0,CV.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,zSe.findMasterEditionPda)(n,{mint:(0,CV.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,MSe.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,CV.getAccountMetasAndSigners)(s,"programId",t),a=WOe().serialize({}),c=0;return(0,MSe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}_x.closeEscrowAccount=d5t;var Px={};Object.defineProperty(Px,"__esModule",{value:!0});Px.collect=Px.getCollectInstructionDataSerializer=void 0;const f5t=Z,MV=H,h5t=Fe;function NOe(){return(0,MV.mapSerializer)((0,MV.struct)([["discriminator",(0,MV.u8)()]],{description:"CollectInstructionData"}),n=>({...n,discriminator:54}))}Px.getCollectInstructionDataSerializer=NOe;function g5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},recipient:{index:1,isWritable:!1,value:e.recipient??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,h5t.getAccountMetasAndSigners)(s,"programId",t),a=NOe().serialize({}),c=0;return(0,f5t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Px.collect=g5t;var Ex={};Object.defineProperty(Ex,"__esModule",{value:!0});Ex.convertMasterEditionV1ToV2=Ex.getConvertMasterEditionV1ToV2InstructionDataSerializer=void 0;const m5t=Z,zV=H,y5t=Fe;function FOe(){return(0,zV.mapSerializer)((0,zV.struct)([["discriminator",(0,zV.u8)()]],{description:"ConvertMasterEditionV1ToV2InstructionData"}),n=>({...n,discriminator:12}))}Ex.getConvertMasterEditionV1ToV2InstructionDataSerializer=FOe;function p5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={masterEdition:{index:0,isWritable:!0,value:e.masterEdition??null},oneTimeAuth:{index:1,isWritable:!0,value:e.oneTimeAuth??null},printingMint:{index:2,isWritable:!0,value:e.printingMint??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,y5t.getAccountMetasAndSigners)(s,"programId",t),a=FOe().serialize({}),c=0;return(0,m5t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Ex.convertMasterEditionV1ToV2=p5t;var xx={};Object.defineProperty(xx,"__esModule",{value:!0});xx.createEscrowAccount=xx.getCreateEscrowAccountInstructionDataSerializer=void 0;const $Se=Z,$V=H,DSe=Zt,DV=Fe;function UOe(){return(0,$V.mapSerializer)((0,$V.struct)([["discriminator",(0,$V.u8)()]],{description:"CreateEscrowAccountInstructionData"}),n=>({...n,discriminator:38}))}xx.getCreateEscrowAccountInstructionDataSerializer=UOe;function b5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!0,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},mint:{index:2,isWritable:!1,value:e.mint??null},tokenAccount:{index:3,isWritable:!1,value:e.tokenAccount??null},edition:{index:4,isWritable:!1,value:e.edition??null},payer:{index:5,isWritable:!0,value:e.payer??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null},authority:{index:8,isWritable:!1,value:e.authority??null}};r.metadata.value||(r.metadata.value=(0,DSe.findMetadataPda)(n,{mint:(0,DV.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,DSe.findMasterEditionPda)(n,{mint:(0,DV.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,$Se.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,DV.getAccountMetasAndSigners)(s,"omitted",t),a=UOe().serialize({}),c=0;return(0,$Se.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}xx.createEscrowAccount=b5t;var Tx={};Object.defineProperty(Tx,"__esModule",{value:!0});Tx.createMasterEditionV3=Tx.getCreateMasterEditionV3InstructionDataSerializer=void 0;const S5t=Z,RC=H,OSe=Zt,OV=Fe;function VOe(){return(0,RC.mapSerializer)((0,RC.struct)([["discriminator",(0,RC.u8)()],["maxSupply",(0,RC.option)((0,RC.u64)())]],{description:"CreateMasterEditionV3InstructionData"}),n=>({...n,discriminator:17}))}Tx.getCreateMasterEditionV3InstructionDataSerializer=VOe;function k5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={edition:{index:0,isWritable:!0,value:e.edition??null},mint:{index:1,isWritable:!0,value:e.mint??null},updateAuthority:{index:2,isWritable:!1,value:e.updateAuthority??null},mintAuthority:{index:3,isWritable:!1,value:e.mintAuthority??null},payer:{index:4,isWritable:!0,value:e.payer??null},metadata:{index:5,isWritable:!0,value:e.metadata??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null}},s={...e};r.edition.value||(r.edition.value=(0,OSe.findMasterEditionPda)(n,{mint:(0,OV.expectPublicKey)(r.mint.value)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,OSe.findMetadataPda)(n,{mint:(0,OV.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,OV.getAccountMetasAndSigners)(i,"omitted",t),c=VOe().serialize(s),u=0;return(0,S5t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Tx.createMasterEditionV3=k5t;var Rx={};Object.defineProperty(Rx,"__esModule",{value:!0});Rx.createMetadataAccountV3=Rx.getCreateMetadataAccountV3InstructionDataSerializer=void 0;const v5t=Z,BC=H,A5t=Zt,LSe=Fe,KSe=gt;function qOe(){return(0,BC.mapSerializer)((0,BC.struct)([["discriminator",(0,BC.u8)()],["data",(0,KSe.getDataV2Serializer)()],["isMutable",(0,BC.bool)()],["collectionDetails",(0,BC.option)((0,KSe.getCollectionDetailsSerializer)())]],{description:"CreateMetadataAccountV3InstructionData"}),n=>({...n,discriminator:33}))}Rx.getCreateMetadataAccountV3InstructionDataSerializer=qOe;function w5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},mint:{index:1,isWritable:!1,value:e.mint??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null},payer:{index:3,isWritable:!0,value:e.payer??null},updateAuthority:{index:4,isWritable:!1,value:e.updateAuthority??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},rent:{index:6,isWritable:!1,value:e.rent??null}},s={...e};r.metadata.value||(r.metadata.value=(0,A5t.findMetadataPda)(n,{mint:(0,LSe.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,LSe.getAccountMetasAndSigners)(i,"omitted",t),c=qOe().serialize(s),u=0;return(0,v5t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Rx.createMetadataAccountV3=w5t;var Bx={};Object.defineProperty(Bx,"__esModule",{value:!0});Bx.createV1=Bx.getCreateV1InstructionDataSerializer=void 0;const rw=Z,ha=H,M1=Sn,WSe=Zt,vO=Fe,wp=gt;function HOe(){return(0,ha.mapSerializer)((0,ha.struct)([["discriminator",(0,ha.u8)()],["createV1Discriminator",(0,ha.u8)()],["name",(0,ha.string)()],["symbol",(0,ha.string)()],["uri",(0,ha.string)()],["sellerFeeBasisPoints",(0,rw.mapAmountSerializer)((0,ha.u16)(),"%",2)],["creators",(0,ha.option)((0,ha.array)((0,wp.getCreatorSerializer)()))],["primarySaleHappened",(0,ha.bool)()],["isMutable",(0,ha.bool)()],["tokenStandard",(0,wp.getTokenStandardSerializer)()],["collection",(0,ha.option)((0,wp.getCollectionSerializer)())],["uses",(0,ha.option)((0,wp.getUsesSerializer)())],["collectionDetails",(0,ha.option)((0,wp.getCollectionDetailsSerializer)())],["ruleSet",(0,ha.option)((0,ha.publicKey)())],["decimals",(0,ha.option)((0,ha.u8)())],["printSupply",(0,ha.option)((0,wp.getPrintSupplySerializer)())]],{description:"CreateV1InstructionData"}),n=>({...n,discriminator:42,createV1Discriminator:0,symbol:n.symbol??"",primarySaleHappened:n.primarySaleHappened??!1,isMutable:n.isMutable??!0,tokenStandard:n.tokenStandard??wp.TokenStandard.NonFungible,collection:n.collection??(0,rw.none)(),uses:n.uses??(0,rw.none)(),ruleSet:n.ruleSet??(0,rw.none)()}))}Bx.getCreateV1InstructionDataSerializer=HOe;function I5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},masterEdition:{index:1,isWritable:!0,value:e.masterEdition??null},mint:{index:2,isWritable:!0,value:e.mint??null},authority:{index:3,isWritable:!1,value:e.authority??null},payer:{index:4,isWritable:!0,value:e.payer??null},updateAuthority:{index:5,isWritable:!1,value:e.updateAuthority??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:8,isWritable:!1,value:e.splTokenProgram??null}},s={...e};r.metadata.value||(r.metadata.value=(0,WSe.findMetadataPda)(n,{mint:(0,vO.expectPublicKey)(r.mint.value)})),s.tokenStandard||(s.tokenStandard=wp.TokenStandard.NonFungible),r.masterEdition.value||(0,M1.resolveIsNonFungible)(n,r,s,t,!0)&&(r.masterEdition.value=(0,WSe.findMasterEditionPda)(n,{mint:(0,vO.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=(0,vO.expectSome)(r.authority.value)),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,rw.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(0,M1.resolveIsNonFungibleOrIsMintSigner)(n,r,s,t,!1)&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),s.creators||(s.creators=(0,M1.resolveCreators)(n,r,s,t,!1)),s.isCollection||(s.isCollection=!1),s.collectionDetails||(s.collectionDetails=(0,M1.resolveCollectionDetails)(n,r,s,t,!1)),s.decimals||(s.decimals=(0,M1.resolveDecimals)(n,r,s,t,!1)),s.printSupply||(s.printSupply=(0,M1.resolvePrintSupply)(n,r,s,t,!1));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,vO.getAccountMetasAndSigners)(i,"programId",t),c=HOe().serialize(s),u=(0,M1.resolveCreateV1Bytes)(n,r,s,t);return(0,rw.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Bx.createV1=I5t;var Cx={};Object.defineProperty(Cx,"__esModule",{value:!0});Cx.delegateAuthorityItemV1=Cx.getDelegateAuthorityItemV1InstructionDataSerializer=void 0;const wY=Z,CC=H,_5t=Sn,LV=Zt,z1=Fe,jOe=gt;function GOe(){return(0,CC.mapSerializer)((0,CC.struct)([["discriminator",(0,CC.u8)()],["delegateAuthorityItemV1Discriminator",(0,CC.u8)()],["authorizationData",(0,CC.option)((0,jOe.getAuthorizationDataSerializer)())]],{description:"DelegateAuthorityItemV1InstructionData"}),n=>({...n,discriminator:44,delegateAuthorityItemV1Discriminator:9,authorizationData:n.authorizationData??(0,wY.none)()}))}Cx.getDelegateAuthorityItemV1InstructionDataSerializer=GOe;function P5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,z1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,LV.findMetadataDelegateRecordPda)(n,{delegateRole:jOe.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,z1.expectSome)(s.updateAuthority),mint:(0,z1.expectPublicKey)(r.mint.value),delegate:(0,z1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,LV.findMetadataPda)(n,{mint:(0,z1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,_5t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,LV.findMasterEditionPda)(n,{mint:(0,z1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,wY.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,z1.getAccountMetasAndSigners)(i,"programId",t),c=GOe().serialize(s),u=0;return(0,wY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Cx.delegateAuthorityItemV1=P5t;var Mx={};Object.defineProperty(Mx,"__esModule",{value:!0});Mx.delegateCollectionItemV1=Mx.getDelegateCollectionItemV1InstructionDataSerializer=void 0;const IY=Z,MC=H,E5t=Sn,KV=Zt,$1=Fe,YOe=gt;function ZOe(){return(0,MC.mapSerializer)((0,MC.struct)([["discriminator",(0,MC.u8)()],["delegateCollectionItemV1Discriminator",(0,MC.u8)()],["authorizationData",(0,MC.option)((0,YOe.getAuthorizationDataSerializer)())]],{description:"DelegateCollectionItemV1InstructionData"}),n=>({...n,discriminator:44,delegateCollectionItemV1Discriminator:11,authorizationData:n.authorizationData??(0,IY.none)()}))}Mx.getDelegateCollectionItemV1InstructionDataSerializer=ZOe;function x5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,$1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,KV.findMetadataDelegateRecordPda)(n,{delegateRole:YOe.MetadataDelegateRole.CollectionItem,updateAuthority:(0,$1.expectSome)(s.updateAuthority),mint:(0,$1.expectPublicKey)(r.mint.value),delegate:(0,$1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,KV.findMetadataPda)(n,{mint:(0,$1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,E5t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,KV.findMasterEditionPda)(n,{mint:(0,$1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,IY.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,$1.getAccountMetasAndSigners)(i,"programId",t),c=ZOe().serialize(s),u=0;return(0,IY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Mx.delegateCollectionItemV1=x5t;var zx={};Object.defineProperty(zx,"__esModule",{value:!0});zx.delegateCollectionV1=zx.getDelegateCollectionV1InstructionDataSerializer=void 0;const _Y=Z,zC=H,T5t=Sn,WV=Zt,D1=Fe,JOe=gt;function XOe(){return(0,zC.mapSerializer)((0,zC.struct)([["discriminator",(0,zC.u8)()],["delegateCollectionV1Discriminator",(0,zC.u8)()],["authorizationData",(0,zC.option)((0,JOe.getAuthorizationDataSerializer)())]],{description:"DelegateCollectionV1InstructionData"}),n=>({...n,discriminator:44,delegateCollectionV1Discriminator:0,authorizationData:n.authorizationData??(0,_Y.none)()}))}zx.getDelegateCollectionV1InstructionDataSerializer=XOe;function R5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,D1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,WV.findMetadataDelegateRecordPda)(n,{delegateRole:JOe.MetadataDelegateRole.Collection,updateAuthority:(0,D1.expectSome)(s.updateAuthority),mint:(0,D1.expectPublicKey)(r.mint.value),delegate:(0,D1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,WV.findMetadataPda)(n,{mint:(0,D1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,T5t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,WV.findMasterEditionPda)(n,{mint:(0,D1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,_Y.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,D1.getAccountMetasAndSigners)(i,"programId",t),c=XOe().serialize(s),u=0;return(0,_Y.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}zx.delegateCollectionV1=R5t;var $x={};Object.defineProperty($x,"__esModule",{value:!0});$x.delegateDataItemV1=$x.getDelegateDataItemV1InstructionDataSerializer=void 0;const PY=Z,$C=H,B5t=Sn,NV=Zt,O1=Fe,QOe=gt;function eLe(){return(0,$C.mapSerializer)((0,$C.struct)([["discriminator",(0,$C.u8)()],["delegateDataItemV1Discriminator",(0,$C.u8)()],["authorizationData",(0,$C.option)((0,QOe.getAuthorizationDataSerializer)())]],{description:"DelegateDataItemV1InstructionData"}),n=>({...n,discriminator:44,delegateDataItemV1Discriminator:10,authorizationData:n.authorizationData??(0,PY.none)()}))}$x.getDelegateDataItemV1InstructionDataSerializer=eLe;function C5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,O1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,NV.findMetadataDelegateRecordPda)(n,{delegateRole:QOe.MetadataDelegateRole.DataItem,updateAuthority:(0,O1.expectSome)(s.updateAuthority),mint:(0,O1.expectPublicKey)(r.mint.value),delegate:(0,O1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,NV.findMetadataPda)(n,{mint:(0,O1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,B5t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,NV.findMasterEditionPda)(n,{mint:(0,O1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,PY.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,O1.getAccountMetasAndSigners)(i,"programId",t),c=eLe().serialize(s),u=0;return(0,PY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}$x.delegateDataItemV1=C5t;var Dx={};Object.defineProperty(Dx,"__esModule",{value:!0});Dx.delegateDataV1=Dx.getDelegateDataV1InstructionDataSerializer=void 0;const EY=Z,DC=H,M5t=Sn,FV=Zt,L1=Fe,tLe=gt;function rLe(){return(0,DC.mapSerializer)((0,DC.struct)([["discriminator",(0,DC.u8)()],["delegateDataV1Discriminator",(0,DC.u8)()],["authorizationData",(0,DC.option)((0,tLe.getAuthorizationDataSerializer)())]],{description:"DelegateDataV1InstructionData"}),n=>({...n,discriminator:44,delegateDataV1Discriminator:3,authorizationData:n.authorizationData??(0,EY.none)()}))}Dx.getDelegateDataV1InstructionDataSerializer=rLe;function z5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,L1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,FV.findMetadataDelegateRecordPda)(n,{delegateRole:tLe.MetadataDelegateRole.Data,updateAuthority:(0,L1.expectSome)(s.updateAuthority),mint:(0,L1.expectPublicKey)(r.mint.value),delegate:(0,L1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,FV.findMetadataPda)(n,{mint:(0,L1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,M5t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,FV.findMasterEditionPda)(n,{mint:(0,L1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,EY.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,L1.getAccountMetasAndSigners)(i,"programId",t),c=rLe().serialize(s),u=0;return(0,EY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Dx.delegateDataV1=z5t;var Ox={};Object.defineProperty(Ox,"__esModule",{value:!0});Ox.delegateLockedTransferV1=Ox.getDelegateLockedTransferV1InstructionDataSerializer=void 0;const $5t=gi,xY=Z,K1=H,D5t=Sn,AO=Zt,tm=Fe,nLe=gt;function sLe(){return(0,K1.mapSerializer)((0,K1.struct)([["discriminator",(0,K1.u8)()],["delegateLockedTransferV1Discriminator",(0,K1.u8)()],["amount",(0,K1.u64)()],["lockedAddress",(0,K1.publicKey)()],["authorizationData",(0,K1.option)((0,nLe.getAuthorizationDataSerializer)())]],{description:"DelegateLockedTransferV1InstructionData"}),n=>({...n,discriminator:44,delegateLockedTransferV1Discriminator:7,amount:n.amount??1,authorizationData:n.authorizationData??(0,xY.none)()}))}Ox.getDelegateLockedTransferV1InstructionDataSerializer=sLe;function O5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,$5t.findAssociatedTokenPda)(n,{mint:(0,tm.expectPublicKey)(r.mint.value),owner:(0,tm.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,AO.findTokenRecordPda)(n,{mint:(0,tm.expectPublicKey)(r.mint.value),token:(0,tm.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,AO.findMetadataPda)(n,{mint:(0,tm.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,D5t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,AO.findMasterEditionPda)(n,{mint:(0,tm.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===nLe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,AO.findTokenRecordPda)(n,{mint:(0,tm.expectPublicKey)(r.mint.value),token:(0,tm.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,xY.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,tm.getAccountMetasAndSigners)(i,"programId",t),c=sLe().serialize(s),u=0;return(0,xY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Ox.delegateLockedTransferV1=O5t;var Lx={};Object.defineProperty(Lx,"__esModule",{value:!0});Lx.delegatePrintDelegateV1=Lx.getDelegatePrintDelegateV1InstructionDataSerializer=void 0;const TY=Z,OC=H,L5t=Sn,NSe=Zt,UV=Fe,K5t=gt;function iLe(){return(0,OC.mapSerializer)((0,OC.struct)([["discriminator",(0,OC.u8)()],["delegatePrintDelegateV1Discriminator",(0,OC.u8)()],["authorizationData",(0,OC.option)((0,K5t.getAuthorizationDataSerializer)())]],{description:"DelegatePrintDelegateV1InstructionData"}),n=>({...n,discriminator:44,delegatePrintDelegateV1Discriminator:13,authorizationData:n.authorizationData??(0,TY.none)()}))}Lx.getDelegatePrintDelegateV1InstructionDataSerializer=iLe;function W5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.metadata.value||(r.metadata.value=(0,NSe.findMetadataPda)(n,{mint:(0,UV.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,L5t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,NSe.findMasterEditionPda)(n,{mint:(0,UV.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,TY.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,UV.getAccountMetasAndSigners)(i,"programId",t),c=iLe().serialize(s),u=0;return(0,TY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Lx.delegatePrintDelegateV1=W5t;var Kx={};Object.defineProperty(Kx,"__esModule",{value:!0});Kx.delegateProgrammableConfigItemV1=Kx.getDelegateProgrammableConfigItemV1InstructionDataSerializer=void 0;const RY=Z,LC=H,N5t=Sn,VV=Zt,W1=Fe,oLe=gt;function aLe(){return(0,LC.mapSerializer)((0,LC.struct)([["discriminator",(0,LC.u8)()],["delegateProgrammableConfigItemV1Discriminator",(0,LC.u8)()],["authorizationData",(0,LC.option)((0,oLe.getAuthorizationDataSerializer)())]],{description:"DelegateProgrammableConfigItemV1InstructionData"}),n=>({...n,discriminator:44,delegateProgrammableConfigItemV1Discriminator:12,authorizationData:n.authorizationData??(0,RY.none)()}))}Kx.getDelegateProgrammableConfigItemV1InstructionDataSerializer=aLe;function F5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,W1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,VV.findMetadataDelegateRecordPda)(n,{delegateRole:oLe.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,W1.expectSome)(s.updateAuthority),mint:(0,W1.expectPublicKey)(r.mint.value),delegate:(0,W1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,VV.findMetadataPda)(n,{mint:(0,W1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,N5t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,VV.findMasterEditionPda)(n,{mint:(0,W1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,RY.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,W1.getAccountMetasAndSigners)(i,"programId",t),c=aLe().serialize(s),u=0;return(0,RY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Kx.delegateProgrammableConfigItemV1=F5t;var Wx={};Object.defineProperty(Wx,"__esModule",{value:!0});Wx.delegateProgrammableConfigV1=Wx.getDelegateProgrammableConfigV1InstructionDataSerializer=void 0;const BY=Z,KC=H,U5t=Sn,qV=Zt,N1=Fe,cLe=gt;function uLe(){return(0,KC.mapSerializer)((0,KC.struct)([["discriminator",(0,KC.u8)()],["delegateProgrammableConfigV1Discriminator",(0,KC.u8)()],["authorizationData",(0,KC.option)((0,cLe.getAuthorizationDataSerializer)())]],{description:"DelegateProgrammableConfigV1InstructionData"}),n=>({...n,discriminator:44,delegateProgrammableConfigV1Discriminator:8,authorizationData:n.authorizationData??(0,BY.none)()}))}Wx.getDelegateProgrammableConfigV1InstructionDataSerializer=uLe;function V5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,N1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,qV.findMetadataDelegateRecordPda)(n,{delegateRole:cLe.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,N1.expectSome)(s.updateAuthority),mint:(0,N1.expectPublicKey)(r.mint.value),delegate:(0,N1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,qV.findMetadataPda)(n,{mint:(0,N1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,U5t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,qV.findMasterEditionPda)(n,{mint:(0,N1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,BY.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,N1.getAccountMetasAndSigners)(i,"programId",t),c=uLe().serialize(s),u=0;return(0,BY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Wx.delegateProgrammableConfigV1=V5t;var Nx={};Object.defineProperty(Nx,"__esModule",{value:!0});Nx.delegateSaleV1=Nx.getDelegateSaleV1InstructionDataSerializer=void 0;const q5t=gi,CY=Z,vA=H,H5t=Sn,wO=Zt,rm=Fe,lLe=gt;function dLe(){return(0,vA.mapSerializer)((0,vA.struct)([["discriminator",(0,vA.u8)()],["delegateSaleV1Discriminator",(0,vA.u8)()],["amount",(0,vA.u64)()],["authorizationData",(0,vA.option)((0,lLe.getAuthorizationDataSerializer)())]],{description:"DelegateSaleV1InstructionData"}),n=>({...n,discriminator:44,delegateSaleV1Discriminator:1,amount:n.amount??1,authorizationData:n.authorizationData??(0,CY.none)()}))}Nx.getDelegateSaleV1InstructionDataSerializer=dLe;function j5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,q5t.findAssociatedTokenPda)(n,{mint:(0,rm.expectPublicKey)(r.mint.value),owner:(0,rm.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,wO.findTokenRecordPda)(n,{mint:(0,rm.expectPublicKey)(r.mint.value),token:(0,rm.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,wO.findMetadataPda)(n,{mint:(0,rm.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,H5t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,wO.findMasterEditionPda)(n,{mint:(0,rm.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===lLe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,wO.findTokenRecordPda)(n,{mint:(0,rm.expectPublicKey)(r.mint.value),token:(0,rm.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,CY.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,rm.getAccountMetasAndSigners)(i,"programId",t),c=dLe().serialize(s),u=0;return(0,CY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Nx.delegateSaleV1=j5t;var Fx={};Object.defineProperty(Fx,"__esModule",{value:!0});Fx.delegateStakingV1=Fx.getDelegateStakingV1InstructionDataSerializer=void 0;const G5t=gi,MY=Z,AA=H,Y5t=Sn,IO=Zt,nm=Fe,fLe=gt;function hLe(){return(0,AA.mapSerializer)((0,AA.struct)([["discriminator",(0,AA.u8)()],["delegateStakingV1Discriminator",(0,AA.u8)()],["amount",(0,AA.u64)()],["authorizationData",(0,AA.option)((0,fLe.getAuthorizationDataSerializer)())]],{description:"DelegateStakingV1InstructionData"}),n=>({...n,discriminator:44,delegateStakingV1Discriminator:5,amount:n.amount??1,authorizationData:n.authorizationData??(0,MY.none)()}))}Fx.getDelegateStakingV1InstructionDataSerializer=hLe;function Z5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,G5t.findAssociatedTokenPda)(n,{mint:(0,nm.expectPublicKey)(r.mint.value),owner:(0,nm.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,IO.findTokenRecordPda)(n,{mint:(0,nm.expectPublicKey)(r.mint.value),token:(0,nm.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,IO.findMetadataPda)(n,{mint:(0,nm.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,Y5t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,IO.findMasterEditionPda)(n,{mint:(0,nm.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===fLe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,IO.findTokenRecordPda)(n,{mint:(0,nm.expectPublicKey)(r.mint.value),token:(0,nm.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,MY.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,nm.getAccountMetasAndSigners)(i,"programId",t),c=hLe().serialize(s),u=0;return(0,MY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Fx.delegateStakingV1=Z5t;var Ux={};Object.defineProperty(Ux,"__esModule",{value:!0});Ux.delegateStandardV1=Ux.getDelegateStandardV1InstructionDataSerializer=void 0;const J5t=gi,FSe=Z,WC=H,X5t=Sn,HV=Zt,F1=Fe;function gLe(){return(0,WC.mapSerializer)((0,WC.struct)([["discriminator",(0,WC.u8)()],["delegateStandardV1Discriminator",(0,WC.u8)()],["amount",(0,WC.u64)()]],{description:"DelegateStandardV1InstructionData"}),n=>({...n,discriminator:44,delegateStandardV1Discriminator:6,amount:n.amount??1}))}Ux.getDelegateStandardV1InstructionDataSerializer=gLe;function Q5t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,J5t.findAssociatedTokenPda)(n,{mint:(0,F1.expectPublicKey)(r.mint.value),owner:(0,F1.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,HV.findTokenRecordPda)(n,{mint:(0,F1.expectPublicKey)(r.mint.value),token:(0,F1.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,HV.findMetadataPda)(n,{mint:(0,F1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,X5t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,HV.findMasterEditionPda)(n,{mint:(0,F1.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,FSe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,F1.getAccountMetasAndSigners)(i,"programId",t),c=gLe().serialize(s),u=0;return(0,FSe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Ux.delegateStandardV1=Q5t;var Vx={};Object.defineProperty(Vx,"__esModule",{value:!0});Vx.delegateTransferV1=Vx.getDelegateTransferV1InstructionDataSerializer=void 0;const eWt=gi,zY=Z,wA=H,tWt=Sn,_O=Zt,sm=Fe,mLe=gt;function yLe(){return(0,wA.mapSerializer)((0,wA.struct)([["discriminator",(0,wA.u8)()],["delegateTransferV1Discriminator",(0,wA.u8)()],["amount",(0,wA.u64)()],["authorizationData",(0,wA.option)((0,mLe.getAuthorizationDataSerializer)())]],{description:"DelegateTransferV1InstructionData"}),n=>({...n,discriminator:44,delegateTransferV1Discriminator:2,amount:n.amount??1,authorizationData:n.authorizationData??(0,zY.none)()}))}Vx.getDelegateTransferV1InstructionDataSerializer=yLe;function rWt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,eWt.findAssociatedTokenPda)(n,{mint:(0,sm.expectPublicKey)(r.mint.value),owner:(0,sm.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,_O.findTokenRecordPda)(n,{mint:(0,sm.expectPublicKey)(r.mint.value),token:(0,sm.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,_O.findMetadataPda)(n,{mint:(0,sm.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,tWt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,_O.findMasterEditionPda)(n,{mint:(0,sm.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===mLe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,_O.findTokenRecordPda)(n,{mint:(0,sm.expectPublicKey)(r.mint.value),token:(0,sm.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,zY.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,sm.getAccountMetasAndSigners)(i,"programId",t),c=yLe().serialize(s),u=0;return(0,zY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Vx.delegateTransferV1=rWt;var qx={};Object.defineProperty(qx,"__esModule",{value:!0});qx.delegateUtilityV1=qx.getDelegateUtilityV1InstructionDataSerializer=void 0;const nWt=gi,$Y=Z,IA=H,sWt=Sn,PO=Zt,im=Fe,pLe=gt;function bLe(){return(0,IA.mapSerializer)((0,IA.struct)([["discriminator",(0,IA.u8)()],["delegateUtilityV1Discriminator",(0,IA.u8)()],["amount",(0,IA.u64)()],["authorizationData",(0,IA.option)((0,pLe.getAuthorizationDataSerializer)())]],{description:"DelegateUtilityV1InstructionData"}),n=>({...n,discriminator:44,delegateUtilityV1Discriminator:4,amount:n.amount??1,authorizationData:n.authorizationData??(0,$Y.none)()}))}qx.getDelegateUtilityV1InstructionDataSerializer=bLe;function iWt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,nWt.findAssociatedTokenPda)(n,{mint:(0,im.expectPublicKey)(r.mint.value),owner:(0,im.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,PO.findTokenRecordPda)(n,{mint:(0,im.expectPublicKey)(r.mint.value),token:(0,im.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,PO.findMetadataPda)(n,{mint:(0,im.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,sWt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,PO.findMasterEditionPda)(n,{mint:(0,im.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===pLe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,PO.findTokenRecordPda)(n,{mint:(0,im.expectPublicKey)(r.mint.value),token:(0,im.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,$Y.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,im.getAccountMetasAndSigners)(i,"programId",t),c=bLe().serialize(s),u=0;return(0,$Y.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}qx.delegateUtilityV1=iWt;var Hx={};Object.defineProperty(Hx,"__esModule",{value:!0});Hx.deprecatedMintNewEditionFromMasterEditionViaPrintingToken=Hx.getDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDataSerializer=void 0;const USe=Z,jV=H,EO=Zt,NC=Fe;function SLe(){return(0,jV.mapSerializer)((0,jV.struct)([["discriminator",(0,jV.u8)()]],{description:"DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionData"}),n=>({...n,discriminator:3}))}Hx.getDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDataSerializer=SLe;function oWt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},mint:{index:3,isWritable:!0,value:e.mint??null},mintAuthority:{index:4,isWritable:!1,value:e.mintAuthority??null},printingMint:{index:5,isWritable:!0,value:e.printingMint??null},masterTokenAccount:{index:6,isWritable:!0,value:e.masterTokenAccount??null},editionMarker:{index:7,isWritable:!0,value:e.editionMarker??null},burnAuthority:{index:8,isWritable:!1,value:e.burnAuthority??null},payer:{index:9,isWritable:!1,value:e.payer??null},masterUpdateAuthority:{index:10,isWritable:!1,value:e.masterUpdateAuthority??null},masterMetadata:{index:11,isWritable:!1,value:e.masterMetadata??null},tokenProgram:{index:12,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:13,isWritable:!1,value:e.systemProgram??null},rent:{index:14,isWritable:!1,value:e.rent??null},reservationList:{index:15,isWritable:!0,value:e.reservationList??null}};r.metadata.value||(r.metadata.value=(0,EO.findMetadataPda)(n,{mint:(0,NC.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,EO.findMasterEditionPda)(n,{mint:(0,NC.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(r.masterEdition.value=(0,EO.findMasterEditionPda)(n,{mint:(0,NC.expectPublicKey)(r.mint.value)})),r.editionMarker.value||(r.editionMarker.value=(0,EO.findMasterEditionPda)(n,{mint:(0,NC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.rent.value||(r.rent.value=(0,USe.publicKey)("SysvarRent111111111111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,NC.getAccountMetasAndSigners)(s,"omitted",t),a=SLe().serialize({}),c=0;return(0,USe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Hx.deprecatedMintNewEditionFromMasterEditionViaPrintingToken=oWt;var jx={};Object.defineProperty(jx,"__esModule",{value:!0});jx.freezeDelegatedAccount=jx.getFreezeDelegatedAccountInstructionDataSerializer=void 0;const aWt=Z,GV=H,cWt=Zt,VSe=Fe;function kLe(){return(0,GV.mapSerializer)((0,GV.struct)([["discriminator",(0,GV.u8)()]],{description:"FreezeDelegatedAccountInstructionData"}),n=>({...n,discriminator:26}))}jx.getFreezeDelegatedAccountInstructionDataSerializer=kLe;function uWt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegate:{index:0,isWritable:!0,value:e.delegate??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},edition:{index:2,isWritable:!1,value:e.edition??null},mint:{index:3,isWritable:!1,value:e.mint??null},tokenProgram:{index:4,isWritable:!1,value:e.tokenProgram??null}};r.edition.value||(r.edition.value=(0,cWt.findMasterEditionPda)(n,{mint:(0,VSe.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,VSe.getAccountMetasAndSigners)(s,"programId",t),a=kLe().serialize({}),c=0;return(0,aWt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}jx.freezeDelegatedAccount=uWt;var Gx={};Object.defineProperty(Gx,"__esModule",{value:!0});Gx.lockV1=Gx.getLockV1InstructionDataSerializer=void 0;const lWt=gi,DY=Z,FC=H,qSe=Sn,YV=Zt,U1=Fe,OY=gt;function vLe(){return(0,FC.mapSerializer)((0,FC.struct)([["discriminator",(0,FC.u8)()],["lockV1Discriminator",(0,FC.u8)()],["authorizationData",(0,FC.option)((0,OY.getAuthorizationDataSerializer)())]],{description:"LockV1InstructionData"}),n=>({...n,discriminator:46,lockV1Discriminator:0,authorizationData:n.authorizationData??(0,DY.none)()}))}Gx.getLockV1InstructionDataSerializer=vLe;function dWt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},tokenRecord:{index:6,isWritable:!0,value:e.tokenRecord??null},payer:{index:7,isWritable:!0,value:e.payer??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:9,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:10,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:11,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:12,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,qSe.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,lWt.findAssociatedTokenPda)(n,{mint:(0,U1.expectPublicKey)(r.mint.value),owner:(0,U1.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,YV.findMetadataPda)(n,{mint:(0,U1.expectPublicKey)(r.mint.value)})),r.edition.value||(0,qSe.resolveIsNonFungible)(n,r,s,t,!1)&&(r.edition.value=(0,YV.findMasterEditionPda)(n,{mint:(0,U1.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===OY.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,YV.findTokenRecordPda)(n,{mint:(0,U1.expectPublicKey)(r.mint.value),token:(0,U1.expectPublicKey)(r.token.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,DY.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||s.tokenStandard!==OY.TokenStandard.ProgrammableNonFungible&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,U1.getAccountMetasAndSigners)(i,"programId",t),c=vLe().serialize(s),u=0;return(0,DY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Gx.lockV1=dWt;var Yx={};Object.defineProperty(Yx,"__esModule",{value:!0});Yx.migrate=Yx.getMigrateInstructionDataSerializer=void 0;const HSe=Z,ZV=H,JV=Zt,UC=Fe;function ALe(){return(0,ZV.mapSerializer)((0,ZV.struct)([["discriminator",(0,ZV.u8)()]],{description:"MigrateInstructionData"}),n=>({...n,discriminator:48}))}Yx.getMigrateInstructionDataSerializer=ALe;function fWt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},token:{index:2,isWritable:!0,value:e.token??null},tokenOwner:{index:3,isWritable:!1,value:e.tokenOwner??null},mint:{index:4,isWritable:!1,value:e.mint??null},payer:{index:5,isWritable:!0,value:e.payer??null},authority:{index:6,isWritable:!1,value:e.authority??null},collectionMetadata:{index:7,isWritable:!1,value:e.collectionMetadata??null},delegateRecord:{index:8,isWritable:!1,value:e.delegateRecord??null},tokenRecord:{index:9,isWritable:!0,value:e.tokenRecord??null},systemProgram:{index:10,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:11,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:12,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:13,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:14,isWritable:!1,value:e.authorizationRules??null}};r.metadata.value||(r.metadata.value=(0,JV.findMetadataPda)(n,{mint:(0,UC.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,JV.findMasterEditionPda)(n,{mint:(0,UC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.authority.value||(r.authority.value=n.identity),r.tokenRecord.value||(r.tokenRecord.value=(0,JV.findTokenRecordPda)(n,{mint:(0,UC.expectPublicKey)(r.mint.value),token:(0,UC.expectPublicKey)(r.token.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,HSe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,UC.getAccountMetasAndSigners)(s,"programId",t),a=ALe().serialize({}),c=0;return(0,HSe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Yx.migrate=fWt;var Zx={};Object.defineProperty(Zx,"__esModule",{value:!0});Zx.mintNewEditionFromMasterEditionViaToken=Zx.getMintNewEditionFromMasterEditionViaTokenInstructionDataSerializer=void 0;const hWt=Z,XV=H,gWt=Fe,mWt=gt;function wLe(){return(0,XV.mapSerializer)((0,XV.struct)([["discriminator",(0,XV.u8)()],["mintNewEditionFromMasterEditionViaTokenArgs",(0,mWt.getMintNewEditionFromMasterEditionViaTokenArgsSerializer)()]],{description:"MintNewEditionFromMasterEditionViaTokenInstructionData"}),n=>({...n,discriminator:11}))}Zx.getMintNewEditionFromMasterEditionViaTokenInstructionDataSerializer=wLe;function yWt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={newMetadata:{index:0,isWritable:!0,value:e.newMetadata??null},newEdition:{index:1,isWritable:!0,value:e.newEdition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},newMint:{index:3,isWritable:!0,value:e.newMint??null},editionMarkPda:{index:4,isWritable:!0,value:e.editionMarkPda??null},newMintAuthority:{index:5,isWritable:!1,value:e.newMintAuthority??null},payer:{index:6,isWritable:!0,value:e.payer??null},tokenAccountOwner:{index:7,isWritable:!1,value:e.tokenAccountOwner??null},tokenAccount:{index:8,isWritable:!1,value:e.tokenAccount??null},newMetadataUpdateAuthority:{index:9,isWritable:!1,value:e.newMetadataUpdateAuthority??null},metadata:{index:10,isWritable:!1,value:e.metadata??null},tokenProgram:{index:11,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:12,isWritable:!1,value:e.systemProgram??null},rent:{index:13,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,gWt.getAccountMetasAndSigners)(i,"omitted",t),c=wLe().serialize(s),u=0;return(0,hWt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Zx.mintNewEditionFromMasterEditionViaToken=yWt;var Jx={};Object.defineProperty(Jx,"__esModule",{value:!0});Jx.mintNewEditionFromMasterEditionViaVaultProxy=Jx.getMintNewEditionFromMasterEditionViaVaultProxyInstructionDataSerializer=void 0;const pWt=Z,QV=H,bWt=Fe,SWt=gt;function ILe(){return(0,QV.mapSerializer)((0,QV.struct)([["discriminator",(0,QV.u8)()],["mintNewEditionFromMasterEditionViaTokenArgs",(0,SWt.getMintNewEditionFromMasterEditionViaTokenArgsSerializer)()]],{description:"MintNewEditionFromMasterEditionViaVaultProxyInstructionData"}),n=>({...n,discriminator:13}))}Jx.getMintNewEditionFromMasterEditionViaVaultProxyInstructionDataSerializer=ILe;function kWt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={newMetadata:{index:0,isWritable:!0,value:e.newMetadata??null},newEdition:{index:1,isWritable:!0,value:e.newEdition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},newMint:{index:3,isWritable:!0,value:e.newMint??null},editionMarkPda:{index:4,isWritable:!0,value:e.editionMarkPda??null},newMintAuthority:{index:5,isWritable:!1,value:e.newMintAuthority??null},payer:{index:6,isWritable:!0,value:e.payer??null},vaultAuthority:{index:7,isWritable:!1,value:e.vaultAuthority??null},safetyDepositStore:{index:8,isWritable:!1,value:e.safetyDepositStore??null},safetyDepositBox:{index:9,isWritable:!1,value:e.safetyDepositBox??null},vault:{index:10,isWritable:!1,value:e.vault??null},newMetadataUpdateAuthority:{index:11,isWritable:!1,value:e.newMetadataUpdateAuthority??null},metadata:{index:12,isWritable:!1,value:e.metadata??null},tokenProgram:{index:13,isWritable:!1,value:e.tokenProgram??null},tokenVaultProgram:{index:14,isWritable:!1,value:e.tokenVaultProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null},rent:{index:16,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,bWt.getAccountMetasAndSigners)(i,"omitted",t),c=ILe().serialize(s),u=0;return(0,pWt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Jx.mintNewEditionFromMasterEditionViaVaultProxy=kWt;var Xx={};Object.defineProperty(Xx,"__esModule",{value:!0});Xx.mintV1=Xx.getMintV1InstructionDataSerializer=void 0;const vWt=gi,LY=Z,_A=H,jSe=Sn,eq=Zt,V1=Fe,_Le=gt;function PLe(){return(0,_A.mapSerializer)((0,_A.struct)([["discriminator",(0,_A.u8)()],["mintV1Discriminator",(0,_A.u8)()],["amount",(0,_A.u64)()],["authorizationData",(0,_A.option)((0,_Le.getAuthorizationDataSerializer)())]],{description:"MintV1InstructionData"}),n=>({...n,discriminator:43,mintV1Discriminator:0,amount:n.amount??1,authorizationData:n.authorizationData??(0,LY.none)()}))}Xx.getMintV1InstructionDataSerializer=PLe;function AWt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={token:{index:0,isWritable:!0,value:e.token??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},metadata:{index:2,isWritable:!1,value:e.metadata??null},masterEdition:{index:3,isWritable:!0,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!0,value:e.mint??null},authority:{index:6,isWritable:!1,value:e.authority??null},delegateRecord:{index:7,isWritable:!1,value:e.delegateRecord??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:12,isWritable:!1,value:e.splAtaProgram??null},authorizationRulesProgram:{index:13,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:14,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,jSe.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,vWt.findAssociatedTokenPda)(n,{mint:(0,V1.expectPublicKey)(r.mint.value),owner:(0,V1.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,eq.findMetadataPda)(n,{mint:(0,V1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,jSe.resolveIsNonFungible)(n,r,s,t,!0)&&(r.masterEdition.value=(0,eq.findMasterEditionPda)(n,{mint:(0,V1.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===_Le.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,eq.findTokenRecordPda)(n,{mint:(0,V1.expectPublicKey)(r.mint.value),token:(0,V1.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,LY.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,V1.getAccountMetasAndSigners)(i,"programId",t),c=PLe().serialize(s),u=468;return(0,LY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Xx.mintV1=AWt;var Qx={};Object.defineProperty(Qx,"__esModule",{value:!0});Qx.printV1=Qx.getPrintV1InstructionDataSerializer=void 0;const GSe=gi,YSe=Z,VC=H,wWt=Sn,PA=Zt,su=Fe,ZSe=gt;function ELe(){return(0,VC.mapSerializer)((0,VC.struct)([["discriminator",(0,VC.u8)()],["printV1Discriminator",(0,VC.u8)()],["editionNumber",(0,VC.u64)()]],{description:"PrintV1InstructionData"}),n=>({...n,discriminator:55,printV1Discriminator:0}))}Qx.getPrintV1InstructionDataSerializer=ELe;function IWt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={editionMetadata:{index:0,isWritable:!0,value:e.editionMetadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},editionMint:{index:2,isWritable:!0,value:e.editionMint??null},editionTokenAccountOwner:{index:3,isWritable:!1,value:e.editionTokenAccountOwner??null},editionTokenAccount:{index:4,isWritable:!0,value:e.editionTokenAccount??null},editionMintAuthority:{index:5,isWritable:!1,value:e.editionMintAuthority??null},editionTokenRecord:{index:6,isWritable:!0,value:e.editionTokenRecord??null},masterEdition:{index:7,isWritable:!0,value:e.masterEdition??null},editionMarkerPda:{index:8,isWritable:!0,value:e.editionMarkerPda??null},payer:{index:9,isWritable:!0,value:e.payer??null},masterTokenAccountOwner:{index:10,isWritable:!1,value:e.masterTokenAccountOwner??null},masterTokenAccount:{index:11,isWritable:!1,value:e.masterTokenAccount??null},masterMetadata:{index:12,isWritable:!1,value:e.masterMetadata??null},updateAuthority:{index:13,isWritable:!1,value:e.updateAuthority??null},splTokenProgram:{index:14,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:15,isWritable:!1,value:e.splAtaProgram??null},sysvarInstructions:{index:16,isWritable:!1,value:e.sysvarInstructions??null},systemProgram:{index:17,isWritable:!1,value:e.systemProgram??null}},s={...e};r.editionMetadata.value||(r.editionMetadata.value=(0,PA.findMetadataPda)(n,{mint:(0,su.expectPublicKey)(r.editionMint.value)})),r.edition.value||(r.edition.value=(0,PA.findMasterEditionPda)(n,{mint:(0,su.expectPublicKey)(r.editionMint.value)})),r.editionTokenAccountOwner.value||(r.editionTokenAccountOwner.value=n.identity.publicKey),r.editionTokenAccount.value||(r.editionTokenAccount.value=(0,GSe.findAssociatedTokenPda)(n,{mint:(0,su.expectPublicKey)(r.editionMint.value),owner:(0,su.expectPublicKey)(r.editionTokenAccountOwner.value)})),r.masterTokenAccountOwner.value||(r.masterTokenAccountOwner.value=n.identity),r.editionMintAuthority.value||(r.editionMintAuthority.value=(0,su.expectSome)(r.masterTokenAccountOwner.value)),r.editionTokenRecord.value||s.tokenStandard===ZSe.TokenStandard.ProgrammableNonFungible&&(r.editionTokenRecord.value=(0,PA.findTokenRecordPda)(n,{mint:(0,su.expectPublicKey)(r.editionMint.value),token:(0,su.expectPublicKey)(r.editionTokenAccount.value)})),r.masterEdition.value||(r.masterEdition.value=(0,PA.findMasterEditionPda)(n,{mint:(0,su.expectSome)(s.masterEditionMint)})),r.editionMarkerPda.value||(s.tokenStandard===ZSe.TokenStandard.ProgrammableNonFungible?r.editionMarkerPda.value=(0,PA.findEditionMarkerV2Pda)(n,{mint:(0,su.expectSome)(s.masterEditionMint)}):r.editionMarkerPda.value=(0,wWt.findEditionMarkerFromEditionNumberPda)(n,{mint:(0,su.expectSome)(s.masterEditionMint),editionNumber:(0,su.expectSome)(s.editionNumber)})),r.payer.value||(r.payer.value=n.payer),r.masterTokenAccount.value||(r.masterTokenAccount.value=(0,GSe.findAssociatedTokenPda)(n,{mint:(0,su.expectSome)(s.masterEditionMint),owner:(0,su.expectPublicKey)(r.masterTokenAccountOwner.value)})),r.masterMetadata.value||(r.masterMetadata.value=(0,PA.findMetadataPda)(n,{mint:(0,su.expectSome)(s.masterEditionMint)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,YSe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,su.getAccountMetasAndSigners)(i,"programId",t),c=ELe().serialize(s),u=0;return(0,YSe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Qx.printV1=IWt;var eT={};Object.defineProperty(eT,"__esModule",{value:!0});eT.printV2=eT.getPrintV2InstructionDataSerializer=void 0;const JSe=gi,XSe=Z,qC=H,_Wt=Sn,EA=Zt,Uc=Fe,QSe=gt;function xLe(){return(0,qC.mapSerializer)((0,qC.struct)([["discriminator",(0,qC.u8)()],["printV2Discriminator",(0,qC.u8)()],["editionNumber",(0,qC.u64)()]],{description:"PrintV2InstructionData"}),n=>({...n,discriminator:55,printV2Discriminator:1}))}eT.getPrintV2InstructionDataSerializer=xLe;function PWt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={editionMetadata:{index:0,isWritable:!0,value:e.editionMetadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},editionMint:{index:2,isWritable:!0,value:e.editionMint??null},editionTokenAccountOwner:{index:3,isWritable:!1,value:e.editionTokenAccountOwner??null},editionTokenAccount:{index:4,isWritable:!0,value:e.editionTokenAccount??null},editionMintAuthority:{index:5,isWritable:!1,value:e.editionMintAuthority??null},editionTokenRecord:{index:6,isWritable:!0,value:e.editionTokenRecord??null},masterEdition:{index:7,isWritable:!0,value:e.masterEdition??null},editionMarkerPda:{index:8,isWritable:!0,value:e.editionMarkerPda??null},payer:{index:9,isWritable:!0,value:e.payer??null},masterTokenAccountOwner:{index:10,isWritable:!1,value:e.masterTokenAccountOwner??null},masterTokenAccount:{index:11,isWritable:!1,value:e.masterTokenAccount??null},masterMetadata:{index:12,isWritable:!1,value:e.masterMetadata??null},updateAuthority:{index:13,isWritable:!1,value:e.updateAuthority??null},splTokenProgram:{index:14,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:15,isWritable:!1,value:e.splAtaProgram??null},sysvarInstructions:{index:16,isWritable:!1,value:e.sysvarInstructions??null},systemProgram:{index:17,isWritable:!1,value:e.systemProgram??null},holderDelegateRecord:{index:18,isWritable:!1,value:e.holderDelegateRecord??null},delegate:{index:19,isWritable:!1,value:e.delegate??null}},s={...e};r.editionMetadata.value||(r.editionMetadata.value=(0,EA.findMetadataPda)(n,{mint:(0,Uc.expectPublicKey)(r.editionMint.value)})),r.edition.value||(r.edition.value=(0,EA.findMasterEditionPda)(n,{mint:(0,Uc.expectPublicKey)(r.editionMint.value)})),r.editionTokenAccountOwner.value||(r.editionTokenAccountOwner.value=n.identity.publicKey),r.editionTokenAccount.value||(r.editionTokenAccount.value=(0,JSe.findAssociatedTokenPda)(n,{mint:(0,Uc.expectPublicKey)(r.editionMint.value),owner:(0,Uc.expectPublicKey)(r.editionTokenAccountOwner.value)})),r.payer.value||(r.payer.value=n.payer),r.editionMintAuthority.value||(r.holderDelegateRecord.value?r.delegate.value?r.editionMintAuthority.value=(0,Uc.expectSome)(r.delegate.value):r.editionMintAuthority.value=(0,Uc.expectSome)(r.payer.value):r.editionMintAuthority.value=n.identity),r.editionTokenRecord.value||s.tokenStandard===QSe.TokenStandard.ProgrammableNonFungible&&(r.editionTokenRecord.value=(0,EA.findTokenRecordPda)(n,{mint:(0,Uc.expectPublicKey)(r.editionMint.value),token:(0,Uc.expectPublicKey)(r.editionTokenAccount.value)})),r.masterEdition.value||(r.masterEdition.value=(0,EA.findMasterEditionPda)(n,{mint:(0,Uc.expectSome)(s.masterEditionMint)})),r.editionMarkerPda.value||(s.tokenStandard===QSe.TokenStandard.ProgrammableNonFungible?r.editionMarkerPda.value=(0,EA.findEditionMarkerV2Pda)(n,{mint:(0,Uc.expectSome)(s.masterEditionMint)}):r.editionMarkerPda.value=(0,_Wt.findEditionMarkerFromEditionNumberPda)(n,{mint:(0,Uc.expectSome)(s.masterEditionMint),editionNumber:(0,Uc.expectSome)(s.editionNumber)})),r.masterTokenAccountOwner.value||r.holderDelegateRecord.value||(r.masterTokenAccountOwner.value=n.identity),r.masterTokenAccount.value||(r.masterTokenAccount.value=(0,JSe.findAssociatedTokenPda)(n,{mint:(0,Uc.expectSome)(s.masterEditionMint),owner:(0,Uc.expectPublicKey)(r.masterTokenAccountOwner.value)})),r.masterMetadata.value||(r.masterMetadata.value=(0,EA.findMetadataPda)(n,{mint:(0,Uc.expectSome)(s.masterEditionMint)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,XSe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Uc.getAccountMetasAndSigners)(i,"programId",t),c=xLe().serialize(s),u=0;return(0,XSe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}eT.printV2=PWt;var tT={};Object.defineProperty(tT,"__esModule",{value:!0});tT.puffMetadata=tT.getPuffMetadataInstructionDataSerializer=void 0;const EWt=Z,tq=H,xWt=Fe;function TLe(){return(0,tq.mapSerializer)((0,tq.struct)([["discriminator",(0,tq.u8)()]],{description:"PuffMetadataInstructionData"}),n=>({...n,discriminator:14}))}tT.getPuffMetadataInstructionDataSerializer=TLe;function TWt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,xWt.getAccountMetasAndSigners)(s,"programId",t),a=TLe().serialize({}),c=0;return(0,EWt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}tT.puffMetadata=TWt;var rT={};Object.defineProperty(rT,"__esModule",{value:!0});rT.removeCreatorVerification=rT.getRemoveCreatorVerificationInstructionDataSerializer=void 0;const RWt=Z,rq=H,BWt=Fe;function RLe(){return(0,rq.mapSerializer)((0,rq.struct)([["discriminator",(0,rq.u8)()]],{description:"RemoveCreatorVerificationInstructionData"}),n=>({...n,discriminator:28}))}rT.getRemoveCreatorVerificationInstructionDataSerializer=RLe;function CWt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},creator:{index:1,isWritable:!1,value:e.creator??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,BWt.getAccountMetasAndSigners)(s,"programId",t),a=RLe().serialize({}),c=0;return(0,RWt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}rT.removeCreatorVerification=CWt;var nT={};Object.defineProperty(nT,"__esModule",{value:!0});nT.resize=nT.getResizeInstructionDataSerializer=void 0;const MWt=Z,nq=H,eke=Zt,sq=Fe;function BLe(){return(0,nq.mapSerializer)((0,nq.struct)([["discriminator",(0,nq.u8)()]],{description:"ResizeInstructionData"}),n=>({...n,discriminator:56}))}nT.getResizeInstructionDataSerializer=BLe;function zWt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},mint:{index:2,isWritable:!1,value:e.mint??null},payer:{index:3,isWritable:!0,value:e.payer??null},authority:{index:4,isWritable:!1,value:e.authority??null},token:{index:5,isWritable:!1,value:e.token??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null}};r.metadata.value||(r.metadata.value=(0,eke.findMetadataPda)(n,{mint:(0,sq.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,eke.findMasterEditionPda)(n,{mint:(0,sq.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,sq.getAccountMetasAndSigners)(s,"programId",t),a=BLe().serialize({}),c=0;return(0,MWt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}nT.resize=zWt;var sT={};Object.defineProperty(sT,"__esModule",{value:!0});sT.revokeAuthorityItemV1=sT.getRevokeAuthorityItemV1InstructionDataSerializer=void 0;const tke=Z,xO=H,$Wt=Sn,iq=Zt,q1=Fe,DWt=gt;function CLe(){return(0,xO.mapSerializer)((0,xO.struct)([["discriminator",(0,xO.u8)()],["revokeAuthorityItemV1Discriminator",(0,xO.u8)()]],{description:"RevokeAuthorityItemV1InstructionData"}),n=>({...n,discriminator:45,revokeAuthorityItemV1Discriminator:10}))}sT.getRevokeAuthorityItemV1InstructionDataSerializer=CLe;function OWt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,q1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,iq.findMetadataDelegateRecordPda)(n,{delegateRole:DWt.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,q1.expectSome)(s.updateAuthority),mint:(0,q1.expectPublicKey)(r.mint.value),delegate:(0,q1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,iq.findMetadataPda)(n,{mint:(0,q1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,$Wt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,iq.findMasterEditionPda)(n,{mint:(0,q1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,tke.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,q1.getAccountMetasAndSigners)(i,"programId",t),c=CLe().serialize({}),u=0;return(0,tke.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}sT.revokeAuthorityItemV1=OWt;var iT={};Object.defineProperty(iT,"__esModule",{value:!0});iT.revokeCollectionAuthority=iT.getRevokeCollectionAuthorityInstructionDataSerializer=void 0;const LWt=Z,oq=H,KWt=Zt,rke=Fe;function MLe(){return(0,oq.mapSerializer)((0,oq.struct)([["discriminator",(0,oq.u8)()]],{description:"RevokeCollectionAuthorityInstructionData"}),n=>({...n,discriminator:24}))}iT.getRevokeCollectionAuthorityInstructionDataSerializer=MLe;function WWt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionAuthorityRecord:{index:0,isWritable:!0,value:e.collectionAuthorityRecord??null},delegateAuthority:{index:1,isWritable:!0,value:e.delegateAuthority??null},revokeAuthority:{index:2,isWritable:!0,value:e.revokeAuthority??null},metadata:{index:3,isWritable:!1,value:e.metadata??null},mint:{index:4,isWritable:!1,value:e.mint??null}};r.metadata.value||(r.metadata.value=(0,KWt.findMetadataPda)(n,{mint:(0,rke.expectPublicKey)(r.mint.value)}));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,rke.getAccountMetasAndSigners)(s,"programId",t),a=MLe().serialize({}),c=0;return(0,LWt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}iT.revokeCollectionAuthority=WWt;var oT={};Object.defineProperty(oT,"__esModule",{value:!0});oT.revokeCollectionItemV1=oT.getRevokeCollectionItemV1InstructionDataSerializer=void 0;const nke=Z,TO=H,NWt=Sn,aq=Zt,H1=Fe,FWt=gt;function zLe(){return(0,TO.mapSerializer)((0,TO.struct)([["discriminator",(0,TO.u8)()],["revokeCollectionItemV1Discriminator",(0,TO.u8)()]],{description:"RevokeCollectionItemV1InstructionData"}),n=>({...n,discriminator:45,revokeCollectionItemV1Discriminator:12}))}oT.getRevokeCollectionItemV1InstructionDataSerializer=zLe;function UWt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,H1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,aq.findMetadataDelegateRecordPda)(n,{delegateRole:FWt.MetadataDelegateRole.CollectionItem,updateAuthority:(0,H1.expectSome)(s.updateAuthority),mint:(0,H1.expectPublicKey)(r.mint.value),delegate:(0,H1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,aq.findMetadataPda)(n,{mint:(0,H1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,NWt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,aq.findMasterEditionPda)(n,{mint:(0,H1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,nke.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,H1.getAccountMetasAndSigners)(i,"programId",t),c=zLe().serialize({}),u=0;return(0,nke.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}oT.revokeCollectionItemV1=UWt;var aT={};Object.defineProperty(aT,"__esModule",{value:!0});aT.revokeCollectionV1=aT.getRevokeCollectionV1InstructionDataSerializer=void 0;const ske=Z,RO=H,VWt=Sn,cq=Zt,j1=Fe,qWt=gt;function $Le(){return(0,RO.mapSerializer)((0,RO.struct)([["discriminator",(0,RO.u8)()],["revokeCollectionV1Discriminator",(0,RO.u8)()]],{description:"RevokeCollectionV1InstructionData"}),n=>({...n,discriminator:45,revokeCollectionV1Discriminator:0}))}aT.getRevokeCollectionV1InstructionDataSerializer=$Le;function HWt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,j1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,cq.findMetadataDelegateRecordPda)(n,{delegateRole:qWt.MetadataDelegateRole.Collection,updateAuthority:(0,j1.expectSome)(s.updateAuthority),mint:(0,j1.expectPublicKey)(r.mint.value),delegate:(0,j1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,cq.findMetadataPda)(n,{mint:(0,j1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,VWt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,cq.findMasterEditionPda)(n,{mint:(0,j1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,ske.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,j1.getAccountMetasAndSigners)(i,"programId",t),c=$Le().serialize({}),u=0;return(0,ske.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}aT.revokeCollectionV1=HWt;var cT={};Object.defineProperty(cT,"__esModule",{value:!0});cT.revokeDataItemV1=cT.getRevokeDataItemV1InstructionDataSerializer=void 0;const ike=Z,BO=H,jWt=Sn,uq=Zt,G1=Fe,GWt=gt;function DLe(){return(0,BO.mapSerializer)((0,BO.struct)([["discriminator",(0,BO.u8)()],["revokeDataItemV1Discriminator",(0,BO.u8)()]],{description:"RevokeDataItemV1InstructionData"}),n=>({...n,discriminator:45,revokeDataItemV1Discriminator:11}))}cT.getRevokeDataItemV1InstructionDataSerializer=DLe;function YWt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,G1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,uq.findMetadataDelegateRecordPda)(n,{delegateRole:GWt.MetadataDelegateRole.DataItem,updateAuthority:(0,G1.expectSome)(s.updateAuthority),mint:(0,G1.expectPublicKey)(r.mint.value),delegate:(0,G1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,uq.findMetadataPda)(n,{mint:(0,G1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,jWt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,uq.findMasterEditionPda)(n,{mint:(0,G1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,ike.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,G1.getAccountMetasAndSigners)(i,"programId",t),c=DLe().serialize({}),u=0;return(0,ike.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}cT.revokeDataItemV1=YWt;var uT={};Object.defineProperty(uT,"__esModule",{value:!0});uT.revokeDataV1=uT.getRevokeDataV1InstructionDataSerializer=void 0;const oke=Z,CO=H,ZWt=Sn,lq=Zt,Y1=Fe,JWt=gt;function OLe(){return(0,CO.mapSerializer)((0,CO.struct)([["discriminator",(0,CO.u8)()],["revokeDataV1Discriminator",(0,CO.u8)()]],{description:"RevokeDataV1InstructionData"}),n=>({...n,discriminator:45,revokeDataV1Discriminator:3}))}uT.getRevokeDataV1InstructionDataSerializer=OLe;function XWt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,Y1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,lq.findMetadataDelegateRecordPda)(n,{delegateRole:JWt.MetadataDelegateRole.Data,updateAuthority:(0,Y1.expectSome)(s.updateAuthority),mint:(0,Y1.expectPublicKey)(r.mint.value),delegate:(0,Y1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,lq.findMetadataPda)(n,{mint:(0,Y1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,ZWt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,lq.findMasterEditionPda)(n,{mint:(0,Y1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,oke.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Y1.getAccountMetasAndSigners)(i,"programId",t),c=OLe().serialize({}),u=0;return(0,oke.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}uT.revokeDataV1=XWt;var lT={};Object.defineProperty(lT,"__esModule",{value:!0});lT.revokeLockedTransferV1=lT.getRevokeLockedTransferV1InstructionDataSerializer=void 0;const QWt=gi,ake=Z,MO=H,eNt=Sn,zO=Zt,om=Fe,tNt=gt;function LLe(){return(0,MO.mapSerializer)((0,MO.struct)([["discriminator",(0,MO.u8)()],["revokeLockedTransferV1Discriminator",(0,MO.u8)()]],{description:"RevokeLockedTransferV1InstructionData"}),n=>({...n,discriminator:45,revokeLockedTransferV1Discriminator:7}))}lT.getRevokeLockedTransferV1InstructionDataSerializer=LLe;function rNt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,QWt.findAssociatedTokenPda)(n,{mint:(0,om.expectPublicKey)(r.mint.value),owner:(0,om.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,zO.findTokenRecordPda)(n,{mint:(0,om.expectPublicKey)(r.mint.value),token:(0,om.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,zO.findMetadataPda)(n,{mint:(0,om.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,eNt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,zO.findMasterEditionPda)(n,{mint:(0,om.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===tNt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,zO.findTokenRecordPda)(n,{mint:(0,om.expectPublicKey)(r.mint.value),token:(0,om.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,ake.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,om.getAccountMetasAndSigners)(i,"programId",t),c=LLe().serialize({}),u=0;return(0,ake.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}lT.revokeLockedTransferV1=rNt;var dT={};Object.defineProperty(dT,"__esModule",{value:!0});dT.revokeMigrationV1=dT.getRevokeMigrationV1InstructionDataSerializer=void 0;const nNt=gi,cke=Z,$O=H,sNt=Sn,DO=Zt,am=Fe,iNt=gt;function KLe(){return(0,$O.mapSerializer)((0,$O.struct)([["discriminator",(0,$O.u8)()],["revokeMigrationV1Discriminator",(0,$O.u8)()]],{description:"RevokeMigrationV1InstructionData"}),n=>({...n,discriminator:45,revokeMigrationV1Discriminator:9}))}dT.getRevokeMigrationV1InstructionDataSerializer=KLe;function oNt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,nNt.findAssociatedTokenPda)(n,{mint:(0,am.expectPublicKey)(r.mint.value),owner:(0,am.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,DO.findTokenRecordPda)(n,{mint:(0,am.expectPublicKey)(r.mint.value),token:(0,am.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,DO.findMetadataPda)(n,{mint:(0,am.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,sNt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,DO.findMasterEditionPda)(n,{mint:(0,am.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===iNt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,DO.findTokenRecordPda)(n,{mint:(0,am.expectPublicKey)(r.mint.value),token:(0,am.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,cke.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,am.getAccountMetasAndSigners)(i,"programId",t),c=KLe().serialize({}),u=0;return(0,cke.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}dT.revokeMigrationV1=oNt;var fT={};Object.defineProperty(fT,"__esModule",{value:!0});fT.revokePrintDelegateV1=fT.getRevokePrintDelegateV1InstructionDataSerializer=void 0;const uke=Z,OO=H,aNt=Sn,lke=Zt,dq=Fe;function WLe(){return(0,OO.mapSerializer)((0,OO.struct)([["discriminator",(0,OO.u8)()],["revokePrintDelegateV1Discriminator",(0,OO.u8)()]],{description:"RevokePrintDelegateV1InstructionData"}),n=>({...n,discriminator:45,revokePrintDelegateV1Discriminator:14}))}fT.getRevokePrintDelegateV1InstructionDataSerializer=WLe;function cNt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}};r.metadata.value||(r.metadata.value=(0,lke.findMetadataPda)(n,{mint:(0,dq.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,aNt.resolveIsNonFungible)(n,r,e,t,!1)&&(r.masterEdition.value=(0,lke.findMasterEditionPda)(n,{mint:(0,dq.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,uke.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,dq.getAccountMetasAndSigners)(s,"programId",t),a=WLe().serialize({}),c=0;return(0,uke.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}fT.revokePrintDelegateV1=cNt;var hT={};Object.defineProperty(hT,"__esModule",{value:!0});hT.revokeProgrammableConfigItemV1=hT.getRevokeProgrammableConfigItemV1InstructionDataSerializer=void 0;const dke=Z,LO=H,uNt=Sn,fq=Zt,Z1=Fe,lNt=gt;function NLe(){return(0,LO.mapSerializer)((0,LO.struct)([["discriminator",(0,LO.u8)()],["revokeProgrammableConfigItemV1Discriminator",(0,LO.u8)()]],{description:"RevokeProgrammableConfigItemV1InstructionData"}),n=>({...n,discriminator:45,revokeProgrammableConfigItemV1Discriminator:13}))}hT.getRevokeProgrammableConfigItemV1InstructionDataSerializer=NLe;function dNt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,Z1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,fq.findMetadataDelegateRecordPda)(n,{delegateRole:lNt.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,Z1.expectSome)(s.updateAuthority),mint:(0,Z1.expectPublicKey)(r.mint.value),delegate:(0,Z1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,fq.findMetadataPda)(n,{mint:(0,Z1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,uNt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,fq.findMasterEditionPda)(n,{mint:(0,Z1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,dke.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Z1.getAccountMetasAndSigners)(i,"programId",t),c=NLe().serialize({}),u=0;return(0,dke.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}hT.revokeProgrammableConfigItemV1=dNt;var gT={};Object.defineProperty(gT,"__esModule",{value:!0});gT.revokeProgrammableConfigV1=gT.getRevokeProgrammableConfigV1InstructionDataSerializer=void 0;const fke=Z,KO=H,fNt=Sn,hq=Zt,J1=Fe,hNt=gt;function FLe(){return(0,KO.mapSerializer)((0,KO.struct)([["discriminator",(0,KO.u8)()],["revokeProgrammableConfigV1Discriminator",(0,KO.u8)()]],{description:"RevokeProgrammableConfigV1InstructionData"}),n=>({...n,discriminator:45,revokeProgrammableConfigV1Discriminator:8}))}gT.getRevokeProgrammableConfigV1InstructionDataSerializer=FLe;function gNt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,J1.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,hq.findMetadataDelegateRecordPda)(n,{delegateRole:hNt.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,J1.expectSome)(s.updateAuthority),mint:(0,J1.expectPublicKey)(r.mint.value),delegate:(0,J1.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,hq.findMetadataPda)(n,{mint:(0,J1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,fNt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,hq.findMasterEditionPda)(n,{mint:(0,J1.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,fke.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,J1.getAccountMetasAndSigners)(i,"programId",t),c=FLe().serialize({}),u=0;return(0,fke.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}gT.revokeProgrammableConfigV1=gNt;var mT={};Object.defineProperty(mT,"__esModule",{value:!0});mT.revokeSaleV1=mT.getRevokeSaleV1InstructionDataSerializer=void 0;const mNt=gi,hke=Z,WO=H,yNt=Sn,NO=Zt,cm=Fe,pNt=gt;function ULe(){return(0,WO.mapSerializer)((0,WO.struct)([["discriminator",(0,WO.u8)()],["revokeSaleV1Discriminator",(0,WO.u8)()]],{description:"RevokeSaleV1InstructionData"}),n=>({...n,discriminator:45,revokeSaleV1Discriminator:1}))}mT.getRevokeSaleV1InstructionDataSerializer=ULe;function bNt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,mNt.findAssociatedTokenPda)(n,{mint:(0,cm.expectPublicKey)(r.mint.value),owner:(0,cm.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,NO.findTokenRecordPda)(n,{mint:(0,cm.expectPublicKey)(r.mint.value),token:(0,cm.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,NO.findMetadataPda)(n,{mint:(0,cm.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,yNt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,NO.findMasterEditionPda)(n,{mint:(0,cm.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===pNt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,NO.findTokenRecordPda)(n,{mint:(0,cm.expectPublicKey)(r.mint.value),token:(0,cm.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,hke.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,cm.getAccountMetasAndSigners)(i,"programId",t),c=ULe().serialize({}),u=0;return(0,hke.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}mT.revokeSaleV1=bNt;var yT={};Object.defineProperty(yT,"__esModule",{value:!0});yT.revokeStakingV1=yT.getRevokeStakingV1InstructionDataSerializer=void 0;const SNt=gi,gke=Z,FO=H,kNt=Sn,UO=Zt,um=Fe,vNt=gt;function VLe(){return(0,FO.mapSerializer)((0,FO.struct)([["discriminator",(0,FO.u8)()],["revokeStakingV1Discriminator",(0,FO.u8)()]],{description:"RevokeStakingV1InstructionData"}),n=>({...n,discriminator:45,revokeStakingV1Discriminator:5}))}yT.getRevokeStakingV1InstructionDataSerializer=VLe;function ANt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,SNt.findAssociatedTokenPda)(n,{mint:(0,um.expectPublicKey)(r.mint.value),owner:(0,um.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,UO.findTokenRecordPda)(n,{mint:(0,um.expectPublicKey)(r.mint.value),token:(0,um.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,UO.findMetadataPda)(n,{mint:(0,um.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,kNt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,UO.findMasterEditionPda)(n,{mint:(0,um.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===vNt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,UO.findTokenRecordPda)(n,{mint:(0,um.expectPublicKey)(r.mint.value),token:(0,um.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,gke.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,um.getAccountMetasAndSigners)(i,"programId",t),c=VLe().serialize({}),u=0;return(0,gke.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}yT.revokeStakingV1=ANt;var pT={};Object.defineProperty(pT,"__esModule",{value:!0});pT.revokeStandardV1=pT.getRevokeStandardV1InstructionDataSerializer=void 0;const wNt=gi,mke=Z,VO=H,INt=Sn,gq=Zt,X1=Fe;function qLe(){return(0,VO.mapSerializer)((0,VO.struct)([["discriminator",(0,VO.u8)()],["revokeStandardV1Discriminator",(0,VO.u8)()]],{description:"RevokeStandardV1InstructionData"}),n=>({...n,discriminator:45,revokeStandardV1Discriminator:6}))}pT.getRevokeStandardV1InstructionDataSerializer=qLe;function _Nt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,wNt.findAssociatedTokenPda)(n,{mint:(0,X1.expectPublicKey)(r.mint.value),owner:(0,X1.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,gq.findTokenRecordPda)(n,{mint:(0,X1.expectPublicKey)(r.mint.value),token:(0,X1.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,gq.findMetadataPda)(n,{mint:(0,X1.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,INt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,gq.findMasterEditionPda)(n,{mint:(0,X1.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,mke.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,X1.getAccountMetasAndSigners)(i,"programId",t),c=qLe().serialize({}),u=0;return(0,mke.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}pT.revokeStandardV1=_Nt;var bT={};Object.defineProperty(bT,"__esModule",{value:!0});bT.revokeTransferV1=bT.getRevokeTransferV1InstructionDataSerializer=void 0;const PNt=gi,yke=Z,qO=H,ENt=Sn,HO=Zt,lm=Fe,xNt=gt;function HLe(){return(0,qO.mapSerializer)((0,qO.struct)([["discriminator",(0,qO.u8)()],["revokeTransferV1Discriminator",(0,qO.u8)()]],{description:"RevokeTransferV1InstructionData"}),n=>({...n,discriminator:45,revokeTransferV1Discriminator:2}))}bT.getRevokeTransferV1InstructionDataSerializer=HLe;function TNt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,PNt.findAssociatedTokenPda)(n,{mint:(0,lm.expectPublicKey)(r.mint.value),owner:(0,lm.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,HO.findTokenRecordPda)(n,{mint:(0,lm.expectPublicKey)(r.mint.value),token:(0,lm.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,HO.findMetadataPda)(n,{mint:(0,lm.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,ENt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,HO.findMasterEditionPda)(n,{mint:(0,lm.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===xNt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,HO.findTokenRecordPda)(n,{mint:(0,lm.expectPublicKey)(r.mint.value),token:(0,lm.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,yke.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,lm.getAccountMetasAndSigners)(i,"programId",t),c=HLe().serialize({}),u=0;return(0,yke.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}bT.revokeTransferV1=TNt;var ST={};Object.defineProperty(ST,"__esModule",{value:!0});ST.revokeUseAuthority=ST.getRevokeUseAuthorityInstructionDataSerializer=void 0;const RNt=Z,mq=H,BNt=Zt,pke=Fe;function jLe(){return(0,mq.mapSerializer)((0,mq.struct)([["discriminator",(0,mq.u8)()]],{description:"RevokeUseAuthorityInstructionData"}),n=>({...n,discriminator:21}))}ST.getRevokeUseAuthorityInstructionDataSerializer=jLe;function CNt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={useAuthorityRecord:{index:0,isWritable:!0,value:e.useAuthorityRecord??null},owner:{index:1,isWritable:!0,value:e.owner??null},user:{index:2,isWritable:!1,value:e.user??null},ownerTokenAccount:{index:3,isWritable:!0,value:e.ownerTokenAccount??null},mint:{index:4,isWritable:!1,value:e.mint??null},metadata:{index:5,isWritable:!1,value:e.metadata??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null}};r.metadata.value||(r.metadata.value=(0,BNt.findMetadataPda)(n,{mint:(0,pke.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,pke.getAccountMetasAndSigners)(s,"omitted",t),a=jLe().serialize({}),c=0;return(0,RNt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}ST.revokeUseAuthority=CNt;var kT={};Object.defineProperty(kT,"__esModule",{value:!0});kT.revokeUtilityV1=kT.getRevokeUtilityV1InstructionDataSerializer=void 0;const MNt=gi,bke=Z,jO=H,zNt=Sn,GO=Zt,dm=Fe,$Nt=gt;function GLe(){return(0,jO.mapSerializer)((0,jO.struct)([["discriminator",(0,jO.u8)()],["revokeUtilityV1Discriminator",(0,jO.u8)()]],{description:"RevokeUtilityV1InstructionData"}),n=>({...n,discriminator:45,revokeUtilityV1Discriminator:4}))}kT.getRevokeUtilityV1InstructionDataSerializer=GLe;function DNt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,MNt.findAssociatedTokenPda)(n,{mint:(0,dm.expectPublicKey)(r.mint.value),owner:(0,dm.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,GO.findTokenRecordPda)(n,{mint:(0,dm.expectPublicKey)(r.mint.value),token:(0,dm.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,GO.findMetadataPda)(n,{mint:(0,dm.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,zNt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,GO.findMasterEditionPda)(n,{mint:(0,dm.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===$Nt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,GO.findTokenRecordPda)(n,{mint:(0,dm.expectPublicKey)(r.mint.value),token:(0,dm.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,bke.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,dm.getAccountMetasAndSigners)(i,"programId",t),c=GLe().serialize({}),u=0;return(0,bke.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}kT.revokeUtilityV1=DNt;var vT={};Object.defineProperty(vT,"__esModule",{value:!0});vT.setAndVerifyCollection=vT.getSetAndVerifyCollectionInstructionDataSerializer=void 0;const ONt=Z,yq=H,LNt=Fe;function YLe(){return(0,yq.mapSerializer)((0,yq.struct)([["discriminator",(0,yq.u8)()]],{description:"SetAndVerifyCollectionInstructionData"}),n=>({...n,discriminator:25}))}vT.getSetAndVerifyCollectionInstructionDataSerializer=YLe;function KNt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},updateAuthority:{index:3,isWritable:!1,value:e.updateAuthority??null},collectionMint:{index:4,isWritable:!1,value:e.collectionMint??null},collection:{index:5,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:6,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:7,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,LNt.getAccountMetasAndSigners)(s,"omitted",t),a=YLe().serialize({}),c=0;return(0,ONt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}vT.setAndVerifyCollection=KNt;var AT={};Object.defineProperty(AT,"__esModule",{value:!0});AT.setAndVerifySizedCollectionItem=AT.getSetAndVerifySizedCollectionItemInstructionDataSerializer=void 0;const WNt=Z,pq=H,NNt=Fe;function ZLe(){return(0,pq.mapSerializer)((0,pq.struct)([["discriminator",(0,pq.u8)()]],{description:"SetAndVerifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:32}))}AT.getSetAndVerifySizedCollectionItemInstructionDataSerializer=ZLe;function FNt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},updateAuthority:{index:3,isWritable:!1,value:e.updateAuthority??null},collectionMint:{index:4,isWritable:!1,value:e.collectionMint??null},collection:{index:5,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:6,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:7,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,NNt.getAccountMetasAndSigners)(s,"omitted",t),a=ZLe().serialize({}),c=0;return(0,WNt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}AT.setAndVerifySizedCollectionItem=FNt;var wT={};Object.defineProperty(wT,"__esModule",{value:!0});wT.setCollectionSize=wT.getSetCollectionSizeInstructionDataSerializer=void 0;const UNt=Z,bq=H,VNt=Fe,qNt=gt;function JLe(){return(0,bq.mapSerializer)((0,bq.struct)([["discriminator",(0,bq.u8)()],["setCollectionSizeArgs",(0,qNt.getSetCollectionSizeArgsSerializer)()]],{description:"SetCollectionSizeInstructionData"}),n=>({...n,discriminator:34}))}wT.getSetCollectionSizeInstructionDataSerializer=JLe;function HNt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionMetadata:{index:0,isWritable:!0,value:e.collectionMetadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},collectionAuthorityRecord:{index:3,isWritable:!1,value:e.collectionAuthorityRecord??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,VNt.getAccountMetasAndSigners)(i,"omitted",t),c=JLe().serialize(s),u=0;return(0,UNt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}wT.setCollectionSize=HNt;var IT={};Object.defineProperty(IT,"__esModule",{value:!0});IT.setTokenStandard=IT.getSetTokenStandardInstructionDataSerializer=void 0;const jNt=Z,Sq=H,GNt=Zt,Ske=Fe;function XLe(){return(0,Sq.mapSerializer)((0,Sq.struct)([["discriminator",(0,Sq.u8)()]],{description:"SetTokenStandardInstructionData"}),n=>({...n,discriminator:35}))}IT.getSetTokenStandardInstructionDataSerializer=XLe;function YNt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},updateAuthority:{index:1,isWritable:!1,value:e.updateAuthority??null},mint:{index:2,isWritable:!1,value:e.mint??null},edition:{index:3,isWritable:!1,value:e.edition??null}};r.metadata.value||(r.metadata.value=(0,GNt.findMetadataPda)(n,{mint:(0,Ske.expectPublicKey)(r.mint.value)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Ske.getAccountMetasAndSigners)(s,"omitted",t),a=XLe().serialize({}),c=0;return(0,jNt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}IT.setTokenStandard=YNt;var _T={};Object.defineProperty(_T,"__esModule",{value:!0});_T.signMetadata=_T.getSignMetadataInstructionDataSerializer=void 0;const ZNt=Z,kq=H,JNt=Fe;function QLe(){return(0,kq.mapSerializer)((0,kq.struct)([["discriminator",(0,kq.u8)()]],{description:"SignMetadataInstructionData"}),n=>({...n,discriminator:7}))}_T.getSignMetadataInstructionDataSerializer=QLe;function XNt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},creator:{index:1,isWritable:!1,value:e.creator??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,JNt.getAccountMetasAndSigners)(s,"programId",t),a=QLe().serialize({}),c=0;return(0,ZNt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}_T.signMetadata=XNt;var PT={};Object.defineProperty(PT,"__esModule",{value:!0});PT.thawDelegatedAccount=PT.getThawDelegatedAccountInstructionDataSerializer=void 0;const QNt=Z,vq=H,eFt=Zt,kke=Fe;function e4e(){return(0,vq.mapSerializer)((0,vq.struct)([["discriminator",(0,vq.u8)()]],{description:"ThawDelegatedAccountInstructionData"}),n=>({...n,discriminator:27}))}PT.getThawDelegatedAccountInstructionDataSerializer=e4e;function tFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegate:{index:0,isWritable:!0,value:e.delegate??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},edition:{index:2,isWritable:!1,value:e.edition??null},mint:{index:3,isWritable:!1,value:e.mint??null},tokenProgram:{index:4,isWritable:!1,value:e.tokenProgram??null}};r.edition.value||(r.edition.value=(0,eFt.findMasterEditionPda)(n,{mint:(0,kke.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,kke.getAccountMetasAndSigners)(s,"programId",t),a=e4e().serialize({}),c=0;return(0,QNt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}PT.thawDelegatedAccount=tFt;var ET={};Object.defineProperty(ET,"__esModule",{value:!0});ET.transferOutOfEscrow=ET.getTransferOutOfEscrowInstructionDataSerializer=void 0;const vke=Z,YO=H,rFt=Fe;function t4e(){return(0,YO.mapSerializer)((0,YO.struct)([["discriminator",(0,YO.u8)()],["amount",(0,YO.u64)()]],{description:"TransferOutOfEscrowInstructionData"}),n=>({...n,discriminator:40,amount:n.amount??1}))}ET.getTransferOutOfEscrowInstructionDataSerializer=t4e;function nFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!1,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},payer:{index:2,isWritable:!0,value:e.payer??null},attributeMint:{index:3,isWritable:!1,value:e.attributeMint??null},attributeSrc:{index:4,isWritable:!0,value:e.attributeSrc??null},attributeDst:{index:5,isWritable:!0,value:e.attributeDst??null},escrowMint:{index:6,isWritable:!1,value:e.escrowMint??null},escrowAccount:{index:7,isWritable:!1,value:e.escrowAccount??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},ataProgram:{index:9,isWritable:!1,value:e.ataProgram??null},tokenProgram:{index:10,isWritable:!1,value:e.tokenProgram??null},sysvarInstructions:{index:11,isWritable:!1,value:e.sysvarInstructions??null},authority:{index:12,isWritable:!1,value:e.authority??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,vke.publicKey)("Sysvar1nstructions1111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,rFt.getAccountMetasAndSigners)(i,"omitted",t),c=t4e().serialize(s),u=0;return(0,vke.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ET.transferOutOfEscrow=nFt;var xT={};Object.defineProperty(xT,"__esModule",{value:!0});xT.transferV1=xT.getTransferV1InstructionDataSerializer=void 0;const Ake=gi,KY=Z,xA=H,ZO=Zt,Cd=Fe,NL=gt;function r4e(){return(0,xA.mapSerializer)((0,xA.struct)([["discriminator",(0,xA.u8)()],["transferV1Discriminator",(0,xA.u8)()],["amount",(0,xA.u64)()],["authorizationData",(0,xA.option)((0,NL.getAuthorizationDataSerializer)())]],{description:"TransferV1InstructionData"}),n=>({...n,discriminator:49,transferV1Discriminator:0,amount:n.amount??1,authorizationData:n.authorizationData??(0,KY.none)()}))}xT.getTransferV1InstructionDataSerializer=r4e;function sFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={token:{index:0,isWritable:!0,value:e.token??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},destinationToken:{index:2,isWritable:!0,value:e.destinationToken??null},destinationOwner:{index:3,isWritable:!1,value:e.destinationOwner??null},mint:{index:4,isWritable:!1,value:e.mint??null},metadata:{index:5,isWritable:!0,value:e.metadata??null},edition:{index:6,isWritable:!1,value:e.edition??null},tokenRecord:{index:7,isWritable:!0,value:e.tokenRecord??null},destinationTokenRecord:{index:8,isWritable:!0,value:e.destinationTokenRecord??null},authority:{index:9,isWritable:!1,value:e.authority??null},payer:{index:10,isWritable:!0,value:e.payer??null},systemProgram:{index:11,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:12,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:13,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:14,isWritable:!1,value:e.splAtaProgram??null},authorizationRulesProgram:{index:15,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:16,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.tokenOwner.value||(r.tokenOwner.value=n.identity.publicKey),r.token.value||(r.token.value=(0,Ake.findAssociatedTokenPda)(n,{mint:(0,Cd.expectPublicKey)(r.mint.value),owner:(0,Cd.expectPublicKey)(r.tokenOwner.value)})),r.destinationToken.value||(r.destinationToken.value=(0,Ake.findAssociatedTokenPda)(n,{mint:(0,Cd.expectPublicKey)(r.mint.value),owner:(0,Cd.expectPublicKey)(r.destinationOwner.value)})),r.metadata.value||(r.metadata.value=(0,ZO.findMetadataPda)(n,{mint:(0,Cd.expectPublicKey)(r.mint.value)})),r.edition.value||s.tokenStandard===NL.TokenStandard.ProgrammableNonFungible&&(r.edition.value=(0,ZO.findMasterEditionPda)(n,{mint:(0,Cd.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===NL.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,ZO.findTokenRecordPda)(n,{mint:(0,Cd.expectPublicKey)(r.mint.value),token:(0,Cd.expectPublicKey)(r.token.value)})),r.destinationTokenRecord.value||s.tokenStandard===NL.TokenStandard.ProgrammableNonFungible&&(r.destinationTokenRecord.value=(0,ZO.findTokenRecordPda)(n,{token:(0,Cd.expectPublicKey)(r.destinationToken.value),mint:(0,Cd.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,KY.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Cd.getAccountMetasAndSigners)(i,"programId",t),c=r4e().serialize(s),u=0;return(0,KY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}xT.transferV1=sFt;var TT={};Object.defineProperty(TT,"__esModule",{value:!0});TT.unlockV1=TT.getUnlockV1InstructionDataSerializer=void 0;const iFt=gi,WY=Z,HC=H,wke=Sn,Aq=Zt,Q1=Fe,NY=gt;function n4e(){return(0,HC.mapSerializer)((0,HC.struct)([["discriminator",(0,HC.u8)()],["unlockV1Discriminator",(0,HC.u8)()],["authorizationData",(0,HC.option)((0,NY.getAuthorizationDataSerializer)())]],{description:"UnlockV1InstructionData"}),n=>({...n,discriminator:47,unlockV1Discriminator:0,authorizationData:n.authorizationData??(0,WY.none)()}))}TT.getUnlockV1InstructionDataSerializer=n4e;function oFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},tokenRecord:{index:6,isWritable:!0,value:e.tokenRecord??null},payer:{index:7,isWritable:!0,value:e.payer??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:9,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:10,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:11,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:12,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,wke.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,iFt.findAssociatedTokenPda)(n,{mint:(0,Q1.expectPublicKey)(r.mint.value),owner:(0,Q1.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,Aq.findMetadataPda)(n,{mint:(0,Q1.expectPublicKey)(r.mint.value)})),r.edition.value||(0,wke.resolveIsNonFungible)(n,r,s,t,!1)&&(r.edition.value=(0,Aq.findMasterEditionPda)(n,{mint:(0,Q1.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===NY.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,Aq.findTokenRecordPda)(n,{mint:(0,Q1.expectPublicKey)(r.mint.value),token:(0,Q1.expectPublicKey)(r.token.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,WY.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||s.tokenStandard!==NY.TokenStandard.ProgrammableNonFungible&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Q1.getAccountMetasAndSigners)(i,"programId",t),c=n4e().serialize(s),u=0;return(0,WY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}TT.unlockV1=oFt;var RT={};Object.defineProperty(RT,"__esModule",{value:!0});RT.unverifyCollection=RT.getUnverifyCollectionInstructionDataSerializer=void 0;const aFt=Z,wq=H,cFt=Fe;function s4e(){return(0,wq.mapSerializer)((0,wq.struct)([["discriminator",(0,wq.u8)()]],{description:"UnverifyCollectionInstructionData"}),n=>({...n,discriminator:22}))}RT.getUnverifyCollectionInstructionDataSerializer=s4e;function uFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},collection:{index:3,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:4,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:5,isWritable:!1,value:e.collectionAuthorityRecord??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,cFt.getAccountMetasAndSigners)(s,"omitted",t),a=s4e().serialize({}),c=0;return(0,aFt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}RT.unverifyCollection=uFt;var BT={};Object.defineProperty(BT,"__esModule",{value:!0});BT.unverifyCollectionV1=BT.getUnverifyCollectionV1InstructionDataSerializer=void 0;const Ike=Z,JO=H,lFt=Zt,_ke=Fe;function i4e(){return(0,JO.mapSerializer)((0,JO.struct)([["discriminator",(0,JO.u8)()],["unverifyCollectionV1Discriminator",(0,JO.u8)()]],{description:"UnverifyCollectionV1InstructionData"}),n=>({...n,discriminator:53,unverifyCollectionV1Discriminator:1}))}BT.getUnverifyCollectionV1InstructionDataSerializer=i4e;function dFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:6,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,lFt.findMetadataPda)(n,{mint:(0,_ke.expectPublicKey)(r.collectionMint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Ike.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,_ke.getAccountMetasAndSigners)(s,"programId",t),a=i4e().serialize({}),c=0;return(0,Ike.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}BT.unverifyCollectionV1=dFt;var CT={};Object.defineProperty(CT,"__esModule",{value:!0});CT.unverifyCreatorV1=CT.getUnverifyCreatorV1InstructionDataSerializer=void 0;const Pke=Z,XO=H,fFt=Fe;function o4e(){return(0,XO.mapSerializer)((0,XO.struct)([["discriminator",(0,XO.u8)()],["unverifyCreatorV1Discriminator",(0,XO.u8)()]],{description:"UnverifyCreatorV1InstructionData"}),n=>({...n,discriminator:53,unverifyCreatorV1Discriminator:0}))}CT.getUnverifyCreatorV1InstructionDataSerializer=o4e;function hFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:6,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Pke.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,fFt.getAccountMetasAndSigners)(s,"programId",t),a=o4e().serialize({}),c=0;return(0,Pke.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}CT.unverifyCreatorV1=hFt;var MT={};Object.defineProperty(MT,"__esModule",{value:!0});MT.unverifySizedCollectionItem=MT.getUnverifySizedCollectionItemInstructionDataSerializer=void 0;const gFt=Z,Iq=H,mFt=Fe;function a4e(){return(0,Iq.mapSerializer)((0,Iq.struct)([["discriminator",(0,Iq.u8)()]],{description:"UnverifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:31}))}MT.getUnverifySizedCollectionItemInstructionDataSerializer=a4e;function yFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,mFt.getAccountMetasAndSigners)(s,"omitted",t),a=a4e().serialize({}),c=0;return(0,gFt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}MT.unverifySizedCollectionItem=yFt;var zT={};Object.defineProperty(zT,"__esModule",{value:!0});zT.updateAsAuthorityItemDelegateV2=zT.getUpdateAsAuthorityItemDelegateV2InstructionDataSerializer=void 0;const vS=Z,Yl=H,Eke=Zt,jC=Fe,FY=gt;function c4e(){return(0,Yl.mapSerializer)((0,Yl.struct)([["discriminator",(0,Yl.u8)()],["updateAsAuthorityItemDelegateV2Discriminator",(0,Yl.u8)()],["newUpdateAuthority",(0,Yl.option)((0,Yl.publicKey)())],["primarySaleHappened",(0,Yl.option)((0,Yl.bool)())],["isMutable",(0,Yl.option)((0,Yl.bool)())],["tokenStandard",(0,Yl.option)((0,FY.getTokenStandardSerializer)())],["authorizationData",(0,Yl.option)((0,FY.getAuthorizationDataSerializer)())]],{description:"UpdateAsAuthorityItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsAuthorityItemDelegateV2Discriminator:2,newUpdateAuthority:n.newUpdateAuthority??(0,vS.none)(),primarySaleHappened:n.primarySaleHappened??(0,vS.none)(),isMutable:n.isMutable??(0,vS.none)(),tokenStandard:n.tokenStandard??(0,vS.none)(),authorizationData:n.authorizationData??(0,vS.none)()}))}zT.getUpdateAsAuthorityItemDelegateV2InstructionDataSerializer=c4e;function pFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Eke.findMetadataDelegateRecordPda)(n,{delegateRole:FY.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,jC.expectSome)(s.updateAuthority),delegate:(0,jC.expectPublicKey)(r.authority.value),mint:(0,jC.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,Eke.findMetadataPda)(n,{mint:(0,jC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,vS.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,jC.getAccountMetasAndSigners)(i,"programId",t),c=c4e().serialize(s),u=0;return(0,vS.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}zT.updateAsAuthorityItemDelegateV2=pFt;var $T={};Object.defineProperty($T,"__esModule",{value:!0});$T.updateAsCollectionDelegateV2=$T.getUpdateAsCollectionDelegateV2InstructionDataSerializer=void 0;const UY=Z,GC=H,xke=Zt,TA=Fe,FL=gt;function u4e(){return(0,GC.mapSerializer)((0,GC.struct)([["discriminator",(0,GC.u8)()],["updateAsCollectionDelegateV2Discriminator",(0,GC.u8)()],["collection",(0,FL.getCollectionToggleSerializer)()],["authorizationData",(0,GC.option)((0,FL.getAuthorizationDataSerializer)())]],{description:"UpdateAsCollectionDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsCollectionDelegateV2Discriminator:3,collection:n.collection??(0,FL.collectionToggle)("None"),authorizationData:n.authorizationData??(0,UY.none)()}))}$T.getUpdateAsCollectionDelegateV2InstructionDataSerializer=u4e;function bFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,TA.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,xke.findMetadataDelegateRecordPda)(n,{mint:(0,TA.expectSome)(s.delegateMint),delegateRole:FL.MetadataDelegateRole.Collection,updateAuthority:(0,TA.expectSome)(s.delegateUpdateAuthority),delegate:(0,TA.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,xke.findMetadataPda)(n,{mint:(0,TA.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,UY.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,TA.getAccountMetasAndSigners)(i,"programId",t),c=u4e().serialize(s),u=0;return(0,UY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}$T.updateAsCollectionDelegateV2=bFt;var DT={};Object.defineProperty(DT,"__esModule",{value:!0});DT.updateAsCollectionItemDelegateV2=DT.getUpdateAsCollectionItemDelegateV2InstructionDataSerializer=void 0;const VY=Z,YC=H,Tke=Zt,ZC=Fe,UL=gt;function l4e(){return(0,YC.mapSerializer)((0,YC.struct)([["discriminator",(0,YC.u8)()],["updateAsCollectionItemDelegateV2Discriminator",(0,YC.u8)()],["collection",(0,UL.getCollectionToggleSerializer)()],["authorizationData",(0,YC.option)((0,UL.getAuthorizationDataSerializer)())]],{description:"UpdateAsCollectionItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsCollectionItemDelegateV2Discriminator:7,collection:n.collection??(0,UL.collectionToggle)("None"),authorizationData:n.authorizationData??(0,VY.none)()}))}DT.getUpdateAsCollectionItemDelegateV2InstructionDataSerializer=l4e;function SFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Tke.findMetadataDelegateRecordPda)(n,{delegateRole:UL.MetadataDelegateRole.CollectionItem,updateAuthority:(0,ZC.expectSome)(s.updateAuthority),delegate:(0,ZC.expectPublicKey)(r.authority.value),mint:(0,ZC.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,Tke.findMetadataPda)(n,{mint:(0,ZC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,VY.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ZC.getAccountMetasAndSigners)(i,"programId",t),c=l4e().serialize(s),u=0;return(0,VY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}DT.updateAsCollectionItemDelegateV2=SFt;var OT={};Object.defineProperty(OT,"__esModule",{value:!0});OT.updateAsDataDelegateV2=OT.getUpdateAsDataDelegateV2InstructionDataSerializer=void 0;const oK=Z,RA=H,Rke=Zt,BA=Fe,qY=gt;function d4e(){return(0,RA.mapSerializer)((0,RA.struct)([["discriminator",(0,RA.u8)()],["updateAsDataDelegateV2Discriminator",(0,RA.u8)()],["data",(0,RA.option)((0,qY.getDataSerializer)())],["authorizationData",(0,RA.option)((0,qY.getAuthorizationDataSerializer)())]],{description:"UpdateAsDataDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsDataDelegateV2Discriminator:4,data:n.data??(0,oK.none)(),authorizationData:n.authorizationData??(0,oK.none)()}))}OT.getUpdateAsDataDelegateV2InstructionDataSerializer=d4e;function kFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,BA.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Rke.findMetadataDelegateRecordPda)(n,{mint:(0,BA.expectSome)(s.delegateMint),delegateRole:qY.MetadataDelegateRole.Data,updateAuthority:(0,BA.expectSome)(s.delegateUpdateAuthority),delegate:(0,BA.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,Rke.findMetadataPda)(n,{mint:(0,BA.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,oK.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,BA.getAccountMetasAndSigners)(i,"programId",t),c=d4e().serialize(s),u=0;return(0,oK.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}OT.updateAsDataDelegateV2=kFt;var LT={};Object.defineProperty(LT,"__esModule",{value:!0});LT.updateAsDataItemDelegateV2=LT.getUpdateAsDataItemDelegateV2InstructionDataSerializer=void 0;const aK=Z,CA=H,Bke=Zt,JC=Fe,HY=gt;function f4e(){return(0,CA.mapSerializer)((0,CA.struct)([["discriminator",(0,CA.u8)()],["updateAsDataItemDelegateV2Discriminator",(0,CA.u8)()],["data",(0,CA.option)((0,HY.getDataSerializer)())],["authorizationData",(0,CA.option)((0,HY.getAuthorizationDataSerializer)())]],{description:"UpdateAsDataItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsDataItemDelegateV2Discriminator:6,data:n.data??(0,aK.none)(),authorizationData:n.authorizationData??(0,aK.none)()}))}LT.getUpdateAsDataItemDelegateV2InstructionDataSerializer=f4e;function vFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Bke.findMetadataDelegateRecordPda)(n,{delegateRole:HY.MetadataDelegateRole.DataItem,updateAuthority:(0,JC.expectSome)(s.updateAuthority),delegate:(0,JC.expectPublicKey)(r.authority.value),mint:(0,JC.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,Bke.findMetadataPda)(n,{mint:(0,JC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,aK.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,JC.getAccountMetasAndSigners)(i,"programId",t),c=f4e().serialize(s),u=0;return(0,aK.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}LT.updateAsDataItemDelegateV2=vFt;var KT={};Object.defineProperty(KT,"__esModule",{value:!0});KT.updateAsProgrammableConfigDelegateV2=KT.getUpdateAsProgrammableConfigDelegateV2InstructionDataSerializer=void 0;const jY=Z,XC=H,Cke=Zt,MA=Fe,VL=gt;function h4e(){return(0,XC.mapSerializer)((0,XC.struct)([["discriminator",(0,XC.u8)()],["updateAsProgrammableConfigDelegateV2Discriminator",(0,XC.u8)()],["ruleSet",(0,VL.getRuleSetToggleSerializer)()],["authorizationData",(0,XC.option)((0,VL.getAuthorizationDataSerializer)())]],{description:"UpdateAsProgrammableConfigDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsProgrammableConfigDelegateV2Discriminator:5,ruleSet:n.ruleSet??(0,VL.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,jY.none)()}))}KT.getUpdateAsProgrammableConfigDelegateV2InstructionDataSerializer=h4e;function AFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,MA.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Cke.findMetadataDelegateRecordPda)(n,{mint:(0,MA.expectSome)(s.delegateMint),delegateRole:VL.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,MA.expectSome)(s.delegateUpdateAuthority),delegate:(0,MA.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,Cke.findMetadataPda)(n,{mint:(0,MA.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,jY.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,MA.getAccountMetasAndSigners)(i,"programId",t),c=h4e().serialize(s),u=0;return(0,jY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}KT.updateAsProgrammableConfigDelegateV2=AFt;var WT={};Object.defineProperty(WT,"__esModule",{value:!0});WT.updateAsProgrammableConfigItemDelegateV2=WT.getUpdateAsProgrammableConfigItemDelegateV2InstructionDataSerializer=void 0;const GY=Z,QC=H,Mke=Zt,eM=Fe,qL=gt;function g4e(){return(0,QC.mapSerializer)((0,QC.struct)([["discriminator",(0,QC.u8)()],["updateAsProgrammableConfigItemDelegateV2Discriminator",(0,QC.u8)()],["ruleSet",(0,qL.getRuleSetToggleSerializer)()],["authorizationData",(0,QC.option)((0,qL.getAuthorizationDataSerializer)())]],{description:"UpdateAsProgrammableConfigItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsProgrammableConfigItemDelegateV2Discriminator:8,ruleSet:n.ruleSet??(0,qL.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,GY.none)()}))}WT.getUpdateAsProgrammableConfigItemDelegateV2InstructionDataSerializer=g4e;function wFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Mke.findMetadataDelegateRecordPda)(n,{delegateRole:qL.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,eM.expectSome)(s.updateAuthority),delegate:(0,eM.expectPublicKey)(r.authority.value),mint:(0,eM.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,Mke.findMetadataPda)(n,{mint:(0,eM.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,GY.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,eM.getAccountMetasAndSigners)(i,"programId",t),c=g4e().serialize(s),u=0;return(0,GY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}WT.updateAsProgrammableConfigItemDelegateV2=wFt;var NT={};Object.defineProperty(NT,"__esModule",{value:!0});NT.updateAsUpdateAuthorityV2=NT.getUpdateAsUpdateAuthorityV2InstructionDataSerializer=void 0;const Ep=Z,ml=H,IFt=Zt,zke=Fe,Md=gt;function m4e(){return(0,ml.mapSerializer)((0,ml.struct)([["discriminator",(0,ml.u8)()],["updateAsUpdateAuthorityV2Discriminator",(0,ml.u8)()],["newUpdateAuthority",(0,ml.option)((0,ml.publicKey)())],["data",(0,ml.option)((0,Md.getDataSerializer)())],["primarySaleHappened",(0,ml.option)((0,ml.bool)())],["isMutable",(0,ml.option)((0,ml.bool)())],["collection",(0,Md.getCollectionToggleSerializer)()],["collectionDetails",(0,Md.getCollectionDetailsToggleSerializer)()],["uses",(0,Md.getUsesToggleSerializer)()],["ruleSet",(0,Md.getRuleSetToggleSerializer)()],["tokenStandard",(0,ml.option)((0,Md.getTokenStandardSerializer)())],["authorizationData",(0,ml.option)((0,Md.getAuthorizationDataSerializer)())]],{description:"UpdateAsUpdateAuthorityV2InstructionData"}),n=>({...n,discriminator:50,updateAsUpdateAuthorityV2Discriminator:1,newUpdateAuthority:n.newUpdateAuthority??(0,Ep.none)(),data:n.data??(0,Ep.none)(),primarySaleHappened:n.primarySaleHappened??(0,Ep.none)(),isMutable:n.isMutable??(0,Ep.none)(),collection:n.collection??(0,Md.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,Md.collectionDetailsToggle)("None"),uses:n.uses??(0,Md.usesToggle)("None"),ruleSet:n.ruleSet??(0,Md.ruleSetToggle)("None"),tokenStandard:n.tokenStandard??(0,Ep.none)(),authorizationData:n.authorizationData??(0,Ep.none)()}))}NT.getUpdateAsUpdateAuthorityV2InstructionDataSerializer=m4e;function _Ft(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,IFt.findMetadataPda)(n,{mint:(0,zke.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Ep.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,zke.getAccountMetasAndSigners)(i,"programId",t),c=m4e().serialize(s),u=0;return(0,Ep.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}NT.updateAsUpdateAuthorityV2=_Ft;var FT={};Object.defineProperty(FT,"__esModule",{value:!0});FT.updateMetadataAccountV2=FT.getUpdateMetadataAccountV2InstructionDataSerializer=void 0;const dM=Z,Of=H,PFt=Fe,EFt=gt;function y4e(){return(0,Of.mapSerializer)((0,Of.struct)([["discriminator",(0,Of.u8)()],["data",(0,Of.option)((0,EFt.getDataV2Serializer)())],["newUpdateAuthority",(0,Of.option)((0,Of.publicKey)())],["primarySaleHappened",(0,Of.option)((0,Of.bool)())],["isMutable",(0,Of.option)((0,Of.bool)())]],{description:"UpdateMetadataAccountV2InstructionData"}),n=>({...n,discriminator:15,data:n.data??(0,dM.none)(),newUpdateAuthority:n.newUpdateAuthority??(0,dM.none)(),primarySaleHappened:n.primarySaleHappened??(0,dM.none)(),isMutable:n.isMutable??(0,dM.none)()}))}FT.getUpdateMetadataAccountV2InstructionDataSerializer=y4e;function xFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},updateAuthority:{index:1,isWritable:!1,value:e.updateAuthority??null}},s={...e};r.updateAuthority.value||(r.updateAuthority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,PFt.getAccountMetasAndSigners)(i,"programId",t),c=y4e().serialize(s),u=0;return(0,dM.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}FT.updateMetadataAccountV2=xFt;var UT={};Object.defineProperty(UT,"__esModule",{value:!0});UT.updatePrimarySaleHappenedViaToken=UT.getUpdatePrimarySaleHappenedViaTokenInstructionDataSerializer=void 0;const TFt=Z,_q=H,RFt=Fe;function p4e(){return(0,_q.mapSerializer)((0,_q.struct)([["discriminator",(0,_q.u8)()]],{description:"UpdatePrimarySaleHappenedViaTokenInstructionData"}),n=>({...n,discriminator:4}))}UT.getUpdatePrimarySaleHappenedViaTokenInstructionDataSerializer=p4e;function BFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!1,value:e.owner??null},token:{index:2,isWritable:!1,value:e.token??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,RFt.getAccountMetasAndSigners)(s,"programId",t),a=p4e().serialize({}),c=0;return(0,TFt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}UT.updatePrimarySaleHappenedViaToken=BFt;var VT={};Object.defineProperty(VT,"__esModule",{value:!0});VT.updateV1=VT.getUpdateV1InstructionDataSerializer=void 0;const AS=Z,Zl=H,CFt=Zt,$ke=Fe,Lf=gt;function b4e(){return(0,Zl.mapSerializer)((0,Zl.struct)([["discriminator",(0,Zl.u8)()],["updateV1Discriminator",(0,Zl.u8)()],["newUpdateAuthority",(0,Zl.option)((0,Zl.publicKey)())],["data",(0,Zl.option)((0,Lf.getDataSerializer)())],["primarySaleHappened",(0,Zl.option)((0,Zl.bool)())],["isMutable",(0,Zl.option)((0,Zl.bool)())],["collection",(0,Lf.getCollectionToggleSerializer)()],["collectionDetails",(0,Lf.getCollectionDetailsToggleSerializer)()],["uses",(0,Lf.getUsesToggleSerializer)()],["ruleSet",(0,Lf.getRuleSetToggleSerializer)()],["authorizationData",(0,Zl.option)((0,Lf.getAuthorizationDataSerializer)())]],{description:"UpdateV1InstructionData"}),n=>({...n,discriminator:50,updateV1Discriminator:0,newUpdateAuthority:n.newUpdateAuthority??(0,AS.none)(),data:n.data??(0,AS.none)(),primarySaleHappened:n.primarySaleHappened??(0,AS.none)(),isMutable:n.isMutable??(0,AS.none)(),collection:n.collection??(0,Lf.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,Lf.collectionDetailsToggle)("None"),uses:n.uses??(0,Lf.usesToggle)("None"),ruleSet:n.ruleSet??(0,Lf.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,AS.none)()}))}VT.getUpdateV1InstructionDataSerializer=b4e;function MFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,CFt.findMetadataPda)(n,{mint:(0,$ke.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,AS.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,$ke.getAccountMetasAndSigners)(i,"programId",t),c=b4e().serialize(s),u=0;return(0,AS.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}VT.updateV1=MFt;var qT={};Object.defineProperty(qT,"__esModule",{value:!0});qT.useV1=qT.getUseV1InstructionDataSerializer=void 0;const YY=Z,tM=H,zFt=Zt,Dke=Fe,$Ft=gt;function S4e(){return(0,tM.mapSerializer)((0,tM.struct)([["discriminator",(0,tM.u8)()],["useV1Discriminator",(0,tM.u8)()],["authorizationData",(0,tM.option)((0,$Ft.getAuthorizationDataSerializer)())]],{description:"UseV1InstructionData"}),n=>({...n,discriminator:51,useV1Discriminator:0,authorizationData:n.authorizationData??(0,YY.none)()}))}qT.getUseV1InstructionDataSerializer=S4e;function DFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!0,value:e.delegateRecord??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!0,value:e.edition??null},payer:{index:6,isWritable:!1,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:9,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:10,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:11,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,zFt.findMetadataPda)(n,{mint:(0,Dke.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,YY.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Dke.getAccountMetasAndSigners)(i,"programId",t),c=S4e().serialize(s),u=0;return(0,YY.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}qT.useV1=DFt;var HT={};Object.defineProperty(HT,"__esModule",{value:!0});HT.utilize=HT.getUtilizeInstructionDataSerializer=void 0;const Oke=Z,QO=H,OFt=Zt,Lke=Fe;function k4e(){return(0,QO.mapSerializer)((0,QO.struct)([["discriminator",(0,QO.u8)()],["numberOfUses",(0,QO.u64)()]],{description:"UtilizeInstructionData"}),n=>({...n,discriminator:19}))}HT.getUtilizeInstructionDataSerializer=k4e;function LFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},mint:{index:2,isWritable:!0,value:e.mint??null},useAuthority:{index:3,isWritable:!0,value:e.useAuthority??null},owner:{index:4,isWritable:!1,value:e.owner??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null},ataProgram:{index:6,isWritable:!1,value:e.ataProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null},useAuthorityRecord:{index:9,isWritable:!0,value:e.useAuthorityRecord??null},burner:{index:10,isWritable:!1,value:e.burner??null}},s={...e};r.metadata.value||(r.metadata.value=(0,OFt.findMetadataPda)(n,{mint:(0,Lke.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.rent.value||(r.rent.value=(0,Oke.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Lke.getAccountMetasAndSigners)(i,"omitted",t),c=k4e().serialize(s),u=0;return(0,Oke.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}HT.utilize=LFt;var jT={};Object.defineProperty(jT,"__esModule",{value:!0});jT.verifyCollection=jT.getVerifyCollectionInstructionDataSerializer=void 0;const KFt=Z,Pq=H,WFt=Fe;function v4e(){return(0,Pq.mapSerializer)((0,Pq.struct)([["discriminator",(0,Pq.u8)()]],{description:"VerifyCollectionInstructionData"}),n=>({...n,discriminator:18}))}jT.getVerifyCollectionInstructionDataSerializer=v4e;function NFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,WFt.getAccountMetasAndSigners)(s,"omitted",t),a=v4e().serialize({}),c=0;return(0,KFt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}jT.verifyCollection=NFt;var GT={};Object.defineProperty(GT,"__esModule",{value:!0});GT.verifyCollectionV1=GT.getVerifyCollectionV1InstructionDataSerializer=void 0;const Kke=Z,eL=H,Wke=Zt,Eq=Fe;function A4e(){return(0,eL.mapSerializer)((0,eL.struct)([["discriminator",(0,eL.u8)()],["verifyCollectionV1Discriminator",(0,eL.u8)()]],{description:"VerifyCollectionV1InstructionData"}),n=>({...n,discriminator:52,verifyCollectionV1Discriminator:1}))}GT.getVerifyCollectionV1InstructionDataSerializer=A4e;function FFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},collectionMasterEdition:{index:5,isWritable:!1,value:e.collectionMasterEdition??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,Wke.findMetadataPda)(n,{mint:(0,Eq.expectPublicKey)(r.collectionMint.value)})),r.collectionMasterEdition.value||(r.collectionMasterEdition.value=(0,Wke.findMasterEditionPda)(n,{mint:(0,Eq.expectPublicKey)(r.collectionMint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Kke.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Eq.getAccountMetasAndSigners)(s,"programId",t),a=A4e().serialize({}),c=0;return(0,Kke.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}GT.verifyCollectionV1=FFt;var YT={};Object.defineProperty(YT,"__esModule",{value:!0});YT.verifyCreatorV1=YT.getVerifyCreatorV1InstructionDataSerializer=void 0;const Nke=Z,tL=H,UFt=Fe;function w4e(){return(0,tL.mapSerializer)((0,tL.struct)([["discriminator",(0,tL.u8)()],["verifyCreatorV1Discriminator",(0,tL.u8)()]],{description:"VerifyCreatorV1InstructionData"}),n=>({...n,discriminator:52,verifyCreatorV1Discriminator:0}))}YT.getVerifyCreatorV1InstructionDataSerializer=w4e;function VFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},collectionMasterEdition:{index:5,isWritable:!1,value:e.collectionMasterEdition??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Nke.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,UFt.getAccountMetasAndSigners)(s,"programId",t),a=w4e().serialize({}),c=0;return(0,Nke.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}YT.verifyCreatorV1=VFt;var ZT={};Object.defineProperty(ZT,"__esModule",{value:!0});ZT.verifySizedCollectionItem=ZT.getVerifySizedCollectionItemInstructionDataSerializer=void 0;const qFt=Z,xq=H,HFt=Fe;function I4e(){return(0,xq.mapSerializer)((0,xq.struct)([["discriminator",(0,xq.u8)()]],{description:"VerifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:30}))}ZT.getVerifySizedCollectionItemInstructionDataSerializer=I4e;function jFt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,HFt.getAccountMetasAndSigners)(s,"omitted",t),a=I4e().serialize({}),c=0;return(0,qFt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}ZT.verifySizedCollectionItem=jFt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(bx,n),t(Sx,n),t(kx,n),t(vx,n),t(Ax,n),t(wx,n),t(Ix,n),t(_x,n),t(Px,n),t(Ex,n),t(xx,n),t(Tx,n),t(Rx,n),t(Bx,n),t(Cx,n),t(Mx,n),t(zx,n),t($x,n),t(Dx,n),t(Ox,n),t(Lx,n),t(Kx,n),t(Wx,n),t(Nx,n),t(Fx,n),t(Ux,n),t(Vx,n),t(qx,n),t(Hx,n),t(jx,n),t(Gx,n),t(Yx,n),t(Zx,n),t(Jx,n),t(Xx,n),t(Qx,n),t(eT,n),t(tT,n),t(rT,n),t(nT,n),t(sT,n),t(iT,n),t(oT,n),t(aT,n),t(cT,n),t(uT,n),t(lT,n),t(dT,n),t(fT,n),t(hT,n),t(gT,n),t(mT,n),t(yT,n),t(pT,n),t(bT,n),t(ST,n),t(kT,n),t(vT,n),t(AT,n),t(wT,n),t(IT,n),t(_T,n),t(PT,n),t(ET,n),t(xT,n),t(TT,n),t(RT,n),t(BT,n),t(CT,n),t(MT,n),t(zT,n),t($T,n),t(DT,n),t(OT,n),t(LT,n),t(KT,n),t(WT,n),t(NT,n),t(FT,n),t(UT,n),t(VT,n),t(qT,n),t(HT,n),t(jT,n),t(GT,n),t(YT,n),t(ZT,n)})(COe);var _4e={},P4e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplTokenMetadataProgramId=n.getMplTokenMetadataProgram=n.createMplTokenMetadataProgram=n.MPL_TOKEN_METADATA_PROGRAM_ID=void 0;const e=Hae;n.MPL_TOKEN_METADATA_PROGRAM_ID="metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s";function t(){return{name:"mplTokenMetadata",publicKey:n.MPL_TOKEN_METADATA_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplTokenMetadataErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplTokenMetadataErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplTokenMetadataProgram=t;function r(i,o){return i.programs.get("mplTokenMetadata",o)}n.getMplTokenMetadataProgram=r;function s(i,o){return i.programs.getPublicKey("mplTokenMetadata",n.MPL_TOKEN_METADATA_PROGRAM_ID,o)}n.getMplTokenMetadataProgramId=s})(P4e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(P4e,n)})(_4e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Zt,n),t(Hae,n),t(COe,n),t(_4e,n),t(Fe,n),t(gt,n)})(G0);var E4e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFungibleAsset=n.createFungible=n.createProgrammableNft=n.createNft=n.createAndMint=void 0;const e=Z,t=G0,r=(c,u)=>(0,e.transactionBuilder)().add((0,t.createV1)(c,u)).add((0,t.mintV1)(c,{...u,mint:(0,e.publicKey)(u.mint)}));n.createAndMint=r;const s=(c,u)=>(0,n.createAndMint)(c,{...u,tokenStandard:t.TokenStandard.NonFungible,amount:1});n.createNft=s;const i=(c,u)=>(0,n.createAndMint)(c,{...u,tokenStandard:t.TokenStandard.ProgrammableNonFungible,amount:1});n.createProgrammableNft=i;const o=(c,u)=>(0,t.createV1)(c,{...u,tokenStandard:t.TokenStandard.Fungible});n.createFungible=o;const a=(c,u)=>(0,t.createV1)(c,{...u,tokenStandard:t.TokenStandard.FungibleAsset});n.createFungibleAsset=a})(E4e);var tu={};Object.defineProperty(tu,"__esModule",{value:!0});tu.deserializeDigitalAssetWithToken=tu.fetchAllDigitalAssetWithTokenByMint=tu.fetchAllDigitalAssetWithTokenByOwnerAndMint=tu.fetchAllDigitalAssetWithTokenByOwner=tu.fetchDigitalAssetWithTokenByMint=tu.fetchDigitalAssetWithAssociatedToken=tu.fetchDigitalAssetWithToken=void 0;const Hb=Z,yN=gi,x4e=mN,Hd=G0;async function T4e(n,e,t,r){const[s,i,o,a,c]=await n.rpc.getAccounts([e,(0,Hd.findMetadataPda)(n,{mint:e})[0],(0,Hd.findMasterEditionPda)(n,{mint:e})[0],t,(0,Hd.findTokenRecordPda)(n,{mint:e,token:t})[0]],r);return(0,Hb.assertAccountExists)(s,"Mint"),(0,Hb.assertAccountExists)(i,"Metadata"),(0,Hb.assertAccountExists)(a,"Token"),zde(s,i,a,o.exists?o:void 0,c.exists?c:void 0)}tu.fetchDigitalAssetWithToken=T4e;async function GFt(n,e,t,r){const[s]=(0,yN.findAssociatedTokenPda)(n,{mint:e,owner:t});return T4e(n,e,s,r)}tu.fetchDigitalAssetWithAssociatedToken=GFt;async function YFt(n,e,t){const r=await B4e(n,e,t);if(r.length===0)throw new Error("No valid token accounts found for the provided mint");if(r.length>1)throw new Error("Multiple valid token accounts found for the provided mintuse `fetchAllDigitalAssetWithTokenByMint` instead to retrieve them all.");return r[0]}tu.fetchDigitalAssetWithTokenByMint=YFt;async function R4e(n,e,t){const r=await(0,yN.fetchAllTokenByOwner)(n,e,t),s=r.flatMap(o=>[o.mint,(0,Hd.findMetadataPda)(n,{mint:o.mint})[0],(0,Hd.findMasterEditionPda)(n,{mint:o.mint})[0],(0,Hd.findTokenRecordPda)(n,{mint:o.mint,token:o.publicKey})[0]]),i=await n.rpc.getAccounts(s,t);return(0,Hb.zipMap)(r,(0,Hb.chunk)(i,4),(o,a)=>{if(!a||a.length!==4)return[];const[c,u,l,d]=a;if(!c.exists||!u.exists)return[];try{return[{...(0,x4e.deserializeDigitalAsset)(c,u,l.exists?l:void 0),token:o,tokenRecord:d.exists?(0,Hd.deserializeTokenRecord)(d):void 0}]}catch{return[]}}).flat()}tu.fetchAllDigitalAssetWithTokenByOwner=R4e;function ZFt(n,e,t,r){return R4e(n,e,{...r,mint:t})}tu.fetchAllDigitalAssetWithTokenByOwnerAndMint=ZFt;async function B4e(n,e,t){const s=(await(0,yN.findLargestTokensByMint)(n,e,t)).filter(d=>d.amount.basisPoints>0).map(d=>d.publicKey),i=[e,(0,Hd.findMetadataPda)(n,{mint:e})[0],(0,Hd.findMasterEditionPda)(n,{mint:e})[0]];i.push(...s.flatMap(d=>[d,(0,Hd.findTokenRecordPda)(n,{mint:e,token:d})[0]]));const o=await n.rpc.getAccounts(i,t),[a,c,u,...l]=o;return(0,Hb.assertAccountExists)(a,"Mint"),(0,Hb.assertAccountExists)(c,"Metadata"),(0,Hb.chunk)(l,2).flatMap(([d,y])=>d.exists?[zde(a,c,d,u.exists?u:void 0,y.exists?y:void 0)]:[])}tu.fetchAllDigitalAssetWithTokenByMint=B4e;function zde(n,e,t,r,s){return{...(0,x4e.deserializeDigitalAsset)(n,e,r),token:(0,yN.deserializeToken)(t),tokenRecord:s?(0,Hd.deserializeTokenRecord)(s):void 0}}tu.deserializeDigitalAssetWithToken=zde;var pN={};Object.defineProperty(pN,"__esModule",{value:!0});pN.fetchJsonMetadata=void 0;const JFt=Y0,XFt=async(n,e)=>{try{return await n.downloader.downloadJson(e)}catch(t){throw new JFt.TokenMetadataError(`Failed to fetch JSON metadata from ${e}`,t)}};pN.fetchJsonMetadata=XFt;var bN={};Object.defineProperty(bN,"__esModule",{value:!0});bN.mplTokenMetadata=void 0;const QFt=gi,eUt=G0,tUt=()=>({install(n){n.use((0,QFt.mplToolbox)()),n.programs.add((0,eUt.createMplTokenMetadataProgram)(),!1)}});bN.mplTokenMetadata=tUt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(G0,n),t(Sn,n),t(E4e,n),t(mN,n),t(tu,n),t(Y0,n),t(pN,n),t(bN,n)})(T3e);var SN={},$de={},kN={},mu={},L8={};function cK(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function rUt(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function K8(n,...e){if(!rUt(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function nUt(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");cK(n.outputLen),cK(n.blockLen)}function JT(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function C4e(n,e){K8(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const Tq=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sUt=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),Rq=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Kf=(n,e)=>n<<32-e|n>>>e,Fke=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,iUt=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function Uke(n){for(let e=0;e<n.length;e++)n[e]=iUt(n[e])}function oUt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function vN(n){return typeof n=="string"&&(n=oUt(n)),K8(n),n}function aUt(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];K8(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class Dde{clone(){return this._cloneInto()}}function Ode(n){const e=r=>n().update(vN(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function M4e(n=32){if(Tq&&typeof Tq.getRandomValues=="function")return Tq.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function cUt(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const uUt=(n,e,t)=>n&e^~n&t,lUt=(n,e,t)=>n&e^n&t^e&t;class z4e extends Dde{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Rq(this.buffer)}update(e){JT(this);const{view:t,buffer:r,blockLen:s}=this;e=vN(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Rq(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){JT(this),C4e(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;cUt(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Rq(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const rL=BigInt(2**32-1),ZY=BigInt(32);function $4e(n,e=!1){return e?{h:Number(n&rL),l:Number(n>>ZY&rL)}:{h:Number(n>>ZY&rL)|0,l:Number(n&rL)|0}}function D4e(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=$4e(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const dUt=(n,e)=>BigInt(n>>>0)<<ZY|BigInt(e>>>0),fUt=(n,e,t)=>n>>>t,hUt=(n,e,t)=>n<<32-t|e>>>t,gUt=(n,e,t)=>n>>>t|e<<32-t,mUt=(n,e,t)=>n<<32-t|e>>>t,yUt=(n,e,t)=>n<<64-t|e>>>t-32,pUt=(n,e,t)=>n>>>t-32|e<<64-t,bUt=(n,e)=>e,SUt=(n,e)=>n,O4e=(n,e,t)=>n<<t|e>>>32-t,L4e=(n,e,t)=>e<<t|n>>>32-t,K4e=(n,e,t)=>e<<t-32|n>>>64-t,W4e=(n,e,t)=>n<<t-32|e>>>64-t;function kUt(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const vUt=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),AUt=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,wUt=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),IUt=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,_Ut=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),PUt=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,EUt={fromBig:$4e,split:D4e,toBig:dUt,shrSH:fUt,shrSL:hUt,rotrSH:gUt,rotrSL:mUt,rotrBH:yUt,rotrBL:pUt,rotr32H:bUt,rotr32L:SUt,rotlSH:O4e,rotlSL:L4e,rotlBH:K4e,rotlBL:W4e,add:kUt,add3L:vUt,add3H:AUt,add4L:wUt,add4H:IUt,add5H:PUt,add5L:_Ut};var Yr=EUt;const[xUt,TUt]=(()=>Yr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),fp=new Uint32Array(80),hp=new Uint32Array(80);class RUt extends z4e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)fp[p]=e.getUint32(t),hp[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=fp[p-15]|0,w=hp[p-15]|0,A=Yr.rotrSH(I,w,1)^Yr.rotrSH(I,w,8)^Yr.shrSH(I,w,7),P=Yr.rotrSL(I,w,1)^Yr.rotrSL(I,w,8)^Yr.shrSL(I,w,7),E=fp[p-2]|0,M=hp[p-2]|0,x=Yr.rotrSH(E,M,19)^Yr.rotrBH(E,M,61)^Yr.shrSH(E,M,6),R=Yr.rotrSL(E,M,19)^Yr.rotrBL(E,M,61)^Yr.shrSL(E,M,6),$=Yr.add4L(P,R,hp[p-7],hp[p-16]),z=Yr.add4H($,A,x,fp[p-7],fp[p-16]);fp[p]=z|0,hp[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Yr.rotrSH(d,y,14)^Yr.rotrSH(d,y,18)^Yr.rotrBH(d,y,41),w=Yr.rotrSL(d,y,14)^Yr.rotrSL(d,y,18)^Yr.rotrBL(d,y,41),A=d&h^~d&f,P=y&m^~y&g,E=Yr.add5L(S,w,P,TUt[p],hp[p]),M=Yr.add5H(E,b,I,A,xUt[p],fp[p]),x=E|0,R=Yr.rotrSH(r,s,28)^Yr.rotrBH(r,s,34)^Yr.rotrBH(r,s,39),$=Yr.rotrSL(r,s,28)^Yr.rotrBL(r,s,34)^Yr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Yr.add(u|0,l|0,M|0,x|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Yr.add3L(x,$,T);r=Yr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Yr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Yr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Yr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Yr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Yr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Yr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Yr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Yr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){fp.fill(0),hp.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const BUt=Ode(()=>new RUt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Lde=BigInt(0),AN=BigInt(1),CUt=BigInt(2);function Qk(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function W8(n){if(!Qk(n))throw new Error("Uint8Array expected")}function ty(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const MUt=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function ev(n){W8(n);let e="";for(let t=0;t<n.length;t++)e+=MUt[n[t]];return e}function N4e(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function Kde(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const fm={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Vke(n){if(n>=fm._0&&n<=fm._9)return n-fm._0;if(n>=fm._A&&n<=fm._F)return n-(fm._A-10);if(n>=fm._a&&n<=fm._f)return n-(fm._a-10)}function XT(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Vke(n.charCodeAt(i)),a=Vke(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function rk(n){return Kde(ev(n))}function Dw(n){return W8(n),Kde(ev(Uint8Array.from(n).reverse()))}function QT(n,e){return XT(n.toString(16).padStart(e*2,"0"))}function c$(n,e){return QT(n,e).reverse()}function zUt(n){return XT(N4e(n))}function Ma(n,e,t){let r;if(typeof e=="string")try{r=XT(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Qk(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function tv(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];W8(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function $Ut(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function DUt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const Bq=n=>typeof n=="bigint"&&Lde<=n;function wN(n,e,t){return Bq(n)&&Bq(e)&&Bq(t)&&e<=n&&n<t}function hd(n,e,t,r){if(!wN(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function OUt(n){let e;for(e=0;n>Lde;n>>=AN,e+=1);return e}function LUt(n,e){return n>>BigInt(e)&AN}function KUt(n,e,t){return n|(t?AN:Lde)<<BigInt(e)}const Wde=n=>(CUt<<BigInt(n-1))-AN,Cq=n=>new Uint8Array(n),qke=n=>Uint8Array.from(n);function F4e(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=Cq(n),s=Cq(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=Cq())=>{s=a(qke([0]),d),r=a(),d.length!==0&&(s=a(qke([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return tv(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const WUt={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||Qk(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function K2(n,e,t={}){const r=(s,i,o)=>{const a=WUt[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const NUt=()=>{throw new Error("not implemented")};function u$(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var FUt=Object.freeze(Object.defineProperty({__proto__:null,isBytes:Qk,abytes:W8,abool:ty,bytesToHex:ev,numberToHexUnpadded:N4e,hexToNumber:Kde,hexToBytes:XT,bytesToNumberBE:rk,bytesToNumberLE:Dw,numberToBytesBE:QT,numberToBytesLE:c$,numberToVarBytesBE:zUt,ensureBytes:Ma,concatBytes:tv,equalBytes:$Ut,utf8ToBytes:DUt,inRange:wN,aInRange:hd,bitLen:OUt,bitGet:LUt,bitSet:KUt,bitMask:Wde,createHmacDrbg:F4e,validateObject:K2,notImplemented:NUt,memoized:u$},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mc=BigInt(0),lo=BigInt(1),wS=BigInt(2),UUt=BigInt(3),JY=BigInt(4),Hke=BigInt(5),jke=BigInt(8);BigInt(9);BigInt(16);function Wi(n,e){const t=n%e;return t>=Mc?t:e+t}function VUt(n,e,t){if(t<=Mc||e<Mc)throw new Error("Expected power/modulo > 0");if(t===lo)return Mc;let r=lo;for(;e>Mc;)e&lo&&(r=r*n%t),n=n*n%t,e>>=lo;return r}function Bo(n,e,t){let r=n;for(;e-- >Mc;)r*=r,r%=t;return r}function XY(n,e){if(n===Mc||e<=Mc)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=Wi(n,e),r=e,s=Mc,i=lo;for(;t!==Mc;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==lo)throw new Error("invert: does not exist");return Wi(s,e)}function qUt(n){const e=(n-lo)/wS;let t,r,s;for(t=n-lo,r=0;t%wS===Mc;t/=wS,r++);for(s=wS;s<n&&VUt(s,e,n)!==n-lo;s++);if(r===1){const o=(n+lo)/JY;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+lo)/wS;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,lo<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function HUt(n){if(n%JY===UUt){const e=(n+lo)/JY;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%jke===Hke){const e=(n-Hke)/jke;return function(r,s){const i=r.mul(s,wS),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,wS),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return qUt(n)}const jUt=(n,e)=>(Wi(n,e)&lo)===lo,GUt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function YUt(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=GUt.reduce((r,s)=>(r[s]="function",r),e);return K2(n,t)}function ZUt(n,e,t){if(t<Mc)throw new Error("Expected power > 0");if(t===Mc)return n.ONE;if(t===lo)return e;let r=n.ONE,s=e;for(;t>Mc;)t&lo&&(r=n.mul(r,s)),s=n.sqr(s),t>>=lo;return r}function JUt(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function U4e(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function V4e(n,e,t=!1,r={}){if(n<=Mc)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=U4e(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=HUt(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:Wde(s),ZERO:Mc,ONE:lo,create:c=>Wi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Mc<=c&&c<n},is0:c=>c===Mc,isOdd:c=>(c&lo)===lo,neg:c=>Wi(-c,n),eql:(c,u)=>c===u,sqr:c=>Wi(c*c,n),add:(c,u)=>Wi(c+u,n),sub:(c,u)=>Wi(c-u,n),mul:(c,u)=>Wi(c*u,n),pow:(c,u)=>ZUt(a,c,u),div:(c,u)=>Wi(c*XY(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>XY(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>JUt(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?c$(c,i):QT(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?Dw(c):rk(c)}});return Object.freeze(a)}function q4e(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function H4e(n){const e=q4e(n);return e+Math.ceil(e/2)}function XUt(n,e,t=!1){const r=n.length,s=q4e(e),i=H4e(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?rk(n):Dw(n),a=Wi(o,e-lo)+lo;return t?c$(a,s):QT(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const QUt=BigInt(0),Mq=BigInt(1),zq=new WeakMap,Gke=new WeakMap;function j4e(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>QUt;)o&Mq&&(a=a.add(c)),c=c.double(),o>>=Mq;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=Mq);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=Gke.get(i)||1;let u=zq.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&zq.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),Gke.set(i,o),zq.delete(i)}}}function Nde(n){return YUt(n.Fp),K2(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...U4e(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zd=BigInt(0),xu=BigInt(1),nL=BigInt(2),e7t=BigInt(8),t7t={zip215:!0};function r7t(n){const e=Nde(n);return K2(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function n7t(n){const e=r7t(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=nL<<BigInt(a*8)-xu,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:zd}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,_)=>{if(ty("phflag",_),k.length||_)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){hd("coordinate "+v,k,zd,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=u$((v,k)=>{const{ex:_,ey:B,ez:C}=v,O=v.is0();k==null&&(k=O?e7t:t.inv(C));const D=l(_*k),W=l(B*k),L=l(C*k);if(O)return{x:zd,y:xu};if(L!==xu)throw new Error("invZ was invalid");return{x:D,y:W}}),b=u$(v=>{const{a:k,d:_}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:B,ey:C,ez:O,et:D}=v,W=l(B*B),L=l(C*C),U=l(O*O),q=l(U*U),J=l(W*k),Q=l(U*l(J+L)),j=l(q+l(_*l(W*L)));if(Q!==j)throw new Error("bad point: equation left != right (1)");const X=l(B*C),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,_,B,C){this.ex=k,this.ey=_,this.ez=B,this.et=C,m("x",k),m("y",_),m("z",B),m("t",C),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x:_,y:B}=k||{};return m("x",_),m("y",B),new S(_,B,xu,l(_*B))}static normalizeZ(k){const _=t.invertBatch(k.map(B=>B.ez));return k.map((B,C)=>B.toAffine(_[C])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:_,ey:B,ez:C}=this,{ex:O,ey:D,ez:W}=k,L=l(_*W),U=l(O*C),q=l(B*W),J=l(D*C);return L===U&&q===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:_,ey:B,ez:C}=this,O=l(_*_),D=l(B*B),W=l(nL*l(C*C)),L=l(k*O),U=_+B,q=l(l(U*U)-O-D),J=L+D,Q=J-W,j=L-D,X=l(q*Q),re=l(J*j),se=l(q*j),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:_,d:B}=e,{ex:C,ey:O,ez:D,et:W}=this,{ex:L,ey:U,ez:q,et:J}=k;if(_===BigInt(-1)){const $t=l((O-C)*(U+L)),_t=l((O+C)*(U-L)),tt=l(_t-$t);if(tt===zd)return this.double();const Ve=l(D*nL*J),qt=l(W*nL*q),lr=qt+Ve,ur=_t+$t,hr=qt-Ve,Rr=l(lr*tt),ms=l(ur*hr),kn=l(lr*hr),ys=l(tt*ur);return new S(Rr,ms,ys,kn)}const Q=l(C*L),j=l(O*U),X=l(W*B*J),re=l(D*q),se=l((C+O)*(L+U)-Q-j),ee=re-X,ne=re+X,_e=l(j-_*Q),Pe=l(se*ee),We=l(ne*_e),Ne=l(se*_e),Yt=l(ee*ne);return new S(Pe,We,Yt,Ne)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const _=k;hd("scalar",_,xu,r);const{p:B,f:C}=this.wNAF(_);return S.normalizeZ([B,C])[0]}multiplyUnsafe(k){const _=k;return hd("scalar",_,zd,r),_===zd?I:this.equals(I)||_===xu?this:this.equals(p)?this.wNAF(_).p:w.unsafeLadder(this,_)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===xu?this:this.multiplyUnsafe(k)}static fromHex(k,_=!1){const{d:B,a:C}=e,O=t.BYTES;k=Ma("pointHex",k,O),ty("zip215",_);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=Dw(D),U=_?u:t.ORDER;hd("pointHex.y",L,zd,U);const q=l(L*L),J=l(q-xu),Q=l(B*q-C);let{isValid:j,value:X}=d(J,Q);if(!j)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&xu)===xu,se=(W&128)!==0;if(!_&&X===zd&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:_}=this.toAffine(),B=c$(_,t.BYTES);return B[B.length-1]|=k&xu?128:0,B}toHex(){return ev(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,xu,l(e.Gx*e.Gy)),S.ZERO=new S(zd,xu,xu,zd);const{BASE:p,ZERO:I}=S,w=j4e(S,a*8);function A(v){return Wi(v,r)}function P(v){return A(Dw(v))}function E(v){const k=a;v=Ma("private key",v,k);const _=Ma("hashed private key",i(v),2*k),B=y(_.slice(0,k)),C=_.slice(k,2*k),O=P(B),D=p.multiply(O),W=D.toRawBytes();return{head:B,prefix:C,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function x(v=new Uint8Array,...k){const _=tv(...k);return P(i(h(_,Ma("context",v),!!s)))}function R(v,k,_={}){v=Ma("message",v),s&&(v=s(v));const{prefix:B,scalar:C,pointBytes:O}=E(k),D=x(_.context,B,v),W=p.multiply(D).toRawBytes(),L=x(_.context,W,O,v),U=A(D+L*C);hd("signature.s",U,zd,r);const q=tv(W,c$(U,t.BYTES));return Ma("result",q,a*2)}const $=t7t;function z(v,k,_,B=$){const{context:C,zip215:O}=B,D=t.BYTES;v=Ma("signature",v,2*D),k=Ma("message",k),O!==void 0&&ty("zip215",O),s&&(k=s(k));const W=Dw(v.slice(D,2*D));let L,U,q;try{L=S.fromHex(_,O),U=S.fromHex(v.slice(0,D),O),q=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=x(C,U.toRawBytes(),L.toRawBytes(),k);return U.add(L.multiplyUnsafe(J)).subtract(q).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fde=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Yke=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const s7t=BigInt(1),Zke=BigInt(2);BigInt(3);const i7t=BigInt(5),o7t=BigInt(8);function a7t(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=Fde,a=n*n%i*n%i,c=Bo(a,Zke,i)*a%i,u=Bo(c,s7t,i)*n%i,l=Bo(u,i7t,i)*u%i,d=Bo(l,e,i)*l%i,y=Bo(d,t,i)*d%i,h=Bo(y,r,i)*y%i,m=Bo(h,s,i)*h%i,f=Bo(m,s,i)*h%i,g=Bo(f,e,i)*l%i;return{pow_p_5_8:Bo(g,Zke,i)*n%i,b2:a}}function c7t(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function u7t(n,e){const t=Fde,r=Wi(e*e*e,t),s=Wi(r*r*e,t),i=a7t(n*s).pow_p_5_8;let o=Wi(n*r*i,t);const a=Wi(e*o*o,t),c=o,u=Wi(o*Yke,t),l=a===n,d=a===Wi(-n,t),y=a===Wi(-n*Yke,t);return l&&(o=c),(d||y)&&(o=u),jUt(o,t)&&(o=Wi(-o,t)),{isValid:l||d,value:o}}const l7t=(()=>V4e(Fde,void 0,!0))(),d7t=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:l7t,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:o7t,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:BUt,randomBytes:M4e,adjustScalarBytes:c7t,uvRatio:u7t}))(),W2=(()=>n7t(d7t))(),f7t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),gp=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),mp=new Uint32Array(64);class h7t extends z4e{constructor(){super(64,32,8,!1),this.A=gp[0]|0,this.B=gp[1]|0,this.C=gp[2]|0,this.D=gp[3]|0,this.E=gp[4]|0,this.F=gp[5]|0,this.G=gp[6]|0,this.H=gp[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)mp[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=mp[d-15],h=mp[d-2],m=Kf(y,7)^Kf(y,18)^y>>>3,f=Kf(h,17)^Kf(h,19)^h>>>10;mp[d]=f+mp[d-7]+m+mp[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Kf(a,6)^Kf(a,11)^Kf(a,25),h=l+y+uUt(a,c,u)+f7t[d]+mp[d]|0,f=(Kf(r,2)^Kf(r,13)^Kf(r,22))+lUt(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){mp.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const QY=Ode(()=>new h7t);class g7t extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function m7t(n){return N8(n)&&typeof n[Symbol.iterator]=="function"}function N8(n){return typeof n=="object"&&n!=null}function uK(n){return N8(n)&&!Array.isArray(n)}function yf(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function y7t(n){const{done:e,value:t}=n.next();return e?void 0:t}function p7t(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${yf(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*Jke(n,e,t,r){m7t(n)||(n=[n]);for(const s of n){const i=p7t(s,e,t,r);i&&(yield i)}}function*Ude(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=Ude(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):N8(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class kg{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return Jke(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return Jke(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return G4e(e,this,t)}create(e,t){return It(e,this,t)}is(e){return Y4e(e,this)}mask(e,t){return b7t(e,this,t)}validate(e,t={}){return F8(e,this,t)}}function G4e(n,e,t){const r=F8(n,e,{message:t});if(r[0])throw r[0]}function It(n,e,t){const r=F8(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function b7t(n,e,t){const r=F8(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function Y4e(n,e){return!F8(n,e)[0]}function F8(n,e,t={}){const r=Ude(n,e,t),s=y7t(r);if(s[0])return[new g7t(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function Ov(n,e){return new kg({type:n,schema:null,validator:e})}function S7t(){return Ov("any",()=>!0)}function zt(n){return new kg({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${yf(e)}`}})}function eg(){return Ov("boolean",n=>typeof n=="boolean")}function Vde(n){return Ov("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${yf(e)}`)}function eo(n){const e=yf(n),t=typeof n;return new kg({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${yf(r)}`}})}function k7t(){return Ov("never",()=>!1)}function Vt(n){return new kg({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function ve(){return Ov("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${yf(n)}`)}function Pr(n){return new kg({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function Z4e(n,e){return new kg({type:"record",schema:null,*entries(t){if(N8(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return uK(t)||`Expected an object, but received: ${yf(t)}`},coercer(t){return uK(t)?{...t}:t}})}function et(){return Ov("string",n=>typeof n=="string"||`Expected a string, but received: ${yf(n)}`)}function qde(n){const e=k7t();return new kg({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${yf(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Le(n){const e=Object.keys(n);return new kg({type:"type",schema:n,*entries(t){if(N8(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return uK(t)||`Expected an object, but received: ${yf(t)}`},coercer(t){return uK(t)?{...t}:t}})}function hu(n){const e=n.map(t=>t.type).join(" | ");return new kg({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=Ude(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${yf(t)}`,...s]}})}function N2(){return Ov("unknown",()=>!0)}function U8(n,e,t){return new kg({...n,coercer:(r,s)=>Y4e(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const J4e=[],X4e=[],Q4e=[],v7t=BigInt(0),rM=BigInt(1),A7t=BigInt(2),w7t=BigInt(7),I7t=BigInt(256),_7t=BigInt(113);for(let n=0,e=rM,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],J4e.push(2*(5*r+t)),X4e.push((n+1)*(n+2)/2%64);let s=v7t;for(let i=0;i<7;i++)e=(e<<rM^(e>>w7t)*_7t)%I7t,e&A7t&&(s^=rM<<(rM<<BigInt(i))-rM);Q4e.push(s)}const[P7t,E7t]=D4e(Q4e,!0),Xke=(n,e,t)=>t>32?K4e(n,e,t):O4e(n,e,t),Qke=(n,e,t)=>t>32?W4e(n,e,t):L4e(n,e,t);function x7t(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=Xke(u,l,1)^t[a],y=Qke(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=X4e[o],c=Xke(s,i,a),u=Qke(s,i,a),l=J4e[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=P7t[r],n[1]^=E7t[r]}t.fill(0)}class Hde extends Dde{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,cK(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=sUt(this.state)}keccak(){Fke||Uke(this.state32),x7t(this.state32,this.rounds),Fke||Uke(this.state32),this.posOut=0,this.pos=0}update(e){JT(this);const{blockLen:t,state:r}=this;e=vN(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){JT(this,!1),K8(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return cK(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(C4e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Hde(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const T7t=(n,e,t)=>Ode(()=>new Hde(e,n,t)),eve=T7t(1,136,256/8);class eKe extends Dde{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,nUt(e);const r=vN(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return JT(this),this.iHash.update(e),this}digestInto(e){JT(this),K8(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const tKe=(n,e,t)=>new eKe(n,e).update(t).digest();tKe.create=(n,e)=>new eKe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function tve(n){n.lowS!==void 0&&ty("lowS",n.lowS),n.prehash!==void 0&&ty("prehash",n.prehash)}function R7t(n){const e=Nde(n);K2(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:B7t,hexToBytes:C7t}=FUt,qS={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=qS;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:B7t(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=qS,t=typeof n=="string"?C7t(n):n;W8(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=qS._parseInt(t.subarray(2)),{d:o,l:a}=qS._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Kp=BigInt(0),Ha=BigInt(1);BigInt(2);const rve=BigInt(3);BigInt(4);function M7t(n){const e=R7t(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return tv(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return wN(m,Ha,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(Qk(m)&&(m=ev(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:rk(Ma("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=Wi(p,S)),hd("private key",p,Ha,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=u$((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=u$(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(Ma("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),P=t.eql(t.mul(b,w),t.mul(I,S));return A&&P}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,rve),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,P=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),x=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),P=t.mul(S,I),P=t.add(P,P),w=t.mul(f,P),A=t.mul(b,x),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),P=t.mul(b,P),x=t.mul(f,x),R=t.sub(E,x),R=t.mul(f,R),R=t.add(R,P),P=t.add(E,E),E=t.add(P,E),E=t.add(E,x),E=t.mul(E,R),A=t.add(A,E),x=t.mul(p,I),x=t.add(x,x),E=t.mul(x,R),w=t.sub(w,E),P=t.mul(x,M),P=t.add(P,P),P=t.add(P,P),new d(w,A,P)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,P=t.ZERO,E=t.ZERO;const M=e.a,x=t.mul(e.b,rve);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(x,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),P=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(x,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),P=t.add(P,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,P,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){hd("scalar",f,Kp,e.n);const g=d.ZERO;if(f===Kp)return g;if(f===Ha)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,P=g,E=this;for(;p>Kp||w>Kp;)p&Ha&&(A=A.add(E)),w&Ha&&(P=P.add(E)),E=E.double(),p>>=Ha,w>>=Ha;return S&&(A=A.negate()),I&&(P=P.negate()),P=new d(t.mul(P.px,b.beta),P.py,P.pz),A.add(P)}multiply(f){const{endo:g,n:b}=e;hd("scalar",f,Ha,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:P}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:x,f:R}=this.wNAF(P);E=h.constTimeNegate(I,E),x=h.constTimeNegate(A,x),x=new d(t.mul(x.px,g.beta),x.py,x.pz),S=E.add(x),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===Kp||A===Ha||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===Ha)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===Ha?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return ty("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return ty("isCompressed",f),ev(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=j4e(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function z7t(n){const e=Nde(n);return K2(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function $7t(n){const e=z7t(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return Wi(T,r)}function a(T){return XY(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=M7t({...e,toBytes(T,v,k){const _=v.toAffine(),B=t.toBytes(_.x),C=tv;return ty("isCompressed",k),k?C(Uint8Array.from([v.hasEvenY()?2:3]),B):C(Uint8Array.from([4]),B,t.toBytes(_.y))},fromBytes(T){const v=T.length,k=T[0],_=T.subarray(1);if(v===s&&(k===2||k===3)){const B=rk(_);if(!wN(B,Ha,t.ORDER))throw new Error("Point is not on curve");const C=l(B);let O;try{O=t.sqrt(C)}catch(L){const U=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+U)}const D=(O&Ha)===Ha;return(k&1)===1!==D&&(O=t.neg(O)),{x:B,y:O}}else if(v===i&&k===4){const B=t.fromBytes(_.subarray(0,t.BYTES)),C=t.fromBytes(_.subarray(t.BYTES,2*t.BYTES));return{x:B,y:C}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>ev(QT(T,e.nByteLength));function h(T){const v=r>>Ha;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>rk(T.slice(v,k));class g{constructor(v,k,_){this.r=v,this.s=k,this.recovery=_,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=Ma("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:_}=qS.toSig(Ma("DER",v));return new g(k,_)}assertValidity(){hd("r",this.r,Ha,r),hd("s",this.s,Ha,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:_,recovery:B}=this,C=A(Ma("msgHash",v));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const O=B===2||B===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(B&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),U=o(-C*L),q=o(_*L),J=c.BASE.multiplyAndAddUnsafe(W,U,q);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return XT(this.toDERHex())}toDERHex(){return qS.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return XT(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=H4e(e.n);return XUt(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=Qk(T),k=typeof T=="string",_=(v||k)&&T.length;return v?_===s||_===i:k?_===2*s||_===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=rk(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},P=Wde(e.nBitLength);function E(T){return hd(`num < 2^${e.nBitLength}`,T,Kp,P),QT(T,e.nByteLength)}function M(T,v,k=x){if(["recovered","canonical"].some(j=>j in k))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:B}=e;let{lowS:C,prehash:O,extraEntropy:D}=k;C==null&&(C=!0),T=Ma("msgHash",T),tve(k),O&&(T=Ma("prehashed msgHash",_(T)));const W=A(T),L=u(v),U=[E(L),E(W)];if(D!=null&&D!==!1){const j=D===!0?B(t.BYTES):D;U.push(Ma("extraEntropy",j))}const q=tv(...U),J=W;function Q(j){const X=w(j);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Kp)return;const ne=o(re*o(J+ee*L));if(ne===Kp)return;let _e=(se.x===ee?0:2)|Number(se.y&Ha),Pe=ne;return C&&h(ne)&&(Pe=m(ne),_e^=1),new g(ee,Pe,_e)}return{seed:q,k2sig:Q}}const x={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=x){const{seed:_,k2sig:B}=M(T,v,k),C=e;return F4e(C.hash.outputLen,C.nByteLength,C.hmac)(_,B)}c.BASE._setWindowSize(8);function z(T,v,k,_=R){var se;const B=T;if(v=Ma("msgHash",v),k=Ma("publicKey",k),"strict"in _)throw new Error("options.strict was renamed to lowS");tve(_);const{lowS:C,prehash:O}=_;let D,W;try{if(typeof B=="string"||Qk(B))try{D=g.fromDER(B)}catch(ee){if(!(ee instanceof qS.Err))throw ee;D=g.fromCompact(B)}else if(typeof B=="object"&&typeof B.r=="bigint"&&typeof B.s=="bigint"){const{r:ee,s:ne}=B;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(C&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:U}=D,q=A(v),J=a(U),Q=o(q*J),j=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,j))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function D7t(n){return{hash:n,hmac:(e,...t)=>tKe(n,e,aUt(...t)),randomBytes:M4e}}function O7t(n,e){const t=r=>$7t({...n,...D7t(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rKe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),nve=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),L7t=BigInt(1),eZ=BigInt(2),sve=(n,e)=>(n+e/eZ)/e;function K7t(n){const e=rKe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=Bo(l,t,e)*l%e,y=Bo(d,t,e)*l%e,h=Bo(y,eZ,e)*u%e,m=Bo(h,s,e)*h%e,f=Bo(m,i,e)*m%e,g=Bo(f,a,e)*f%e,b=Bo(g,c,e)*g%e,S=Bo(b,a,e)*f%e,p=Bo(S,t,e)*l%e,I=Bo(p,o,e)*m%e,w=Bo(I,r,e)*u%e,A=Bo(w,eZ,e);if(!tZ.eql(tZ.sqr(A),n))throw new Error("Cannot find square root");return A}const tZ=V4e(rKe,void 0,void 0,{sqrt:K7t}),IN=O7t({a:BigInt(0),b:BigInt(7),Fp:tZ,n:nve,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=nve,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-L7t*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=sve(i*n,e),c=sve(-r*n,e);let u=Wi(n-a*t-c*s,e),l=Wi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},QY);BigInt(0);IN.ProjectivePoint;const W7t=W2.utils.randomPrivateKey,ive=()=>{const n=W2.utils.randomPrivateKey(),e=lK(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},lK=W2.getPublicKey;function ove(n){try{return W2.ExtendedPoint.fromHex(n),!0}catch{return!1}}const jde=(n,e)=>W2.sign(n,e.slice(0,32)),N7t=W2.verify,pn=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class Gde{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(tg(CM,this))}static decode(e){return rg(CM,this,e)}static decodeUnchecked(e){return ng(CM,this,e)}}class F7t extends Gde{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const CM=new Map;var nKe;const sKe=32,Fh=32;function U7t(n){return n._bn!==void 0}let ave=1;class ft extends Gde{constructor(e){if(super({}),this._bn=void 0,U7t(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ae.decode(e);if(t.length!=Fh)throw new Error("Invalid public key input");this._bn=new Ni(t)}else this._bn=new Ni(e);if(this._bn.byteLength()>Fh)throw new Error("Invalid public key input")}}static unique(){const e=new ft(ave);return ave+=1,new ft(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ae.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Fh)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=QY(s);return new ft(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>sKe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,pn(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=QY(r);if(ove(s))throw new Error("Invalid seeds, address must fall off the curve");return new ft(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new ft(e);return ove(t.toBytes())}}nKe=ft;ft.default=new nKe("11111111111111111111111111111111");CM.set(ft,{kind:"struct",fields:[["_bn","u256"]]});class V7t{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=pn(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=pn(W7t()),this._publicKey=pn(lK(this._secretKey))}get publicKey(){return new ft(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const q7t=new ft("BPFLoader1111111111111111111111111111111111"),jb=1280-40-8,_N=127,l$=64;class Yde extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Yde.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Zde extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Zde.prototype,"name",{value:"TransactionExpiredTimeoutError"});class nw extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(nw.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class d${constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const Dn=(n="publicKey")=>ie(32,n),H7t=(n="signature")=>ie(64,n),HS=(n="string")=>{const e=N([F("length"),F("lengthPadding"),ie(Gt(F(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>F().span+F().span+V.Buffer.from(i,"utf8").length,s},j7t=(n="authorized")=>N([Dn("staker"),Dn("withdrawer")],n),G7t=(n="lockup")=>N([Ee("unixTimestamp"),Ee("epoch"),Dn("custodian")],n),Y7t=(n="voteInit")=>N([Dn("nodePubkey"),Dn("authorizedVoter"),Dn("authorizedWithdrawer"),te("commission")],n),Z7t=(n="voteAuthorizeWithSeedArgs")=>N([F("voteAuthorizationType"),Dn("currentAuthorityDerivedKeyOwnerPubkey"),HS("currentAuthorityDerivedKeySeed"),Dn("newAuthorized")],n);function iKe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return iKe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function Zu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function El(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function os(n,e){if(!n)throw new Error(e||"Assertion failed")}class PN{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new PN(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];os(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{os(t.length>0,"Expected at least one writable signer key");const[c]=t[0];os(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new ft(c)),...r.map(([c])=>new ft(c)),...s.map(([c])=>new ft(c)),...i.map(([c])=>new ft(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new ft(i),c=e.findIndex(u=>u.equals(a));c>=0&&(os(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const oKe="Reached end of buffer unexpectedly";function Ph(n){if(n.length===0)throw new Error(oKe);return n.shift()}function Ju(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(oKe);return n.splice(...e)}class pf{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ft(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ae.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new d$(this.staticAccountKeys)}static compile(e){const t=PN.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new d$(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ae.encode(a.data)}));return new pf({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];El(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ae.decode(d.data));let f=[];El(f,y.length);let g=[];return El(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];El(s,r.length);let i=V.Buffer.alloc(jb);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=N([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=N([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(Dn("key"),e,"keys"),Dn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>pn(d.toBytes())),recentBlockhash:Ae.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=Ph(t);if(r!==(r&_N))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Ph(t),i=Ph(t),o=Zu(t);let a=[];for(let y=0;y<o;y++){const h=Ju(t,0,Fh);a.push(new ft(V.Buffer.from(h)))}const c=Ju(t,0,Fh),u=Zu(t);let l=[];for(let y=0;y<u;y++){const h=Ph(t),m=Zu(t),f=Ju(t,0,m),g=Zu(t),b=Ju(t,0,g),S=Ae.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ae.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new pf(d)}}class rv{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new d$(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=PN.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new d$(a,s).compileInstructions(e.instructions);return new rv({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();El(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();El(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();El(i,this.addressTableLookups.length);const o=N([te("prefix"),N([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(Dn(),this.staticAccountKeys.length,"staticAccountKeys"),Dn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(jb),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ae.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(jb);for(const r of this.compiledInstructions){const s=Array();El(s,r.accountKeyIndexes.length);const i=Array();El(i,r.data.length),e+=N([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(jb);for(const r of this.addressTableLookups){const s=Array();El(s,r.writableIndexes.length);const i=Array();El(i,r.readonlyIndexes.length),e+=N([Dn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Ph(t),s=r&_N;os(r!==s,"Expected versioned message but received legacy message");const i=s;os(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:Ph(t),numReadonlySignedAccounts:Ph(t),numReadonlyUnsignedAccounts:Ph(t)},a=[],c=Zu(t);for(let m=0;m<c;m++)a.push(new ft(Ju(t,0,Fh)));const u=Ae.encode(Ju(t,0,Fh)),l=Zu(t),d=[];for(let m=0;m<l;m++){const f=Ph(t),g=Zu(t),b=Ju(t,0,g),S=Zu(t),p=new Uint8Array(Ju(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=Zu(t),h=[];for(let m=0;m<y;m++){const f=new ft(Ju(t,0,Fh)),g=Zu(t),b=Ju(t,0,g),S=Zu(t),p=Ju(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new rv({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const Jde={deserializeMessageVersion(n){const e=n[0],t=e&_N;return t===e?"legacy":t},deserialize:n=>{const e=Jde.deserializeMessageVersion(n);if(e==="legacy")return pf.from(n);if(e===0)return rv.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Im=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const J7t=V.Buffer.alloc(l$).fill(0);class Fs{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class gs{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Fs(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new ft(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ae.encode(g)}});return m.forEach(f=>{os(f.programIdIndex>=0),f.accounts.forEach(g=>os(g>=0))}),new pf({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=jde(r,s.secretKey);this._addSignature(s.publicKey,pn(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){os(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):N7t(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];El(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return os(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(os(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),os(i.length<=jb,`Transaction too large: ${i.length} > ${jb}`),i}get keys(){return os(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return os(this.instructions.length===1),this.instructions[0].programId}get data(){return os(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Zu(t);let s=[];for(let i=0;i<r;i++){const o=Ju(t,0,l$);s.push(Ae.encode(V.Buffer.from(o)))}return gs.populate(pf.from(t),s)}static populate(e,t=[]){const r=new gs;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ae.encode(J7t)?null:Ae.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Fs({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ae.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Xde{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;os(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;os(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new Fs({programId:g,data:pn(m.data),keys:f}))}return new Xde({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return pf.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return rv.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class Qde{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)os(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(l$));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();El(t,this.signatures.length);const r=N([ie(t.length,"encodedSignaturesLength"),we(H7t(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=Zu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(Ju(t,0,l$)));const i=Jde.deserialize(new Uint8Array(t));return new Qde(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));os(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=jde(t,s.secretKey)}}addSignature(e,t){os(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));os(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const X7t=160,Q7t=64,e9t=X7t/Q7t,aKe=1e3/e9t,Jf=new ft("SysvarC1ock11111111111111111111111111111111"),t9t=new ft("SysvarEpochSchedu1e111111111111111111111111"),r9t=new ft("Sysvar1nstructions1111111111111111111111111"),HL=new ft("SysvarRecentB1ockHashes11111111111111111111"),eR=new ft("SysvarRent111111111111111111111111111111111"),n9t=new ft("SysvarRewards111111111111111111111111111111"),s9t=new ft("SysvarS1otHashes111111111111111111111111111"),i9t=new ft("SysvarS1otHistory11111111111111111111111111"),jL=new ft("SysvarStakeHistory1111111111111111111111111");class f$ extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const o9t={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class cr extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function rZ(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new f$({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function IS(n){return new Promise(e=>setTimeout(e,n))}function Gn(n,e){const t=n.layout.span>=0?n.layout.span:iKe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function Ps(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const cKe=fe("lamportsPerSignature"),uKe=N([F("version"),F("state"),Dn("authorizedPubkey"),Dn("nonce"),N([cKe],"feeCalculator")]),nZ=uKe.span;class EN{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=uKe.decode(pn(e),0);return new EN({authorizedPubkey:new ft(t.authorizedPubkey),nonce:new ft(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const a9t=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},c9t=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=a9t(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return sg(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=ya(o,n);return r(u,a,c)},i},tR=c9t(8);class u9t{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ai))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=Ps(ai.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new ft(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Ps(ai.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=Ps(ai.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new ft(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Ps(ai.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=Ps(ai.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ft(t),seed:r,space:s,programId:new ft(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Ps(ai.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ft(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=Ps(ai.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ft(t),seed:r,programId:new ft(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=Ps(ai.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ft(t),seed:r,lamports:s,space:i,programId:new ft(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Ps(ai.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ft(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Ps(ai.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Ps(ai.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Ps(ai.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ft(t)}}static checkProgramId(e){if(!e.equals(Ac.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ai=Object.freeze({Create:{index:0,layout:N([F("instruction"),Ee("lamports"),Ee("space"),Dn("programId")])},Assign:{index:1,layout:N([F("instruction"),Dn("programId")])},Transfer:{index:2,layout:N([F("instruction"),tR("lamports")])},CreateWithSeed:{index:3,layout:N([F("instruction"),Dn("base"),HS("seed"),Ee("lamports"),Ee("space"),Dn("programId")])},AdvanceNonceAccount:{index:4,layout:N([F("instruction")])},WithdrawNonceAccount:{index:5,layout:N([F("instruction"),Ee("lamports")])},InitializeNonceAccount:{index:6,layout:N([F("instruction"),Dn("authorized")])},AuthorizeNonceAccount:{index:7,layout:N([F("instruction"),Dn("authorized")])},Allocate:{index:8,layout:N([F("instruction"),Ee("space")])},AllocateWithSeed:{index:9,layout:N([F("instruction"),Dn("base"),HS("seed"),Ee("space"),Dn("programId")])},AssignWithSeed:{index:10,layout:N([F("instruction"),Dn("base"),HS("seed"),Dn("programId")])},TransferWithSeed:{index:11,layout:N([F("instruction"),tR("lamports"),HS("seed"),Dn("programId")])},UpgradeNonceAccount:{index:12,layout:N([F("instruction")])}});class Ac{constructor(){}static createAccount(e){const t=ai.Create,r=Gn(t,{lamports:e.lamports,space:e.space,programId:pn(e.programId.toBuffer())});return new Fs({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=ai.TransferWithSeed;t=Gn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:pn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=ai.Transfer;t=Gn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Fs({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=ai.AssignWithSeed;t=Gn(s,{base:pn(e.basePubkey.toBuffer()),seed:e.seed,programId:pn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=ai.Assign;t=Gn(s,{programId:pn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Fs({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=ai.CreateWithSeed,r=Gn(t,{base:pn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:pn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Fs({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new gs;"basePubkey"in e&&"seed"in e?t.add(Ac.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:nZ,programId:this.programId})):t.add(Ac.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:nZ,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=ai.InitializeNonceAccount,r=Gn(t,{authorized:pn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:HL,isSigner:!1,isWritable:!1},{pubkey:eR,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Fs(s)}static nonceAdvance(e){const t=ai.AdvanceNonceAccount,r=Gn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:HL,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Fs(s)}static nonceWithdraw(e){const t=ai.WithdrawNonceAccount,r=Gn(t,{lamports:e.lamports});return new Fs({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:HL,isSigner:!1,isWritable:!1},{pubkey:eR,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=ai.AuthorizeNonceAccount,r=Gn(t,{authorized:pn(e.newAuthorizedPubkey.toBuffer())});return new Fs({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=ai.AllocateWithSeed;t=Gn(s,{base:pn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:pn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=ai.Allocate;t=Gn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Fs({keys:r,programId:this.programId,data:t})}}Ac.programId=new ft("11111111111111111111111111111111");const l9t=jb-300;class nv{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/nv.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new gs,h.add(Ac.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new gs,h.add(Ac.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new gs,h.add(Ac.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new gs().add(Ac.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await rZ(e,h,[t,r],{commitment:"confirmed"})}const o=N([F("instruction"),F("offset"),F("bytesLength"),F("bytesLengthPadding"),we(te("byte"),Gt(F(),-8),"bytes")]),a=nv.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new gs().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(rZ(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await IS(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=N([F("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new gs().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:eR,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(aKe/2)))}}return!0}}nv.chunkSize=l9t;const d9t=new ft("BPFLoader2111111111111111111111111111111111");class f9t{static getMinNumSignatures(e){return nv.getMinNumSignatures(e)}static load(e,t,r,s,i){return nv.load(e,t,r,i,s)}}function h9t(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $q,cve;function g9t(){if(cve)return $q;cve=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return $q=function(r){var s=t(r,!1);if(s!==void 0)return""+s},$q}var m9t=g9t(),uve=h9t(m9t);const nM=32;function Dq(n){let e=0;for(;n>1;)n/=2,e++;return e}function y9t(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class lKe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=Dq(y9t(e+nM+1))-Dq(nM)-1,r=this.getSlotsInEpoch(t),s=e-(r-nM);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*nM:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Dq(nM)):this.slotsPerEpoch}}var p9t=globalThis.fetch;class b9t extends ay{constructor(e,t,r){const s=i=>{const o=uy(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function S9t(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const lve=56;class sZ{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=S9t(k9t,e),r=e.length-lve;os(r>=0,"lookup table is invalid"),os(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=N([we(Dn(),s,"addresses")]).decode(e.slice(lve));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new ft(t.authority[0]):void 0,addresses:i.map(o=>new ft(o))}}}const k9t={index:1,layout:N([F("typeIndex"),tR("deactivationSlot"),fe("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(Dn(),Gt(te(),-1),"authority")])},v9t=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function A9t(n){const e=n.match(v9t);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const ko=U8(Vde(ft),et(),n=>new ft(n)),dKe=qde([et(),eo("base64")]),efe=U8(Vde(V.Buffer),dKe,n=>V.Buffer.from(n[0],"base64")),fKe=30*1e3;function w9t(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Js(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function dve(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function hKe(n){return hu([Le({jsonrpc:eo("2.0"),id:et(),result:n}),Le({jsonrpc:eo("2.0"),id:et(),error:Le({code:N2(),message:et(),data:Pr(S7t())})})])}const I9t=hKe(N2());function an(n){return U8(hKe(n),I9t,e=>"error"in e?e:{...e,result:It(e.result,n)})}function na(n){return an(Le({context:Le({slot:ve()}),value:n}))}function xN(n){return Le({context:Le({slot:ve()}),value:n})}function Oq(n,e){return n===0?new rv({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new ft(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ae.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new pf(e)}const _9t=Le({foundation:ve(),foundationTerm:ve(),initial:ve(),taper:ve(),terminal:ve()}),P9t=an(zt(Vt(Le({epoch:ve(),effectiveSlot:ve(),amount:ve(),postBalance:ve(),commission:Pr(Vt(ve()))})))),E9t=zt(Le({slot:ve(),prioritizationFee:ve()})),x9t=Le({total:ve(),validator:ve(),foundation:ve(),epoch:ve()}),T9t=Le({epoch:ve(),slotIndex:ve(),slotsInEpoch:ve(),absoluteSlot:ve(),blockHeight:Pr(ve()),transactionCount:Pr(ve())}),R9t=Le({slotsPerEpoch:ve(),leaderScheduleSlotOffset:ve(),warmup:eg(),firstNormalEpoch:ve(),firstNormalSlot:ve()}),B9t=Z4e(et(),zt(ve())),Lv=Vt(hu([Le({}),et()])),C9t=Le({err:Lv}),M9t=eo("receivedSignature"),z9t=Le({"solana-core":et(),"feature-set":Pr(ve())}),$9t=Le({program:et(),programId:ko,parsed:N2()}),D9t=Le({programId:ko,accounts:zt(ko),data:et()}),fve=na(Le({err:Vt(hu([Le({}),et()])),logs:Vt(zt(et())),accounts:Pr(Vt(zt(Vt(Le({executable:eg(),owner:et(),lamports:ve(),data:zt(et()),rentEpoch:Pr(ve())}))))),unitsConsumed:Pr(ve()),returnData:Pr(Vt(Le({programId:et(),data:qde([et(),eo("base64")])}))),innerInstructions:Pr(Vt(zt(Le({index:ve(),instructions:zt(hu([$9t,D9t]))}))))})),O9t=na(Le({byIdentity:Z4e(et(),zt(ve())),range:Le({firstSlot:ve(),lastSlot:ve()})}));function L9t(n,e,t,r,s,i){const o=t||p9t;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new cy(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},KVt)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await IS(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function K9t(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function W9t(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const N9t=an(_9t),F9t=an(x9t),U9t=an(E9t),V9t=an(T9t),q9t=an(R9t),H9t=an(B9t),j9t=an(ve()),G9t=na(Le({total:ve(),circulating:ve(),nonCirculating:ve(),nonCirculatingAccounts:zt(ko)})),iZ=Le({amount:et(),uiAmount:Vt(ve()),decimals:ve(),uiAmountString:Pr(et())}),Y9t=na(zt(Le({address:ko,amount:et(),uiAmount:Vt(ve()),decimals:ve(),uiAmountString:Pr(et())}))),Z9t=na(zt(Le({pubkey:ko,account:Le({executable:eg(),owner:ko,lamports:ve(),data:efe,rentEpoch:ve()})}))),oZ=Le({program:et(),parsed:N2(),space:ve()}),J9t=na(zt(Le({pubkey:ko,account:Le({executable:eg(),owner:ko,lamports:ve(),data:oZ,rentEpoch:ve()})}))),X9t=na(zt(Le({lamports:ve(),address:ko}))),h$=Le({executable:eg(),owner:ko,lamports:ve(),data:efe,rentEpoch:ve()}),Q9t=Le({pubkey:ko,account:h$}),eVt=U8(hu([Vde(V.Buffer),oZ]),hu([dKe,oZ]),n=>Array.isArray(n)?It(n,efe):n),aZ=Le({executable:eg(),owner:ko,lamports:ve(),data:eVt,rentEpoch:ve()}),tVt=Le({pubkey:ko,account:aZ}),rVt=Le({state:hu([eo("active"),eo("inactive"),eo("activating"),eo("deactivating")]),active:ve(),inactive:ve()}),nVt=an(zt(Le({signature:et(),slot:ve(),err:Lv,memo:Vt(et()),blockTime:Pr(Vt(ve()))}))),sVt=an(zt(Le({signature:et(),slot:ve(),err:Lv,memo:Vt(et()),blockTime:Pr(Vt(ve()))}))),iVt=Le({subscription:ve(),result:xN(h$)}),oVt=Le({pubkey:ko,account:h$}),aVt=Le({subscription:ve(),result:xN(oVt)}),cVt=Le({parent:ve(),slot:ve(),root:ve()}),uVt=Le({subscription:ve(),result:cVt}),lVt=hu([Le({type:hu([eo("firstShredReceived"),eo("completed"),eo("optimisticConfirmation"),eo("root")]),slot:ve(),timestamp:ve()}),Le({type:eo("createdBank"),parent:ve(),slot:ve(),timestamp:ve()}),Le({type:eo("frozen"),slot:ve(),timestamp:ve(),stats:Le({numTransactionEntries:ve(),numSuccessfulTransactions:ve(),numFailedTransactions:ve(),maxTransactionsPerEntry:ve()})}),Le({type:eo("dead"),slot:ve(),timestamp:ve(),err:et()})]),dVt=Le({subscription:ve(),result:lVt}),fVt=Le({subscription:ve(),result:xN(hu([C9t,M9t]))}),hVt=Le({subscription:ve(),result:ve()}),gVt=Le({pubkey:et(),gossip:Vt(et()),tpu:Vt(et()),rpc:Vt(et()),version:Vt(et())}),hve=Le({votePubkey:et(),nodePubkey:et(),activatedStake:ve(),epochVoteAccount:eg(),epochCredits:zt(qde([ve(),ve(),ve()])),commission:ve(),lastVote:ve(),rootSlot:Vt(ve())}),mVt=an(Le({current:zt(hve),delinquent:zt(hve)})),yVt=hu([eo("processed"),eo("confirmed"),eo("finalized")]),pVt=Le({slot:ve(),confirmations:Vt(ve()),err:Lv,confirmationStatus:Pr(yVt)}),bVt=na(zt(Vt(pVt))),SVt=an(ve()),gKe=Le({accountKey:ko,writableIndexes:zt(ve()),readonlyIndexes:zt(ve())}),tfe=Le({signatures:zt(et()),message:Le({accountKeys:zt(et()),header:Le({numRequiredSignatures:ve(),numReadonlySignedAccounts:ve(),numReadonlyUnsignedAccounts:ve()}),instructions:zt(Le({accounts:zt(ve()),data:et(),programIdIndex:ve()})),recentBlockhash:et(),addressTableLookups:Pr(zt(gKe))})}),mKe=Le({pubkey:ko,signer:eg(),writable:eg(),source:Pr(hu([eo("transaction"),eo("lookupTable")]))}),yKe=Le({accountKeys:zt(mKe),signatures:zt(et())}),pKe=Le({parsed:N2(),program:et(),programId:ko}),bKe=Le({accounts:zt(ko),data:et(),programId:ko}),kVt=hu([bKe,pKe]),vVt=hu([Le({parsed:N2(),program:et(),programId:et()}),Le({accounts:zt(et()),data:et(),programId:et()})]),SKe=U8(kVt,vVt,n=>"accounts"in n?It(n,bKe):It(n,pKe)),kKe=Le({signatures:zt(et()),message:Le({accountKeys:zt(mKe),instructions:zt(SKe),recentBlockhash:et(),addressTableLookups:Pr(Vt(zt(gKe)))})}),dK=Le({accountIndex:ve(),mint:et(),owner:Pr(et()),programId:Pr(et()),uiTokenAmount:iZ}),vKe=Le({writable:zt(ko),readonly:zt(ko)}),TN=Le({err:Lv,fee:ve(),innerInstructions:Pr(Vt(zt(Le({index:ve(),instructions:zt(Le({accounts:zt(ve()),data:et(),programIdIndex:ve()}))})))),preBalances:zt(ve()),postBalances:zt(ve()),logMessages:Pr(Vt(zt(et()))),preTokenBalances:Pr(Vt(zt(dK))),postTokenBalances:Pr(Vt(zt(dK))),loadedAddresses:Pr(vKe),computeUnitsConsumed:Pr(ve())}),rfe=Le({err:Lv,fee:ve(),innerInstructions:Pr(Vt(zt(Le({index:ve(),instructions:zt(SKe)})))),preBalances:zt(ve()),postBalances:zt(ve()),logMessages:Pr(Vt(zt(et()))),preTokenBalances:Pr(Vt(zt(dK))),postTokenBalances:Pr(Vt(zt(dK))),loadedAddresses:Pr(vKe),computeUnitsConsumed:Pr(ve())}),F2=hu([eo(0),eo("legacy")]),Kv=Le({pubkey:et(),lamports:ve(),postBalance:Vt(ve()),rewardType:Vt(et()),commission:Pr(Vt(ve()))}),AVt=an(Vt(Le({blockhash:et(),previousBlockhash:et(),parentSlot:ve(),transactions:zt(Le({transaction:tfe,meta:Vt(TN),version:Pr(F2)})),rewards:Pr(zt(Kv)),blockTime:Vt(ve()),blockHeight:Vt(ve())}))),wVt=an(Vt(Le({blockhash:et(),previousBlockhash:et(),parentSlot:ve(),rewards:Pr(zt(Kv)),blockTime:Vt(ve()),blockHeight:Vt(ve())}))),IVt=an(Vt(Le({blockhash:et(),previousBlockhash:et(),parentSlot:ve(),transactions:zt(Le({transaction:yKe,meta:Vt(TN),version:Pr(F2)})),rewards:Pr(zt(Kv)),blockTime:Vt(ve()),blockHeight:Vt(ve())}))),_Vt=an(Vt(Le({blockhash:et(),previousBlockhash:et(),parentSlot:ve(),transactions:zt(Le({transaction:kKe,meta:Vt(rfe),version:Pr(F2)})),rewards:Pr(zt(Kv)),blockTime:Vt(ve()),blockHeight:Vt(ve())}))),PVt=an(Vt(Le({blockhash:et(),previousBlockhash:et(),parentSlot:ve(),transactions:zt(Le({transaction:yKe,meta:Vt(rfe),version:Pr(F2)})),rewards:Pr(zt(Kv)),blockTime:Vt(ve()),blockHeight:Vt(ve())}))),EVt=an(Vt(Le({blockhash:et(),previousBlockhash:et(),parentSlot:ve(),rewards:Pr(zt(Kv)),blockTime:Vt(ve()),blockHeight:Vt(ve())}))),xVt=an(Vt(Le({blockhash:et(),previousBlockhash:et(),parentSlot:ve(),transactions:zt(Le({transaction:tfe,meta:Vt(TN)})),rewards:Pr(zt(Kv)),blockTime:Vt(ve())}))),gve=an(Vt(Le({blockhash:et(),previousBlockhash:et(),parentSlot:ve(),signatures:zt(et()),blockTime:Vt(ve())}))),Lq=an(Vt(Le({slot:ve(),meta:Vt(TN),blockTime:Pr(Vt(ve())),transaction:tfe,version:Pr(F2)}))),sL=an(Vt(Le({slot:ve(),transaction:kKe,meta:Vt(rfe),blockTime:Pr(Vt(ve())),version:Pr(F2)}))),TVt=na(Le({blockhash:et(),feeCalculator:Le({lamportsPerSignature:ve()})})),RVt=na(Le({blockhash:et(),lastValidBlockHeight:ve()})),BVt=na(eg()),CVt=Le({slot:ve(),numTransactions:ve(),numSlots:ve(),samplePeriodSecs:ve()}),MVt=an(zt(CVt)),zVt=na(Vt(Le({feeCalculator:Le({lamportsPerSignature:ve()})}))),$Vt=an(et()),DVt=an(et()),OVt=Le({err:Lv,logs:zt(et()),signature:et()}),LVt=Le({result:xN(OVt),subscription:ve()}),KVt={"solana-client":"js/1.0.0-maintenance"};class WVt{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Js(l),h=this._buildArgs([],d,void 0,y),m=uve(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=It(f,an(ve()));if("error"in g)throw new cr(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=w9t(e),this._rpcWsEndpoint=r||A9t(e),this._rpcClient=L9t(e,s,i,o,a,c),this._rpcRequest=K9t(this._rpcClient),this._rpcBatchRequest=W9t(this._rpcClient),this._rpcWebSocket=new b9t(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Js(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=It(o,na(ve()));if("error"in a)throw new cr(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=It(t,an(Vt(ve())));if("error"in r)throw new cr(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=It(e,an(ve()));if("error"in t)throw new cr(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=It(e,j9t);if("error"in t)throw new cr(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=It(r,G9t);if("error"in s)throw new cr(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=It(s,na(iZ));if("error"in i)throw new cr(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=It(s,na(iZ));if("error"in i)throw new cr(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Js(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=It(c,Z9t);if("error"in u)throw new cr(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=It(o,J9t);if("error"in a)throw new cr(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=It(s,X9t);if("error"in i)throw new cr(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=It(s,Y9t);if("error"in i)throw new cr(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Js(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=It(o,na(Vt(h$)));if("error"in a)throw new cr(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Js(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=It(o,na(Vt(aZ)));if("error"in a)throw new cr(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Js(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=It(a,na(zt(Vt(aZ))));if("error"in c)throw new cr(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Js(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=It(a,na(zt(Vt(h$))));if("error"in c)throw new cr(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Js(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=It(a,an(rVt));if("error"in c)throw new cr(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Js(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:dve(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=zt(Q9t),l=o.withContext===!0?It(c,na(u)):It(c,an(u));if("error"in l)throw new cr(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Js(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=It(o,an(zt(tVt)));if("error"in a)throw new cr(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ae.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return os(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:Im.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:Im.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await IS(1e3),i||(h=await y(),i))return;d({__type:Im.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===Im.PROCESSED)l=d.response;else throw new Yde(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:Im.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await IS(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===Im.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await IS(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new nw(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new nw(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new nw(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new nw(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:Im.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===Im.PROCESSED)a=c.response;else throw new Zde(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=It(e,an(zt(gVt)));if("error"in t)throw new cr(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=It(r,mVt);if("error"in s)throw new cr(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Js(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=It(i,an(ve()));if("error"in o)throw new cr(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Js(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=It(i,an(et()));if("error"in o)throw new cr(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=It(s,an(zt(ko)));if("error"in i)throw new cr(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);os(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=It(s,bVt);if("error"in i)throw new cr(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Js(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=It(i,an(ve()));if("error"in o)throw new cr(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=It(r,N9t);if("error"in s)throw new cr(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Js(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=It(a,P9t);if("error"in c)throw new cr(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=It(e,F9t);if("error"in t)throw new cr(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Js(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=It(i,V9t);if("error"in o)throw new cr(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=It(e,q9t);if("error"in t)throw new cr(t.error,"failed to get epoch schedule");const r=t.result;return new lKe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=It(e,H9t);if("error"in t)throw new cr(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=It(s,SVt);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=It(r,TVt);if("error"in s)throw new cr(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=It(t,MVt);if("error"in r)throw new cr(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=It(s,zVt);if("error"in i)throw new cr(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=pn(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=It(i,na(Vt(ve())));if("error"in o)throw new cr(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=It(s,U9t);if("error"in i)throw new cr(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Js(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=It(i,RVt);if("error"in o)throw new cr(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Js(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=It(o,BVt);if("error"in a)throw new cr(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=It(e,an(z9t));if("error"in t)throw new cr(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=It(e,an(et()));if("error"in t)throw new cr(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Js(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=It(o,IVt);if("error"in a)throw a.error;return a.result}case"none":{const a=It(o,wVt);if("error"in a)throw a.error;return a.result}default:{const a=It(o,AVt);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:Oq(d,u.message)},version:d}))}:null}}}catch(a){throw new cr(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Js(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=It(o,PVt);if("error"in a)throw a.error;return a.result}case"none":{const a=It(o,EVt);if("error"in a)throw a.error;return a.result}default:{const a=It(o,_Vt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new cr(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=It(i,O9t);if("error"in o)throw new cr(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Js(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=It(o,Lq);if("error"in a)throw new cr(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:Oq(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Js(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=It(o,sL);if("error"in a)throw new cr(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Js(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=It(c,sL);if("error"in u)throw new cr(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Js(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=It(c,Lq);if("error"in u)throw new cr(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:Oq(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=It(s,xVt);if("error"in i)throw new cr(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new pf(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:gs.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=It(i,an(zt(ve())));if("error"in o)throw new cr(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=It(s,gve);if("error"in i)throw new cr(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=It(s,gve);if("error"in i)throw new cr(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=It(s,Lq);if("error"in i)throw new cr(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new pf(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:gs.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=It(s,sL);if("error"in i)throw new cr(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=It(o,sL);if("error"in a)throw new cr(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=It(i,nVt);if("error"in o)throw new cr(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=It(i,sVt);if("error"in o)throw new cr(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new sZ({key:e,state:sZ.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=EN.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=It(r,$Vt);if("error"in s)throw new cr(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await IS(100);const r=Date.now()-this._blockhashInfo.lastFetch>=fKe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await IS(aKe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Js(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=It(i,na(ve()));if("error"in o)throw new cr(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=It(p,fve);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof gs){let m=e;s=new gs,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=gs.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=It(y,fve);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new f$({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=pn(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=It(a,DVt);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new f$({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=It(e,iVt);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=uve([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];os(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Js(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=It(e,aVt);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Js(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:dve(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=It(e,LVt);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=It(e,uVt);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=It(e,dVt);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=It(e,fVt);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=It(e,hVt);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Ow{constructor(e){this._keypair=void 0,this._keypair=e??ive()}static generate(){return new Ow(ive())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=lK(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new Ow({publicKey:r,secretKey:e})}static fromSeed(e){const t=lK(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Ow({publicKey:t,secretKey:r})}get publicKey(){return new ft(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Nm=Object.freeze({CreateLookupTable:{index:0,layout:N([F("instruction"),tR("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:N([F("instruction")])},ExtendLookupTable:{index:2,layout:N([F("instruction"),tR(),we(Dn(),Gt(F(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:N([F("instruction")])},CloseLookupTable:{index:4,layout:N([F("instruction")])}});class NVt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Nm))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Ps(Nm.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Ps(Nm.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new ft(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(nfe.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class nfe{constructor(){}static createLookupTable(e){const[t,r]=ft.findProgramAddressSync([e.authority.toBuffer(),ya(BigInt(e.recentSlot),8)],this.programId),s=Nm.CreateLookupTable,i=Gn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ac.programId,isSigner:!1,isWritable:!1}];return[new Fs({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Nm.FreezeLookupTable,r=Gn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Fs({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Nm.ExtendLookupTable,r=Gn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ac.programId,isSigner:!1,isWritable:!1}),new Fs({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Nm.DeactivateLookupTable,r=Gn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Fs({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Nm.CloseLookupTable,r=Gn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Fs({programId:this.programId,keys:s,data:r})}}nfe.programId=new ft("AddressLookupTab1e1111111111111111111111111");class FVt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Eh))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=Ps(Eh.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Ps(Eh.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Ps(Eh.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Ps(Eh.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(sfe.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Eh=Object.freeze({RequestUnits:{index:0,layout:N([te("instruction"),F("units"),F("additionalFee")])},RequestHeapFrame:{index:1,layout:N([te("instruction"),F("bytes")])},SetComputeUnitLimit:{index:2,layout:N([te("instruction"),F("units")])},SetComputeUnitPrice:{index:3,layout:N([te("instruction"),tR("microLamports")])}});class sfe{constructor(){}static requestUnits(e){const t=Eh.RequestUnits,r=Gn(t,e);return new Fs({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Eh.RequestHeapFrame,r=Gn(t,e);return new Fs({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Eh.SetComputeUnitLimit,r=Gn(t,e);return new Fs({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Eh.SetComputeUnitPrice,r=Gn(t,{microLamports:BigInt(e.microLamports)});return new Fs({keys:[],programId:this.programId,data:r})}}sfe.programId=new ft("ComputeBudget111111111111111111111111111111");const mve=64,yve=32,pve=64,bve=N([te("numSignatures"),te("padding"),xe("signatureOffset"),xe("signatureInstructionIndex"),xe("publicKeyOffset"),xe("publicKeyInstructionIndex"),xe("messageDataOffset"),xe("messageDataSize"),xe("messageInstructionIndex")]);class RN{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;os(t.length===yve,`Public Key must be ${yve} bytes but received ${t.length} bytes`),os(s.length===pve,`Signature must be ${pve} bytes but received ${s.length} bytes`);const o=bve.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return bve.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new Fs({keys:[],programId:RN.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;os(t.length===mve,`Private key must be ${mve} bytes but received ${t.length} bytes`);try{const i=Ow.fromSecretKey(t),o=i.publicKey.toBytes(),a=jde(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}RN.programId=new ft("Ed25519SigVerify111111111111111111111111111");const UVt=(n,e)=>{const t=IN.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};IN.utils.isValidPrivateKey;const VVt=IN.getPublicKey,Sve=32,Kq=20,kve=64,qVt=11,Wq=N([te("numSignatures"),xe("signatureOffset"),te("signatureInstructionIndex"),xe("ethAddressOffset"),te("ethAddressInstructionIndex"),xe("messageDataOffset"),xe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class Lw{constructor(){}static publicKeyToEthAddress(e){os(e.length===kve,`Public key must be ${kve} bytes but received ${e.length} bytes`);try{return V.Buffer.from(eve(pn(e))).slice(-Kq)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return Lw.createInstructionWithEthAddress({ethAddress:Lw.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,os(a.length===Kq,`Address must be ${Kq} bytes but received ${a.length} bytes`);const c=1+qVt,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(Wq.span+r.length);return Wq.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:pn(s),ethAddress:pn(a),recoveryId:i},h),h.fill(pn(r),Wq.span),new Fs({keys:[],programId:Lw.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;os(t.length===Sve,`Private key must be ${Sve} bytes but received ${t.length} bytes`);try{const i=pn(t),o=VVt(i,!1).slice(1),a=V.Buffer.from(eve(pn(r))),[c,u]=UVt(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Lw.programId=new ft("KeccakSecp256k11111111111111111111111111111");var AKe;const wKe=new ft("StakeConfig11111111111111111111111111111111");class IKe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class V8{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}AKe=V8;V8.default=new AKe(0,0,ft.default);class HVt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(rc))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=Ps(rc.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new IKe(new ft(t.staker),new ft(t.withdrawer)),lockup:new V8(r.unixTimestamp,r.epoch,new ft(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Ps(rc.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=Ps(rc.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ft(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=Ps(rc.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new ft(i),newAuthorizedPubkey:new ft(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Ps(rc.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Ps(rc.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Ps(rc.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Ps(rc.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(BN.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const rc=Object.freeze({Initialize:{index:0,layout:N([F("instruction"),j7t(),G7t()])},Authorize:{index:1,layout:N([F("instruction"),Dn("newAuthorized"),F("stakeAuthorizationType")])},Delegate:{index:2,layout:N([F("instruction")])},Split:{index:3,layout:N([F("instruction"),Ee("lamports")])},Withdraw:{index:4,layout:N([F("instruction"),Ee("lamports")])},Deactivate:{index:5,layout:N([F("instruction")])},Merge:{index:7,layout:N([F("instruction")])},AuthorizeWithSeed:{index:8,layout:N([F("instruction"),Dn("newAuthorized"),F("stakeAuthorizationType"),HS("authoritySeed"),Dn("authorityOwner")])}}),jVt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class BN{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||V8.default,o=rc.Initialize,a=Gn(o,{authorized:{staker:pn(r.staker.toBuffer()),withdrawer:pn(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:pn(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:eR,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Fs(c)}static createAccountWithSeed(e){const t=new gs;t.add(Ac.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new gs;t.add(Ac.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=rc.Delegate,o=Gn(i);return new gs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Jf,isSigner:!1,isWritable:!1},{pubkey:jL,isSigner:!1,isWritable:!1},{pubkey:wKe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=rc.Authorize,c=Gn(a,{newAuthorized:pn(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Jf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new gs().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=rc.AuthorizeWithSeed,l=Gn(u,{newAuthorized:pn(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:pn(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Jf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new gs().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=rc.Split,a=Gn(o,{lamports:i});return new Fs({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new gs;return r.add(Ac.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new gs;return u.add(Ac.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(Ac.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=rc.Merge,o=Gn(i);return new gs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Jf,isSigner:!1,isWritable:!1},{pubkey:jL,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=rc.Withdraw,c=Gn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Jf,isSigner:!1,isWritable:!1},{pubkey:jL,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new gs().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=rc.Deactivate,i=Gn(s);return new gs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Jf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}BN.programId=new ft("Stake11111111111111111111111111111111111111");BN.space=200;class _Ke{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class GVt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(xh))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Ps(xh.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new _Ke(new ft(t.nodePubkey),new ft(t.authorizedVoter),new ft(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=Ps(xh.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ft(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=Ps(xh.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ft(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new ft(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Ps(xh.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(U2.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const xh=Object.freeze({InitializeAccount:{index:0,layout:N([F("instruction"),Y7t()])},Authorize:{index:1,layout:N([F("instruction"),Dn("newAuthorized"),F("voteAuthorizationType")])},Withdraw:{index:3,layout:N([F("instruction"),Ee("lamports")])},UpdateValidatorIdentity:{index:4,layout:N([F("instruction")])},AuthorizeWithSeed:{index:10,layout:N([F("instruction"),Z7t()])}}),YVt=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class U2{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=xh.InitializeAccount,o=Gn(i,{voteInit:{nodePubkey:pn(s.nodePubkey.toBuffer()),authorizedVoter:pn(s.authorizedVoter.toBuffer()),authorizedWithdrawer:pn(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:eR,isSigner:!1,isWritable:!1},{pubkey:Jf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Fs(a)}static createAccount(e){const t=new gs;return t.add(Ac.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=xh.Authorize,a=Gn(o,{newAuthorized:pn(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Jf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new gs().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=xh.AuthorizeWithSeed,u=Gn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:pn(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:pn(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Jf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new gs().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=xh.Withdraw,a=Gn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new gs().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return U2.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=xh.UpdateValidatorIdentity,o=Gn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new gs().add({keys:a,programId:this.programId,data:o})}}U2.programId=new ft("Vote111111111111111111111111111111111111111");U2.space=3762;const PKe=new ft("Va1idator1nfo111111111111111111111111111111"),ZVt=Le({name:et(),website:Pr(et()),details:Pr(et()),iconUrl:Pr(et()),keybaseUsername:Pr(et())});class ife{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Zu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new ft(Ju(t,0,Fh)),a=Ph(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(PKe)&&s[1].isSigner){const i=HS().decode(V.Buffer.from(t)),o=JSON.parse(i);return G4e(o,ZVt),new ife(s[1].publicKey,o)}return null}}const JVt=new ft("Vote111111111111111111111111111111111111111"),XVt=N([Dn("nodePubkey"),Dn("authorizedWithdrawer"),te("commission"),fe(),we(N([fe("slot"),F("confirmationCount")]),Gt(F(),-8),"votes"),te("rootSlotValid"),fe("rootSlot"),fe(),we(N([fe("epoch"),Dn("authorizedVoter")]),Gt(F(),-8),"authorizedVoters"),N([we(N([Dn("authorizedPubkey"),fe("epochOfLastAuthorizedSwitch"),fe("targetEpoch")]),32,"buf"),fe("idx"),te("isEmpty")],"priorVoters"),fe(),we(N([fe("epoch"),fe("credits"),fe("prevCredits")]),Gt(F(),-8),"epochCredits"),N([fe("slot"),fe("timestamp")],"lastTimestamp")]);class ofe{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=XVt.decode(pn(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new ofe({nodePubkey:new ft(r.nodePubkey),authorizedWithdrawer:new ft(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(QVt),priorVoters:eqt(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function QVt({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new ft(n)}}function vve({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new ft(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function eqt({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(vve),...n.slice(0,e).map(vve)]}const Ave={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function tqt(n,e){const t=e===!1?"http":"https";if(!n)return Ave[t].devnet;const r=Ave[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function rqt(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new f$({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const nqt=1e9;var sqt=Object.freeze(Object.defineProperty({__proto__:null,Account:V7t,AddressLookupTableAccount:sZ,AddressLookupTableInstruction:NVt,AddressLookupTableProgram:nfe,Authorized:IKe,BLOCKHASH_CACHE_TIMEOUT_MS:fKe,BPF_LOADER_DEPRECATED_PROGRAM_ID:q7t,BPF_LOADER_PROGRAM_ID:d9t,BpfLoader:f9t,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Eh,ComputeBudgetInstruction:FVt,ComputeBudgetProgram:sfe,Connection:WVt,Ed25519Program:RN,Enum:F7t,EpochSchedule:lKe,FeeCalculatorLayout:cKe,Keypair:Ow,LAMPORTS_PER_SOL:nqt,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Nm,Loader:nv,Lockup:V8,MAX_SEED_LENGTH:sKe,Message:pf,MessageAccountKeys:d$,MessageV0:rv,NONCE_ACCOUNT_LENGTH:nZ,NonceAccount:EN,PACKET_DATA_SIZE:jb,PUBLIC_KEY_LENGTH:Fh,PublicKey:ft,SIGNATURE_LENGTH_IN_BYTES:l$,SOLANA_SCHEMA:CM,STAKE_CONFIG_ID:wKe,STAKE_INSTRUCTION_LAYOUTS:rc,SYSTEM_INSTRUCTION_LAYOUTS:ai,SYSVAR_CLOCK_PUBKEY:Jf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:t9t,SYSVAR_INSTRUCTIONS_PUBKEY:r9t,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:HL,SYSVAR_RENT_PUBKEY:eR,SYSVAR_REWARDS_PUBKEY:n9t,SYSVAR_SLOT_HASHES_PUBKEY:s9t,SYSVAR_SLOT_HISTORY_PUBKEY:i9t,SYSVAR_STAKE_HISTORY_PUBKEY:jL,Secp256k1Program:Lw,SendTransactionError:f$,SolanaJSONRPCError:cr,SolanaJSONRPCErrorCode:o9t,StakeAuthorizationLayout:jVt,StakeInstruction:HVt,StakeProgram:BN,Struct:Gde,SystemInstruction:u9t,SystemProgram:Ac,Transaction:gs,TransactionExpiredBlockheightExceededError:Yde,TransactionExpiredNonceInvalidError:nw,TransactionExpiredTimeoutError:Zde,TransactionInstruction:Fs,TransactionMessage:Xde,TransactionStatus:Im,VALIDATOR_INFO_KEY:PKe,VERSION_PREFIX_MASK:_N,VOTE_PROGRAM_ID:JVt,ValidatorInfo:ife,VersionedMessage:Jde,VersionedTransaction:Qde,VoteAccount:ofe,VoteAuthorizationLayout:YVt,VoteInit:_Ke,VoteInstruction:GVt,VoteProgram:U2,clusterApiUrl:tqt,sendAndConfirmRawTransaction:rqt,sendAndConfirmTransaction:rZ},Symbol.toStringTag,{value:"Module"})),q8=Wl(sqt),Wv={};Object.defineProperty(Wv,"__esModule",{value:!0});var iqt=q8;function oqt(n){return n.toBase58()}function aqt(n){return new iqt.PublicKey(n)}Wv.fromWeb3JsPublicKey=oqt;Wv.toWeb3JsPublicKey=aqt;Object.defineProperty(L8,"__esModule",{value:!0});var cqt=q8,uqt=V,fK=Wv;function lqt(n){return{keys:n.keys.map(e=>({...e,pubkey:fK.fromWeb3JsPublicKey(e.pubkey)})),programId:fK.fromWeb3JsPublicKey(n.programId),data:new Uint8Array(n.data)}}function dqt(n){return new cqt.TransactionInstruction({keys:n.keys.map(e=>({...e,pubkey:fK.toWeb3JsPublicKey(e.pubkey)})),programId:fK.toWeb3JsPublicKey(n.programId),data:uqt.Buffer.from(n.data)})}L8.fromWeb3JsInstruction=lqt;L8.toWeb3JsInstruction=dqt;var CN={};Object.defineProperty(CN,"__esModule",{value:!0});var fqt=Z,hqt=q8,gqt=Wv;function mqt(n){return{publicKey:gqt.fromWeb3JsPublicKey(n.publicKey),secretKey:n.secretKey}}function yqt(n){return new hqt.Keypair({publicKey:fqt.publicKeyBytes(n.publicKey),secretKey:n.secretKey})}CN.fromWeb3JsKeypair=mqt;CN.toWeb3JsKeypair=yqt;var V2={},q2={};Object.defineProperty(q2,"__esModule",{value:!0});var pqt=Z,MM=q8,wve=L8,Um=Wv;function bqt(n){return{version:n.version,header:n.header,accounts:n.staticAccountKeys.map(Um.fromWeb3JsPublicKey),blockhash:n.recentBlockhash,instructions:n.compiledInstructions.map(e=>({programIndex:e.programIdIndex,accountIndexes:e.accountKeyIndexes,data:new Uint8Array(e.data)})),addressLookupTables:n.addressTableLookups.map(e=>({publicKey:Um.fromWeb3JsPublicKey(e.accountKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))}}function Sqt(n){return n.version==="legacy"?new MM.Message({header:n.header,accountKeys:n.accounts.map(Um.toWeb3JsPublicKey),recentBlockhash:n.blockhash,instructions:n.instructions.map(e=>({programIdIndex:e.programIndex,accounts:e.accountIndexes,data:pqt.base58.deserialize(e.data)[0]}))}):new MM.MessageV0({header:n.header,staticAccountKeys:n.accounts.map(Um.toWeb3JsPublicKey),recentBlockhash:n.blockhash,compiledInstructions:n.instructions.map(e=>({programIdIndex:e.programIndex,accountKeyIndexes:e.accountIndexes,data:e.data})),addressTableLookups:n.addressLookupTables.map(e=>({accountKey:Um.toWeb3JsPublicKey(e.publicKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))})}function kqt(n){var e;return n.version==="legacy"?MM.Message.compile({payerKey:Um.toWeb3JsPublicKey(n.payer),instructions:n.instructions.map(wve.toWeb3JsInstruction),recentBlockhash:n.blockhash}):MM.MessageV0.compile({payerKey:Um.toWeb3JsPublicKey(n.payer),instructions:n.instructions.map(wve.toWeb3JsInstruction),recentBlockhash:n.blockhash,addressLookupTableAccounts:(e=n.addressLookupTables)==null?void 0:e.map(t=>new MM.AddressLookupTableAccount({key:Um.toWeb3JsPublicKey(t.publicKey),state:{addresses:t.addresses.map(Um.toWeb3JsPublicKey),authority:void 0,deactivationSlot:BigInt(`0x${"ff".repeat(8)}`),lastExtendedSlot:0,lastExtendedSlotStartIndex:0}}))})}q2.fromWeb3JsMessage=bqt;q2.toWeb3JsMessage=Sqt;q2.toWeb3JsMessageFromInput=kqt;Object.defineProperty(V2,"__esModule",{value:!0});var vqt=Z,afe=q8,cfe=q2;function Aqt(n){return{message:cfe.fromWeb3JsMessage(n.message),serializedMessage:n.message.serialize(),signatures:n.signatures}}function EKe(n){return new afe.VersionedTransaction(cfe.toWeb3JsMessage(n.message),n.signatures)}function wqt(n){const e=n.compileMessage(),t=n.signatures.reduce((s,i)=>(s[i.publicKey.toBase58()]=i.signature?new Uint8Array(i.signature):null,s),{}),r=[];for(let s=0;s<e.header.numRequiredSignatures;s+=1){const i=e.accountKeys[s].toBase58(),o=t[i]??null;r.push(o??new Uint8Array(afe.SIGNATURE_LENGTH_IN_BYTES))}return{message:cfe.fromWeb3JsMessage(e),serializedMessage:e.serialize(),signatures:r}}function Iqt(n){const e=EKe({...n,message:{...n.message,version:"legacy"}});return afe.Transaction.populate(e.message,e.signatures.map(t=>vqt.base58.deserialize(t)[0]))}V2.fromWeb3JsLegacyTransaction=wqt;V2.fromWeb3JsTransaction=Aqt;V2.toWeb3JsLegacyTransaction=Iqt;V2.toWeb3JsTransaction=EKe;Object.defineProperty(mu,"__esModule",{value:!0});var xKe=L8,TKe=CN,RKe=Wv,MN=V2,ufe=q2;mu.fromWeb3JsInstruction=xKe.fromWeb3JsInstruction;mu.toWeb3JsInstruction=xKe.toWeb3JsInstruction;mu.fromWeb3JsKeypair=TKe.fromWeb3JsKeypair;mu.toWeb3JsKeypair=TKe.toWeb3JsKeypair;mu.fromWeb3JsPublicKey=RKe.fromWeb3JsPublicKey;mu.toWeb3JsPublicKey=RKe.toWeb3JsPublicKey;mu.fromWeb3JsLegacyTransaction=MN.fromWeb3JsLegacyTransaction;mu.fromWeb3JsTransaction=MN.fromWeb3JsTransaction;mu.toWeb3JsLegacyTransaction=MN.toWeb3JsLegacyTransaction;mu.toWeb3JsTransaction=MN.toWeb3JsTransaction;mu.fromWeb3JsMessage=ufe.fromWeb3JsMessage;mu.toWeb3JsMessage=ufe.toWeb3JsMessage;mu.toWeb3JsMessageFromInput=ufe.toWeb3JsMessageFromInput;var BKe={},gc={},Gb={},kf={};Object.defineProperty(kf,"__esModule",{value:!0});kf.isBytes=MKe;kf.number=hK;kf.bool=CKe;kf.bytes=lfe;kf.hash=zKe;kf.exists=$Ke;kf.output=DKe;function hK(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function CKe(n){if(typeof n!="boolean")throw new Error(`boolean expected, not ${n}`)}function MKe(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function lfe(n,...e){if(!MKe(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function zKe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");hK(n.outputLen),hK(n.blockLen)}function $Ke(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function DKe(n,e){lfe(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const _qt={number:hK,bool:CKe,bytes:lfe,hash:zKe,exists:$Ke,output:DKe};kf.default=_qt;var zN={},$N={};Object.defineProperty($N,"__esModule",{value:!0});$N.crypto=void 0;$N.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(n){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(n,"__esModule",{value:!0}),n.Hash=n.nextTick=n.byteSwapIfBE=n.byteSwap=n.isLE=n.rotl=n.rotr=n.createView=n.u32=n.u8=void 0,n.isBytes=r,n.byteSwap32=l,n.bytesToHex=y,n.hexToBytes=f,n.asyncLoop=b,n.utf8ToBytes=S,n.toBytes=p,n.concatBytes=I,n.checkOpts=P,n.wrapConstructor=E,n.wrapConstructorWithOpts=M,n.wrapXOFConstructorWithOpts=x,n.randomBytes=R;const e=$N,t=kf;function r($){return $ instanceof Uint8Array||$!=null&&typeof $=="object"&&$.constructor.name==="Uint8Array"}const s=$=>new Uint8Array($.buffer,$.byteOffset,$.byteLength);n.u8=s;const i=$=>new Uint32Array($.buffer,$.byteOffset,Math.floor($.byteLength/4));n.u32=i;const o=$=>new DataView($.buffer,$.byteOffset,$.byteLength);n.createView=o;const a=($,z)=>$<<32-z|$>>>z;n.rotr=a;const c=($,z)=>$<<z|$>>>32-z>>>0;n.rotl=c,n.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const u=$=>$<<24&4278190080|$<<8&16711680|$>>>8&65280|$>>>24&255;n.byteSwap=u,n.byteSwapIfBE=n.isLE?$=>$:$=>(0,n.byteSwap)($);function l($){for(let z=0;z<$.length;z++)$[z]=(0,n.byteSwap)($[z])}const d=Array.from({length:256},($,z)=>z.toString(16).padStart(2,"0"));function y($){(0,t.bytes)($);let z="";for(let T=0;T<$.length;T++)z+=d[$[T]];return z}const h={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function m($){if($>=h._0&&$<=h._9)return $-h._0;if($>=h._A&&$<=h._F)return $-(h._A-10);if($>=h._a&&$<=h._f)return $-(h._a-10)}function f($){if(typeof $!="string")throw new Error("hex string expected, got "+typeof $);const z=$.length,T=z/2;if(z%2)throw new Error("padded hex string expected, got unpadded hex of length "+z);const v=new Uint8Array(T);for(let k=0,_=0;k<T;k++,_+=2){const B=m($.charCodeAt(_)),C=m($.charCodeAt(_+1));if(B===void 0||C===void 0){const O=$[_]+$[_+1];throw new Error('hex string expected, got non-hex character "'+O+'" at index '+_)}v[k]=B*16+C}return v}const g=async()=>{};n.nextTick=g;async function b($,z,T){let v=Date.now();for(let k=0;k<$;k++){T(k);const _=Date.now()-v;_>=0&&_<z||(await(0,n.nextTick)(),v+=_)}}function S($){if(typeof $!="string")throw new Error(`utf8ToBytes expected string, got ${typeof $}`);return new Uint8Array(new TextEncoder().encode($))}function p($){return typeof $=="string"&&($=S($)),(0,t.bytes)($),$}function I(...$){let z=0;for(let v=0;v<$.length;v++){const k=$[v];(0,t.bytes)(k),z+=k.length}const T=new Uint8Array(z);for(let v=0,k=0;v<$.length;v++){const _=$[v];T.set(_,k),k+=_.length}return T}class w{clone(){return this._cloneInto()}}n.Hash=w;const A={}.toString;function P($,z){if(z!==void 0&&A.call(z)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign($,z)}function E($){const z=v=>$().update(p(v)).digest(),T=$();return z.outputLen=T.outputLen,z.blockLen=T.blockLen,z.create=()=>$(),z}function M($){const z=(v,k)=>$(k).update(p(v)).digest(),T=$({});return z.outputLen=T.outputLen,z.blockLen=T.blockLen,z.create=v=>$(v),z}function x($){const z=(v,k)=>$(k).update(p(v)).digest(),T=$({});return z.outputLen=T.outputLen,z.blockLen=T.blockLen,z.create=v=>$(v),z}function R($=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array($));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes($);throw new Error("crypto.getRandomValues must be defined")}})(zN);Object.defineProperty(Gb,"__esModule",{value:!0});Gb.HashMD=Gb.Maj=Gb.Chi=void 0;const Nq=kf,sM=zN;function Pqt(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const Eqt=(n,e,t)=>n&e^~n&t;Gb.Chi=Eqt;const xqt=(n,e,t)=>n&e^n&t^e&t;Gb.Maj=xqt;class Tqt extends sM.Hash{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,sM.createView)(this.buffer)}update(e){(0,Nq.exists)(this);const{view:t,buffer:r,blockLen:s}=this;e=(0,sM.toBytes)(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=(0,sM.createView)(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,Nq.exists)(this),(0,Nq.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;Pqt(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=(0,sM.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}Gb.HashMD=Tqt;var zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.add5L=zr.add5H=zr.add4H=zr.add4L=zr.add3H=zr.add3L=zr.rotlBL=zr.rotlBH=zr.rotlSL=zr.rotlSH=zr.rotr32L=zr.rotr32H=zr.rotrBL=zr.rotrBH=zr.rotrSL=zr.rotrSH=zr.shrSL=zr.shrSH=zr.toBig=void 0;zr.fromBig=dfe;zr.split=OKe;zr.add=JKe;const iL=BigInt(2**32-1),cZ=BigInt(32);function dfe(n,e=!1){return e?{h:Number(n&iL),l:Number(n>>cZ&iL)}:{h:Number(n>>cZ&iL)|0,l:Number(n&iL)|0}}function OKe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=dfe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const LKe=(n,e)=>BigInt(n>>>0)<<cZ|BigInt(e>>>0);zr.toBig=LKe;const KKe=(n,e,t)=>n>>>t;zr.shrSH=KKe;const WKe=(n,e,t)=>n<<32-t|e>>>t;zr.shrSL=WKe;const NKe=(n,e,t)=>n>>>t|e<<32-t;zr.rotrSH=NKe;const FKe=(n,e,t)=>n<<32-t|e>>>t;zr.rotrSL=FKe;const UKe=(n,e,t)=>n<<64-t|e>>>t-32;zr.rotrBH=UKe;const VKe=(n,e,t)=>n>>>t-32|e<<64-t;zr.rotrBL=VKe;const qKe=(n,e)=>e;zr.rotr32H=qKe;const HKe=(n,e)=>n;zr.rotr32L=HKe;const jKe=(n,e,t)=>n<<t|e>>>32-t;zr.rotlSH=jKe;const GKe=(n,e,t)=>e<<t|n>>>32-t;zr.rotlSL=GKe;const YKe=(n,e,t)=>e<<t-32|n>>>64-t;zr.rotlBH=YKe;const ZKe=(n,e,t)=>n<<t-32|e>>>64-t;zr.rotlBL=ZKe;function JKe(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const XKe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0);zr.add3L=XKe;const QKe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0;zr.add3H=QKe;const e6e=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0);zr.add4L=e6e;const t6e=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0;zr.add4H=t6e;const r6e=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0);zr.add5L=r6e;const n6e=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0;zr.add5H=n6e;const Rqt={fromBig:dfe,split:OKe,toBig:LKe,shrSH:KKe,shrSL:WKe,rotrSH:NKe,rotrSL:FKe,rotrBH:UKe,rotrBL:VKe,rotr32H:qKe,rotr32L:HKe,rotlSH:jKe,rotlSL:GKe,rotlBH:YKe,rotlBL:ZKe,add:JKe,add3L:XKe,add3H:QKe,add4L:e6e,add4H:t6e,add5H:n6e,add5L:r6e};zr.default=Rqt;Object.defineProperty(gc,"__esModule",{value:!0});gc.sha384=gc.sha512_256=gc.sha512_224=gc.sha512=gc.SHA384=gc.SHA512_256=gc.SHA512_224=gc.SHA512=void 0;const Bqt=Gb,Zr=zr,DN=zN,[Cqt,Mqt]=(()=>Zr.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),yp=new Uint32Array(80),pp=new Uint32Array(80);class H8 extends Bqt.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)yp[p]=e.getUint32(t),pp[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=yp[p-15]|0,w=pp[p-15]|0,A=Zr.default.rotrSH(I,w,1)^Zr.default.rotrSH(I,w,8)^Zr.default.shrSH(I,w,7),P=Zr.default.rotrSL(I,w,1)^Zr.default.rotrSL(I,w,8)^Zr.default.shrSL(I,w,7),E=yp[p-2]|0,M=pp[p-2]|0,x=Zr.default.rotrSH(E,M,19)^Zr.default.rotrBH(E,M,61)^Zr.default.shrSH(E,M,6),R=Zr.default.rotrSL(E,M,19)^Zr.default.rotrBL(E,M,61)^Zr.default.shrSL(E,M,6),$=Zr.default.add4L(P,R,pp[p-7],pp[p-16]),z=Zr.default.add4H($,A,x,yp[p-7],yp[p-16]);yp[p]=z|0,pp[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Zr.default.rotrSH(d,y,14)^Zr.default.rotrSH(d,y,18)^Zr.default.rotrBH(d,y,41),w=Zr.default.rotrSL(d,y,14)^Zr.default.rotrSL(d,y,18)^Zr.default.rotrBL(d,y,41),A=d&h^~d&f,P=y&m^~y&g,E=Zr.default.add5L(S,w,P,Mqt[p],pp[p]),M=Zr.default.add5H(E,b,I,A,Cqt[p],yp[p]),x=E|0,R=Zr.default.rotrSH(r,s,28)^Zr.default.rotrBH(r,s,34)^Zr.default.rotrBH(r,s,39),$=Zr.default.rotrSL(r,s,28)^Zr.default.rotrBL(r,s,34)^Zr.default.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Zr.default.add(u|0,l|0,M|0,x|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Zr.default.add3L(x,$,T);r=Zr.default.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Zr.default.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Zr.default.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Zr.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Zr.default.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Zr.default.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Zr.default.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Zr.default.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Zr.default.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){yp.fill(0),pp.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}gc.SHA512=H8;class s6e extends H8{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}gc.SHA512_224=s6e;class i6e extends H8{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}gc.SHA512_256=i6e;class o6e extends H8{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}gc.SHA384=o6e;gc.sha512=(0,DN.wrapConstructor)(()=>new H8);gc.sha512_224=(0,DN.wrapConstructor)(()=>new s6e);gc.sha512_256=(0,DN.wrapConstructor)(()=>new i6e);gc.sha384=(0,DN.wrapConstructor)(()=>new o6e);var ffe={},j8={},Bs={},Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.notImplemented=Ln.bitMask=void 0;Ln.isBytes=LN;Ln.abytes=KN;Ln.abool=$qt;Ln.bytesToHex=gfe;Ln.numberToHexUnpadded=a6e;Ln.hexToNumber=mfe;Ln.hexToBytes=WN;Ln.bytesToNumberBE=Oqt;Ln.bytesToNumberLE=Lqt;Ln.numberToBytesBE=c6e;Ln.numberToBytesLE=Kqt;Ln.numberToVarBytesBE=Wqt;Ln.ensureBytes=Nqt;Ln.concatBytes=u6e;Ln.equalBytes=Fqt;Ln.utf8ToBytes=Uqt;Ln.inRange=l6e;Ln.aInRange=Vqt;Ln.bitLen=qqt;Ln.bitGet=Hqt;Ln.bitSet=jqt;Ln.createHmacDrbg=Yqt;Ln.validateObject=Jqt;Ln.memoized=Qqt;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hfe=BigInt(0),ON=BigInt(1),zqt=BigInt(2);function LN(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function KN(n){if(!LN(n))throw new Error("Uint8Array expected")}function $qt(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const Dqt=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function gfe(n){KN(n);let e="";for(let t=0;t<n.length;t++)e+=Dqt[n[t]];return e}function a6e(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function mfe(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const hm={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Ive(n){if(n>=hm._0&&n<=hm._9)return n-hm._0;if(n>=hm._A&&n<=hm._F)return n-(hm._A-10);if(n>=hm._a&&n<=hm._f)return n-(hm._a-10)}function WN(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Ive(n.charCodeAt(i)),a=Ive(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Oqt(n){return mfe(gfe(n))}function Lqt(n){return KN(n),mfe(gfe(Uint8Array.from(n).reverse()))}function c6e(n,e){return WN(n.toString(16).padStart(e*2,"0"))}function Kqt(n,e){return c6e(n,e).reverse()}function Wqt(n){return WN(a6e(n))}function Nqt(n,e,t){let r;if(typeof e=="string")try{r=WN(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(LN(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function u6e(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];KN(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function Fqt(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function Uqt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const Fq=n=>typeof n=="bigint"&&hfe<=n;function l6e(n,e,t){return Fq(n)&&Fq(e)&&Fq(t)&&e<=n&&n<t}function Vqt(n,e,t,r){if(!l6e(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function qqt(n){let e;for(e=0;n>hfe;n>>=ON,e+=1);return e}function Hqt(n,e){return n>>BigInt(e)&ON}function jqt(n,e,t){return n|(t?ON:hfe)<<BigInt(e)}const Gqt=n=>(zqt<<BigInt(n-1))-ON;Ln.bitMask=Gqt;const Uq=n=>new Uint8Array(n),_ve=n=>Uint8Array.from(n);function Yqt(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=Uq(n),s=Uq(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=Uq())=>{s=a(_ve([0]),d),r=a(),d.length!==0&&(s=a(_ve([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return u6e(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const Zqt={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||LN(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Jqt(n,e,t={}){const r=(s,i,o)=>{const a=Zqt[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const Xqt=()=>{throw new Error("not implemented")};Ln.notImplemented=Xqt;function Qqt(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}Object.defineProperty(Bs,"__esModule",{value:!0});Bs.isNegativeLE=void 0;Bs.mod=xl;Bs.pow=d6e;Bs.pow2=tHt;Bs.invert=gK;Bs.tonelliShanks=f6e;Bs.FpSqrt=h6e;Bs.validateField=sHt;Bs.FpPow=g6e;Bs.FpInvertBatch=m6e;Bs.FpDiv=iHt;Bs.FpLegendre=y6e;Bs.FpIsSquare=oHt;Bs.nLength=yfe;Bs.Field=aHt;Bs.FpSqrtOdd=cHt;Bs.FpSqrtEven=uHt;Bs.hashToPrivateScalar=lHt;Bs.getFieldBytesLength=pfe;Bs.getMinHashLength=p6e;Bs.mapHashToField=dHt;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $l=Ln,zc=BigInt(0),ui=BigInt(1),Wp=BigInt(2),eHt=BigInt(3),uZ=BigInt(4),Pve=BigInt(5),Eve=BigInt(8);BigInt(9);BigInt(16);function xl(n,e){const t=n%e;return t>=zc?t:e+t}function d6e(n,e,t){if(t<=zc||e<zc)throw new Error("Expected power/modulo > 0");if(t===ui)return zc;let r=ui;for(;e>zc;)e&ui&&(r=r*n%t),n=n*n%t,e>>=ui;return r}function tHt(n,e,t){let r=n;for(;e-- >zc;)r*=r,r%=t;return r}function gK(n,e){if(n===zc||e<=zc)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=xl(n,e),r=e,s=zc,i=ui;for(;t!==zc;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==ui)throw new Error("invert: does not exist");return xl(s,e)}function f6e(n){const e=(n-ui)/Wp;let t,r,s;for(t=n-ui,r=0;t%Wp===zc;t/=Wp,r++);for(s=Wp;s<n&&d6e(s,e,n)!==n-ui;s++);if(r===1){const o=(n+ui)/uZ;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+ui)/Wp;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,ui<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function h6e(n){if(n%uZ===eHt){const e=(n+ui)/uZ;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Eve===Pve){const e=(n-Pve)/Eve;return function(r,s){const i=r.mul(s,Wp),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,Wp),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return f6e(n)}const rHt=(n,e)=>(xl(n,e)&ui)===ui;Bs.isNegativeLE=rHt;const nHt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sHt(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=nHt.reduce((r,s)=>(r[s]="function",r),e);return(0,$l.validateObject)(n,t)}function g6e(n,e,t){if(t<zc)throw new Error("Expected power > 0");if(t===zc)return n.ONE;if(t===ui)return e;let r=n.ONE,s=e;for(;t>zc;)t&ui&&(r=n.mul(r,s)),s=n.sqr(s),t>>=ui;return r}function m6e(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function iHt(n,e,t){return n.mul(e,typeof t=="bigint"?gK(t,n.ORDER):n.inv(t))}function y6e(n){const e=(n-ui)/Wp;return(t,r)=>t.pow(r,e)}function oHt(n){const e=y6e(n.ORDER);return t=>{const r=e(n,t);return n.eql(r,n.ZERO)||n.eql(r,n.ONE)}}function yfe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function aHt(n,e,t=!1,r={}){if(n<=zc)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=yfe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=h6e(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:(0,$l.bitMask)(s),ZERO:zc,ONE:ui,create:c=>xl(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return zc<=c&&c<n},is0:c=>c===zc,isOdd:c=>(c&ui)===ui,neg:c=>xl(-c,n),eql:(c,u)=>c===u,sqr:c=>xl(c*c,n),add:(c,u)=>xl(c+u,n),sub:(c,u)=>xl(c-u,n),mul:(c,u)=>xl(c*u,n),pow:(c,u)=>g6e(a,c,u),div:(c,u)=>xl(c*gK(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>gK(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>m6e(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?(0,$l.numberToBytesLE)(c,i):(0,$l.numberToBytesBE)(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?(0,$l.bytesToNumberLE)(c):(0,$l.bytesToNumberBE)(c)}});return Object.freeze(a)}function cHt(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?t:n.neg(t)}function uHt(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?n.neg(t):t}function lHt(n,e,t=!1){n=(0,$l.ensureBytes)("privateHash",n);const r=n.length,s=yfe(e).nByteLength+8;if(s<24||r<s||r>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${r}`);const i=t?(0,$l.bytesToNumberLE)(n):(0,$l.bytesToNumberBE)(n);return xl(i,e-ui)+ui}function pfe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function p6e(n){const e=pfe(n);return e+Math.ceil(e/2)}function dHt(n,e,t=!1){const r=n.length,s=pfe(e),i=p6e(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?(0,$l.bytesToNumberBE)(n):(0,$l.bytesToNumberLE)(n),a=xl(o,e-ui)+ui;return t?(0,$l.numberToBytesLE)(a,s):(0,$l.numberToBytesBE)(a,s)}Object.defineProperty(j8,"__esModule",{value:!0});j8.wNAF=hHt;j8.pippenger=gHt;j8.validateBasic=mHt;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xve=Bs,b6e=Ln,fHt=BigInt(0),Vq=BigInt(1),qq=new WeakMap,Tve=new WeakMap;function hHt(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>fHt;)o&Vq&&(a=a.add(c)),c=c.double(),o>>=Vq;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=Vq);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=Tve.get(i)||1;let u=qq.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&qq.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),Tve.set(i,o),qq.delete(i)}}}function gHt(n,e,t,r){if(!Array.isArray(t)||!Array.isArray(r)||r.length!==t.length)throw new Error("arrays of points and scalars must have equal length");r.forEach((l,d)=>{if(!e.isValid(l))throw new Error(`wrong scalar at index ${d}`)}),t.forEach((l,d)=>{if(!(l instanceof n))throw new Error(`wrong point at index ${d}`)});const s=(0,b6e.bitLen)(BigInt(t.length)),i=s>12?s-3:s>4?s-2:s?2:1,o=(1<<i)-1,a=new Array(o+1).fill(n.ZERO),c=Math.floor((e.BITS-1)/i)*i;let u=n.ZERO;for(let l=c;l>=0;l-=i){a.fill(n.ZERO);for(let y=0;y<r.length;y++){const h=r[y],m=Number(h>>BigInt(l)&BigInt(o));a[m]=a[m].add(t[y])}let d=n.ZERO;for(let y=a.length-1,h=n.ZERO;y>0;y--)h=h.add(a[y]),d=d.add(h);if(u=u.add(d),l!==0)for(let y=0;y<i;y++)u=u.double()}return u}function mHt(n){return(0,xve.validateField)(n.Fp),(0,b6e.validateObject)(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,xve.nLength)(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}Object.defineProperty(ffe,"__esModule",{value:!0});ffe.twistedEdwards=SHt;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lZ=j8,Rve=Bs,Bu=Ln,yl=Ln,$d=BigInt(0),Tu=BigInt(1),oL=BigInt(2),yHt=BigInt(8),pHt={zip215:!0};function bHt(n){const e=(0,lZ.validateBasic)(n);return Bu.validateObject(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function SHt(n){const e=bHt(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=oL<<BigInt(a*8)-Tu,l=t.create,d=(0,Rve.Field)(e.n,e.nBitLength),y=e.uvRatio||((k,_)=>{try{return{isValid:!0,value:t.sqrt(k*t.inv(_))}}catch{return{isValid:!1,value:$d}}}),h=e.adjustScalarBytes||(k=>k),m=e.domain||((k,_,B)=>{if((0,yl.abool)("phflag",B),_.length||B)throw new Error("Contexts/pre-hash are not supported");return k});function f(k,_){Bu.aInRange("coordinate "+k,_,$d,u)}function g(k){if(!(k instanceof p))throw new Error("ExtendedPoint expected")}const b=(0,yl.memoized)((k,_)=>{const{ex:B,ey:C,ez:O}=k,D=k.is0();_==null&&(_=D?yHt:t.inv(O));const W=l(B*_),L=l(C*_),U=l(O*_);if(D)return{x:$d,y:Tu};if(U!==Tu)throw new Error("invZ was invalid");return{x:W,y:L}}),S=(0,yl.memoized)(k=>{const{a:_,d:B}=e;if(k.is0())throw new Error("bad point: ZERO");const{ex:C,ey:O,ez:D,et:W}=k,L=l(C*C),U=l(O*O),q=l(D*D),J=l(q*q),Q=l(L*_),j=l(q*l(Q+U)),X=l(J+l(B*l(L*U)));if(j!==X)throw new Error("bad point: equation left != right (1)");const re=l(C*O),se=l(D*W);if(re!==se)throw new Error("bad point: equation left != right (2)");return!0});class p{constructor(_,B,C,O){this.ex=_,this.ey=B,this.ez=C,this.et=O,f("x",_),f("y",B),f("z",C),f("t",O),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(_){if(_ instanceof p)throw new Error("extended point not allowed");const{x:B,y:C}=_||{};return f("x",B),f("y",C),new p(B,C,Tu,l(B*C))}static normalizeZ(_){const B=t.invertBatch(_.map(C=>C.ez));return _.map((C,O)=>C.toAffine(B[O])).map(p.fromAffine)}static msm(_,B){return(0,lZ.pippenger)(p,d,_,B)}_setWindowSize(_){A.setWindowSize(this,_)}assertValidity(){S(this)}equals(_){g(_);const{ex:B,ey:C,ez:O}=this,{ex:D,ey:W,ez:L}=_,U=l(B*L),q=l(D*O),J=l(C*L),Q=l(W*O);return U===q&&J===Q}is0(){return this.equals(p.ZERO)}negate(){return new p(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:_}=e,{ex:B,ey:C,ez:O}=this,D=l(B*B),W=l(C*C),L=l(oL*l(O*O)),U=l(_*D),q=B+C,J=l(l(q*q)-D-W),Q=U+W,j=Q-L,X=U-W,re=l(J*j),se=l(Q*X),ee=l(J*X),ne=l(j*Q);return new p(re,se,ne,ee)}add(_){g(_);const{a:B,d:C}=e,{ex:O,ey:D,ez:W,et:L}=this,{ex:U,ey:q,ez:J,et:Q}=_;if(B===BigInt(-1)){const _t=l((D-O)*(q+U)),tt=l((D+O)*(q-U)),Ve=l(tt-_t);if(Ve===$d)return this.double();const qt=l(W*oL*Q),lr=l(L*oL*J),ur=lr+qt,hr=tt+_t,Rr=lr-qt,ms=l(ur*Ve),kn=l(hr*Rr),ys=l(ur*Rr),Ul=l(Ve*hr);return new p(ms,kn,Ul,ys)}const j=l(O*U),X=l(D*q),re=l(L*C*Q),se=l(W*J),ee=l((O+D)*(U+q)-j-X),ne=se-re,_e=se+re,Pe=l(X-B*j),We=l(ee*ne),Ne=l(_e*Pe),Yt=l(ee*Pe),$t=l(ne*_e);return new p(We,Ne,$t,Yt)}subtract(_){return this.add(_.negate())}wNAF(_){return A.wNAFCached(this,_,p.normalizeZ)}multiply(_){const B=_;Bu.aInRange("scalar",B,Tu,r);const{p:C,f:O}=this.wNAF(B);return p.normalizeZ([C,O])[0]}multiplyUnsafe(_){const B=_;return Bu.aInRange("scalar",B,$d,r),B===$d?w:this.equals(w)||B===Tu?this:this.equals(I)?this.wNAF(B).p:A.unsafeLadder(this,B)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(_){return b(this,_)}clearCofactor(){const{h:_}=e;return _===Tu?this:this.multiplyUnsafe(_)}static fromHex(_,B=!1){const{d:C,a:O}=e,D=t.BYTES;_=(0,yl.ensureBytes)("pointHex",_,D),(0,yl.abool)("zip215",B);const W=_.slice(),L=_[D-1];W[D-1]=L&-129;const U=Bu.bytesToNumberLE(W),q=B?u:t.ORDER;Bu.aInRange("pointHex.y",U,$d,q);const J=l(U*U),Q=l(J-Tu),j=l(C*J-O);let{isValid:X,value:re}=y(Q,j);if(!X)throw new Error("Point.fromHex: invalid y coordinate");const se=(re&Tu)===Tu,ee=(L&128)!==0;if(!B&&re===$d&&ee)throw new Error("Point.fromHex: x=0 and x_0=1");return ee!==se&&(re=l(-re)),p.fromAffine({x:re,y:U})}static fromPrivateKey(_){return M(_).point}toRawBytes(){const{x:_,y:B}=this.toAffine(),C=Bu.numberToBytesLE(B,t.BYTES);return C[C.length-1]|=_&Tu?128:0,C}toHex(){return Bu.bytesToHex(this.toRawBytes())}}p.BASE=new p(e.Gx,e.Gy,Tu,l(e.Gx*e.Gy)),p.ZERO=new p($d,Tu,Tu,$d);const{BASE:I,ZERO:w}=p,A=(0,lZ.wNAF)(p,a*8);function P(k){return(0,Rve.mod)(k,r)}function E(k){return P(Bu.bytesToNumberLE(k))}function M(k){const _=a;k=(0,yl.ensureBytes)("private key",k,_);const B=(0,yl.ensureBytes)("hashed private key",i(k),2*_),C=h(B.slice(0,_)),O=B.slice(_,2*_),D=E(C),W=I.multiply(D),L=W.toRawBytes();return{head:C,prefix:O,scalar:D,point:W,pointBytes:L}}function x(k){return M(k).pointBytes}function R(k=new Uint8Array,..._){const B=Bu.concatBytes(..._);return E(i(m(B,(0,yl.ensureBytes)("context",k),!!s)))}function $(k,_,B={}){k=(0,yl.ensureBytes)("message",k),s&&(k=s(k));const{prefix:C,scalar:O,pointBytes:D}=M(_),W=R(B.context,C,k),L=I.multiply(W).toRawBytes(),U=R(B.context,L,D,k),q=P(W+U*O);Bu.aInRange("signature.s",q,$d,r);const J=Bu.concatBytes(L,Bu.numberToBytesLE(q,t.BYTES));return(0,yl.ensureBytes)("result",J,a*2)}const z=pHt;function T(k,_,B,C=z){const{context:O,zip215:D}=C,W=t.BYTES;k=(0,yl.ensureBytes)("signature",k,2*W),_=(0,yl.ensureBytes)("message",_),D!==void 0&&(0,yl.abool)("zip215",D),s&&(_=s(_));const L=Bu.bytesToNumberLE(k.slice(W,2*W));let U,q,J;try{U=p.fromHex(B,D),q=p.fromHex(k.slice(0,W),D),J=I.multiplyUnsafe(L)}catch{return!1}if(!D&&U.isSmallOrder())return!1;const Q=R(O,q.toRawBytes(),U.toRawBytes(),_);return q.add(U.multiplyUnsafe(Q)).subtract(J).clearCofactor().equals(p.ZERO)}return I._setWindowSize(8),{CURVE:e,getPublicKey:x,sign:$,verify:T,ExtendedPoint:p,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>o(t.BYTES),precompute(k=8,_=p.BASE){return _._setWindowSize(k),_.multiply(BigInt(3)),_}}}}var Nv={};Object.defineProperty(Nv,"__esModule",{value:!0});Nv.expand_message_xmd=S6e;Nv.expand_message_xof=k6e;Nv.hash_to_field=dZ;Nv.isogenyMap=wHt;Nv.createHasher=IHt;const kHt=Bs,jc=Ln,vHt=jc.bytesToNumberBE;function xp(n,e){if(g$(n),g$(e),n<0||n>=1<<8*e)throw new Error(`bad I2OSP call: value=${n} length=${e}`);const t=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)t[r]=n&255,n>>>=8;return new Uint8Array(t)}function AHt(n,e){const t=new Uint8Array(n.length);for(let r=0;r<n.length;r++)t[r]=n[r]^e[r];return t}function g$(n){if(!Number.isSafeInteger(n))throw new Error("number expected")}function S6e(n,e,t,r){(0,jc.abytes)(n),(0,jc.abytes)(e),g$(t),e.length>255&&(e=r((0,jc.concatBytes)((0,jc.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));const{outputLen:s,blockLen:i}=r,o=Math.ceil(t/s);if(t>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=(0,jc.concatBytes)(e,xp(e.length,1)),c=xp(0,i),u=xp(t,2),l=new Array(o),d=r((0,jc.concatBytes)(c,n,u,xp(0,1),a));l[0]=r((0,jc.concatBytes)(d,xp(1,1),a));for(let h=1;h<=o;h++){const m=[AHt(d,l[h-1]),xp(h+1,1),a];l[h]=r((0,jc.concatBytes)(...m))}return(0,jc.concatBytes)(...l).slice(0,t)}function k6e(n,e,t,r,s){if((0,jc.abytes)(n),(0,jc.abytes)(e),g$(t),e.length>255){const i=Math.ceil(2*r/8);e=s.create({dkLen:i}).update((0,jc.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(t>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:t}).update(n).update(xp(t,2)).update(e).update(xp(e.length,1)).digest()}function dZ(n,e,t){(0,jc.validateObject)(t,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:s,m:i,hash:o,expand:a,DST:c}=t;(0,jc.abytes)(n),g$(e);const u=typeof c=="string"?(0,jc.utf8ToBytes)(c):c,l=r.toString(2).length,d=Math.ceil((l+s)/8),y=e*i*d;let h;if(a==="xmd")h=S6e(n,u,y,o);else if(a==="xof")h=k6e(n,u,y,s,o);else if(a==="_internal_pass")h=n;else throw new Error('expand must be "xmd" or "xof"');const m=new Array(e);for(let f=0;f<e;f++){const g=new Array(i);for(let b=0;b<i;b++){const S=d*(b+f*i),p=h.subarray(S,S+d);g[b]=(0,kHt.mod)(vHt(p),r)}m[f]=g}return m}function wHt(n,e){const t=e.map(r=>Array.from(r).reverse());return(r,s)=>{const[i,o,a,c]=t.map(u=>u.reduce((l,d)=>n.add(n.mul(l,r),d)));return r=n.div(i,o),s=n.mul(s,n.div(a,c)),{x:r,y:s}}}function IHt(n,e,t){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,s){const i=dZ(r,2,{...t,DST:t.DST,...s}),o=n.fromAffine(e(i[0])),a=n.fromAffine(e(i[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,s){const i=dZ(r,1,{...t,DST:t.encodeDST,...s}),o=n.fromAffine(e(i[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const i of r)if(typeof i!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${i} in array`);const s=n.fromAffine(e(r)).clearCofactor();return s.assertValidity(),s}}}var bfe={};Object.defineProperty(bfe,"__esModule",{value:!0});bfe.montgomery=PHt;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bve=Bs,Ip=Ln,zA=BigInt(0),Hq=BigInt(1);function _Ht(n){return(0,Ip.validateObject)(n,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...n})}function PHt(n){const e=_Ht(n),{P:t}=e,r=S=>(0,Bve.mod)(S,t),s=e.montgomeryBits,i=Math.ceil(s/8),o=e.nByteLength,a=e.adjustScalarBytes||(S=>S),c=e.powPminus2||(S=>(0,Bve.pow)(S,t-BigInt(2),t));function u(S,p,I){const w=r(S*(p-I));return p=r(p-w),I=r(I+w),[p,I]}const l=(e.a-BigInt(2))/BigInt(4);function d(S,p){(0,Ip.aInRange)("u",S,zA,t),(0,Ip.aInRange)("scalar",p,zA,t);const I=p,w=S;let A=Hq,P=zA,E=S,M=Hq,x=zA,R;for(let z=BigInt(s-1);z>=zA;z--){const T=I>>z&Hq;x^=T,R=u(x,A,E),A=R[0],E=R[1],R=u(x,P,M),P=R[0],M=R[1],x=T;const v=A+P,k=r(v*v),_=A-P,B=r(_*_),C=k-B,O=E+M,D=E-M,W=r(D*v),L=r(O*_),U=W+L,q=W-L;E=r(U*U),M=r(w*r(q*q)),A=r(k*B),P=r(C*(k+r(l*C)))}R=u(x,A,E),A=R[0],E=R[1],R=u(x,P,M),P=R[0],M=R[1];const $=c(P);return r(A*$)}function y(S){return(0,Ip.numberToBytesLE)(r(S),i)}function h(S){const p=(0,Ip.ensureBytes)("u coordinate",S,i);return o===32&&(p[31]&=127),(0,Ip.bytesToNumberLE)(p)}function m(S){const p=(0,Ip.ensureBytes)("scalar",S),I=p.length;if(I!==i&&I!==o)throw new Error(`Expected ${i} or ${o} bytes, got ${I}`);return(0,Ip.bytesToNumberLE)(a(p))}function f(S,p){const I=h(p),w=m(S),A=d(I,w);if(A===zA)throw new Error("Invalid private or public key received");return y(A)}const g=y(e.Gu);function b(S){return f(S,g)}return{scalarMult:f,scalarMultBase:b,getSharedSecret:(S,p)=>f(S,p),getPublicKey:S=>b(S),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:g}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.hash_to_ristretto255=n.hashToRistretto255=n.RistrettoPoint=n.encodeToCurve=n.hashToCurve=n.edwardsToMontgomery=n.x25519=n.ed25519ph=n.ed25519ctx=n.ed25519=n.ED25519_TORSION_SUBGROUP=void 0,n.edwardsToMontgomeryPub=A,n.edwardsToMontgomeryPriv=P;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=gc,t=zN,r=ffe,s=Nv,i=Bs,o=bfe,a=Ln,c=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),u=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),l=BigInt(0),d=BigInt(1),y=BigInt(2),h=BigInt(3),m=BigInt(5),f=BigInt(8);function g(Q){const j=BigInt(10),X=BigInt(20),re=BigInt(40),se=BigInt(80),ee=c,_e=Q*Q%ee*Q%ee,Pe=(0,i.pow2)(_e,y,ee)*_e%ee,We=(0,i.pow2)(Pe,d,ee)*Q%ee,Ne=(0,i.pow2)(We,m,ee)*We%ee,Yt=(0,i.pow2)(Ne,j,ee)*Ne%ee,$t=(0,i.pow2)(Yt,X,ee)*Yt%ee,_t=(0,i.pow2)($t,re,ee)*$t%ee,tt=(0,i.pow2)(_t,se,ee)*_t%ee,Ve=(0,i.pow2)(tt,se,ee)*_t%ee,qt=(0,i.pow2)(Ve,j,ee)*Ne%ee;return{pow_p_5_8:(0,i.pow2)(qt,y,ee)*Q%ee,b2:_e}}function b(Q){return Q[0]&=248,Q[31]&=127,Q[31]|=64,Q}function S(Q,j){const X=c,re=(0,i.mod)(j*j*j,X),se=(0,i.mod)(re*re*j,X),ee=g(Q*se).pow_p_5_8;let ne=(0,i.mod)(Q*re*ee,X);const _e=(0,i.mod)(j*ne*ne,X),Pe=ne,We=(0,i.mod)(ne*u,X),Ne=_e===Q,Yt=_e===(0,i.mod)(-Q,X),$t=_e===(0,i.mod)(-Q*u,X);return Ne&&(ne=Pe),(Yt||$t)&&(ne=We),(0,i.isNegativeLE)(ne,X)&&(ne=(0,i.mod)(-ne,X)),{isValid:Ne||Yt,value:ne}}n.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const p=(()=>(0,i.Field)(c,void 0,!0))(),I=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:p,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:f,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:e.sha512,randomBytes:t.randomBytes,adjustScalarBytes:b,uvRatio:S}))();n.ed25519=(()=>(0,r.twistedEdwards)(I))();function w(Q,j,X){if(j.length>255)throw new Error("Context is too big");return(0,t.concatBytes)((0,t.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([X?1:0,j.length]),j,Q)}n.ed25519ctx=(()=>(0,r.twistedEdwards)({...I,domain:w}))(),n.ed25519ph=(()=>(0,r.twistedEdwards)(Object.assign({},I,{domain:w,prehash:e.sha512})))(),n.x25519=(()=>(0,o.montgomery)({P:c,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Q=>{const j=c,{pow_p_5_8:X,b2:re}=g(Q);return(0,i.mod)((0,i.pow2)(X,h,j)*re,j)},adjustScalarBytes:b,randomBytes:t.randomBytes}))();function A(Q){const{y:j}=n.ed25519.ExtendedPoint.fromHex(Q),X=BigInt(1);return p.toBytes(p.create((X+j)*p.inv(X-j)))}n.edwardsToMontgomery=A;function P(Q){const j=I.hash(Q.subarray(0,32));return I.adjustScalarBytes(j).subarray(0,32)}const E=(()=>(p.ORDER+h)/f)(),M=(()=>p.pow(y,E))(),x=(()=>p.sqrt(p.neg(p.ONE)))();function R(Q){const j=(p.ORDER-m)/f,X=BigInt(486662);let re=p.sqr(Q);re=p.mul(re,y);let se=p.add(re,p.ONE),ee=p.neg(X),ne=p.sqr(se),_e=p.mul(ne,se),Pe=p.mul(re,X);Pe=p.mul(Pe,ee),Pe=p.add(Pe,ne),Pe=p.mul(Pe,ee);let We=p.sqr(_e);ne=p.sqr(We),We=p.mul(We,_e),We=p.mul(We,Pe),ne=p.mul(ne,We);let Ne=p.pow(ne,j);Ne=p.mul(Ne,We);let Yt=p.mul(Ne,x);ne=p.sqr(Ne),ne=p.mul(ne,_e);let $t=p.eql(ne,Pe),_t=p.cmov(Yt,Ne,$t),tt=p.mul(ee,re),Ve=p.mul(Ne,Q);Ve=p.mul(Ve,M);let qt=p.mul(Ve,x),lr=p.mul(Pe,re);ne=p.sqr(Ve),ne=p.mul(ne,_e);let ur=p.eql(ne,lr),hr=p.cmov(qt,Ve,ur);ne=p.sqr(_t),ne=p.mul(ne,_e);let Rr=p.eql(ne,Pe),ms=p.cmov(tt,ee,Rr),kn=p.cmov(hr,_t,Rr),ys=p.isOdd(kn);return kn=p.cmov(kn,p.neg(kn),Rr!==ys),{xMn:ms,xMd:se,yMn:kn,yMd:d}}const $=(()=>(0,i.FpSqrtEven)(p,p.neg(BigInt(486664))))();function z(Q){const{xMn:j,xMd:X,yMn:re,yMd:se}=R(Q);let ee=p.mul(j,se);ee=p.mul(ee,$);let ne=p.mul(X,re),_e=p.sub(j,X),Pe=p.add(j,X),We=p.mul(ne,Pe),Ne=p.eql(We,p.ZERO);ee=p.cmov(ee,p.ZERO,Ne),ne=p.cmov(ne,p.ONE,Ne),_e=p.cmov(_e,p.ONE,Ne),Pe=p.cmov(Pe,p.ONE,Ne);const Yt=p.invertBatch([ne,Pe]);return{x:p.mul(ee,Yt[0]),y:p.mul(_e,Yt[1])}}const T=(()=>(0,s.createHasher)(n.ed25519.ExtendedPoint,Q=>z(Q[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:p.ORDER,m:1,k:128,expand:"xmd",hash:e.sha512}))();n.hashToCurve=(()=>T.hashToCurve)(),n.encodeToCurve=(()=>T.encodeToCurve)();function v(Q){if(!(Q instanceof q))throw new Error("RistrettoPoint expected")}const k=u,_=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),B=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),C=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),O=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),D=Q=>S(d,Q),W=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),L=Q=>n.ed25519.CURVE.Fp.create((0,a.bytesToNumberLE)(Q)&W);function U(Q){const{d:j}=n.ed25519.CURVE,X=n.ed25519.CURVE.Fp.ORDER,re=n.ed25519.CURVE.Fp.create,se=re(k*Q*Q),ee=re((se+d)*C);let ne=BigInt(-1);const _e=re((ne-j*se)*re(se+j));let{isValid:Pe,value:We}=S(ee,_e),Ne=re(We*Q);(0,i.isNegativeLE)(Ne,X)||(Ne=re(-Ne)),Pe||(We=Ne),Pe||(ne=se);const Yt=re(ne*(se-d)*O-_e),$t=We*We,_t=re((We+We)*_e),tt=re(Yt*_),Ve=re(d-$t),qt=re(d+$t);return new n.ed25519.ExtendedPoint(re(_t*qt),re(Ve*tt),re(tt*qt),re(_t*Ve))}class q{constructor(j){this.ep=j}static fromAffine(j){return new q(n.ed25519.ExtendedPoint.fromAffine(j))}static hashToCurve(j){j=(0,a.ensureBytes)("ristrettoHash",j,64);const X=L(j.slice(0,32)),re=U(X),se=L(j.slice(32,64)),ee=U(se);return new q(re.add(ee))}static fromHex(j){j=(0,a.ensureBytes)("ristrettoHex",j,32);const{a:X,d:re}=n.ed25519.CURVE,se=n.ed25519.CURVE.Fp.ORDER,ee=n.ed25519.CURVE.Fp.create,ne="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",_e=L(j);if(!(0,a.equalBytes)((0,a.numberToBytesLE)(_e,32),j)||(0,i.isNegativeLE)(_e,se))throw new Error(ne);const Pe=ee(_e*_e),We=ee(d+X*Pe),Ne=ee(d-X*Pe),Yt=ee(We*We),$t=ee(Ne*Ne),_t=ee(X*re*Yt-$t),{isValid:tt,value:Ve}=D(ee(_t*$t)),qt=ee(Ve*Ne),lr=ee(Ve*qt*_t);let ur=ee((_e+_e)*qt);(0,i.isNegativeLE)(ur,se)&&(ur=ee(-ur));const hr=ee(We*lr),Rr=ee(ur*hr);if(!tt||(0,i.isNegativeLE)(Rr,se)||hr===l)throw new Error(ne);return new q(new n.ed25519.ExtendedPoint(ur,hr,d,Rr))}toRawBytes(){let{ex:j,ey:X,ez:re,et:se}=this.ep;const ee=n.ed25519.CURVE.Fp.ORDER,ne=n.ed25519.CURVE.Fp.create,_e=ne(ne(re+X)*ne(re-X)),Pe=ne(j*X),We=ne(Pe*Pe),{value:Ne}=D(ne(_e*We)),Yt=ne(Ne*_e),$t=ne(Ne*Pe),_t=ne(Yt*$t*se);let tt;if((0,i.isNegativeLE)(se*_t,ee)){let qt=ne(X*k),lr=ne(j*k);j=qt,X=lr,tt=ne(Yt*B)}else tt=$t;(0,i.isNegativeLE)(j*_t,ee)&&(X=ne(-X));let Ve=ne((re-X)*tt);return(0,i.isNegativeLE)(Ve,ee)&&(Ve=ne(-Ve)),(0,a.numberToBytesLE)(Ve,32)}toHex(){return(0,a.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(j){v(j);const{ex:X,ey:re}=this.ep,{ex:se,ey:ee}=j.ep,ne=n.ed25519.CURVE.Fp.create,_e=ne(X*ee)===ne(re*se),Pe=ne(re*ee)===ne(X*se);return _e||Pe}add(j){return v(j),new q(this.ep.add(j.ep))}subtract(j){return v(j),new q(this.ep.subtract(j.ep))}multiply(j){return new q(this.ep.multiply(j))}multiplyUnsafe(j){return new q(this.ep.multiplyUnsafe(j))}double(){return new q(this.ep.double())}negate(){return new q(this.ep.negate())}}n.RistrettoPoint=(()=>(q.BASE||(q.BASE=new q(n.ed25519.ExtendedPoint.BASE)),q.ZERO||(q.ZERO=new q(n.ed25519.ExtendedPoint.ZERO)),q))();const J=(Q,j)=>{const X=j.DST,re=typeof X=="string"?(0,t.utf8ToBytes)(X):X,se=(0,s.expand_message_xmd)(Q,re,64,e.sha512);return q.hashToCurve(se)};n.hashToRistretto255=J,n.hash_to_ristretto255=n.hashToRistretto255})(BKe);var EHt=Wl(G6e);Object.defineProperty(kN,"__esModule",{value:!0});var jq=Z,$A=mu,Cve=BKe,iM=EHt;function xHt(){return{generateKeypair:()=>$A.fromWeb3JsKeypair(iM.Keypair.generate()),createKeypairFromSecretKey:a=>$A.fromWeb3JsKeypair(iM.Keypair.fromSecretKey(a)),createKeypairFromSeed:a=>$A.fromWeb3JsKeypair(iM.Keypair.fromSeed(a)),isOnCurve:a=>iM.PublicKey.isOnCurve($A.toWeb3JsPublicKey(jq.publicKey(a))),findPda:(a,c)=>{const[u,l]=iM.PublicKey.findProgramAddressSync(c,$A.toWeb3JsPublicKey(jq.publicKey(a)));return[$A.fromWeb3JsPublicKey(u),l]},sign:(a,c)=>Cve.ed25519.sign(a,c.secretKey.slice(0,32)),verify:(a,c,u)=>Cve.ed25519.verify(c,a,jq.publicKeyBytes(u))}}kN.createWeb3JsEddsa=xHt;Object.defineProperty($de,"__esModule",{value:!0});var THt=kN;const RHt=()=>({install(n){n.eddsa=THt.createWeb3JsEddsa()}});$de.web3JsEddsa=RHt;Object.defineProperty(SN,"__esModule",{value:!0});var BHt=$de,CHt=kN;SN.web3JsEddsa=BHt.web3JsEddsa;SN.createWeb3JsEddsa=CHt.createWeb3JsEddsa;var NN={},FN={},UN={};Object.defineProperty(UN,"__esModule",{value:!0});var fZ=Z;class MHt extends fZ.SdkError{name="ProgramNotRecognizedError";constructor(e,t){const r=!fZ.isPublicKey(e),s=e,i=t==="*"?"any":`the [${t}]`,o=`The provided program ${r?"name":"address"} [${s}] is not recognized in ${i} cluster. Did you forget to register this program? If so, you may use "context.programs.add(myProgram)" to fix this.`;super(o),this.identifier=e,this.cluster=t}}class zHt extends fZ.ProgramError{name="ProgramErrorNotRecognizedError";constructor(e,t){const r=t.code?` of code [${t.code}]`:"",s=`The program [${e.name}] at address [${e.publicKey}] raised an error${r} that is not recognized by the programs registered on the SDK. Please check the underlying program error below for more details.`;super(s,e,t)}}UN.ProgramErrorNotRecognizedError=zHt;UN.ProgramNotRecognizedError=MHt;Object.defineProperty(FN,"__esModule",{value:!0});var aL=Z,Mve=UN;function v6e(n,e=[],t={}){const r=[...e],s={...t},i=(g,b="current")=>{const S=c(b),p=f(g);return aL.isPublicKey(p)?S.some(I=>I.publicKey===p):S.some(I=>I.name===p)},o=(g,b="current")=>{const S=m(b),p=c(b),I=f(g),w=aL.isPublicKey(I)?p.find(A=>A.publicKey===I):p.find(A=>A.name===I);if(!w)throw new Mve.ProgramNotRecognizedError(I,S);return w},a=(g,b,S)=>{try{return o(g,S).publicKey}catch(p){if(b===void 0)throw p;return aL.publicKey(b)}},c=(g="current")=>{const b=m(g);return b==="*"?r:r.filter(S=>S.isOnCluster(b))},u=(g,b=!0)=>{!b&&i(g.publicKey,"*")||r.unshift(g)},l=(g,b)=>{s[g]=b,f(g)},d=g=>{delete s[g]},y=()=>v6e(n,r,s),h=(g,b)=>{var z,T,v,k;if(!Array.isArray(g.logs)||g.logs.length===0)return null;const S=g.logs.join(`
`),p=/Error processing Instruction (\d+):/,I=((z=g.message.match(p))==null?void 0:z[1])??null,w=/Custom program error: (0x[a-f0-9]+)/i,A=((T=S.match(w))==null?void 0:T[1])??null,P=A?parseInt(A,16):null;if(I===null||P===null)return null;const E=parseInt(I,10),M=((k=(v=b.message.instructions)==null?void 0:v[E])==null?void 0:k.programIndex)??null,x=M?b.message.accounts[M]:null;if(!x)return null;let R;try{R=o(x)}catch{return null}return R.getErrorFromCode(P,g)??new Mve.ProgramErrorNotRecognizedError(R,g)},m=g=>g==="current"?n.rpc.getCluster():g,f=(g,b=[])=>{if(aL.isPublicKey(g)||s[g]===void 0)return g;const S=[...b,g];if(b.includes(g))throw new Error(`Circular binding detected: ${S.join(" -> ")}`);return f(s[g],S)};return{has:i,get:o,getPublicKey:a,all:c,add:u,bind:l,unbind:d,clone:y,resolveError:h}}FN.createDefaultProgramRepository=v6e;var Sfe={};Object.defineProperty(Sfe,"__esModule",{value:!0});var $Ht=FN;const DHt=()=>({install(n){n.programs=$Ht.createDefaultProgramRepository(n)}});Sfe.defaultProgramRepository=DHt;Object.defineProperty(NN,"__esModule",{value:!0});var OHt=FN,LHt=Sfe;NN.createDefaultProgramRepository=OHt.createDefaultProgramRepository;NN.defaultProgramRepository=LHt.defaultProgramRepository;var yu={},G8={},Fv={};Object.defineProperty(Fv,"__esModule",{value:!0});var KHt=ru;function WHt(n){return n.toBase58()}function NHt(n){return new KHt.PublicKey(n)}Fv.fromWeb3JsPublicKey=WHt;Fv.toWeb3JsPublicKey=NHt;Object.defineProperty(G8,"__esModule",{value:!0});var FHt=ru,UHt=V,mK=Fv;function VHt(n){return{keys:n.keys.map(e=>({...e,pubkey:mK.fromWeb3JsPublicKey(e.pubkey)})),programId:mK.fromWeb3JsPublicKey(n.programId),data:new Uint8Array(n.data)}}function qHt(n){return new FHt.TransactionInstruction({keys:n.keys.map(e=>({...e,pubkey:mK.toWeb3JsPublicKey(e.pubkey)})),programId:mK.toWeb3JsPublicKey(n.programId),data:UHt.Buffer.from(n.data)})}G8.fromWeb3JsInstruction=VHt;G8.toWeb3JsInstruction=qHt;var VN={};Object.defineProperty(VN,"__esModule",{value:!0});var HHt=Z,jHt=ru,GHt=Fv;function YHt(n){return{publicKey:GHt.fromWeb3JsPublicKey(n.publicKey),secretKey:n.secretKey}}function ZHt(n){return new jHt.Keypair({publicKey:HHt.publicKeyBytes(n.publicKey),secretKey:n.secretKey})}VN.fromWeb3JsKeypair=YHt;VN.toWeb3JsKeypair=ZHt;var H2={},j2={};Object.defineProperty(j2,"__esModule",{value:!0});var JHt=Z,zM=ru,zve=G8,Vm=Fv;function XHt(n){return{version:n.version,header:n.header,accounts:n.staticAccountKeys.map(Vm.fromWeb3JsPublicKey),blockhash:n.recentBlockhash,instructions:n.compiledInstructions.map(e=>({programIndex:e.programIdIndex,accountIndexes:e.accountKeyIndexes,data:new Uint8Array(e.data)})),addressLookupTables:n.addressTableLookups.map(e=>({publicKey:Vm.fromWeb3JsPublicKey(e.accountKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))}}function QHt(n){return n.version==="legacy"?new zM.Message({header:n.header,accountKeys:n.accounts.map(Vm.toWeb3JsPublicKey),recentBlockhash:n.blockhash,instructions:n.instructions.map(e=>({programIdIndex:e.programIndex,accounts:e.accountIndexes,data:JHt.base58.deserialize(e.data)[0]}))}):new zM.MessageV0({header:n.header,staticAccountKeys:n.accounts.map(Vm.toWeb3JsPublicKey),recentBlockhash:n.blockhash,compiledInstructions:n.instructions.map(e=>({programIdIndex:e.programIndex,accountKeyIndexes:e.accountIndexes,data:e.data})),addressTableLookups:n.addressLookupTables.map(e=>({accountKey:Vm.toWeb3JsPublicKey(e.publicKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))})}function ejt(n){var e;return n.version==="legacy"?zM.Message.compile({payerKey:Vm.toWeb3JsPublicKey(n.payer),instructions:n.instructions.map(zve.toWeb3JsInstruction),recentBlockhash:n.blockhash}):zM.MessageV0.compile({payerKey:Vm.toWeb3JsPublicKey(n.payer),instructions:n.instructions.map(zve.toWeb3JsInstruction),recentBlockhash:n.blockhash,addressLookupTableAccounts:(e=n.addressLookupTables)==null?void 0:e.map(t=>new zM.AddressLookupTableAccount({key:Vm.toWeb3JsPublicKey(t.publicKey),state:{addresses:t.addresses.map(Vm.toWeb3JsPublicKey),authority:void 0,deactivationSlot:BigInt(`0x${"ff".repeat(8)}`),lastExtendedSlot:0,lastExtendedSlotStartIndex:0}}))})}j2.fromWeb3JsMessage=XHt;j2.toWeb3JsMessage=QHt;j2.toWeb3JsMessageFromInput=ejt;Object.defineProperty(H2,"__esModule",{value:!0});var tjt=Z,kfe=ru,vfe=j2;function rjt(n){return{message:vfe.fromWeb3JsMessage(n.message),serializedMessage:n.message.serialize(),signatures:n.signatures}}function A6e(n){return new kfe.VersionedTransaction(vfe.toWeb3JsMessage(n.message),n.signatures)}function njt(n){const e=n.compileMessage(),t=n.signatures.reduce((s,i)=>(s[i.publicKey.toBase58()]=i.signature?new Uint8Array(i.signature):null,s),{}),r=[];for(let s=0;s<e.header.numRequiredSignatures;s+=1){const i=e.accountKeys[s].toBase58(),o=t[i]??null;r.push(o??new Uint8Array(kfe.SIGNATURE_LENGTH_IN_BYTES))}return{message:vfe.fromWeb3JsMessage(e),serializedMessage:e.serialize(),signatures:r}}function sjt(n){const e=A6e({...n,message:{...n.message,version:"legacy"}});return kfe.Transaction.populate(e.message,e.signatures.map(t=>tjt.base58.deserialize(t)[0]))}H2.fromWeb3JsLegacyTransaction=njt;H2.fromWeb3JsTransaction=rjt;H2.toWeb3JsLegacyTransaction=sjt;H2.toWeb3JsTransaction=A6e;Object.defineProperty(yu,"__esModule",{value:!0});var w6e=G8,I6e=VN,_6e=Fv,qN=H2,Afe=j2;yu.fromWeb3JsInstruction=w6e.fromWeb3JsInstruction;yu.toWeb3JsInstruction=w6e.toWeb3JsInstruction;yu.fromWeb3JsKeypair=I6e.fromWeb3JsKeypair;yu.toWeb3JsKeypair=I6e.toWeb3JsKeypair;yu.fromWeb3JsPublicKey=_6e.fromWeb3JsPublicKey;yu.toWeb3JsPublicKey=_6e.toWeb3JsPublicKey;yu.fromWeb3JsLegacyTransaction=qN.fromWeb3JsLegacyTransaction;yu.fromWeb3JsTransaction=qN.fromWeb3JsTransaction;yu.toWeb3JsLegacyTransaction=qN.toWeb3JsLegacyTransaction;yu.toWeb3JsTransaction=qN.toWeb3JsTransaction;yu.fromWeb3JsMessage=Afe.fromWeb3JsMessage;yu.toWeb3JsMessage=Afe.toWeb3JsMessage;yu.toWeb3JsMessageFromInput=Afe.toWeb3JsMessageFromInput;var ijt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),ojt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),ajt=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&ijt(e,n,t);return ojt(e,n),e},cjt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(EE,"__esModule",{value:!0});EE.mintCrewMember=EE.mintCrewMemberAccounts=void 0;const ujt=ajt(ru),cL=Kee,uL=T3e,ljt=Z,djt=SN,fjt=NN,DA=yu,P6e=Sf;function E6e(n,e,t,r,s,i,o,a,c,u,l,d,y=P6e.CrewConfig.findAddress(n)[0]){const h=[e],m=(0,ljt.createUmi)().use((0,fjt.defaultProgramRepository)()).use((0,djt.web3JsEddsa)()),f=(0,uL.findMetadataPda)(m,{mint:(0,DA.fromWeb3JsPublicKey)(c)})[0],g=(0,uL.findMasterEditionPda)(m,{mint:(0,DA.fromWeb3JsPublicKey)(c)})[0],b=(0,uL.findMetadataDelegateRecordPda)(m,{mint:(0,DA.fromWeb3JsPublicKey)(c),delegateRole:uL.MetadataDelegateRole.Collection,delegate:(0,DA.fromWeb3JsPublicKey)(y),updateAuthority:(0,DA.fromWeb3JsPublicKey)(u)})[0],S=(0,cL.findTreeConfigPda)(m,{merkleTree:(0,DA.fromWeb3JsPublicKey)(l)})[0],p=cL.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,I=cL.MPL_BUBBLEGUM_PROGRAM_ID,w=cL.SPL_NOOP_PROGRAM_ID;return{accounts:{key:e.publicKey(),profile:t,rentRecipient:r,crewConfig:y,owner:s,userRedemption:i,packType:o,packTiers:a,systemProgram:ujt.SystemProgram.programId,collectionMint:c,collectionMetadata:f,collectionEdition:g,compressionProgram:p,bubblegumProgram:I,logWrapper:w,treeConfig:S,merkleTree:l,collectionAuthorityRecordPda:b,serverHashPreimage:d},signers:h}}EE.mintCrewMemberAccounts=E6e;function hjt(n,e,t,r,s,i,o,a,c,u,l,d,y,h=P6e.CrewConfig.findAddress(n)[0]){const{accounts:m,signers:f}=E6e(n,e,t,r,s,i,o,a,c,u,l,d,h);return()=>cjt(this,void 0,void 0,function*(){return{instruction:yield n.methods.mintCrewMember(y).accountsStrict(m).instruction(),signers:f}})}EE.mintCrewMember=hjt;var HN={},gjt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),mjt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),x6e=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&gjt(e,n,t);return mjt(e,n),e},yjt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},pjt=K&&K.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};Object.defineProperty(HN,"__esModule",{value:!0});HN.redeemCrewPack=void 0;const bjt=x6e(Nl),Gq=x6e(ru),$ve=Sf;function Sjt(n,e,t,r,s,i,o,a,c,u,l,d=$ve.CrewConfig.findAddress(n)[0]){const y=[e,r],h=$ve.UserRedemption.findAddress(n,{owner:s,packType:o,seedPubkey:l.seedPubkey})[0],{sageProfile:m}=l,f=pjt(l,["sageProfile"]),g=m?[{pubkey:m,isSigner:!1,isWritable:!1}]:[];return b=>yjt(this,void 0,void 0,function*(){return{instruction:yield n.methods.redeemCrewPack(f).accountsStrict({packSftAuthority:e.publicKey(),profile:t,profileKey:r.publicKey(),funder:b.publicKey(),owner:s,userRedemption:h,sftRedemption:i,packType:o,packTiers:a,crewConfig:d,tokenFrom:c,tokenMint:u,tokenProgram:bjt.TOKEN_PROGRAM_ID,instructionsSysvar:Gq.SYSVAR_INSTRUCTIONS_PUBKEY,recentSlothashes:Gq.SYSVAR_SLOT_HASHES_PUBKEY,systemProgram:Gq.SystemProgram.programId}).remainingAccounts(g).instruction(),signers:[...y,b]}})}HN.redeemCrewPack=Sjt;var jN={},kjt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),vjt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Ajt=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&kjt(e,n,t);return vjt(e,n),e},wjt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(jN,"__esModule",{value:!0});jN.registerCrewConfig=void 0;const Ijt=Ajt(ru),Dve=Sf;function _jt(n,e,t,r,s=Dve.DERFAULT_CREW_CONFIG_SEED){const i=[],o=Dve.CrewConfig.findAddress(n,s)[0],a=r.map(c=>({pubkey:c,isSigner:!1,isWritable:!1}));return c=>wjt(this,void 0,void 0,function*(){return{instruction:yield n.methods.registerCrewConfig(t).accountsStrict({profile:e,funder:c.publicKey(),crewConfig:o,seedPubkey:s,systemProgram:Ijt.SystemProgram.programId}).remainingAccounts(a).instruction(),signers:[...i,c]}})}jN.registerCrewConfig=_jt;var GN={},Pjt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Ejt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),xjt=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Pjt(e,n,t);return Ejt(e,n),e},Tjt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(GN,"__esModule",{value:!0});GN.registerPackTiers=void 0;const Rjt=xjt(ru),Ove=Sf;function Bjt(n,e,t,r,s){const i=[e];s=s??Ove.CrewConfig.findAddress(n)[0];const o=Ove.PackTiers.findAddress(n,{packTier:r.packTier,seedPubkey:r.seedPubkey})[0];return a=>Tjt(this,void 0,void 0,function*(){return{instruction:yield n.methods.registerPackTiers(r).accountsStrict({key:e.publicKey(),profile:t,funder:a.publicKey(),packTiers:o,systemProgram:Rjt.SystemProgram.programId,crewConfig:s}).instruction(),signers:[...i,a]}})}GN.registerPackTiers=Bjt;var YN={},Cjt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Mjt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),zjt=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Cjt(e,n,t);return Mjt(e,n),e},$jt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(YN,"__esModule",{value:!0});YN.registerPackType=void 0;const Djt=zjt(ru),Lve=Sf;function Ojt(n,e,t,r,s,i){const o=[e];i=i??Lve.CrewConfig.findAddress(n)[0];const a=Lve.PackType.findAddress(n,{crewConfig:i,packTiers:r,faction:s.faction})[0];return c=>$jt(this,void 0,void 0,function*(){return{instruction:yield n.methods.registerPackType(s).accountsStrict({key:e.publicKey(),profile:t,funder:c.publicKey(),packType:a,packTiers:r,systemProgram:Djt.SystemProgram.programId,crewConfig:i}).instruction(),signers:[...o,c]}})}YN.registerPackType=Ojt;var ZN={},Ljt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Kjt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Wjt=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Ljt(e,n,t);return Kjt(e,n),e},Njt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(ZN,"__esModule",{value:!0});ZN.registerSftRedemption=void 0;const Fjt=Wjt(ru),Kve=Sf;function Ujt(n,e,t,r,s,i,o){const a=[e];o=o??Kve.CrewConfig.findAddress(n)[0];const c=Kve.SftRedemption.findAddress(n,{redemptionAmount:i.redemptionAmount,crewConfig:o,packType:r,sftMint:s})[0];return u=>Njt(this,void 0,void 0,function*(){return{instruction:yield n.methods.registerSftRedemption(i).accountsStrict({key:e.publicKey(),profile:t,funder:u.publicKey(),sftRedemptionData:c,crewConfig:o,packType:r,sftMint:s,systemProgram:Fjt.SystemProgram.programId}).instruction(),signers:[...a,u]}})}ZN.registerSftRedemption=Ujt;var JN={},Vjt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(JN,"__esModule",{value:!0});JN.updateCrewConfig=void 0;function qjt(n,e,t,r,s){const i=[e];return o=>Vjt(this,void 0,void 0,function*(){return{instruction:yield n.methods.updateCrewConfig(s).accountsStrict({key:e.publicKey(),profile:t,funder:o.publicKey(),crewConfig:r}).instruction(),signers:[...i,o]}})}JN.updateCrewConfig=qjt;var XN={},Hjt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(XN,"__esModule",{value:!0});XN.updatePackTiers=void 0;const jjt=Sf;function Gjt(n,e,t,r,s,i){const o=[e];return i=i??jjt.CrewConfig.findAddress(n)[0],a=>Hjt(this,void 0,void 0,function*(){return{instruction:yield n.methods.updatePackTiers(s).accountsStrict({key:e.publicKey(),profile:t,funder:a.publicKey(),packTiers:r,crewConfig:i}).instruction(),signers:[...o,a]}})}XN.updatePackTiers=Gjt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(KW,n),t(EE,n),t(HN,n),t(jN,n),t(GN,n),t(YN,n),t(ZN,n),t(JN,n),t(XN,n)})(x3e);var Y8={},Yjt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Zjt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Vc;Object.defineProperty(Y8,"__esModule",{value:!0});Y8.CrewPermissions=void 0;const T6e=fr;let hZ=Vc=class{constructor(e,t,r,s,i){this.registerSftRedemption=e,this.registerPackType=t,this.managePackTiers=r,this.mintCrewCards=s,this.provideServerHash=i}getPermissions(){const e=(0,T6e.fixedSizeArray)(8,0);return e[0]=(this.registerSftRedemption?1<<0:0)|(this.registerPackType?1<<1:0)|(this.managePackTiers?1<<2:0)|(this.mintCrewCards?1<<3:0)|(this.provideServerHash?1<<4:0),e}static empty(){return new Vc(!1,!1,!1,!1,!1)}static all(){return new Vc(!0,!0,!0,!0,!0)}static registerSftRedemption(){return Vc.permissionsBuilder("registerSftRedemption")}static registerPackType(){return Vc.permissionsBuilder("registerPackType")}static managePackTiers(){return Vc.permissionsBuilder("managePackTiers")}static mintCrewCards(){return Vc.permissionsBuilder("mintCrewCards")}static provideServerHash(){return Vc.permissionsBuilder("provideServerHash")}static fromPermissions(e){return new Vc((e[0]&1<<0)!==0,(e[0]&1<<1)!==0,(e[0]&1<<2)!==0,(e[0]&1<<3)!==0,(e[0]&1<<4)!==0)}and(e){return new Vc(this.registerSftRedemption&&e.registerSftRedemption,this.registerPackType&&e.registerPackType,this.managePackTiers&&e.managePackTiers,this.mintCrewCards&&e.mintCrewCards,this.provideServerHash&&e.provideServerHash)}or(e){return new Vc(this.registerSftRedemption||e.registerSftRedemption,this.registerPackType||e.registerPackType,this.managePackTiers||e.managePackTiers,this.mintCrewCards||e.mintCrewCards,this.provideServerHash||e.provideServerHash)}eq(e){return this.registerSftRedemption===e.registerSftRedemption&&this.registerPackType===e.registerPackType&&this.managePackTiers===e.managePackTiers&&this.mintCrewCards===e.mintCrewCards&&this.provideServerHash===e.provideServerHash}contains(e){return this.and(e).eq(e)}static permissionsBuilder(e){const t=Array.isArray(e)?e:[e],r=Object.keys(Vc.empty()).map(s=>t.includes(s));if(r.length!==Vc.length)throw console.error(r.length,Vc.length),"Incorrect number of permissions";return new Vc(...r)}};Y8.CrewPermissions=hZ;Y8.CrewPermissions=hZ=Vc=Yjt([(0,T6e.staticImplements)(),Zjt("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean])],hZ);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Sf,n),t($8,n),t(Xoe,n),t(x3e,n),t(Y8,n),t(fi,n)})(Poe);var Jjt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(IW,"__esModule",{value:!0});IW.mintCrewMemberToSage=void 0;const Xjt=di,Wve=Poe;function Qjt(n,e,t,r,s,i,o,a,c,u,l,d,y,h,m=Wve.CrewConfig.findAddress(n)[0]){const{accounts:f,signers:g}=(0,Wve.mintCrewMemberAccounts)(n,e,t,r,s,i,o,a,c,u,l,d,m),b=[];return b.push({pubkey:y.sageProgram.programId,isWritable:!1,isSigner:!1}),b.push({pubkey:y.starbase,isWritable:!0,isSigner:!1}),b.push({pubkey:y.starbasePlayer,isWritable:!0,isSigner:!1}),b.push({pubkey:y.sageCrewConfig,isWritable:!1,isSigner:!1}),b.push({pubkey:Xjt.SYSVAR_INSTRUCTIONS_PUBKEY,isWritable:!1,isSigner:!1}),()=>Jjt(this,void 0,void 0,function*(){return{instruction:yield n.methods.mintCrewMember(h).accountsStrict(f).remainingAccounts(b).instruction(),signers:g}})}IW.mintCrewMemberToSage=Qjt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(mZ,n),t(Yd,n),t(L6,n),t(K6,n),t(w5,n),t(P5,n),t(gd,n),t(sy,n),t(x8,n),t(Ol,n),t(r0,n),t(sl,n),t(Zd,n),t(IW,n),t(Ll,n),t(md,n),t(I5,n),t(_5,n),t(Wh,n),t(_oe,n),t(wW,n),t(A0,n),t(AW,n)})(Yve);const Kw=Y6e("playerProfileStore",{state:()=>({profile:{},profileKeys:[]}),getters:{},actions:{async updateStore(){this.profileKeys=[];const n=Hve().pg_playerProfile.value,e=await Z6e().connection.getProgramAccounts(d5e,{filters:[{memcmp:{offset:30,bytes:Zq().toString()}}]});console.log(e[0]),this.profile=e[0];let t=e[0].account.data.subarray(30);for(;t.length>=80;){const r=t.subarray(0,80);console.log(`currProfileKey: ${r}`);const s=n.coder.types.decode("profileKey",r);this.profileKeys.push({profileKeys:s,sagePermissions:Yve.SagePermissions.fromPermissions(s.permissions)}),t=t.subarray(80)}}}}),eGt=jd("div",{class:"col"},"Permission for:",-1),tGt={class:"row"},rGt={class:"col"},nGt=gZ({__name:"PlayerProfilePermissions",setup(n){return(e,t)=>(LA(!0),Mfe($fe,null,zfe(fM(Kw)().profileKeys,r=>(LA(),YL(jve,{flat:"",bordered:"",key:r},{default:Xf(()=>[Ql(lL,{class:"row"},{default:Xf(()=>[eGt,jd("div",null,ZL(r.profileKeys.key),1)]),_:2},1024),Ql(u5e,{bordered:"",separator:""},{default:Xf(()=>[(LA(!0),Mfe($fe,null,zfe(Object.keys(r.sagePermissions),s=>(LA(),YL(a5e,{key:s},{default:Xf(()=>[Ql(c5e,{class:""},{default:Xf(()=>[jd("div",tGt,[jd("div",rGt,ZL(s.toUpperCase()),1),Ql(o5e,{dense:"",modelValue:fM(Kw)().profileKeys[0].sagePermissions[s],"onUpdate:modelValue":i=>fM(Kw)().profileKeys[0].sagePermissions[s]=i,"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))}}),sGt=gZ({__name:"PlayerProfileCreate",setup(n){J6e("somenamw");async function e(){console.log("buildTX");const t=new Q6e;return Hve().pg_playerProfile.value,e5e.generate().publicKey,console.log(t),await l5e(t,"[PlayerProfile] create"),""}return(t,r)=>(LA(),YL(X6e,{label:"Create Profile",onClick:e}))}}),iGt=jd("div",{class:"col text-h6"},"Player Profile Integration",-1),oGt=jd("div",{class:"text-subtitle1"},"Playerprofile",-1),aGt=jd("div",{class:"text-subtitle2 text-accent"}," Get access to your player profile data ",-1),cGt={class:"row items-center"},uGt=jd("div",{class:"col text-subtitle1"},"User",-1),lGt={class:"row items-center"},dGt=jd("div",{class:"col text-subtitle1"},"PlayerProfile",-1),$Yt=gZ({__name:"PlayerProfilePage",setup(n){return t5e(async()=>{await Kw().updateStore()}),r5e(()=>Zq(),async()=>{await Kw().updateStore()}),(e,t)=>(LA(),YL(i5e,{class:"bg-black"},{default:Xf(()=>[Ql(jve,{flat:""},{default:Xf(()=>[Ql(lL,{class:"row items-center q-gutter-x-md"},{default:Xf(()=>[Ql(n5e,{name:"diversity_3",size:"md"}),iGt]),_:1}),Ql(s5e),Ql(lL,null,{default:Xf(()=>[oGt,aGt]),_:1}),Ql(lL,{class:"q-gutter-y-sm"},{default:Xf(()=>{var r,s;return[jd("div",cGt,[uGt,Dfe(" "+ZL(fM(Zq)().toString()??"not-found"),1)]),jd("div",lGt,[dGt,Dfe(" "+ZL(((s=(r=fM(Kw)().profile)==null?void 0:r.pubkey)==null?void 0:s.toString())??"not-found"),1)]),Ql(nGt),Ql(sGt)]}),_:1})]),_:1})]),_:1}))}});export{$Yt as default};
