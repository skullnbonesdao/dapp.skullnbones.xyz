import{dm as Qe,e8 as Be,df as K,P as O,au as A,ck as B,J as w,b1 as v,ak as T,ar as ae,a1 as W,V as m,cR as k,as as e,bV as Ve,cl as G,cP as z,aX as oe,bs as F,ai as S,bx as c,b7 as Ue,a6 as be,al as n,aj as P,ah as Z,cn as de,dn as le,cZ as N,cQ as M,ea as Le,b9 as Ne,co as H,cj as $e,dx as ke,c$ as ne,cU as We,c_ as ve,Z as Re,cm as Ge,eb as Ee}from"./index.e8af01b4.js";import{Q as X}from"./QToggle.6e8dce47.js";import{Q as $}from"./QCardSection.40f5a2bb.js";import{Q as q}from"./QSeparator.452f176c.js";import{Q as te,a as R}from"./QTabs.b5bd65af.js";import{a as E,Q as re}from"./QTabPanels.eb20100b.js";import{Q as I}from"./QCard.497523ee.js";import{Q as Oe}from"./QPage.deed3522.js";import{Q as ye}from"./QSlideTransition.c95d0cf0.js";import{Q as C}from"./QInput.96be0caf.js";import{h as j}from"./handleTransaction.7e1f0e62.js";import{Q as _e}from"./QSelect.34701ac6.js";import{c as se,b as ie,d as Ae,I as Ce,a as ze}from"./calcAmountToTransfer.61bef387.js";import{Q as je}from"./QList.cd7c93ba.js";import{a as me,b as Y,c as De,d as ee,f as J,s as qe}from"./WrapperInterface.c010581c.js";import{_ as Xe,c as Te}from"./TokenSelectDropdown.6baaafb0.js";import{a as fe,_ as Pe}from"./AccountBalance.8cc8288a.js";import{c as Fe}from"./transferChecked.c0ad68f4.js";import{Q as Ze}from"./QCardActions.2e04123a.js";import{f as ue}from"./format_address.d3022ffc.js";import{Q as ce}from"./QImg.5bc450b4.js";import{U as xe}from"./constants.e2ffd8e4.js";import"./use-checkbox.7a5f8fd2.js";import"./use-form.7f5ffdcf.js";import"./uid.42677368.js";import"./rtl.6b8e8f4d.js";import"./touch.3df10340.js";import"./QMenu.c595c524.js";import"./use-key-composition.ae76a467.js";import"./vaultTransactionCreate.99ef6037.js";import"./QItem.37713a5a.js";import"./index.282f608d.js";import"./token.3d774c10.js";import"./errors.825970a3.js";import"./bigint.41303041.js";const o=Qe("wrapperStore",{state:()=>({enableManage:Be("enableManage",!1),wrapperSelected:{},groupSelected:{},wrapper:[],groups:[]}),getters:{getWrapperByGroup:y=>s=>y.wrapper.filter(u=>{var a;return u.account.group.toString()==((a=s==null?void 0:s.publicKey)==null?void 0:a.toString())})},actions:{async updateStore(){var y;if(K()){const{pg_wrapper:s}=K();this.groups=await s.value.account.group.all(),this.wrapper=await s.value.account.wrapper.all(),(y=this.groupSelected)!=null&&y.publicKey||(this.groupSelected=this.groups[0]),console.log("[Updated] WrapperStore")}}}}),He=new O("subA4tNLV18htV8xACaZyMMKkAm1AQS4EhiPYPV4zbH"),Je={class:"row"},Ye=A({__name:"WrapperCreateGroup",setup(y){const s=B(),u=w("");async function a(){try{const t=new z,l=K().pg_wrapper.value;if(u.value==""){s.notify({message:"Invalid group name",color:"info",position:"bottom-right"});return}t.add(await l.methods.initializeGroup(u.value).accountsPartial({signer:k(),fee:He}).instruction()),await j(t,"[Raffle] create new group"),await o().updateStore()}catch(t){s.notify({message:t.message,type:"negative"})}}return(t,l)=>(v(),T("div",Je,[ae(W(m(k)())+" ",1),e(C,{square:"",filled:"",class:"col",modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=d=>u.value=d),label:"New group name",type:"text"},null,8,["modelValue"]),e(G,{square:"",onClick:l[1]||(l[1]=Ve(d=>a(),["prevent"])),color:"primary",label:"Create"})]))}}),ge=A({__name:"WrapperGroupSelect",props:["asTabs"],setup(y){const s=w();return oe(()=>{var u,a;s.value=o().groupSelected?(a=(u=o().groupSelected)==null?void 0:u.account)==null?void 0:a.name:o().groups[0].account.name}),F(()=>s.value,()=>{o().groupSelected=o().groups.find(u=>u.account.name==s.value)}),(u,a)=>(v(),S(I,{bordered:"",flat:"",class:""},{default:c(()=>[y.asTabs?(v(),S(te,{key:0,modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=t=>s.value=t),"active-color":"primary","indicator-color":"primary",align:"justify"},{default:c(()=>[(v(!0),T(be,null,Ue(m(o)().groups,t=>(v(),S(R,{name:t.account.name.toString(),key:t},{default:c(()=>[ae(W(t.account.name.toString()),1)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])):(v(),S(_e,{key:1,label:"Select a group",square:"",filled:"","onUpdate:modelValue":[a[1]||(a[1]=()=>m(o)().wrapperSelected=void 0),a[2]||(a[2]=t=>m(o)().groupSelected=t)],modelValue:m(o)().groupSelected,options:m(o)().groups,"option-label":t=>{var l;return(l=t==null?void 0:t.account)==null?void 0:l.name}},null,8,["modelValue","options","option-label"]))]),_:1}))}}),et=A({__name:"WrapperCloseGroup",props:{disabled:{default:!0}},setup(y){const s=B();async function u(){try{const a=new z,t=K().pg_wrapper.value;a.add(await t.methods.closeGroup().accountsPartial({group:o().groupSelected.publicKey,signer:k()}).instruction()),await j(a,"Close Group"),await o().updateStore()}catch(a){s.notify({message:a.message,type:"negative"})}}return(a,t)=>(v(),S(G,{disable:y.disabled,square:"",color:"primary",label:"Close",onClick:t[0]||(t[0]=Ve(l=>u(),["prevent"]))},null,8,["disable"]))}}),tt=n("div",{class:"text-h5"},"Group",-1),at=n("div",{class:"text-caption text-grey"}," The group will be used to filter and create the wrappers - one time creation fee of 0.5 SOL ",-1),lt=n("div",{class:"text-caption text-accent"}," Make sure u use a list where you are the owner! ",-1),nt={key:0,class:"text-caption row"},ot=n("div",{style:{width:"50px"}},"ID",-1),rt={class:"col text-right"},st={key:1,class:"text-caption row"},it=n("div",{style:{width:"50px"}},"Owner",-1),ut={class:"col text-accent text-right"},ct={class:"row"},dt={key:0,class:"text-caption row"},pt=n("div",{style:{width:"50px"}},"ID:",-1),mt={class:"col text-accent text-right"},wt={key:1,class:"text-caption row"},vt=n("div",{style:{width:"50px"}},"Owner:",-1),_t={class:"col text-accent text-right"},ft=n("div",{class:"text-h6 text-red-6 col"}," I know what im doing i want to close the group ",-1),gt=A({__name:"WrapperGroupView",setup(y){const s=w("select"),u=w(!1);return(a,t)=>(v(),S(I,{flat:"",bordered:""},{default:c(()=>[e($,null,{default:c(()=>[tt,at,lt]),_:1}),e(q),e(te,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=l=>s.value=l),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:c(()=>[e(R,{name:"select",label:"Select"}),e(R,{name:"create",label:"Create"}),e(R,{name:"close",label:"Close"})]),_:1},8,["modelValue"]),e(q),e(re,{modelValue:s.value,"onUpdate:modelValue":t[2]||(t[2]=l=>s.value=l),animated:""},{default:c(()=>[e(E,{name:"create"},{default:c(()=>[e(Ye)]),_:1}),e(E,{name:"select"},{default:c(()=>[e(ge,{class:""}),e($,null,{default:c(()=>{var l,d,r,i,p;return[(l=m(o)().groupSelected)!=null&&l.account?(v(),T("div",nt,[ot,n("div",rt,W((d=m(o)().groupSelected)==null?void 0:d.publicKey),1)])):P("",!0),(r=m(o)().groupSelected)!=null&&r.account?(v(),T("div",st,[it,n("div",ut,W((p=(i=m(o)().groupSelected)==null?void 0:i.account)==null?void 0:p.owner),1)])):P("",!0)]}),_:1})]),_:1}),e(E,{name:"close"},{default:c(()=>[n("div",ct,[e(ge,{class:"col"}),e(et,{disabled:!u.value},null,8,["disabled"])]),e($,null,{default:c(()=>{var l,d,r,i,p;return[(l=m(o)().groupSelected)!=null&&l.account?(v(),T("div",dt,[pt,n("div",mt,W((d=m(o)().groupSelected)==null?void 0:d.publicKey),1)])):P("",!0),(r=m(o)().groupSelected)!=null&&r.account?(v(),T("div",wt,[vt,n("div",_t,W((p=(i=m(o)().groupSelected)==null?void 0:i.account)==null?void 0:p.owner),1)])):P("",!0)]}),_:1}),e($,{class:"row items-center"},{default:c(()=>[e(ye,{color:"red",modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=l=>u.value=l)},null,8,["modelValue"]),ft]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}}),bt=n("div",{class:"text-h6"},"Wrapped Token",-1),yt={class:"row q-gutter-x-md items-center"},ht=n("div",{class:"text-h6"},"Ratio",-1),St={class:"row q-gutter-x-md items-center"},xt={class:"row items-center"},Vt=n("div",{class:"text-h6"},"Add Medata",-1),Ut={key:0,class:"row items-center q-gutter-x-sm"},$t=A({__name:"WrapperCreate",setup(y){const s=B(),u=w(),a=w(9),t=w(1),l=w(1),d=w(!0),r=w(""),i=w(""),p=w(""),_=Z(()=>d.value?!(u.value&&r.value&&i.value&&p.value):!u.value);async function V(){var U;try{const g=new z,x=K().pg_wrapper.value,L=new le(window.crypto.getRandomValues(new Uint8Array(8))),D={ratio:[new le(t.value),new le(l.value)],onlyCreatorCanWrap:!1,onlyCreatorCanUnwrap:!1,wrappedDecimals:a.value,seed:L},Q=new O(u.value.mint.toString());if(g.add(await x.methods.initialize(D).accountsPartial({signer:k(),group:new O(((U=o().groupSelected)==null?void 0:U.publicKey.toString())??""),mintUnwrapped:Q,tokenProgram:N}).instruction()),g.add(await x.methods.createVault().accountsPartial({signer:k(),wrapper:me(Q,k()),vaultUnwrappedAta:Y(me(Q,k()),Q),mintUnwrapped:Q,tokenProgram:N}).instruction()),d.value){const f={name:r.value,symbol:i.value,uri:p.value},b=me(Q,k()),h=De(b,L),pe=ee(h);g.add(await x.methods.metadataCreate(f).accountsPartial({signer:k(),wrapper:b,mintWrapped:h,mintUnwrapped:Q,metadata:pe,tokenProgram:N}).instruction())}await j(g,`[Wrapper] create + vault ${d.value?"+ metadata":""}`),await o().updateStore()}catch(g){console.error(g),s.notify({message:g.message,type:"negative",position:"bottom-right"})}}return(U,g)=>(v(),S(I,{flat:""},{default:c(()=>[e($,{class:""},{default:c(()=>[e(Xe,{label:"Unwrapped Token","textbox-label":"Token to wrap",onToken_account_selected:g[0]||(g[0]=x=>u.value=x)})]),_:1}),e($,null,{default:c(()=>[bt,n("div",yt,[e(C,{square:"",filled:"",class:"col",modelValue:a.value,"onUpdate:modelValue":g[1]||(g[1]=x=>a.value=x),label:"Decimals",type:"number"},null,8,["modelValue"])])]),_:1}),e($,null,{default:c(()=>[ht,n("div",St,[e(C,{square:"",filled:"",class:"col",modelValue:t.value,"onUpdate:modelValue":g[2]||(g[2]=x=>t.value=x),label:"Unwrapped",type:"number"},null,8,["modelValue"]),e(de,{name:"swap_horiz",size:"xl  "}),e(C,{square:"",filled:"",class:"col",modelValue:l.value,"onUpdate:modelValue":g[3]||(g[3]=x=>l.value=x),label:"Wrapped",type:"number"},null,8,["modelValue"])])]),_:1}),e($,null,{default:c(()=>[n("div",xt,[Vt,e(X,{modelValue:d.value,"onUpdate:modelValue":g[4]||(g[4]=x=>d.value=x),"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue"])]),d.value?(v(),T("div",Ut,[e(C,{square:"",filled:"",class:"col",modelValue:r.value,"onUpdate:modelValue":g[5]||(g[5]=x=>r.value=x),label:"Name",type:"text"},null,8,["modelValue"]),e(C,{square:"",filled:"",class:"col",modelValue:i.value,"onUpdate:modelValue":g[6]||(g[6]=x=>i.value=x),label:"Symbol",type:"text"},null,8,["modelValue"]),e(C,{square:"",filled:"",class:"col",modelValue:p.value,"onUpdate:modelValue":g[7]||(g[7]=x=>p.value=x),label:"Image-URI",type:"text"},null,8,["modelValue"])])):P("",!0)]),_:1}),e($,{class:"row justify-end"},{default:c(()=>[e(G,{square:"",disable:_.value,color:"primary",label:"Create new wrapper",onClick:g[8]||(g[8]=x=>V())},null,8,["disable"])]),_:1})]),_:1}))}}),kt={class:"row items-center"},Wt=n("div",{class:"col text-subtitle1 text-weight-thin"},"Publickey",-1),At={class:"text-subtitle2"},Ct={class:"col text-subtitle1 text-weight-thin"},qt={key:0,class:"text-subtitle2"},Tt={key:1,class:"text-subtitle2"},Pt=A({__name:"WrapperInfo",setup(y){return(s,u)=>{var a;return(a=m(o)().wrapperSelected)!=null&&a.account?(v(),S(I,{key:0,flat:""},{default:c(()=>[e(q),e($,null,{default:c(()=>{var t;return[n("div",kt,[Wt,n("div",At,W(m(o)().wrapperSelected.publicKey),1)]),(v(!0),T(be,null,Ue(Object.keys((t=m(o)().wrapperSelected)==null?void 0:t.account),l=>(v(),T("div",{key:l,class:"row items-center"},[n("div",Ct,W(l.toUpperCase()),1),l=="ratio"?(v(),T("div",qt,W(m(o)().wrapperSelected.account[l][0])+" : "+W(m(o)().wrapperSelected.account[l][1]),1)):(v(),T("div",Tt,W(m(o)().wrapperSelected.account[l]),1))]))),128))]}),_:1})]),_:1})):P("",!0)}}}),It=A({__name:"WrapperClose",props:{disabled:{default:!0}},setup(y){const s=B();async function u(){var a,t;try{const l=new z,d=K().pg_wrapper.value;l.add(await d.methods.close().accountsPartial({wrapper:(a=o().wrapperSelected)==null?void 0:a.publicKey,signer:k(),mintUnwrapped:(t=o().wrapperSelected)==null?void 0:t.account.mintUnwrapped,tokenProgram:N}).instruction()),await j(l,"[Wrapper] Close"),await o().updateStore()}catch(l){console.error(l),s.notify({message:l.message,type:"negative"})}}return(a,t)=>(v(),S(G,{disable:y.disabled,square:"",color:"primary",label:"Close WrapperInterface",onClick:t[0]||(t[0]=l=>u())},null,8,["disable"]))}}),Mt={class:"row items-center"},Kt=n("div",{class:"col text-subtitle1"},"Allow wrap",-1),Qt={class:"row items-center"},Bt=n("div",{class:"col text-subtitle1"},"Allow unwrap",-1),Lt={class:"row items-center"},Nt=n("div",{class:"col text-subtitle1"},"Only admin can Wrap",-1),Rt={class:"row items-center"},Gt=n("div",{class:"col text-subtitle1"},"Only admin can unwrap",-1),Et={class:"row items-center"},Ot=n("div",{class:"col text-subtitle1"},"Use whitelist",-1),zt={class:"row items-center"},jt=n("div",{class:"col text-subtitle1"},"Use Limit",-1),Dt={class:"row items-center"},Xt=n("div",{class:"col text-subtitle1"},"Change Admin",-1),Ft={class:"row items-center"},Zt=n("div",{class:"col text-subtitle1"},"Change Ratio",-1),Ht={key:0,style:{width:"500px"},class:"row items-center"},Jt=A({__name:"WrapperSettings",setup(y){var Q;const s=B();(Q=o().wrapperSelected)==null||Q.account;const u=w(),a=w(),t=w(),l=w(),d=w(),r=w(),i=w(),p=w(),_=w(!1),V=w(),U=w(!1),g=w(),x=w();L(),F(()=>{var f,b;return(b=(f=o())==null?void 0:f.wrapperSelected)==null?void 0:b.account},()=>{L()});function L(){var b,h;if(!((b=o().wrapperSelected)!=null&&b.account))return;const f=(h=o().wrapperSelected)==null?void 0:h.account;u.value=f.allowWrap,a.value=f==null?void 0:f.allowUnwrap,t.value=f==null?void 0:f.onlyAdminCanWrap,l.value=f==null?void 0:f.onlyAdminCanUnwrap,d.value=f==null?void 0:f.useWhitelist,r.value=f==null?void 0:f.whitelist,i.value=f==null?void 0:f.useLimit,p.value=(f==null?void 0:f.limitAmountUnwrapped)??0,V.value=f==null?void 0:f.admin,g.value=f==null?void 0:f.ratio[0],x.value=f==null?void 0:f.ratio[1]}async function D(){var f,b;try{const h=new z,pe=K().pg_wrapper.value,Me={allowWrap:u.value,allowUnwrap:a.value,onlyAdminCanWrap:t.value,onlyAdminCanUnwrap:l.value,useWhitelist:d.value,useLimit:i.value,amountAbleToWrap:i.value?se(p.value,M().tokenList.find(Ke=>{var he,Se;return Ke.address==((Se=(he=o().wrapperSelected)==null?void 0:he.account)==null?void 0:Se.mintUnwrapped.toString())}).decimals):null,admin:_.value?new O(V.value):null,ratio:U.value?[new le(g.value),new le(x.value)]:null};h.add(await pe.methods.edit(Me).accountsPartial({wrapper:(f=o().wrapperSelected)==null?void 0:f.publicKey,signer:k(),mintUnwrapped:(b=o().wrapperSelected)==null?void 0:b.account.mintUnwrapped,whitelist:d.value?new O(r.value):null,tokenProgram:N}).instruction()),await j(h),await o().updateStore()}catch(h){console.error(h),s.notify({message:h.message,type:"negative"})}}return(f,b)=>(v(),S(I,{flat:""},{default:c(()=>[e($,{class:"q-gutter-y-sm"},{default:c(()=>[n("div",Mt,[Kt,e(X,{modelValue:u.value,"onUpdate:modelValue":b[0]||(b[0]=h=>u.value=h),"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue"])]),n("div",Qt,[Bt,e(X,{modelValue:a.value,"onUpdate:modelValue":b[1]||(b[1]=h=>a.value=h),"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue"])]),n("div",Lt,[Nt,e(X,{modelValue:t.value,"onUpdate:modelValue":b[2]||(b[2]=h=>t.value=h),"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue"])]),n("div",Rt,[Gt,e(X,{modelValue:l.value,"onUpdate:modelValue":b[3]||(b[3]=h=>l.value=h),"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue"])]),n("div",Et,[Ot,d.value?(v(),S(C,{key:0,dense:"",filled:"",square:"",style:{width:"500px"},modelValue:r.value,"onUpdate:modelValue":b[4]||(b[4]=h=>r.value=h),type:"text",label:"Whitelist"},null,8,["modelValue"])):P("",!0),e(X,{modelValue:d.value,"onUpdate:modelValue":b[5]||(b[5]=h=>d.value=h),"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue"])]),n("div",zt,[jt,i.value?(v(),S(C,{key:0,dense:"",filled:"",square:"",style:{width:"500px"},modelValue:p.value,"onUpdate:modelValue":b[6]||(b[6]=h=>p.value=h),type:"number",label:"Amount wrappable"},null,8,["modelValue"])):P("",!0),e(X,{modelValue:i.value,"onUpdate:modelValue":b[7]||(b[7]=h=>i.value=h),"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue"])]),n("div",null,[n("div",Dt,[Xt,_.value?(v(),S(C,{key:0,style:{width:"500px"},dense:"",filled:"",square:"",label:"Admin",modelValue:V.value,"onUpdate:modelValue":b[8]||(b[8]=h=>V.value=h)},null,8,["modelValue"])):P("",!0),e(X,{modelValue:_.value,"onUpdate:modelValue":b[9]||(b[9]=h=>_.value=h),"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue"])])]),n("div",null,[n("div",Ft,[Zt,U.value?(v(),T("div",Ht,[e(C,{class:"col",dense:"",filled:"",square:"",label:"Unwrapped",modelValue:g.value,"onUpdate:modelValue":b[10]||(b[10]=h=>g.value=h),type:"number"},null,8,["modelValue"]),e(de,{size:"md",name:"swap_horiz"}),e(C,{class:"col",dense:"",filled:"",square:"",label:"Wrapped",modelValue:x.value,"onUpdate:modelValue":b[11]||(b[11]=h=>x.value=h),type:"number"},null,8,["modelValue"])])):P("",!0),e(X,{modelValue:U.value,"onUpdate:modelValue":b[12]||(b[12]=h=>U.value=h),"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue"])])])]),_:1}),e($,{class:"row justify-end"},{default:c(()=>[e(G,{square:"",class:"",color:"primary",label:"Update settings",onClick:b[13]||(b[13]=h=>D())})]),_:1})]),_:1}))}}),Yt=A({__name:"WrapperCreateVault",setup(y){const s=B(),u=w(!1);async function a(t){try{const l=new z,d=K().pg_wrapper.value;l.add(await d.methods.createVault().accountsPartial({wrapper:new O(o().wrapperSelected.publicKey.toString()),signer:k(),mintUnwrapped:new O(o().wrapperSelected.account.mintUnwrapped.toString()),tokenProgram:N}).instruction()),await j(l,"[Wrapper] create vault")}catch(l){console.error(l),s.notify({message:l.message,type:"negative"})}}return(t,l)=>{var d;return!u.value&&((d=m(o)().wrapperSelected)==null?void 0:d.publicKey)?(v(),S(G,{key:0,square:"",color:"primary",label:"Create Vault",onClick:l[0]||(l[0]=r=>a())})):P("",!0)}}}),ea={class:"row"},ta=n("div",{class:"col"},"Vault Balance",-1),aa={class:"row"},la=n("div",{class:"col"},"Circ. Supply",-1),Ie=A({__name:"WrapperVaultDonut",props:["wrapper"],setup(y){const s=y,u=w(0),a=w(0),t=w(0);async function l(){u.value=await d()??0,a.value=await r()??0,t.value=u.value*s.wrapper.account.ratio[1]/u.value*s.wrapper.account.ratio[1]*100}async function d(){return(await H().connection.getTokenSupply(new O(s.wrapper.account.mintWrapped))).value.uiAmount}async function r(){let _=Y(s.wrapper.publicKey,s.wrapper.account.mintUnwrapped);return(await H().connection.getTokenAccountBalance(_)).value.uiAmount}oe(async()=>{await l()}),Le(()=>s.wrapper,async()=>await l());const i=Z(()=>[t.value]),p=w({dataLabels:{enabled:!1},legend:{labels:{colors:"white"},show:!1,position:"left"},theme:{palette:"palette4"},labels:["Redeemable"]});return(_,V)=>{const U=Ne("apexchart");return v(),T(be,null,[n("div",ea,[ta,e(fe,{class:"",number:a.value,decimals:4,"pad-start":10},null,8,["number"])]),n("div",aa,[la,e(fe,{number:u.value,decimals:4,"pad-start":10},null,8,["number"])]),e(U,{height:"200px",type:"radialBar",options:p.value,series:i.value},null,8,["options","series"])],64)}}}),na={class:"col"},oa={class:"row"},ra={class:"text-subtitle2 row items-center"},sa=n("div",{class:"text-accent"}," I want to transfer tokens out of the vault to a new address ",-1),ia=A({__name:"WrapperTransferVaultOut",setup(y){const s=B(),u=w(1),a=w(k().toString()),t=w(!1);F(()=>$e().useSquads,()=>{a.value=k().toString()});async function l(){var d,r,i,p;try{if(K()){const _=new z,V=K().pg_wrapper.value,U=J(new O(a.value.toString()).toString(),o().wrapperSelected.account.mintUnwrapped.toString());await H().connection.getAccountInfo(U)||_.add(Te(k(),U,new O(a.value.toString()),o().wrapperSelected.account.mintUnwrapped,N,ke));const x=se(u.value,((r=M().getTokenByMintPublicKey((d=o().wrapperSelected)==null?void 0:d.account.mintUnwrapped.toString()))==null?void 0:r.decimals)??0);_.add(await V.methods.transferVault(x).accountsPartial({signer:k(),wrapper:(i=o().wrapperSelected)==null?void 0:i.publicKey,mintUnwrapped:(p=o().wrapperSelected)==null?void 0:p.account.mintUnwrapped,ataUnwrappedSigner:U,tokenProgram:N}).instruction()),await j(_,`[Wrapper] transfer OUT to: ${a.value}`),await o().updateStore()}}catch(_){console.error(_),s.notify({message:_.message,type:"negative"})}}return(d,r)=>(v(),S(I,{flat:""},{default:c(()=>[n("div",na,[n("div",oa,[e(C,{class:"col",disable:!t.value,square:"",filled:"",modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=i=>a.value=i),type:"text",label:"Recipient address"},null,8,["disable","modelValue"]),e(q,{vertical:""}),e(C,{disable:!t.value,square:"",filled:"",modelValue:u.value,"onUpdate:modelValue":r[1]||(r[1]=i=>u.value=i),type:"number",label:"Amount to transfer"},null,8,["disable","modelValue"]),e(G,{disable:!u.value||!a.value||!t.value,color:"primary",label:"Transfer OUT",icon:"logout",square:"",onClick:r[2]||(r[2]=i=>l())},null,8,["disable"])])]),n("div",ra,[e(ye,{modelValue:t.value,"onUpdate:modelValue":r[3]||(r[3]=i=>t.value=i)},null,8,["modelValue"]),sa])]),_:1}))}}),ua={class:"col"},ca={class:"row"},da=A({__name:"WrapperTransferVaultIn",setup(y){const s=B(),u=w(1),a=w(k().toString()),t=w(!0);F(()=>$e().useSquads,()=>{a.value=k().toString()});async function l(){var d,r,i,p,_;try{if(K()){const V=new z,U=se(u.value,((r=M().getTokenByMintPublicKey((d=o().wrapperSelected)==null?void 0:d.account.mintUnwrapped.toString()))==null?void 0:r.decimals)??0);V.add(Fe(J(a.value,o().wrapperSelected.account.mintUnwrapped.toString()),o().wrapperSelected.account.mintUnwrapped,Y((i=o().wrapperSelected)==null?void 0:i.publicKey,(p=o().wrapperSelected)==null?void 0:p.account.mintUnwrapped),new O(a.value),U.toNumber(),M().getTokenByMintPublicKey((_=o().wrapperSelected)==null?void 0:_.account.mintUnwrapped.toString()).decimals)),await j(V,`[Wrapper] transfer IN from ${a.value}`),await o().updateStore()}}catch(V){console.error(V),s.notify({message:V.message,type:"negative"})}}return(d,r)=>(v(),S(I,{flat:""},{default:c(()=>[n("div",ua,[n("div",ca,[e(C,{class:"col",disable:!t.value,square:"",filled:"",modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=i=>a.value=i),type:"text",label:"Origin address"},null,8,["disable","modelValue"]),e(q,{vertical:""}),e(C,{disable:!t.value,square:"",filled:"",modelValue:u.value,"onUpdate:modelValue":r[1]||(r[1]=i=>u.value=i),type:"number",label:"Amount to transfer"},null,8,["disable","modelValue"]),e(G,{disable:!u.value||!a.value||!t.value,color:"primary",label:"Transfer in",icon:"login",square:"",onClick:r[2]||(r[2]=i=>l())},null,8,["disable"])])])]),_:1}))}}),pa={class:"row items-center"},ma=n("div",{class:"col text-subtitle1 text-weight-thin"},"Address",-1),wa={class:"text-subtitle2"},va={class:"row items-center"},_a=n("div",{class:"col text-subtitle1 text-weight-thin"},"Mint",-1),fa={class:"text-subtitle2"},ga={class:"row items-center"},ba=n("div",{class:"col text-subtitle1 text-weight-thin"},"Unwrapped",-1),ya={class:"text-subtitle2"},ha={class:"row items-center"},Sa=n("div",{class:"col text-subtitle1 text-weight-thin"},"Balance",-1),xa={class:"text-subtitle2"},Va=A({__name:"WrapperVault",setup(y){B();const s=w("in"),u=w(null),a=w(!1);M(),t(),F(()=>{var l,d;return(d=(l=o())==null?void 0:l.wrapperSelected)==null?void 0:d.account},async()=>{await t()});async function t(){var l,d,r;!o().wrapperSelected||(u.value=(r=(await H().connection.getParsedAccountInfo(Y((l=o().wrapperSelected)==null?void 0:l.publicKey,(d=o().wrapperSelected)==null?void 0:d.account.mintUnwrapped))).value)==null?void 0:r.data,u.value&&(a.value=!0))}return(l,d)=>(v(),S(I,{flat:""},{default:c(()=>[e(q),e($,{class:"col"},{default:c(()=>{var r,i,p;return[n("div",pa,[ma,n("div",wa,W(m(Y)(m(o)().wrapperSelected.publicKey,m(o)().wrapperSelected.account.mintUnwrapped)),1)]),n("div",va,[_a,n("div",fa,W((r=m(o)().wrapperSelected.account)==null?void 0:r.mintUnwrapped),1)]),n("div",ga,[ba,n("div",ya,W(m(M)().getTokenByMintPublicKey((i=m(o)().wrapperSelected)==null?void 0:i.account.mintUnwrapped).name),1)]),n("div",ha,[Sa,n("div",xa,W((p=u.value)==null?void 0:p.parsed.info.tokenAmount.uiAmount),1)])]}),_:1}),e($,null,{default:c(()=>[e(Ie,{wrapper:m(o)().wrapperSelected},null,8,["wrapper"])]),_:1}),e($,{class:"q-gutter-y-md"},{default:c(()=>[a.value?P("",!0):(v(),S(Yt,{key:0,class:"full-width"})),e(I,{flat:"",bordered:""},{default:c(()=>[e(te,{modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=r=>s.value=r),class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","inline-label":""},{default:c(()=>[e(R,{icon:"login",name:"in",label:"Deposit"}),e(R,{icon:"logout",name:"out",label:"Withdraw"})]),_:1},8,["modelValue"]),e(q),e(re,{modelValue:s.value,"onUpdate:modelValue":d[1]||(d[1]=r=>s.value=r),animated:""},{default:c(()=>[e(E,{name:"out"},{default:c(()=>[e(ia)]),_:1}),e(E,{name:"in"},{default:c(()=>[e(da)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}}),Ua=A({__name:"WrapperMetadataUpdate",props:["name","symbol","uri"],setup(y){const s=y,u=B();async function a(t){var l,d;try{const r=new z,i=K().pg_wrapper.value,p={name:s.name,symbol:s.symbol,uri:s.uri};r.add(await i.methods.metadataUpdate(p).accountsPartial({wrapper:(l=o().wrapperSelected)==null?void 0:l.publicKey,signer:k(),metadata:ee(o().wrapperSelected.account.mintWrapped),mintUnwrapped:(d=o().wrapperSelected)==null?void 0:d.account.mintUnwrapped,tokenProgram:N}).instruction()),await j(r,"[Wrapper] metadata update"),await o().updateStore()}catch(r){console.error(r),u.notify({message:r.message,type:"negative"})}}return(t,l)=>(v(),S(G,{square:"",color:"primary",label:"Apply Metadata",onClick:l[0]||(l[0]=d=>a())}))}}),$a=A({__name:"WrapperMetadataCreate",props:["name","symbol","uri"],setup(y){const s=y,u=B();async function a(t){var l,d;try{const r=new z,i=K().pg_wrapper.value,p={name:s.name,symbol:s.symbol,uri:s.uri};r.add(await i.methods.metadataCreate(p).accountsPartial({wrapper:(l=o().wrapperSelected)==null?void 0:l.publicKey,signer:k(),metadata:ee(o().wrapperSelected.account.mintWrapped),mintUnwrapped:(d=o().wrapperSelected)==null?void 0:d.account.mintUnwrapped,tokenProgram:N}).instruction()),await j(r,"[Wrapper] metadata create"),await o().updateStore()}catch(r){console.error(r),u.notify({message:r.message,type:"negative"})}}return(t,l)=>(v(),S(G,{square:"",color:"primary",label:"Create Metadata",onClick:l[0]||(l[0]=d=>a())}))}}),ka={class:"row items-center"},Wa=n("div",{class:"col text-subtitle1 text-weight-thin"},"Address",-1),Aa={class:"text-subtitle2"},Ca={class:"row"},qa=A({__name:"WrapperMetadata",setup(y){B();const s=w(""),u=w(""),a=w(""),t=w(),l=w(),d=w(!1);r(),F(()=>{var i,p;return(p=(i=o())==null?void 0:i.wrapperSelected)==null?void 0:p.account},async()=>{await r()});async function r(){!o().wrapperSelected||(t.value=await H().connection.getAccountInfo(ee(o().wrapperSelected.account.mintWrapped)),l.value=qe.deserializeMetadata(t.value),s.value=l.value.name,u.value=l.value.symbol,a.value=l.value.uri,t.value&&(d.value=!0))}return(i,p)=>(v(),S(I,{flat:""},{default:c(()=>[e($,null,{default:c(()=>[n("div",ka,[Wa,n("div",Aa,W(m(ee)(m(o)().wrapperSelected.publicKey)),1)])]),_:1}),d.value?(v(),S($,{key:0,class:"col"},{default:c(()=>[n("div",Ca,[e(C,{square:"",label:"Name",filled:"",modelValue:s.value,"onUpdate:modelValue":p[0]||(p[0]=_=>s.value=_)},null,8,["modelValue"]),e(q,{vertical:""}),e(C,{square:"",label:"Symbol",filled:"",modelValue:u.value,"onUpdate:modelValue":p[1]||(p[1]=_=>u.value=_)},null,8,["modelValue"]),e(q,{vertical:""}),e(C,{square:"",label:"Image URI",class:"col",filled:"",modelValue:a.value,"onUpdate:modelValue":p[2]||(p[2]=_=>a.value=_)},null,8,["modelValue"]),e(Ua,{name:s.value,symbol:u.value,uri:a.value},null,8,["name","symbol","uri"])])]),_:1})):(v(),S($,{key:1,class:"row justify-end"},{default:c(()=>[e($a,{name:s.value,symbol:u.value,uri:a.value},null,8,["name","symbol","uri"])]),_:1}))]),_:1}))}}),Ta=n("div",{class:"text-h5"},"WrapperInterface Factory",-1),Pa=n("div",{class:"text-caption text-grey"}," Small plates, salads & sandwiches in an intimate setting. ",-1),Ia={class:"row q-gutter-x-md"},Ma={class:"text-caption text-grey text-right"},Ka={class:"row"},Qa=n("div",{class:"text-h6 text-red-6 col"}," I know what im doing i want to close a wrapper ",-1),Ba=A({__name:"WrapperManage",setup(y){const s=w("select"),u=w(!1);return(a,t)=>(v(),S(I,{flat:"",bordered:""},{default:c(()=>[e($,null,{default:c(()=>[Ta,Pa]),_:1}),e(q),e(te,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=l=>s.value=l),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:c(()=>[e(R,{name:"create",label:"Create"}),e(R,{name:"select",label:"Edit"}),e(R,{name:"close",label:"Close"})]),_:1},8,["modelValue"]),e(q),e(re,{modelValue:s.value,"onUpdate:modelValue":t[4]||(t[4]=l=>s.value=l),animated:""},{default:c(()=>[e(E,{name:"create"},{default:c(()=>[e($t)]),_:1}),e(E,{name:"select"},{default:c(()=>[e(I,{flat:""},{default:c(()=>{var l;return[e($,null,{default:c(()=>[n("div",Ia,[e(_e,{label:"Select a wrapper",class:"col",filled:"",modelValue:m(o)().wrapperSelected,"onUpdate:modelValue":t[1]||(t[1]=d=>m(o)().wrapperSelected=d),options:m(o)().getWrapperByGroup(m(o)().groupSelected),"option-label":d=>{var r,i;return"[Wrapped] "+(((r=m(M)().tokenList.find(p=>{var _,V;return p.address==((V=(_=d.account)==null?void 0:_.mintUnwrapped)==null?void 0:V.toString())}))==null?void 0:r.name)??((i=d.account)==null?void 0:i.mintUnwrapped.toString())??"")}},null,8,["modelValue","options","option-label"])]),n("div",Ma," Total Found: "+W(m(o)().wrapper.length),1)]),_:1}),(l=m(o)().wrapperSelected)!=null&&l.account?(v(),S($,{key:0,class:"row full-width"},{default:c(()=>[e(je,{bordered:"",class:"rounded-borders full-width"},{default:c(()=>[e(ie,{class:"text-h5",icon:"info",label:"Info"},{default:c(()=>[e(Pt)]),_:1}),e(q),e(ie,{class:"text-h5",icon:"settings",label:"Settings"},{default:c(()=>[e(Jt)]),_:1}),e(q),e(ie,{class:"text-h5",icon:"note_add",label:"Metadata"},{default:c(()=>[e(qa)]),_:1}),e(q),e(ie,{class:"text-h5","default-opened":"",icon:"inventory_2",label:"Vault"},{default:c(()=>[e(Va)]),_:1})]),_:1})]),_:1})):P("",!0)]}),_:1})]),_:1}),e(E,{name:"close"},{default:c(()=>[e(I,{flat:""},{default:c(()=>{var l;return[e($,null,{default:c(()=>[n("div",Ka,[e(_e,{label:"Select a wrapper",class:"col",filled:"",modelValue:m(o)().wrapperSelected,"onUpdate:modelValue":t[2]||(t[2]=d=>m(o)().wrapperSelected=d),options:m(o)().getWrapperByGroup(m(o)().groupSelected),"option-label":d=>{var r,i;return"[Wrapped] "+(((r=m(M)().tokenList.find(p=>{var _,V;return p.address==((V=(_=d.account)==null?void 0:_.mintUnwrapped)==null?void 0:V.toString())}))==null?void 0:r.name)??((i=d.account)==null?void 0:i.mintUnwrapped.toString())??"")}},null,8,["modelValue","options","option-label"]),e(It,{disabled:!u.value},null,8,["disabled"])])]),_:1}),(l=m(o)().wrapperSelected)!=null&&l.account?(v(),S($,{key:0,class:"row justify-between"})):P("",!0)]}),_:1}),e($,{class:"row items-center"},{default:c(()=>[e(ye,{color:"red",modelValue:u.value,"onUpdate:modelValue":t[3]||(t[3]=l=>u.value=l)},null,8,["modelValue"]),Qa]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}}),La={class:"col q-gutter-y-md"},Na=A({__name:"WrapperWrap",props:["wrapper"],setup(y){const s=B(),u=w(0),a=y,t=Z(()=>a.wrapper.account.useLimit?a.wrapper.account.limitAmountUnwrapped.toNumber():0),l=Z(()=>a.wrapper.account.useLimit?u.value<=t.value:!0);async function d(){var i,p;try{const _=new z,V=K().pg_wrapper.value,U=a.wrapper,g=se(u.value,((i=M().getTokenByMintPublicKey(U==null?void 0:U.account.mintUnwrapped))==null?void 0:i.decimals)??((p=ne().getAccountByMintPublicKey(U==null?void 0:U.account.mintUnwrapped))==null?void 0:p.decimals)??0);await H().connection.getAccountInfo(J(k().toString(),a.wrapper.account.mintWrapped.toString()))||_.add(Te(k(),J(k().toString(),a.wrapper.account.mintWrapped.toString()),k(),a.wrapper.account.mintWrapped,N,ke));let L=a.wrapper.account.useWhitelist?a.wrapper.account.whitelist:null,D=a.wrapper.account.useWhitelist?Ae(L):null;_.add(await V.methods.wrap(g).accountsPartial({signer:k(),wrapper:U.publicKey,mintUnwrapped:U.account.mintUnwrapped,signerUnwrapped:J(k().toString(),U.account.mintUnwrapped.toString()),signerWrapped:J(k().toString(),a.wrapper.account.mintWrapped.toString()),tokenProgram:N,whitelist:L,whitelistEntry:D,whitelistProgram:Ce}).instruction()),await j(_,"[Wrapper] wrap tokens"),await o().updateStore(),await ne().updateStore()}catch(_){console.error(_),s.notify({message:_.message,type:"negative"})}}const r=Z(()=>!a.wrapper.account.allowWrap||a.wrapper.account.useLimit?a.wrapper.account.limitAmountUnwrapped.toNumber()==0:!1);return(i,p)=>(v(),T("div",La,[e(C,{class:"col",disable:r.value,filled:"",hint:`Max ${t.value} allowed to wrap`,type:"number","bottom-slots":"",error:!l.value,"error-message":`Max ${t.value} allowed to wrap`,modelValue:u.value,"onUpdate:modelValue":p[0]||(p[0]=_=>u.value=_)},null,8,["disable","hint","error","error-message","modelValue"]),e(G,{class:"full-width",disable:r.value,color:"primary",label:"Wrap","icon-right":"send",onClick:p[1]||(p[1]=_=>d())},null,8,["disable"]),e(Pe,{mint:a.wrapper.account.mintUnwrapped},null,8,["mint"])]))}}),Ra={class:"col q-gutter-y-md"},Ga=A({__name:"WrapperUnwrap",props:["wrapper"],setup(y){const s=B(),u=w(0),a=w(0),t=y,l=Z(()=>u.value<=a.value);oe(async()=>{const i=(await H().connection.getTokenAccountBalance(Y(t.wrapper.publicKey,t.wrapper.account.mintUnwrapped))).value;a.value=i.uiAmount??0});async function d(i){var p,_;try{const V=new z,U=K().pg_wrapper.value,g=t.wrapper,x=se(u.value,(p=ne().getAccountByMintPublicKey(g==null?void 0:g.account.mintUnwrapped))==null?void 0:p.decimals);let L=t.wrapper.account.useWhitelist?t.wrapper.account.whitelist:null,D=t.wrapper.account.useWhitelist?Ae(L):null;V.add(await U.methods.unwrap(x).accountsPartial({signer:k(),wrapper:g.publicKey,mintUnwrapped:g.account.mintUnwrapped,signerUnwrapped:new O(((_=ne().accounts.find(Q=>Q.mint.toString()==g.account.mintUnwrapped.toString()))==null?void 0:_.pubkey)??""),signerWrapped:J(We().publicKey.value.toString(),t.wrapper.account.mintWrapped.toString()),tokenProgram:N,whitelist:L,whitelistEntry:D,whitelistProgram:Ce}).instruction()),await j(V,"[Wrapper] unwrap tokens"),await o().updateStore(),await ne().updateStore()}catch(V){console.error(V),s.notify({message:V.message,type:"negative"})}}const r=Z(()=>!t.wrapper.account.allowWrap);return(i,p)=>(v(),T("div",Ra,[e(C,{class:"col",square:"",disable:r.value,filled:"",type:"number",modelValue:u.value,"onUpdate:modelValue":p[0]||(p[0]=_=>u.value=_),hint:`Max ${a.value} allowed to unwrap`,"bottom-slots":"","error-message":`Max ${a.value} allowed to unwrap`,error:!l.value},null,8,["disable","modelValue","hint","error-message","error"]),e(G,{class:"full-width",disable:r.value,color:"primary",label:"Unwrap","icon-right":"send",onClick:p[1]||(p[1]=_=>d())},null,8,["disable"]),e(Pe,{mint:t.wrapper.account.mintWrapped},null,8,["mint"])]))}}),Ea={class:"row items-center"},Oa={class:"text-h4"},za={class:"text-h4"},ja=A({__name:"WrapperImageAsync",props:["wrapper"],setup(y){const s=y,u=w(),a=w();oe(async()=>{u.value=await t(s.wrapper.account.mintUnwrapped),a.value=await t(s.wrapper.account.mintWrapped)}),F(()=>s.wrapper,async()=>{u.value=await t(s.wrapper.account.mintUnwrapped),a.value=await t(s.wrapper.account.mintWrapped)});async function t(l){if(M().getTokenByMintPublicKey(l))return M().getTokenByMintPublicKey(l).logoURI;const r=ee(l),i=await H().connection.getAccountInfo(r);return qe.deserializeMetadata(i).uri}return(l,d)=>(v(),T("div",Ea,[n("div",null,[e(ve,{size:"100px"},{default:c(()=>{var r;return[a.value?(v(),S(ce,{key:0,src:u.value},null,8,["src"])):(v(),S(ce,{key:1,src:((r=m(M)().tokenList.find(i=>{var p;return i.address==((p=y.wrapper.account)==null?void 0:p.mintUnwrapped.toString())}))==null?void 0:r.logoURI)??m(xe)},null,8,["src"]))]}),_:1}),n("div",Oa,W(s.wrapper.account.ratio[0]),1)]),e(de,{class:"col",size:"xl",name:"swap_horiz"}),n("div",null,[e(ve,{size:"100px"},{default:c(()=>{var r;return[a.value?(v(),S(ce,{key:0,src:a.value},null,8,["src"])):(v(),S(ce,{key:1,src:((r=m(M)().tokenList.find(i=>{var p;return i.address==((p=y.wrapper.account)==null?void 0:p.mintWrapped.toString())}))==null?void 0:r.logoURI)??m(xe)},null,8,["src"]))]}),_:1}),n("div",za,W(s.wrapper.account.ratio[1]),1)])]))}}),Da=n("img",{src:"solscan.png"},null,-1),we=A({__name:"WrapperSolscanLink",props:["account"],setup(y){const s=y;return(u,a)=>(v(),S(G,{href:`https://solscan.io/account/${s.account}`,target:"_blank",color:"primary",dense:""},{default:c(()=>[e(ve,{size:"20px"},{default:c(()=>[Da]),_:1})]),_:1},8,["href"]))}});const Xa={class:"q-pa-md"},Fa={class:"q-pa-xs col-xs-12 col-sm-6 col-md-3"},Za={class:"row items-center"},Ha=n("div",{class:"col text-subtitle1 text-weight-thin"},"Group",-1),Ja={class:"text-subtitle2"},Ya={class:"row items-center"},el=n("div",{class:"col text-subtitle1 text-weight-thin"},"Pair",-1),tl={class:"text-subtitle2 row q-gutter-x-xs"},al=n("div",null,"/",-1),ll={class:"row items-center"},nl=n("div",{class:"col text-subtitle1 text-weight-thin"},"Wrappable",-1),ol={key:1},rl={class:"row items-center"},sl=n("div",{class:"col text-subtitle1 text-weight-thin"},"Address",-1),il={class:"text-subtitle2"},ul={class:"row items-center"},cl=n("div",{class:"col text-subtitle1 text-weight-thin"},"Unwrapped",-1),dl={class:"text-subtitle2"},pl={class:"row items-center"},ml=n("div",{class:"col text-subtitle1 text-weight-thin"},"Wrapped",-1),wl={class:"text-subtitle2"},vl=n("div",{class:"text-center text-subtitle2"},"Status",-1),_l=n("div",null,null,-1),fl={class:"col q-gutter-x-md"},gl=A({__name:"WrapperTable",setup(y){const s=w("wrap");M();const u=B();function a(){return u.screen.lt.sm?3:u.screen.lt.md?6:9}const t=w(""),l=w({page:1,rowsPerPage:a()});return F(()=>u.screen.name,()=>{l.value.rowsPerPage=a()}),ue(""),Z(()=>u.screen.gt.xs?u.screen.gt.sm?[3,6,9]:[3,6]:[3]),(d,r)=>(v(),T("div",Xa,[m(o)().groupSelected?(v(),S(ze,{key:0,grid:"","hide-header":"","hide-bottom":"",rows:m(o)().getWrapperByGroup(m(o)().groupSelected),"row-key":"name",filter:t.value,pagination:l.value,"onUpdate:pagination":r[2]||(r[2]=i=>l.value=i),"rows-per-page-options":[0]},{item:c(i=>[n("div",Fa,[e(I,{flat:"",bordered:""},{default:c(()=>[e($,{class:"text-center"},{default:c(()=>[e(ja,{wrapper:i.row},null,8,["wrapper"])]),_:2},1024),e($,{class:"q-gutter-y-xs"},{default:c(()=>{var p,_,V,U,g,x,L,D,Q;return[n("div",Za,[Ha,n("div",Ja,W(m(o)().groups.find(f=>f.publicKey.toString()==i.row.account.group.toString()).account.name),1)]),n("div",Ya,[el,n("div",tl,[n("div",null,W(m(M)().tokenList.find(f=>f.address==i.row.account.mintUnwrapped.toString()).symbol),1),al,n("div",null," W"+W(m(M)().tokenList.find(f=>f.address==i.row.account.mintUnwrapped.toString()).symbol),1)])]),n("div",ll,[nl,n("div",{class:Re(i.row.account.useLimit==!0&&((p=i.row)==null?void 0:p.account.limitAmountUnwrapped)==0?"text-red":"")},[(_=i.row)!=null&&_.account.useLimit?(v(),S(fe,{key:0,number:(V=i.row)==null?void 0:V.account.limitAmountUnwrapped.toNumber(),decimals:4,"pad-start":10},null,8,["number"])):(v(),T("div",ol,"Unlimited"))],2)]),n("div",rl,[sl,n("div",il,[ae(W(m(ue)((g=(U=i.row)==null?void 0:U.publicKey)==null?void 0:g.toString()))+" ",1),e(we,{account:i.row.publicKey},null,8,["account"])])]),n("div",ul,[cl,n("div",dl,[ae(W(m(ue)((L=(x=i.row)==null?void 0:x.account.mintUnwrapped)==null?void 0:L.toString()))+" ",1),e(we,{account:i.row.account.mintUnwrapped},null,8,["account"])])]),n("div",pl,[ml,n("div",wl,[ae(W(m(ue)((Q=(D=i.row)==null?void 0:D.account.mintWrapped)==null?void 0:Q.toString()))+" ",1),e(we,{account:i.row.account.mintWrapped},null,8,["account"])])])]}),_:2},1024),e(q),e(Ze,{class:"row"},{default:c(()=>[e(I,{class:"col q-mx-sm",flat:"",bordered:""},{default:c(()=>[e($,null,{default:c(()=>[vl]),_:1}),e(q),_l,e($,null,{default:c(()=>[e(Ie,{mintWrapped:i.row.account.mintWrapped.toString(),mintUnwrapped:i.row.account.mintUnwrapped.toString(),wrapper:i.row},null,8,["mintWrapped","mintUnwrapped","wrapper"])]),_:2},1024)]),_:2},1024)]),_:2},1024),m(We)().publicKey.value?(v(),S($,{key:1,class:"col"},{default:c(()=>[e(I,{flat:"",bordered:""},{default:c(()=>[n("div",fl,[e(te,{modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=p=>s.value=p),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","inline-label":""},{default:c(()=>[e(R,{name:"wrap",label:"Wrap"}),e(R,{name:"unwrap",label:"Unwrap"})]),_:1},8,["modelValue"]),e(q),e(re,{modelValue:s.value,"onUpdate:modelValue":r[1]||(r[1]=p=>s.value=p),animated:""},{default:c(()=>[e(E,{name:"wrap"},{default:c(()=>[e(Na,{class:"col",wrapper:i.row},null,8,["wrapper"])]),_:2},1024),e(E,{name:"unwrap"},{default:c(()=>[e(Ga,{class:"col",wrapper:i.row},null,8,["wrapper"])]),_:2},1024)]),_:2},1032,["modelValue"])])]),_:2},1024)]),_:2},1024)):(v(),S($,{key:0,class:"row justify-center"},{default:c(()=>[e(m(Ge),{dark:""})]),_:1}))]),_:2},1024)])]),_:1},8,["rows","filter","pagination"])):P("",!0)]))}}),bl=n("div",{class:"col text-h6"},"Token Wrapper Interface",-1),yl={class:"row"},an=A({__name:"WrapperPage",setup(y){const s=w("wrapping");return o(),F(()=>o().enableManage,()=>{o().enableManage||(s.value="wrapping")}),oe(async()=>{K()||Ee(),await o().updateStore()}),(u,a)=>(v(),S(Oe,{class:"bg-black"},{default:c(()=>[e(I,null,{default:c(()=>[e($,{class:"row items-center q-gutter-x-md"},{default:c(()=>[e(de,{name:"inventory_2",size:"md"}),bl,e(X,{dense:"","left-label":"",label:"Enable Management",modelValue:m(o)().enableManage,"onUpdate:modelValue":a[0]||(a[0]=t=>m(o)().enableManage=t),"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue"])]),_:1}),e(q),m(o)().enableManage?(v(),S(te,{key:0,modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=t=>s.value=t),class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify"},{default:c(()=>[e(R,{name:"wrapping",label:"Wrap / Unwrap"}),e(R,{name:"manage",label:"Manage"})]),_:1},8,["modelValue"])):P("",!0),e(q),e(re,{modelValue:s.value,"onUpdate:modelValue":a[2]||(a[2]=t=>s.value=t),animated:""},{default:c(()=>[e(E,{name:"wrapping"},{default:c(()=>[n("div",yl,[e(ge,{"as-tabs":"true",class:"col"})]),e(gl)]),_:1}),e(E,{name:"manage",class:"row q-gutter-x-md"},{default:c(()=>{var t;return[e(gt,{class:"col-3"}),(t=m(o)().groupSelected)!=null&&t.account?(v(),S(Ba,{key:0,class:"col"})):P("",!0)]}),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}))}});export{an as default};
