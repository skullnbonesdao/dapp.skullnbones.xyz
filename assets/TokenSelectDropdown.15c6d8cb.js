import{cZ as V,c_ as g,dx as y,dd as N,d1 as h,au as C,J as p,bs as v,cR as x,cP as R,b1 as _,ak as S,al as b,a1 as k,as as o,bx as n,a6 as I,b7 as W,ai as T,dq as D,V as A,P as q,ar as Q,$ as E,aP as F,aj as K}from"./index.8f12ea74.js";import{Q as M,a as U}from"./QTabs.cba1dad3.js";import{Q as $}from"./QImg.f9a8a931.js";import{i as O,j as P,Q as j}from"./QMenu.517e342f.js";import{Q as G}from"./QSelect.e6644f8c.js";function le(l,r,i,a,u=g,s=y){return w(l,r,i,a,V.Buffer.alloc(0),u,s)}function oe(l,r,i,a,u=g,s=y){return w(l,r,i,a,V.Buffer.from([1]),u,s)}function w(l,r,i,a,u,s=g,m=y){const d=[{pubkey:l,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:N.programId,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}];return new h({keys:d,programId:m,data:u})}const J={class:"row items-center"},Z={class:"col text-h6"},z={class:"row items-center"},H=b("div",{class:"col text-right q-mr-md text-subtitle2"},"Filter:",-1),X={class:"row q-gutter-x-md items-center"},ne=C({__name:"TokenSelectDropdown",props:["label","textboxLabel"],emits:["token_account_selected"],setup(l,{emit:r}){const i=r,a=p(),u=p(["list","address"]),s=p("list"),m=p(d());v(()=>a.value,()=>{console.log(a.value),i("token_account_selected",a.value)}),v(()=>s.value,()=>m.value=d());function d(){var f;return s.value=="list"?x().tokenList.map(t=>({name:t.name,symbol:t.symbol,mint:t.address})):(f=R().getAccountsBalanceNotZero)==null?void 0:f.map(t=>{var e,c;return{name:(e=t.info)==null?void 0:e.name,symbol:(c=t.info)==null?void 0:c.symbol,mint:t.mint}})}function B(f,t,e){t(()=>{const c=f.toLowerCase();m.value=d().filter(L=>JSON.stringify(L).toLowerCase().indexOf(c)>-1)})}return(f,t)=>(_(),S(I,null,[b("div",J,[b("div",Z,k(l.label),1),b("div",z,[H,o(M,{dense:"",modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),class:"text-teal"},{default:n(()=>[(_(!0),S(I,null,W(u.value,e=>(_(),T(U,{name:e,label:e,key:e},null,8,["name","label"]))),128))]),_:1},8,["modelValue"])])]),b("div",X,[o(G,{filled:"",square:"",class:"col","use-input":"","hide-selected":"","fill-input":"",onFilter:B,options:m.value,"option-label":e=>e.name?`[${e.symbol}] ${e.name}`:e.mint,modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),label:l.textboxLabel},{option:n(e=>[e.opt.group?K("",!0):(_(),T(j,E(F({key:0},e.itemProps)),{default:n(()=>[o(O,{avatar:""},{default:n(()=>[o(D,null,{default:n(()=>{var c;return[o($,{src:(c=A(x)().getTokenByMintPublicKey(new A(q)(e.opt.mint)))==null?void 0:c.logoURI},null,8,["src"])]}),_:2},1024)]),_:2},1024),o(O,null,{default:n(()=>[o(P,null,{default:n(()=>[Q("["+k(e.opt.symbol)+"] "+k(e.opt.name),1)]),_:2},1024),o(P,{caption:""},{default:n(()=>[Q(k(e.opt.mint),1)]),_:2},1024)]),_:2},1024)]),_:2},1040))]),_:1},8,["options","option-label","modelValue","label"])])],64))}});export{ne as _,oe as a,le as c};
