import{Q as S,a as B}from"./QTabs.83aba955.js";import{Q as N}from"./QImg.e71b3508.js";import{au as O,J as m,bs as f,db as _,d9 as C,b1 as u,ak as v,al as r,a1 as c,as as a,bx as l,a6 as k,b7 as I,ai as x,dw as F,V as y,P as q,ar as g,$ as A,aP as U,aj as $}from"./index.c14dfec5.js";import{k as Q,l as V,j}from"./rtl.c78c8041.js";import{Q as D}from"./QSelect.2aff6f85.js";const J={class:"row items-center"},K={class:"col text-h6"},z={class:"row items-center"},E=r("div",{class:"col text-right q-mr-md text-subtitle2"},"Filter:",-1),M={class:"row q-gutter-x-md items-center"},X=O({__name:"TokenSelectDropdown",props:["label","textboxLabel"],emits:["token_account_selected"],setup(p,{emit:w}){const L=w,s=m(),T=m(["list","address"]),i=m("list"),d=m(b());f(()=>s.value,()=>{console.log(s.value),L("token_account_selected",s.value)}),f(()=>i.value,()=>d.value=b());function b(){var n;return i.value=="list"?_().tokenList.map(t=>({name:t.name,symbol:t.symbol,mint:t.address})):(n=C().getAccountsBalanceNotZero)==null?void 0:n.map(t=>{var e,o;return{name:(e=t.info)==null?void 0:e.name,symbol:(o=t.info)==null?void 0:o.symbol,mint:t.mint}})}function h(n,t,e){t(()=>{const o=n.toLowerCase();d.value=b().filter(P=>JSON.stringify(P).toLowerCase().indexOf(o)>-1)})}return(n,t)=>(u(),v(k,null,[r("div",J,[r("div",K,c(p.label),1),r("div",z,[E,a(S,{dense:"",modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),class:"text-teal"},{default:l(()=>[(u(!0),v(k,null,I(T.value,e=>(u(),x(B,{name:e,label:e,key:e},null,8,["name","label"]))),128))]),_:1},8,["modelValue"])])]),r("div",M,[a(D,{filled:"",square:"",class:"col","use-input":"","hide-selected":"","fill-input":"",onFilter:h,options:d.value,"option-label":e=>e.name?`[${e.symbol}] ${e.name}`:e.mint,modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),label:p.textboxLabel},{option:l(e=>[e.opt.group?$("",!0):(u(),x(j,A(U({key:0},e.itemProps)),{default:l(()=>[a(Q,{avatar:""},{default:l(()=>[a(F,null,{default:l(()=>{var o;return[a(N,{src:(o=y(_)().getTokenByMintPublicKey(new y(q)(e.opt.mint)))==null?void 0:o.logoURI},null,8,["src"])]}),_:2},1024)]),_:2},1024),a(Q,null,{default:l(()=>[a(V,null,{default:l(()=>[g("["+c(e.opt.symbol)+"] "+c(e.opt.name),1)]),_:2},1024),a(V,{caption:""},{default:l(()=>[g(c(e.opt.mint),1)]),_:2},1024)]),_:2},1024)]),_:2},1040))]),_:1},8,["options","option-label","modelValue","label"])])],64))}});export{X as _};
