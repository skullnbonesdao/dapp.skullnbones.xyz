import{cJ as P,cm as I,J as T,ah as u,aF as f,cS as Q,ce as z,cg as A,cT as N,aC as R,O as y,cc as S,bZ as w,cl as D,aT as M,bC as Y}from"./index.17a5f521.js";import{d as J,u as K}from"./uid.7f57cc12.js";import{u as G,c as U}from"./QInput.356e7d78.js";async function re(a){const v=P.create({group:!1,timeout:0,spinner:!0,message:"Confirming tx..."}),e=await I().connection.getLatestBlockhash();return await I().connection.confirmTransaction({signature:a,blockhash:e.blockhash,lastValidBlockHeight:e.lastValidBlockHeight},"confirmed"),v({icon:"done",spinner:!1,color:"green",badgePosition:"bottom-right",message:"Signature confirmed!",timeout:2500}),!0}function Z(a,v){const e=T(null),o=u(()=>a.disable===!0?null:f("span",{ref:e,class:"no-outline",tabindex:-1}));function i(r){const l=v.value;r!==void 0&&r.type.indexOf("key")===0?l!==null&&document.activeElement!==l&&l.contains(document.activeElement)===!0&&l.focus():e.value!==null&&(r===void 0||l!==null&&l.contains(r.target)===!0)&&e.value.focus()}return{refocusTargetEl:o,refocusTarget:i}}var W={xs:30,sm:35,md:40,lg:50,xl:60};const X={...K,...N,...G,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:a=>a==="tf"||a==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},ee=["update:modelValue"];function te(a,v){const{props:e,slots:o,emit:i,proxy:r}=R(),{$q:l}=r,m=J(e,l),c=T(null),{refocusTargetEl:p,refocusTarget:x}=Z(e,c),_=Q(e,W),b=u(()=>e.val!==void 0&&Array.isArray(e.modelValue)),V=u(()=>{const n=y(e.val);return b.value===!0?e.modelValue.findIndex(k=>y(k)===n):-1}),d=u(()=>b.value===!0?V.value>-1:y(e.modelValue)===y(e.trueValue)),t=u(()=>b.value===!0?V.value===-1:y(e.modelValue)===y(e.falseValue)),s=u(()=>d.value===!1&&t.value===!1),g=u(()=>e.disable===!0?-1:e.tabindex||0),h=u(()=>`q-${a} cursor-pointer no-outline row inline no-wrap items-center`+(e.disable===!0?" disabled":"")+(m.value===!0?` q-${a}--dark`:"")+(e.dense===!0?` q-${a}--dense`:"")+(e.leftLabel===!0?" reverse":"")),$=u(()=>{const n=d.value===!0?"truthy":t.value===!0?"falsy":"indet",k=e.color!==void 0&&(e.keepColor===!0||(a==="toggle"?d.value===!0:t.value!==!0))?` text-${e.color}`:"";return`q-${a}__inner relative-position non-selectable q-${a}__inner--${n}${k}`}),B=u(()=>{const n={type:"checkbox"};return e.name!==void 0&&Object.assign(n,{".checked":d.value,"^checked":d.value===!0?"checked":void 0,name:e.name,value:b.value===!0?e.val:e.trueValue}),n}),E=U(B),O=u(()=>{const n={tabindex:g.value,role:a==="toggle"?"switch":"checkbox","aria-label":e.label,"aria-checked":s.value===!0?"mixed":d.value===!0?"true":"false"};return e.disable===!0&&(n["aria-disabled"]="true"),n});function C(n){n!==void 0&&(S(n),x(n)),e.disable!==!0&&i("update:modelValue",H(),n)}function H(){if(b.value===!0){if(d.value===!0){const n=e.modelValue.slice();return n.splice(V.value,1),n}return e.modelValue.concat([e.val])}if(d.value===!0){if(e.toggleOrder!=="ft"||e.toggleIndeterminate===!1)return e.falseValue}else if(t.value===!0){if(e.toggleOrder==="ft"||e.toggleIndeterminate===!1)return e.trueValue}else return e.toggleOrder!=="ft"?e.trueValue:e.falseValue;return e.indeterminateValue}function L(n){(n.keyCode===13||n.keyCode===32)&&S(n)}function F(n){(n.keyCode===13||n.keyCode===32)&&C(n)}const j=v(d,s);return Object.assign(r,{toggle:C}),()=>{const n=j();e.disable!==!0&&E(n,"unshift",` q-${a}__native absolute q-ma-none q-pa-none`);const k=[f("div",{class:$.value,style:_.value,"aria-hidden":"true"},n)];p.value!==null&&k.push(p.value);const q=e.label!==void 0?z(o.default,[e.label]):A(o.default);return q!==void 0&&k.push(f("div",{class:`q-${a}__label q-anchor--skip`},q)),f("div",{ref:c,class:h.value,...O.value,onClick:C,onKeydown:L,onKeyup:F},k)}}const ne=f("div",{key:"svg",class:"q-checkbox__bg absolute"},[f("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[f("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),f("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var se=w({name:"QCheckbox",props:X,emits:ee,setup(a){function v(e,o){const i=u(()=>(e.value===!0?a.checkedIcon:o.value===!0?a.indeterminateIcon:a.uncheckedIcon)||null);return()=>i.value!==null?[f("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[f(D,{class:"q-checkbox__icon",name:i.value})])]:[ne]}return te("checkbox",v)}}),ue=w({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(a,{slots:v,emit:e}){let o=!1,i,r,l=null,m=null,c,p;function x(){i&&i(),i=null,o=!1,l!==null&&(clearTimeout(l),l=null),m!==null&&(clearTimeout(m),m=null),r!==void 0&&r.removeEventListener("transitionend",c),c=null}function _(t,s,g){s!==void 0&&(t.style.height=`${s}px`),t.style.transition=`height ${a.duration}ms cubic-bezier(.25, .8, .50, 1)`,o=!0,i=g}function b(t,s){t.style.overflowY=null,t.style.height=null,t.style.transition=null,x(),s!==p&&e(s)}function V(t,s){let g=0;r=t,o===!0?(x(),g=t.offsetHeight===t.scrollHeight?0:void 0):(p="hide",t.style.overflowY="hidden"),_(t,g,s),l=setTimeout(()=>{l=null,t.style.height=`${t.scrollHeight}px`,c=h=>{m=null,(Object(h)!==h||h.target===t)&&b(t,"show")},t.addEventListener("transitionend",c),m=setTimeout(c,a.duration*1.1)},100)}function d(t,s){let g;r=t,o===!0?x():(p="show",t.style.overflowY="hidden",g=t.scrollHeight),_(t,g,s),l=setTimeout(()=>{l=null,t.style.height=0,c=h=>{m=null,(Object(h)!==h||h.target===t)&&b(t,"hide")},t.addEventListener("transitionend",c),m=setTimeout(c,a.duration*1.1)},100)}return M(()=>{o===!0&&x()}),()=>f(Y,{css:!1,appear:a.appear,onEnter:V,onLeave:d},v.default)}});export{se as Q,ue as a,re as h};
