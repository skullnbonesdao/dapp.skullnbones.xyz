import{c$ as o,d0 as T,cZ as f,dA as m,cY as L,P as w,dx as B,dB as y,dC as D,dD as j}from"./index.8a7522e1.js";import{d as F,e as O,f as A,g as J,h as b,i as Q}from"./errors.825970a3.js";import{b as p,p as i}from"./web3.b3d8b27a.js";import{u as d}from"./bigint.684e2a48.js";var C;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Mint=1]="Mint",e[e.Account=2]="Account"})(C||(C={}));const _=1,R=o([T("m"),T("n"),p("isInitialized"),i("signer1"),i("signer2"),i("signer3"),i("signer4"),i("signer5"),i("signer6"),i("signer7"),i("signer8"),i("signer9"),i("signer10"),i("signer11")]),h=R.span;async function pe(e,n,r,a=f){const s=await e.getAccountInfo(n,r);return V(n,s,a)}function V(e,n,r=f){if(!n)throw new F;if(!n.owner.equals(r))throw new O;if(n.data.length!=h)throw new A;const a=R.decode(n.data);return{address:e,...a}}async function Ee(e,n){return await e.getMinimumBalanceForRentExemption(h,n)}var M;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen"})(M||(M={}));const U=o([i("mint"),i("owner"),d("amount"),m("delegateOption"),i("delegate"),T("state"),m("isNativeOption"),d("isNative"),d("delegatedAmount"),m("closeAuthorityOption"),i("closeAuthority")]),c=U.span;async function Fe(e,n,r,a=f){const s=await e.getAccountInfo(n,r);return z(n,s,a)}async function Oe(e,n,r,a=f){const s=await e.getMultipleAccountsInfo(n,r);return n.map((l,X)=>z(l,s[X],a))}async function _e(e,n){return await ee(e,[],n)}async function ee(e,n,r){const a=H(n);return await e.getMinimumBalanceForRentExemption(a,r)}function z(e,n,r=f){if(!n)throw new F;if(!n.owner.equals(r))throw new O;if(n.data.length<c)throw new A;const a=U.decode(n.data.slice(0,c));let s=L.Buffer.alloc(0);if(n.data.length>c){if(n.data.length===h)throw new A;if(n.data[c]!=C.Account)throw new J;s=n.data.slice(c+_)}return{address:e,mint:a.mint,owner:a.owner,amount:a.amount,delegate:a.delegateOption?a.delegate:null,delegatedAmount:a.delegatedAmount,isInitialized:a.state!==M.Uninitialized,isFrozen:a.state===M.Frozen,isNative:!!a.isNativeOption,rentExemptReserve:a.isNativeOption?a.isNative:null,closeAuthority:a.closeAuthorityOption?a.closeAuthority:null,tlvData:s}}const v=o([m("mintAuthorityOption"),i("mintAuthority"),d("supply"),T("decimals"),p("isInitialized"),m("freezeAuthorityOption"),i("freezeAuthority")]),I=v.span;async function ye(e,n,r,a=f){const s=await e.getAccountInfo(n,r);return ne(n,s,a)}function ne(e,n,r=f){if(!n)throw new F;if(!n.owner.equals(r))throw new O;if(n.data.length<I)throw new A;const a=v.decode(n.data.slice(0,I));let s=L.Buffer.alloc(0);if(n.data.length>I){if(n.data.length<=c)throw new A;if(n.data.length===h)throw new A;if(n.data[c]!=C.Mint)throw new Q;s=n.data.slice(c+_)}return{address:e,mintAuthority:a.mintAuthorityOption?a.mintAuthority:null,supply:a.supply,decimals:a.decimals,isInitialized:a.isInitialized,freezeAuthority:a.freezeAuthorityOption?a.freezeAuthority:null,tlvData:s}}async function De(e,n){return await te(e,[],n)}async function te(e,n,r){const a=he(n);return await e.getMinimumBalanceForRentExemption(a,r)}async function Se(e,n,r=!1,a=f,s=B){if(!r&&!w.isOnCurve(n.toBuffer()))throw new b;const[l]=await w.findProgramAddress([n.toBuffer(),a.toBuffer(),e.toBuffer()],s);return l}function Le(e,n,r=!1,a=f,s=B){if(!r&&!w.isOnCurve(n.toBuffer()))throw new b;const[l]=w.findProgramAddressSync([n.toBuffer(),a.toBuffer(),e.toBuffer()],s);return l}const P=o([p("lockCpi")]),ae=P.span;function Be(e){const n=u(t.CpiGuard,e.tlvData);return n!==null?P.decode(n):null}const G=o([T("state")]),re=G.span;function be(e){const n=u(t.DefaultAccountState,e.tlvData);return n!==null?G.decode(n):null}const Z=o([]),se=Z.span;function Re(e){const n=u(t.ImmutableOwner,e.tlvData);return n!==null?Z.decode(n):null}const k=o([i("rateAuthority"),y("initializationTimestamp"),D("preUpdateAverageRate"),y("lastUpdateTimestamp"),D("currentRate")]),ie=k.span;function Ue(e){const n=u(t.InterestBearingConfig,e.tlvData);return n!==null?k.decode(n):null}const x=o([p("requireIncomingTransferMemos")]),oe=x.span;function ze(e){const n=u(t.MemoTransfer,e.tlvData);return n!==null?x.decode(n):null}const q=o([i("closeAuthority")]),ue=q.span;function ve(e){const n=u(t.MintCloseAuthority,e.tlvData);return n!==null?q.decode(n):null}const E=o([]),ce=E.span,le=E.span;function Pe(e){const n=u(t.NonTransferable,e.tlvData);return n!==null?E.decode(n):null}function Ge(e){const n=u(t.NonTransferableAccount,e.tlvData);return n!==null?E.decode(n):null}const K=o([i("delegate")]),fe=K.span;function Ze(e){const n=u(t.PermanentDelegate,e.tlvData);return n!==null?K.decode(n):null}const de=1e4,ke=de;function S(e){return o([d("epoch"),d("maximumFee"),j("transferFeeBasisPoints")],e)}const W=o([i("transferFeeConfigAuthority"),i("withdrawWithheldAuthority"),d("withheldAmount"),S("olderTransferFee"),S("newerTransferFee")]),ge=W.span,Y=o([d("withheldAmount")]),Ae=Y.span;function xe(e){const n=u(t.TransferFeeConfig,e.tlvData);return n!==null?W.decode(n):null}function qe(e){const n=u(t.TransferFeeAmount,e.tlvData);return n!==null?Y.decode(n):null}var t;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.TransferFeeConfig=1]="TransferFeeConfig",e[e.TransferFeeAmount=2]="TransferFeeAmount",e[e.MintCloseAuthority=3]="MintCloseAuthority",e[e.ConfidentialTransferMint=4]="ConfidentialTransferMint",e[e.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",e[e.DefaultAccountState=6]="DefaultAccountState",e[e.ImmutableOwner=7]="ImmutableOwner",e[e.MemoTransfer=8]="MemoTransfer",e[e.NonTransferable=9]="NonTransferable",e[e.InterestBearingConfig=10]="InterestBearingConfig",e[e.CpiGuard=11]="CpiGuard",e[e.PermanentDelegate=12]="PermanentDelegate",e[e.NonTransferableAccount=13]="NonTransferableAccount"})(t||(t={}));const g=2,N=2;function me(e){switch(e){case t.Uninitialized:return 0;case t.TransferFeeConfig:return ge;case t.TransferFeeAmount:return Ae;case t.MintCloseAuthority:return ue;case t.ConfidentialTransferMint:return 97;case t.ConfidentialTransferAccount:return 286;case t.CpiGuard:return ae;case t.DefaultAccountState:return re;case t.ImmutableOwner:return se;case t.MemoTransfer:return oe;case t.NonTransferable:return ce;case t.InterestBearingConfig:return ie;case t.PermanentDelegate:return fe;case t.NonTransferableAccount:return le;default:throw Error(`Unknown extension type: ${e}`)}}function Ke(e){switch(e){case t.TransferFeeConfig:case t.MintCloseAuthority:case t.ConfidentialTransferMint:case t.DefaultAccountState:case t.NonTransferable:case t.InterestBearingConfig:case t.PermanentDelegate:return!0;case t.Uninitialized:case t.TransferFeeAmount:case t.ConfidentialTransferAccount:case t.ImmutableOwner:case t.MemoTransfer:case t.CpiGuard:case t.NonTransferableAccount:return!1;default:throw Error(`Unknown extension type: ${e}`)}}function We(e){switch(e){case t.TransferFeeAmount:case t.ConfidentialTransferAccount:case t.ImmutableOwner:case t.MemoTransfer:case t.CpiGuard:case t.NonTransferableAccount:return!0;case t.Uninitialized:case t.TransferFeeConfig:case t.MintCloseAuthority:case t.ConfidentialTransferMint:case t.DefaultAccountState:case t.NonTransferable:case t.InterestBearingConfig:case t.PermanentDelegate:return!1;default:throw Error(`Unknown extension type: ${e}`)}}function Te(e){switch(e){case t.TransferFeeConfig:return t.TransferFeeAmount;case t.ConfidentialTransferMint:return t.ConfidentialTransferAccount;case t.NonTransferable:return t.NonTransferableAccount;case t.TransferFeeAmount:case t.ConfidentialTransferAccount:case t.CpiGuard:case t.DefaultAccountState:case t.ImmutableOwner:case t.MemoTransfer:case t.MintCloseAuthority:case t.Uninitialized:case t.InterestBearingConfig:case t.PermanentDelegate:case t.NonTransferableAccount:return t.Uninitialized}}function $(e,n){if(e.length===0)return n;{const r=c+_+e.filter((a,s)=>s===e.indexOf(a)).map(a=>me(a)+g+N).reduce((a,s)=>a+s);return r===h?r+g:r}}function he(e){return $(e,I)}function H(e){return $(e,c)}function u(e,n){let r=0;for(;r+g+N<=n.length;){const a=n.readUInt16LE(r),s=n.readUInt16LE(r+g),l=r+g+N;if(a==e)return n.slice(l,l+s);r=l+s}return null}function Ie(e){const n=[];let r=0;for(;r<e.length;){const a=e.readUInt16LE(r);n.push(a);const s=e.readUInt16LE(r+g);r+=g+N+s}return n}function Ye(e){const r=Ie(e.tlvData).map(Te);return H(r)}export{Ae as $,c as A,ie as B,P as C,G as D,t as E,Ue as F,x as G,oe as H,Z as I,ze as J,q as K,N as L,I as M,ue as N,ve as O,E as P,ce as Q,le as R,Pe as S,g as T,Ge as U,de as V,ke as W,S as X,W as Y,ge as Z,Y as _,Le as a,xe as a0,qe as a1,K as a2,fe as a3,Ze as a4,M as a5,U as a6,Oe as a7,ee as a8,z as a9,v as aa,ne as ab,te as ac,R as ad,pe as ae,V as af,ye as b,Ye as c,De as d,Ee as e,h as f,Se as g,_e as h,Fe as i,he as j,C as k,_ as l,ae as m,Be as n,re as o,be as p,me as q,Ke as r,We as s,Te as t,H as u,u as v,Ie as w,se as x,Re as y,k as z};
