import{Q as p,a as T,b as W}from"./QInput.18b050f7.js";import{Q as K}from"./QPage.32e4f36e.js";import{a as m,Q as S}from"./QCard.c8af6455.js";import{Q as B}from"./QSpace.3d8dc583.js";import{au as f,b1 as i,ai as w,bx as u,as as s,al as t,V as e,ea as l,ck as v,ak as d,bz as L,a6 as q,b7 as I,a1 as n,aj as A,cs as Q,J as b,aX as V,eb as M,P as E,cp as $,ec as x,bs as R,cl as N}from"./index.d6aae936.js";import{l as U,m as D}from"./use-key-composition.106379a1.js";import{a as F,Q as g}from"./QList.02d0a700.js";import{Q as j}from"./QImg.41773ffa.js";import{Q as H}from"./QSelect.9afcf920.js";const O=t("div",{class:"text-h6 text-weight-thin"}," This Tool is build for easy interaction between StarAtlasLockers using a Squads.so multi signature account! ",-1),z=t("div",{class:"text-subtitle1"}," Please enter the required information so send instructions to your Squads Account ",-1),G=t("div",{class:"text-subtitle2 text-weight-thin text-orange-5"}," You will still need to approve the transaction in you squads account! ",-1),J={class:"row q-gutter-x-sm items-center"},Y={class:"col"},X=t("div",{class:"col text-weight-light"}," Squads.so -> Settings -> Multisig Account ",-1),Z={class:"row q-gutter-x-sm items-center"},tt={class:"col"},st=t("div",{class:"col text-weight-light"},"Your Squads Account",-1),et={class:"row items-center"},lt=t("div",{class:"text-subtitle1"},"Squads Multisig Info",-1),it={key:0},ot=t("div",{class:"text-subtitle2"},"Members",-1),at=t("div",{class:"row"},[t("div",{class:"col"},"Member Address"),t("div",null,"Permission")],-1),ct={class:"row"},nt={class:"col"},dt=f({__name:"SetupLockerView",setup(y){return(_,h)=>(i(),w(S,{flat:""},{default:u(()=>[s(m,null,{default:u(()=>[O]),_:1}),s(m,null,{default:u(()=>[z,G]),_:1}),s(m,{class:"q-gutter-y-sm"},{default:u(()=>[t("div",J,[t("div",Y,[s(p,{dense:"",standout:"",modelValue:e(l)().multisigPDA,"onUpdate:modelValue":h[0]||(h[0]=a=>e(l)().multisigPDA=a),label:"MultisigPDA"},null,8,["modelValue"])]),X]),t("div",Z,[t("div",tt,[s(p,{disable:"",dense:"",standout:"",modelValue:e(l)().getVaultPDA,"onUpdate:modelValue":h[1]||(h[1]=a=>e(l)().getVaultPDA=a),label:"VaultPDA"},null,8,["modelValue"])]),st])]),_:1}),s(m,null,{default:u(()=>{var a,r;return[t("div",et,[lt,s(B),s(v,{square:"",color:"primary",label:"Update Squads info",onClick:h[2]||(h[2]=o=>e(l)().setAccounts())})]),(r=(a=e(l)().multisigInfo)==null?void 0:a.members)!=null&&r.length?(i(),d("div",it,[ot,s(F,{dense:"",bordered:"",padding:"",class:"rounded-borders"},{default:u(()=>[L((i(),w(U,null,{default:u(()=>[s(D,null,{default:u(()=>[at]),_:1})]),_:1})),[[Q]]),(i(!0),d(q,null,I(e(l)().multisigInfo.members,o=>L((i(),w(U,{clickable:"",key:o.key},{default:u(()=>[s(D,null,{default:u(()=>[t("div",ct,[t("div",nt,n(o.key),1),t("div",null,n(o.permissions.mask),1)])]),_:2},1024)]),_:2},1024)),[[Q]])),128))]),_:1})])):A("",!0)]}),_:1})]),_:1}))}}),rt={class:"row"},ut={class:"col-1"},_t={class:"col"},vt={class:"row q-pr-md items-center"},ht=t("div",{class:"col text-right text-subtitle2 text-weight-light"},[t("div",null,"Squads Vault Account")],-1),mt={class:"col text-right text-subtitle1"},xt={class:"row q-pr-md items-center"},wt=t("div",{class:"col text-right text-subtitle2 text-weight-light"},[t("div",null,"Squads Registered Stake")],-1),gt={class:"col text-right text-subtitle1"},kt={class:"row q-pr-md items-center"},bt=t("div",{class:"col text-right text-subtitle2 text-weight-light"},[t("div",null,"Squads Staking Account")],-1),pt={class:"col text-right text-subtitle1"},$t=t("div",{class:"row items-center q-mx-md"},[t("div",{class:"col"},[t("div",{class:"text-h4"},"Instruction")]),t("div",{class:"col-4"},[t("div",{class:"text-h4 text-center"},"Action")])],-1),ft={class:"row items-center q-mx-md"},yt=t("div",{class:"col"},[t("div",{class:"text-h6"},"Create Staking Account"),t("div",{class:"text-subtitle2 text-weight-light"}," This instruction will create a new locker instance for you ")],-1),At={class:"col-4"},qt={class:"row items-center q-mx-md"},St=t("div",{class:"col"},[t("div",{class:"text-h6"},"Stake Tokens"),t("div",{class:"text-subtitle2 text-weight-light"}," This instruction will stake additional tokens ")],-1),Tt={class:"col-4"},It={class:"row q-gutter-x-xs"},Vt={class:"row items-center q-mx-md"},Pt=t("div",{class:"col"},[t("div",{class:"col text-h6"},"Harvest"),t("div",{class:"text-subtitle2 text-weight-light"}," This instruction will claim your rewards ")],-1),Ct={class:"col-4"},Lt={class:"row items-center q-mx-md"},Qt=t("div",{class:"col"},[t("div",{class:"text-h6"},"Unstake Tokens"),t("div",{class:"text-subtitle2 text-weight-light"}," This instruction will initiate unstake of all tokens ")],-1),Ut={class:"col-4"},Dt={class:"row items-center q-mx-md"},Mt=t("div",{class:"col"},[t("div",{class:"text-h6"},"Cancel Unstake"),t("div",{class:"text-subtitle2 text-weight-light"}," This instruction will cancel unstake of all tokens ")],-1),Rt={class:"col-4"},jt={class:"row items-center q-mx-md"},Wt=t("div",{class:"col"},[t("div",{class:"text-h6"},"Withdraw Tokens"),t("div",{class:"text-subtitle2 text-weight-light"}," This instruction will withdraw of all tokens after unstake ")],-1),Kt={class:"col-4"},Bt={class:"row items-center"},Et=t("div",{class:"col-1 text-h5"},"Locker Info",-1),Nt={key:0,class:"col"},Ft={class:"col text-right text-subtitle2 text-weight-light"},Ht={class:"col text-right text-subtitle1"},Ot={key:0},zt={key:1},Gt={key:0},Jt={key:1},Yt={key:2},Xt={key:1,class:"text-subtitle2 text-center"},Zt=f({__name:"AtlasLockerView",setup(y){const _=b(0);return V(async()=>{await l().setAccounts()}),(h,a)=>(i(),w(S,{flat:""},{default:u(()=>[s(m,null,{default:u(()=>[t("div",rt,[t("div",ut,[s(j,{src:"/currencies/ATLAS.webp"})]),s(g,{class:"q-mx-sm",vertical:""}),t("div",_t,[t("div",vt,[ht,t("div",mt,[t("div",null,n(e(l)().vaultPDA),1)])]),t("div",xt,[wt,t("div",gt,[t("div",null,n(e(l)().registeredStakeAtlas),1)])]),t("div",kt,[bt,t("div",pt,[t("div",null,n(e(l)().stakingAccountAtlas),1)])])])])]),_:1}),s(m,null,{default:u(()=>[$t,s(g,{class:"q-my-sm"}),t("div",ft,[yt,t("div",At,[s(v,{class:"full-width",square:"",label:"Sign",color:"primary",onClick:a[0]||(a[0]=r=>e(l)().build_CreateStatingAccount())})])]),t("div",qt,[St,t("div",Tt,[t("div",It,[s(p,{dense:"",square:"",class:"col",standout:"",type:"number",modelValue:_.value,"onUpdate:modelValue":a[1]||(a[1]=r=>_.value=r),label:"Amount to stake"},null,8,["modelValue"]),s(v,{square:"",class:"col-3",label:"Sign",color:"primary",onClick:a[2]||(a[2]=r=>e(l)().build_StakeTokens(_.value))})])])]),t("div",Vt,[Pt,t("div",Ct,[s(v,{class:"full-width",label:"Sign",color:"primary",onClick:a[3]||(a[3]=r=>e(l)().build_harvestRewards())})])]),t("div",Lt,[Qt,t("div",Ut,[s(v,{class:"full-width",label:"Sign",color:"primary",onClick:a[4]||(a[4]=r=>e(l)().build_unstakeTokens())})])]),t("div",Dt,[Mt,t("div",Rt,[s(v,{class:"full-width",label:"Sign",color:"primary",onClick:a[5]||(a[5]=r=>e(l)().build_cancelUnstake())})])]),t("div",jt,[Wt,t("div",Kt,[s(v,{class:"full-width",label:"Sign",color:"primary",onClick:a[6]||(a[6]=r=>e(l)().build_withdrawTokens())})])])]),_:1}),s(m,null,{default:u(()=>[s(g,{class:"q-my-sm"}),t("div",Bt,[Et,s(g,{class:"q-mx-sm",vertical:""}),e(l)().stakingAccountAtlasInfo?(i(),d("div",Nt,[(i(!0),d(q,null,I(Object.keys(e(l)().stakingAccountAtlasInfo),(r,o)=>(i(),d("div",{class:"row q-pr-md items-center",key:o},[t("div",Ft,[t("div",null,n(r),1)]),t("div",Ht,[["totalStake","activeStake","paidRewards","pendingRewards"].includes(r)?(i(),d("div",Ot,n(parseInt(e(l)().stakingAccountAtlasInfo[r])*Math.pow(10,-e(M))),1)):["stakedAtTs","lastPendingRewardCalcTs","lastHarvestTs","unstakedTs"].includes(r)?(i(),d("div",zt,[parseInt(e(l)().stakingAccountAtlasInfo[r])==0?(i(),d("div",Gt," - ")):(i(),d("div",Jt,n(new Date(parseInt(e(l)().stakingAccountAtlasInfo[r])*1e3).toLocaleString()),1))])):(i(),d("div",Yt,n(e(l)().stakingAccountAtlasInfo[r]),1))])]))),128))])):(i(),d("div",Xt,"No Locker found!"))])]),_:1})]),_:1}))}}),ts=t("div",{class:"text-h1 text-red"},"!Under construction!",-1),ss={class:"row"},es={class:"col-1"},ls={class:"col"},is={class:"row q-pr-md items-center"},os=t("div",{class:"col text-right text-subtitle2 text-weight-light"},[t("div",null,"Squads Vault Account")],-1),as={class:"col text-right text-subtitle1"},cs={class:"row q-pr-md items-center"},ns=t("div",{class:"col text-right text-subtitle2 text-weight-light"},[t("div",null,"Polis Escrow Account")],-1),ds={class:"col text-right text-subtitle1"},rs={class:"row q-pr-md items-center"},us=t("div",{class:"col text-right text-subtitle2 text-weight-light"},[t("div",null,"Polis Locker Account")],-1),_s={class:"col text-right text-subtitle1"},vs={class:"row q-pr-md items-center"},hs=t("div",{class:"col text-right text-subtitle2 text-weight-light"},[t("div",null,"Polis Proxy Account")],-1),ms={class:"col text-right text-subtitle1"},xs={class:"row q-pr-md items-center"},ws=t("div",{class:"col text-right text-subtitle2 text-weight-light"},[t("div",null,"Polis Proxy Escrow Account")],-1),gs={class:"col text-right text-subtitle1"},ks=t("div",{class:"row items-center q-mx-md"},[t("div",{class:"col"},[t("div",{class:"text-h4"},"Instruction")])],-1),bs={class:"row items-center q-ma-md"},ps=t("div",{class:"col"},[t("div",{class:"col text-h6"},"1. Initialize"),t("div",{class:"text-subtitle2 text-weight-light"}," Instruction will initialize the ATA token accounts ")],-1),$s={class:"col-4"},fs={class:"row items-center q-ma-md"},ys=t("div",{class:"col"},[t("div",{class:"text-h6"},"2. Setup"),t("div",{class:"text-subtitle2 text-weight-light"}," Instruction will create a new locker instance ")],-1),As={class:"col-4"},qs={class:"row items-center q-ma-md"},Ss=t("div",{class:"col"},[t("div",{class:"text-h6"},"Stake Tokens"),t("div",{class:"text-subtitle2 text-weight-light"}," This instruction will stake additional tokens ")],-1),Ts={class:"col-4"},Is={class:""},Vs={class:"row items-center q-ma-md"},Ps=t("div",{class:"col"},[t("div",{class:"col text-h6"},"Harvest"),t("div",{class:"text-subtitle2 text-weight-light"}," This instruction will claim your rewards ")],-1),Cs={class:"col-4"},Ls={class:"row items-center q-ma-md"},Qs=t("div",{class:"col"},[t("div",{class:"text-h6"},"Unstake Tokens"),t("div",{class:"text-subtitle2 text-weight-light"}," This instruction will initiate unstake of all tokens ")],-1),Us={class:"col-4"},Ds={class:"row items-center q-ma-md"},Ms=t("div",{class:"col"},[t("div",{class:"text-h6"},"Cancel Unstake?"),t("div",{class:"text-subtitle2 text-weight-light"}," This instruction will cancel unstake of all tokens ")],-1),Rs={class:"col-4"},js={class:"row items-center q-ma-md"},Ws=t("div",{class:"col"},[t("div",{class:"text-h6"},"Withdraw Tokens"),t("div",{class:"text-subtitle2 text-weight-light"}," This instruction will withdraw of all tokens after unstake ")],-1),Ks={class:"col-4"},Bs={class:"row items-center"},Es=t("div",{class:"col-1 text-h5"},"Locker Info",-1),Ns={key:0,class:"col"},Fs={class:"col text-right text-subtitle2 text-weight-light"},Hs={class:"col text-right text-subtitle1"},Os={key:0},zs={key:1},Gs={key:0},Js={key:1},Ys={key:2},Xs={key:1,class:"text-subtitle2 text-center"},Zs=f({__name:"PolisLockerView",setup(y){new E("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");const _=b(1),h=b([{label:"1 Day",value:1*24*60*60},{label:"1 Week",value:1*7*24*60*60},{label:"2 Weeks",value:2*7*24*60*60},{label:"1 months",value:1/12*365*24*60*60},{label:"3 months",value:.25*365*24*60*60},{label:"6 months",value:.5*365*24*60*60},{label:"9 months",value:.75*365*24*60*60},{label:"1 years",value:1*365*24*60*60},{label:"2 years",value:2*365*24*60*60},{label:"3 years",value:3*365*24*60*60},{label:"4 years",value:4*365*24*60*60},{label:"5 years",value:5*365*24*60*60}]),a=b(h.value[0]);return V(async()=>{$().publicKey.value&&await x().init()}),R(()=>$().publicKey.value,async()=>{await x().init()}),(r,o)=>(i(),d(q,null,[ts,s(S,{flat:""},{default:u(()=>[s(m,null,{default:u(()=>{var c,k,P,C;return[t("div",ss,[t("div",es,[s(j,{src:"/currencies/POLIS.webp"})]),s(g,{class:"q-mx-sm",vertical:""}),t("div",ls,[t("div",is,[os,t("div",as,[t("div",null,n(e(x)().vaultPDA),1)])]),t("div",cs,[ns,t("div",ds,[t("div",null,n((c=e(x)().lockerFactory)==null?void 0:c.escrow),1)])]),t("div",rs,[us,t("div",_s,[t("div",null,n((k=e(x)().lockerFactory)==null?void 0:k.locker),1)])]),t("div",vs,[hs,t("div",ms,[t("div",null,n((P=e(x)().lockerFactory)==null?void 0:P.proxy),1)])]),t("div",xs,[ws,t("div",gs,[t("div",null,n((C=e(x)().lockerFactory)==null?void 0:C.proxyEscrow),1)])])])])]}),_:1}),s(m,null,{default:u(()=>[ks,s(g,{class:"q-my-sm"}),t("div",bs,[ps,t("div",$s,[s(v,{class:"full-width",label:"Sign",color:"primary",onClick:o[0]||(o[0]=c=>e(x)().make_createATAs())})])]),t("div",fs,[ys,t("div",As,[s(H,{filled:"",modelValue:a.value,"onUpdate:modelValue":o[1]||(o[1]=c=>a.value=c),options:h.value,label:"Standard"},null,8,["modelValue","options"]),s(p,{dense:"",square:"",class:"col",standout:"",type:"number",modelValue:_.value,"onUpdate:modelValue":o[2]||(o[2]=c=>_.value=c),label:"Amount to stake"},null,8,["modelValue"]),s(v,{class:"full-width",square:"",label:"Sign",color:"primary",onClick:o[3]||(o[3]=c=>{var k;return e(x)().make_createLocker(((k=a.value)==null?void 0:k.value)??0,_.value*Math.pow(10,8))})})])]),t("div",qs,[Ss,t("div",Ts,[t("div",Is,[s(p,{dense:"",square:"",class:"col",standout:"",type:"number",modelValue:_.value,"onUpdate:modelValue":o[4]||(o[4]=c=>_.value=c),label:"Amount to stake"},null,8,["modelValue"]),s(v,{class:"full-width",square:"",label:"Sign",color:"primary",onClick:o[5]||(o[5]=c=>e(l)().build_StakeTokens(_.value))})])])]),t("div",Vs,[Ps,t("div",Cs,[s(v,{class:"full-width",label:"Sign",color:"primary",onClick:o[6]||(o[6]=c=>e(l)().build_harvestRewards())})])]),t("div",Ls,[Qs,t("div",Us,[s(v,{class:"full-width",label:"Sign",color:"primary",onClick:o[7]||(o[7]=c=>e(l)().build_unstakeTokens())})])]),t("div",Ds,[Ms,t("div",Rs,[s(v,{class:"full-width",label:"Sign",color:"primary",onClick:o[8]||(o[8]=c=>e(l)().build_cancelUnstake())})])]),t("div",js,[Ws,t("div",Ks,[s(v,{class:"full-width",label:"Sign",color:"primary",onClick:o[9]||(o[9]=c=>e(l)().build_withdrawTokens())})])])]),_:1}),s(m,null,{default:u(()=>[s(g,{class:"q-my-sm"}),t("div",Bs,[Es,s(g,{class:"q-mx-sm",vertical:""}),e(l)().stakingAccountAtlasInfo?(i(),d("div",Ns,[(i(!0),d(q,null,I(Object.keys(e(l)().stakingAccountAtlasInfo),(c,k)=>(i(),d("div",{class:"row q-pr-md items-center",key:k},[t("div",Fs,[t("div",null,n(c),1)]),t("div",Hs,[["totalStake","activeStake","paidRewards","pendingRewards"].includes(c)?(i(),d("div",Os,n(parseInt(e(l)().stakingAccountAtlasInfo[c])*Math.pow(10,-e(M))),1)):["stakedAtTs","lastPendingRewardCalcTs","lastHarvestTs","unstakedTs"].includes(c)?(i(),d("div",zs,[parseInt(e(l)().stakingAccountAtlasInfo[c])==0?(i(),d("div",Gs," - ")):(i(),d("div",Js,n(new Date(parseInt(e(l)().stakingAccountAtlasInfo[c])*1e3).toLocaleString()),1))])):(i(),d("div",Ys,n(e(l)().stakingAccountAtlasInfo[c]),1))])]))),128))])):(i(),d("div",Xs,"No Locker found!"))])]),_:1})]),_:1})],64))}}),te={class:"row"},se=t("div",{class:"col-3"},"Wallet",-1),ee={class:"col"},le={class:"row q-gutter-x-xs no-wrap justify-end"},ie=t("div",null,"Atlas",-1),oe={class:"col"},ae={class:"row q-gutter-x-xs no-wrap justify-end"},ce=t("div",null,"Polis",-1),ne={class:"row"},de=t("div",{class:"col-3"},"Squads",-1),re={class:"col"},ue={class:"row q-gutter-x-xs no-wrap justify-end"},_e=t("div",null,"Atlas",-1),ve={class:"col"},he={class:"row q-gutter-x-xs no-wrap justify-end"},me=t("div",null,"Polis",-1),xe={class:"row"},we=t("div",{class:"col-3"},"Locker",-1),ge={class:"col"},ke={class:"row q-gutter-x-xs no-wrap justify-end"},be=t("div",null,"Atlas",-1),pe={class:"col"},$e={class:"row q-gutter-x-xs no-wrap justify-end"},fe=t("div",null,"Polis",-1),ye=f({__name:"TokenLockerBalances",setup(y){return V(async()=>{$().publicKey.value&&await l().setAccounts()}),R(()=>$().publicKey.value,async()=>{await l().setAccounts()}),(_,h)=>(i(),w(S,{class:""},{default:u(()=>[s(m,null,{default:u(()=>[t("div",te,[se,t("div",ee,[t("div",le,[t("div",null,n(e(l)().atlas_balance_wallet),1),ie])]),t("div",oe,[t("div",ae,[t("div",null,n(e(l)().polis_balance_wallet),1),ce])])]),t("div",ne,[de,t("div",re,[t("div",ue,[t("div",null,n(e(l)().atlas_balance_squads),1),_e])]),t("div",ve,[t("div",he,[t("div",null,n(e(l)().polis_balance_squads),1),me])])]),t("div",xe,[we,t("div",ge,[t("div",ke,[t("div",null,n(e(l)().atlas_balance_locker),1),be])]),t("div",pe,[t("div",$e,[t("div",null,n(e(l)().polis_balance_locker),1),fe])])])]),_:1})]),_:1}))}}),Ae={key:0,class:"col absolute-center"},qe={key:1},Se=t("div",{class:"col"},null,-1),Me=f({__name:"StarAtlasLocker",setup(y){const _=b("setup");return(h,a)=>(i(),w(K,{class:"bg-black"},{default:u(()=>{var r,o;return[(o=(r=e($)().publicKey)==null?void 0:r.value)!=null&&o.toString()?(i(),d("div",qe,[s(W,{modelValue:_.value,"onUpdate:modelValue":a[0]||(a[0]=c=>_.value=c),align:"left",class:""},{default:u(()=>[s(T,{name:"setup",label:"Setup"}),s(T,{name:"atlas",label:"Atlas"}),s(T,{name:"polis",label:"Polis"}),Se,s(ye,{class:"q-pr-md col"})]),_:1},8,["modelValue"]),_.value=="setup"?(i(),w(dt,{key:0})):A("",!0),_.value=="atlas"?(i(),w(Zt,{key:1})):A("",!0),_.value=="polis"?(i(),w(Zs,{key:2})):A("",!0)])):(i(),d("div",Ae,[s(e(N),{dark:""})]))]}),_:1}))}});export{Me as default};
