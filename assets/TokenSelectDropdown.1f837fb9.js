import{cZ as V,c_ as g,dv as v,db as N,d1 as h,au as C,J as p,bs as y,cR as S,cP as R,b1 as _,ak as x,al as f,a1 as k,as as n,bx as o,a6 as I,b7 as W,ai as T,dn as D,V as A,P as E,ar as Q,$ as F,aP as K,aj as q}from"./index.76cbbf6e.js";import{Q as M,a as U}from"./QTabs.e49984cd.js";import{Q as $}from"./QImg.1bf8be45.js";import{i as O,j as P,Q as j}from"./QMenu.35a6596a.js";import{Q as G}from"./QSelect.e5ffe35b.js";function le(l,r,i,a,u=g,s=v){return w(l,r,i,a,V.Buffer.alloc(0),u,s)}function ne(l,r,i,a,u=g,s=v){return w(l,r,i,a,V.Buffer.from([1]),u,s)}function w(l,r,i,a,u,s=g,m=v){const d=[{pubkey:l,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:N.programId,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}];return new h({keys:d,programId:m,data:u})}const J={class:"row items-center"},Z={class:"col text-h6"},z={class:"row items-center"},H=f("div",{class:"col text-right q-mr-md text-subtitle2"},"Filter:",-1),X={class:"row q-gutter-x-md items-center"},oe=C({__name:"TokenSelectDropdown",props:["label","textboxLabel"],emits:["token_account_selected"],setup(l,{emit:r}){const i=r,a=p(),u=p(["list","address"]),s=p("list"),m=p(d());y(()=>a.value,()=>{console.log(a.value),i("token_account_selected",a.value)}),y(()=>s.value,()=>m.value=d());function d(){var b;return s.value=="list"?S().tokenList.map(t=>({name:t.name,symbol:t.symbol,mint:t.address})):(b=R().getAccountsBalanceNotZero)==null?void 0:b.map(t=>{var e,c;return{name:(e=t.info)==null?void 0:e.name,symbol:(c=t.info)==null?void 0:c.symbol,mint:t.mint}})}function B(b,t,e){t(()=>{const c=b.toLowerCase();m.value=d().filter(L=>JSON.stringify(L).toLowerCase().indexOf(c)>-1)})}return(b,t)=>(_(),x(I,null,[f("div",J,[f("div",Z,k(l.label),1),f("div",z,[H,n(M,{dense:"",modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),class:"text-teal"},{default:o(()=>[(_(!0),x(I,null,W(u.value,e=>(_(),T(U,{name:e,label:e,key:e},null,8,["name","label"]))),128))]),_:1},8,["modelValue"])])]),f("div",X,[n(G,{filled:"",square:"",class:"col","use-input":"","hide-selected":"","fill-input":"",onFilter:B,options:m.value,"option-label":e=>e.name?`[${e.symbol}] ${e.name}`:e.mint,modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),label:l.textboxLabel},{option:o(e=>[e.opt.group?q("",!0):(_(),T(j,F(K({key:0},e.itemProps)),{default:o(()=>[n(O,{avatar:""},{default:o(()=>[n(D,null,{default:o(()=>{var c;return[n($,{src:(c=A(S)().getTokenByMintPublicKey(new A(E)(e.opt.mint)))==null?void 0:c.logoURI},null,8,["src"])]}),_:2},1024)]),_:2},1024),n(O,null,{default:o(()=>[n(P,null,{default:o(()=>[Q("["+k(e.opt.symbol)+"] "+k(e.opt.name),1)]),_:2},1024),n(P,{caption:""},{default:o(()=>[Q(k(e.opt.mint),1)]),_:2},1024)]),_:2},1024)]),_:2},1040))]),_:1},8,["options","option-label","modelValue","label"])])],64))}});export{oe as _,ne as a,le as c};
