import{cU as W,cp as Ae,cV as L,au as F,J as S,b1 as K,ak as T,as as s,bx as h,ar as V,cm as Q,de as p,df as je,dg as $e,dh as M,bZ as ue,ah as q,aF as k,b_ as Qe,di as Ve,bs as J,aX as H,co as X,aC as Pe,dj as Re,ca as Ue,a6 as ce,b7 as de,bz as Y,ai as O,a1 as fe,P as se,aU as Ge,aQ as Je,cO as Xe,ct as Ye,cd as Ke,bT as Ze,cv as pe,aj as et,al as tt}from"./index.cf301924.js";import{Q as ve,a as at}from"./QInput.b0c076f2.js";import{Q as Te}from"./QSeparator.d2cc2b28.js";import{Q as lt,a as N}from"./QTabs.357927f9.js";import{Q as nt,a as z}from"./QTabPanels.3b2622cf.js";import{m as rt,u as it,a as ot,Q as st}from"./use-key-composition.10000431.js";import{Q as ut}from"./QPage.9c9521fc.js";import{m as ct,x as dt,j as me,k as he,Q as be}from"./rtl.e52b5641.js";import{Q as ye}from"./QList.e243a32e.js";import{C as ge}from"./ClosePopup.7d3a010e.js";import{Q as ft}from"./QCheckbox.f01a2b32.js";import{Q as vt}from"./QSlideTransition.813e1dc5.js";import"./QResizeObserver.7f1663f0.js";import"./touch.3df10340.js";import"./use-checkbox.cff3b875.js";async function Z(e){const r=W.create({group:!1,timeout:10,spinner:!0,message:"Confirming tx..."}),i=await Ae().connection.getLatestBlockhash();return await Ae().connection.confirmTransaction({signature:e,blockhash:i.blockhash,lastValidBlockHeight:i.lastValidBlockHeight},"confirmed"),r({icon:"done",spinner:!1,color:"green",badgePosition:"bottom-right",message:"Signature confirmed!",timeout:2500}),!0}function ee(){L().publicKey.value||W.create({color:"yellow",message:"Wallet not connected!",timeout:5e3})}const mt={class:"row"},ht=F({__name:"CreateWhitelist",setup(e){const r=S("");async function i(){ee();const{pg_whitelist:d}=M();let[o,b]=p.findProgramAddressSync([L().publicKey.value.toBytes(),je(r.value)],d.value.programId);try{const y=await d.value.methods.initialize(r.value).accounts({whitelist:o,systemProgram:$e.programId}).rpc();console.log(y),await Z(y)}catch(y){W.create({color:"red",message:`${y}`,timeout:5e3})}}return(d,o)=>(K(),T("div",mt,[s(ve,{label:"New whitelist name",filled:"",class:"col",modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=b=>r.value=b)},null,8,["modelValue"]),s(Q,{disable:r.value.length==0,square:"",color:"primary",onClick:o[1]||(o[1]=b=>i())},{default:h(()=>[V("Create")]),_:1},8,["disable"])]))}});var bt=ue({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:r}){const i=q(()=>{const d=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(o=>e[o]===!0).map(o=>`q-btn-group--${o}`).join(" ");return`q-btn-group row no-wrap${d.length!==0?" "+d:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>k("div",{class:i.value},Qe(r.default))}});const yt=Object.keys(Ve),gt=e=>yt.reduce((r,i)=>{const d=e[i];return d!==void 0&&(r[i]=d),r},{});var _e=ue({name:"QBtnDropdown",props:{...Ve,...ct,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:r,emit:i}){const{proxy:d}=Pe(),o=S(e.modelValue),b=S(null),y=rt(),f=q(()=>{const m={"aria-expanded":o.value===!0?"true":"false","aria-haspopup":"true","aria-controls":y,"aria-label":e.toggleAriaLabel||d.$q.lang.label[o.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(m["aria-disabled"]="true"),m}),_=q(()=>"q-btn-dropdown__arrow"+(o.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),u=q(()=>Re(e)),B=q(()=>gt(e));J(()=>e.modelValue,m=>{b.value!==null&&b.value[m?"show":"hide"]()}),J(()=>e.split,I);function j(m){o.value=!0,i("beforeShow",m)}function te(m){i("show",m),i("update:modelValue",!0)}function R(m){o.value=!1,i("beforeHide",m)}function P(m){i("hide",m),i("update:modelValue",!1)}function ae(m){i("click",m)}function le(m){Ue(m),I(),i("click",m)}function A(m){b.value!==null&&b.value.toggle(m)}function $(m){b.value!==null&&b.value.show(m)}function I(m){b.value!==null&&b.value.hide(m)}return Object.assign(d,{show:$,hide:I,toggle:A}),H(()=>{e.modelValue===!0&&$()}),()=>{const m=[k(X,{class:_.value,name:e.dropdownIcon||d.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&m.push(k(dt,{ref:b,id:y,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:j,onShow:te,onBeforeHide:R,onHide:P},r.default)),e.split===!1?k(Q,{class:"q-btn-dropdown q-btn-dropdown--simple",...B.value,...f.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:ae},{default:()=>Qe(r.label,[]).concat(m),loading:r.loading}):k(bt,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...u.value,glossy:e.glossy,stretch:e.stretch},()=>[k(Q,{class:"q-btn-dropdown--current",...B.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:le},{default:r.label,loading:r.loading}),k(Q,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...f.value,...u.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>m)])}}});const _t={class:"row"},kt=F({__name:"AddAddressToWhitelist",setup(e){const{pg_whitelist:r}=M(),i=S(""),d=S(),o=S();H(async()=>{d.value=await r.value.account.whitelist.all()});async function b(){ee();const y=new se(o.value.publicKey.toString()),[f,_]=p.findProgramAddressSync([new se(i.value).toBytes(),y.toBytes()],r.value.programId);try{const u=new se(i.value),B=await r.value.methods.addToWhitelist(u).accounts({entry:f,whitelist:y,authority:L().publicKey.value,systemProgram:$e.programId}).rpc();console.log(B),await Z(B)}catch(u){W.create({color:"red",message:`${u}`,timeout:5e3})}}return(y,f)=>{var _;return K(),T("div",_t,[s(_e,{color:"primary",square:"",label:((_=o.value)==null?void 0:_.account.name)??"please select a whitelist"},{default:h(()=>[s(ye,null,{default:h(()=>[(K(!0),T(ce,null,de(d.value,u=>Y((K(),O(be,{clickable:"",key:u,onClick:B=>o.value=u},{default:h(()=>[s(me,null,{default:h(()=>[s(he,null,{default:h(()=>[V(fe(u==null?void 0:u.account.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[ge]])),128))]),_:1})]),_:1},8,["label"]),s(ve,{class:"col",filled:"",modelValue:i.value,"onUpdate:modelValue":f[0]||(f[0]=u=>i.value=u),label:"Address to be added"},null,8,["modelValue"]),s(Q,{disable:i.value.length==0,square:"",color:"primary",onClick:f[1]||(f[1]=u=>b())},{default:h(()=>[V("Add")]),_:1},8,["disable"])])}}}),wt=["none","strict","leaf","leaf-filtered"];var xt=ue({name:"QTree",props:{...it,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>wt.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:r,emit:i}){const{proxy:d}=Pe(),{$q:o}=d,b=ot(e,o),y=S({}),f=S(e.ticked||[]),_=S(e.expanded||[]);let u={};Ge(()=>{u={}});const B=q(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(b.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),j=q(()=>e.selected!==void 0),te=q(()=>e.icon||o.iconSet.tree.icon),R=q(()=>e.controlColor||e.color),P=q(()=>e.textColor!==void 0?` text-${e.textColor}`:""),ae=q(()=>{const a=e.selectedColor||e.color;return a?` text-${a}`:""}),le=q(()=>e.filterMethod!==void 0?e.filterMethod:(a,l)=>{const t=l.toLowerCase();return a[e.labelKey]&&a[e.labelKey].toLowerCase().indexOf(t)>-1}),A=q(()=>{const a={},l=(t,c)=>{const n=t.tickStrategy||(c?c.tickStrategy:e.tickStrategy),g=t[e.nodeKey],w=t[e.childrenKey]&&Array.isArray(t[e.childrenKey])&&t[e.childrenKey].length!==0,D=t.disabled!==!0&&j.value===!0&&t.selectable!==!1,C=t.disabled!==!0&&t.expandable!==!1,He=n!=="none",G=n==="strict",qe=n==="leaf-filtered",ie=n==="leaf"||n==="leaf-filtered";let oe=t.disabled!==!0&&t.tickable!==!1;ie===!0&&oe===!0&&c&&c.tickable!==!0&&(oe=!1);let E=t.lazy;E===!0&&y.value[g]!==void 0&&Array.isArray(t[e.childrenKey])===!0&&(E=y.value[g]);const v={key:g,parent:c,isParent:w,lazy:E,disabled:t.disabled,link:t.disabled!==!0&&(D===!0||C===!0&&(w===!0||E===!0)),children:[],matchesFilter:e.filter?le.value(t,e.filter):!0,selected:g===e.selected&&D===!0,selectable:D,expanded:w===!0?_.value.includes(g):!1,expandable:C,noTick:t.noTick===!0||G!==!0&&E&&E!=="loaded",tickable:oe,tickStrategy:n,hasTicking:He,strictTicking:G,leafFilteredTicking:qe,leafTicking:ie,ticked:G===!0?f.value.includes(g):w===!0?!1:f.value.includes(g)};if(a[g]=v,w===!0&&(v.children=t[e.childrenKey].map(x=>l(x,v)),e.filter&&(v.matchesFilter!==!0?v.matchesFilter=v.children.some(x=>x.matchesFilter):v.noTick!==!0&&v.disabled!==!0&&v.tickable===!0&&qe===!0&&v.children.every(x=>x.matchesFilter!==!0||x.noTick===!0||x.tickable!==!0)===!0&&(v.tickable=!1)),v.matchesFilter===!0&&(v.noTick!==!0&&G!==!0&&v.children.every(x=>x.noTick)===!0&&(v.noTick=!0),ie))){if(v.ticked=!1,v.indeterminate=v.children.some(x=>x.indeterminate===!0),v.tickable=v.tickable===!0&&v.children.some(x=>x.tickable),v.indeterminate!==!0){const x=v.children.reduce((Be,Oe)=>Oe.ticked===!0?Be+1:Be,0);x===v.children.length?v.ticked=!0:x>0&&(v.indeterminate=!0)}v.indeterminate===!0&&(v.indeterminateNextState=v.children.every(x=>x.tickable!==!0||x.ticked!==!0))}return v};return e.nodes.forEach(t=>l(t,null)),a});J(()=>e.ticked,a=>{f.value=a}),J(()=>e.expanded,a=>{_.value=a});function $(a){const l=[].reduce,t=(c,n)=>{if(c||!n)return c;if(Array.isArray(n)===!0)return l.call(Object(n),t,c);if(n[e.nodeKey]===a)return n;if(n[e.childrenKey])return t(null,n[e.childrenKey])};return t(null,e.nodes)}function I(){return f.value.map(a=>$(a))}function m(){return _.value.map(a=>$(a))}function De(a){return a&&A.value[a]?A.value[a].expanded:!1}function Ee(){e.expanded!==void 0?i("update:expanded",[]):_.value=[]}function ke(){const a=[],l=t=>{t[e.childrenKey]&&t[e.childrenKey].length!==0&&t.expandable!==!1&&t.disabled!==!0&&(a.push(t[e.nodeKey]),t[e.childrenKey].forEach(l))};e.nodes.forEach(l),e.expanded!==void 0?i("update:expanded",a):_.value=a}function ne(a,l,t=$(a),c=A.value[a]){if(c.lazy&&c.lazy!=="loaded"){if(c.lazy==="loading")return;y.value[a]="loading",Array.isArray(t[e.childrenKey])!==!0&&(t[e.childrenKey]=[]),i("lazyLoad",{node:t,key:a,done:n=>{y.value[a]="loaded",t[e.childrenKey]=Array.isArray(n)===!0?n:[],Je(()=>{const g=A.value[a];g&&g.isParent===!0&&we(a,!0)})},fail:()=>{delete y.value[a],t[e.childrenKey].length===0&&delete t[e.childrenKey]}})}else c.isParent===!0&&c.expandable===!0&&we(a,l)}function we(a,l){let t=_.value;const c=e.expanded!==void 0;if(c===!0&&(t=t.slice()),l){if(e.accordion&&A.value[a]){const n=[];A.value[a].parent?A.value[a].parent.children.forEach(g=>{g.key!==a&&g.expandable===!0&&n.push(g.key)}):e.nodes.forEach(g=>{const w=g[e.nodeKey];w!==a&&n.push(w)}),n.length!==0&&(t=t.filter(g=>n.includes(g)===!1))}t=t.concat([a]).filter((n,g,w)=>w.indexOf(n)===g)}else t=t.filter(n=>n!==a);c===!0?i("update:expanded",t):_.value=t}function We(a){return a&&A.value[a]?A.value[a].ticked:!1}function U(a,l){let t=f.value;const c=e.ticked!==void 0;c===!0&&(t=t.slice()),l?t=t.concat(a).filter((n,g,w)=>w.indexOf(n)===g):t=t.filter(n=>a.includes(n)===!1),c===!0&&i("update:ticked",t)}function Fe(a,l,t){const c={tree:d,node:a,key:t,color:e.color,dark:b.value};return pe(c,"expanded",()=>l.expanded,n=>{n!==l.expanded&&ne(t,n)}),pe(c,"ticked",()=>l.ticked,n=>{n!==l.ticked&&U([t],n)}),c}function xe(a){return(e.filter?a.filter(l=>A.value[l[e.nodeKey]].matchesFilter):a).map(l=>Le(l))}function Ie(a){if(a.icon!==void 0)return k(X,{class:"q-tree__icon q-mr-sm",name:a.icon,color:a.iconColor});const l=a.img||a.avatar;if(l)return k("img",{class:`q-tree__${a.img?"img":"avatar"} q-mr-sm`,src:l})}function Ne(){i("afterShow")}function ze(){i("afterHide")}function Le(a){const l=a[e.nodeKey],t=A.value[l],c=a.header&&r[`header-${a.header}`]||r["default-header"],n=t.isParent===!0?xe(a[e.childrenKey]):[],g=n.length!==0||t.lazy&&t.lazy!=="loaded";let w=a.body&&r[`body-${a.body}`]||r["default-body"];const D=c!==void 0||w!==void 0?Fe(a,t,l):null;return w!==void 0&&(w=k("div",{class:"q-tree__node-body relative-position"},[k("div",{class:P.value},[w(D)])])),k("div",{key:l,class:`q-tree__node relative-position q-tree__node--${g===!0?"parent":"child"}`},[k("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(t.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(t.selected===!0?" q-tree__node--selected":"")+(t.disabled===!0?" q-tree__node--disabled":""),tabindex:t.link===!0?0:-1,ariaExpanded:n.length>0?t.expanded:null,role:"treeitem",onClick:C=>{Ce(a,t,C)},onKeypress(C){Xe(C)!==!0&&(C.keyCode===13?Ce(a,t,C,!0):C.keyCode===32&&re(a,t,C,!0))}},[k("div",{class:"q-focus-helper",tabindex:-1,ref:C=>{u[t.key]=C}}),t.lazy==="loading"?k(Ye,{class:"q-tree__spinner",color:R.value}):g===!0?k(X,{class:"q-tree__arrow"+(t.expanded===!0?" q-tree__arrow--rotate":""),name:te.value,onClick(C){re(a,t,C)}}):null,t.hasTicking===!0&&t.noTick!==!0?k(ft,{class:"q-tree__tickbox",modelValue:t.indeterminate===!0?null:t.ticked,color:R.value,dark:b.value,dense:!0,keepColor:!0,disable:t.tickable!==!0,onKeydown:Ke,"onUpdate:modelValue":C=>{Me(t,C)}}):null,k("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(t.selected===!0?ae.value:P.value)},[c?c(D):[Ie(a),k("div",a[e.labelKey])]])]),g===!0?e.noTransition===!0?t.expanded===!0?k("div",{class:"q-tree__node-collapsible"+P.value,key:`${l}__q`},[w,k("div",{class:"q-tree__children"+(t.disabled===!0?" q-tree__node--disabled":""),role:"group"},n)]):null:k(vt,{duration:e.duration,onShow:Ne,onHide:ze},()=>Y(k("div",{class:"q-tree__node-collapsible"+P.value,key:`${l}__q`},[w,k("div",{class:"q-tree__children"+(t.disabled===!0?" q-tree__node--disabled":""),role:"group"},n)]),[[Ze,t.expanded]])):w])}function Se(a){const l=u[a];l&&l.focus()}function Ce(a,l,t,c){c!==!0&&l.selectable!==!1&&Se(l.key),j.value&&l.selectable?e.noSelectionUnset===!1?i("update:selected",l.key!==e.selected?l.key:null):l.key!==e.selected&&i("update:selected",l.key===void 0?null:l.key):re(a,l,t,c),typeof a.handler=="function"&&a.handler(a)}function re(a,l,t,c){t!==void 0&&Ke(t),c!==!0&&l.selectable!==!1&&Se(l.key),ne(l.key,!l.expanded,a,l)}function Me(a,l){if(a.indeterminate===!0&&(l=a.indeterminateNextState),a.strictTicking)U([a.key],l);else if(a.leafTicking){const t=[],c=n=>{n.isParent?(l!==!0&&n.noTick!==!0&&n.tickable===!0&&t.push(n.key),n.leafTicking===!0&&n.children.forEach(c)):n.noTick!==!0&&n.tickable===!0&&(n.leafFilteredTicking!==!0||n.matchesFilter===!0)&&t.push(n.key)};c(a),U(t,l)}}return e.defaultExpandAll===!0&&ke(),Object.assign(d,{getNodeByKey:$,getTickedNodes:I,getExpandedNodes:m,isExpanded:De,collapseAll:Ee,expandAll:ke,setExpanded:ne,isTicked:We,setTicked:U}),()=>{const a=xe(e.nodes);return k("div",{class:B.value,role:"tree"},a.length===0?e.filter?e.noResultsLabel||o.lang.tree.noResults:e.noNodesLabel||o.lang.tree.noNodes:a)}}});const St={class:"row q-gutter-x-md"},Ct=F({__name:"ViewWhitelist",setup(e){const r=S(),i=S();H(async()=>{const{pg_whitelist:o}=M();r.value=await o.value.account.whitelist.all(),i.value=await o.value.account.whitelistEntry.all()});const d=q(()=>{var o;return(o=r==null?void 0:r.value)==null?void 0:o.map(b=>{var y,f;return{label:`${b.account.name} | ${b.publicKey.toString()}`,children:(f=(y=i.value)==null?void 0:y.filter(_=>_.account.parent.toString()===b.publicKey.toString()))==null?void 0:f.flatMap(_=>({label:`Member: ${_.account.whitelisted.toString()}  |  Account: ${_.publicKey.toString()} `}))}})});return(o,b)=>(K(),T("div",St,[d.value?(K(),O(xt,{key:0,nodes:d.value,"node-key":"label","selected-color":"primary","default-expand-all":""},null,8,["nodes"])):et("",!0)]))}}),qt={class:"row"},Bt=F({__name:"RemoveAddressFromWhitelist",setup(e){const{pg_whitelist:r}=M(),i=S(""),d=S(),o=S();H(async()=>{d.value=await r.value.account.whitelist.all()});async function b(){ee();const y=new p(o.value.publicKey),[f,_]=p.findProgramAddressSync([new p(i.value).toBytes(),y.toBytes()],r.value.programId);try{console.log(r.value.methods);const u=new p(i.value),B=await r.value.methods.removeFromWhitelist(u).accounts({entry:f,whitelist:y,authority:L().publicKey.value}).rpc();console.log(B),await Z(B)}catch(u){W.create({color:"red",message:`${u}`,timeout:5e3})}}return(y,f)=>{var _;return K(),T("div",qt,[s(_e,{color:"primary",square:"",label:((_=o.value)==null?void 0:_.account.name)??"please select a whitelist"},{default:h(()=>[s(ye,null,{default:h(()=>[(K(!0),T(ce,null,de(d.value,u=>Y((K(),O(be,{clickable:"",key:u,onClick:B=>o.value=u},{default:h(()=>[s(me,null,{default:h(()=>[s(he,null,{default:h(()=>[V(fe(u==null?void 0:u.account.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[ge]])),128))]),_:1})]),_:1},8,["label"]),s(ve,{class:"col",filled:"",modelValue:i.value,"onUpdate:modelValue":f[0]||(f[0]=u=>i.value=u),label:"Address to be removed"},null,8,["modelValue"]),s(Q,{disable:i.value.length==0,square:"",color:"primary",onClick:f[1]||(f[1]=u=>b())},{default:h(()=>[V("Remove")]),_:1},8,["disable"])])}}}),At={class:"row"},Kt=F({__name:"DeleteWhitelist",setup(e){const{pg_whitelist:r}=M(),i=S("3x5vrFFTspsicxrYHMA8SNVW71RMhVkALemXrJFfeQo1"),d=S(),o=S();H(async()=>{d.value=await r.value.account.whitelist.all()});async function b(){ee();const y=new p(o.value.publicKey);p.findProgramAddressSync([new p(i.value).toBytes(),y.toBytes()],r.value.programId);try{const f=await r.value.methods.deleteWhitelist(o.value.account.name).accounts({whitelist:y,authority:L().publicKey.value}).rpc();console.log(f),await Z(f)}catch(f){W.create({color:"red",message:`${f}`,timeout:5e3})}}return(y,f)=>{var _;return K(),T("div",At,[s(_e,{square:"",color:"primary",label:((_=o.value)==null?void 0:_.account.name)??"please select a whitelist"},{default:h(()=>[s(ye,null,{default:h(()=>[(K(!0),T(ce,null,de(d.value,u=>Y((K(),O(be,{clickable:"",key:u,onClick:B=>o.value=u},{default:h(()=>[s(me,null,{default:h(()=>[s(he,null,{default:h(()=>[V(fe(u==null?void 0:u.account.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[ge]])),128))]),_:1})]),_:1},8,["label"]),s(Q,{square:"",color:"primary",onClick:f[0]||(f[0]=u=>b())},{default:h(()=>[V("Delete")]),_:1})])}}}),pt=tt("div",{class:"col text-h6"},"Whitelists Manager",-1),Ot=F({__name:"WhitelistPage",setup(e){const r=S("view");return(i,d)=>(K(),O(ut,{class:"bg-black"},{default:h(()=>[s(st,{flat:""},{default:h(()=>[s(at,{class:"row items-center q-gutter-x-md"},{default:h(()=>[s(X,{name:"contrast",size:"md"}),pt]),_:1}),s(Te),s(lt,{"no-caps":"","outside-arrows":"","mobile-arrows":"",modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=o=>r.value=o),class:"shadow-2 bg-dark",align:"justify"},{default:h(()=>[s(N,{name:"create",label:"Create Whitelist"}),s(N,{name:"add",label:"Add Address to Whitelist"}),s(N,{name:"remove",label:"Remove address from Whitelist"}),s(N,{name:"delete",label:"Delete Whitelist"}),s(N,{name:"view",label:"View "})]),_:1},8,["modelValue"]),s(Te),s(nt,{dark:"",modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=o=>r.value=o),animated:""},{default:h(()=>[s(z,{name:"create"},{default:h(()=>[s(ht)]),_:1}),s(z,{name:"add"},{default:h(()=>[s(kt)]),_:1}),s(z,{name:"remove"},{default:h(()=>[s(Bt)]),_:1}),s(z,{name:"delete"},{default:h(()=>[s(Kt)]),_:1}),s(z,{name:"view"},{default:h(()=>[s(Ct)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}))}});export{Ot as default};
