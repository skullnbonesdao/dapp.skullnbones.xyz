import{dm as m}from"./index.60df0871.js";function c(r){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(r)}function y(r,e){if(c(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e||"default");if(c(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function g(r){var e=y(r,"string");return c(e)==="symbol"?e:String(e)}function P(r,e,t){return e=g(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function o(r,e,t){return e=f(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function b(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function f(r){var e=b(r,"string");return typeof e=="symbol"?e:String(e)}class E extends Error{constructor(e,t,s,i){super(e),o(this,"name","MetaplexError"),this.source=t,this.sourceDetails=s,this.cause=i,this.message=this.message+`

Source: ${this.getFullSource()}`+(this.cause?`

Caused By: ${this.cause}`:"")+`
`}getCapitalizedSource(){return this.source==="sdk"||this.source==="rpc"?this.source.toUpperCase():this.source[0].toUpperCase()+this.source.slice(1)}getFullSource(){const e=this.getCapitalizedSource(),t=this.sourceDetails?` > ${this.sourceDetails}`:"";return e+t}toString(){return`[${this.name}] ${this.message}`}}class n extends E{constructor(e,t){super(e,"sdk",void 0,t),o(this,"name","SdkError")}}class w extends n{constructor(e){const t=`No operation handler was registered for the [${e}] operation. Did you forget to register it? You may do this by using: "metaplex.operations().register(operation, operationHandler)".`;super(t),o(this,"name","OperationHandlerMissingError")}}class N extends n{constructor(e){const t=`The SDK tried to access the driver [${e}] but was not provided. Make sure the driver is registered by using the "setDriver(myDriver)" method.`;super(t),o(this,"name","DriverNotProvidedError")}}class v extends n{constructor(e,t){const s=`Expected currency [${t}] but got [${e}]. Ensure the provided Amount or Currency is of the expected type.`;super(s),o(this,"name","UnexpectedCurrencyError"),this.actual=e,this.expected=t}}class S extends n{constructor(e,t,s){const a=`The SDK tried to execute an operation${s?` [${s}]`:""} on two different currencies: ${e.symbol} and ${t.symbol}. Provide both amounts in the same currency to perform this operation.`;super(a),o(this,"name","CurrencyMismatchError"),this.left=e,this.right=t,this.operation=s}}class T extends n{constructor(e){super("The provided JSON variable could not be parsed into a string.",e),o(this,"name","InvalidJsonVariableError")}}class D extends n{constructor(e){super("The provided string could not be parsed into a JSON variable.",e),o(this,"name","InvalidJsonStringError")}}class C extends n{constructor(e){const t=`Trying to access the [${e}] operation as a guest. Ensure your wallet is connected using the identity driver. For instance, by using "metaplex.use(walletAdapterIdentity(wallet))" or "metaplex.use(keypairIdentity(keypair))".`;super(t),o(this,"name","OperationUnauthorizedForGuestsError")}}class z extends n{constructor(e,t,s){const i=(t?`The account of type [${t}] was not found`:"No account was found")+` at the provided address [${e.toString()}].`+(s?` ${s}`:"");super(i),o(this,"name","AccountNotFoundError")}}class I extends n{constructor(e,t,s){const i=`The account at the provided address [${e.toString()}] is not of the expected type [${t}].`;super(i,s),o(this,"name","UnexpectedAccountError")}}class F extends n{constructor(e,t,s){const i=`Expected variable [${e}] to be of type [Signer] but got [${t}]. `+(s??"Please check that you are providing the variable as a signer. Note that, it may be allowed to provide a non-signer variable for certain use cases but not this one.");super(i),o(this,"name","ExpectedSignerError")}}class O extends n{constructor(e,t){const s=typeof e=="string",i=s?e:e.toString(),a=`The provided program ${s?"name":"address"} [${i}] is not recognized in the [${t}] cluster.Did you forget to register this program? If so, you may use "metaplex.programs().register(myProgram)" to fix this.`;super(a),o(this,"name","ProgramNotRecognizedError"),this.nameOrAddress=e,this.cluster=t}}class M extends n{constructor(e,t){const s=`The input provided to the [${e}] resulted in a Transaction containing no Instructions. `+(t??"Ensure that the provided input has an effect on the operation. This typically happens when trying to update an account with the same data it already contains.");super(s),o(this,"name","NoInstructionsToSendError")}}class U extends n{constructor(e,t){const s=`The received data could not be serialized as a [${e}].`;super(s,t),o(this,"name","FailedToSerializeDataError")}}class A extends n{constructor(e,t){const s=`The received serialized data could not be deserialized to a [${e}].`;super(s,t),o(this,"name","FailedToDeserializeDataError")}}class k extends n{constructor(e,t){const s=`Some parameters are missing from the provided input object. Please provide the following missing parameters [${e.join(", ")}].`+(t?` ${t}`:"");super(s),o(this,"name","MissingInputDataError")}}class _ extends n{constructor(){const e="This feature is not yet implemented. Please check back later.";super(e),o(this,"name","NotYetImplementedError")}}class J extends n{constructor(e){const t=`A switch statement is not handling the provided case [${e}]. Check your inputs or raise an issue to have ensure all cases are handled properly.`;super(t),o(this,"name","UnreachableCaseError")}}const u=(r,e)=>new m(r,e),B=r=>r===null?null:u(r),p={symbol:"SOL",decimals:9},d=(r,e)=>({basisPoints:u(r),currency:e}),K=r=>d(r,p),j=(r,e=0,t="Token")=>(typeof r!="number"&&(r=u(r).toNumber()),{basisPoints:u(r*Math.pow(10,e)),currency:{symbol:t,decimals:e,namespace:"spl-token"}}),l=(r,e)=>("currency"in r&&(r=r.currency),"currency"in e&&(e=e.currency),r.symbol===e.symbol&&r.decimals===e.decimals&&r.namespace===e.namespace);function $(r,e){if("currency"in r&&(r=r.currency),!l(r,e))throw new v(r,e)}function H(r){$(r,p)}function h(r,e,t){if("currency"in r&&(r=r.currency),"currency"in e&&(e=e.currency),!l(r,e))throw new S(r,e,t)}const Y=(r,e)=>(h(r,e,"add"),d(r.basisPoints.add(e.basisPoints),r.currency)),G=(r,e)=>(h(r,e,"subtract"),d(r.basisPoints.sub(e.basisPoints),r.currency)),L=(r,e)=>d(r.basisPoints.muln(e),r.currency),R=r=>{if(r.currency.decimals===0)return`${r.currency.symbol} ${r.basisPoints.toString()}`;const e=new m(10).pow(new m(r.currency.decimals)),t=r.basisPoints,{div:s,mod:i}=t.divmod(e),a=`${s.toString()}.${i.abs().toString(10,r.currency.decimals)}`;return`${r.currency.symbol} ${a}`};export{z as A,N as D,F as E,U as F,T as I,E as M,_ as N,w as O,O as P,p as S,I as U,P as _,d as a,o as b,D as c,H as d,Y as e,C as f,j as g,A as h,B as i,J as j,M as k,K as l,L as m,h as n,k as o,R as p,G as s,u as t};
