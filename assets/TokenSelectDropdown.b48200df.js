import{cY as w,cZ as v,dx as y,dd as N,d1 as P,au as h,J as _,bs as S,cQ as x,c_ as C,b1 as k,ak as I,al as b,a1 as g,as as l,bx as n,a6 as T,b7 as W,ai as Q,dq as D,V as R,ar as A,$ as q,aP as E,aj as F}from"./index.6e2c915f.js";import{Q as K,a as M}from"./QTabs.6b2a2cb5.js";import{Q as U}from"./QImg.076e13be.js";import{a as O,Q as $}from"./QItem.46ce75ba.js";import{Q as V}from"./QMenu.f29be353.js";import{Q as G}from"./QSelect.34f38ce2.js";function oe(o,r,i,a,u=v,s=y){return B(o,r,i,a,w.Buffer.alloc(0),u,s)}function le(o,r,i,a,u=v,s=y){return B(o,r,i,a,w.Buffer.from([1]),u,s)}function B(o,r,i,a,u,s=v,m=y){const d=[{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:N.programId,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}];return new P({keys:d,programId:m,data:u})}const J={class:"row items-center"},Z={class:"col text-h6"},j={class:"row items-center"},z=b("div",{class:"col text-right q-mr-md text-subtitle2"},"Filter:",-1),Y={class:"row q-gutter-x-md items-center"},ne=h({__name:"TokenSelectDropdown",props:["label","textboxLabel"],emits:["token_account_selected"],setup(o,{emit:r}){const i=r,a=_(),u=_(["list","address"]),s=_("list"),m=_(d());S(()=>a.value,()=>{console.log(a.value),i("token_account_selected",a.value)}),S(()=>s.value,()=>m.value=d());function d(){var f;return s.value=="list"?x().tokenList.map(t=>({name:t.name,symbol:t.symbol,mint:t.address})):(f=C().getAccountsBalanceNotZero)==null?void 0:f.map(t=>{var e,c;return{name:(e=t.info)==null?void 0:e.name,symbol:(c=t.info)==null?void 0:c.symbol,mint:t.mint}})}function L(f,t,e){t(()=>{const c=f.toLowerCase();m.value=d().filter(p=>JSON.stringify(p).toLowerCase().indexOf(c)>-1)})}return(f,t)=>(k(),I(T,null,[b("div",J,[b("div",Z,g(o.label),1),b("div",j,[z,l(K,{dense:"",modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),class:"text-teal"},{default:n(()=>[(k(!0),I(T,null,W(u.value,e=>(k(),Q(M,{name:e,label:e,key:e},null,8,["name","label"]))),128))]),_:1},8,["modelValue"])])]),b("div",Y,[l(G,{filled:"",square:"",class:"col","use-input":"","hide-selected":"","fill-input":"",onFilter:L,options:m.value,"option-label":e=>e.name?`[${e.symbol}] ${e.name}`:e.mint,modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),label:o.textboxLabel},{option:n(e=>[e.opt.group?F("",!0):(k(),Q($,q(E({key:0},e.itemProps)),{default:n(()=>[l(O,{avatar:""},{default:n(()=>[l(D,null,{default:n(()=>{var c,p;return[l(U,{src:(p=R(x)().getTokenByMintPublicKey((c=e.opt)==null?void 0:c.mint.toString()))==null?void 0:p.logoURI},null,8,["src"])]}),_:2},1024)]),_:2},1024),l(O,null,{default:n(()=>[l(V,null,{default:n(()=>[A("["+g(e.opt.symbol)+"] "+g(e.opt.name),1)]),_:2},1024),l(V,{caption:""},{default:n(()=>[A(g(e.opt.mint),1)]),_:2},1024)]),_:2},1024)]),_:2},1040))]),_:1},8,["options","option-label","modelValue","label"])])],64))}});export{ne as _,le as a,oe as c};
