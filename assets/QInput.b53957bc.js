import{aK as je,b$ as fe,cU as qe,K as H,ai as T,aU as ve,aY as Ae,bA as Ke,cs as Ne,aG as j,cd as Me,cw as ze,cO as _e,cn as oe,cf as Qe,aD as he,cN as We,b_ as ge,bt as J,b4 as He,aW as Ue,aS as Ze,ch as Ye,aR as re,cB as Ge,ca as Ce}from"./index.e18d1e9f.js";import{M as Xe,w as de,i as xe,Q as Je,E as pe,o as et,F as tt,p as at,G as nt,r as lt,q as rt,H as Te,z as it,J as ot}from"./use-key-composition.10cb7823.js";let ut=0;const st=["click","keydown"],ct={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${ut++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function ft(e,I,D,h){const i=je(qe,fe);if(i===fe)return console.error("QTab/QRouteTab component needs to be child of QTabs"),fe;const{proxy:y}=he(),K=H(null),N=H(null),Y=H(null),_=T(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),P=T(()=>i.currentModel.value===e.name),b=T(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(P.value===!0?" q-tab--active"+(i.tabProps.value.activeClass?" "+i.tabProps.value.activeClass:"")+(i.tabProps.value.activeColor?` text-${i.tabProps.value.activeColor}`:"")+(i.tabProps.value.activeBgColor?` bg-${i.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&i.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||i.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(h!==void 0?h.linkClass.value:"")),p=T(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(i.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),S=T(()=>e.disable===!0||i.hasFocus.value===!0||P.value===!1&&i.hasActiveTab.value===!0?-1:e.tabindex||0);function B(c,O){if(O!==!0&&K.value!==null&&K.value.focus(),e.disable===!0){h!==void 0&&h.hasRouterLink.value===!0&&Me(c);return}if(h===void 0){i.updateModel({name:e.name}),D("click",c);return}if(h.hasRouterLink.value===!0){const V=(R={})=>{let A;const Q=R.to===void 0||We(R.to,e.to)===!0?i.avoidRouteWatcher=Xe():null;return h.navigateToRouterLink(c,{...R,returnRouterError:!0}).catch(a=>{A=a}).then(a=>{if(Q===i.avoidRouteWatcher&&(i.avoidRouteWatcher=!1,A===void 0&&(a===void 0||a.message.startsWith("Avoided redundant navigation")===!0)&&i.updateModel({name:e.name})),R.returnRouterError===!0)return A!==void 0?Promise.reject(A):a})};D("click",c,V),c.defaultPrevented!==!0&&V();return}D("click",c)}function z(c){ze(c,[13,32])?B(c,!0):_e(c)!==!0&&c.keyCode>=35&&c.keyCode<=40&&c.altKey!==!0&&c.metaKey!==!0&&i.onKbdNavigate(c.keyCode,y.$el)===!0&&Me(c),D("keydown",c)}function Z(){const c=i.tabProps.value.narrowIndicator,O=[],V=j("div",{ref:Y,class:["q-tab__indicator",i.tabProps.value.indicatorClass]});e.icon!==void 0&&O.push(j(oe,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&O.push(j("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&O.push(e.alertIcon!==void 0?j(oe,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):j("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),c===!0&&O.push(V);const R=[j("div",{class:"q-focus-helper",tabindex:-1,ref:K}),j("div",{class:p.value},Qe(I.default,O))];return c===!1&&R.push(V),R}const te={name:T(()=>e.name),rootRef:N,tabIndicatorRef:Y,routeData:h};ve(()=>{i.unregisterTab(te)}),Ae(()=>{i.registerTab(te)});function $(c,O){const V={ref:N,class:b.value,tabindex:S.value,role:"tab","aria-selected":P.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:B,onKeydown:z,...O};return Ke(j(c,V,Z()),[[Ne,_.value]])}return{renderTab:$,$tabs:i}}var yt=ge({name:"QTab",props:ct,emits:st,setup(e,{slots:I,emit:D}){const{renderTab:h}=ft(e,I,D);return()=>h("div")}});function dt(e,I,D){const h=D===!0?["left","right"]:["top","bottom"];return`absolute-${I===!0?h[0]:h[1]}${e?` text-${e}`:""}`}const vt=["left","center","right","justify"];var Mt=ge({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>vt.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:I,emit:D}){const{proxy:h}=he(),{$q:i}=h,{registerTick:y}=de(),{registerTick:K}=de(),{registerTick:N}=de(),{registerTimeout:Y,removeTimeout:_}=xe(),{registerTimeout:P,removeTimeout:b}=xe(),p=H(null),S=H(null),B=H(e.modelValue),z=H(!1),Z=H(!0),te=H(!1),$=H(!1),c=[],O=H(0),V=H(!1);let R=null,A=null,Q;const a=T(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:dt(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),n=T(()=>{const r=O.value,o=B.value;for(let f=0;f<r;f++)if(c[f].name.value===o)return!0;return!1}),u=T(()=>`q-tabs__content--align-${z.value===!0?"left":$.value===!0?"justify":e.align}`),l=T(()=>`q-tabs row no-wrap items-center q-tabs--${z.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),d=T(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+u.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),s=T(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),M=T(()=>e.vertical!==!0&&i.lang.rtl===!0),v=T(()=>pe===!1&&M.value===!0);J(M,t),J(()=>e.modelValue,r=>{g({name:r,setCurrent:!0,skipEmit:!0})}),J(()=>e.outsideArrows,G);function g({name:r,setCurrent:o,skipEmit:f}){B.value!==r&&(f!==!0&&e["onUpdate:modelValue"]!==void 0&&D("update:modelValue",r),(o===!0||e["onUpdate:modelValue"]===void 0)&&(k(B.value,r),B.value=r))}function G(){y(()=>{ee({width:p.value.offsetWidth,height:p.value.offsetHeight})})}function ee(r){if(s.value===void 0||S.value===null)return;const o=r[s.value.container],f=Math.min(S.value[s.value.scroll],Array.prototype.reduce.call(S.value.children,(E,w)=>E+(w[s.value.content]||0),0)),F=o>0&&f>o;z.value=F,F===!0&&K(t),$.value=o<parseInt(e.breakpoint,10)}function k(r,o){const f=r!=null&&r!==""?c.find(E=>E.name.value===r):null,F=o!=null&&o!==""?c.find(E=>E.name.value===o):null;if(f&&F){const E=f.tabIndicatorRef.value,w=F.tabIndicatorRef.value;R!==null&&(clearTimeout(R),R=null),E.style.transition="none",E.style.transform="none",w.style.transition="none",w.style.transform="none";const m=E.getBoundingClientRect(),W=w.getBoundingClientRect();w.style.transform=e.vertical===!0?`translate3d(0,${m.top-W.top}px,0) scale3d(1,${W.height?m.height/W.height:1},1)`:`translate3d(${m.left-W.left}px,0,0) scale3d(${W.width?m.width/W.width:1},1,1)`,N(()=>{R=setTimeout(()=>{R=null,w.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",w.style.transform="none"},70)})}F&&z.value===!0&&C(F.rootRef.value)}function C(r){const{left:o,width:f,top:F,height:E}=S.value.getBoundingClientRect(),w=r.getBoundingClientRect();let m=e.vertical===!0?w.top-F:w.left-o;if(m<0){S.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(m),t();return}m+=e.vertical===!0?w.height-E:w.width-f,m>0&&(S.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(m),t())}function t(){const r=S.value;if(r===null)return;const o=r.getBoundingClientRect(),f=e.vertical===!0?r.scrollTop:Math.abs(r.scrollLeft);M.value===!0?(Z.value=Math.ceil(f+o.width)<r.scrollWidth-1,te.value=f>0):(Z.value=f>0,te.value=e.vertical===!0?Math.ceil(f+o.height)<r.scrollHeight:Math.ceil(f+o.width)<r.scrollWidth)}function x(r){A!==null&&clearInterval(A),A=setInterval(()=>{Ee(r)===!0&&q()},5)}function X(){x(v.value===!0?Number.MAX_SAFE_INTEGER:0)}function U(){x(v.value===!0?0:Number.MAX_SAFE_INTEGER)}function q(){A!==null&&(clearInterval(A),A=null)}function ne(r,o){const f=Array.prototype.filter.call(S.value.children,W=>W===o||W.matches&&W.matches(".q-tab.q-focusable")===!0),F=f.length;if(F===0)return;if(r===36)return C(f[0]),f[0].focus(),!0;if(r===35)return C(f[F-1]),f[F-1].focus(),!0;const E=r===(e.vertical===!0?38:37),w=r===(e.vertical===!0?40:39),m=E===!0?-1:w===!0?1:void 0;if(m!==void 0){const W=M.value===!0?-1:1,ae=f.indexOf(o)+m*W;return ae>=0&&ae<F&&(C(f[ae]),f[ae].focus({preventScroll:!0})),!0}}const Fe=T(()=>v.value===!0?{get:r=>Math.abs(r.scrollLeft),set:(r,o)=>{r.scrollLeft=-o}}:e.vertical===!0?{get:r=>r.scrollTop,set:(r,o)=>{r.scrollTop=o}}:{get:r=>r.scrollLeft,set:(r,o)=>{r.scrollLeft=o}});function Ee(r){const o=S.value,{get:f,set:F}=Fe.value;let E=!1,w=f(o);const m=r<w?-1:1;return w+=m*5,w<0?(E=!0,w=0):(m===-1&&w<=r||m===1&&w>=r)&&(E=!0,w=r),F(o,w),t(),E}function me(r,o){for(const f in r)if(r[f]!==o[f])return!1;return!0}function Ie(){let r=null,o={matchedLen:0,queryDiff:9999,hrefLen:0};const f=c.filter(m=>m.routeData!==void 0&&m.routeData.hasRouterLink.value===!0),{hash:F,query:E}=h.$route,w=Object.keys(E).length;for(const m of f){const W=m.routeData.exact.value===!0;if(m.routeData[W===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:ae,query:se,matched:Oe,href:De}=m.routeData.resolvedLink.value,ce=Object.keys(se).length;if(W===!0){if(ae!==F||ce!==w||me(E,se)===!1)continue;r=m.name.value;break}if(ae!==""&&ae!==F||ce!==0&&me(se,E)===!1)continue;const le={matchedLen:Oe.length,queryDiff:w-ce,hrefLen:De.length-ae.length};if(le.matchedLen>o.matchedLen){r=m.name.value,o=le;continue}else if(le.matchedLen!==o.matchedLen)continue;if(le.queryDiff<o.queryDiff)r=m.name.value,o=le;else if(le.queryDiff!==o.queryDiff)continue;le.hrefLen>o.hrefLen&&(r=m.name.value,o=le)}r===null&&c.some(m=>m.routeData===void 0&&m.name.value===B.value)===!0||g({name:r,setCurrent:!0})}function Le(r){if(_(),V.value!==!0&&p.value!==null&&r.target&&typeof r.target.closest=="function"){const o=r.target.closest(".q-tab");o&&p.value.contains(o)===!0&&(V.value=!0,z.value===!0&&C(o))}}function Ve(){Y(()=>{V.value=!1},30)}function ie(){ke.avoidRouteWatcher===!1?P(Ie):b()}function be(){if(Q===void 0){const r=J(()=>h.$route.fullPath,ie);Q=()=>{r(),Q=void 0}}}function Be(r){c.push(r),O.value++,G(),r.routeData===void 0||h.$route===void 0?P(()=>{if(z.value===!0){const o=B.value,f=o!=null&&o!==""?c.find(F=>F.name.value===o):null;f&&C(f.rootRef.value)}}):(be(),r.routeData.hasRouterLink.value===!0&&ie())}function $e(r){c.splice(c.indexOf(r),1),O.value--,G(),Q!==void 0&&r.routeData!==void 0&&(c.every(o=>o.routeData===void 0)===!0&&Q(),ie())}const ke={currentModel:B,tabProps:a,hasFocus:V,hasActiveTab:n,registerTab:Be,unregisterTab:$e,verifyRouteModel:ie,updateModel:g,onKbdNavigate:ne,avoidRouteWatcher:!1};He(qe,ke);function we(){R!==null&&clearTimeout(R),q(),Q!==void 0&&Q()}let ye;return ve(we),Ue(()=>{ye=Q!==void 0,we()}),Ze(()=>{ye===!0&&be(),G()}),()=>j("div",{ref:p,class:l.value,role:"tablist",onFocusin:Le,onFocusout:Ve},[j(Je,{onResize:ee}),j("div",{ref:S,class:d.value,onScroll:t},Ye(I.default)),j(oe,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(Z.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||i.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:X,onTouchstartPassive:X,onMouseupPassive:q,onMouseleavePassive:q,onTouchendPassive:q}),j(oe,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(te.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||i.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:U,onTouchstartPassive:U,onMouseupPassive:q,onMouseleavePassive:q,onTouchendPassive:q})])}});const Se={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},ue={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Pe=Object.keys(ue);Pe.forEach(e=>{ue[e].regex=new RegExp(ue[e].pattern)});const ht=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Pe.join("")+"])|(.)","g"),Re=/[.*+?^${}()|[\]\\]/g,L=String.fromCharCode(1),gt={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function mt(e,I,D,h){let i,y,K,N,Y,_;const P=H(null),b=H(S());function p(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}J(()=>e.type+e.autogrow,z),J(()=>e.mask,a=>{if(a!==void 0)Z(b.value,!0);else{const n=A(b.value);z(),e.modelValue!==n&&I("update:modelValue",n)}}),J(()=>e.fillMask+e.reverseFillMask,()=>{P.value===!0&&Z(b.value,!0)}),J(()=>e.unmaskedValue,()=>{P.value===!0&&Z(b.value)});function S(){if(z(),P.value===!0){const a=V(A(e.modelValue));return e.fillMask!==!1?Q(a):a}return e.modelValue}function B(a){if(a<i.length)return i.slice(-a);let n="",u=i;const l=u.indexOf(L);if(l>-1){for(let d=a-u.length;d>0;d--)n+=L;u=u.slice(0,l)+n+u.slice(l)}return u}function z(){if(P.value=e.mask!==void 0&&e.mask.length!==0&&p(),P.value===!1){N=void 0,i="",y="";return}const a=Se[e.mask]===void 0?e.mask:Se[e.mask],n=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",u=n.replace(Re,"\\$&"),l=[],d=[],s=[];let M=e.reverseFillMask===!0,v="",g="";a.replace(ht,(C,t,x,X,U)=>{if(X!==void 0){const q=ue[X];s.push(q),g=q.negate,M===!0&&(d.push("(?:"+g+"+)?("+q.pattern+"+)?(?:"+g+"+)?("+q.pattern+"+)?"),M=!1),d.push("(?:"+g+"+)?("+q.pattern+")?")}else if(x!==void 0)v="\\"+(x==="\\"?"":x),s.push(x),l.push("([^"+v+"]+)?"+v+"?");else{const q=t!==void 0?t:U;v=q==="\\"?"\\\\\\\\":q.replace(Re,"\\\\$&"),s.push(q),l.push("([^"+v+"]+)?"+v+"?")}});const G=new RegExp("^"+l.join("")+"("+(v===""?".":"[^"+v+"]")+"+)?"+(v===""?"":"["+v+"]*")+"$"),ee=d.length-1,k=d.map((C,t)=>t===0&&e.reverseFillMask===!0?new RegExp("^"+u+"*"+C):t===ee?new RegExp("^"+C+"("+(g===""?".":g)+"+)?"+(e.reverseFillMask===!0?"$":u+"*")):new RegExp("^"+C));K=s,N=C=>{const t=G.exec(e.reverseFillMask===!0?C:C.slice(0,s.length+1));t!==null&&(C=t.slice(1).join(""));const x=[],X=k.length;for(let U=0,q=C;U<X;U++){const ne=k[U].exec(q);if(ne===null)break;q=q.slice(ne.shift().length),x.push(...ne)}return x.length!==0?x.join(""):C},i=s.map(C=>typeof C=="string"?C:L).join(""),y=i.split(L).join(n)}function Z(a,n,u){const l=h.value,d=l.selectionEnd,s=l.value.length-d,M=A(a);n===!0&&z();const v=V(M),g=e.fillMask!==!1?Q(v):v,G=b.value!==g;l.value!==g&&(l.value=g),G===!0&&(b.value=g),document.activeElement===l&&re(()=>{if(g===y){const k=e.reverseFillMask===!0?y.length:0;l.setSelectionRange(k,k,"forward");return}if(u==="insertFromPaste"&&e.reverseFillMask!==!0){const k=l.selectionEnd;let C=d-1;for(let t=Y;t<=C&&t<k;t++)i[t]!==L&&C++;$.right(l,C);return}if(["deleteContentBackward","deleteContentForward"].indexOf(u)>-1){const k=e.reverseFillMask===!0?d===0?g.length>v.length?1:0:Math.max(0,g.length-(g===y?0:Math.min(v.length,s)+1))+1:d;l.setSelectionRange(k,k,"forward");return}if(e.reverseFillMask===!0)if(G===!0){const k=Math.max(0,g.length-(g===y?0:Math.min(v.length,s+1)));k===1&&d===1?l.setSelectionRange(k,k,"forward"):$.rightReverse(l,k)}else{const k=g.length-s;l.setSelectionRange(k,k,"backward")}else if(G===!0){const k=Math.max(0,i.indexOf(L),Math.min(v.length,d)-1);$.right(l,k)}else{const k=d-1;$.right(l,k)}});const ee=e.unmaskedValue===!0?A(g):g;String(e.modelValue)!==ee&&(e.modelValue!==null||ee!=="")&&D(ee,!0)}function te(a,n,u){const l=V(A(a.value));n=Math.max(0,i.indexOf(L),Math.min(l.length,n)),Y=n,a.setSelectionRange(n,u,"forward")}const $={left(a,n){const u=i.slice(n-1).indexOf(L)===-1;let l=Math.max(0,n-1);for(;l>=0;l--)if(i[l]===L){n=l,u===!0&&n++;break}if(l<0&&i[n]!==void 0&&i[n]!==L)return $.right(a,0);n>=0&&a.setSelectionRange(n,n,"backward")},right(a,n){const u=a.value.length;let l=Math.min(u,n+1);for(;l<=u;l++)if(i[l]===L){n=l;break}else i[l-1]===L&&(n=l);if(l>u&&i[n-1]!==void 0&&i[n-1]!==L)return $.left(a,u);a.setSelectionRange(n,n,"forward")},leftReverse(a,n){const u=B(a.value.length);let l=Math.max(0,n-1);for(;l>=0;l--)if(u[l-1]===L){n=l;break}else if(u[l]===L&&(n=l,l===0))break;if(l<0&&u[n]!==void 0&&u[n]!==L)return $.rightReverse(a,0);n>=0&&a.setSelectionRange(n,n,"backward")},rightReverse(a,n){const u=a.value.length,l=B(u),d=l.slice(0,n+1).indexOf(L)===-1;let s=Math.min(u,n+1);for(;s<=u;s++)if(l[s-1]===L){n=s,n>0&&d===!0&&n--;break}if(s>u&&l[n-1]!==void 0&&l[n-1]!==L)return $.leftReverse(a,u);a.setSelectionRange(n,n,"forward")}};function c(a){I("click",a),_=void 0}function O(a){if(I("keydown",a),_e(a)===!0||a.altKey===!0)return;const n=h.value,u=n.selectionStart,l=n.selectionEnd;if(a.shiftKey||(_=void 0),a.keyCode===37||a.keyCode===39){a.shiftKey&&_===void 0&&(_=n.selectionDirection==="forward"?u:l);const d=$[(a.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(a.preventDefault(),d(n,_===u?l:u),a.shiftKey){const s=n.selectionStart;n.setSelectionRange(Math.min(_,s),Math.max(_,s),"forward")}}else a.keyCode===8&&e.reverseFillMask!==!0&&u===l?($.left(n,u),n.setSelectionRange(n.selectionStart,l,"backward")):a.keyCode===46&&e.reverseFillMask===!0&&u===l&&($.rightReverse(n,l),n.setSelectionRange(u,n.selectionEnd,"forward"))}function V(a){if(a==null||a==="")return"";if(e.reverseFillMask===!0)return R(a);const n=K;let u=0,l="";for(let d=0;d<n.length;d++){const s=a[u],M=n[d];if(typeof M=="string")l+=M,s===M&&u++;else if(s!==void 0&&M.regex.test(s))l+=M.transform!==void 0?M.transform(s):s,u++;else return l}return l}function R(a){const n=K,u=i.indexOf(L);let l=a.length-1,d="";for(let s=n.length-1;s>=0&&l>-1;s--){const M=n[s];let v=a[l];if(typeof M=="string")d=M+d,v===M&&l--;else if(v!==void 0&&M.regex.test(v))do d=(M.transform!==void 0?M.transform(v):v)+d,l--,v=a[l];while(u===s&&v!==void 0&&M.regex.test(v));else return d}return d}function A(a){return typeof a!="string"||N===void 0?typeof a=="number"?N(""+a):a:N(a)}function Q(a){return y.length-a.length<=0?a:e.reverseFillMask===!0&&a.length!==0?y.slice(0,-a.length)+a:a+y.slice(a.length)}return{innerValue:b,hasMask:P,moveCursorForPaste:te,updateMaskValue:Z,onMaskedKeydown:O,onMaskedClick:c}}function bt(e,I){function D(){const h=e.modelValue;try{const i="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(h)===h&&("length"in h?Array.from(h):[h]).forEach(y=>{i.items.add(y)}),{files:i.files}}catch{return{files:void 0}}}return I===!0?T(()=>{if(e.type==="file")return D()}):T(D)}var Ct=ge({name:"QInput",inheritAttrs:!1,props:{...et,...gt,...tt,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...at,"paste","change","keydown","click","animationend"],setup(e,{emit:I,attrs:D}){const{proxy:h}=he(),{$q:i}=h,y={};let K=NaN,N,Y,_=null,P;const b=H(null),p=nt(e),{innerValue:S,hasMask:B,moveCursorForPaste:z,updateMaskValue:Z,onMaskedKeydown:te,onMaskedClick:$}=mt(e,I,v,b),c=bt(e,!0),O=T(()=>Te(S.value)),V=ot(s),R=lt(),A=T(()=>e.type==="textarea"||e.autogrow===!0),Q=T(()=>A.value===!0||["text","search","url","tel","password"].includes(e.type)),a=T(()=>{const t={...R.splitAttrs.listeners.value,onInput:s,onPaste:d,onChange:G,onBlur:ee,onFocus:Ce};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=V,B.value===!0&&(t.onKeydown=te,t.onClick=$),e.autogrow===!0&&(t.onAnimationend=M),t}),n=T(()=>{const t={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:p.value,...R.splitAttrs.attributes.value,id:R.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return A.value===!1&&(t.type=e.type),e.autogrow===!0&&(t.rows=1),t});J(()=>e.type,()=>{b.value&&(b.value.value=e.modelValue)}),J(()=>e.modelValue,t=>{if(B.value===!0){if(Y===!0&&(Y=!1,String(t)===K))return;Z(t)}else S.value!==t&&(S.value=t,e.type==="number"&&y.hasOwnProperty("value")===!0&&(N===!0?N=!1:delete y.value));e.autogrow===!0&&re(g)}),J(()=>e.autogrow,t=>{t===!0?re(g):b.value!==null&&D.rows>0&&(b.value.style.height="auto")}),J(()=>e.dense,()=>{e.autogrow===!0&&re(g)});function u(){it(()=>{const t=document.activeElement;b.value!==null&&b.value!==t&&(t===null||t.id!==R.targetUid.value)&&b.value.focus({preventScroll:!0})})}function l(){b.value!==null&&b.value.select()}function d(t){if(B.value===!0&&e.reverseFillMask!==!0){const x=t.target;z(x,x.selectionStart,x.selectionEnd)}I("paste",t)}function s(t){if(!t||!t.target)return;if(e.type==="file"){I("update:modelValue",t.target.files);return}const x=t.target.value;if(t.target.qComposing===!0){y.value=x;return}if(B.value===!0)Z(x,!1,t.inputType);else if(v(x),Q.value===!0&&t.target===document.activeElement){const{selectionStart:X,selectionEnd:U}=t.target;X!==void 0&&U!==void 0&&re(()=>{t.target===document.activeElement&&x.indexOf(t.target.value)===0&&t.target.setSelectionRange(X,U)})}e.autogrow===!0&&g()}function M(t){I("animationend",t),g()}function v(t,x){P=()=>{_=null,e.type!=="number"&&y.hasOwnProperty("value")===!0&&delete y.value,e.modelValue!==t&&K!==t&&(K=t,x===!0&&(Y=!0),I("update:modelValue",t),re(()=>{K===t&&(K=NaN)})),P=void 0},e.type==="number"&&(N=!0,y.value=t),e.debounce!==void 0?(_!==null&&clearTimeout(_),y.value=t,_=setTimeout(P,e.debounce)):P()}function g(){requestAnimationFrame(()=>{const t=b.value;if(t!==null){const x=t.parentNode.style,{scrollTop:X}=t,{overflowY:U,maxHeight:q}=i.platform.is.firefox===!0?{}:window.getComputedStyle(t),ne=U!==void 0&&U!=="scroll";ne===!0&&(t.style.overflowY="hidden"),x.marginBottom=t.scrollHeight-1+"px",t.style.height="1px",t.style.height=t.scrollHeight+"px",ne===!0&&(t.style.overflowY=parseInt(q,10)<t.scrollHeight?"auto":"hidden"),x.marginBottom="",t.scrollTop=X}})}function G(t){V(t),_!==null&&(clearTimeout(_),_=null),P!==void 0&&P(),I("change",t.target.value)}function ee(t){t!==void 0&&Ce(t),_!==null&&(clearTimeout(_),_=null),P!==void 0&&P(),N=!1,Y=!1,delete y.value,e.type!=="file"&&setTimeout(()=>{b.value!==null&&(b.value.value=S.value!==void 0?S.value:"")})}function k(){return y.hasOwnProperty("value")===!0?y.value:S.value!==void 0?S.value:""}ve(()=>{ee()}),Ae(()=>{e.autogrow===!0&&g()}),Object.assign(R,{innerValue:S,fieldClass:T(()=>`q-${A.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:T(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:b,emitValue:v,hasValue:O,floatingLabel:T(()=>O.value===!0&&(e.type!=="number"||isNaN(S.value)===!1)||Te(e.displayValue)),getControl:()=>j(A.value===!0?"textarea":"input",{ref:b,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...n.value,...a.value,...e.type!=="file"?{value:k()}:c.value}),getShadowControl:()=>j("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(A.value===!0?"":" text-no-wrap")},[j("span",{class:"invisible"},k()),j("span",e.shadowText)])});const C=rt(R);return Object.assign(h,{focus:u,select:l,getNativeElement:()=>b.value}),Ge(h,"nativeEl",()=>b.value),C}});export{Ct as Q,yt as a,Mt as b};
