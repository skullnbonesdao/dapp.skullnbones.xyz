import{dl as Ke,e8 as Qe,de as K,P as E,au as A,ck as B,J as _,b1 as w,ak as q,ar as ee,a1 as W,V as m,cR as k,as as e,bV as Ve,cl as N,cP as z,aX as ne,bs as H,ai as x,bx as c,b7 as Ue,a6 as be,al as l,aj as T,ah as F,cn as ce,dm as te,cZ as R,cQ as L,ea as Be,b9 as Le,co as Z,cj as Re,dx as $e,c_ as ae,cU as ke,dq as _e,Z as Ne,cm as Ge,eb as Ee}from"./index.142fab28.js";import{Q as D}from"./QToggle.9a72df8a.js";import{Q as V}from"./QCardSection.1004c3f6.js";import{Q as P}from"./QSeparator.72f2d32e.js";import{Q as oe,a as G}from"./QTabs.d96d7a17.js";import{a as X,Q as ue}from"./QTabPanels.72a8d6f4.js";import{Q as M}from"./QCard.f6638052.js";import{Q as ze}from"./QPage.8bf525fa.js";import{Q as ye}from"./QSlideTransition.880c5203.js";import{Q as C}from"./QInput.3229ca86.js";import{h as j}from"./handleTransaction.108bdbdb.js";import{Q as ve}from"./QSelect.087f6e07.js";import{c as de,b as re,d as We,I as Ae,a as je}from"./calcAmountToTransfer.000cb9bf.js";import{Q as Oe}from"./QList.02e19db4.js";import{a as me,b as le,c as De,d as Y,f as J,s as Ce}from"./WrapperInterface.34b14a70.js";import{_ as Xe,c as qe}from"./TokenSelectDropdown.4a10c112.js";import{a as fe,_ as Pe}from"./AccountBalance.31388357.js";import{Q as Fe}from"./QCardActions.2f6b0769.js";import{f as se}from"./format_address.d3022ffc.js";import{Q as ie}from"./QImg.402ff1cf.js";import{U as Se}from"./constants.e2ffd8e4.js";import"./use-checkbox.7ab069a7.js";import"./use-form.8fc7b853.js";import"./uid.42677368.js";import"./rtl.e426ae8a.js";import"./touch.3df10340.js";import"./QMenu.f8eff46a.js";import"./use-key-composition.47f632c5.js";import"./vaultTransactionCreate.2f319513.js";import"./QItem.1203add0.js";import"./index.a92efb08.js";import"./token.826ff65b.js";const o=Ke("wrapperStore",{state:()=>({enableManage:Qe("enableManage",!1),wrapperSelected:{},groupSelected:{},wrapper:[],groups:[]}),getters:{getWrapperByGroup:y=>r=>y.wrapper.filter(s=>{var n;return s.account.group.toString()==((n=r==null?void 0:r.publicKey)==null?void 0:n.toString())})},actions:{async updateStore(){var y;if(K()){const{pg_wrapper:r}=K();this.groups=await r.value.account.group.all(),this.wrapper=await r.value.account.wrapper.all(),(y=this.groupSelected)!=null&&y.publicKey||(this.groupSelected=this.groups[0]),console.log("[Updated] WrapperStore")}}}}),Ze=new E("subA4tNLV18htV8xACaZyMMKkAm1AQS4EhiPYPV4zbH"),He={class:"row"},Je=A({__name:"WrapperCreateGroup",setup(y){const r=B(),s=_("");async function n(){try{const t=new z,a=K().pg_wrapper.value;if(s.value==""){r.notify({message:"Invalid group name",color:"info",position:"bottom-right"});return}t.add(await a.methods.initializeGroup(s.value).accountsPartial({signer:k(),fee:Ze}).instruction()),await j(t,"[Raffle] create new group"),await o().updateStore()}catch(t){r.notify({message:t.message,type:"negative"})}}return(t,a)=>(w(),q("div",He,[ee(W(m(k)())+" ",1),e(C,{square:"",filled:"",class:"col",modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=p=>s.value=p),label:"New group name",type:"text"},null,8,["modelValue"]),e(N,{square:"",onClick:a[1]||(a[1]=Ve(p=>n(),["prevent"])),color:"primary",label:"Create"})]))}}),ge=A({__name:"WrapperGroupSelect",props:["asTabs"],setup(y){const r=_();return ne(()=>{var s,n;r.value=o().groupSelected?(n=(s=o().groupSelected)==null?void 0:s.account)==null?void 0:n.name:o().groups[0].account.name}),H(()=>r.value,()=>{o().groupSelected=o().groups.find(s=>s.account.name==r.value)}),(s,n)=>(w(),x(M,{bordered:"",flat:"",class:""},{default:c(()=>[y.asTabs?(w(),x(oe,{key:0,modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=t=>r.value=t),"active-color":"primary","indicator-color":"primary",align:"justify"},{default:c(()=>[(w(!0),q(be,null,Ue(m(o)().groups,t=>(w(),x(G,{name:t.account.name.toString(),key:t},{default:c(()=>[ee(W(t.account.name.toString()),1)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])):(w(),x(ve,{key:1,label:"Select a group",square:"",filled:"","onUpdate:modelValue":[n[1]||(n[1]=()=>m(o)().wrapperSelected=void 0),n[2]||(n[2]=t=>m(o)().groupSelected=t)],modelValue:m(o)().groupSelected,options:m(o)().groups,"option-label":t=>{var a;return(a=t==null?void 0:t.account)==null?void 0:a.name}},null,8,["modelValue","options","option-label"]))]),_:1}))}}),Ye=A({__name:"WrapperCloseGroup",props:{disabled:{default:!0}},setup(y){const r=B();async function s(){try{const n=new z,t=K().pg_wrapper.value;n.add(await t.methods.closeGroup().accountsPartial({group:o().groupSelected.publicKey,signer:k()}).instruction()),await j(n,"Close Group"),await o().updateStore()}catch(n){r.notify({message:n.message,type:"negative"})}}return(n,t)=>(w(),x(N,{disable:y.disabled,square:"",color:"primary",label:"Close",onClick:t[0]||(t[0]=Ve(a=>s(),["prevent"]))},null,8,["disable"]))}}),et=l("div",{class:"text-h5"},"Group",-1),tt=l("div",{class:"text-caption text-grey"}," The group will be used to filter and create the wrappers - one time creation fee of 0.5 SOL ",-1),at=l("div",{class:"text-caption text-accent"}," Make sure u use a list where you are the owner! ",-1),lt={key:0,class:"text-caption row"},nt=l("div",{style:{width:"50px"}},"ID",-1),ot={class:"col text-right"},rt={key:1,class:"text-caption row"},st=l("div",{style:{width:"50px"}},"Owner",-1),it={class:"col text-accent text-right"},ct={class:"row"},ut={key:0,class:"text-caption row"},dt=l("div",{style:{width:"50px"}},"ID:",-1),pt={class:"col text-accent text-right"},mt={key:1,class:"text-caption row"},wt=l("div",{style:{width:"50px"}},"Owner:",-1),_t={class:"col text-accent text-right"},vt=l("div",{class:"text-h6 text-red-6 col"}," I know what im doing i want to close the group ",-1),ft=A({__name:"WrapperGroupView",setup(y){const r=_("select"),s=_(!1);return(n,t)=>(w(),x(M,{flat:"",bordered:""},{default:c(()=>[e(V,null,{default:c(()=>[et,tt,at]),_:1}),e(P),e(oe,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=a=>r.value=a),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:c(()=>[e(G,{name:"select",label:"Select"}),e(G,{name:"create",label:"Create"}),e(G,{name:"close",label:"Close"})]),_:1},8,["modelValue"]),e(P),e(ue,{modelValue:r.value,"onUpdate:modelValue":t[2]||(t[2]=a=>r.value=a),animated:""},{default:c(()=>[e(X,{name:"create"},{default:c(()=>[e(Je)]),_:1}),e(X,{name:"select"},{default:c(()=>[e(ge,{class:""}),e(V,null,{default:c(()=>{var a,p,u,i,d;return[(a=m(o)().groupSelected)!=null&&a.account?(w(),q("div",lt,[nt,l("div",ot,W((p=m(o)().groupSelected)==null?void 0:p.publicKey),1)])):T("",!0),(u=m(o)().groupSelected)!=null&&u.account?(w(),q("div",rt,[st,l("div",it,W((d=(i=m(o)().groupSelected)==null?void 0:i.account)==null?void 0:d.owner),1)])):T("",!0)]}),_:1})]),_:1}),e(X,{name:"close"},{default:c(()=>[l("div",ct,[e(ge,{class:"col"}),e(Ye,{disabled:!s.value},null,8,["disabled"])]),e(V,null,{default:c(()=>{var a,p,u,i,d;return[(a=m(o)().groupSelected)!=null&&a.account?(w(),q("div",ut,[dt,l("div",pt,W((p=m(o)().groupSelected)==null?void 0:p.publicKey),1)])):T("",!0),(u=m(o)().groupSelected)!=null&&u.account?(w(),q("div",mt,[wt,l("div",_t,W((d=(i=m(o)().groupSelected)==null?void 0:i.account)==null?void 0:d.owner),1)])):T("",!0)]}),_:1}),e(V,{class:"row items-center"},{default:c(()=>[e(ye,{color:"red",modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=a=>s.value=a)},null,8,["modelValue"]),vt]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}}),gt=l("div",{class:"text-h6"},"Wrapped Token",-1),bt={class:"row q-gutter-x-md items-center"},yt=l("div",{class:"text-h6"},"Ratio",-1),ht={class:"row q-gutter-x-md items-center"},xt={class:"row items-center"},St=l("div",{class:"text-h6"},"Add Medata",-1),Vt={key:0,class:"row items-center q-gutter-x-sm"},Ut=A({__name:"WrapperCreate",setup(y){const r=B(),s=_(),n=_(9),t=_(1),a=_(1),p=_(!0),u=_(""),i=_(""),d=_(""),v=F(()=>p.value?!(s.value&&u.value&&i.value&&d.value):!s.value);async function $(){var U;try{const g=new z,S=K().pg_wrapper.value,Q=new te(window.crypto.getRandomValues(new Uint8Array(8))),O={ratio:[new te(t.value),new te(a.value)],onlyCreatorCanWrap:!1,onlyCreatorCanUnwrap:!1,wrappedDecimals:n.value,seed:Q},I=new E(s.value.mint.toString());if(g.add(await S.methods.initialize(O).accountsPartial({signer:k(),group:new E(((U=o().groupSelected)==null?void 0:U.publicKey.toString())??""),mintUnwrapped:I,tokenProgram:R}).instruction()),g.add(await S.methods.createVault().accountsPartial({signer:k(),wrapper:me(I,k()),vaultUnwrappedAta:le(me(I,k()),I),mintUnwrapped:I,tokenProgram:R}).instruction()),p.value){const f={name:u.value,symbol:i.value,uri:d.value},b=me(I,k()),h=De(b,Q),pe=Y(h);g.add(await S.methods.metadataCreate(f).accountsPartial({signer:k(),wrapper:b,mintWrapped:h,mintUnwrapped:I,metadata:pe,tokenProgram:R}).instruction())}await j(g,`[Wrapper] create + vault ${p.value?"+ metadata":""}`),await o().updateStore()}catch(g){console.error(g),r.notify({message:g.message,type:"negative",position:"bottom-right"})}}return(U,g)=>(w(),x(M,{flat:""},{default:c(()=>[e(V,{class:""},{default:c(()=>[e(Xe,{label:"Unwrapped Token","textbox-label":"Token to wrap",onToken_account_selected:g[0]||(g[0]=S=>s.value=S)})]),_:1}),e(V,null,{default:c(()=>[gt,l("div",bt,[e(C,{square:"",filled:"",class:"col",modelValue:n.value,"onUpdate:modelValue":g[1]||(g[1]=S=>n.value=S),label:"Decimals",type:"number"},null,8,["modelValue"])])]),_:1}),e(V,null,{default:c(()=>[yt,l("div",ht,[e(C,{square:"",filled:"",class:"col",modelValue:t.value,"onUpdate:modelValue":g[2]||(g[2]=S=>t.value=S),label:"Unwrapped",type:"number"},null,8,["modelValue"]),e(ce,{name:"swap_horiz",size:"xl  "}),e(C,{square:"",filled:"",class:"col",modelValue:a.value,"onUpdate:modelValue":g[3]||(g[3]=S=>a.value=S),label:"Wrapped",type:"number"},null,8,["modelValue"])])]),_:1}),e(V,null,{default:c(()=>[l("div",xt,[St,e(D,{modelValue:p.value,"onUpdate:modelValue":g[4]||(g[4]=S=>p.value=S),"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue"])]),p.value?(w(),q("div",Vt,[e(C,{square:"",filled:"",class:"col",modelValue:u.value,"onUpdate:modelValue":g[5]||(g[5]=S=>u.value=S),label:"Name",type:"text"},null,8,["modelValue"]),e(C,{square:"",filled:"",class:"col",modelValue:i.value,"onUpdate:modelValue":g[6]||(g[6]=S=>i.value=S),label:"Symbol",type:"text"},null,8,["modelValue"]),e(C,{square:"",filled:"",class:"col",modelValue:d.value,"onUpdate:modelValue":g[7]||(g[7]=S=>d.value=S),label:"Image-URI",type:"text"},null,8,["modelValue"])])):T("",!0)]),_:1}),e(V,{class:"row justify-end"},{default:c(()=>[e(N,{square:"",disable:v.value,color:"primary",label:"Create new wrapper",onClick:g[8]||(g[8]=S=>$())},null,8,["disable"])]),_:1})]),_:1}))}}),$t={class:"row items-center"},kt=l("div",{class:"col text-subtitle1 text-weight-thin"},"Publickey",-1),Wt={class:"text-subtitle2"},At={class:"col text-subtitle1 text-weight-thin"},Ct={key:0,class:"text-subtitle2"},qt={key:1,class:"text-subtitle2"},Pt=A({__name:"WrapperInfo",setup(y){return(r,s)=>{var n;return(n=m(o)().wrapperSelected)!=null&&n.account?(w(),x(M,{key:0,flat:""},{default:c(()=>[e(P),e(V,null,{default:c(()=>{var t;return[l("div",$t,[kt,l("div",Wt,W(m(o)().wrapperSelected.publicKey),1)]),(w(!0),q(be,null,Ue(Object.keys((t=m(o)().wrapperSelected)==null?void 0:t.account),a=>(w(),q("div",{key:a,class:"row items-center"},[l("div",At,W(a.toUpperCase()),1),a=="ratio"?(w(),q("div",Ct,W(m(o)().wrapperSelected.account[a][0])+" : "+W(m(o)().wrapperSelected.account[a][1]),1)):(w(),q("div",qt,W(m(o)().wrapperSelected.account[a]),1))]))),128))]}),_:1})]),_:1})):T("",!0)}}}),Tt=A({__name:"WrapperClose",props:{disabled:{default:!0}},setup(y){const r=B();async function s(){var n,t;try{const a=new z,p=K().pg_wrapper.value;a.add(await p.methods.close().accountsPartial({wrapper:(n=o().wrapperSelected)==null?void 0:n.publicKey,signer:k(),mintUnwrapped:(t=o().wrapperSelected)==null?void 0:t.account.mintUnwrapped,tokenProgram:R}).instruction()),await j(a,"[Wrapper] Close"),await o().updateStore()}catch(a){console.error(a),r.notify({message:a.message,type:"negative"})}}return(n,t)=>(w(),x(N,{disable:y.disabled,square:"",color:"primary",label:"Close WrapperInterface",onClick:t[0]||(t[0]=a=>s())},null,8,["disable"]))}}),It={class:"row items-center"},Mt=l("div",{class:"col text-subtitle1"},"Allow wrap",-1),Kt={class:"row items-center"},Qt=l("div",{class:"col text-subtitle1"},"Allow unwrap",-1),Bt={class:"row items-center"},Lt=l("div",{class:"col text-subtitle1"},"Only admin can Wrap",-1),Rt={class:"row items-center"},Nt=l("div",{class:"col text-subtitle1"},"Only admin can unwrap",-1),Gt={class:"row items-center"},Et=l("div",{class:"col text-subtitle1"},"Use whitelist",-1),zt={class:"row items-center"},jt=l("div",{class:"col text-subtitle1"},"Use Limit",-1),Ot={class:"row items-center"},Dt=l("div",{class:"col text-subtitle1"},"Change Admin",-1),Xt={class:"row items-center"},Ft=l("div",{class:"col text-subtitle1"},"Change Ratio",-1),Zt={key:0,style:{width:"500px"},class:"row items-center"},Ht=A({__name:"WrapperSettings",setup(y){var I;const r=B();(I=o().wrapperSelected)==null||I.account;const s=_(),n=_(),t=_(),a=_(),p=_(),u=_(),i=_(),d=_(),v=_(!1),$=_(),U=_(!1),g=_(),S=_();Q(),H(()=>{var f,b;return(b=(f=o())==null?void 0:f.wrapperSelected)==null?void 0:b.account},()=>{Q()});function Q(){var b,h;if(!((b=o().wrapperSelected)!=null&&b.account))return;const f=(h=o().wrapperSelected)==null?void 0:h.account;s.value=f.allowWrap,n.value=f==null?void 0:f.allowUnwrap,t.value=f==null?void 0:f.onlyAdminCanWrap,a.value=f==null?void 0:f.onlyAdminCanUnwrap,p.value=f==null?void 0:f.useWhitelist,u.value=f==null?void 0:f.whitelist,i.value=f==null?void 0:f.useLimit,d.value=(f==null?void 0:f.limitAmountUnwrapped)??0,$.value=f==null?void 0:f.admin,g.value=f==null?void 0:f.ratio[0],S.value=f==null?void 0:f.ratio[1]}async function O(){var f,b;try{const h=new z,pe=K().pg_wrapper.value,Ie={allowWrap:s.value,allowUnwrap:n.value,onlyAdminCanWrap:t.value,onlyAdminCanUnwrap:a.value,useWhitelist:p.value,useLimit:i.value,amountAbleToWrap:i.value?de(d.value,L().tokenList.find(Me=>{var he,xe;return Me.address==((xe=(he=o().wrapperSelected)==null?void 0:he.account)==null?void 0:xe.mintUnwrapped.toString())}).decimals):null,admin:v.value?new E($.value):null,ratio:U.value?[new te(g.value),new te(S.value)]:null};h.add(await pe.methods.edit(Ie).accountsPartial({wrapper:(f=o().wrapperSelected)==null?void 0:f.publicKey,signer:k(),mintUnwrapped:(b=o().wrapperSelected)==null?void 0:b.account.mintUnwrapped,whitelist:p.value?new E(u.value):null,tokenProgram:R}).instruction()),await j(h),await o().updateStore()}catch(h){console.error(h),r.notify({message:h.message,type:"negative"})}}return(f,b)=>(w(),x(M,{flat:""},{default:c(()=>[e(V,{class:"q-gutter-y-sm"},{default:c(()=>[l("div",It,[Mt,e(D,{modelValue:s.value,"onUpdate:modelValue":b[0]||(b[0]=h=>s.value=h),"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue"])]),l("div",Kt,[Qt,e(D,{modelValue:n.value,"onUpdate:modelValue":b[1]||(b[1]=h=>n.value=h),"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue"])]),l("div",Bt,[Lt,e(D,{modelValue:t.value,"onUpdate:modelValue":b[2]||(b[2]=h=>t.value=h),"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue"])]),l("div",Rt,[Nt,e(D,{modelValue:a.value,"onUpdate:modelValue":b[3]||(b[3]=h=>a.value=h),"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue"])]),l("div",Gt,[Et,p.value?(w(),x(C,{key:0,dense:"",filled:"",square:"",style:{width:"500px"},modelValue:u.value,"onUpdate:modelValue":b[4]||(b[4]=h=>u.value=h),type:"text",label:"Whitelist"},null,8,["modelValue"])):T("",!0),e(D,{modelValue:p.value,"onUpdate:modelValue":b[5]||(b[5]=h=>p.value=h),"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue"])]),l("div",zt,[jt,i.value?(w(),x(C,{key:0,dense:"",filled:"",square:"",style:{width:"500px"},modelValue:d.value,"onUpdate:modelValue":b[6]||(b[6]=h=>d.value=h),type:"number",label:"Amount wrappable"},null,8,["modelValue"])):T("",!0),e(D,{modelValue:i.value,"onUpdate:modelValue":b[7]||(b[7]=h=>i.value=h),"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue"])]),l("div",null,[l("div",Ot,[Dt,v.value?(w(),x(C,{key:0,style:{width:"500px"},dense:"",filled:"",square:"",label:"Admin",modelValue:$.value,"onUpdate:modelValue":b[8]||(b[8]=h=>$.value=h)},null,8,["modelValue"])):T("",!0),e(D,{modelValue:v.value,"onUpdate:modelValue":b[9]||(b[9]=h=>v.value=h),"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue"])])]),l("div",null,[l("div",Xt,[Ft,U.value?(w(),q("div",Zt,[e(C,{class:"col",dense:"",filled:"",square:"",label:"Unwrapped",modelValue:g.value,"onUpdate:modelValue":b[10]||(b[10]=h=>g.value=h),type:"number"},null,8,["modelValue"]),e(ce,{size:"md",name:"swap_horiz"}),e(C,{class:"col",dense:"",filled:"",square:"",label:"Wrapped",modelValue:S.value,"onUpdate:modelValue":b[11]||(b[11]=h=>S.value=h),type:"number"},null,8,["modelValue"])])):T("",!0),e(D,{modelValue:U.value,"onUpdate:modelValue":b[12]||(b[12]=h=>U.value=h),"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue"])])])]),_:1}),e(V,{class:"row justify-end"},{default:c(()=>[e(N,{square:"",class:"",color:"primary",label:"Update settings",onClick:b[13]||(b[13]=h=>O())})]),_:1})]),_:1}))}}),Jt=A({__name:"WrapperCreateVault",setup(y){const r=B(),s=_(!1);async function n(t){try{const a=new z,p=K().pg_wrapper.value;a.add(await p.methods.createVault().accountsPartial({wrapper:new E(o().wrapperSelected.publicKey.toString()),signer:k(),mintUnwrapped:new E(o().wrapperSelected.account.mintUnwrapped.toString()),tokenProgram:R}).instruction()),await j(a,"[Wrapper] create vault")}catch(a){console.error(a),r.notify({message:a.message,type:"negative"})}}return(t,a)=>{var p;return!s.value&&((p=m(o)().wrapperSelected)==null?void 0:p.publicKey)?(w(),x(N,{key:0,square:"",color:"primary",label:"Create Vault",onClick:a[0]||(a[0]=u=>n())})):T("",!0)}}}),Yt={class:"row"},ea=l("div",{class:"col"},"Vault Balance",-1),ta={class:"row"},aa=l("div",{class:"col"},"Circ. Supply",-1),Te=A({__name:"WrapperVaultDonut",props:["wrapper"],setup(y){const r=y,s=_(0),n=_(0),t=_(0);async function a(){s.value=await p()??0,n.value=await u()??0,t.value=s.value*r.wrapper.account.ratio[1]/s.value*r.wrapper.account.ratio[1]*100}async function p(){return(await Z().connection.getTokenSupply(new E(r.wrapper.account.mintWrapped))).value.uiAmount}async function u(){let v=le(r.wrapper.publicKey,r.wrapper.account.mintUnwrapped);return(await Z().connection.getTokenAccountBalance(v)).value.uiAmount}ne(async()=>{await a()}),Be(()=>r.wrapper,async()=>await a());const i=F(()=>[t.value]),d=_({dataLabels:{enabled:!1},legend:{labels:{colors:"white"},show:!1,position:"left"},theme:{palette:"palette4"},labels:["Redeemable"]});return(v,$)=>{const U=Le("apexchart");return w(),q(be,null,[l("div",Yt,[ea,e(fe,{class:"",number:n.value,decimals:4,"pad-start":10},null,8,["number"])]),l("div",ta,[aa,e(fe,{number:s.value,decimals:4,"pad-start":10},null,8,["number"])]),e(U,{height:"200px",type:"radialBar",options:d.value,series:i.value},null,8,["options","series"])],64)}}}),la={class:"text-subtitle2 row items-center"},na=l("div",{class:"text-accent"}," I want to transfer tokens out of the vault to a new address ",-1),oa={class:"col"},ra={class:"row"},sa=A({__name:"WrapperTransferVaultOut",setup(y){const r=B(),s=_(1),n=_(k().toString()),t=_(!1);H(()=>Re().useSquads,()=>{n.value=k().toString()});async function a(){var p,u,i,d;try{if(K()){const v=new z,$=K().pg_wrapper.value,U=J(new E(n.value.toString()).toString(),o().wrapperSelected.account.mintUnwrapped.toString());await Z().connection.getAccountInfo(U)||v.add(qe(k(),U,new E(n.value.toString()),o().wrapperSelected.account.mintUnwrapped,R,$e));const S=de(s.value,((u=L().getTokenByMintPublicKey((p=o().wrapperSelected)==null?void 0:p.account.mintUnwrapped.toString()))==null?void 0:u.decimals)??0);v.add(await $.methods.transferVault(S).accountsPartial({signer:k(),wrapper:(i=o().wrapperSelected)==null?void 0:i.publicKey,mintUnwrapped:(d=o().wrapperSelected)==null?void 0:d.account.mintUnwrapped,ataUnwrappedSigner:U,tokenProgram:R}).instruction()),await j(v,`[Wrapper] transfer to ${n.value}`),await o().updateStore()}}catch(v){console.error(v),r.notify({message:v.message,type:"negative"})}}return(p,u)=>(w(),x(M,{flat:""},{default:c(()=>[l("div",la,[e(ye,{modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=i=>t.value=i)},null,8,["modelValue"]),na]),l("div",oa,[l("div",ra,[e(C,{class:"col",disable:!t.value,square:"",filled:"",modelValue:n.value,"onUpdate:modelValue":u[1]||(u[1]=i=>n.value=i),type:"text",label:"recipient"},null,8,["disable","modelValue"]),e(P,{vertical:""}),e(C,{disable:!t.value,square:"",filled:"",modelValue:s.value,"onUpdate:modelValue":u[2]||(u[2]=i=>s.value=i),type:"number",label:"Amount to transfer"},null,8,["disable","modelValue"]),e(N,{disable:!s.value||!n.value||!t.value,color:"primary",label:"Send",square:"",onClick:u[3]||(u[3]=i=>a())},null,8,["disable"])])])]),_:1}))}}),ia={class:"row items-center"},ca=l("div",{class:"col text-subtitle1 text-weight-thin"},"Address",-1),ua={class:"text-subtitle2"},da={class:"row items-center"},pa=l("div",{class:"col text-subtitle1 text-weight-thin"},"Mint",-1),ma={class:"text-subtitle2"},wa={class:"row items-center"},_a=l("div",{class:"col text-subtitle1 text-weight-thin"},"Unwrapped",-1),va={class:"text-subtitle2"},fa={class:"row items-center"},ga=l("div",{class:"col text-subtitle1 text-weight-thin"},"Balance",-1),ba={class:"text-subtitle2"},ya=A({__name:"WrapperVault",setup(y){B();const r=_(null),s=_(!1);n(),H(()=>{var t,a;return(a=(t=o())==null?void 0:t.wrapperSelected)==null?void 0:a.account},async()=>{await n()});async function n(){var t;!o().wrapperSelected||(r.value=(t=(await Z().connection.getParsedAccountInfo(le(o().wrapperSelected.publicKey,o().wrapperSelected.account.mintUnwrapped))).value)==null?void 0:t.data,r.value&&(s.value=!0))}return(t,a)=>(w(),x(M,{flat:""},{default:c(()=>[e(P),e(V,{class:"col"},{default:c(()=>{var p,u,i;return[l("div",ia,[ca,l("div",ua,W(m(le)(m(o)().wrapperSelected.publicKey,m(o)().wrapperSelected.account.mintUnwrapped)),1)]),l("div",da,[pa,l("div",ma,W((p=m(o)().wrapperSelected.account)==null?void 0:p.mintUnwrapped),1)]),l("div",wa,[_a,l("div",va,W(m(L)().getTokenByMintPublicKey((u=m(o)().wrapperSelected)==null?void 0:u.account.mintUnwrapped).name),1)]),l("div",fa,[ga,l("div",ba,W((i=r.value)==null?void 0:i.parsed.info.tokenAmount.uiAmount),1)])]}),_:1}),e(V,null,{default:c(()=>[e(Te,{wrapper:m(o)().wrapperSelected},null,8,["wrapper"])]),_:1}),e(V,{class:"q-gutter-y-md"},{default:c(()=>[s.value?T("",!0):(w(),x(Jt,{key:0,class:"full-width"})),e(sa)]),_:1})]),_:1}))}}),ha=A({__name:"WrapperMetadataUpdate",props:["name","symbol","uri"],setup(y){const r=y,s=B();async function n(t){var a,p;try{const u=new z,i=K().pg_wrapper.value,d={name:r.name,symbol:r.symbol,uri:r.uri};u.add(await i.methods.metadataUpdate(d).accountsPartial({wrapper:(a=o().wrapperSelected)==null?void 0:a.publicKey,signer:k(),metadata:Y(o().wrapperSelected.account.mintWrapped),mintUnwrapped:(p=o().wrapperSelected)==null?void 0:p.account.mintUnwrapped,tokenProgram:R}).instruction()),await j(u,"[Wrapper] metadata update"),await o().updateStore()}catch(u){console.error(u),s.notify({message:u.message,type:"negative"})}}return(t,a)=>(w(),x(N,{square:"",color:"primary",label:"Apply Metadata",onClick:a[0]||(a[0]=p=>n())}))}}),xa=A({__name:"WrapperMetadataCreate",props:["name","symbol","uri"],setup(y){const r=y,s=B();async function n(t){var a,p;try{const u=new z,i=K().pg_wrapper.value,d={name:r.name,symbol:r.symbol,uri:r.uri};u.add(await i.methods.metadataCreate(d).accountsPartial({wrapper:(a=o().wrapperSelected)==null?void 0:a.publicKey,signer:k(),metadata:Y(o().wrapperSelected.account.mintWrapped),mintUnwrapped:(p=o().wrapperSelected)==null?void 0:p.account.mintUnwrapped,tokenProgram:R}).instruction()),await j(u,"[Wrapper] metadata create"),await o().updateStore()}catch(u){console.error(u),s.notify({message:u.message,type:"negative"})}}return(t,a)=>(w(),x(N,{square:"",color:"primary",label:"Create Metadata",onClick:a[0]||(a[0]=p=>n())}))}}),Sa={class:"row items-center"},Va=l("div",{class:"col text-subtitle1 text-weight-thin"},"Address",-1),Ua={class:"text-subtitle2"},$a={class:"row"},ka=A({__name:"WrapperMetadata",setup(y){B();const r=_(""),s=_(""),n=_(""),t=_(),a=_(),p=_(!1);u(),H(()=>{var i,d;return(d=(i=o())==null?void 0:i.wrapperSelected)==null?void 0:d.account},async()=>{await u()});async function u(){!o().wrapperSelected||(t.value=await Z().connection.getAccountInfo(Y(o().wrapperSelected.account.mintWrapped)),a.value=Ce.deserializeMetadata(t.value),r.value=a.value.name,s.value=a.value.symbol,n.value=a.value.uri,t.value&&(p.value=!0))}return(i,d)=>(w(),x(M,{flat:""},{default:c(()=>[e(V,null,{default:c(()=>[l("div",Sa,[Va,l("div",Ua,W(m(Y)(m(o)().wrapperSelected.publicKey)),1)])]),_:1}),p.value?(w(),x(V,{key:0,class:"col"},{default:c(()=>[l("div",$a,[e(C,{square:"",label:"Name",filled:"",modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=v=>r.value=v)},null,8,["modelValue"]),e(P,{vertical:""}),e(C,{square:"",label:"Symbol",filled:"",modelValue:s.value,"onUpdate:modelValue":d[1]||(d[1]=v=>s.value=v)},null,8,["modelValue"]),e(P,{vertical:""}),e(C,{square:"",label:"Image URI",class:"col",filled:"",modelValue:n.value,"onUpdate:modelValue":d[2]||(d[2]=v=>n.value=v)},null,8,["modelValue"]),e(ha,{name:r.value,symbol:s.value,uri:n.value},null,8,["name","symbol","uri"])])]),_:1})):(w(),x(V,{key:1,class:"row justify-end"},{default:c(()=>[e(xa,{name:r.value,symbol:s.value,uri:n.value},null,8,["name","symbol","uri"])]),_:1}))]),_:1}))}}),Wa=l("div",{class:"text-h5"},"WrapperInterface Factory",-1),Aa=l("div",{class:"text-caption text-grey"}," Small plates, salads & sandwiches in an intimate setting. ",-1),Ca={class:"row q-gutter-x-md"},qa={class:"text-caption text-grey text-right"},Pa={class:"row"},Ta=l("div",{class:"text-h6 text-red-6 col"}," I know what im doing i want to close a wrapper ",-1),Ia=A({__name:"WrapperManage",setup(y){const r=_("select"),s=_(!1);return(n,t)=>(w(),x(M,{flat:"",bordered:""},{default:c(()=>[e(V,null,{default:c(()=>[Wa,Aa]),_:1}),e(P),e(oe,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=a=>r.value=a),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:c(()=>[e(G,{name:"create",label:"Create"}),e(G,{name:"select",label:"Edit"}),e(G,{name:"close",label:"Close"})]),_:1},8,["modelValue"]),e(P),e(ue,{modelValue:r.value,"onUpdate:modelValue":t[4]||(t[4]=a=>r.value=a),animated:""},{default:c(()=>[e(X,{name:"create"},{default:c(()=>[e(Ut)]),_:1}),e(X,{name:"select"},{default:c(()=>[e(M,{flat:""},{default:c(()=>{var a;return[e(V,null,{default:c(()=>[l("div",Ca,[e(ve,{label:"Select a wrapper",class:"col",filled:"",modelValue:m(o)().wrapperSelected,"onUpdate:modelValue":t[1]||(t[1]=p=>m(o)().wrapperSelected=p),options:m(o)().getWrapperByGroup(m(o)().groupSelected),"option-label":p=>{var u,i;return"[Wrapped] "+(((u=m(L)().tokenList.find(d=>{var v,$;return d.address==(($=(v=p.account)==null?void 0:v.mintUnwrapped)==null?void 0:$.toString())}))==null?void 0:u.name)??((i=p.account)==null?void 0:i.mintUnwrapped.toString())??"")}},null,8,["modelValue","options","option-label"])]),l("div",qa," Total Found: "+W(m(o)().wrapper.length),1)]),_:1}),(a=m(o)().wrapperSelected)!=null&&a.account?(w(),x(V,{key:0,class:"row full-width"},{default:c(()=>[e(Oe,{bordered:"",class:"rounded-borders full-width"},{default:c(()=>[e(re,{class:"text-h5",icon:"info",label:"Info"},{default:c(()=>[e(Pt)]),_:1}),e(P),e(re,{class:"text-h5",icon:"settings",label:"Settings"},{default:c(()=>[e(Ht)]),_:1}),e(P),e(re,{class:"text-h5",icon:"note_add",label:"Metadata"},{default:c(()=>[e(ka)]),_:1}),e(P),e(re,{class:"text-h5","default-opened":"",icon:"inventory_2",label:"Vault"},{default:c(()=>[e(ya)]),_:1})]),_:1})]),_:1})):T("",!0)]}),_:1})]),_:1}),e(X,{name:"close"},{default:c(()=>[e(M,{flat:""},{default:c(()=>{var a;return[e(V,null,{default:c(()=>[l("div",Pa,[e(ve,{label:"Select a wrapper",class:"col",filled:"",modelValue:m(o)().wrapperSelected,"onUpdate:modelValue":t[2]||(t[2]=p=>m(o)().wrapperSelected=p),options:m(o)().getWrapperByGroup(m(o)().groupSelected),"option-label":p=>{var u,i;return"[Wrapped] "+(((u=m(L)().tokenList.find(d=>{var v,$;return d.address==(($=(v=p.account)==null?void 0:v.mintUnwrapped)==null?void 0:$.toString())}))==null?void 0:u.name)??((i=p.account)==null?void 0:i.mintUnwrapped.toString())??"")}},null,8,["modelValue","options","option-label"]),e(Tt,{disabled:!s.value},null,8,["disabled"])])]),_:1}),(a=m(o)().wrapperSelected)!=null&&a.account?(w(),x(V,{key:0,class:"row justify-between"})):T("",!0)]}),_:1}),e(V,{class:"row items-center"},{default:c(()=>[e(ye,{color:"red",modelValue:s.value,"onUpdate:modelValue":t[3]||(t[3]=a=>s.value=a)},null,8,["modelValue"]),Ta]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}}),Ma={class:"col q-gutter-y-md"},Ka=A({__name:"WrapperWrap",props:["wrapper"],setup(y){const r=B(),s=_(0),n=y,t=F(()=>n.wrapper.account.useLimit?n.wrapper.account.limitAmountUnwrapped.toNumber():0),a=F(()=>n.wrapper.account.useLimit?s.value<=t.value:!0);async function p(){var i,d;try{const v=new z,$=K().pg_wrapper.value,U=n.wrapper,g=de(s.value,((i=L().getTokenByMintPublicKey(U==null?void 0:U.account.mintUnwrapped))==null?void 0:i.decimals)??((d=ae().getAccountByMintPublicKey(U==null?void 0:U.account.mintUnwrapped))==null?void 0:d.decimals)??0);await Z().connection.getAccountInfo(J(k().toString(),n.wrapper.account.mintWrapped.toString()))||v.add(qe(k(),J(k().toString(),n.wrapper.account.mintWrapped.toString()),k(),n.wrapper.account.mintWrapped,R,$e));let Q=n.wrapper.account.useWhitelist?n.wrapper.account.whitelist:null,O=n.wrapper.account.useWhitelist?We(Q):null;v.add(await $.methods.wrap(g).accountsPartial({signer:k(),wrapper:U.publicKey,mintUnwrapped:U.account.mintUnwrapped,signerUnwrapped:J(k().toString(),U.account.mintUnwrapped.toString()),signerWrapped:J(k().toString(),n.wrapper.account.mintWrapped.toString()),tokenProgram:R,whitelist:Q,whitelistEntry:O,whitelistProgram:Ae}).instruction()),await j(v,"[Wrapper] wrap tokens"),await o().updateStore(),await ae().updateStore()}catch(v){console.error(v),r.notify({message:v.message,type:"negative"})}}const u=F(()=>!n.wrapper.account.allowWrap||n.wrapper.account.limitAmountUnwrapped.toNumber()==0);return(i,d)=>(w(),q("div",Ma,[e(C,{class:"col",disable:u.value,filled:"",hint:`Max ${t.value} allowed to wrap`,type:"number","bottom-slots":"",error:!a.value,"error-message":`Max ${t.value} allowed to wrap`,modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=v=>s.value=v)},null,8,["disable","hint","error","error-message","modelValue"]),e(N,{class:"full-width",disable:u.value,color:"primary",label:"Wrap","icon-right":"send",onClick:d[1]||(d[1]=v=>p())},null,8,["disable"]),e(Pe,{mint:n.wrapper.account.mintUnwrapped},null,8,["mint"])]))}}),Qa={class:"col q-gutter-y-md"},Ba=A({__name:"WrapperUnwrap",props:["wrapper"],setup(y){const r=B(),s=_(0),n=_(0),t=y,a=F(()=>s.value<=n.value);ne(async()=>{const i=(await Z().connection.getTokenAccountBalance(le(t.wrapper.publicKey,t.wrapper.account.mintUnwrapped))).value;n.value=i.uiAmount??0});async function p(i){var d,v;try{const $=new z,U=K().pg_wrapper.value,g=t.wrapper,S=de(s.value,(d=ae().getAccountByMintPublicKey(g==null?void 0:g.account.mintUnwrapped))==null?void 0:d.decimals);let Q=t.wrapper.account.useWhitelist?t.wrapper.account.whitelist:null,O=t.wrapper.account.useWhitelist?We(Q):null;$.add(await U.methods.unwrap(S).accountsPartial({signer:k(),wrapper:g.publicKey,mintUnwrapped:g.account.mintUnwrapped,signerUnwrapped:new E(((v=ae().accounts.find(I=>I.mint.toString()==g.account.mintUnwrapped.toString()))==null?void 0:v.pubkey)??""),signerWrapped:J(ke().publicKey.value.toString(),t.wrapper.account.mintWrapped.toString()),tokenProgram:R,whitelist:Q,whitelistEntry:O,whitelistProgram:Ae}).instruction()),await j($,"[Wrapper] unwrap tokens"),await o().updateStore(),await ae().updateStore()}catch($){console.error($),r.notify({message:$.message,type:"negative"})}}const u=F(()=>!t.wrapper.account.allowWrap);return(i,d)=>(w(),q("div",Qa,[e(C,{class:"col",square:"",disable:u.value,filled:"",type:"number",modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=v=>s.value=v),hint:`Max ${n.value} allowed to unwrap`,"bottom-slots":"","error-message":`Max ${n.value} allowed to unwrap`,error:!a.value},null,8,["disable","modelValue","hint","error-message","error"]),e(N,{class:"full-width",disable:u.value,color:"primary",label:"Unwrap","icon-right":"send",onClick:d[1]||(d[1]=v=>p())},null,8,["disable"]),e(Pe,{mint:t.wrapper.account.mintWrapped},null,8,["mint"])]))}}),La={class:"row items-center"},Ra={class:"text-h4"},Na={class:"text-h4"},Ga=A({__name:"WrapperImageAsync",props:["wrapper"],setup(y){const r=y,s=_(),n=_();ne(async()=>{s.value=await t(r.wrapper.account.mintUnwrapped),n.value=await t(r.wrapper.account.mintWrapped)}),H(()=>r.wrapper,async()=>{s.value=await t(r.wrapper.account.mintUnwrapped),n.value=await t(r.wrapper.account.mintWrapped)});async function t(a){if(L().getTokenByMintPublicKey(a))return L().getTokenByMintPublicKey(a).logoURI;const u=Y(a),i=await Z().connection.getAccountInfo(u);return Ce.deserializeMetadata(i).uri}return(a,p)=>(w(),q("div",La,[l("div",null,[e(_e,{size:"100px"},{default:c(()=>{var u;return[n.value?(w(),x(ie,{key:0,src:s.value},null,8,["src"])):(w(),x(ie,{key:1,src:((u=m(L)().tokenList.find(i=>{var d;return i.address==((d=y.wrapper.account)==null?void 0:d.mintUnwrapped.toString())}))==null?void 0:u.logoURI)??m(Se)},null,8,["src"]))]}),_:1}),l("div",Ra,W(r.wrapper.account.ratio[0]),1)]),e(ce,{class:"col",size:"xl",name:"swap_horiz"}),l("div",null,[e(_e,{size:"100px"},{default:c(()=>{var u;return[n.value?(w(),x(ie,{key:0,src:n.value},null,8,["src"])):(w(),x(ie,{key:1,src:((u=m(L)().tokenList.find(i=>{var d;return i.address==((d=y.wrapper.account)==null?void 0:d.mintWrapped.toString())}))==null?void 0:u.logoURI)??m(Se)},null,8,["src"]))]}),_:1}),l("div",Na,W(r.wrapper.account.ratio[1]),1)])]))}}),Ea=l("img",{src:"solscan.png"},null,-1),we=A({__name:"WrapperSolscanLink",props:["account"],setup(y){const r=y;return(s,n)=>(w(),x(N,{href:`https://solscan.io/account/${r.account}`,target:"_blank",color:"primary",dense:""},{default:c(()=>[e(_e,{size:"20px"},{default:c(()=>[Ea]),_:1})]),_:1},8,["href"]))}});const za={class:"q-pa-md"},ja={class:"q-pa-xs col-xs-12 col-sm-6 col-md-3"},Oa={class:"row items-center"},Da=l("div",{class:"col text-subtitle1 text-weight-thin"},"Group",-1),Xa={class:"text-subtitle2"},Fa={class:"row items-center"},Za=l("div",{class:"col text-subtitle1 text-weight-thin"},"Pair",-1),Ha={class:"text-subtitle2 row q-gutter-x-xs"},Ja=l("div",null,"/",-1),Ya={class:"row items-center"},el=l("div",{class:"col text-subtitle1 text-weight-thin"},"Wrappable",-1),tl={key:1},al={class:"row items-center"},ll=l("div",{class:"col text-subtitle1 text-weight-thin"},"Address",-1),nl={class:"text-subtitle2"},ol={class:"row items-center"},rl=l("div",{class:"col text-subtitle1 text-weight-thin"},"Unwrapped",-1),sl={class:"text-subtitle2"},il={class:"row items-center"},cl=l("div",{class:"col text-subtitle1 text-weight-thin"},"Wrapped",-1),ul={class:"text-subtitle2"},dl=l("div",{class:"text-center text-subtitle2"},"Status",-1),pl=l("div",null,null,-1),ml={class:"col q-gutter-x-md"},wl=A({__name:"WrapperTable",setup(y){const r=_("wrap");L();const s=B();function n(){return s.screen.lt.sm?3:s.screen.lt.md?6:9}const t=_(""),a=_({page:1,rowsPerPage:n()});return H(()=>s.screen.name,()=>{a.value.rowsPerPage=n()}),se(""),F(()=>s.screen.gt.xs?s.screen.gt.sm?[3,6,9]:[3,6]:[3]),(p,u)=>(w(),q("div",za,[m(o)().groupSelected?(w(),x(je,{key:0,grid:"","hide-header":"","hide-bottom":"",rows:m(o)().getWrapperByGroup(m(o)().groupSelected),"row-key":"name",filter:t.value,pagination:a.value,"onUpdate:pagination":u[2]||(u[2]=i=>a.value=i),"rows-per-page-options":[0]},{item:c(i=>[l("div",ja,[e(M,{flat:"",bordered:""},{default:c(()=>[e(V,{class:"text-center"},{default:c(()=>[e(Ga,{wrapper:i.row},null,8,["wrapper"])]),_:2},1024),e(V,{class:"q-gutter-y-xs"},{default:c(()=>{var d,v,$,U,g,S,Q,O,I;return[l("div",Oa,[Da,l("div",Xa,W(m(o)().groups.find(f=>f.publicKey.toString()==i.row.account.group.toString()).account.name),1)]),l("div",Fa,[Za,l("div",Ha,[l("div",null,W(m(L)().tokenList.find(f=>f.address==i.row.account.mintUnwrapped.toString()).symbol),1),Ja,l("div",null," W"+W(m(L)().tokenList.find(f=>f.address==i.row.account.mintUnwrapped.toString()).symbol),1)])]),l("div",Ya,[el,l("div",{class:Ne(i.row.account.useLimit==!0&&((d=i.row)==null?void 0:d.account.limitAmountUnwrapped)==0?"text-red":"")},[(v=i.row)!=null&&v.account.useLimit?(w(),x(fe,{key:0,number:($=i.row)==null?void 0:$.account.limitAmountUnwrapped.toNumber(),decimals:4,"pad-start":10},null,8,["number"])):(w(),q("div",tl,"Unlimited"))],2)]),l("div",al,[ll,l("div",nl,[ee(W(m(se)((g=(U=i.row)==null?void 0:U.publicKey)==null?void 0:g.toString()))+" ",1),e(we,{account:i.row.publicKey},null,8,["account"])])]),l("div",ol,[rl,l("div",sl,[ee(W(m(se)((Q=(S=i.row)==null?void 0:S.account.mintUnwrapped)==null?void 0:Q.toString()))+" ",1),e(we,{account:i.row.account.mintUnwrapped},null,8,["account"])])]),l("div",il,[cl,l("div",ul,[ee(W(m(se)((I=(O=i.row)==null?void 0:O.account.mintWrapped)==null?void 0:I.toString()))+" ",1),e(we,{account:i.row.account.mintWrapped},null,8,["account"])])])]}),_:2},1024),e(P),e(Fe,{class:"row"},{default:c(()=>[e(M,{class:"col q-mx-sm",flat:"",bordered:""},{default:c(()=>[e(V,null,{default:c(()=>[dl]),_:1}),e(P),pl,e(V,null,{default:c(()=>[e(Te,{mintWrapped:i.row.account.mintWrapped.toString(),mintUnwrapped:i.row.account.mintUnwrapped.toString(),wrapper:i.row},null,8,["mintWrapped","mintUnwrapped","wrapper"])]),_:2},1024)]),_:2},1024)]),_:2},1024),m(ke)().publicKey.value?(w(),x(V,{key:1,class:"col"},{default:c(()=>[e(M,{flat:"",bordered:""},{default:c(()=>[l("div",ml,[e(oe,{modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=d=>r.value=d),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:c(()=>[e(G,{name:"wrap",label:"Wrap"}),e(G,{name:"unwrap",label:"Unwrap"})]),_:1},8,["modelValue"]),e(P),e(ue,{modelValue:r.value,"onUpdate:modelValue":u[1]||(u[1]=d=>r.value=d),animated:""},{default:c(()=>[e(X,{name:"wrap"},{default:c(()=>[e(Ka,{class:"col",wrapper:i.row},null,8,["wrapper"])]),_:2},1024),e(X,{name:"unwrap"},{default:c(()=>[e(Ba,{class:"col",wrapper:i.row},null,8,["wrapper"])]),_:2},1024)]),_:2},1032,["modelValue"])])]),_:2},1024)]),_:2},1024)):(w(),x(V,{key:0,class:"row justify-center"},{default:c(()=>[e(m(Ge),{dark:""})]),_:1}))]),_:2},1024)])]),_:1},8,["rows","filter","pagination"])):T("",!0)]))}}),_l=l("div",{class:"col text-h6"},"Token Wrapper Interface",-1),vl={class:"row"},Fl=A({__name:"WrapperPage",setup(y){const r=_("wrapping");return o(),H(()=>o().enableManage,()=>{o().enableManage||(r.value="wrapping")}),ne(async()=>{K()||Ee(),await o().updateStore()}),(s,n)=>(w(),x(ze,{class:"bg-black"},{default:c(()=>[e(M,null,{default:c(()=>[e(V,{class:"row items-center q-gutter-x-md"},{default:c(()=>[e(ce,{name:"inventory_2",size:"md"}),_l,e(D,{dense:"","left-label":"",label:"Enable Management",modelValue:m(o)().enableManage,"onUpdate:modelValue":n[0]||(n[0]=t=>m(o)().enableManage=t),"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue"])]),_:1}),e(P),m(o)().enableManage?(w(),x(oe,{key:0,modelValue:r.value,"onUpdate:modelValue":n[1]||(n[1]=t=>r.value=t),class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify"},{default:c(()=>[e(G,{name:"wrapping",label:"Wrap / Unwrap"}),e(G,{name:"manage",label:"Manage"})]),_:1},8,["modelValue"])):T("",!0),e(P),e(ue,{modelValue:r.value,"onUpdate:modelValue":n[2]||(n[2]=t=>r.value=t),animated:""},{default:c(()=>[e(X,{name:"wrapping"},{default:c(()=>[l("div",vl,[e(ge,{"as-tabs":"true",class:"col"})]),e(wl)]),_:1}),e(X,{name:"manage",class:"row q-gutter-x-md"},{default:c(()=>{var t;return[e(ft,{class:"col-3"}),(t=m(o)().groupSelected)!=null&&t.account?(w(),x(Ia,{key:0,class:"col"})):T("",!0)]}),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}))}});export{Fl as default};
